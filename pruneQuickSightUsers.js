// This file is committed because Terraform needs it to be there. Source code is in src folder
/*! For license information please see pruneQuickSightUsers.js.LICENSE.txt */
(()=>{var e={1446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(2717),s=n(7658),o=n(4079),i=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,s.isEmptyData)(e)||this.crc32.update((0,s.convertToBuffer)(e))},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,(0,s.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new o.Crc32},e}();t.AwsCrc32=i},4079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(2717),s=n(7658);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var s=r.__values(e),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var i=(0,s.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(1446);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},2717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>_,__asyncValues:()=>b,__await:()=>w,__awaiter:()=>l,__classPrivateFieldGet:()=>P,__classPrivateFieldSet:()=>C,__createBinding:()=>p,__decorate:()=>a,__exportStar:()=>h,__extends:()=>s,__generator:()=>d,__importDefault:()=>x,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>m,__rest:()=>i,__spread:()=>g,__spreadArrays:()=>y,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},o.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:s?s(t):t}:s}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,s,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),s="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var s=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return s.isEmptyData}});var o=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var i=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},2084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>s});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const s=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),s=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const s=e[++n];t+=String.fromCharCode((31&r)<<6|63&s)}else if(240<=r&&r<365){const s="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},4378:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.extractRegionFromEndpoint=t.buildMqtt5FinalUsername=t.populate_username_string_with_custom_authorizer=t.is_string_and_not_empty=t.add_to_username_parameter=void 0;const i=o(n(6843));function a(e,t,n){let r=e;return-1!=r.indexOf("?")?r+="&":r+="?",-1!=t.indexOf(n)?r+t:r+n+t}function c(e){return null!=e&&"string"==typeof e&&""!=e}function u(e,t,n){t&&n.push([e,t])}t.add_to_username_parameter=a,t.is_string_and_not_empty=c,t.populate_username_string_with_custom_authorizer=function(e,t,n,r,s,o,i){let u="";if(e&&(u+=e),0==c(t)?c(s)&&s&&(u+=s):u+=t,c(n)&&n&&(u=a(u,n,"x-amz-customauthorizer-name=")),c(r)&&r&&(u=a(u,r,"x-amz-customauthorizer-signature="),(c(o)&&o||c(i)&&i)&&console.log("Warning: Signed custom authorizers with signature will not work without a token key name and token value. Your connection may be rejected/stalled on the IoT Core side due to this. Please set the token key name and token value to connect to a signed custom authorizer.")),c(r)||c(i)||c(o)){if(!i||!o)throw new Error("Token-based custom authentication requires all token-related properties to be set");u=a(u,i,o+"=")}return u},t.buildMqtt5FinalUsername=function(e){let t="",n=[];if(e){let r=!1;if((e.tokenValue||e.tokenKeyName||e.tokenSignature)&&(r=!0,!e.tokenValue||!e.tokenKeyName||!e.tokenSignature))throw new Error("Token-based custom authentication requires all token-related properties to be set");let s=e.username,o=(null!=s?s:"").split("?"),i=o.slice(1);if(t=o[0],i.length>1)throw new Error("Custom auth username property value is invalid");1==i.length&&i[0].split("&").forEach(((e,t,r)=>{var s;let o=e.split("=");n.push([o[0],null!==(s=o[1])&&void 0!==s?s:""])})),u("x-amz-customauthorizer-name",e.authorizerName,n),r&&(u(e.tokenKeyName,e.tokenValue,n),u("x-amz-customauthorizer-signature",e.tokenSignature,n))}return n.push(["SDK","NodeJSv2"]),n.push(["Version",i.crt_version()]),(null!=t?t:"")+"?"+n.map((e=>`${e[0]}=${e[1]}`)).join("&")},t.extractRegionFromEndpoint=function(e){const t=e.match(/^[\w\-]+\.[\w\-]+\.([\w+\-]+)\./);if(t)return t[1];throw new Error("AWS region could not be extracted from endpoint.  Use 'region' property on WebsocketConfig to set manually.")}},7482:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.newCancellablePromiseFromNextEvent=t.CancelController=t.EVENT_NAME=void 0;const i=n(2361),a=o(n(7113));t.EVENT_NAME="cancelled",t.CancelController=class{constructor(e){this.cancelled=!1,e&&e.emitterFactory?this.emitter=e.emitterFactory():this.emitter=new i.EventEmitter}cancel(){this.cancelled||(this.cancelled=!0,this.emitter.emit(t.EVENT_NAME),this.emitter.removeAllListeners(t.EVENT_NAME))}hasBeenCancelled(){return this.cancelled}addListener(e){if(!this.cancelled)return this.emitter.on(t.EVENT_NAME,e),()=>{this.emitter.removeListener(t.EVENT_NAME,e)};e()}},t.newCancellablePromiseFromNextEvent=function(e){let t,n,r=a.newLiftedPromise();return t=t=>{try{e.eventDataTransformer?r.resolve(e.eventDataTransformer(t)):r.resolve(t)}catch(e){r.reject(e)}},e.emitter.addListener(e.eventName,t),e.cancelController&&(n=e.cancelController.addListener((()=>{r.reject(e.cancelMessage)}))),a.makeSelfCleaningPromise(r.promise,(()=>{t&&e.emitter.removeListener(e.eventName,t),n&&n()}))}},9651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedEventEmitter=void 0;const r=n(2361);class s{constructor(e,t){this.event=e,this.args=t}}class o extends r.EventEmitter{constructor(){super(),this.corked=!1}cork(){this.corked=!0}uncork(){for(this.corked=!1;this.eventQueue;){const e=this.eventQueue;super.emit(e.event,...e.args),this.eventQueue=this.eventQueue.next}}emit(e,...t){if(this.corked){let n=this.lastQueuedEvent;return this.lastQueuedEvent=new s(e,t),n?n.next=this.lastQueuedEvent:this.eventQueue=this.lastQueuedEvent,this.listeners(e).length>0}return super.emit(e,...t)}}t.BufferedEventEmitter=o},3804:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.CommonHttpProxyOptions=t.HttpProxyAuthenticationType=t.HttpVersion=void 0,(r=t.HttpVersion||(t.HttpVersion={}))[r.Unknown=0]="Unknown",r[r.Http1_0=1]="Http1_0",r[r.Http1_1=2]="Http1_1",r[r.Http2=3]="Http2",function(e){e[e.None=0]="None",e[e.Basic=1]="Basic"}(n=t.HttpProxyAuthenticationType||(t.HttpProxyAuthenticationType={})),t.CommonHttpProxyOptions=class{constructor(e,t,r=n.None,s,o){this.host_name=e,this.port=t,this.auth_method=r,this.auth_username=s,this.auth_password=o}}},9712:(e,t)=>{"use strict";var n,r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.SocketDomain=t.SocketType=t.TlsVersion=void 0,(s=t.TlsVersion||(t.TlsVersion={}))[s.SSLv3=0]="SSLv3",s[s.TLSv1=1]="TLSv1",s[s.TLSv1_1=2]="TLSv1_1",s[s.TLSv1_2=3]="TLSv1_2",s[s.TLSv1_3=4]="TLSv1_3",s[s.Default=128]="Default",(r=t.SocketType||(t.SocketType={}))[r.STREAM=0]="STREAM",r[r.DGRAM=1]="DGRAM",(n=t.SocketDomain||(t.SocketDomain={}))[n.IPV4=0]="IPV4",n[n.IPV6=1]="IPV6",n[n.LOCAL=2]="LOCAL"},5641:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RECONNECT_MIN_SEC=t.DEFAULT_RECONNECT_MAX_SEC=t.MqttWill=t.QoS=void 0,(n=t.QoS||(t.QoS={}))[n.AtMostOnce=0]="AtMostOnce",n[n.AtLeastOnce=1]="AtLeastOnce",n[n.ExactlyOnce=2]="ExactlyOnce",t.MqttWill=class{constructor(e,t,n,r=!1){this.topic=e,this.qos=t,this.payload=n,this.retain=r}},t.DEFAULT_RECONNECT_MAX_SEC=128,t.DEFAULT_RECONNECT_MIN_SEC=1},5018:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.RetryJitterType=t.ClientSessionBehavior=void 0,(r=t.ClientSessionBehavior||(t.ClientSessionBehavior={}))[r.Default=0]="Default",r[r.Clean=1]="Clean",r[r.RejoinPostSuccess=2]="RejoinPostSuccess",r[r.RejoinAlways=3]="RejoinAlways",(n=t.RetryJitterType||(t.RetryJitterType={}))[n.Default=0]="Default",n[n.None=1]="None",n[n.Full=2]="Full",n[n.Decorrelated=3]="Decorrelated"},202:(e,t)=>{"use strict";var n,r,s,o,i,a,c,u,l;Object.defineProperty(t,"__esModule",{value:!0}),t.PacketType=t.RetainHandlingType=t.QoS=t.PayloadFormatIndicator=t.isSuccessfulPubackReasonCode=t.PubackReasonCode=t.isSuccessfulUnsubackReasonCode=t.UnsubackReasonCode=t.isSuccessfulSubackReasonCode=t.SubackReasonCode=t.isSuccessfulDisconnectReasonCode=t.DisconnectReasonCode=t.isSuccessfulConnectReasonCode=t.ConnectReasonCode=void 0,(l=t.ConnectReasonCode||(t.ConnectReasonCode={}))[l.Success=0]="Success",l[l.UnspecifiedError=128]="UnspecifiedError",l[l.MalformedPacket=129]="MalformedPacket",l[l.ProtocolError=130]="ProtocolError",l[l.ImplementationSpecificError=131]="ImplementationSpecificError",l[l.UnsupportedProtocolVersion=132]="UnsupportedProtocolVersion",l[l.ClientIdentifierNotValid=133]="ClientIdentifierNotValid",l[l.BadUsernameOrPassword=134]="BadUsernameOrPassword",l[l.NotAuthorized=135]="NotAuthorized",l[l.ServerUnavailable=136]="ServerUnavailable",l[l.ServerBusy=137]="ServerBusy",l[l.Banned=138]="Banned",l[l.BadAuthenticationMethod=140]="BadAuthenticationMethod",l[l.TopicNameInvalid=144]="TopicNameInvalid",l[l.PacketTooLarge=149]="PacketTooLarge",l[l.QuotaExceeded=151]="QuotaExceeded",l[l.PayloadFormatInvalid=153]="PayloadFormatInvalid",l[l.RetainNotSupported=154]="RetainNotSupported",l[l.QosNotSupported=155]="QosNotSupported",l[l.UseAnotherServer=156]="UseAnotherServer",l[l.ServerMoved=157]="ServerMoved",l[l.ConnectionRateExceeded=159]="ConnectionRateExceeded",t.isSuccessfulConnectReasonCode=function(e){return e<128},(u=t.DisconnectReasonCode||(t.DisconnectReasonCode={}))[u.NormalDisconnection=0]="NormalDisconnection",u[u.DisconnectWithWillMessage=4]="DisconnectWithWillMessage",u[u.UnspecifiedError=128]="UnspecifiedError",u[u.MalformedPacket=129]="MalformedPacket",u[u.ProtocolError=130]="ProtocolError",u[u.ImplementationSpecificError=131]="ImplementationSpecificError",u[u.NotAuthorized=135]="NotAuthorized",u[u.ServerBusy=137]="ServerBusy",u[u.ServerShuttingDown=139]="ServerShuttingDown",u[u.KeepAliveTimeout=141]="KeepAliveTimeout",u[u.SessionTakenOver=142]="SessionTakenOver",u[u.TopicFilterInvalid=143]="TopicFilterInvalid",u[u.TopicNameInvalid=144]="TopicNameInvalid",u[u.ReceiveMaximumExceeded=147]="ReceiveMaximumExceeded",u[u.TopicAliasInvalid=148]="TopicAliasInvalid",u[u.PacketTooLarge=149]="PacketTooLarge",u[u.MessageRateTooHigh=150]="MessageRateTooHigh",u[u.QuotaExceeded=151]="QuotaExceeded",u[u.AdministrativeAction=152]="AdministrativeAction",u[u.PayloadFormatInvalid=153]="PayloadFormatInvalid",u[u.RetainNotSupported=154]="RetainNotSupported",u[u.QosNotSupported=155]="QosNotSupported",u[u.UseAnotherServer=156]="UseAnotherServer",u[u.ServerMoved=157]="ServerMoved",u[u.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",u[u.ConnectionRateExceeded=159]="ConnectionRateExceeded",u[u.MaximumConnectTime=160]="MaximumConnectTime",u[u.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",u[u.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported",t.isSuccessfulDisconnectReasonCode=function(e){return e<128},(c=t.SubackReasonCode||(t.SubackReasonCode={}))[c.GrantedQoS0=0]="GrantedQoS0",c[c.GrantedQoS1=1]="GrantedQoS1",c[c.GrantedQoS2=2]="GrantedQoS2",c[c.UnspecifiedError=128]="UnspecifiedError",c[c.ImplementationSpecificError=131]="ImplementationSpecificError",c[c.NotAuthorized=135]="NotAuthorized",c[c.TopicFilterInvalid=143]="TopicFilterInvalid",c[c.PacketIdentifierInUse=145]="PacketIdentifierInUse",c[c.QuotaExceeded=151]="QuotaExceeded",c[c.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",c[c.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",c[c.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported",t.isSuccessfulSubackReasonCode=function(e){return e<128},(a=t.UnsubackReasonCode||(t.UnsubackReasonCode={}))[a.Success=0]="Success",a[a.NoSubscriptionExisted=17]="NoSubscriptionExisted",a[a.UnspecifiedError=128]="UnspecifiedError",a[a.ImplementationSpecificError=131]="ImplementationSpecificError",a[a.NotAuthorized=135]="NotAuthorized",a[a.TopicFilterInvalid=143]="TopicFilterInvalid",a[a.PacketIdentifierInUse=145]="PacketIdentifierInUse",t.isSuccessfulUnsubackReasonCode=function(e){return e<128},(i=t.PubackReasonCode||(t.PubackReasonCode={}))[i.Success=0]="Success",i[i.NoMatchingSubscribers=16]="NoMatchingSubscribers",i[i.UnspecifiedError=128]="UnspecifiedError",i[i.ImplementationSpecificError=131]="ImplementationSpecificError",i[i.NotAuthorized=135]="NotAuthorized",i[i.TopicNameInvalid=144]="TopicNameInvalid",i[i.PacketIdentifierInUse=145]="PacketIdentifierInUse",i[i.QuotaExceeded=151]="QuotaExceeded",i[i.PayloadFormatInvalid=153]="PayloadFormatInvalid",t.isSuccessfulPubackReasonCode=function(e){return e<128},(o=t.PayloadFormatIndicator||(t.PayloadFormatIndicator={}))[o.Bytes=0]="Bytes",o[o.Utf8=1]="Utf8",(s=t.QoS||(t.QoS={}))[s.AtMostOnce=0]="AtMostOnce",s[s.AtLeastOnce=1]="AtLeastOnce",s[s.ExactlyOnce=2]="ExactlyOnce",(r=t.RetainHandlingType||(t.RetainHandlingType={}))[r.SendOnSubscribe=0]="SendOnSubscribe",r[r.SendOnSubscribeIfNew=1]="SendOnSubscribeIfNew",r[r.DontSend=2]="DontSend",(n=t.PacketType||(t.PacketType={}))[n.Connect=1]="Connect",n[n.Connack=2]="Connack",n[n.Publish=3]="Publish",n[n.Puback=4]="Puback",n[n.Pubrec=5]="Pubrec",n[n.Pubrel=6]="Pubrel",n[n.Pubcomp=7]="Pubcomp",n[n.Subscribe=8]="Subscribe",n[n.Suback=9]="Suback",n[n.Unsubscribe=10]="Unsubscribe",n[n.Unsuback=11]="Unsuback",n[n.Pingreq=12]="Pingreq",n[n.Pingresp=13]="Pingresp",n[n.Disconnect=14]="Disconnect",n[n.Auth=15]="Auth"},4231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_KEEP_ALIVE=t.normalize_payload=void 0,t.normalize_payload=function(e){if(e instanceof Buffer)return e;if("string"==typeof e)return e;if(ArrayBuffer.isView(e)){const t=e;return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}if(e instanceof ArrayBuffer)return Buffer.from(e);if("object"==typeof e)return JSON.stringify(e);if(!e)return"";throw new TypeError("payload parameter must be a string, object, or DataView.")},t.DEFAULT_KEEP_ALIVE=1200},6843:(e,t,n)=>{"use strict";function r(){return"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node}function s(){try{return n(5062)}catch(e){return{name:"aws-crt-nodejs",version:"UNKNOWN"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.crt_version=t.package_info=t.is_browser=t.is_nodejs=void 0,t.is_nodejs=r,t.is_browser=function(){return!r()},t.package_info=s,t.crt_version=function(){return s().version}},7113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newLiftedPromise=t.makeSelfCleaningPromise=void 0,t.makeSelfCleaningPromise=function(e,t){return t?e.finally((()=>{t()})):e},t.newLiftedPromise=function(e){let t,n,r=new Promise(((e,r)=>{t=e,n=r}));if(!t||!n)throw new Error("Failed to bind resolve and reject when making lifted promise");return e&&e(t,n),{promise:r,resolve:t,reject:n}}},4103:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0,t.using=function(e,t){return n(this,void 0,void 0,(function*(){try{yield t(e)}finally{e.close()}}))}},8687:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CrtError=t.resource_safety=t.promise=t.platform=t.mqtt5=t.mqtt=t.iot=t.io=t.http=t.eventstream=t.crt=t.crypto=t.checksums=t.cancel=t.auth=void 0;const i=o(n(7482));t.cancel=i;const a=o(n(6843));t.platform=a;const c=o(n(7113));t.promise=c;const u=o(n(4103));t.resource_safety=u;const l=o(n(7822));t.auth=l;const d=o(n(5988));t.checksums=d;const p=o(n(7227));t.crt=p;const h=o(n(5145));t.crypto=h;const f=o(n(7259));t.eventstream=f;const m=o(n(8415));t.http=m;const g=o(n(3787));t.io=g;const y=o(n(9793));t.iot=y;const w=o(n(799));t.mqtt=w;const _=o(n(2385));t.mqtt5=_;const v=n(2875);Object.defineProperty(t,"CrtError",{enumerable:!0,get:function(){return v.CrtError}})},7822:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.aws_verify_sigv4a_signing=t.aws_sign_request=t.AwsSignedBodyHeaderType=t.AwsSignedBodyValue=t.AwsSignatureType=t.AwsSigningAlgorithm=t.AwsCredentialsProvider=void 0;const o=s(n(1221)),i=n(2875),a=n(3787);class c extends o.default.AwsCredentialsProvider{static newDefault(e=void 0){return super.newDefault(null!=e?e.native_handle():null)}static newStatic(e,t,n){return super.newStatic(e,t,n)}static newCognito(e){if(null==e||null==e)throw new i.CrtError("AwsCredentialsProvider newCognito: Cognito config not defined");return super.newCognito(e,null!=e.tlsContext?e.tlsContext.native_handle():(new a.ClientTlsContext).native_handle(),null!=e.bootstrap?e.bootstrap.native_handle():null,e.httpProxyOptions?e.httpProxyOptions.create_native_handle():null)}static newX509(e){if(null==e||null==e)throw new i.CrtError("AwsCredentialsProvider newX509: X509 config not defined");return super.newX509(e,e.tlsContext.native_handle(),e.httpProxyOptions?e.httpProxyOptions.create_native_handle():null)}}var u,l,d,p;t.AwsCredentialsProvider=c,(p=t.AwsSigningAlgorithm||(t.AwsSigningAlgorithm={}))[p.SigV4=0]="SigV4",p[p.SigV4Asymmetric=1]="SigV4Asymmetric",(d=t.AwsSignatureType||(t.AwsSignatureType={}))[d.HttpRequestViaHeaders=0]="HttpRequestViaHeaders",d[d.HttpRequestViaQueryParams=1]="HttpRequestViaQueryParams",d[d.HttpRequestChunk=2]="HttpRequestChunk",d[d.HttpRequestEvent=3]="HttpRequestEvent",(l=t.AwsSignedBodyValue||(t.AwsSignedBodyValue={})).EmptySha256="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",l.UnsignedPayload="UNSIGNED-PAYLOAD",l.StreamingAws4HmacSha256Payload="STREAMING-AWS4-HMAC-SHA256-PAYLOAD",l.StreamingAws4HmacSha256Events="STREAMING-AWS4-HMAC-SHA256-EVENTS",(u=t.AwsSignedBodyHeaderType||(t.AwsSignedBodyHeaderType={}))[u.None=0]="None",u[u.XAmzContentSha256=1]="XAmzContentSha256",t.aws_sign_request=function(e,t){return r(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{try{o.default.aws_sign_request(e,t,(t=>{0==t?n(e):r(new i.CrtError(t))}))}catch(e){r(e)}}))}))},t.aws_verify_sigv4a_signing=function(e,t,n,r,s,i){return o.default.aws_verify_sigv4a_signing(e,t,n,r,s,i)}},8583:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwsIotMqttConnectionConfigBuilder=void 0;const a=n(5641),c=o(n(3787)),u=n(3787),l=o(n(6843)),d=n(2875),p=n(7822),h=o(n(4378));class f{constructor(e){this.tls_ctx_options=e,this.params={client_id:"",host_name:"",socket_options:new c.SocketOptions,port:8883,use_websocket:!1,clean_session:!1,keep_alive:void 0,will:void 0,username:"",password:void 0,tls_ctx:void 0,reconnect_min_sec:a.DEFAULT_RECONNECT_MIN_SEC,reconnect_max_sec:a.DEFAULT_RECONNECT_MAX_SEC},this.is_using_custom_authorizer=!1}static new_mtls_builder_from_path(e,t){let n=new f(u.TlsContextOptions.create_client_with_mtls_from_path(e,t));return n.params.port=8883,c.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_builder(e,t){let n=new f(u.TlsContextOptions.create_client_with_mtls(e,t));return n.params.port=8883,c.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_pkcs11_builder(e){let t=new f(u.TlsContextOptions.create_client_with_mtls_pkcs11(e));return t.params.port=8883,c.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_mtls_pkcs12_builder(e){let t=new f(u.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(e.pkcs12_file,e.pkcs12_password));return t.params.port=8883,c.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_mtls_windows_cert_store_path_builder(e){let t=new f(u.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(e));return t.params.port=8883,c.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_default_builder(){let e=new c.TlsContextOptions;return new f(e)}static new_websocket_builder(...e){return this.new_with_websockets(...e)}static configure_websocket_handshake(e,t){if(t){if(null==e||null==e)throw new d.CrtError("AwsIotMqttConnectionConfigBuilder configure_websocket_handshake: builder not defined");e.params.websocket_handshake_transform=(e,n)=>i(this,void 0,void 0,(function*(){var r,s,o;const i=null!==(s=null===(r=t.create_signing_config)||void 0===r?void 0:r.call(t))&&void 0!==s?s:{algorithm:p.AwsSigningAlgorithm.SigV4,signature_type:p.AwsSignatureType.HttpRequestViaQueryParams,provider:t.credentials_provider,region:t.region,service:null!==(o=t.service)&&void 0!==o?o:"iotdevicegateway",signed_body_value:p.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};try{yield(0,p.aws_sign_request)(e,i),n()}catch(e){e instanceof d.CrtError?n(e.error_code):n(3)}}))}return e}static new_with_websockets(e){let t=null==e?void 0:e.tls_ctx_options;t||(t=new u.TlsContextOptions,t.alpn_list=[]);let n=new f(t);return n.params.use_websocket=!0,n.params.proxy_options=null==e?void 0:e.proxy_options,n.tls_ctx_options&&(n.params.port=443),this.configure_websocket_handshake(n,e),n}static new_builder_for_websocket(){return this.new_with_websockets()}with_certificate_authority_from_path(e,t){return this.tls_ctx_options.override_default_trust_store_from_path(e,t),this}with_certificate_authority(e){return this.tls_ctx_options.override_default_trust_store(e),this}with_endpoint(e){return this.params.host_name=e,this}with_port(e){return this.params.port=e,this}with_client_id(e){return this.params.client_id=e,this}with_clean_session(e){return this.params.clean_session=e,this}with_keep_alive_seconds(e){return this.params.keep_alive=e,this}with_timeout_ms(e){return this.with_ping_timeout_ms(e),this}with_ping_timeout_ms(e){return this.params.ping_timeout=e,this}with_protocol_operation_timeout_ms(e){return this.params.protocol_operation_timeout=e,this}with_will(e){return this.params.will=e,this}with_socket_options(e){return this.params.socket_options=e,this}with_credentials(e,t,n,r){return f.configure_websocket_handshake(this,{credentials_provider:p.AwsCredentialsProvider.newStatic(t,n,r),region:e,service:"iotdevicegateway"})}with_http_proxy_options(e){return this.params.proxy_options=e,this}with_custom_authorizer(e,t,n,r,s,o){this.is_using_custom_authorizer=!0;let i=h.populate_username_string_with_custom_authorizer("",e,t,n,this.params.username,s,o);return this.params.username=i,this.params.password=r,this.params.use_websocket||(this.tls_ctx_options.alpn_list=["mqtt"]),this.params.port=443,this}with_username(e){return this.params.username=e,this}with_password(e){return this.params.password=e,this}with_reconnect_max_sec(e){return this.params.reconnect_max_sec=e,this}with_reconnect_min_sec(e){return this.params.reconnect_min_sec=e,this}build(){var e,t,n;if(void 0===this.params.client_id||void 0===this.params.host_name)throw"client_id and endpoint are required";return 0==this.is_using_custom_authorizer&&h.is_string_and_not_empty(this.params.username)&&(-1==(null===(e=this.params.username)||void 0===e?void 0:e.indexOf("x-amz-customauthorizer-name="))&&-1==(null===(t=this.params.username)||void 0===t?void 0:t.indexOf("x-amz-customauthorizer-signature="))||(this.is_using_custom_authorizer=!0)),1==this.is_using_custom_authorizer&&443!=this.params.port&&console.log("Warning: Attempting to connect to authorizer with unsupported port. Port is not 443..."),void 0===this.params.tls_ctx&&(this.params.tls_ctx=new c.ClientTlsContext(this.tls_ctx_options)),0==h.is_string_and_not_empty(this.params.username)?this.params.username="?SDK=NodeJSv2&Version=":-1!=(null===(n=this.params.username)||void 0===n?void 0:n.indexOf("?"))?this.params.username+="&SDK=NodeJSv2&Version=":this.params.username+="?SDK=NodeJSv2&Version=",this.params.username+=l.crt_version(),this.params}}t.AwsIotMqttConnectionConfigBuilder=f},1838:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwsIotMqtt5ClientConfigBuilder=void 0;const a=o(n(2385)),c=o(n(3787)),u=o(n(7822)),l=n(2875),d=o(n(4378)),p=o(n(4231));class h{constructor(e,t,n){this.tlsContextOptions=n,this.config={hostName:e,port:t,connectProperties:{keepAliveIntervalSeconds:p.DEFAULT_KEEP_ALIVE},extendedValidationAndFlowControlOptions:a.ClientExtendedValidationAndFlowControl.AwsIotCoreDefaults}}static newDirectMqttBuilderWithMtlsFromPath(e,t,n){let r=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_from_path(t,n));return c.is_alpn_available()&&r.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),r}static newDirectMqttBuilderWithMtlsFromMemory(e,t,n){let r=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls(t,n));return c.is_alpn_available()&&r.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),r}static newDirectMqttBuilderWithMtlsFromPkcs11(e,t){let n=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_pkcs11(t));return c.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromPkcs12(e,t){let n=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(t.pkcs12_file,t.pkcs12_password));return c.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromWindowsCertStorePath(e,t){let n=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(t));return c.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithCustomAuth(e,t){let n=new h(e,h.DEFAULT_WEBSOCKET_MQTT_PORT,new c.TlsContextOptions);return n.customAuthConfig=t,n.tlsContextOptions.alpn_list=["mqtt"],n}static newWebsocketMqttBuilderWithSigv4Auth(e,t){let n=new c.TlsContextOptions;n.alpn_list=[];let r=new h(e,h.DEFAULT_WEBSOCKET_MQTT_PORT,n),s=null==t?void 0:t.credentialsProvider;return s||(s=u.AwsCredentialsProvider.newDefault()),r.config.websocketHandshakeTransform=(n,r)=>i(this,void 0,void 0,(function*(){var o;try{const i={algorithm:u.AwsSigningAlgorithm.SigV4,signature_type:u.AwsSignatureType.HttpRequestViaQueryParams,provider:s,region:null!==(o=null==t?void 0:t.region)&&void 0!==o?o:d.extractRegionFromEndpoint(e),service:"iotdevicegateway",signed_body_value:u.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};yield u.aws_sign_request(n,i),r()}catch(e){e instanceof l.CrtError?r(e.error_code):r(3)}})),r}static newWebsocketMqttBuilderWithCustomAuth(e,t){let n=new h(e,h.DEFAULT_WEBSOCKET_MQTT_PORT,new c.TlsContextOptions);return n.customAuthConfig=t,n.config.websocketHandshakeTransform=(e,t)=>i(this,void 0,void 0,(function*(){t(0)})),n}withCertificateAuthorityFromPath(e,t){return this.tlsContextOptions.override_default_trust_store_from_path(e,t),this}withCertificateAuthority(e){return this.tlsContextOptions.override_default_trust_store(e),this}withPort(e){return this.config.port=e,this}withConnectProperties(e){return this.config.connectProperties=e,this}withSessionBehavior(e){return this.config.sessionBehavior=e,this}withRetryJitterMode(e){return this.config.retryJitterMode=e,this}withMinReconnectDelayMs(e){return this.config.minReconnectDelayMs=e,this}withMaxReconnectDelayMs(e){return this.config.maxReconnectDelayMs=e,this}withMinConnectedTimeToResetReconnectDelayMs(e){return this.config.minConnectedTimeToResetReconnectDelayMs=e,this}withConnackTimeoutMs(e){return this.config.connackTimeoutMs=e,this}withOfflineQueueBehavior(e){return this.config.offlineQueueBehavior=e,this}withPingTimeoutMs(e){return this.config.pingTimeoutMs=e,this}withAckTimeoutSeconds(e){return this.config.ackTimeoutSeconds=e,this}withSocketOptions(e){return this.config.socketOptions=e,this}withHttpProxyOptions(e){return this.config.httpProxyOptions=e,this}withExtendedValidationAndFlowControlOptions(e){return this.config.extendedValidationAndFlowControlOptions=e,this}build(){var e,t;return void 0===this.config.tlsCtx&&(this.config.tlsCtx=new c.ClientTlsContext(this.tlsContextOptions)),this.config.connectProperties&&(this.config.connectProperties.username=d.buildMqtt5FinalUsername(this.customAuthConfig),(null===(e=this.customAuthConfig)||void 0===e?void 0:e.password)&&(this.config.connectProperties.password=null===(t=this.customAuthConfig)||void 0===t?void 0:t.password)),this.config}}t.AwsIotMqtt5ClientConfigBuilder=h,h.DEFAULT_WEBSOCKET_MQTT_PORT=443,h.DEFAULT_DIRECT_MQTT_PORT=8883},1221:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(1017)),a=n(2037),c=n(7147),u=n(7282),l="Please upgrade to node >=10.16.0, or use the provided browser implementation.";if(!("napi"in u.versions))throw new Error("The current runtime is not reporting an NAPI version. "+l);if(parseInt(u.versions.napi)<4)throw new Error("The AWS CRT native implementation requires that NAPI version 4 be present. "+l);const d=`${a.platform}-${a.arch}`;let p=i.resolve(__dirname,"..","..");const h=i.join(p,"dist");(0,c.existsSync)(h)&&(p=h);const f=i.resolve(p,"bin"),m=[i.join(f,d,"aws-crt-nodejs")];let g;for(const e of m)if((0,c.existsSync)(e+".node")){g=n(1309)(e);break}if(null==g)throw new Error("AWS CRT binary not present in any of the following locations:\n\t"+m.join("\n\t"));t.default=g},5988:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.crc32c=t.crc32=void 0;const s=r(n(1221));t.crc32=function(e,t){return s.default.checksums_crc32(e,t)},t.crc32c=function(e,t){return s.default.checksums_crc32c(e,t)}},7227:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.native_memory_dump=t.native_memory=void 0;const s=r(n(1221));t.native_memory=function(){return s.default.native_memory()},t.native_memory_dump=function(){return s.default.native_memory_dump()}},5145:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hmac_sha256=t.Sha256Hmac=t.hash_sha1=t.Sha1Hash=t.hash_sha256=t.Sha256Hash=t.hash_md5=t.Md5Hash=void 0;const s=r(n(1221)),o=n(8763);class i extends o.NativeResource{update(e){s.default.hash_update(this.native_handle(),e)}finalize(e){return s.default.hash_digest(this.native_handle(),e)}constructor(e){super(e)}}t.Md5Hash=class extends i{constructor(){super(s.default.hash_md5_new())}},t.hash_md5=function(e,t){return s.default.hash_md5_compute(e,t)},t.Sha256Hash=class extends i{constructor(){super(s.default.hash_sha256_new())}},t.hash_sha256=function(e,t){return s.default.hash_sha256_compute(e,t)},t.Sha1Hash=class extends i{constructor(){super(s.default.hash_sha1_new())}},t.hash_sha1=function(e,t){return s.default.hash_sha1_compute(e,t)};class a extends o.NativeResource{update(e){s.default.hmac_update(this.native_handle(),e)}finalize(e){return s.default.hmac_digest(this.native_handle(),e)}constructor(e){super(e)}}t.Sha256Hmac=class extends a{constructor(e){super(s.default.hmac_sha256_new(e))}},t.hmac_sha256=function(e,t,n){return s.default.hmac_sha256_compute(e,t,n)}},2875:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CrtError=void 0;const s=r(n(1221));class o extends Error{constructor(e){super(function(e){return"number"==typeof e?s.default.error_code_to_string(e):e instanceof o?e.message:e.toString()}(e)),this.error=e,this.error_code=function(e){return"number"==typeof e?e:e instanceof o?e.error_code:void 0}(e),this.error_name=function(e){return"number"==typeof e?s.default.error_code_to_name(e):e instanceof o?e.error_name:void 0}(e)}}t.CrtError=o},7259:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientStream=t.ClientConnection=t.MessageType=t.MessageFlags=t.Header=t.HeaderType=void 0;const c=n(8763),u=n(9651),l=n(2875),d=o(n(3787)),p=o(n(6731)),h=o(n(7113)),f=a(n(1221));var m,g,y,w,_;!function(e){e[e.BooleanTrue=0]="BooleanTrue",e[e.BooleanFalse=1]="BooleanFalse",e[e.Byte=2]="Byte",e[e.Int16=3]="Int16",e[e.Int32=4]="Int32",e[e.Int64=5]="Int64",e[e.ByteBuffer=6]="ByteBuffer",e[e.String=7]="String",e[e.Timestamp=8]="Timestamp",e[e.UUID=9]="UUID"}(m=t.HeaderType||(t.HeaderType={}));class v{constructor(e,t,n){this.name=e,this.type=t,this.value=n}static validateHeaderName(e){if(0==e.length||e.length>127)throw new l.CrtError(`Event stream header name (${e}) is not valid`)}static newBoolean(e,t){return v.validateHeaderName(e),new v(e,t?m.BooleanTrue:m.BooleanFalse)}static newByte(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT8&&t<=p.MAX_INT8&&Number.isSafeInteger(t))return new v(e,m.Byte,t);throw new l.CrtError(`Illegal value for eventstream byte-valued header: ${t}`)}static newInt16(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT16&&t<=p.MAX_INT16&&Number.isSafeInteger(t))return new v(e,m.Int16,t);throw new l.CrtError(`Illegal value for eventstream int16-valued header: ${t}`)}static newInt32(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT32&&t<=p.MAX_INT32&&Number.isSafeInteger(t))return new v(e,m.Int32,t);throw new l.CrtError(`Illegal value for eventstream int32-valued header: ${t}`)}static newInt64FromNumber(e,t){if(v.validateHeaderName(e),Number.isSafeInteger(t))return new v(e,m.Int64,p.marshalInt64BigintAsBuffer(BigInt(t)));throw new l.CrtError(`Illegal value for eventstream int64-valued header: ${t}`)}static newInt64FromBigint(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT64&&t<=p.MAX_INT64)return new v(e,m.Int64,p.marshalInt64BigintAsBuffer(t));throw new l.CrtError(`Illegal value for eventstream int64-valued header: ${t}`)}static newByteBuffer(e,t){return v.validateHeaderName(e),new v(e,m.ByteBuffer,t)}static newString(e,t){return v.validateHeaderName(e),new v(e,m.String,t)}static newTimeStampFromSecondsSinceEpoch(e,t){if(v.validateHeaderName(e),Number.isSafeInteger(t)&&t>=0)return new v(e,m.Timestamp,t);throw new l.CrtError(`Illegal value for eventstream timestamp-valued header: ${t}`)}static newTimeStampFromDate(e,t){v.validateHeaderName(e);const n=t.getTime();if(Number.isSafeInteger(n))return new v(e,m.Timestamp,n);throw new l.CrtError(`Illegal value for eventstream timestamp-valued header: ${t}`)}static newUUID(e,t){if(v.validateHeaderName(e),16==t.byteLength)return new v(e,m.UUID,t);throw new l.CrtError(`Illegal value for eventstream uuid-valued header: ${t}`)}toValue(e){if(e!=this.type)throw new l.CrtError(`Header of type (${this.type}) cannot be converted to type (${e})`);return this.value}asBoolean(){switch(this.type){case m.BooleanFalse:return!1;case m.BooleanTrue:return!0;default:throw new l.CrtError(`Header of type (${this.type}) cannot be converted to type (boolean)`)}}asByte(){return this.toValue(m.Byte)}asInt16(){return this.toValue(m.Int16)}asInt32(){return this.toValue(m.Int32)}asInt64(){return p.unmarshalInt64BigintFromBuffer(this.toValue(m.Int64))}asByteBuffer(){return this.toValue(m.ByteBuffer)}asString(){return this.toValue(m.String)}asTimestamp(){return this.toValue(m.Timestamp)}asUUID(){return this.toValue(m.UUID)}}function b(e){let t={type:e.type,flags:e.flags,payload:e.payload};var n;return e.headers&&(t.headers=(n=e.headers,Array.from(n,(e=>new v(e.name,e.type,e.value))))),t}t.Header=v,(_=t.MessageFlags||(t.MessageFlags={}))[_.None=0]="None",_[_.ConnectionAccepted=1]="ConnectionAccepted",_[_.TerminateStream=2]="TerminateStream",(w=t.MessageType||(t.MessageType={}))[w.ApplicationMessage=0]="ApplicationMessage",w[w.ApplicationError=1]="ApplicationError",w[w.Ping=2]="Ping",w[w.PingResponse=3]="PingResponse",w[w.Connect=4]="Connect",w[w.ConnectAck=5]="ConnectAck",w[w.ProtocolError=6]="ProtocolError",w[w.InternalError=7]="InternalError",function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Disconnected=3]="Disconnected",e[e.Closed=4]="Closed"}(g||(g={}));class E extends((0,c.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e){if(void 0===e)throw new l.CrtError("Invalid configuration passed to eventstream ClientConnection constructor");super(),this.state=g.None,this._super(f.default.event_stream_client_connection_new(this,e,((e,t)=>{E._s_on_disconnect(e,t)}),((e,t)=>{E._s_on_protocol_message(e,t)}),e.socketOptions?e.socketOptions.native_handle():null,e.tlsCtx?e.tlsCtx.native_handle():null))}close(){this.state!=g.Closed&&(this.state=g.Closed,f.default.event_stream_client_connection_close(this.native_handle()))}connect(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{if(e)if(this.state==g.None){if(this.state=g.Connecting,e.cancelController){let n=()=>{r(new l.CrtError("Event stream connection connect() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(n),!t)return}try{f.default.event_stream_client_connection_connect(this.native_handle(),(function(e,t){return E._s_on_connection_setup(n,r,e,t)}))}catch(e){this.state=g.Disconnected,r(e)}}else r(new l.CrtError(`Event stream connection in a state (${this.state}) where connect() is not allowed.`));else r(new l.CrtError("Invalid options passed to event stream ClientConnection.connect"))}));return h.makeSelfCleaningPromise(n,t)}))}sendProtocolMessage(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{try{if(!e)return void r(new l.CrtError("Invalid options passed to event stream ClientConnection.sendProtocolMessage"));if(!this.isConnected())return void r(new l.CrtError(`Event stream connection in a state (${this.state}) where sending protocol messages is not allowed.`));if(e.cancelController){let o=()=>{r(new l.CrtError("Event stream connection sendProtocolMessage() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(o),!t)return}function s(e){return E._s_on_connection_send_protocol_message_completion(n,r,e)}f.default.event_stream_client_connection_send_protocol_message(this.native_handle(),e,s)}catch(i){r(i)}}));return h.makeSelfCleaningPromise(n,t)}))}isConnected(){return this.state==g.Connected}newStream(){if(!this.isConnected())throw new l.CrtError(`Event stream connection in a state (${this.state}) where creating new streams is forbidden.`);return new S(this)}on(e,t){return super.on(e,t),this}static _s_on_connection_setup(e,t,n,r){0==r&&n.state==g.Connecting?(n.state=g.Connected,e()):(n.state!=g.Closed&&(n.state=g.Disconnected),t(d.error_code_to_string(r)))}static _s_on_disconnect(e,t){e.state!=g.Closed&&(e.state=g.Disconnected),process.nextTick((()=>{e.emit("disconnection",{errorCode:t})}))}static _s_on_protocol_message(e,t){process.nextTick((()=>{e.emit("protocolMessage",{message:b(t)})}))}static _s_on_connection_send_protocol_message_completion(e,t,n){0==n?e():t(d.error_code_to_string(n))}}t.ClientConnection=E,E.DISCONNECTION="disconnection",E.PROTOCOL_MESSAGE="protocolMessage",function(e){e[e.None=0]="None",e[e.Activating=1]="Activating",e[e.Activated=2]="Activated",e[e.Ended=3]="Ended",e[e.Closed=4]="Closed"}(y||(y={}));class S extends((0,c.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e){super(),this._super(f.default.event_stream_client_stream_new(this,e.native_handle(),(e=>{S._s_on_stream_ended(e)}),((e,t)=>{S._s_on_stream_message(e,t)}))),this.state=y.None}close(){this.state!=y.Closed&&(this.state=y.Closed,f.default.event_stream_client_stream_close(this.native_handle()))}activate(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{try{if(this.state!=y.None)return void r(new l.CrtError(`Event stream in a state (${this.state}) where activation is not allowed.`));if(void 0===e)return this.state=y.Ended,void r(new l.CrtError("Invalid options passed to ClientStream.activate"));if(this.state=y.Activating,e.cancelController){let o=()=>{r(new l.CrtError("Event stream activate() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(o),!t)return}function s(e,t){return S._s_on_stream_activated(n,r,e,t)}f.default.event_stream_client_stream_activate(this.native_handle(),e,s)}catch(i){this.state=y.Ended,r(i)}}));return h.makeSelfCleaningPromise(n,t)}))}sendMessage(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{try{if(!e)return void r(new l.CrtError("Invalid options passed to ClientStream.sendMessage"));if(this.state!=y.Activated)return void r(new l.CrtError(`Event stream in a state (${this.state}) where sending messages is not allowed.`));if(e.cancelController){let o=()=>{r(new l.CrtError("Event stream sendMessage() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(o),!t)return}function s(e){return S._s_on_stream_send_message_completion(n,r,e)}f.default.event_stream_client_stream_send_message(this.native_handle(),e,s)}catch(i){r(i)}}));return h.makeSelfCleaningPromise(n,t)}))}isActive(){return this.state==y.Activated}on(e,t){return super.on(e,t),this}static _s_on_stream_activated(e,t,n,r){0==r&&n.state==y.Activating?(n.state=y.Activated,e()):(n.state!=y.Closed&&(n.state=y.Ended),t(d.error_code_to_string(r)))}static _s_on_stream_send_message_completion(e,t,n){0==n?e():t(d.error_code_to_string(n))}static _s_on_stream_ended(e){process.nextTick((()=>{e.emit(S.ENDED,{})}))}static _s_on_stream_message(e,t){process.nextTick((()=>{e.emit(S.MESSAGE,{message:b(t)})}))}}t.ClientStream=S,S.ENDED="ended",S.MESSAGE="message"},6731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmarshalInt64BigintFromBuffer=t.marshalInt64BigintAsBuffer=t.MIN_INT64=t.MAX_INT64=t.MIN_INT32=t.MAX_INT32=t.MIN_INT16=t.MAX_INT16=t.MIN_INT8=t.MAX_INT8=void 0;const r=n(2875);t.MAX_INT8=127,t.MIN_INT8=-128,t.MAX_INT16=32767,t.MIN_INT16=-32768,t.MAX_INT32=2147483647,t.MIN_INT32=-2147483648,t.MAX_INT64=BigInt("9223372036854775807"),t.MIN_INT64=BigInt("-9223372036854775808");const s=BigInt("256");t.marshalInt64BigintAsBuffer=function(e){if(e<t.MIN_INT64||e>t.MAX_INT64)throw new r.CrtError("marshalInt64BigintAsBuffer expects a value that can fit in 8 bytes");let n=new Uint8Array(8);if(e<0){e=-e-BigInt(1);for(let t=0;t<8;++t)n[t]=255-Number(e%s),e/=s}else for(let t=0;t<8;++t)n[t]=Number(e%s),e/=s;return n},t.unmarshalInt64BigintFromBuffer=function(e){let t=BigInt(0),n=new Uint8Array(e);if(8!=n.length)throw new r.CrtError("unmarshalInt64BigintFromBuffer expects a byte buffer of length 8");let o=BigInt(1);if(0!=(128&n[7])){for(let e=0;e<n.length;++e)t+=BigInt(255-n[e])*o,o*=s;t+=BigInt(1),t=-t}else for(let e=0;e<n.length;++e)t+=BigInt(n[e])*o,o*=s;return t}},8415:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClientConnectionManager=t.HttpClientStream=t.HttpStream=t.HttpClientConnection=t.HttpProxyOptions=t.HttpProxyConnectionType=t.HttpConnection=t.HttpRequest=t.HttpHeaders=t.HttpProxyAuthenticationType=void 0;const s=r(n(1221)),o=n(8763),i=n(2875),a=n(3804);var c=n(3804);Object.defineProperty(t,"HttpProxyAuthenticationType",{enumerable:!0,get:function(){return c.HttpProxyAuthenticationType}});const u=n(9651);t.HttpHeaders=s.default.HttpHeaders;const l=s.default.HttpRequest;t.HttpRequest=class extends l{constructor(e,t,n,r){super(e,t,n,null==r?void 0:r.native_handle())}};class d extends((0,o.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e){super(),this._super(e)}close(){s.default.http_connection_close(this.native_handle())}on(e,t){return super.on(e,t),"connect"==e&&process.nextTick((()=>{this.uncork()})),this}}var p;t.HttpConnection=d,d.CONNECT="connect",d.ERROR="error",d.CLOSE="close",function(e){e[e.Legacy=0]="Legacy",e[e.Forwarding=1]="Forwarding",e[e.Tunneling=2]="Tunneling"}(p=t.HttpProxyConnectionType||(t.HttpProxyConnectionType={}));class h extends a.CommonHttpProxyOptions{constructor(e,t,n=a.HttpProxyAuthenticationType.None,r,s,o,i){super(e,t,n,r,s),this.tls_opts=o,this.connection_type=i}create_native_handle(){return s.default.http_proxy_options_new(this.host_name,this.port,this.auth_method,this.auth_username,this.auth_password,this.tls_opts?this.tls_opts.native_handle():void 0,this.connection_type?this.connection_type:p.Legacy)}}t.HttpProxyOptions=h;class f extends d{constructor(e,t,n,r,o,a,c){if(null==r||null==r)throw new i.CrtError("HttpClientConnection constructor: socket_options not defined");super(c||s.default.http_connection_new(null!=e?e.native_handle():null,((e,t)=>{this._on_setup(e,t)}),((e,t)=>{this._on_shutdown(e,t)}),t,n,r.native_handle(),o?o.native_handle():void 0,a?a.create_native_handle():void 0)),this.bootstrap=e,this.socket_options=r,this.tls_opts=o}_on_setup(e,t){t?this.emit("error",new i.CrtError(t)):this.emit("connect")}_on_shutdown(e,t){t?this.emit("error",new i.CrtError(t)):this.emit("close")}request(e){let t;const n=s.default.http_stream_new(this.native_handle(),e,(e=>{t._on_complete(e)}),((e,n)=>{t._on_response(e,n)}),(e=>{t._on_body(e)}));return t=new g(n,this,e)}}t.HttpClientConnection=f;class m extends((0,o.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e,t){super(),this.connection=t,this._super(e),this.cork()}activate(){s.default.http_stream_activate(this.native_handle())}close(){s.default.http_stream_close(this.native_handle())}_on_body(e){this.emit("data",e)}_on_complete(e){if(e)return this.emit("error",new i.CrtError(e)),void this.close();this.on("end",(()=>{this.close()})),this.emit("end")}}t.HttpStream=m;class g extends m{constructor(e,t,n){super(e,t),this.request=n}status_code(){return this.response_status_code}on(e,t){return super.on(e,t),"response"==e&&process.nextTick((()=>{this.uncork()})),this}_on_response(e,n){this.response_status_code=e;let r=new t.HttpHeaders(n);this.emit("response",e,r)}}t.HttpClientStream=g,g.RESPONSE="response",g.DATA="data",g.ERROR="error",g.END="end",g.HEADERS="headers";class y extends o.NativeResource{constructor(e,t,n,r,o,a,c,u){if(null==a||null==a)throw new i.CrtError("HttpClientConnectionManager constructor: socket_options not defined");super(s.default.http_connection_manager_new(null!=e?e.native_handle():null,t,n,r,o,a.native_handle(),c?c.native_handle():void 0,u?u.create_native_handle():void 0,void 0)),this.bootstrap=e,this.host=t,this.port=n,this.max_connections=r,this.initial_window_size=o,this.socket_options=a,this.tls_opts=c,this.proxy_options=u,this.connections=new Map}acquire(){return new Promise(((e,t)=>{s.default.http_connection_manager_acquire(this.native_handle(),((n,r)=>{if(r)return void t(new i.CrtError(r));let s=this.connections.get(n);s||(s=new f(this.bootstrap,this.host,this.port,this.socket_options,this.tls_opts,this.proxy_options,n),this.connections.set(n,s),s.on("close",(()=>{this.connections.delete(n)}))),e(s)}))}))}release(e){if(null==e||null==e)throw new i.CrtError("HttpClientConnectionManager release: connection not defined");s.default.http_connection_manager_release(this.native_handle(),e.native_handle())}close(){s.default.http_connection_manager_close(this.native_handle())}}t.HttpClientConnectionManager=y},3787:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Pkcs11Lib=t.TlsConnectionOptions=t.ServerTlsContext=t.ClientTlsContext=t.TlsContext=t.TlsContextOptions=t.SocketOptions=t.ClientBootstrap=t.InputStream=t.is_alpn_available=t.enable_logging=t.LogLevel=t.error_code_to_name=t.error_code_to_string=t.SocketDomain=t.SocketType=t.TlsVersion=void 0;const s=r(n(1221)),o=n(8763),i=n(9712);var a=n(9712);Object.defineProperty(t,"TlsVersion",{enumerable:!0,get:function(){return a.TlsVersion}}),Object.defineProperty(t,"SocketType",{enumerable:!0,get:function(){return a.SocketType}}),Object.defineProperty(t,"SocketDomain",{enumerable:!0,get:function(){return a.SocketDomain}});const c=n(2875);var u;t.error_code_to_string=function(e){return s.default.error_code_to_string(e)},t.error_code_to_name=function(e){return s.default.error_code_to_name(e)},(u=t.LogLevel||(t.LogLevel={}))[u.NONE=0]="NONE",u[u.FATAL=1]="FATAL",u[u.ERROR=2]="ERROR",u[u.WARN=3]="WARN",u[u.INFO=4]="INFO",u[u.DEBUG=5]="DEBUG",u[u.TRACE=6]="TRACE",t.enable_logging=function(e){s.default.io_logging_enable(e)},t.is_alpn_available=function(){return s.default.is_alpn_available()};class l extends o.NativeResource{constructor(e){super(s.default.io_input_stream_new(16384)),this.source=e,this.source.on("data",(e=>{e=Buffer.isBuffer(e)?e:Buffer.from(e.toString()),s.default.io_input_stream_append(this.native_handle(),e)})),this.source.on("end",(()=>{s.default.io_input_stream_append(this.native_handle(),void 0)}))}}t.InputStream=l;class d extends o.NativeResource{constructor(){super(s.default.io_client_bootstrap_new())}}t.ClientBootstrap=d;class p extends o.NativeResource{constructor(e=i.SocketType.STREAM,t=i.SocketDomain.IPV6,n=5e3,r=!1,o=0,a=0,c=0){super(s.default.io_socket_options_new(e,t,n,o,a,c,r))}}t.SocketOptions=p;class h{constructor(){this.min_tls_version=i.TlsVersion.Default,this.alpn_list=[],this.verify_peer=!0}override_default_trust_store_from_path(e,t){this.ca_dirpath=e,this.ca_filepath=t}override_default_trust_store(e){this.certificate_authority=e}static create_client_with_mtls(e,t){let n=new h;return n.certificate=e,n.private_key=t,n.verify_peer=!0,n}static create_client_with_mtls_from_path(e,t){let n=new h;return n.certificate_filepath=e,n.private_key_filepath=t,n.verify_peer=!0,n}static create_client_with_mtls_pkcs12_from_path(e,t){let n=new h;return n.pkcs12_filepath=e,n.pkcs12_password=t,n.verify_peer=!0,n}static create_client_with_mtls_pkcs_from_path(e,t){return this.create_client_with_mtls_pkcs12_from_path(e,t)}static create_client_with_mtls_pkcs11(e){let t=new h;return t.pkcs11_options=e,t.verify_peer=!0,t}static create_client_with_mtls_windows_cert_store_path(e){let t=new h;return t.windows_cert_store_path=e,t.verify_peer=!0,t}static create_server_with_mtls_from_path(e,t){let n=new h;return n.certificate_filepath=e,n.private_key_filepath=t,n.verify_peer=!1,n}static create_server_with_mtls_pkcs_from_path(e,t){let n=new h;return n.pkcs12_filepath=e,n.pkcs12_password=t,n.verify_peer=!1,n}}t.TlsContextOptions=h;class f extends o.NativeResource{constructor(e){if(null==e||null==e)throw new c.CrtError("TlsContext constructor: ctx_opt not defined");super(s.default.io_tls_ctx_new(e.min_tls_version,e.ca_filepath,e.ca_dirpath,e.certificate_authority,e.alpn_list&&e.alpn_list.length>0?e.alpn_list.join(";"):void 0,e.certificate_filepath,e.certificate,e.private_key_filepath,e.private_key,e.pkcs12_filepath,e.pkcs12_password,e.pkcs11_options,e.windows_cert_store_path,e.verify_peer))}}t.TlsContext=f,t.ClientTlsContext=class extends f{constructor(e){e||((e=new h).verify_peer=!0),super(e)}},t.ServerTlsContext=class extends f{constructor(e){e||((e=new h).verify_peer=!1),super(e)}};class m extends o.NativeResource{constructor(e,t,n=[]){if(null==e||null==e)throw new c.CrtError("TlsConnectionOptions constructor: tls_ctx not defined");super(s.default.io_tls_connection_options_new(e.native_handle(),t,n&&n.length>0?n.join(";"):void 0)),this.tls_ctx=e,this.server_name=t,this.alpn_list=n}}t.TlsConnectionOptions=m;class g extends o.NativeResource{constructor(e,t=g.InitializeFinalizeBehavior.DEFAULT){super(s.default.io_pkcs11_lib_new(e,t))}close(){s.default.io_pkcs11_lib_close(this.native_handle())}}t.Pkcs11Lib=g,function(e){let t;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.OMIT=1]="OMIT",e[e.STRICT=2]="STRICT"}(t=e.InitializeFinalizeBehavior||(e.InitializeFinalizeBehavior={}))}(g=t.Pkcs11Lib||(t.Pkcs11Lib={}))},9793:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(8583),t),s(n(1838),t)},799:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MqttClientConnection=t.MqttClient=t.MqttWill=t.QoS=t.HttpProxyOptions=void 0;const c=a(n(1221)),u=n(8763),l=n(9651),d=o(n(4231)),p=n(2875),h=o(n(3787));var f=n(8415);Object.defineProperty(t,"HttpProxyOptions",{enumerable:!0,get:function(){return f.HttpProxyOptions}});const m=n(5641);var g=n(5641);Object.defineProperty(t,"QoS",{enumerable:!0,get:function(){return g.QoS}}),Object.defineProperty(t,"MqttWill",{enumerable:!0,get:function(){return g.MqttWill}});class y extends u.NativeResource{constructor(e=void 0){super(c.default.mqtt_client_new(null!=e?e.native_handle():null)),this.bootstrap=e}new_connection(e){return new w(this,e)}}t.MqttClient=y;class w extends((0,u.NativeResourceMixin)(l.BufferedEventEmitter)){constructor(e,t){if(super(),this.client=e,this.config=t,null==t||null==t)throw new p.CrtError("MqttClientConnection constructor: config not defined");const n=t.will?{topic:t.will.topic,qos:t.will.qos,payload:d.normalize_payload(t.will.payload),retain:t.will.retain}:void 0;var r=m.DEFAULT_RECONNECT_MIN_SEC,s=m.DEFAULT_RECONNECT_MAX_SEC;if(t.reconnect_min_sec&&(r=t.reconnect_min_sec,s=Math.max(r,s)),t.reconnect_max_sec&&(s=t.reconnect_max_sec,r=Math.min(r,s)),null==e||null==e)throw new p.CrtError("MqttClientConnection constructor: client not defined");if(null==t.socket_options||null==t.socket_options)throw new p.CrtError("MqttClientConnection constructor: socket_options in configuration not defined");this._super(c.default.mqtt_client_connection_new(e.native_handle(),(e=>{this._on_connection_interrupted(e)}),((e,t)=>{this._on_connection_resumed(e,t)}),t.tls_ctx?t.tls_ctx.native_handle():null,n,t.username,t.password,t.use_websocket,t.proxy_options?t.proxy_options.create_native_handle():void 0,t.websocket_handshake_transform,r,s)),this.tls_ctx=t.tls_ctx,c.default.mqtt_client_connection_on_message(this.native_handle(),this._on_any_publish.bind(this)),c.default.mqtt_client_connection_on_closed(this.native_handle(),this._on_connection_closed.bind(this)),this.on("error",(e=>{}))}close(){c.default.mqtt_client_connection_close(this.native_handle())}on(e,t){return super.on(e,t),"connect"==e&&process.nextTick((()=>{this.uncork()})),this}connect(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{if(t=this._reject(t),null==this.config.socket_options||null==this.config.socket_options)throw new p.CrtError("MqttClientConnection connect: socket_options in configuration not defined");try{c.default.mqtt_client_connection_connect(this.native_handle(),this.config.client_id,this.config.host_name,this.config.port,this.config.socket_options.native_handle(),this.config.keep_alive,this.config.ping_timeout,this.config.protocol_operation_timeout,this.config.clean_session,this._on_connect_callback.bind(this,e,t))}catch(e){t(e)}}))}))}reconnect(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{t=this._reject(t);try{c.default.mqtt_client_connection_reconnect(this.native_handle(),this._on_connect_callback.bind(this,e,t))}catch(e){t(e)}}))}))}publish(e,t,n,r=!1){return i(this,void 0,void 0,(function*(){return"string"!=typeof e?Promise.reject("topic is not a string"):"number"!=typeof n?Promise.reject("qos is not a number"):"boolean"!=typeof r?Promise.reject("retain is not a boolean"):new Promise(((s,o)=>{o=this._reject(o);try{c.default.mqtt_client_connection_publish(this.native_handle(),e,d.normalize_payload(t),n,r,this._on_puback_callback.bind(this,s,o))}catch(e){o(e)}}))}))}subscribe(e,t,n){return i(this,void 0,void 0,(function*(){return"string"!=typeof e?Promise.reject("topic is not a string"):"number"!=typeof t?Promise.reject("qos is not a number"):new Promise(((r,s)=>{s=this._reject(s);try{c.default.mqtt_client_connection_subscribe(this.native_handle(),e,t,n,this._on_suback_callback.bind(this,r,s))}catch(e){s(e)}}))}))}unsubscribe(e){return i(this,void 0,void 0,(function*(){return"string"!=typeof e?Promise.reject("topic is not a string"):new Promise(((t,n)=>{n=this._reject(n);try{c.default.mqtt_client_connection_unsubscribe(this.native_handle(),e,this._on_unsuback_callback.bind(this,t,n))}catch(e){n(e)}}))}))}disconnect(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{t=this._reject(t);try{c.default.mqtt_client_connection_disconnect(this.native_handle(),this._on_disconnect_callback.bind(this,e))}catch(e){t(e)}}))}))}getQueueStatistics(){return c.default.mqtt_client_connection_get_queue_statistics(this.native_handle())}_reject(e){return t=>{e(t),process.nextTick((()=>{this.emit("error",new p.CrtError(t))}))}}_on_connection_interrupted(e){this.emit("interrupt",new p.CrtError(e))}_on_connection_resumed(e,t){this.emit("resume",e,t);let n={session_present:t,reason_code:e};this.emit("connection_success",n)}_on_any_publish(e,t,n,r,s){this.emit("message",e,t,n,r,s)}_on_connection_closed(){this.emit("closed",{}),this.close()}_on_connect_callback(e,t,n,r,s){if(0==n&&0==r){e(s),this.emit("connect",s);let t={session_present:s,reason_code:r};this.emit("connection_success",t)}else if(0!=n){t("Failed to connect: "+h.error_code_to_string(n));let e={error:new p.CrtError(n)};this.emit("connection_failure",e)}else{t("Server rejected connection.");let e={error:new p.CrtError(5134)};this.emit("connection_failure",e)}}_on_puback_callback(e,t,n,r){0==r?e({packet_id:n}):t("Failed to publish: "+h.error_code_to_string(r))}_on_suback_callback(e,t,n,r,s,o){0==o?e({packet_id:n,topic:r,qos:s,error_code:o}):t("Failed to subscribe: "+h.error_code_to_string(o))}_on_unsuback_callback(e,t,n,r){0==r?e({packet_id:n}):t("Failed to unsubscribe: "+h.error_code_to_string(r))}_on_disconnect_callback(e){e(),this.emit("disconnect")}}t.MqttClientConnection=w,w.CONNECT="connect",w.DISCONNECT="disconnect",w.ERROR="error",w.INTERRUPT="interrupt",w.RESUME="resume",w.MESSAGE="message",w.CONNECTION_SUCCESS="connection_success",w.CONNECTION_FAILURE="connection_failure",w.CLOSED="closed"},2385:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Mqtt5Client=t.ClientExtendedValidationAndFlowControl=t.ClientOperationQueueBehavior=t.HttpProxyOptions=void 0;const u=c(n(1221)),l=n(8763),d=n(9651),p=o(n(3787)),h=o(n(4231)),f=n(2875);var m,g,y=n(8415);Object.defineProperty(t,"HttpProxyOptions",{enumerable:!0,get:function(){return y.HttpProxyOptions}}),i(n(5018),t),i(n(202),t),(g=t.ClientOperationQueueBehavior||(t.ClientOperationQueueBehavior={}))[g.Default=0]="Default",g[g.FailNonQos1PublishOnDisconnect=1]="FailNonQos1PublishOnDisconnect",g[g.FailQos0PublishOnDisconnect=2]="FailQos0PublishOnDisconnect",g[g.FailAllOnDisconnect=3]="FailAllOnDisconnect",(m=t.ClientExtendedValidationAndFlowControl||(t.ClientExtendedValidationAndFlowControl={}))[m.None=0]="None",m[m.AwsIotCoreDefaults=1]="AwsIotCoreDefaults";class w extends((0,l.NativeResourceMixin)(d.BufferedEventEmitter)){constructor(e){super(),this._super(u.default.mqtt5_client_new(this,e,(e=>{w._s_on_stopped(e)}),(e=>{w._s_on_attempting_connect(e)}),((e,t,n)=>{w._s_on_connection_success(e,t,n)}),((e,t,n)=>{w._s_on_connection_failure(e,new f.CrtError(t),n)}),((e,t,n)=>{w._s_on_disconnection(e,new f.CrtError(t),n)}),((e,t)=>{w._s_on_message_received(e,t)}),e.clientBootstrap?e.clientBootstrap.native_handle():null,e.socketOptions?e.socketOptions.native_handle():null,e.tlsCtx?e.tlsCtx.native_handle():null,e.httpProxyOptions?e.httpProxyOptions.create_native_handle():null))}close(){u.default.mqtt5_client_close(this.native_handle())}start(){u.default.mqtt5_client_start(this.native_handle())}stop(e){u.default.mqtt5_client_stop(this.native_handle(),e)}subscribe(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{try{u.default.mqtt5_client_subscribe(this.native_handle(),e,(function(e,r,s){return w._s_on_suback_callback(t,n,e,r,s)}))}catch(e){n(e)}}))}))}unsubscribe(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{try{u.default.mqtt5_client_unsubscribe(this.native_handle(),e,(function(e,r,s){return w._s_on_unsuback_callback(t,n,e,r,s)}))}catch(e){n(e)}}))}))}publish(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e&&e.payload&&(e.payload=h.normalize_payload(e.payload));try{u.default.mqtt5_client_publish(this.native_handle(),e,(function(e,r,s){return w._s_on_puback_callback(t,n,e,r,s)}))}catch(e){n(e)}}))}))}getQueueStatistics(){return u.default.mqtt5_client_get_queue_statistics(this.native_handle())}on(e,t){return super.on(e,t),this}static _s_on_stopped(e){process.nextTick((()=>{e.emit(w.STOPPED,{})}))}static _s_on_attempting_connect(e){process.nextTick((()=>{e.emit(w.ATTEMPTING_CONNECT,{})}))}static _s_on_connection_success(e,t,n){let r={connack:t,settings:n};process.nextTick((()=>{e.emit(w.CONNECTION_SUCCESS,r)}))}static _s_on_connection_failure(e,t,n){let r={error:t};null!=n&&(r.connack=n),process.nextTick((()=>{e.emit(w.CONNECTION_FAILURE,r)}))}static _s_on_disconnection(e,t,n){let r={error:t};null!=n&&(r.disconnect=n),process.nextTick((()=>{e.emit(w.DISCONNECTION,r)}))}static _s_on_suback_callback(e,t,n,r,s){0==r&&void 0!==s?e(s):t(p.error_code_to_string(r))}static _s_on_unsuback_callback(e,t,n,r,s){0==r&&void 0!==s?e(s):t(p.error_code_to_string(r))}static _s_on_puback_callback(e,t,n,r,s){0==r?e(s):t(p.error_code_to_string(r))}static _s_on_message_received(e,t){let n={message:t};process.nextTick((()=>{e.emit(w.MESSAGE_RECEIVED,n)}))}}t.Mqtt5Client=w,w.ERROR="error",w.MESSAGE_RECEIVED="messageReceived",w.ATTEMPTING_CONNECT="attemptingConnect",w.CONNECTION_SUCCESS="connectionSuccess",w.CONNECTION_FAILURE="connectionFailure",w.DISCONNECTION="disconnection",w.STOPPED="stopped"},8763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeResourceMixin=t.NativeResource=void 0,t.NativeResource=class{constructor(e){this.handle=e}native_handle(){return this.handle}},t.NativeResourceMixin=function(e){return class extends e{constructor(...e){const t=e.shift();super(...e),this._handle=t}_super(e){this._handle=e}native_handle(){return this._handle}}}},1309:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=1309,e.exports=t},6932:(e,t,n)=>{"use strict";const r=n(8501),s=n(8844),o=n(1192);e.exports={XMLParser:s,XMLValidator:r,XMLBuilder:o}},7849:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),s=r.length;for(let o=0;o<s;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==s.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const s=[];s.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)s.push(r[e]);n.push(s),r=t.exec(e)}return n},t.nameRegexp=r},8501:(e,t,n)=>{"use strict";const r=n(7849),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function i(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return f("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},s,t);const n=[];let c=!1,u=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,s=i(e,s),s.err)return s}else{if("<"!==e[s]){if(o(e[s]))continue;return f("InvalidChar","char '"+e[s]+"' is not expected.",g(e,s))}{let m=s;if(s++,"!"===e[s]){s=a(e,s);continue}{let y=!1;"/"===e[s]&&(y=!0,s++);let w="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)w+=e[s];if(w=w.trim(),"/"===w[w.length-1]&&(w=w.substring(0,w.length-1),s--),d=w,!r.isName(d)){let t;return t=0===w.trim().length?"Invalid space after '<'.":"Tag '"+w+"' is an invalid name.",f("InvalidTag",t,g(e,s))}const _=l(e,s);if(!1===_)return f("InvalidAttr","Attributes for '"+w+"' have open quote.",g(e,s));let v=_.value;if(s=_.index,"/"===v[v.length-1]){const n=s-v.length;v=v.substring(0,v.length-1);const r=p(v,t);if(!0!==r)return f(r.err.code,r.err.msg,g(e,n+r.err.line));c=!0}else if(y){if(!_.tagClosed)return f("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",g(e,s));if(v.trim().length>0)return f("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",g(e,m));{const t=n.pop();if(w!==t.tagName){let n=g(e,t.tagStartPos);return f("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+w+"'.",g(e,m))}0==n.length&&(u=!0)}}else{const r=p(v,t);if(!0!==r)return f(r.err.code,r.err.msg,g(e,s-v.length+r.err.line));if(!0===u)return f("InvalidXml","Multiple possible root nodes found.",g(e,s));-1!==t.unpairedTags.indexOf(w)||n.push({tagName:w,tagStartPos:m}),c=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s++,s=a(e,s);continue}if("?"!==e[s+1])break;if(s=i(e,++s),s.err)return s}else if("&"===e[s]){const t=h(e,s);if(-1==t)return f("InvalidChar","char '&' is not expected.",g(e,s));s=t}else if(!0===u&&!o(e[s]))return f("InvalidXml","Extra text at the end",g(e,s));"<"===e[s]&&s--}}}var d;return c?1==n.length?f("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(e,n[0].tagStartPos)):!(n.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):f("InvalidXml","Start tag expected.",1)};const c='"',u="'";function l(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===c||e[t]===u)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){s=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:s}}const d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function p(e,t){const n=r.getAllMatches(e,d),s={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return f("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",y(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return f("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",y(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",y(n[e]));const r=n[e][2];if(!m(r))return f("InvalidAttr","Attribute '"+r+"' is an invalid name.",y(n[e]));if(s.hasOwnProperty(r))return f("InvalidAttr","Attribute '"+r+"' is repeated.",y(n[e]));s[r]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function f(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function m(e){return r.isName(e)}function g(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function y(e){return e.startIndex+e[1].length}},1192:(e,t,n)=>{"use strict";const r=n(2592),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(e){this.options=Object.assign({},s,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=i,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function i(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function a(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}o.prototype.build=function(e){return this.options.preserveOrder?r(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},o.prototype.j2x=function(e,t){let n="",r="";for(let s in e)if(void 0===e[s]);else if(null===e[s])"?"===s[0]?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)r+=this.buildTextValNode(e[s],s,"",t);else if("object"!=typeof e[s]){const o=this.isAttribute(s);if(o)n+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let t=this.options.tagValueProcessor(s,""+e[s]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){const n=e[s].length;let o="";for(let i=0;i<n;i++){const n=e[s][i];void 0===n||(null===n?"?"===s[0]?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,t+1).val:o+=this.processTextOrObjNode(n,s,t):o+=this.buildTextValNode(n,s,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,"",t)),r+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const t=Object.keys(e[s]),r=t.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(t[o],""+e[s][t[o]])}else r+=this.processTextOrObjNode(e[s],s,t);return{attrStr:n,val:r}},o.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},o.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",s=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+o+">"+e+s:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+s}},o.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},o.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),""===s?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+s+"</"+t+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=o},2592:e=>{function t(e,i,a,c){let u="",l=!1;for(let d=0;d<e.length;d++){const p=e[d],h=n(p);let f="";if(f=0===a.length?h:`${a}.${h}`,h===i.textNodeName){let e=p[h];s(f,i)||(e=i.tagValueProcessor(h,e),e=o(e,i)),l&&(u+=c),u+=e,l=!1;continue}if(h===i.cdataPropName){l&&(u+=c),u+=`<![CDATA[${p[h][0][i.textNodeName]}]]>`,l=!1;continue}if(h===i.commentPropName){u+=c+`\x3c!--${p[h][0][i.textNodeName]}--\x3e`,l=!0;continue}if("?"===h[0]){const e=r(p[":@"],i),t="?xml"===h?"":c;let n=p[h][0][i.textNodeName];n=0!==n.length?" "+n:"",u+=t+`<${h}${n}${e}?>`,l=!0;continue}let m=c;""!==m&&(m+=i.indentBy);const g=c+`<${h}${r(p[":@"],i)}`,y=t(p[h],i,f,m);-1!==i.unpairedTags.indexOf(h)?i.suppressUnpairedNode?u+=g+">":u+=g+"/>":y&&0!==y.length||!i.suppressEmptyNode?y&&y.endsWith(">")?u+=g+`>${y}${c}</${h}>`:(u+=g+">",y&&""!==c&&(y.includes("/>")||y.includes("</"))?u+=c+i.indentBy+y+c:u+=y,u+=`</${h}>`):u+=g+"/>",l=!0}return u}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function r(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let s=t.attributeValueProcessor(r,e[r]);s=o(s,t),!0===s&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${s}"`}return n}function s(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){let r="";return n.format&&n.indentBy.length>0&&(r="\n"),t(e,n,"",r)}},4780:(e,t,n)=>{const r=n(7849);function s(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=e[t++];let s="";for(;t<e.length&&e[t]!==r;t++)s+=e[t];return[n,s,t]}function o(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function i(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function a(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function u(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function l(e){if(r.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}e.exports=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,d=!1,p=!1,h="";for(;t<e.length;t++)if("<"!==e[t]||p)if(">"===e[t]){if(p?"-"===e[t-1]&&"-"===e[t-2]&&(p=!1,r--):r--,0===r)break}else"["===e[t]?d=!0:h+=e[t];else{if(d&&i(e,t))t+=7,[entityName,val,t]=s(e,t+1),-1===val.indexOf("&")&&(n[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(d&&a(e,t))t+=8;else if(d&&c(e,t))t+=8;else if(d&&u(e,t))t+=9;else{if(!o)throw new Error("Invalid DOCTYPE");p=!0}r++,h=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}},6745:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},1078:(e,t,n)=>{"use strict";const r=n(7849),s=n(6311),o=n(4780),i=n(4153);function a(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function c(e,t,n,r,s,o,i){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,s,o);return null==r?e:typeof r!=typeof e||r!==e?r:this.options.trimValues||e.trim()===e?v(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function u(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=r.getAllMatches(e,l),s=n.length,o={};for(let e=0;e<s;e++){const r=this.resolveNameSpace(n[e][1]);let s=n[e][4],i=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(i=this.options.transformAttributeName(i)),"__proto__"===i&&(i="#__proto__"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const e=this.options.attributeValueProcessor(r,s,t);o[i]=null==e?s:typeof e!=typeof s||e!==s?e:v(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[i]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=o,e}return o}}const p=function(e){e=e.replace(/\r\n?/g,"\n");const t=new s("!xml");let n=t,r="",i="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){const t=y(e,">",a,"Closing Tag is not closed.");let s=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&(r=this.saveTextToParentTag(r,n,i));const o=i.substring(i.lastIndexOf(".")+1);if(s&&-1!==this.options.unpairedTags.indexOf(s))throw new Error(`Unpaired tag can not be used as closing tag: </${s}>`);let c=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(c=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=i.lastIndexOf("."),i=i.substring(0,c),n=this.tagsNodeStack.pop(),r="",a=t}else if("?"===e[a+1]){let t=w(e,a,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new s(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName)),this.addChild(n,e,i)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){const t=y(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const s=e.substring(a+4,t-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}a=t}else if("!D"===e.substr(a+1,2)){const t=o(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){const t=y(e,"]]>",a,"CDATA is not closed.")-2,s=e.substring(a+9,t);if(r=this.saveTextToParentTag(r,n,i),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]);else{let e=this.parseTextData(s,n.tagname,i,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}a=t+2}else{let o=w(e,a,this.options.removeNSPrefix),c=o.tagName,u=o.tagExp,l=o.attrExpPresent,d=o.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==t.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)a=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=o.closeIndex;else{const n=this.readStopNodeData(e,c,d+1);if(!n)throw new Error(`Unexpected end of ${c}`);a=n.i,t=n.tagContent}const r=new s(c);c!==u&&l&&(r[":@"]=this.buildAttributesMap(u,i,c)),t&&(t=this.parseTextData(t,c,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(n,r,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new s(c);c!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,e,i),i=i.substr(0,i.lastIndexOf("."))}else{const e=new s(c);this.tagsNodeStack.push(n),c!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,e,i),n=e}r="",a=d}}else r+=e[a];return t.child};function h(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);!1===r||("string"==typeof r?(t.tagname=r,e.addChild(t)):e.addChild(t))}const f=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function m(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function g(e,t,n){const r="*."+n;for(const n in e){const s=e[n];if(r===s||t===s)return!0}return!1}function y(e,t,n,r){const s=e.indexOf(t,n);if(-1===s)throw new Error(r);return s+t.length-1}function w(e,t,n,r=">"){const s=function(e,t,n=">"){let r,s="";for(let o=t;o<e.length;o++){let t=e[o];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:s,index:o};if(e[o+1]===n[1])return{data:s,index:o}}else"\t"===t&&(t=" ");s+=t}}(e,t+1,r);if(!s)return;let o=s.data;const i=s.index,a=o.search(/\s/);let c=o,u=!0;if(-1!==a&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),u=c!==s.data.substr(e+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:u}}function _(e,t,n){const r=n;let s=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=y(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(s--,0===s))return{tagContent:e.substring(r,n),i:o};n=o}else if("?"===e[n+1])n=y(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=y(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=y(e,"]]>",n,"StopNode is not closed.")-2;else{const r=w(e,n,">");r&&((r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&s++,n=r.closeIndex)}}function v(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&i(e,n)}return r.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=a,this.parseXml=p,this.parseTextData=c,this.resolveNameSpace=u,this.buildAttributesMap=d,this.isItStopNode=g,this.replaceEntitiesValue=f,this.readStopNodeData=_,this.saveTextToParentTag=m,this.addChild=h}}},8844:(e,t,n)=>{const{buildOptions:r}=n(6745),s=n(1078),{prettify:o}=n(6997),i=n(8501);e.exports=class{constructor(e){this.externalEntities={},this.options=r(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=i.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new s(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:o(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},6997:(e,t)=>{"use strict";function n(e,t,i){let a;const c={};for(let u=0;u<e.length;u++){const l=e[u],d=r(l);let p="";if(p=void 0===i?d:i+"."+d,d===t.textNodeName)void 0===a?a=l[d]:a+=""+l[d];else{if(void 0===d)continue;if(l[d]){let e=n(l[d],t,p);const r=o(e,t);l[":@"]?s(e,l[":@"],p,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[d]&&c.hasOwnProperty(d)?(Array.isArray(c[d])||(c[d]=[c[d]]),c[d].push(e)):t.isArray(d,p,r)?c[d]=[e]:c[d]=e}}}return"string"==typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a),c}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function s(e,t,n,r){if(t){const s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){const o=s[i];r.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function o(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},6311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,s={}){if(s=Object.assign({},r,s),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==s.skipLike&&s.skipLike.test(o))return e;if(s.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let a=(i=t[3])&&-1!==i.indexOf(".")?("."===(i=i.replace(/0+$/,""))?i="0":"."===i[0]?i="0"+i:"."===i[i.length-1]&&(i=i.substr(0,i.length-1)),i):i;const c=t[4]||t[6];if(!s.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!s.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;{const t=Number(o),i=""+t;return-1!==i.search(/[eE]/)||c?s.eNotation?t:e:-1!==o.indexOf(".")?"0"===i&&""===a||i===a||n&&i==="-"+a?t:e:r?a===i||n+a===i?t:e:o===i||o===n+i?t:e}}return e}var i}},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},5062:e=>{"use strict";e.exports=JSON.parse('{"name":"aws-crt","version":"1.15.20","description":"NodeJS/browser bindings to the aws-c-* libraries","homepage":"https://github.com/awslabs/aws-crt-nodejs","repository":{"type":"git","url":"git+https://github.com/awslabs/aws-crt-nodejs.git"},"contributors":["AWS Common Runtime Team <aws-sdk-common-runtime@amazon.com>"],"license":"Apache-2.0","main":"./dist/index.js","browser":"./dist.browser/browser.js","types":"./dist/index.d.ts","scripts":{"tsc":"node ./scripts/tsc.js","test":"npm run test:native","test:node":"npm run test:native","test:native":"npx jest --runInBand --verbose --config test/native/jest.config.js --forceExit","test:browser":"npx jest --runInBand --verbose --config test/browser/jest.config.js --forceExit","test:browser:ci":"npm run install:puppeteer && npm run test:browser","install:puppeteer":"npm install --save-dev jest-puppeteer puppeteer @types/puppeteer","prepare":"node ./scripts/tsc.js && node ./scripts/install.js","install":"node ./scripts/install.js"},"devDependencies":{"@types/crypto-js":"^3.1.43","@types/jest":"^27.0.1","@types/node":"^10.17.54","@types/prettier":"2.6.0","@types/puppeteer":"^5.4.7","@types/uuid":"^3.4.8","@types/ws":"^7.4.7","aws-sdk":"^2.848.0","cmake-js":"^6.3.2","https-proxy-agent":"^5.0.1","jest":"^27.2.1","jest-puppeteer":"^5.0.4","jest-runtime":"^27.2.1","puppeteer":"^3.3.0","tar":"^6.1.11","ts-jest":"^27.0.5","typedoc":"^0.22.18","typedoc-plugin-merge-modules":"^3.1.0","typescript":"^4.7.4","uuid":"^8.3.2","yargs":"^17.2.1"},"dependencies":{"@aws-sdk/util-utf8-browser":"^3.109.0","@httptoolkit/websocket-stream":"^6.0.0","axios":"^0.24.0","buffer":"^6.0.3","cmake-js":"^6.3.2","crypto-js":"^4.0.0","mqtt":"^4.3.7","process":"^0.11.10","tar":"^6.1.11"}}')}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>Ap});var e={};n.r(e),n.d(e,{getUserAgentPrefix:()=>Re,isVirtualHostableS3Bucket:()=>Le,parseArn:()=>ze,partition:()=>ke,setPartitionInfo:()=>Oe,useDefaultPartitionInfo:()=>Ne});var t,s,o,i,a,c={};n.r(c),n.d(c,{aws:()=>e,booleanEquals:()=>Be,getAttr:()=>He,isSet:()=>Ve,isValidHostLabel:()=>Fe,not:()=>We,parseURL:()=>Ze,stringEquals:()=>et,substring:()=>tt,uriEncode:()=>nt}),function(e){e.HEADER="header",e.QUERY="query"}(t||(t={})),function(e){e.HTTP="http",e.HTTPS="https"}(s||(s={})),(a=o||(o={}))[a.HEADER=0]="HEADER",a[a.TRAILER=1]="TRAILER",function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(i||(i={}));class u{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new u({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}class l{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const d={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},p=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!u.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),d)}}),h={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},f=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{try{const r=await e(n),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,l=c??t.inputFilterSensitiveLog,d=u??t.outputFilterSensitiveLog,{$metadata:p,...h}=r.output;return i?.info?.({clientName:s,commandName:o,input:l(n.input),output:d(h),metadata:p}),r}catch(e){const{clientName:r,commandName:s,logger:o,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:a}=i,c=a??t.inputFilterSensitiveLog;throw o?.error?.({clientName:r,commandName:s,input:c(n.input),error:e,metadata:e.$metadata}),e}}),h)}}),m="X-Amzn-Trace-Id",g={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},y=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!u.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(m))return t(n);const s=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,i=e=>"string"==typeof e&&e.length>0;return i(s)&&i(o)&&(r.headers[m]=o),t({...n,request:r})})(e),g)}}),w=(e,t,n)=>{let r,s,o,i=!1;const a=async()=>{s||(s=e());try{r=await s,o=!0,i=!1}finally{s=void 0}return r};return void 0===t?async e=>(o&&!e?.forceRefresh||(r=await a()),r):async e=>(o&&!e?.forceRefresh||(r=await a()),i?r:n&&!n(r)?(i=!0,r):t(r)?(await a(),r):r)};n(4079);const _={},v={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),_[e]=t,v[t]=e}function b(e){let t="";for(let n=0;n<e.byteLength;n++)t+=_[e[n]];return t}class E{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&S(t),new E(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&S(e),parseInt(b(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function S(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class x{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const r=this.fromUtf8(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const i=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(E.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!M.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in v))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=v[r]}return t}(e.value.replace(/\-/g,"")),1),l}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[s]={type:C,value:!0};break;case 1:t[s]={type:C,value:!1};break;case 2:t[s]={type:T,value:e.getInt8(n++)};break;case 3:t[s]={type:A,value:e.getInt16(n,!1)},n+=2;break;case 4:t[s]={type:I,value:e.getInt32(n,!1)},n+=4;break;case 5:t[s]={type:k,value:new E(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[s]={type:O,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[s]={type:N,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[s]={type:R,value:new Date(new E(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[s]={type:D,value:`${b(i.subarray(0,4))}-${b(i.subarray(4,6))}-${b(i.subarray(6,8))}-${b(i.subarray(8,10))}-${b(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var P;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(P||(P={}));const C="boolean",T="byte",A="short",I="integer",k="long",O="binary",N="string",R="timestamp",D="uuid",M=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;const $=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},j=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),q=require("buffer"),U=(e,t=0,n=e.byteLength-t)=>{if(!j(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return q.Buffer.from(e,t,n)},F=(e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?q.Buffer.from(e,t):q.Buffer.from(e)},L=e=>{const t=F(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},z=e=>"string"==typeof e?L(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),B=e=>U(e.buffer,e.byteOffset,e.byteLength).toString("utf8"),H="X-Amz-Date",V="X-Amz-Signature",W="X-Amz-Security-Token",K="authorization",G=H.toLowerCase(),Q=[K,G,"date"],X=V.toLowerCase(),J="x-amz-content-sha256",Y=W.toLowerCase(),Z={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ee=/^proxy-/,te=/^sec-/,ne="AWS4-HMAC-SHA256",re="AWS4-HMAC-SHA256-PAYLOAD",se="aws4_request",oe={},ie=[],ae=(e,t,n)=>`${e}/${t}/${n}/${se}`,ce=(e,t,n)=>{const r=new e(t);return r.update(z(n)),r.digest()},ue=({headers:e},t,n)=>{const r={};for(const s of Object.keys(e).sort()){if(null==e[s])continue;const o=s.toLowerCase();(o in Z||t?.has(o)||ee.test(o)||te.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r},le=e=>encodeURIComponent(e).replace(/[!'()*]/g,de),de=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,pe=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===J)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||j(t)){const e=new n;return e.update(z(t)),b(await e.digest())}return"UNSIGNED-PAYLOAD"},he=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?fe(t):void 0}),fe=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}}),{}),me=e=>{e="function"==typeof e.clone?e.clone():he(e);for(const t of Object.keys(e.headers))Q.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class ge{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new x(B,L),this.service=r,this.sha256=s,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=$(n),this.credentialProvider=$(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:i,signingRegion:a,signingService:c}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);const l=a??await this.regionProvider(),{longDate:d,shortDate:p}=ye(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const h=ae(p,l,c??this.service),f=((e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():he(e);for(const e of Object.keys(n)){const s=e.toLowerCase();"x-amz-"!==s.slice(0,6)||t.unhoistableHeaders?.has(s)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(me(e),{unhoistableHeaders:o});u.sessionToken&&(f.query[W]=u.sessionToken),f.query["X-Amz-Algorithm"]=ne,f.query["X-Amz-Credential"]=`${u.accessKeyId}/${h}`,f.query[H]=d,f.query["X-Amz-Expires"]=r.toString(10);const m=ue(f,s,i);return f.query["X-Amz-SignedHeaders"]=we(m),f.query[V]=await this.getSignature(d,h,this.getSigningKey(u,l,p,c),this.createCanonicalRequest(f,m,await pe(e,this.sha256))),f}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:s,signingService:o}){const i=s??await this.regionProvider(),{shortDate:a,longDate:c}=ye(n),u=ae(a,i,o??this.service),l=await pe({headers:{},body:t},this.sha256),d=new this.sha256;d.update(e);const p=b(await d.digest()),h=[re,c,u,r,p,l].join("\n");return this.signString(h,{signingDate:n,signingRegion:i,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:i}=ye(t),a=new this.sha256(await this.getSigningKey(s,o,i,r));return a.update(z(e)),b(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:s,signingService:o}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=s??await this.regionProvider(),c=me(e),{longDate:u,shortDate:l}=ye(t),d=ae(l,a,o??this.service);c.headers[G]=u,i.sessionToken&&(c.headers[Y]=i.sessionToken);const p=await pe(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(J,c.headers)&&this.applyChecksum&&(c.headers[J]=p);const h=ue(c,r,n),f=await this.getSignature(u,d,this.getSigningKey(i,a,l,o),this.createCanonicalRequest(c,h,p));return c.headers[K]=`${ne} Credential=${i.accessKeyId}/${d}, SignedHeaders=${we(h)}, Signature=${f}`,c}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===X)continue;t.push(r);const s=e[r];"string"==typeof s?n[r]=`${le(r)}=${le(s)}`:Array.isArray(s)&&(n[r]=s.slice(0).sort().reduce(((e,t)=>e.concat([`${le(r)}=${le(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(z(n));const s=await r.digest();return`${ne}\n${e}\n${t}\n${b(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const s=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(z(s)),b(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,s)=>{const o=`${n}:${r}:${s}:${b(await ce(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(o in oe)return oe[o];for(ie.push(o);ie.length>50;)delete oe[ie.shift()];let i=`AWS4${t.secretAccessKey}`;for(const t of[n,r,s,se])i=await ce(e,i,t);return oe[o]=i})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const ye=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},we=e=>Object.keys(e).sort().join(";"),_e=e=>{const t=e.credentials?ve(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:s}=e;let o;return o=e.signer?$(e.signer):e.regionInfoProvider?()=>$(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([r,o])=>{const{signingRegion:i,signingService:a}=r;e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||a||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||ge)(c)})):async r=>{const o=(r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await $(e.region)(),properties:{}},r)).signingRegion,i=r.signingName;e.signingRegion=e.signingRegion||o,e.signingName=e.signingName||i||e.serviceId;const a={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||ge)(a)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:o}},ve=e=>"function"==typeof e?w(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):$(e),be=e=>new Date(Date.now()+e),Ee=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(be(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},Se=e=>l.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,xe={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Pe=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){if(!u.isInstance(r.request))return t(r);const s=n.endpointV2?.properties?.authSchemes?.[0],o="sigv4a"===s?.name?s?.signingRegionSet?.join(","):void 0,i=await e.signer(s),a=await t({...r,request:await i.sign(r.request,{signingDate:be(e.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service})}).catch((t=>{const n=t.ServerTime??Se(t.$response);throw n&&(e.systemClockOffset=Ee(n,e.systemClockOffset)),t})),c=Se(a.response);return c&&(e.systemClockOffset=Ee(c,e.systemClockOffset)),a})(e),xe)}});function Ce(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}const Te=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');let Ae=Te,Ie="";const ke=e=>{const{partitions:t}=Ae;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,s]of Object.entries(t))if(n===e)return{...r,...s}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},Oe=(e,t="")=>{Ae=e,Ie=t},Ne=()=>{Oe(Te,"")},Re=()=>Ie,De="endpoints";function Me(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${Me(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Me).join(", ")})`:JSON.stringify(e,null,2)}class $e extends Error{constructor(e){super(e),this.name="EndpointError"}}const je=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),qe=e=>je.test(e)||e.startsWith("[")&&e.endsWith("]"),Ue=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Fe=(e,t=!1)=>{if(!t)return Ue.test(e);const n=e.split(".");for(const e of n)if(!Fe(e))return!1;return!0},Le=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!Le(t))return!1;return!0}return!(!Fe(e)||e.length<3||e.length>63||e!==e.toLowerCase()||qe(e))},ze=e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,s,o,i,...a]=t;return"arn"!==n||""===r||""===s||""===a[0]?null:{partition:r,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}},Be=(e,t)=>e===t,He=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new $e(`Path: '${e}' does not end with ']'`);const s=r.slice(t+1,-1);if(Number.isNaN(parseInt(s)))throw new $e(`Invalid array index: '${s}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(s)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new $e(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),Ve=e=>null!=e,We=e=>!e;var Ke,Ge,Qe,Xe,Je;!function(e){e.HEADER="header",e.QUERY="query"}(Ke||(Ke={})),function(e){e.HTTP="http",e.HTTPS="https"}(Ge||(Ge={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(Qe||(Qe={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(Xe||(Xe={})),function(e){e.AAAA="AAAA",e.A="A"}(Je||(Je={}));const Ye={[Ge.HTTP]:80,[Ge.HTTPS]:443},Ze=e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:s="",query:o={}}=e,i=new URL(`${r}//${t}${n?`:${n}`:""}${s}`);return i.search=Object.entries(o).map((([e,t])=>`${e}=${t}`)).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;const c=i.slice(0,-1);if(!Object.values(Ge).includes(c))return null;const u=qe(s);return{scheme:c,authority:`${r}${n.includes(`${r}:${Ye[c]}`)||"string"==typeof e&&e.includes(`${r}:${Ye[c]}`)?`:${Ye[c]}`:""}`,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},et=(e,t)=>e===t,tt=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),nt=e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),rt=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const t=e.indexOf("{",s);if(-1===t){n.push(e.slice(s));break}n.push(e.slice(s,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),s=o+2);const i=e.substring(t+1,o);if(i.includes("#")){const[e,t]=i.split("#");n.push(He(r[e],t))}else n.push(r[i]);s=o+1}return n.join("")},st=(e,t,n)=>{if("string"==typeof e)return rt(e,n);if(e.fn)return ot(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new $e(`'${t}': ${String(e)} is not a string, function or reference.`)},ot=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:st(e,"arg",n)));return e.split(".").reduce(((e,t)=>e[t]),c)(...r)},it=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new $e(`'${e}' is already defined in Reference Record.`);const r=ot(t,n);return n.logger?.debug?.(De,`evaluateCondition: ${Me(t)} = ${Me(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},at=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:s}=it(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};s&&(n[s.name]=s.value,t.logger?.debug?.(De,`assign: ${s.name} := ${Me(s.value)}`))}return{result:!0,referenceRecord:n}},ct=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=st(e,"Header value entry",t);if("string"!=typeof r)throw new $e(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),ut=(e,t)=>{if(Array.isArray(e))return e.map((e=>ut(e,t)));switch(typeof e){case"string":return rt(e,t);case"object":if(null===e)throw new $e(`Unexpected endpoint property: ${e}`);return lt(e,t);case"boolean":return e;default:throw new $e("Unexpected endpoint property type: "+typeof e)}},lt=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:ut(r,t)})),{}),dt=(e,t)=>{const n=st(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new $e("Endpoint URL must be a string, got "+typeof n)},pt=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:s,referenceRecord:o}=at(n,t);if(!s)return;const i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:u}=r;return t.logger?.debug?.(De,`Resolving endpoint from template: ${Me(r)}`),{...null!=u&&{headers:ct(u,i)},...null!=c&&{properties:lt(c,i)},url:dt(a,i)}},ht=(e,t)=>{const{conditions:n,error:r}=e,{result:s,referenceRecord:o}=at(n,t);if(s)throw new $e(st(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},ft=(e,t)=>{const{conditions:n,rules:r}=e,{result:s,referenceRecord:o}=at(n,t);if(s)return mt(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},mt=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=pt(n,t);if(e)return e}else if("error"===n.type)ht(n,t);else{if("tree"!==n.type)throw new $e(`Unknown endpoint rule: ${n}`);{const e=ft(n,t);if(e)return e}}throw new $e("Rules evaluation failed")},gt=(e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${De} Initial EndpointParams: ${Me(n)}`);const i=Object.entries(s).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(i.length>0)for(const[e,t]of i)n[e]=n[e]??t;const a=Object.entries(s).filter((([,e])=>e.required)).map((([e])=>e));for(const e of a)if(null==n[e])throw new $e(`Missing required parameter: '${e}'`);const c=mt(o,{endpointParams:n,logger:r,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:r}=e;c.url.protocol=n,c.url.port=r}catch(e){}return t.logger?.debug?.(`${De} Resolved endpoint: ${Me(c)}`),c},yt="user-agent",wt="x-amz-user-agent",_t=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,vt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,bt=e=>{const t=e[0].split("/").map((e=>e.replace(_t,"-"))).join("/"),n=e[1]?.replace(vt,"-"),r=t.indexOf("/"),s=t.substring(0,r);let o=t.substring(r+1);return"api"===s&&(o=o.toLowerCase()),[s,o,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},Et={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},St=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async r=>{const{request:s}=r;if(!u.isInstance(s))return e(r);const{headers:o}=s,i=t?.userAgent?.map(bt)||[],a=(await n.defaultUserAgentProvider()).map(bt),c=n?.customUserAgent?.map(bt)||[],l=Re(),d=(l?[l]:[]).concat([...a,...i,...c]).join(" "),p=[...a.filter((e=>e.startsWith("aws-sdk-"))),...c].join(" ");return"browser"!==n.runtime?(p&&(o[wt]=o[wt]?`${o[yt]} ${p}`:p),o[yt]=d):o[wt]=d,e({...r,request:s})}),Et)}});var xt;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(xt||(xt={}));const Pt=(e,t,n)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}},Ct={environmentVariableSelector:e=>Pt(e,"AWS_USE_DUALSTACK_ENDPOINT",xt.ENV),configFileSelector:e=>Pt(e,"use_dualstack_endpoint",xt.CONFIG),default:!1},Tt={environmentVariableSelector:e=>Pt(e,"AWS_USE_FIPS_ENDPOINT",xt.ENV),configFileSelector:e=>Pt(e,"use_fips_endpoint",xt.CONFIG),default:!1},At={environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw new Error("Region is missing")}},It={preferredFile:"credentials"},kt=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),Ot=e=>kt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Nt=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return Ot(t);const e=await t();return Ot(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!kt(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}},Rt="content-length",Dt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Mt=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(u.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(Rt))try{const t=n(e);r.headers={...r.headers,[Rt]:String(t)}}catch(e){}}return e({...t,request:r})}),Dt)}}),$t={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},jt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function qt(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async r=>{const{response:s}=await n(r);try{return{response:s,output:await t(s,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t}throw e}})(e,n),$t),r.add(((e,t)=>(n,r)=>async s=>{const o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await t(s.input,{...e,endpoint:o});return n({...s,request:i})})(e,t),jt)}}}const Ut=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Ft=/(\d+\.){3}\d+/,Lt=/\.\./,zt=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:s}=e;return`${t}//${n}${r?":"+r:""}${s}`}}return e}:r},Bt=async(e,t,n)=>{const r={},s=t?.getEndpointParameterInstructions?.()||{};for(const[t,o]of Object.entries(s))switch(o.type){case"staticContextParams":r[t]=o.value;break;case"contextParams":r[t]=e[o.name];break;case"clientContextParams":case"builtInParams":r[t]=await zt(o.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(s).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,s,o,i]=e.split(":"),a="arn"===t&&e.split(":").length>=6,c=5===[t,n,r,o,i].filter(Boolean).length;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&r&&o&&i)})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!Ut.test(n)||Ft.test(n)||Lt.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},Ht={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:jt.name},Vt=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,r)=>async s=>{const o=await(async(e,t,n,r)=>{const s=await Bt(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)})(s.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const i=r.authSchemes?.[0];return i&&(r.signing_region=i.signingRegion,r.signing_service=i.signingName),n({...s})})({config:e,instructions:t}),Ht)}}),Wt=e=>{if("string"==typeof e)return Wt(new URL(e));const{hostname:t,pathname:n,port:r,protocol:s,search:o}=e;let i;return o&&(i=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:i}},Kt=e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>(e=>"object"==typeof e?"url"in e?Wt(e.url):e:Wt(e))(await $(n)()):void 0,s=!!n;return{...e,endpoint:r,tls:t,isCustomEndpoint:s,useDualstackEndpoint:$(e.useDualstackEndpoint??!1),useFipsEndpoint:$(e.useFipsEndpoint??!1)}};var Gt,Qt;(Qt=Gt||(Gt={})).STANDARD="standard",Qt.ADAPTIVE="adaptive";const Xt=Gt.STANDARD,Jt=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Yt=["TimeoutError","RequestTimeout","RequestTimeoutException"],Zt=[500,502,503,504],en=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],tn=e=>429===e.$metadata?.httpStatusCode||Jt.includes(e.name)||1==e.$retryable?.throttling,nn=e=>Yt.includes(e.name)||en.includes(e?.code||"")||Zt.includes(e.$metadata?.httpStatusCode||0);class rn{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),tn(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const sn=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>n});class on{constructor(e){this.maxAttempts=e,this.mode=Gt.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return sn({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:100);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,sn({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class an{constructor(e,t){this.maxAttemptsProvider=e,this.mode=Gt.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new rn,this.standardRetryStrategy=new on(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const cn="AWS_MAX_ATTEMPTS",un="max_attempts",ln={environmentVariableSelector:e=>{const t=e[cn];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${cn} mast be a number, got "${t}"`);return n},configFileSelector:e=>{const t=e[un];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${un} mast be a number, got "${t}"`);return n},default:3},dn=e=>{const{retryStrategy:t}=e,n=$(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await $(e.retryMode)()===Gt.ADAPTIVE?new an(n):new on(n))}},pn={environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:Xt},hn=require("crypto");var fn=n.n(hn);const mn=new Uint8Array(256);let gn=mn.length;function yn(){return gn>mn.length-16&&(fn().randomFillSync(mn),gn=0),mn.slice(gn,gn+=16)}const wn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_n=[];for(let e=0;e<256;++e)_n.push((e+256).toString(16).substr(1));const vn=function(e,t=0){const n=(_n[e[t+0]]+_n[e[t+1]]+_n[e[t+2]]+_n[e[t+3]]+"-"+_n[e[t+4]]+_n[e[t+5]]+"-"+_n[e[t+6]]+_n[e[t+7]]+"-"+_n[e[t+8]]+_n[e[t+9]]+"-"+_n[e[t+10]]+_n[e[t+11]]+_n[e[t+12]]+_n[e[t+13]]+_n[e[t+14]]+_n[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&wn.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},bn=function(e,t,n){const r=(e=e||{}).random||(e.rng||yn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return vn(r)},En=e=>{const t={errorType:Sn(e)},n=Cn(e.$response);return n&&(t.retryAfterHint=n),t},Sn=e=>tn(e)?"THROTTLING":nn(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!nn(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",xn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Pn=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let s=await e.retryStrategy();const o=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(s))return s?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r);{let e=await s.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,l=0;const{request:d}=r;for(u.isInstance(d)&&(d.headers["amz-sdk-invocation-id"]=bn());;)try{u.isInstance(d)&&(d.headers["amz-sdk-request"]=`attempt=${c+1}; max=${o}`);const{response:n,output:i}=await t(r);return s.recordSuccess(e),i.$metadata.attempts=c+1,i.$metadata.totalRetryDelay=l,{response:n,output:i}}catch(t){const n=En(t);a=(i=t)instanceof Error?i:i instanceof Object?Object.assign(new Error,i):"string"==typeof i?new Error(i):new Error(`AWS SDK error wrapper for ${i}`);try{e=await s.refreshRetryTokenForRetry(e,n)}catch(e){throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=e.getRetryCount();const r=e.getRetryDelay();l+=r,await new Promise((e=>setTimeout(e,r)))}}var i})(e),xn)}}),Cn=e=>{if(!l.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)};class Tn{trace(){}debug(){}info(){}warn(){}error(){}}const An=()=>{let e=[],t=[];const n=new Set,r=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n),s=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))})),t},o=(n=!1)=>{const r=[],o=[],i={};e.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(i[t.name]=t),r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(i[t.name]=t),o.push(t)})),o.forEach((e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const a=(c=r,c.sort(((e,t)=>In[t.step]-In[e.step]||kn[t.priority||"normal"]-kn[e.priority||"normal"]))).map(s).reduce(((e,t)=>(e.push(...t),e)),[]);var c;return a},i={add:(t,r={})=>{const{name:s,override:o}=r,i={step:"initialize",priority:"normal",middleware:t,...r};if(s){if(n.has(s)){if(!o)throw new Error(`Duplicate middleware name '${s}'`);const t=e.findIndex((e=>e.name===s)),n=e[t];if(n.step!==i.step||n.priority!==i.priority)throw new Error(`"${s}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by same-name middleware with ${i.priority} priority in ${i.step} step.`);e.splice(t,1)}n.add(s)}e.push(i)},addRelativeTo:(e,r)=>{const{name:s,override:o}=r,i={middleware:e,...r};if(s){if(n.has(s)){if(!o)throw new Error(`Duplicate middleware name '${s}'`);const e=t.findIndex((e=>e.name===s)),n=t[e];if(n.toMiddleware!==i.toMiddleware||n.relation!==i.relation)throw new Error(`"${s}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by same-name middleware ${i.relation} "${i.toMiddleware}" middleware.`);t.splice(e,1)}n.add(s)}t.push(i)},clone:()=>r(An()),use:e=>{e.applyToStack(i)},remove:r=>"string"==typeof r?(r=>{let s=!1;const o=e=>!e.name||e.name!==r||(s=!0,n.delete(r),!1);return e=e.filter(o),t=t.filter(o),s})(r):(r=>{let s=!1;const o=e=>e.middleware!==r||(s=!0,e.name&&n.delete(e.name),!1);return e=e.filter(o),t=t.filter(o),s})(r),removeByTag:r=>{let s=!1;const o=e=>{const{tags:t,name:o}=e;return!t||!t.includes(r)||(o&&n.delete(o),s=!0,!1)};return e=e.filter(o),t=t.filter(o),s},concat:e=>{const t=r(An());return t.use(e),t},applyToStack:r,identify:()=>o(!0).map((e=>e.name+": "+(e.tags||[]).join(","))),resolve:(e,t)=>{for(const n of o().map((e=>e.middleware)).reverse())e=n(e,t);return e}};return i},In={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},kn={high:3,normal:2,low:1};class On{constructor(e){this.middlewareStack=An(),this.config=e}send(e,t,n){const r="function"!=typeof t?t:void 0,s="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!s)return o(e).then((e=>e.output));o(e).then((e=>s(null,e.output)),(e=>s(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Nn=/^[A-Za-z0-9+/]*={0,2}$/,Rn=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!Nn.exec(e))throw new TypeError("Invalid base64 string.");const t=F(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},Dn=e=>U(e.buffer,e.byteOffset,e.byteLength).toString("base64");class Mn extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?Mn.mutate(Rn(e)):Mn.mutate(L(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,Mn.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?Dn(e):B(e)}(this,e)}}const $n=require("stream"),jn=require("http"),qn=require("https"),Un=["ECONNRESET","EPIPE","ETIMEDOUT"],Fn=e=>{const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t};class Ln{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise(((t,n)=>{"function"==typeof e?e().then((e=>{t(this.resolveDefaultConfig(e))})).catch(n):t(this.resolveDefaultConfig(e))}))}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:n,socketTimeout:r,httpAgent:s,httpsAgent:o}=e||{};return{connectionTimeout:n,requestTimeout:t??r,httpAgent:s||new jn.Agent({keepAlive:!0,maxSockets:50}),httpsAgent:o||new qn.Agent({keepAlive:!0,maxSockets:50})}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise(((n,r)=>{let s;const o=async e=>{await s,r(e)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void o(e)}const i="https:"===e.protocol,a=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=le(n),Array.isArray(r))for(let e=0,s=r.length;e<s;e++)t.push(`${n}=${le(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${le(r)}`),t.push(e)}}return t.join("&")}(e.query||{});let c;null==e.username&&null==e.password||(c=`${e.username??""}:${e.password??""}`);let u=e.path;a&&(u+=`?${a}`),e.fragment&&(u+=`#${e.fragment}`);const d={headers:e.headers,host:e.hostname,method:e.method,path:u,port:e.port,agent:i?this.config.httpsAgent:this.config.httpAgent,auth:c},p=(i?qn.request:jn.request)(d,(e=>{(async e=>{await s,n(e)})({response:new l({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:Fn(e.headers),body:e})})}));p.on("error",(e=>{Un.includes(e.code)?o(Object.assign(e,{name:"TimeoutError"})):o(e)})),((e,t,n=0)=>{if(!n)return;const r=setTimeout((()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${n} ms`),{name:"TimeoutError"}))}),n);e.on("socket",(e=>{e.connecting?e.on("connect",(()=>{clearTimeout(r)})):clearTimeout(r)}))})(p,o,this.config.connectionTimeout),((e,t,n=0)=>{e.setTimeout(n,(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${n} ms`),{name:"TimeoutError"}))}))})(p,o,this.config.requestTimeout),t&&(t.onabort=()=>{p.abort();const e=new Error("Request aborted");e.name="AbortError",o(e)});const h=d.agent;"object"==typeof h&&"keepAlive"in h&&((e,{keepAlive:t,keepAliveMsecs:n})=>{!0===t&&e.on("socket",(e=>{e.setKeepAlive(t,n||0)}))})(p,{keepAlive:h.keepAlive,keepAliveMsecs:h.keepAliveMsecs}),s=async function(e,t,n=1e3){const r=t.headers??{},s=r.Expect||r.expect;let o=-1,i=!1;"100-continue"===s&&await Promise.race([new Promise((e=>{o=Number(setTimeout(e,Math.max(1e3,n)))})),new Promise((t=>{e.on("continue",(()=>{clearTimeout(o),t()})),e.on("error",(()=>{i=!0,clearTimeout(o),t()}))}))]),i||function(e,t){t instanceof $n.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}(e,t.body)}(p,e,this.config.requestTimeout).catch(r)}))}}require("http2"),Symbol.iterator;class zn extends $n.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,n){this.bufferedBytes.push(e),n()}}const Bn=e=>new Promise(((t,n)=>{const r=new zn;e.pipe(r),e.on("error",(e=>{r.end(),n(e)})),r.on("error",n),r.on("finish",(function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)}))})),Hn=require("util"),Vn=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Mn.mutate(e);if(!e)return Mn.mutate(new Uint8Array);const n=t.streamCollector(e);return Mn.mutate(await n)};class Wn{constructor(){this.middlewareStack=An()}}const Kn="***SensitiveInformation***",Gn=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ir.warn(or(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Qn=Math.ceil(2**127*(2-2**-23)),Xn=e=>Jn(e,32),Jn=(e,t)=>{const n=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==n&&Yn(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},Yn=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Zn=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},er=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},tr=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return ir.warn(or(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},nr=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,rr=e=>{const t=e.match(nr);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},sr=e=>Xn("string"==typeof e?rr(e):e),or=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),ir={warn:console.warn},ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cr=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ur=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=cr.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,s,o,i,a,c,u,l]=t,d=(e=>(e=>Jn(e,16))("string"==typeof e?rr(e):e))(yr(r)),p=fr(s,"month",1,12),h=fr(o,"day",1,31),f=lr(d,p,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return"Z"!=l.toUpperCase()&&f.setTime(f.getTime()-gr(l)),f},lr=(e,t,n,r)=>{const s=t-1;return pr(e,s,n),new Date(Date.UTC(e,s,n,fr(r.hours,"hour",0,23),fr(r.minutes,"minute",0,59),fr(r.seconds,"seconds",0,60),mr(r.fractionalMilliseconds)))},dr=[31,28,31,30,31,30,31,31,30,31,30,31],pr=(e,t,n)=>{let r=dr[t];if(1===t&&hr(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${ar[t]} in ${e}: ${n}`)},hr=e=>e%4==0&&(e%100!=0||e%400==0),fr=(e,t,n,r)=>{const s=(e=>(e=>Jn(e,8))("string"==typeof e?rr(e):e))(yr(e));if(s<n||s>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return s},mr=e=>null==e?0:1e3*(e=>(e=>{const t=Gn(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Qn)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?rr(e):e))("0."+e),gr=e=>{const t=e[0];let n=1;if("+"==t)n=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);n=-1}return n*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},yr=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class wr extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,wr.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const _r=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},vr=e=>({output:t,parsedBody:n,errorCode:r})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const s=br(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw _r(i,t)})({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},br=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Er=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let Sr=!1;const xr=e=>{e&&!Sr&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Sr=!0)};function Pr(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const Cr=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=Cr(e[n]));return e},Tr=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function Ar(e,t,n){let r,s,o;if(void 0===t&&void 0===n)r={},o=e;else{if(r=e,"function"==typeof t)return s=t,o=n,kr(r,s,o);o=t}for(const e of Object.keys(o))Array.isArray(o[e])?Or(r,null,o,e):r[e]=o[e];return r}Tr.prototype=Object.create(String.prototype,{constructor:{value:Tr,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Tr,String);const Ir=(e,t)=>{const n={};for(const r in t)Or(n,e,t,r);return n},kr=(e,t,n)=>Ar(e,Object.entries(n).reduce(((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e)),{})),Or=(e,t,n,r)=>{if(null!==t){let s=n[r];"function"==typeof s&&(s=[,s]);const[o=Nr,i=Rr,a=r]=s;return void(("function"==typeof o&&o(t[a])||"function"!=typeof o&&o)&&(e[r]=i(t[a])))}let[s,o]=n[r];if("function"==typeof o){let t;const n=void 0===s&&null!=(t=o()),i="function"==typeof s&&!!s(void 0)||"function"!=typeof s&&!!s;n?e[r]=t:i&&(e[r]=o())}else{const t=void 0===s&&null!=o,n="function"==typeof s&&!!s(o)||"function"!=typeof s&&!!s;(t||n)&&(e[r]=o)}},Nr=e=>null!=e,Rr=e=>e,Dr=(e,t,n,r,s,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(s,o?t.split("/").map((e=>Pr(e))).join("/"):Pr(t))}return e},Mr=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},$r=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e));if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=$r(e[n]));return t}return e};class jr extends wr{constructor(e){super(e),Object.setPrototypeOf(this,jr.prototype)}}class qr extends jr{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,qr.prototype)}}class Ur extends jr{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Ur.prototype)}}class Fr extends jr{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Fr.prototype)}}class Lr extends jr{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Lr.prototype)}}class zr extends jr{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,zr.prototype)}}class Br extends jr{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Br.prototype)}}class Hr extends jr{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Hr.prototype)}}const Vr=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Kn}}),Wr=e=>({...e,...e.Credentials&&{Credentials:Vr(e.Credentials)}}),Kr=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Kn}}),Gr=e=>({...e,...e.Credentials&&{Credentials:Vr(e.Credentials)}});var Qr=n(6932);const Xr=async(e,t)=>{const n=e.body,r=ps(n.Error,t),s=new qr({$metadata:_s(e),...r});return _r(s,n)},Jr=async(e,t)=>{const n=e.body,r=hs(n.Error,t),s=new Hr({$metadata:_s(e),...r});return _r(s,n)},Yr=async(e,t)=>{const n=e.body,r=fs(n.Error,t),s=new zr({$metadata:_s(e),...r});return _r(s,n)},Zr=async(e,t)=>{const n=e.body,r=ms(n.Error,t),s=new Br({$metadata:_s(e),...r});return _r(s,n)},es=async(e,t)=>{const n=e.body,r=gs(n.Error,t),s=new Ur({$metadata:_s(e),...r});return _r(s,n)},ts=async(e,t)=>{const n=e.body,r=ys(n.Error,t),s=new Fr({$metadata:_s(e),...r});return _r(s,n)},ns=async(e,t)=>{const n=e.body,r=ws(n.Error,t),s=new Lr({$metadata:_s(e),...r});return _r(s,n)},rs=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.PolicyArns){const r=os(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(r).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),null!=e.Tags){const r=us(e.Tags,t);0===e.Tags?.length&&(n.Tags=[]),Object.entries(r).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}if(null!=e.TransitiveTagKeys){const r=cs(e.TransitiveTagKeys,t);0===e.TransitiveTagKeys?.length&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach((([e,t])=>{n[`TransitiveTagKeys.${e}`]=t}))}return null!=e.ExternalId&&(n.ExternalId=e.ExternalId),null!=e.SerialNumber&&(n.SerialNumber=e.SerialNumber),null!=e.TokenCode&&(n.TokenCode=e.TokenCode),null!=e.SourceIdentity&&(n.SourceIdentity=e.SourceIdentity),n},ss=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.WebIdentityToken&&(n.WebIdentityToken=e.WebIdentityToken),null!=e.ProviderId&&(n.ProviderId=e.ProviderId),null!=e.PolicyArns){const r=os(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(r).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),n},os=(e,t)=>{const n={};let r=1;for(const s of e){if(null===s)continue;const e=is(s,t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},is=(e,t)=>{const n={};return null!=e.arn&&(n.arn=e.arn),n},as=(e,t)=>{const n={};return null!=e.Key&&(n.Key=e.Key),null!=e.Value&&(n.Value=e.Value),n},cs=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},us=(e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=as(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},ls=(e,t)=>{const n={};return void 0!==e.AssumedRoleId&&(n.AssumedRoleId=tr(e.AssumedRoleId)),void 0!==e.Arn&&(n.Arn=tr(e.Arn)),n},ds=(e,t)=>{const n={};return void 0!==e.AccessKeyId&&(n.AccessKeyId=tr(e.AccessKeyId)),void 0!==e.SecretAccessKey&&(n.SecretAccessKey=tr(e.SecretAccessKey)),void 0!==e.SessionToken&&(n.SessionToken=tr(e.SessionToken)),void 0!==e.Expiration&&(n.Expiration=Zn(ur(e.Expiration))),n},ps=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},hs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},fs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},ms=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},gs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},ys=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},ws=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},_s=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vs=vr(jr),bs=async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==s&&(l.body=s),new u(l)},Es={"content-type":"application/x-www-form-urlencoded"},Ss=(e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Qr.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),Cr(o)}return{}})),xs=async(e,t)=>{const n=await Ss(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Ps=e=>Object.entries(e).map((([e,t])=>Pr(e)+"="+Pr(t))).join("&"),Cs=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Ts extends Wn{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,Ts.getEndpointParameterInstructions())),this.middlewareStack.use(Pe(t));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Wr},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Es;let r;return r=Ps({...rs(e,t),Action:"AssumeRole",Version:"2011-06-15"}),bs(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await xs(e.body,t)},r=Cs(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Xr(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await es(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ts(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ns(n,t);default:const s=n.body;return vs({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=ds(e.Credentials,t)),void 0!==e.AssumedRoleUser&&(n.AssumedRoleUser=ls(e.AssumedRoleUser)),void 0!==e.PackedPolicySize&&(n.PackedPolicySize=sr(e.PackedPolicySize)),void 0!==e.SourceIdentity&&(n.SourceIdentity=tr(e.SourceIdentity)),n})((await Ss(e.body,t)).AssumeRoleResult,t),{$metadata:_s(e),...n}})(e,t)}}class As extends Wn{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,As.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:Kr,outputFilterSensitiveLog:Gr},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Es;let r;return r=Ps({...ss(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),bs(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await xs(e.body,t)},r=Cs(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Xr(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Jr(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Yr(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Zr(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await es(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ts(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ns(n,t);default:const s=n.body;return vs({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=ds(e.Credentials,t)),void 0!==e.SubjectFromWebIdentityToken&&(n.SubjectFromWebIdentityToken=tr(e.SubjectFromWebIdentityToken)),void 0!==e.AssumedRoleUser&&(n.AssumedRoleUser=ls(e.AssumedRoleUser)),void 0!==e.PackedPolicySize&&(n.PackedPolicySize=sr(e.PackedPolicySize)),void 0!==e.Provider&&(n.Provider=tr(e.Provider)),void 0!==e.Audience&&(n.Audience=tr(e.Audience)),void 0!==e.SourceIdentity&&(n.SourceIdentity=tr(e.SourceIdentity)),n})((await Ss(e.body,t)).AssumeRoleWithWebIdentityResult,t),{$metadata:_s(e),...n}})(e,t)}}const Is="us-east-1",ks=e=>"function"!=typeof e?void 0===e?Is:e:async()=>{try{return await e()}catch(e){return Is}},Os=(e,t)=>{let n,r;return async(s,o)=>{if(r=s,!n){const{logger:s,region:o,requestHandler:i}=e;n=new t({logger:s,credentialDefaultProvider:()=>async()=>r,region:ks(o||e.region),...i?{requestHandler:i}:{}})}const{Credentials:i}=await n.send(new Ts(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Ns=(e,t)=>{let n;return async r=>{if(!n){const{logger:r,region:s,requestHandler:o}=e;n=new t({logger:r,region:ks(s||e.region),...o?{requestHandler:o}:{}})}const{Credentials:s}=await n.send(new As(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};class Rs extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,Rs.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class Ds extends Rs{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Ds.prototype)}}const Ms=()=>async()=>{const e=process.env.AWS_ACCESS_KEY_ID,t=process.env.AWS_SECRET_ACCESS_KEY,n=process.env.AWS_SESSION_TOKEN,r=process.env.AWS_CREDENTIAL_EXPIRATION;if(e&&t)return{accessKeyId:e,secretAccessKey:t,...n&&{sessionToken:n},...r&&{expiration:new Date(r)}};throw new Ds("Unable to find environment variable credentials.")};var $s=n(2037),js=n(1017);const qs=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${js.sep}`}=process.env;return e||t||(n?`${r}${n}`:(0,$s.homedir)())},Us="AWS_PROFILE",Fs=e=>e.profile||process.env[Us]||"default",Ls=e=>{const t=(0,hn.createHash)("sha1").update(e).digest("hex");return(0,js.join)(qs(),".aws","sso","cache",`${t}.json`)};var zs=n(7147);const{readFile:Bs}=zs.promises,Hs=async e=>{const t=Ls(e),n=await Bs(t,"utf8");return JSON.parse(n)},Vs=()=>process.env.AWS_CONFIG_FILE||(0,js.join)(qs(),".aws","config"),Ws=()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,js.join)(qs(),".aws","credentials"),Ks=/^profile\s(["'])?([^\1]+)\1$/,Gs=e=>Object.entries(e).filter((([e])=>Ks.test(e))).reduce(((e,[t,n])=>({...e,[Ks.exec(t)[2]]:n})),{...e.default&&{default:e.default}}),Qs=["__proto__","profile __proto__"],Xs=e=>{const t={};let n;for(let r of e.split(/\r?\n/))if(r=r.split(/(^|\s)[;#]/)[0].trim(),"["===r[0]&&"]"===r[r.length-1]){if(n=r.substring(1,r.length-1),Qs.includes(n))throw new Error(`Found invalid profile name "${n}"`)}else if(n){const e=r.indexOf("="),s=0,o=r.length-1;if(-1!==e&&e!==s&&e!==o){const[s,o]=[r.substring(0,e).trim(),r.substring(e+1).trim()];t[n]=t[n]||{},t[n][s]=o}}return t},{readFile:Js}=zs.promises,Ys={},Zs=(e,t)=>(Ys[e]&&!t?.ignoreCache||(Ys[e]=Js(e,"utf8")),Ys[e]),eo=()=>({}),to=async(e={})=>{const{filepath:t=Ws(),configFilepath:n=Vs()}=e,r=await Promise.all([Zs(n,{ignoreCache:e.ignoreCache}).then(Xs).then(Gs).catch(eo),Zs(t,{ignoreCache:e.ignoreCache}).then(Xs).catch(eo)]);return{configFile:r[0],credentialsFile:r[1]}},no=/^sso-session\s(["'])?([^\1]+)\1$/,ro=e=>Object.entries(e).filter((([e])=>no.test(e))).reduce(((e,[t,n])=>({...e,[no.exec(t)[2]]:n})),{}),so=()=>({}),oo=async(e={})=>Zs(e.configFilepath??Vs()).then(Xs).then(ro).catch(so),io=async e=>{const t=await to(e);return((...e)=>{const t={};for(const n of e)for(const[e,r]of Object.entries(n))void 0!==t[e]?Object.assign(t[e],r):t[e]=r;return t})(t.configFile,t.credentialsFile)},ao=require("url");function co(e){return new Promise(((t,n)=>{const r=(0,jn.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",(e=>{n(Object.assign(new Rs("Unable to connect to instance metadata service"),e)),r.destroy()})),r.on("timeout",(()=>{n(new Rs("TimeoutError from instance metadata service")),r.destroy()})),r.on("response",(e=>{const{statusCode:s=400}=e;(s<200||300<=s)&&(n(Object.assign(new Rs("Error response received from instance metadata service"),{statusCode:s})),r.destroy());const o=[];e.on("data",(e=>{o.push(e)})),e.on("end",(()=>{t(q.Buffer.concat(o)),r.destroy()}))})),r.end()}))}const uo=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,lo=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),po=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t}),ho=(e,t)=>{let n=e();for(let r=0;r<t;r++)n=n.catch(e);return n},fo="AWS_CONTAINER_CREDENTIALS_FULL_URI",mo="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",go="AWS_CONTAINER_AUTHORIZATION_TOKEN",yo=(e={})=>{const{timeout:t,maxRetries:n}=po(e);return()=>ho((async()=>{const e=await bo(),n=JSON.parse(await wo(t,e));if(!uo(n))throw new Ds("Invalid response received from instance metadata service.");return lo(n)}),n)},wo=async(e,t)=>(process.env[go]&&(t.headers={...t.headers,Authorization:process.env[go]}),(await co({...t,timeout:e})).toString()),_o={localhost:!0,"127.0.0.1":!0},vo={"http:":!0,"https:":!0},bo=async()=>{if(process.env[mo])return{hostname:"169.254.170.2",path:process.env[mo]};if(process.env[fo]){const e=(0,ao.parse)(process.env[fo]);if(!e.hostname||!(e.hostname in _o))throw new Ds(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in vo))throw new Ds(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Ds(`The container metadata credential provider cannot be used unless the ${mo} or ${fo} environment variable is set`,!1)};function Eo(...e){return()=>{let t=Promise.reject(new Rs("No providers in chain"));for(const n of e)t=t.catch((e=>{if(e?.tryNextLink)return n();throw e}));return t}}const So=({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>{return w(Eo((s=e,async()=>{try{const e=s(process.env);if(void 0===e)throw new Error;return e}catch(e){throw new Ds(e.message||`Cannot load config from environment variables with getter: ${s}`)}}),((e,{preferredFile:t="config",...n}={})=>async()=>{const r=Fs(n),{configFile:s,credentialsFile:o}=await to(n),i=o[r]||{},a=s[r]||{},c="config"===t?{...i,...a}:{...a,...i};try{const t=e(c);if(void 0===t)throw new Error;return t}catch(t){throw new Ds(t.message||`Cannot load config for profile ${r} in SDK configuration files with getter: ${e}`)}})(t,r),(e=>{return"function"==typeof e?async()=>await e():(t=e,()=>Promise.resolve(t));var t})(n)));var s};var xo;!function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"}(xo||(xo={}));const Po={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:e=>e.ec2_metadata_service_endpoint,default:void 0};var Co;!function(e){e.IPv4="IPv4",e.IPv6="IPv6"}(Co||(Co={}));const To={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:e=>e.ec2_metadata_service_endpoint_mode,default:Co.IPv4},Ao=async()=>Wt(await Io()||await ko()),Io=async()=>So(Po)(),ko=async()=>{const e=await So(To)();switch(e){case Co.IPv4:return xo.IPv4;case Co.IPv6:return xo.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Co)}`)}},Oo=(e,t)=>{const n=300+Math.floor(300*Math.random()),r=new Date(Date.now()+1e3*n);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html");const s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}},No="/latest/meta-data/iam/security-credentials/",Ro=(e={})=>((e,t={})=>{const n=t?.logger||console;let r;return async()=>{let t;try{t=await e(),t.expiration&&t.expiration.getTime()<Date.now()&&(t=Oo(t,n))}catch(e){if(!r)throw e;n.warn("Credential renew failed: ",e),t=Oo(r,n)}return r=t,t}})(Do(e),{logger:e.logger}),Do=e=>{let t=!1;const{timeout:n,maxRetries:r}=po(e),s=async(e,n)=>{const r=(await ho((async()=>{let e;try{e=await $o(n)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e}),e)).trim();return ho((async()=>{let e;try{e=await jo(r,n)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e}),e)};return async()=>{const e=await Ao();if(t)return s(r,{...e,timeout:n});{let o;try{o=(await Mo({...e,timeout:n})).toString()}catch(o){if(400===o?.statusCode)throw Object.assign(o,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===o.message||[403,404,405].includes(o.statusCode))&&(t=!0),s(r,{...e,timeout:n})}return s(r,{...e,headers:{"x-aws-ec2-metadata-token":o},timeout:n})}}},Mo=async e=>co({...e,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),$o=async e=>(await co({...e,path:No})).toString(),jo=async(e,t)=>{const n=JSON.parse((await co({...t,path:No+e})).toString());if(!uo(n))throw new Ds("Invalid response received from instance metadata service.");return lo(n)},qo=require("child_process"),Uo=(e={})=>async()=>{const t=await io(e);return(async(e,t)=>{const n=t[e];if(!t[e])throw new Ds(`Profile ${e} could not be found in shared credentials file.`);{const t=n.credential_process;if(void 0===t)throw new Ds(`Profile ${e} did not contain credential_process.`);{const n=(0,Hn.promisify)(qo.exec);try{const{stdout:r}=await n(t);let s;try{s=JSON.parse(r.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return((e,t)=>{if(1!==t.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===t.AccessKeyId||void 0===t.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){const n=new Date;if(new Date(t.Expiration)<n)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}})(e,s)}catch(e){throw new Ds(e.message)}}}})(Fs(e),t)},Fo=e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name);var Lo=n(7282);const zo=({serviceId:e,clientVersion:t})=>{const r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,$s.platform)()}`,(0,$s.release)()],["lang/js"],["md/nodejs",`${Lo.versions.node}`]],s=(()=>{try{return n(8687)?["md/crt-avail"]:null}catch(e){return null}})();s&&r.push(s),e&&r.push([`api/${e}`,t]),Lo.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Lo.env.AWS_EXECUTION_ENV}`]);const o=So({environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e["sdk-ua-app-id"],default:void 0})();let i;return async()=>{if(!i){const e=await o;i=e?[...r,[`app/${e}`]]:[...r]}return i}};class Bo{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update(z(Ho(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,hn.createHmac)(this.algorithmIdentifier,Ho(this.secret)):(0,hn.createHash)(this.algorithmIdentifier)}}function Ho(e,t){return q.Buffer.isBuffer(e)?e:"string"==typeof e?F(e,t):ArrayBuffer.isView(e)?U(e.buffer,e.byteOffset,e.byteLength):U(e)}const Vo=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.from(e).length;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,zs.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,zs.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},Wo="required",Ko="fn",Go="argv",Qo="ref",Xo="PartitionResult",Jo="tree",Yo="error",Zo="endpoint",ei={[Wo]:!1,type:"String"},ti={[Wo]:!0,default:!1,type:"Boolean"},ni={[Qo]:"Endpoint"},ri={[Ko]:"booleanEquals",[Go]:[{[Qo]:"UseFIPS"},!0]},si={[Ko]:"booleanEquals",[Go]:[{[Qo]:"UseDualStack"},!0]},oi={},ii={[Ko]:"booleanEquals",[Go]:[!0,{[Ko]:"getAttr",[Go]:[{[Qo]:Xo},"supportsFIPS"]}]},ai={[Ko]:"booleanEquals",[Go]:[!0,{[Ko]:"getAttr",[Go]:[{[Qo]:Xo},"supportsDualStack"]}]},ci=[ni],ui=[ri],li=[si],di={version:"1.0",parameters:{Region:ei,UseDualStack:ti,UseFIPS:ti,Endpoint:ei},rules:[{conditions:[{[Ko]:"aws.partition",[Go]:[{[Qo]:"Region"}],assign:Xo}],type:Jo,rules:[{conditions:[{[Ko]:"isSet",[Go]:ci},{[Ko]:"parseURL",[Go]:ci,assign:"url"}],type:Jo,rules:[{conditions:ui,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yo},{type:Jo,rules:[{conditions:li,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yo},{endpoint:{url:ni,properties:oi,headers:oi},type:Zo}]}]},{conditions:[ri,si],type:Jo,rules:[{conditions:[ii,ai],type:Jo,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:oi,headers:oi},type:Zo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yo}]},{conditions:ui,type:Jo,rules:[{conditions:[ii],type:Jo,rules:[{type:Jo,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:oi,headers:oi},type:Zo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Yo}]},{conditions:li,type:Jo,rules:[{conditions:[ai],type:Jo,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:oi,headers:oi},type:Zo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Yo}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:oi,headers:oi},type:Zo}]}]},pi=(e,t={})=>gt(di,{endpointParams:e,logger:t.logger}),hi="AWS_REGION",fi="AWS_DEFAULT_REGION",mi=["in-region","cross-region","mobile","standard","legacy"],gi={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},yi=({region:e=So(At),defaultsMode:t=So(gi)}={})=>w((async()=>{const n="function"==typeof t?await t():t;switch(n?.toLowerCase()){case"auto":return wi(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${mi.join(", ")}, got ${n}`)}})),wi=async e=>{if(e){const t="function"==typeof e?await e():e,n=await _i();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},_i=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[hi]||process.env[fi]))return process.env[hi]??process.env[fi];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const e=await Ao();return(await co({...e,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}};class vi extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pi,logger:e?.logger??new Tn,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var n;const r=Nt(t),s=Kt(r),o=Ce(dn(s));super(o),this.config=o,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}class bi extends wr{constructor(e){super(e),Object.setPrototypeOf(this,bi.prototype)}}class Ei extends bi{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Ei.prototype)}}class Si extends bi{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Si.prototype)}}class xi extends bi{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,xi.prototype)}}class Pi extends bi{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Pi.prototype)}}const Ci=e=>({...e,...e.accessToken&&{accessToken:Kn}}),Ti=e=>({...e,...e.secretAccessKey&&{secretAccessKey:Kn},...e.sessionToken&&{sessionToken:Kn}}),Ai=e=>({...e,...e.roleCredentials&&{roleCredentials:Ti(e.roleCredentials)}}),Ii=vr(bi),ki=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{message:tr});Object.assign(n,s);const o=new Ei({$metadata:Di(e),...n});return _r(o,e.body)},Oi=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{message:tr});Object.assign(n,s);const o=new Si({$metadata:Di(e),...n});return _r(o,e.body)},Ni=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{message:tr});Object.assign(n,s);const o=new xi({$metadata:Di(e),...n});return _r(o,e.body)},Ri=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{message:tr});Object.assign(n,s);const o=new Pi({$metadata:Di(e),...n});return _r(o,e.body)},Di=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Mi=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),$i=(e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),ji=async(e,t)=>{const n=await $i(e,t);return n.message=n.message??n.Message,n},qi=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Ui extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,Ui.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Ci,outputFilterSensitiveLog:Ai},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=Ar({},Mi,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=Ar({role_name:[,Zn(e.roleName,"roleName")],account_id:[,Zn(e.accountId,"accountId")]});return new u({protocol:r,hostname:n,port:s,method:"GET",headers:i,path:a,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await ji(e.body,t)},r=qi(e,n.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await ki(n,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Oi(n,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ni(n,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ri(n,t);default:const s=n.body;return Ii({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=Ar({$metadata:Di(e)}),r=Zn(er(await $i(e.body,t)),"body"),s=Ir(r,{roleCredentials:$r});return Object.assign(n,s),n})(e,t)}}class Fi extends Rs{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="TokenProviderError",Object.setPrototypeOf(this,Fi.prototype)}}const Li="To refresh this SSO session run 'aws sso login' with the corresponding profile.";class zi extends wr{constructor(e){super(e),Object.setPrototypeOf(this,zi.prototype)}}class Bi extends zi{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Bi.prototype),this.error=e.error,this.error_description=e.error_description}}class Hi extends zi{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Hi.prototype),this.error=e.error,this.error_description=e.error_description}}class Vi extends zi{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Vi.prototype),this.error=e.error,this.error_description=e.error_description}}class Wi extends zi{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Wi.prototype),this.error=e.error,this.error_description=e.error_description}}class Ki extends zi{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Ki.prototype),this.error=e.error,this.error_description=e.error_description}}class Gi extends zi{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Gi.prototype),this.error=e.error,this.error_description=e.error_description}}class Qi extends zi{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Qi.prototype),this.error=e.error,this.error_description=e.error_description}}class Xi extends zi{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Xi.prototype),this.error=e.error,this.error_description=e.error_description}}class Ji extends zi{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Ji.prototype),this.error=e.error,this.error_description=e.error_description}}class Yi extends zi{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Yi.prototype),this.error=e.error,this.error_description=e.error_description}}class Zi extends zi{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Zi.prototype),this.error=e.error,this.error_description=e.error_description}}const ea=vr(zi),ta=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Bi({$metadata:pa(e),...n});return _r(o,e.body)},na=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Hi({$metadata:pa(e),...n});return _r(o,e.body)},ra=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Vi({$metadata:pa(e),...n});return _r(o,e.body)},sa=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Wi({$metadata:pa(e),...n});return _r(o,e.body)},oa=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Ki({$metadata:pa(e),...n});return _r(o,e.body)},ia=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Gi({$metadata:pa(e),...n});return _r(o,e.body)},aa=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Qi({$metadata:pa(e),...n});return _r(o,e.body)},ca=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Xi({$metadata:pa(e),...n});return _r(o,e.body)},ua=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Ji({$metadata:pa(e),...n});return _r(o,e.body)},la=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Yi({$metadata:pa(e),...n});return _r(o,e.body)},da=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{error:tr,error_description:tr});Object.assign(n,s);const o=new Zi({$metadata:pa(e),...n});return _r(o,e.body)},pa=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),ha=(e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),fa=async(e,t)=>{const n=await ha(e,t);return n.message=n.message??n.Message,n},ma=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class ga extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,ga.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/token`;let a;return a=JSON.stringify(Ir(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>$r(e)})),new u({protocol:r,hostname:n,port:s,method:"POST",headers:{"content-type":"application/json"},path:i,body:a})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await fa(e.body,t)},r=ma(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await ta(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await na(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await ra(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await sa(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await oa(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await ia(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await aa(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ca(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await ua(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await la(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await da(n,t);default:const s=n.body;return ea({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=Ar({$metadata:pa(e)}),r=Zn(er(await ha(e.body,t)),"body"),s=Ir(r,{accessToken:tr,expiresIn:Xn,idToken:tr,refreshToken:tr,tokenType:tr});return Object.assign(n,s),n})(e,t)}}const ya="required",wa="fn",_a="argv",va="ref",ba="PartitionResult",Ea="tree",Sa="error",xa="endpoint",Pa={[ya]:!1,type:"String"},Ca={[ya]:!0,default:!1,type:"Boolean"},Ta={[va]:"Endpoint"},Aa={[wa]:"booleanEquals",[_a]:[{[va]:"UseFIPS"},!0]},Ia={[wa]:"booleanEquals",[_a]:[{[va]:"UseDualStack"},!0]},ka={},Oa={[wa]:"booleanEquals",[_a]:[!0,{[wa]:"getAttr",[_a]:[{[va]:ba},"supportsFIPS"]}]},Na={[wa]:"booleanEquals",[_a]:[!0,{[wa]:"getAttr",[_a]:[{[va]:ba},"supportsDualStack"]}]},Ra=[Ta],Da=[Aa],Ma=[Ia],$a={version:"1.0",parameters:{Region:Pa,UseDualStack:Ca,UseFIPS:Ca,Endpoint:Pa},rules:[{conditions:[{[wa]:"aws.partition",[_a]:[{[va]:"Region"}],assign:ba}],type:Ea,rules:[{conditions:[{[wa]:"isSet",[_a]:Ra},{[wa]:"parseURL",[_a]:Ra,assign:"url"}],type:Ea,rules:[{conditions:Da,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Sa},{type:Ea,rules:[{conditions:Ma,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Sa},{endpoint:{url:Ta,properties:ka,headers:ka},type:xa}]}]},{conditions:[Aa,Ia],type:Ea,rules:[{conditions:[Oa,Na],type:Ea,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ka,headers:ka},type:xa}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Sa}]},{conditions:Da,type:Ea,rules:[{conditions:[Oa],type:Ea,rules:[{type:Ea,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ka,headers:ka},type:xa}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Sa}]},{conditions:Ma,type:Ea,rules:[{conditions:[Na],type:Ea,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ka,headers:ka},type:xa}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Sa}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:ka,headers:ka},type:xa}]}]},ja=(e,t={})=>gt($a,{endpointParams:e,logger:t.logger});class qa extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ja,logger:e?.logger??new Tn,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var n;const r=Nt(t),s=Kt(r),o=Ce(dn(s));super(o),this.config=o,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}const Ua={},Fa=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Fi(`Token is expired. ${Li}`,!1)},La=(e,t,n=!1)=>{if(void 0===t)throw new Fi(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${Li}`,!1)},{writeFile:za}=zs.promises,Ba=new Date(0),Ha=(e={})=>async()=>{const t=await io(e),n=Fs(e),r=t[n];if(!r)throw new Fi(`Profile '${n}' could not be found in shared credentials file.`,!1);if(!r.sso_session)throw new Fi(`Profile '${n}' is missing required property 'sso_session'.`);const s=r.sso_session,o=(await oo(e))[s];if(!o)throw new Fi(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(const e of["sso_start_url","sso_region"])if(!o[e])throw new Fi(`Sso session '${s}' is missing required property '${e}'.`,!1);o.sso_start_url;const i=o.sso_region;let a;try{a=await Hs(s)}catch(e){throw new Fi(`The SSO session token associated with profile=${n} was not found or is invalid. ${Li}`,!1)}La("accessToken",a.accessToken),La("expiresAt",a.expiresAt);const{accessToken:c,expiresAt:u}=a,l={token:c,expiration:new Date(u)};if(l.expiration.getTime()-Date.now()>3e5)return l;if(Date.now()-Ba.getTime()<3e4)return Fa(l),l;La("clientId",a.clientId,!0),La("clientSecret",a.clientSecret,!0),La("refreshToken",a.refreshToken,!0);try{Ba.setTime(Date.now());const e=await((e,t)=>{const n=(e=>{if(Ua[e])return Ua[e];const t=new qa({region:e});return Ua[e]=t,t})(t);return n.send(new ga({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))})(a,i);La("accessToken",e.accessToken),La("expiresIn",e.expiresIn);const t=new Date(Date.now()+1e3*e.expiresIn);try{await((e,t)=>{const n=Ls(e),r=JSON.stringify(t,null,2);return za(n,r)})(s,{...a,accessToken:e.accessToken,expiresAt:t.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:t}}catch(e){return Fa(l),l}},Va=!1,Wa=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:i})=>{let a;const c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{const e=await Ha({profile:i})();a={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new Ds(e.message,Va)}else try{a=await Hs(e)}catch(e){throw new Ds(`The SSO session associated with this profile is invalid. ${c}`,Va)}if(new Date(a.expiresAt).getTime()-Date.now()<=9e5)throw new Ds(`The SSO session associated with this profile has expired. ${c}`,Va);const{accessToken:u}=a,l=o||new vi({region:r});let d;try{d=await l.send(new Ui({accountId:n,roleName:s,accessToken:u}))}catch(e){throw Ds.from(e,Va)}const{roleCredentials:{accessKeyId:p,secretAccessKey:h,sessionToken:f,expiration:m}={}}=d;if(!(p&&h&&f&&m))throw new Ds("SSO returns an invalid temporary credential.",Va);return{accessKeyId:p,secretAccessKey:h,sessionToken:f,expiration:new Date(m)}},Ka=e=>{const{sso_start_url:t,sso_account_id:n,sso_region:r,sso_role_name:s}=e;if(!(t&&n&&r&&s))throw new Ds(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},Ga=(e={})=>async()=>{const{ssoStartUrl:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,ssoSession:i}=e,a=Fs(e);if(t||n||r||s||i){if(t&&n&&r&&s)return Wa({ssoStartUrl:t,ssoSession:i,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:a});throw new Ds('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"')}{const n=(await io(e))[a];if(!n)throw new Ds(`Profile ${a} was not found.`);if(!Fo(n))throw new Ds(`Profile ${a} is not configured with SSO credentials.`);if(n?.sso_session){const s=(await oo(e))[n.sso_session],o=` configurations in profile ${a} and sso-session ${n.sso_session}`;if(r&&r!==s.sso_region)throw new Ds("Conflicting SSO region"+o,!1);if(t&&t!==s.sso_start_url)throw new Ds("Conflicting SSO start_url"+o,!1);n.sso_region=s.sso_region,n.sso_start_url=s.sso_start_url}const{sso_start_url:s,sso_account_id:i,sso_region:c,sso_role_name:u,sso_session:l}=Ka(n);return Wa({ssoStartUrl:s,ssoSession:l,ssoAccountId:i,ssoRegion:c,ssoRoleName:u,ssoClient:o,profile:a})}},Qa=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Xa=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token}),Ja=(e={})=>async()=>{const t=e?.webIdentityTokenFile??process.env.AWS_WEB_IDENTITY_TOKEN_FILE,n=e?.roleArn??process.env.AWS_ROLE_ARN,r=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!t||!n)throw new Ds("Web identity configuration not specified");return(e=>()=>{const{roleArn:t,roleSessionName:n,webIdentityToken:r,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new Ds(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:r,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})})({...e,webIdentityToken:(0,zs.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:r})()},Ya=async(e,t,n,r={})=>{const s=t[e];if(Object.keys(r).length>0&&Qa(s))return Xa(s);if(o=s,Boolean(o)&&"object"==typeof o&&"string"==typeof o.role_arn&&["undefined","string"].indexOf(typeof o.role_session_name)>-1&&["undefined","string"].indexOf(typeof o.external_id)>-1&&["undefined","string"].indexOf(typeof o.mfa_serial)>-1&&((e=>"string"==typeof e.source_profile&&void 0===e.credential_source)(o)||(e=>"string"==typeof e.credential_source&&void 0===e.source_profile)(o)))return(async(e,t,n,r={})=>{const s=t[e];if(!n.roleAssumer)throw new Ds(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);const{source_profile:o}=s;if(o&&o in r)throw new Ds(`Detected a cycle attempting to resolve credentials for profile ${Fs(n)}. Profiles visited: `+Object.keys(r).join(", "),!1);const i=o?Ya(o,t,n,{...r,[o]:!0}):((e,t)=>{const n={EcsContainer:yo,Ec2InstanceMetadata:Ro,Environment:Ms};if(e in n)return n[e]();throw new Ds(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)})(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!n.mfaCodeProvider)throw new Ds(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await n.mfaCodeProvider(c)}const u=await i;return n.roleAssumer(u,a)})(e,t,n,r);var o;if(Qa(s))return Xa(s);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1)(s))return(async(e,t)=>Ja({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})())(s,n);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.credential_process)(s))return(async(e,t)=>Uo({...e,profile:t})())(n,e);if(Fo(s))return(e=>{const{sso_start_url:t,sso_account_id:n,sso_session:r,sso_region:s,sso_role_name:o}=Ka(e);return Ga({ssoStartUrl:t,ssoAccountId:n,ssoSession:r,ssoRegion:s,ssoRoleName:o})()})(s);throw new Ds(`Profile ${e} could not be found or parsed in shared credentials file.`)},Za=(e={})=>w(Eo(...e.profile||process.env[Us]?[]:[Ms()],Ga(e),((e={})=>async()=>{const t=await io(e);return Ya(Fs(e),t,e)})(e),Uo(e),Ja(e),(e=>process.env[mo]||process.env[fo]?yo(e):process.env.AWS_EC2_METADATA_DISABLED?async()=>{throw new Ds("EC2 Instance Metadata Service access disabled")}:Ro(e))(e),(async()=>{throw new Ds("Could not load credentials from any providers",!1)})),(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)),ec="required",tc="type",nc="fn",rc="argv",sc="ref",oc="booleanEquals",ic="tree",ac="stringEquals",cc="sigv4",uc="us-east-1",lc="endpoint",dc="https://sts.{Region}.{PartitionResult#dnsSuffix}",pc="error",hc="getAttr",fc={[ec]:!1,[tc]:"String"},mc={[ec]:!0,default:!1,[tc]:"Boolean"},gc={[sc]:"Endpoint"},yc={[nc]:"isSet",[rc]:[{[sc]:"Region"}]},wc={[sc]:"Region"},_c={[nc]:"aws.partition",[rc]:[wc],assign:"PartitionResult"},vc={[sc]:"UseFIPS"},bc={[sc]:"UseDualStack"},Ec={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:cc,signingName:"sts",signingRegion:uc}]},headers:{}},Sc={},xc={conditions:[{[nc]:ac,[rc]:[wc,"aws-global"]}],[lc]:Ec,[tc]:lc},Pc={[nc]:oc,[rc]:[vc,!0]},Cc={[nc]:oc,[rc]:[bc,!0]},Tc={[nc]:oc,[rc]:[!0,{[nc]:hc,[rc]:[{[sc]:"PartitionResult"},"supportsFIPS"]}]},Ac={[sc]:"PartitionResult"},Ic={[nc]:oc,[rc]:[!0,{[nc]:hc,[rc]:[Ac,"supportsDualStack"]}]},kc=[{[nc]:"isSet",[rc]:[gc]}],Oc=[Pc],Nc=[Cc],Rc={version:"1.0",parameters:{Region:fc,UseDualStack:mc,UseFIPS:mc,Endpoint:fc,UseGlobalEndpoint:mc},rules:[{conditions:[{[nc]:oc,[rc]:[{[sc]:"UseGlobalEndpoint"},!0]},{[nc]:"not",[rc]:kc},yc,_c,{[nc]:oc,[rc]:[vc,!1]},{[nc]:oc,[rc]:[bc,!1]}],[tc]:ic,rules:[{conditions:[{[nc]:ac,[rc]:[wc,"ap-northeast-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"ap-south-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"ap-southeast-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"ap-southeast-2"]}],endpoint:Ec,[tc]:lc},xc,{conditions:[{[nc]:ac,[rc]:[wc,"ca-central-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"eu-central-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"eu-north-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"eu-west-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"eu-west-2"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"eu-west-3"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"sa-east-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,uc]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"us-east-2"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"us-west-1"]}],endpoint:Ec,[tc]:lc},{conditions:[{[nc]:ac,[rc]:[wc,"us-west-2"]}],endpoint:Ec,[tc]:lc},{endpoint:{url:dc,properties:{authSchemes:[{name:cc,signingName:"sts",signingRegion:"{Region}"}]},headers:Sc},[tc]:lc}]},{conditions:kc,[tc]:ic,rules:[{conditions:Oc,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[tc]:pc},{[tc]:ic,rules:[{conditions:Nc,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[tc]:pc},{endpoint:{url:gc,properties:Sc,headers:Sc},[tc]:lc}]}]},{[tc]:ic,rules:[{conditions:[yc],[tc]:ic,rules:[{conditions:[_c],[tc]:ic,rules:[{conditions:[Pc,Cc],[tc]:ic,rules:[{conditions:[Tc,Ic],[tc]:ic,rules:[{[tc]:ic,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sc,headers:Sc},[tc]:lc}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[tc]:pc}]},{conditions:Oc,[tc]:ic,rules:[{conditions:[Tc],[tc]:ic,rules:[{[tc]:ic,rules:[{conditions:[{[nc]:ac,[rc]:["aws-us-gov",{[nc]:hc,[rc]:[Ac,"name"]}]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Sc,headers:Sc},[tc]:lc},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Sc,headers:Sc},[tc]:lc}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[tc]:pc}]},{conditions:Nc,[tc]:ic,rules:[{conditions:[Ic],[tc]:ic,rules:[{[tc]:ic,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sc,headers:Sc},[tc]:lc}]}]},{error:"DualStack is enabled but this partition does not support DualStack",[tc]:pc}]},{[tc]:ic,rules:[xc,{endpoint:{url:dc,properties:Sc,headers:Sc},[tc]:lc}]}]}]},{error:"Invalid Configuration: Missing Region",[tc]:pc}]}]},Dc=(e,t={})=>gt(Rc,{endpointParams:e,logger:t.logger});class Mc extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Dc,logger:e?.logger??new Tn,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,credentialDefaultProvider:e?.credentialDefaultProvider??(s=Za,e=>s({roleAssumer:Os(e,e.stsClientCtor),roleAssumerWithWebIdentity:Ns(e,e.stsClientCtor),...e})),defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)};var s})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,useGlobalEndpoint:n.useGlobalEndpoint??!1,defaultSigningName:"sts"});var n;const r=Nt(t),s=Kt(r),o=Ce(((e,{stsClientCtor:t})=>_e({...e,stsClientCtor:t}))(dn(s),{stsClientCtor:Mc}));super(o),this.config=o,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}const $c=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,jc=(e={},t)=>Os(e,$c(Mc,t)),qc=(e={},t)=>Ns(e,$c(Mc,t)),Uc=e=>t=>e({roleAssumer:jc(t),roleAssumerWithWebIdentity:qc(t),...t}),Fc="required",Lc="fn",zc="argv",Bc="ref",Hc="isSet",Vc="tree",Wc="error",Kc="endpoint",Gc="PartitionResult",Qc="stringEquals",Xc={[Fc]:!1,type:"String"},Jc={[Fc]:!0,default:!1,type:"Boolean"},Yc={[Bc]:"Endpoint"},Zc={[Lc]:"booleanEquals",[zc]:[{[Bc]:"UseFIPS"},!0]},eu={[Lc]:"booleanEquals",[zc]:[{[Bc]:"UseDualStack"},!0]},tu={},nu={[Bc]:"Region"},ru={[Lc]:"booleanEquals",[zc]:[!0,{[Lc]:"getAttr",[zc]:[{[Bc]:Gc},"supportsFIPS"]}]},su={[Lc]:"booleanEquals",[zc]:[!0,{[Lc]:"getAttr",[zc]:[{[Bc]:Gc},"supportsDualStack"]}]},ou=[Zc],iu=[eu],au=[nu],cu={version:"1.0",parameters:{Region:Xc,UseDualStack:Jc,UseFIPS:Jc,Endpoint:Xc},rules:[{conditions:[{[Lc]:Hc,[zc]:[Yc]}],type:Vc,rules:[{conditions:ou,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Wc},{type:Vc,rules:[{conditions:iu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Wc},{endpoint:{url:Yc,properties:tu,headers:tu},type:Kc}]}]},{type:Vc,rules:[{conditions:[{[Lc]:Hc,[zc]:au}],type:Vc,rules:[{conditions:[{[Lc]:"aws.partition",[zc]:au,assign:Gc}],type:Vc,rules:[{conditions:[Zc,eu],type:Vc,rules:[{conditions:[ru,su],type:Vc,rules:[{type:Vc,rules:[{endpoint:{url:"https://cloudtrail-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tu,headers:tu},type:Kc}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Wc}]},{conditions:ou,type:Vc,rules:[{conditions:[ru],type:Vc,rules:[{type:Vc,rules:[{conditions:[{[Lc]:Qc,[zc]:[nu,"us-gov-east-1"]}],endpoint:{url:"https://cloudtrail.us-gov-east-1.amazonaws.com",properties:tu,headers:tu},type:Kc},{conditions:[{[Lc]:Qc,[zc]:[nu,"us-gov-west-1"]}],endpoint:{url:"https://cloudtrail.us-gov-west-1.amazonaws.com",properties:tu,headers:tu},type:Kc},{endpoint:{url:"https://cloudtrail-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tu,headers:tu},type:Kc}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Wc}]},{conditions:iu,type:Vc,rules:[{conditions:[su],type:Vc,rules:[{type:Vc,rules:[{endpoint:{url:"https://cloudtrail.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tu,headers:tu},type:Kc}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Wc}]},{type:Vc,rules:[{endpoint:{url:"https://cloudtrail.{Region}.{PartitionResult#dnsSuffix}",properties:tu,headers:tu},type:Kc}]}]}]},{error:"Invalid Configuration: Missing Region",type:Wc}]}]},uu=(e,t={})=>gt(cu,{endpointParams:e,logger:t.logger});class lu extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2013-11-01",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uu,logger:e?.logger??new Tn,serviceId:e?.serviceId??"CloudTrail",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,credentialDefaultProvider:e?.credentialDefaultProvider??Uc(Za),defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"cloudtrail"});var n;const r=Nt(t),s=Kt(r),o=dn(s),i=Ce(_e(o));super(i),this.config=i,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(Pe(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}class du extends wr{constructor(e){super(e),Object.setPrototypeOf(this,du.prototype)}}class pu extends du{constructor(e){super({name:"OperationNotPermittedException",$fault:"client",...e}),this.name="OperationNotPermittedException",this.$fault="client",Object.setPrototypeOf(this,pu.prototype),this.Message=e.Message}}class hu extends du{constructor(e){super({name:"UnsupportedOperationException",$fault:"client",...e}),this.name="UnsupportedOperationException",this.$fault="client",Object.setPrototypeOf(this,hu.prototype),this.Message=e.Message}}class fu extends du{constructor(e){super({name:"InvalidMaxResultsException",$fault:"client",...e}),this.name="InvalidMaxResultsException",this.$fault="client",Object.setPrototypeOf(this,fu.prototype),this.Message=e.Message}}class mu extends du{constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),this.name="InvalidNextTokenException",this.$fault="client",Object.setPrototypeOf(this,mu.prototype),this.Message=e.Message}}class gu extends du{constructor(e){super({name:"InvalidTimeRangeException",$fault:"client",...e}),this.name="InvalidTimeRangeException",this.$fault="client",Object.setPrototypeOf(this,gu.prototype),this.Message=e.Message}}class yu extends du{constructor(e){super({name:"InvalidEventCategoryException",$fault:"client",...e}),this.name="InvalidEventCategoryException",this.$fault="client",Object.setPrototypeOf(this,yu.prototype),this.Message=e.Message}}class wu extends du{constructor(e){super({name:"InvalidLookupAttributesException",$fault:"client",...e}),this.name="InvalidLookupAttributesException",this.$fault="client",Object.setPrototypeOf(this,wu.prototype),this.Message=e.Message}}const _u=async(e,t)=>{const n=e.body,r=$r(n),s=new yu({$metadata:Tu(e),...r});return _r(s,n)},vu=async(e,t)=>{const n=e.body,r=$r(n),s=new wu({$metadata:Tu(e),...r});return _r(s,n)},bu=async(e,t)=>{const n=e.body,r=$r(n),s=new fu({$metadata:Tu(e),...r});return _r(s,n)},Eu=async(e,t)=>{const n=e.body,r=$r(n),s=new mu({$metadata:Tu(e),...r});return _r(s,n)},Su=async(e,t)=>{const n=e.body,r=$r(n),s=new gu({$metadata:Tu(e),...r});return _r(s,n)},xu=async(e,t)=>{const n=e.body,r=$r(n),s=new pu({$metadata:Tu(e),...r});return _r(s,n)},Pu=async(e,t)=>{const n=e.body,r=$r(n),s=new hu({$metadata:Tu(e),...r});return _r(s,n)},Cu=(e,t)=>Ir(e,{AccessKeyId:tr,CloudTrailEvent:tr,EventId:tr,EventName:tr,EventSource:tr,EventTime:e=>Zn((e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>Gn("string"==typeof e?rr(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))})(Gn(e))),ReadOnly:tr,Resources:$r,Username:tr}),Tu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Au=vr(du);const Iu=(e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),ku=async(e,t)=>{const n=await Iu(e,t);return n.message=n.message??n.Message,n},Ou=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Nu extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,Nu.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"CloudTrailClient",commandName:"LookupEventsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n={"content-type":"application/x-amz-json-1.1","x-amz-target":`CloudTrail_20131101.${"LookupEvents"}`};let r;return r=JSON.stringify(((e,t)=>Ir(e,{EndTime:e=>Math.round(e.getTime()/1e3),EventCategory:[],LookupAttributes:$r,MaxResults:[],NextToken:[],StartTime:e=>Math.round(e.getTime()/1e3)}))(e)),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==s&&(l.body=s),new u(l)})(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await ku(e.body,t)},r=Ou(e,n.body);switch(r){case"InvalidEventCategoryException":case"com.amazonaws.cloudtrail#InvalidEventCategoryException":throw await _u(n,t);case"InvalidLookupAttributesException":case"com.amazonaws.cloudtrail#InvalidLookupAttributesException":throw await vu(n,t);case"InvalidMaxResultsException":case"com.amazonaws.cloudtrail#InvalidMaxResultsException":throw await bu(n,t);case"InvalidNextTokenException":case"com.amazonaws.cloudtrail#InvalidNextTokenException":throw await Eu(n,t);case"InvalidTimeRangeException":case"com.amazonaws.cloudtrail#InvalidTimeRangeException":throw await Su(n,t);case"OperationNotPermittedException":case"com.amazonaws.cloudtrail#OperationNotPermittedException":throw await xu(n,t);case"UnsupportedOperationException":case"com.amazonaws.cloudtrail#UnsupportedOperationException":throw await Pu(n,t);default:const s=n.body;return Au({output:e,parsedBody:s,errorCode:r})}})(e,t);let n={};return n=((e,t)=>Ir(e,{Events:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Cu(e)));return n})(e),NextToken:tr}))(await Iu(e.body,t)),{$metadata:Tu(e),...n}})(e,t)}}var Ru=function(e){var t=JSON.parse(e.CloudTrailEvent).userIdentity.arn.split("/").slice(1),n=t[0],r=t[1];this.iamRole=n,this.stsSession=r,this.eventTime=e.EventTime},Du=function(){function e(){this.cloudTrailClient=new lu({})}return e.prototype.retrieveQuickSightUserEvents=function(e){return t=this,n=void 0,s=function(){var t,n,r,s;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:t=[],n=null,o.label=1;case 1:return r=new Nu({LookupAttributes:[{AttributeKey:"EventSource",AttributeValue:"quicksight.amazonaws.com"}],StartTime:e,NextToken:n}),[4,this.cloudTrailClient.send(r)];case 2:s=o.sent(),n=s.NextToken,s.Events.forEach((function(e){return t.push(new Ru(e))})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},e.prototype.getLastAccessDate=function(e,t){var n=t.filter((function(t){return e.iamRole===t.iamRole&&e.stsSession===t.stsSession}));if(0===n.length)return console.debug("".concat(e.iamRole,"/").concat(e.stsSession," no CloudTrail events found")),new Date(0);var r=n.sort((function(e,t){return e.eventTime<=t.eventTime?1:-1}))[0];return console.debug("".concat(e.iamRole,"/").concat(e.stsSession," latest event: ").concat(JSON.stringify(r,null,1))),r.eventTime},e}();const Mu="required",$u="fn",ju="argv",qu="ref",Uu="isSet",Fu="tree",Lu="error",zu="endpoint",Bu="PartitionResult",Hu="getAttr",Vu={[Mu]:!1,type:"String"},Wu={[Mu]:!0,default:!1,type:"Boolean"},Ku={[qu]:"Endpoint"},Gu={[$u]:"booleanEquals",[ju]:[{[qu]:"UseFIPS"},!0]},Qu={[$u]:"booleanEquals",[ju]:[{[qu]:"UseDualStack"},!0]},Xu={},Ju={[$u]:"booleanEquals",[ju]:[!0,{[$u]:Hu,[ju]:[{[qu]:Bu},"supportsFIPS"]}]},Yu={[qu]:Bu},Zu={[$u]:"booleanEquals",[ju]:[!0,{[$u]:Hu,[ju]:[Yu,"supportsDualStack"]}]},el=[Gu],tl=[Qu],nl=[{[qu]:"Region"}],rl={version:"1.0",parameters:{Region:Vu,UseDualStack:Wu,UseFIPS:Wu,Endpoint:Vu},rules:[{conditions:[{[$u]:Uu,[ju]:[Ku]}],type:Fu,rules:[{conditions:el,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Lu},{type:Fu,rules:[{conditions:tl,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Lu},{endpoint:{url:Ku,properties:Xu,headers:Xu},type:zu}]}]},{type:Fu,rules:[{conditions:[{[$u]:Uu,[ju]:nl}],type:Fu,rules:[{conditions:[{[$u]:"aws.partition",[ju]:nl,assign:Bu}],type:Fu,rules:[{conditions:[Gu,Qu],type:Fu,rules:[{conditions:[Ju,Zu],type:Fu,rules:[{type:Fu,rules:[{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xu,headers:Xu},type:zu}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Lu}]},{conditions:el,type:Fu,rules:[{conditions:[Ju],type:Fu,rules:[{type:Fu,rules:[{conditions:[{[$u]:"stringEquals",[ju]:["aws-us-gov",{[$u]:Hu,[ju]:[Yu,"name"]}]}],endpoint:{url:"https://monitoring.{Region}.amazonaws.com",properties:Xu,headers:Xu},type:zu},{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xu,headers:Xu},type:zu}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Lu}]},{conditions:tl,type:Fu,rules:[{conditions:[Zu],type:Fu,rules:[{type:Fu,rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xu,headers:Xu},type:zu}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Lu}]},{type:Fu,rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dnsSuffix}",properties:Xu,headers:Xu},type:zu}]}]}]},{error:"Invalid Configuration: Missing Region",type:Lu}]}]},sl=(e,t={})=>gt(rl,{endpointParams:e,logger:t.logger});class ol extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2010-08-01",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sl,logger:e?.logger??new Tn,serviceId:e?.serviceId??"CloudWatch",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,credentialDefaultProvider:e?.credentialDefaultProvider??Uc(Za),defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"monitoring"});var n;const r=Nt(t),s=Kt(r),o=dn(s),i=Ce(_e(o));super(i),this.config=i,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(Pe(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}class il extends wr{constructor(e){super(e),Object.setPrototypeOf(this,il.prototype)}}class al extends il{constructor(e){super({name:"InternalServiceFault",$fault:"server",...e}),this.name="InternalServiceFault",this.$fault="server",Object.setPrototypeOf(this,al.prototype),this.Message=e.Message}}class cl extends il{constructor(e){super({name:"InvalidParameterCombinationException",$fault:"client",...e}),this.name="InvalidParameterCombinationException",this.$fault="client",Object.setPrototypeOf(this,cl.prototype)}}class ul extends il{constructor(e){super({name:"InvalidParameterValueException",$fault:"client",...e}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,ul.prototype)}}class ll extends il{constructor(e){super({name:"MissingRequiredParameterException",$fault:"client",...e}),this.name="MissingRequiredParameterException",this.$fault="client",Object.setPrototypeOf(this,ll.prototype)}}const dl=async(e,t)=>{const n=e.body,r=vl(n.Error,t),s=new al({$metadata:xl(e),...r});return _r(s,n)},pl=async(e,t)=>{const n=e.body,r=bl(n.Error,t),s=new cl({$metadata:xl(e),...r});return _r(s,n)},hl=async(e,t)=>{const n=e.body,r=El(n.Error,t),s=new ul({$metadata:xl(e),...r});return _r(s,n)},fl=async(e,t)=>{const n=e.body,r=Sl(n.Error,t),s=new ll({$metadata:xl(e),...r});return _r(s,n)},ml=(e,t)=>{const n={};return null!=e.Name&&(n.Name=e.Name),null!=e.Value&&(n.Value=e.Value),n},gl=(e,t)=>{const n={};if(null!=e.MetricName&&(n.MetricName=e.MetricName),null!=e.Dimensions){const t=((e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=ml(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.Dimensions);0===e.Dimensions?.length&&(n.Dimensions=[]),Object.entries(t).forEach((([e,t])=>{n[`Dimensions.${e}`]=t}))}if(null!=e.Timestamp&&(n.Timestamp=e.Timestamp.toISOString().split(".")[0]+"Z"),null!=e.Value&&(n.Value=Mr(e.Value)),null!=e.StatisticValues){const r=wl(e.StatisticValues,t);Object.entries(r).forEach((([e,t])=>{n[`StatisticValues.${e}`]=t}))}if(null!=e.Values){const r=_l(e.Values,t);0===e.Values?.length&&(n.Values=[]),Object.entries(r).forEach((([e,t])=>{n[`Values.${e}`]=t}))}if(null!=e.Counts){const t=((e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=Mr(t),r++);return n})(e.Counts);0===e.Counts?.length&&(n.Counts=[]),Object.entries(t).forEach((([e,t])=>{n[`Counts.${e}`]=t}))}return null!=e.Unit&&(n.Unit=e.Unit),null!=e.StorageResolution&&(n.StorageResolution=e.StorageResolution),n},yl=(e,t)=>{const n={};if(null!=e.Namespace&&(n.Namespace=e.Namespace),null!=e.MetricData){const r=((e,t)=>{const n={};let r=1;for(const s of e){if(null===s)continue;const e=gl(s,t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.MetricData,t);0===e.MetricData?.length&&(n.MetricData=[]),Object.entries(r).forEach((([e,t])=>{n[`MetricData.${e}`]=t}))}return n},wl=(e,t)=>{const n={};return null!=e.SampleCount&&(n.SampleCount=Mr(e.SampleCount)),null!=e.Sum&&(n.Sum=Mr(e.Sum)),null!=e.Minimum&&(n.Minimum=Mr(e.Minimum)),null!=e.Maximum&&(n.Maximum=Mr(e.Maximum)),n},_l=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=Mr(t),r++);return n},vl=(e,t)=>{const n={};return void 0!==e.Message&&(n.Message=tr(e.Message)),n},bl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},El=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},Sl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},xl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Pl=vr(il),Cl={"content-type":"application/x-www-form-urlencoded"},Tl=async(e,t)=>{const n=await((e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Qr.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),Cr(o)}return{}})))(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Al=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Il extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,Il.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"CloudWatchClient",commandName:"PutMetricDataCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Cl;let r;return s={...yl(e,t),Action:"PutMetricData",Version:"2010-08-01"},r=Object.entries(s).map((([e,t])=>Pr(e)+"="+Pr(t))).join("&"),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==s&&(l.body=s),new u(l)})(t,n,"/",void 0,r);var s})(e,t)}deserialize(e,t){return(async(e,t)=>e.statusCode>=300?(async(e,t)=>{const n={...e,body:await Tl(e.body,t)},r=Al(e,n.body);switch(r){case"InternalServiceError":case"com.amazonaws.cloudwatch#InternalServiceFault":throw await dl(n,t);case"InvalidParameterCombination":case"com.amazonaws.cloudwatch#InvalidParameterCombinationException":throw await pl(n,t);case"InvalidParameterValue":case"com.amazonaws.cloudwatch#InvalidParameterValueException":throw await hl(n,t);case"MissingParameter":case"com.amazonaws.cloudwatch#MissingRequiredParameterException":throw await fl(n,t);default:const s=n.body;return Pl({output:e,parsedBody:s.Error,errorCode:r})}})(e,t):(await Vn(e.body,t),{$metadata:xl(e)}))(e,t)}}var kl=function(){function e(){this.metricData=[],this.cloudWatchClient=new ol({})}return e.prototype.queueMetric=function(e){this.metricData.push(e)},e.prototype.emitQueuedMetrics=function(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(t){switch(t.label){case 0:return e=new Il({Namespace:process.env.AWS_LAMBDA_FUNCTION_NAME,MetricData:this.metricData}),console.debug("Emitting metrics:\n".concat(JSON.stringify(e.input,null,2))),[4,this.cloudWatchClient.send(e)];case 1:return t.sent(),this.metricData=[],[2]}}))},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e}();const Ol="required",Nl="fn",Rl="argv",Dl="ref",Ml="PartitionResult",$l="tree",jl="error",ql="endpoint",Ul={[Ol]:!1,type:"String"},Fl={[Ol]:!0,default:!1,type:"Boolean"},Ll={[Dl]:"Endpoint"},zl={[Nl]:"booleanEquals",[Rl]:[{[Dl]:"UseFIPS"},!0]},Bl={[Nl]:"booleanEquals",[Rl]:[{[Dl]:"UseDualStack"},!0]},Hl={},Vl={[Nl]:"booleanEquals",[Rl]:[!0,{[Nl]:"getAttr",[Rl]:[{[Dl]:Ml},"supportsFIPS"]}]},Wl={[Nl]:"booleanEquals",[Rl]:[!0,{[Nl]:"getAttr",[Rl]:[{[Dl]:Ml},"supportsDualStack"]}]},Kl=[Ll],Gl=[zl],Ql=[Bl],Xl={version:"1.0",parameters:{Region:Ul,UseDualStack:Fl,UseFIPS:Fl,Endpoint:Ul},rules:[{conditions:[{[Nl]:"aws.partition",[Rl]:[{[Dl]:"Region"}],assign:Ml}],type:$l,rules:[{conditions:[{[Nl]:"isSet",[Rl]:Kl},{[Nl]:"parseURL",[Rl]:Kl,assign:"url"}],type:$l,rules:[{conditions:Gl,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:jl},{type:$l,rules:[{conditions:Ql,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:jl},{endpoint:{url:Ll,properties:Hl,headers:Hl},type:ql}]}]},{conditions:[zl,Bl],type:$l,rules:[{conditions:[Vl,Wl],type:$l,rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hl,headers:Hl},type:ql}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:jl}]},{conditions:Gl,type:$l,rules:[{conditions:[Vl],type:$l,rules:[{type:$l,rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Hl,headers:Hl},type:ql}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:jl}]},{conditions:Ql,type:$l,rules:[{conditions:[Wl],type:$l,rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hl,headers:Hl},type:ql}]},{error:"DualStack is enabled but this partition does not support DualStack",type:jl}]},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:Hl,headers:Hl},type:ql}]}]},Jl=(e,t={})=>gt(Xl,{endpointParams:e,logger:t.logger});class Yl extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Jl,logger:e?.logger??new Tn,serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,credentialDefaultProvider:e?.credentialDefaultProvider??Uc(Za),defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"ses"});var n;const r=Nt(t),s=Kt(r),o=dn(s),i=Ce(_e(o));super(i),this.config=i,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(Pe(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}class Zl extends wr{constructor(e){super(e),Object.setPrototypeOf(this,Zl.prototype)}}class ed extends Zl{constructor(e){super({name:"AccountSendingPausedException",$fault:"client",...e}),this.name="AccountSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,ed.prototype)}}class td extends Zl{constructor(e){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...e}),this.name="ConfigurationSetDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,td.prototype),this.ConfigurationSetName=e.ConfigurationSetName}}class nd extends Zl{constructor(e){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...e}),this.name="ConfigurationSetSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,nd.prototype),this.ConfigurationSetName=e.ConfigurationSetName}}class rd extends Zl{constructor(e){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...e}),this.name="MailFromDomainNotVerifiedException",this.$fault="client",Object.setPrototypeOf(this,rd.prototype)}}class sd extends Zl{constructor(e){super({name:"MessageRejected",$fault:"client",...e}),this.name="MessageRejected",this.$fault="client",Object.setPrototypeOf(this,sd.prototype)}}const od=async(e,t)=>{const n=e.body,r=fd(n.Error,t),s=new ed({$metadata:_d(e),...r});return _r(s,n)},id=async(e,t)=>{const n=e.body,r=md(n.Error,t),s=new td({$metadata:_d(e),...r});return _r(s,n)},ad=async(e,t)=>{const n=e.body,r=gd(n.Error,t),s=new nd({$metadata:_d(e),...r});return _r(s,n)},cd=async(e,t)=>{const n=e.body,r=yd(n.Error,t),s=new rd({$metadata:_d(e),...r});return _r(s,n)},ud=async(e,t)=>{const n=e.body,r=wd(n.Error,t),s=new sd({$metadata:_d(e),...r});return _r(s,n)},ld=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},dd=(e,t)=>{const n={};return null!=e.Data&&(n.Data=e.Data),null!=e.Charset&&(n.Charset=e.Charset),n},pd=(e,t)=>{const n={};return null!=e.Name&&(n.Name=e.Name),null!=e.Value&&(n.Value=e.Value),n},hd=(e,t)=>{const n={};if(null!=e.Source&&(n.Source=e.Source),null!=e.Destination){const t=((e,t)=>{const n={};if(null!=e.ToAddresses){const t=ld(e.ToAddresses);0===e.ToAddresses?.length&&(n.ToAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`ToAddresses.${e}`]=t}))}if(null!=e.CcAddresses){const t=ld(e.CcAddresses);0===e.CcAddresses?.length&&(n.CcAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`CcAddresses.${e}`]=t}))}if(null!=e.BccAddresses){const t=ld(e.BccAddresses);0===e.BccAddresses?.length&&(n.BccAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`BccAddresses.${e}`]=t}))}return n})(e.Destination);Object.entries(t).forEach((([e,t])=>{n[`Destination.${e}`]=t}))}if(null!=e.Message){const t=((e,t)=>{const n={};if(null!=e.Subject){const t=dd(e.Subject);Object.entries(t).forEach((([e,t])=>{n[`Subject.${e}`]=t}))}if(null!=e.Body){const t=((e,t)=>{const n={};if(null!=e.Text){const t=dd(e.Text);Object.entries(t).forEach((([e,t])=>{n[`Text.${e}`]=t}))}if(null!=e.Html){const t=dd(e.Html);Object.entries(t).forEach((([e,t])=>{n[`Html.${e}`]=t}))}return n})(e.Body);Object.entries(t).forEach((([e,t])=>{n[`Body.${e}`]=t}))}return n})(e.Message);Object.entries(t).forEach((([e,t])=>{n[`Message.${e}`]=t}))}if(null!=e.ReplyToAddresses){const t=ld(e.ReplyToAddresses);0===e.ReplyToAddresses?.length&&(n.ReplyToAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`ReplyToAddresses.${e}`]=t}))}if(null!=e.ReturnPath&&(n.ReturnPath=e.ReturnPath),null!=e.SourceArn&&(n.SourceArn=e.SourceArn),null!=e.ReturnPathArn&&(n.ReturnPathArn=e.ReturnPathArn),null!=e.Tags){const t=((e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=pd(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.Tags);0===e.Tags?.length&&(n.Tags=[]),Object.entries(t).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}return null!=e.ConfigurationSetName&&(n.ConfigurationSetName=e.ConfigurationSetName),n},fd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},md=(e,t)=>{const n={};return void 0!==e.ConfigurationSetName&&(n.ConfigurationSetName=tr(e.ConfigurationSetName)),void 0!==e.message&&(n.message=tr(e.message)),n},gd=(e,t)=>{const n={};return void 0!==e.ConfigurationSetName&&(n.ConfigurationSetName=tr(e.ConfigurationSetName)),void 0!==e.message&&(n.message=tr(e.message)),n},yd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},wd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=tr(e.message)),n},_d=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vd=vr(Zl),bd={"content-type":"application/x-www-form-urlencoded"},Ed=(e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Qr.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),Cr(o)}return{}})),Sd=async(e,t)=>{const n=await Ed(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},xd=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Pd extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,Pd.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SESClient",commandName:"SendEmailCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=bd;let r;return s={...hd(e),Action:"SendEmail",Version:"2010-12-01"},r=Object.entries(s).map((([e,t])=>Pr(e)+"="+Pr(t))).join("&"),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==s&&(l.body=s),new u(l)})(t,n,"/",void 0,r);var s})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Sd(e.body,t)},r=xd(e,n.body);switch(r){case"AccountSendingPausedException":case"com.amazonaws.ses#AccountSendingPausedException":throw await od(n,t);case"ConfigurationSetDoesNotExist":case"com.amazonaws.ses#ConfigurationSetDoesNotExistException":throw await id(n,t);case"ConfigurationSetSendingPausedException":case"com.amazonaws.ses#ConfigurationSetSendingPausedException":throw await ad(n,t);case"MailFromDomainNotVerifiedException":case"com.amazonaws.ses#MailFromDomainNotVerifiedException":throw await cd(n,t);case"MessageRejected":case"com.amazonaws.ses#MessageRejected":throw await ud(n,t);default:const s=n.body;return vd({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.MessageId&&(n.MessageId=tr(e.MessageId)),n})((await Ed(e.body,t)).SendEmailResult),{$metadata:_d(e),...n}})(e,t)}}var Cd,Td=function(){function e(){this.sesClient=new Yl({}),this.noLastAccessDate=new Date(0).toLocaleString()}return e.prototype.notifyUser=function(e){return t=this,n=void 0,s=function(){var t,n,r,s;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:return console.debug("Notifying ".concat(JSON.stringify(e,null,1))),t=e.lastAccess.toLocaleString()===this.noLastAccessDate?"not in the last ".concat(process.env.deleteDays," days"):e.lastAccess.toLocaleDateString(),n="I: QuickSight user ".concat(e.username," in account ").concat(process.env.accountAlias," will be deleted"),r='In order to <a href="https://aws.amazon.com/quicksight/pricing/">control costs ($24/month/user)</a>,\n    your AWS QuickSight user \''.concat(e.username,"' \n    will be deleted when you have not accessed QuickSight in ").concat(process.env.deleteDays," days. \n    CloudTrail records indicate that your last access was ").concat(t,".<br /><br />\n    \n    You can keep your user by logging in and taking actions in QuickSight. \n    Alternatively, you can do nothing, and your user will be automatically deleted. \n    Never fear, you simply log back into QuickSight and enter your e-mail, and your user gets recreated. \n    No dashboards or other resources will be deleted at this time (we may clean those up in the future, with notification, of course).<br /><br />\n    \n    Account Number: ").concat(process.env.awsAccountId,"<br />\n    Account Alias: ").concat(process.env.accountAlias,"<br />\n    Assumed Role: ").concat(e.iamRole,"<br />\n    Email: ").concat(e.email,'<br /><br />\n  \n    For further assistance, contact <a href="mailto:').concat(process.env.contact,'">').concat(process.env.contact,"</a>. Thank you and have a fantastically fun-filled day 🥳.\n    "),s=new Pd({Source:"".concat(process.env.accountAlias," Cloud Account Administrator<").concat(process.env.from,">"),Destination:{ToAddresses:[e.email],CcAddresses:JSON.parse(process.env.cc)},ReplyToAddresses:[process.env.replyTo],SourceArn:process.env.sesArn,Message:{Subject:{Data:n},Body:{Html:{Data:r}}}}),[4,this.sesClient.send(s)];case 1:return o.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},e}(),Ad=function(e){this.arn=e.Arn,this.email=e.Email,this.role=Cd[e.Role],this.username=e.UserName,this.invalid="N/A"===this.username;var t=this.username.split("/"),n=t[0],r=t[1];this.iamRole=n,this.stsSession=r};!function(e){e.READER="READER",e.AUTHOR="AUTHOR",e.ADMIN="ADMIN"}(Cd||(Cd={}));const Id="required",kd="fn",Od="argv",Nd="ref",Rd="isSet",Dd="tree",Md="error",$d="endpoint",jd="PartitionResult",qd={[Id]:!1,type:"String"},Ud={[Id]:!0,default:!1,type:"Boolean"},Fd={[Nd]:"Endpoint"},Ld={[kd]:"booleanEquals",[Od]:[{[Nd]:"UseFIPS"},!0]},zd={[kd]:"booleanEquals",[Od]:[{[Nd]:"UseDualStack"},!0]},Bd={},Hd={[kd]:"booleanEquals",[Od]:[!0,{[kd]:"getAttr",[Od]:[{[Nd]:jd},"supportsFIPS"]}]},Vd={[kd]:"booleanEquals",[Od]:[!0,{[kd]:"getAttr",[Od]:[{[Nd]:jd},"supportsDualStack"]}]},Wd=[Ld],Kd=[zd],Gd=[{[Nd]:"Region"}],Qd={version:"1.0",parameters:{Region:qd,UseDualStack:Ud,UseFIPS:Ud,Endpoint:qd},rules:[{conditions:[{[kd]:Rd,[Od]:[Fd]}],type:Dd,rules:[{conditions:Wd,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Md},{type:Dd,rules:[{conditions:Kd,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Md},{endpoint:{url:Fd,properties:Bd,headers:Bd},type:$d}]}]},{type:Dd,rules:[{conditions:[{[kd]:Rd,[Od]:Gd}],type:Dd,rules:[{conditions:[{[kd]:"aws.partition",[Od]:Gd,assign:jd}],type:Dd,rules:[{conditions:[Ld,zd],type:Dd,rules:[{conditions:[Hd,Vd],type:Dd,rules:[{type:Dd,rules:[{endpoint:{url:"https://quicksight-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bd,headers:Bd},type:$d}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Md}]},{conditions:Wd,type:Dd,rules:[{conditions:[Hd],type:Dd,rules:[{type:Dd,rules:[{endpoint:{url:"https://quicksight-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Bd,headers:Bd},type:$d}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Md}]},{conditions:Kd,type:Dd,rules:[{conditions:[Vd],type:Dd,rules:[{type:Dd,rules:[{endpoint:{url:"https://quicksight.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bd,headers:Bd},type:$d}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Md}]},{type:Dd,rules:[{endpoint:{url:"https://quicksight.{Region}.{PartitionResult#dnsSuffix}",properties:Bd,headers:Bd},type:$d}]}]}]},{error:"Invalid Configuration: Missing Region",type:Md}]}]},Xd=(e,t={})=>gt(Qd,{endpointParams:e,logger:t.logger});class Jd extends On{constructor(e){const t=(n=(e=>{xr(process.version);const t=yi(e),n=()=>t().then(Er),r=(e=>({apiVersion:"2018-04-01",base64Decoder:e?.base64Decoder??Rn,base64Encoder:e?.base64Encoder??Dn,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Xd,logger:e?.logger??new Tn,serviceId:e?.serviceId??"QuickSight",urlParser:e?.urlParser??Wt,utf8Decoder:e?.utf8Decoder??L,utf8Encoder:e?.utf8Encoder??B}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Vo,credentialDefaultProvider:e?.credentialDefaultProvider??Uc(Za),defaultUserAgentProvider:e?.defaultUserAgentProvider??zo({serviceId:r.serviceId,clientVersion:"3.369.0"}),maxAttempts:e?.maxAttempts??So(ln),region:e?.region??So(At,It),requestHandler:e?.requestHandler??new Ln(n),retryMode:e?.retryMode??So({...pn,default:async()=>(await n()).retryMode||Xt}),sha256:e?.sha256??Bo.bind(null,"sha256"),streamCollector:e?.streamCollector??Bn,useDualstackEndpoint:e?.useDualstackEndpoint??So(Ct),useFipsEndpoint:e?.useFipsEndpoint??So(Tt)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"quicksight"});var n;const r=Nt(t),s=Kt(r),o=dn(s),i=Ce(_e(o));super(i),this.config=i,this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(f(this.config)),this.middlewareStack.use(y(this.config)),this.middlewareStack.use(Pe(this.config)),this.middlewareStack.use(St(this.config))}destroy(){super.destroy()}}class Yd extends wr{constructor(e){super(e),Object.setPrototypeOf(this,Yd.prototype)}}class Zd extends Yd{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Zd.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}var ep,tp,np;!function(e){e.visit=(e,t)=>void 0!==e.AmazonElasticsearchParameters?t.AmazonElasticsearchParameters(e.AmazonElasticsearchParameters):void 0!==e.AthenaParameters?t.AthenaParameters(e.AthenaParameters):void 0!==e.AuroraParameters?t.AuroraParameters(e.AuroraParameters):void 0!==e.AuroraPostgreSqlParameters?t.AuroraPostgreSqlParameters(e.AuroraPostgreSqlParameters):void 0!==e.AwsIotAnalyticsParameters?t.AwsIotAnalyticsParameters(e.AwsIotAnalyticsParameters):void 0!==e.JiraParameters?t.JiraParameters(e.JiraParameters):void 0!==e.MariaDbParameters?t.MariaDbParameters(e.MariaDbParameters):void 0!==e.MySqlParameters?t.MySqlParameters(e.MySqlParameters):void 0!==e.OracleParameters?t.OracleParameters(e.OracleParameters):void 0!==e.PostgreSqlParameters?t.PostgreSqlParameters(e.PostgreSqlParameters):void 0!==e.PrestoParameters?t.PrestoParameters(e.PrestoParameters):void 0!==e.RdsParameters?t.RdsParameters(e.RdsParameters):void 0!==e.RedshiftParameters?t.RedshiftParameters(e.RedshiftParameters):void 0!==e.S3Parameters?t.S3Parameters(e.S3Parameters):void 0!==e.ServiceNowParameters?t.ServiceNowParameters(e.ServiceNowParameters):void 0!==e.SnowflakeParameters?t.SnowflakeParameters(e.SnowflakeParameters):void 0!==e.SparkParameters?t.SparkParameters(e.SparkParameters):void 0!==e.SqlServerParameters?t.SqlServerParameters(e.SqlServerParameters):void 0!==e.TeradataParameters?t.TeradataParameters(e.TeradataParameters):void 0!==e.TwitterParameters?t.TwitterParameters(e.TwitterParameters):void 0!==e.AmazonOpenSearchParameters?t.AmazonOpenSearchParameters(e.AmazonOpenSearchParameters):void 0!==e.ExasolParameters?t.ExasolParameters(e.ExasolParameters):void 0!==e.DatabricksParameters?t.DatabricksParameters(e.DatabricksParameters):t._(e.$unknown[0],e.$unknown[1])}(ep||(ep={}));class rp extends Yd{constructor(e){super({name:"InternalFailureException",$fault:"server",...e}),this.name="InternalFailureException",this.$fault="server",Object.setPrototypeOf(this,rp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class sp extends Yd{constructor(e){super({name:"InvalidParameterValueException",$fault:"client",...e}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,sp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class op extends Yd{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,op.prototype),this.Message=e.Message,this.ResourceType=e.ResourceType,this.RequestId=e.RequestId}}class ip extends Yd{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,ip.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class ap extends Yd{constructor(e){super({name:"ResourceUnavailableException",$fault:"server",...e}),this.name="ResourceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,ap.prototype),this.Message=e.Message,this.ResourceType=e.ResourceType,this.RequestId=e.RequestId}}class cp extends Yd{constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),this.name="PreconditionNotMetException",this.$fault="client",Object.setPrototypeOf(this,cp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}(tp||(tp={})).visit=(e,t)=>void 0!==e.ProjectOperation?t.ProjectOperation(e.ProjectOperation):void 0!==e.FilterOperation?t.FilterOperation(e.FilterOperation):void 0!==e.CreateColumnsOperation?t.CreateColumnsOperation(e.CreateColumnsOperation):void 0!==e.RenameColumnOperation?t.RenameColumnOperation(e.RenameColumnOperation):void 0!==e.CastColumnTypeOperation?t.CastColumnTypeOperation(e.CastColumnTypeOperation):void 0!==e.TagColumnOperation?t.TagColumnOperation(e.TagColumnOperation):void 0!==e.UntagColumnOperation?t.UntagColumnOperation(e.UntagColumnOperation):void 0!==e.OverrideDatasetParameterOperation?t.OverrideDatasetParameterOperation(e.OverrideDatasetParameterOperation):t._(e.$unknown[0],e.$unknown[1]),function(e){e.visit=(e,t)=>void 0!==e.RelationalTable?t.RelationalTable(e.RelationalTable):void 0!==e.CustomSql?t.CustomSql(e.CustomSql):void 0!==e.S3Source?t.S3Source(e.S3Source):t._(e.$unknown[0],e.$unknown[1])}(np||(np={}));class up extends Yd{constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),this.name="InvalidNextTokenException",this.$fault="client",Object.setPrototypeOf(this,up.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}const lp=vr(Yd),dp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr});Object.assign(n,s);const o=new Zd({$metadata:_p(e),...n});return _r(o,e.body)},pp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr});Object.assign(n,s);const o=new rp({$metadata:_p(e),...n});return _r(o,e.body)},hp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr});Object.assign(n,s);const o=new up({$metadata:_p(e),...n});return _r(o,e.body)},fp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr});Object.assign(n,s);const o=new sp({$metadata:_p(e),...n});return _r(o,e.body)},mp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr});Object.assign(n,s);const o=new cp({$metadata:_p(e),...n});return _r(o,e.body)},gp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr,ResourceType:tr});Object.assign(n,s);const o=new op({$metadata:_p(e),...n});return _r(o,e.body)},yp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr,ResourceType:tr});Object.assign(n,s);const o=new ap({$metadata:_p(e),...n});return _r(o,e.body)},wp=async(e,t)=>{const n=Ar({}),r=e.body,s=Ir(r,{Message:tr,RequestId:tr});Object.assign(n,s);const o=new ip({$metadata:_p(e),...n});return _r(o,e.body)},_p=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vp=(e,t)=>((e,t)=>Vn(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),bp=async(e,t)=>{const n=await vp(e,t);return n.message=n.message??n.Message,n},Ep=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Sp extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,Sp.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"QuickSightClient",commandName:"ListUsersCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint();let i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AwsAccountId}/namespaces/{Namespace}/users`;i=Dr(i,e,"AwsAccountId",(()=>e.AwsAccountId),"{AwsAccountId}",!1),i=Dr(i,e,"Namespace",(()=>e.Namespace),"{Namespace}",!1);const a=Ar({"next-token":[,e.NextToken],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()]});return new u({protocol:r,hostname:n,port:s,method:"GET",headers:{},path:i,query:a,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await bp(e.body,t)},r=Ep(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.quicksight#AccessDeniedException":throw await dp(n,t);case"InternalFailureException":case"com.amazonaws.quicksight#InternalFailureException":throw await pp(n,t);case"InvalidNextTokenException":case"com.amazonaws.quicksight#InvalidNextTokenException":throw await hp(n,t);case"InvalidParameterValueException":case"com.amazonaws.quicksight#InvalidParameterValueException":throw await fp(n,t);case"PreconditionNotMetException":case"com.amazonaws.quicksight#PreconditionNotMetException":throw await mp(n,t);case"ResourceNotFoundException":case"com.amazonaws.quicksight#ResourceNotFoundException":throw await gp(n,t);case"ResourceUnavailableException":case"com.amazonaws.quicksight#ResourceUnavailableException":throw await yp(n,t);case"ThrottlingException":case"com.amazonaws.quicksight#ThrottlingException":throw await wp(n,t);default:const s=n.body;return lp({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=Ar({$metadata:_p(e)}),r=Zn(er(await vp(e.body,t)),"body"),s=Ir(r,{NextToken:tr,RequestId:tr,UserList:$r});return Object.assign(n,s),Ar(n,{Status:[,e.statusCode]}),n})(e,t)}}class xp extends Wn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Vt(t,xp.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"QuickSightClient",commandName:"DeleteUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint();let i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AwsAccountId}/namespaces/{Namespace}/users/{UserName}`;return i=Dr(i,e,"UserName",(()=>e.UserName),"{UserName}",!1),i=Dr(i,e,"AwsAccountId",(()=>e.AwsAccountId),"{AwsAccountId}",!1),i=Dr(i,e,"Namespace",(()=>e.Namespace),"{Namespace}",!1),new u({protocol:r,hostname:n,port:s,method:"DELETE",headers:{},path:i,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await bp(e.body,t)},r=Ep(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.quicksight#AccessDeniedException":throw await dp(n,t);case"InternalFailureException":case"com.amazonaws.quicksight#InternalFailureException":throw await pp(n,t);case"InvalidParameterValueException":case"com.amazonaws.quicksight#InvalidParameterValueException":throw await fp(n,t);case"PreconditionNotMetException":case"com.amazonaws.quicksight#PreconditionNotMetException":throw await mp(n,t);case"ResourceNotFoundException":case"com.amazonaws.quicksight#ResourceNotFoundException":throw await gp(n,t);case"ResourceUnavailableException":case"com.amazonaws.quicksight#ResourceUnavailableException":throw await yp(n,t);case"ThrottlingException":case"com.amazonaws.quicksight#ThrottlingException":throw await wp(n,t);default:const s=n.body;return lp({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=Ar({$metadata:_p(e)}),r=Zn(er(await vp(e.body,t)),"body"),s=Ir(r,{RequestId:tr});return Object.assign(n,s),Ar(n,{Status:[,e.statusCode]}),n})(e,t)}}var Pp=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},Cp=function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Tp=function(){function e(){this.awsAccountId=process.env.awsAccountId,this.quickSightClient=new Jd({})}return e.prototype.retrieveUsers=function(){return Pp(this,void 0,void 0,(function(){var t,n,r,s;return Cp(this,(function(o){switch(o.label){case 0:t=[],n="",o.label=1;case 1:return r=new Sp({AwsAccountId:this.awsAccountId,Namespace:e.namespace,NextToken:n}),[4,this.quickSightClient.send(r)];case 2:s=o.sent(),n=s.NextToken,s.UserList.forEach((function(e){return t.push(new Ad(e))})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))}))},e.prototype.deleteUser=function(t){return Pp(this,void 0,void 0,(function(){var n;return Cp(this,(function(r){switch(r.label){case 0:return console.debug("Deleting ".concat(JSON.stringify(t,null,1))),n=new xp({AwsAccountId:this.awsAccountId,Namespace:e.namespace,UserName:t.username}),[4,this.quickSightClient.send(n)];case 1:return r.sent(),[2]}}))}))},e.namespace="default",e}();const Ap=function(){return e=void 0,t=void 0,r=function(){var e,t,n,r,s,o,i,a,c,u,l,d,p,h,f,m,g,y,w,_;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(v){switch(v.label){case 0:return e=process.env,t=e.deleteDays,n=e.notifyDays,r="true"===process.env.enableNotification,s=new Date,o=new Date,s.setDate(s.getDate()-parseInt(t)),o.setDate(o.getDate()-parseInt(n)),console.info("Notifying users with last access date on: ".concat(o.toLocaleDateString()," (").concat(n," days ago).")),console.info("Deleting users with last access date on or before: ".concat(s.toLocaleDateString()," (").concat(t," days ago).")),console.info("Notification enabled? ".concat(r,".")),i=new Tp,a=new Du,c=new Td,u=new kl,[4,i.retrieveUsers()];case 1:return l=v.sent(),[4,a.retrieveQuickSightUserEvents(s)];case 2:for(d=v.sent(),p=0,h=l;p<h.length;p++)(_=h[p]).lastAccess=a.getLastAccessDate(_,d);console.debug("QuickSight Users:\n".concat(JSON.stringify(l,null,2))),u.queueMetric({MetricName:"PriorQuickSightUsersCount",Value:l.length}),f=0,m=0,g=0,y=0,w=l,v.label=3;case 3:return y<w.length?(_=w[y]).invalid?(console.warn("Invalid user: ".concat(JSON.stringify(_))),f++,[3,8]):[3,4]:[3,9];case 4:return _.lastAccess<s?(m++,[4,i.deleteUser(_)]):[3,6];case 5:return v.sent(),[3,8];case 6:return r&&_.role!==Cd.READER&&_.lastAccess.toLocaleDateString()===o.toLocaleDateString()?(g++,[4,c.notifyUser(_)]):[3,8];case 7:v.sent(),v.label=8;case 8:return y++,[3,3];case 9:return u.queueMetric({MetricName:"InvalidUsersCount",Value:f}),u.queueMetric({MetricName:"UsersDeletedCount",Value:m}),u.queueMetric({MetricName:"NotificationsSentCount",Value:g}),u.queueMetric({MetricName:"RemainingQuickSightUsersCount",Value:l.length-m}),[4,u.emitQueuedMetrics()];case 10:return v.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}})(),module.exports=r})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFNBQVksV0FDcEMsV0FBWSxXQUFZLFNBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVks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QUY3QixvQkFFViw2QkFDVThFLEdBQ0o5RSxFQUFlaEksT0FBUytHLEdBQWUrRyxRQUN2QzlGLEVBQWVaLFdBQVdFLHVCQUF5QjBGLEVBQVcxRixzQkFDcEV1RyxJQUNBLEdBQU1QLEVBQW9CbkcsV0FBV2EsS0FKM0IsYUFJVixpQ0FaMkIsaUJBb0I3QixPQUpBd0YsRUFBdUI5SixZQUFZLENBQUV6QixXQUFZLG9CQUFxQmxkLE1BQU80b0IsSUFDN0VILEVBQXVCOUosWUFBWSxDQUFFekIsV0FBWSxvQkFBcUJsZCxNQUFPNm9CLElBQzdFSixFQUF1QjlKLFlBQVksQ0FBRXpCLFdBQVkseUJBQTBCbGQsTUFBTzhvQixJQUNsRkwsRUFBdUI5SixZQUFZLENBQUV6QixXQUFZLGdDQUFpQ2xkLE1BQU9zbkIsRUFBZ0J0akYsT0FBUzZrRixJQUNsSCxHQUFNSixFQUF1QjVKLG9DQUE3Qiw4QkF2RGMsa1JBd0RkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by9jcmMzMi9idWlsZC9hd3NfY3JjMzIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by9jcmMzMi9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL2NyYzMyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by91dGlsL2J1aWxkL2NvbnZlcnRUb0J1ZmZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by91dGlsL2J1aWxkL2lzRW1wdHlEYXRhLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vdXRpbC9idWlsZC9udW1Ub1VpbnQ4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vdXRpbC9idWlsZC91aW50MzJBcnJheUZyb20uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXV0ZjgtYnJvd3Nlci9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11dGY4LWJyb3dzZXIvZGlzdC1lcy93aGF0d2dFbmNvZGluZ0FwaS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtdXRmOC1icm93c2VyL2Rpc3QtZXMvcHVyZUpzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9hd3NfaW90X3NoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vY2FuY2VsLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9ldmVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vaHR0cC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vaW8uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL21xdHQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL21xdHQ1LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9tcXR0NV9wYWNrZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL21xdHRfc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9wbGF0Zm9ybS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vcmVzb3VyY2Vfc2FmZXR5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9hdXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9hd3NfaW90LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9hd3NfaW90X21xdHQ1LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9iaW5kaW5nLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9jaGVja3N1bXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2NydC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9uYXRpdmUvY3J5cHRvLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9lcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9uYXRpdmUvZXZlbnRzdHJlYW0uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2V2ZW50c3RyZWFtX3V0aWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9odHRwLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9pby5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9uYXRpdmUvaW90LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9tcXR0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9tcXR0NS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9uYXRpdmUvbmF0aXZlX3Jlc291cmNlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS8gc3luYyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMvZnhwLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy91dGlsLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy92YWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbGJ1aWxkZXIvanNvbjJ4bWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbGJ1aWxkZXIvb3JkZXJlZEpzMlhtbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL0RvY1R5cGVSZWFkZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci9PcHRpb25zQnVpbGRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL09yZGVyZWRPYmpQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci9YTUxQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci9ub2RlMmpzb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci94bWxOb2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvc3RybnVtL3N0cm51bS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJldmVudHNcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcIm9zXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwicGF0aFwiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInByb2Nlc3NcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdHlwZXMvZGlzdC1lcy9hdXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS90eXBlcy9kaXN0LWVzL2VuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS90eXBlcy9kaXN0LWVzL2h0dHAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3R5cGVzL2Rpc3QtZXMvdHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3RvY29sLWh0dHAvZGlzdC1lcy9odHRwUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvdG9jb2wtaHR0cC9kaXN0LWVzL2h0dHBSZXNwb25zZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyL2Rpc3QtZXMvbG9nZ2VyTWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvbi9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlci9kaXN0LWVzL21lbW9pemUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtaGV4LWVuY29kaW5nL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2V2ZW50c3RyZWFtLWNvZGVjL2Rpc3QtZXMvSW50NjQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2V2ZW50c3RyZWFtLWNvZGVjL2Rpc3QtZXMvSGVhZGVyTWFyc2hhbGxlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9NZXNzYWdlRGVjb2RlclN0cmVhbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9NZXNzYWdlRW5jb2RlclN0cmVhbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9TbWl0aHlNZXNzYWdlRGVjb2RlclN0cmVhbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9TbWl0aHlNZXNzYWdlRW5jb2RlclN0cmVhbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1taWRkbGV3YXJlL2Rpc3QtZXMvbm9ybWFsaXplUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2lzLWFycmF5LWJ1ZmZlci9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImJ1ZmZlclwiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWJ1ZmZlci1mcm9tL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtdXRmOC9kaXN0LWVzL2Zyb21VdGY4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXV0ZjgvZGlzdC1lcy90b1VpbnQ4QXJyYXkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtdXRmOC9kaXN0LWVzL3RvVXRmOC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy9jcmVkZW50aWFsRGVyaXZhdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvZ2V0Q2Fub25pY2FsSGVhZGVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC11cmktZXNjYXBlL2Rpc3QtZXMvZXNjYXBlLXVyaS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvZ2V0UGF5bG9hZEhhc2guanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL2Nsb25lUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvcHJlcGFyZVJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL1NpZ25hdHVyZVY0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy9tb3ZlSGVhZGVyc1RvUXVlcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL2hlYWRlclV0aWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL2dldENhbm9uaWNhbFF1ZXJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy91dGlsRGF0ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZy9kaXN0LWVzL2F3c0F1dGhDb25maWd1cmF0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nL2Rpc3QtZXMvdXRpbHMvZ2V0U2tld0NvcnJlY3RlZERhdGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmcvZGlzdC1lcy91dGlscy9nZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmcvZGlzdC1lcy91dGlscy9pc0Nsb2NrU2tld2VkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nL2Rpc3QtZXMvYXdzQXV0aE1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnQvZGlzdC1lcy9jb25maWd1cmF0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2F3cy9wYXJ0aXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2RlYnVnL2RlYnVnSWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2RlYnVnL3RvRGVidWdTdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3R5cGVzL0VuZHBvaW50RXJyb3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9pc0lwQWRkcmVzcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2lzVmFsaWRIb3N0TGFiZWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9hd3MvaXNWaXJ0dWFsSG9zdGFibGVTM0J1Y2tldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2F3cy9wYXJzZUFybi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2Jvb2xlYW5FcXVhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9nZXRBdHRyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvZ2V0QXR0clBhdGhMaXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvaXNTZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9ub3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90eXBlcy9ub2RlX21vZHVsZXMvQHNtaXRoeS90eXBlcy9kaXN0LWVzL2F1dGguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90eXBlcy9ub2RlX21vZHVsZXMvQHNtaXRoeS90eXBlcy9kaXN0LWVzL2VuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdHlwZXMvbm9kZV9tb2R1bGVzL0BzbWl0aHkvdHlwZXMvZGlzdC1lcy9odHRwLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdHlwZXMvbm9kZV9tb2R1bGVzL0BzbWl0aHkvdHlwZXMvZGlzdC1lcy90cmFuc2Zlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3R5cGVzL2Rpc3QtZXMvZG5zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvcGFyc2VVUkwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9zdHJpbmdFcXVhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9zdWJzdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi91cmlFbmNvZGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlVGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlRXhwcmVzc2lvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZ2V0UmVmZXJlbmNlVmFsdWUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2NhbGxGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVDb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlQ29uZGl0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZ2V0RW5kcG9pbnRIZWFkZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRFbmRwb2ludFByb3BlcnR5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRFbmRwb2ludFByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2dldEVuZHBvaW50VXJsLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZUVuZHBvaW50UnVsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVFcnJvclJ1bGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlVHJlZVJ1bGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlUnVsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3Jlc29sdmVFbmRwb2ludC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudC9kaXN0LWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudC9kaXN0LWVzL3VzZXItYWdlbnQtbWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1jb25maWctcHJvdmlkZXIvZGlzdC1lcy9ib29sZWFuU2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NvbmZpZy1yZXNvbHZlci9kaXN0LWVzL2VuZHBvaW50c0NvbmZpZy9Ob2RlVXNlRHVhbHN0YWNrRW5kcG9pbnRDb25maWdPcHRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9lbmRwb2ludHNDb25maWcvTm9kZVVzZUZpcHNFbmRwb2ludENvbmZpZ09wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NvbmZpZy1yZXNvbHZlci9kaXN0LWVzL3JlZ2lvbkNvbmZpZy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NvbmZpZy1yZXNvbHZlci9kaXN0LWVzL3JlZ2lvbkNvbmZpZy9pc0ZpcHNSZWdpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NvbmZpZy1yZXNvbHZlci9kaXN0LWVzL3JlZ2lvbkNvbmZpZy9nZXRSZWFsUmVnaW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9yZWdpb25Db25maWcvcmVzb2x2ZVJlZ2lvbkNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aC9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlL2Rpc3QtZXMvc2VyZGVQbHVnaW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtc2VyZGUvZGlzdC1lcy9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlL2Rpc3QtZXMvc2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9zZXJ2aWNlLWN1c3RvbWl6YXRpb25zL3MzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvYWRhcHRvcnMvY3JlYXRlQ29uZmlnVmFsdWVQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludC9kaXN0LWVzL2FkYXB0b3JzL2dldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludC9kaXN0LWVzL2dldEVuZHBvaW50UGx1Z2luLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvZW5kcG9pbnRNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91cmwtcGFyc2VyL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3F1ZXJ5c3RyaW5nLXBhcnNlci9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvcmVzb2x2ZUVuZHBvaW50Q29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvYWRhcHRvcnMvdG9FbmRwb2ludFYxLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXJldHJ5L2Rpc3QtZXMvY29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uL2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtcmV0cnkvZGlzdC1lcy9EZWZhdWx0UmF0ZUxpbWl0ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtcmV0cnkvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtcmV0cnkvZGlzdC1lcy9kZWZhdWx0UmV0cnlUb2tlbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1yZXRyeS9kaXN0LWVzL1N0YW5kYXJkUmV0cnlTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1yZXRyeS9kaXN0LWVzL2RlZmF1bHRSZXRyeUJhY2tvZmZTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1yZXRyeS9kaXN0LWVzL0FkYXB0aXZlUmV0cnlTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1yZXRyeS9kaXN0LWVzL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNyeXB0b1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JuZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9yZWdleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtcmV0cnkvZGlzdC1lcy9yZXRyeU1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtcmV0cnkvZGlzdC1lcy91dGlsLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvTm9PcExvZ2dlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1zdGFjay9kaXN0LWVzL01pZGRsZXdhcmVTdGFjay5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1iYXNlNjQvZGlzdC1lcy9mcm9tQmFzZTY0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWJhc2U2NC9kaXN0LWVzL3RvQmFzZTY0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXN0cmVhbS9kaXN0LWVzL2Jsb2IvVWludDhBcnJheUJsb2JBZGFwdGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXN0cmVhbS9kaXN0LWVzL2Jsb2IvdHJhbnNmb3Jtcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJzdHJlYW1cIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiaHR0cHNcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvZ2V0LXRyYW5zZm9ybWVkLWhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvbm9kZS1odHRwLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3F1ZXJ5c3RyaW5nLWJ1aWxkZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9zZXQtY29ubmVjdGlvbi10aW1lb3V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ub2RlLWh0dHAtaGFuZGxlci9kaXN0LWVzL3NldC1zb2NrZXQtdGltZW91dC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9zZXQtc29ja2V0LWtlZXAtYWxpdmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvd3JpdGUtcmVxdWVzdC1ib2R5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImh0dHAyXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvbm9kZS1odHRwMi1jb25uZWN0aW9uLXBvb2wuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc3RyZWFtLWNvbGxlY3Rvci9jb2xsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc3RyZWFtLWNvbGxlY3Rvci9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJ1dGlsXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9jb2xsZWN0LXN0cmVhbS1ib2R5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvY29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL3BhcnNlLXV0aWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2V4Y2VwdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9kZWZhdWx0LWVycm9yLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9kZWZhdWx0cy1tb2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2V4dGVuZGVkLWVuY29kZS11cmktY29tcG9uZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZ2V0LXZhbHVlLWZyb20tdGV4dC1ub2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvbGF6eS1qc29uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvb2JqZWN0LW1hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9yZXNvbHZlLXBhdGguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9zZXItdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9zZXJkZS1qc29uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL21vZGVscy9TVFNTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL21vZGVscy9tb2RlbHNfMC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3F1ZXJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2NvbW1hbmRzL0Fzc3VtZVJvbGVDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2NvbW1hbmRzL0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2RlZmF1bHRTdHNSb2xlQXNzdW1lcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvUHJvdmlkZXJFcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvcGVydHktcHJvdmlkZXIvZGlzdC1lcy9DcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWVudi9kaXN0LWVzL2Zyb21FbnYuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRIb21lRGlyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0UHJvZmlsZU5hbWUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRTU09Ub2tlbkZpbGVwYXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0U1NPVG9rZW5Gcm9tRmlsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2dldENvbmZpZ0ZpbGVwYXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0Q3JlZGVudGlhbHNGaWxlcGF0aC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2dldFByb2ZpbGVEYXRhLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvcGFyc2VJbmkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9zbHVycEZpbGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9sb2FkU2hhcmVkQ29uZmlnRmlsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRTc29TZXNzaW9uRGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2xvYWRTc29TZXNzaW9uRGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL3BhcnNlS25vd25GaWxlcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL21lcmdlQ29uZmlnRmlsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwidXJsXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3JlbW90ZVByb3ZpZGVyL2h0dHBSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9yZW1vdGVQcm92aWRlci9JbWRzQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3JlbW90ZVByb3ZpZGVyL1JlbW90ZVByb3ZpZGVySW5pdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvcmVtb3RlUHJvdmlkZXIvcmV0cnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2Zyb21Db250YWluZXJNZXRhZGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvcGVydHktcHJvdmlkZXIvZGlzdC1lcy9jaGFpbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXIvZGlzdC1lcy9mcm9tRW52LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlci9kaXN0LWVzL2NvbmZpZ0xvYWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXIvZGlzdC1lcy9mcm9tU2hhcmVkQ29uZmlnRmlsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyL2Rpc3QtZXMvZnJvbVN0YXRpYy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvcGVydHktcHJvdmlkZXIvZGlzdC1lcy9mcm9tU3RhdGljLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9jb25maWcvRW5kcG9pbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2NvbmZpZy9FbmRwb2ludENvbmZpZ09wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2NvbmZpZy9FbmRwb2ludE1vZGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2NvbmZpZy9FbmRwb2ludE1vZGVDb25maWdPcHRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy91dGlscy9nZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3V0aWxzL2dldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9mcm9tSW5zdGFuY2VNZXRhZGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvdXRpbHMvc3RhdGljU3RhYmlsaXR5UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiY2hpbGRfcHJvY2Vzc1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzL2Rpc3QtZXMvZnJvbVByb2Nlc3MuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXByb2Nlc3MvZGlzdC1lcy9yZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzL2Rpc3QtZXMvZ2V0VmFsaWRhdGVkUHJvY2Vzc0NyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc28vZGlzdC1lcy9pc1Nzb1Byb2ZpbGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZS9kaXN0LWVzL2lzLWNydC1hdmFpbGFibGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZS9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9oYXNoLW5vZGUvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1ib2R5LWxlbmd0aC1ub2RlL2Rpc3QtZXMvY2FsY3VsYXRlQm9keUxlbmd0aC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlL2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZS9kaXN0LWVzL2RlZmF1bHRzTW9kZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGUvZGlzdC1lcy9yZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL1NTT0NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9tb2RlbHMvU1NPU2VydmljZUV4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvcHJvdG9jb2xzL0F3c19yZXN0SnNvbjEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvY29tbWFuZHMvR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvcGVydHktcHJvdmlkZXIvZGlzdC1lcy9Ub2tlblByb3ZpZGVyRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvLW9pZGMvZGlzdC1lcy9tb2RlbHMvU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvLW9pZGMvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvLW9pZGMvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3Jlc3RKc29uMS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL2NvbW1hbmRzL0NyZWF0ZVRva2VuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvLW9pZGMvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby1vaWRjL2Rpc3QtZXMvU1NPT0lEQ0NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvLW9pZGMvZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL2dldFNzb09pZGNDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy92YWxpZGF0ZVRva2VuRXhwaXJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvdmFsaWRhdGVUb2tlbktleS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL3dyaXRlU1NPVG9rZW5Ub0ZpbGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy9mcm9tU3NvLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvZ2V0TmV3U3NvT2lkY1Rva2VuLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc28vZGlzdC1lcy9yZXNvbHZlU1NPQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzby9kaXN0LWVzL3ZhbGlkYXRlU3NvUHJvZmlsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvL2Rpc3QtZXMvZnJvbVNTTy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci13ZWItaWRlbnRpdHkvZGlzdC1lcy9mcm9tVG9rZW5GaWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci13ZWItaWRlbnRpdHkvZGlzdC1lcy9mcm9tV2ViVG9rZW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVQcm9maWxlRGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlU3NvQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvZGlzdC1lcy9kZWZhdWx0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL2Zyb21JbmkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGUvZGlzdC1lcy9yZW1vdGVQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvU1RTQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9ydW50aW1lQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstc3RzL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvZGVmYXVsdFJvbGVBc3N1bWVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvZW5kcG9pbnQvcnVsZXNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvQ2xvdWRUcmFpbENsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9ydW50aW1lQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvbW9kZWxzL0Nsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL3Byb3RvY29scy9Bd3NfanNvbjFfMS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvY29tbWFuZHMvTG9va3VwRXZlbnRzQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vc3JjL0Nsb3VkVHJhaWxVc2VyRXZlbnQudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9DbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9DbG91ZFdhdGNoQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9ydW50aW1lQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvbW9kZWxzL0Nsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL3Byb3RvY29scy9Bd3NfcXVlcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL2NvbW1hbmRzL1B1dE1ldHJpY0RhdGFDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9zcmMvQ2xvdWRXYXRjaE1ldHJpY0NsaWVudC50cyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvZW5kcG9pbnQvcnVsZXNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL1NFU0NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9ydW50aW1lQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL21vZGVscy9TRVNTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL21vZGVscy9tb2RlbHNfMC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3F1ZXJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL2NvbW1hbmRzL1NlbmRFbWFpbENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9RdWlja1NpZ2h0VXNlci50cyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vc3JjL05vdGlmaWNhdGlvbk1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvZW5kcG9pbnQvcnVsZXNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvUXVpY2tTaWdodENsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvcnVudGltZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvcnVudGltZUNvbmZpZy5zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL21vZGVscy9RdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvbW9kZWxzL21vZGVsc18wLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL21vZGVscy9tb2RlbHNfMy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvcHJvdG9jb2xzL0F3c19yZXN0SnNvbjEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL2NvbW1hbmRzL0xpc3RVc2Vyc0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL2NvbW1hbmRzL0RlbGV0ZVVzZXJDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9zcmMvUXVpY2tTaWdodFVzZXJNYW5hZ2VyLnRzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9zcmMvcHJ1bmVRdWlja1NpZ2h0VXNlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXdzQ3JjMzIgPSB2b2lkIDA7XG52YXIgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKFwiQGF3cy1jcnlwdG8vdXRpbFwiKTtcbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4vaW5kZXhcIik7XG52YXIgQXdzQ3JjMzIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXdzQ3JjMzIoKSB7XG4gICAgICAgIHRoaXMuY3JjMzIgPSBuZXcgaW5kZXhfMS5DcmMzMigpO1xuICAgIH1cbiAgICBBd3NDcmMzMi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRvSGFzaCkge1xuICAgICAgICBpZiAoKDAsIHV0aWxfMS5pc0VtcHR5RGF0YSkodG9IYXNoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5jcmMzMi51cGRhdGUoKDAsIHV0aWxfMS5jb252ZXJ0VG9CdWZmZXIpKHRvSGFzaCkpO1xuICAgIH07XG4gICAgQXdzQ3JjMzIucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgKDAsIHV0aWxfMS5udW1Ub1VpbnQ4KSh0aGlzLmNyYzMyLmRpZ2VzdCgpKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBd3NDcmMzMi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JjMzIgPSBuZXcgaW5kZXhfMS5DcmMzMigpO1xuICAgIH07XG4gICAgcmV0dXJuIEF3c0NyYzMyO1xufSgpKTtcbmV4cG9ydHMuQXdzQ3JjMzIgPSBBd3NDcmMzMjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF3c19jcmMzMi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXdzQ3JjMzIgPSBleHBvcnRzLkNyYzMyID0gZXhwb3J0cy5jcmMzMiA9IHZvaWQgMDtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCJAYXdzLWNyeXB0by91dGlsXCIpO1xuZnVuY3Rpb24gY3JjMzIoZGF0YSkge1xuICAgIHJldHVybiBuZXcgQ3JjMzIoKS51cGRhdGUoZGF0YSkuZGlnZXN0KCk7XG59XG5leHBvcnRzLmNyYzMyID0gY3JjMzI7XG52YXIgQ3JjMzIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3JjMzIoKSB7XG4gICAgICAgIHRoaXMuY2hlY2tzdW0gPSAweGZmZmZmZmZmO1xuICAgIH1cbiAgICBDcmMzMi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkYXRhXzEgPSB0c2xpYl8xLl9fdmFsdWVzKGRhdGEpLCBkYXRhXzFfMSA9IGRhdGFfMS5uZXh0KCk7ICFkYXRhXzFfMS5kb25lOyBkYXRhXzFfMSA9IGRhdGFfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnl0ZSA9IGRhdGFfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tzdW0gPVxuICAgICAgICAgICAgICAgICAgICAodGhpcy5jaGVja3N1bSA+Pj4gOCkgXiBsb29rdXBUYWJsZVsodGhpcy5jaGVja3N1bSBeIGJ5dGUpICYgMHhmZl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhXzFfMSAmJiAhZGF0YV8xXzEuZG9uZSAmJiAoX2EgPSBkYXRhXzEucmV0dXJuKSkgX2EuY2FsbChkYXRhXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQ3JjMzIucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNoZWNrc3VtIF4gMHhmZmZmZmZmZikgPj4+IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQ3JjMzI7XG59KCkpO1xuZXhwb3J0cy5DcmMzMiA9IENyYzMyO1xuLy8gcHJldHRpZXItaWdub3JlXG52YXIgYV9sb29rVXBUYWJsZSA9IFtcbiAgICAweDAwMDAwMDAwLCAweDc3MDczMDk2LCAweEVFMEU2MTJDLCAweDk5MDk1MUJBLFxuICAgIDB4MDc2REM0MTksIDB4NzA2QUY0OEYsIDB4RTk2M0E1MzUsIDB4OUU2NDk1QTMsXG4gICAgMHgwRURCODgzMiwgMHg3OURDQjhBNCwgMHhFMEQ1RTkxRSwgMHg5N0QyRDk4OCxcbiAgICAweDA5QjY0QzJCLCAweDdFQjE3Q0JELCAweEU3QjgyRDA3LCAweDkwQkYxRDkxLFxuICAgIDB4MURCNzEwNjQsIDB4NkFCMDIwRjIsIDB4RjNCOTcxNDgsIDB4ODRCRTQxREUsXG4gICAgMHgxQURBRDQ3RCwgMHg2RERERTRFQiwgMHhGNEQ0QjU1MSwgMHg4M0QzODVDNyxcbiAgICAweDEzNkM5ODU2LCAweDY0NkJBOEMwLCAweEZENjJGOTdBLCAweDhBNjVDOUVDLFxuICAgIDB4MTQwMTVDNEYsIDB4NjMwNjZDRDksIDB4RkEwRjNENjMsIDB4OEQwODBERjUsXG4gICAgMHgzQjZFMjBDOCwgMHg0QzY5MTA1RSwgMHhENTYwNDFFNCwgMHhBMjY3NzE3MixcbiAgICAweDNDMDNFNEQxLCAweDRCMDRENDQ3LCAweEQyMEQ4NUZELCAweEE1MEFCNTZCLFxuICAgIDB4MzVCNUE4RkEsIDB4NDJCMjk4NkMsIDB4REJCQkM5RDYsIDB4QUNCQ0Y5NDAsXG4gICAgMHgzMkQ4NkNFMywgMHg0NURGNUM3NSwgMHhEQ0Q2MERDRiwgMHhBQkQxM0Q1OSxcbiAgICAweDI2RDkzMEFDLCAweDUxREUwMDNBLCAweEM4RDc1MTgwLCAweEJGRDA2MTE2LFxuICAgIDB4MjFCNEY0QjUsIDB4NTZCM0M0MjMsIDB4Q0ZCQTk1OTksIDB4QjhCREE1MEYsXG4gICAgMHgyODAyQjg5RSwgMHg1RjA1ODgwOCwgMHhDNjBDRDlCMiwgMHhCMTBCRTkyNCxcbiAgICAweDJGNkY3Qzg3LCAweDU4Njg0QzExLCAweEMxNjExREFCLCAweEI2NjYyRDNELFxuICAgIDB4NzZEQzQxOTAsIDB4MDFEQjcxMDYsIDB4OThEMjIwQkMsIDB4RUZENTEwMkEsXG4gICAgMHg3MUIxODU4OSwgMHgwNkI2QjUxRiwgMHg5RkJGRTRBNSwgMHhFOEI4RDQzMyxcbiAgICAweDc4MDdDOUEyLCAweDBGMDBGOTM0LCAweDk2MDlBODhFLCAweEUxMEU5ODE4LFxuICAgIDB4N0Y2QTBEQkIsIDB4MDg2RDNEMkQsIDB4OTE2NDZDOTcsIDB4RTY2MzVDMDEsXG4gICAgMHg2QjZCNTFGNCwgMHgxQzZDNjE2MiwgMHg4NTY1MzBEOCwgMHhGMjYyMDA0RSxcbiAgICAweDZDMDY5NUVELCAweDFCMDFBNTdCLCAweDgyMDhGNEMxLCAweEY1MEZDNDU3LFxuICAgIDB4NjVCMEQ5QzYsIDB4MTJCN0U5NTAsIDB4OEJCRUI4RUEsIDB4RkNCOTg4N0MsXG4gICAgMHg2MkREMURERiwgMHgxNURBMkQ0OSwgMHg4Q0QzN0NGMywgMHhGQkQ0NEM2NSxcbiAgICAweDREQjI2MTU4LCAweDNBQjU1MUNFLCAweEEzQkMwMDc0LCAweEQ0QkIzMEUyLFxuICAgIDB4NEFERkE1NDEsIDB4M0REODk1RDcsIDB4QTREMUM0NkQsIDB4RDNENkY0RkIsXG4gICAgMHg0MzY5RTk2QSwgMHgzNDZFRDlGQywgMHhBRDY3ODg0NiwgMHhEQTYwQjhEMCxcbiAgICAweDQ0MDQyRDczLCAweDMzMDMxREU1LCAweEFBMEE0QzVGLCAweEREMEQ3Q0M5LFxuICAgIDB4NTAwNTcxM0MsIDB4MjcwMjQxQUEsIDB4QkUwQjEwMTAsIDB4QzkwQzIwODYsXG4gICAgMHg1NzY4QjUyNSwgMHgyMDZGODVCMywgMHhCOTY2RDQwOSwgMHhDRTYxRTQ5RixcbiAgICAweDVFREVGOTBFLCAweDI5RDlDOTk4LCAweEIwRDA5ODIyLCAweEM3RDdBOEI0LFxuICAgIDB4NTlCMzNEMTcsIDB4MkVCNDBEODEsIDB4QjdCRDVDM0IsIDB4QzBCQTZDQUQsXG4gICAgMHhFREI4ODMyMCwgMHg5QUJGQjNCNiwgMHgwM0I2RTIwQywgMHg3NEIxRDI5QSxcbiAgICAweEVBRDU0NzM5LCAweDlERDI3N0FGLCAweDA0REIyNjE1LCAweDczREMxNjgzLFxuICAgIDB4RTM2MzBCMTIsIDB4OTQ2NDNCODQsIDB4MEQ2RDZBM0UsIDB4N0E2QTVBQTgsXG4gICAgMHhFNDBFQ0YwQiwgMHg5MzA5RkY5RCwgMHgwQTAwQUUyNywgMHg3RDA3OUVCMSxcbiAgICAweEYwMEY5MzQ0LCAweDg3MDhBM0QyLCAweDFFMDFGMjY4LCAweDY5MDZDMkZFLFxuICAgIDB4Rjc2MjU3NUQsIDB4ODA2NTY3Q0IsIDB4MTk2QzM2NzEsIDB4NkU2QjA2RTcsXG4gICAgMHhGRUQ0MUI3NiwgMHg4OUQzMkJFMCwgMHgxMERBN0E1QSwgMHg2N0RENEFDQyxcbiAgICAweEY5QjlERjZGLCAweDhFQkVFRkY5LCAweDE3QjdCRTQzLCAweDYwQjA4RUQ1LFxuICAgIDB4RDZENkEzRTgsIDB4QTFEMTkzN0UsIDB4MzhEOEMyQzQsIDB4NEZERkYyNTIsXG4gICAgMHhEMUJCNjdGMSwgMHhBNkJDNTc2NywgMHgzRkI1MDZERCwgMHg0OEIyMzY0QixcbiAgICAweEQ4MEQyQkRBLCAweEFGMEExQjRDLCAweDM2MDM0QUY2LCAweDQxMDQ3QTYwLFxuICAgIDB4REY2MEVGQzMsIDB4QTg2N0RGNTUsIDB4MzE2RThFRUYsIDB4NDY2OUJFNzksXG4gICAgMHhDQjYxQjM4QywgMHhCQzY2ODMxQSwgMHgyNTZGRDJBMCwgMHg1MjY4RTIzNixcbiAgICAweENDMEM3Nzk1LCAweEJCMEI0NzAzLCAweDIyMDIxNkI5LCAweDU1MDUyNjJGLFxuICAgIDB4QzVCQTNCQkUsIDB4QjJCRDBCMjgsIDB4MkJCNDVBOTIsIDB4NUNCMzZBMDQsXG4gICAgMHhDMkQ3RkZBNywgMHhCNUQwQ0YzMSwgMHgyQ0Q5OUU4QiwgMHg1QkRFQUUxRCxcbiAgICAweDlCNjRDMkIwLCAweEVDNjNGMjI2LCAweDc1NkFBMzlDLCAweDAyNkQ5MzBBLFxuICAgIDB4OUMwOTA2QTksIDB4RUIwRTM2M0YsIDB4NzIwNzY3ODUsIDB4MDUwMDU3MTMsXG4gICAgMHg5NUJGNEE4MiwgMHhFMkI4N0ExNCwgMHg3QkIxMkJBRSwgMHgwQ0I2MUIzOCxcbiAgICAweDkyRDI4RTlCLCAweEU1RDVCRTBELCAweDdDRENFRkI3LCAweDBCREJERjIxLFxuICAgIDB4ODZEM0QyRDQsIDB4RjFENEUyNDIsIDB4NjhEREIzRjgsIDB4MUZEQTgzNkUsXG4gICAgMHg4MUJFMTZDRCwgMHhGNkI5MjY1QiwgMHg2RkIwNzdFMSwgMHgxOEI3NDc3NyxcbiAgICAweDg4MDg1QUU2LCAweEZGMEY2QTcwLCAweDY2MDYzQkNBLCAweDExMDEwQjVDLFxuICAgIDB4OEY2NTlFRkYsIDB4Rjg2MkFFNjksIDB4NjE2QkZGRDMsIDB4MTY2Q0NGNDUsXG4gICAgMHhBMDBBRTI3OCwgMHhENzBERDJFRSwgMHg0RTA0ODM1NCwgMHgzOTAzQjNDMixcbiAgICAweEE3NjcyNjYxLCAweEQwNjAxNkY3LCAweDQ5Njk0NzRELCAweDNFNkU3N0RCLFxuICAgIDB4QUVEMTZBNEEsIDB4RDlENjVBREMsIDB4NDBERjBCNjYsIDB4MzdEODNCRjAsXG4gICAgMHhBOUJDQUU1MywgMHhERUJCOUVDNSwgMHg0N0IyQ0Y3RiwgMHgzMEI1RkZFOSxcbiAgICAweEJEQkRGMjFDLCAweENBQkFDMjhBLCAweDUzQjM5MzMwLCAweDI0QjRBM0E2LFxuICAgIDB4QkFEMDM2MDUsIDB4Q0RENzA2OTMsIDB4NTRERTU3MjksIDB4MjNEOTY3QkYsXG4gICAgMHhCMzY2N0EyRSwgMHhDNDYxNEFCOCwgMHg1RDY4MUIwMiwgMHgyQTZGMkI5NCxcbiAgICAweEI0MEJCRTM3LCAweEMzMEM4RUExLCAweDVBMDVERjFCLCAweDJEMDJFRjhELFxuXTtcbnZhciBsb29rdXBUYWJsZSA9ICgwLCB1dGlsXzEudWludDMyQXJyYXlGcm9tKShhX2xvb2tVcFRhYmxlKTtcbnZhciBhd3NfY3JjMzJfMSA9IHJlcXVpcmUoXCIuL2F3c19jcmMzMlwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkF3c0NyYzMyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhd3NfY3JjMzJfMS5Bd3NDcmMzMjsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20gSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbnZlcnRUb0J1ZmZlciA9IHZvaWQgMDtcbnZhciB1dGlsX3V0ZjhfYnJvd3Nlcl8xID0gcmVxdWlyZShcIkBhd3Mtc2RrL3V0aWwtdXRmOC1icm93c2VyXCIpO1xuLy8gUXVpY2sgcG9seWZpbGxcbnZhciBmcm9tVXRmOCA9IHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgQnVmZmVyLmZyb21cbiAgICA/IGZ1bmN0aW9uIChpbnB1dCkgeyByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQsIFwidXRmOFwiKTsgfVxuICAgIDogdXRpbF91dGY4X2Jyb3dzZXJfMS5mcm9tVXRmODtcbmZ1bmN0aW9uIGNvbnZlcnRUb0J1ZmZlcihkYXRhKSB7XG4gICAgLy8gQWxyZWFkeSBhIFVpbnQ4LCBkbyBub3RoaW5nXG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGZyb21VdGY4KGRhdGEpO1xuICAgIH1cbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xufVxuZXhwb3J0cy5jb252ZXJ0VG9CdWZmZXIgPSBjb252ZXJ0VG9CdWZmZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb252ZXJ0VG9CdWZmZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudWludDMyQXJyYXlGcm9tID0gZXhwb3J0cy5udW1Ub1VpbnQ4ID0gZXhwb3J0cy5pc0VtcHR5RGF0YSA9IGV4cG9ydHMuY29udmVydFRvQnVmZmVyID0gdm9pZCAwO1xudmFyIGNvbnZlcnRUb0J1ZmZlcl8xID0gcmVxdWlyZShcIi4vY29udmVydFRvQnVmZmVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29udmVydFRvQnVmZmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb252ZXJ0VG9CdWZmZXJfMS5jb252ZXJ0VG9CdWZmZXI7IH0gfSk7XG52YXIgaXNFbXB0eURhdGFfMSA9IHJlcXVpcmUoXCIuL2lzRW1wdHlEYXRhXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNFbXB0eURhdGFcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRW1wdHlEYXRhXzEuaXNFbXB0eURhdGE7IH0gfSk7XG52YXIgbnVtVG9VaW50OF8xID0gcmVxdWlyZShcIi4vbnVtVG9VaW50OFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm51bVRvVWludDhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bVRvVWludDhfMS5udW1Ub1VpbnQ4OyB9IH0pO1xudmFyIHVpbnQzMkFycmF5RnJvbV8xID0gcmVxdWlyZShcIi4vdWludDMyQXJyYXlGcm9tXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidWludDMyQXJyYXlGcm9tXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1aW50MzJBcnJheUZyb21fMS51aW50MzJBcnJheUZyb207IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0VtcHR5RGF0YSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGlzRW1wdHlEYXRhKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YS5ieXRlTGVuZ3RoID09PSAwO1xufVxuZXhwb3J0cy5pc0VtcHR5RGF0YSA9IGlzRW1wdHlEYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNFbXB0eURhdGEuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubnVtVG9VaW50OCA9IHZvaWQgMDtcbmZ1bmN0aW9uIG51bVRvVWludDgobnVtKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgKG51bSAmIDB4ZmYwMDAwMDApID4+IDI0LFxuICAgICAgICAobnVtICYgMHgwMGZmMDAwMCkgPj4gMTYsXG4gICAgICAgIChudW0gJiAweDAwMDBmZjAwKSA+PiA4LFxuICAgICAgICBudW0gJiAweDAwMDAwMGZmLFxuICAgIF0pO1xufVxuZXhwb3J0cy5udW1Ub1VpbnQ4ID0gbnVtVG9VaW50ODtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bVRvVWludDguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudWludDMyQXJyYXlGcm9tID0gdm9pZCAwO1xuLy8gSUUgMTEgZG9lcyBub3Qgc3VwcG9ydCBBcnJheS5mcm9tLCBzbyB3ZSBkbyBpdCBtYW51YWxseVxuZnVuY3Rpb24gdWludDMyQXJyYXlGcm9tKGFfbG9va1VwVGFibGUpIHtcbiAgICBpZiAoIVVpbnQzMkFycmF5LmZyb20pIHtcbiAgICAgICAgdmFyIHJldHVybl9hcnJheSA9IG5ldyBVaW50MzJBcnJheShhX2xvb2tVcFRhYmxlLmxlbmd0aCk7XG4gICAgICAgIHZhciBhX2luZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGFfaW5kZXggPCBhX2xvb2tVcFRhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuX2FycmF5W2FfaW5kZXhdID0gYV9sb29rVXBUYWJsZVthX2luZGV4XTtcbiAgICAgICAgICAgIGFfaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuX2FycmF5O1xuICAgIH1cbiAgICByZXR1cm4gVWludDMyQXJyYXkuZnJvbShhX2xvb2tVcFRhYmxlKTtcbn1cbmV4cG9ydHMudWludDMyQXJyYXlGcm9tID0gdWludDMyQXJyYXlGcm9tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWludDMyQXJyYXlGcm9tLmpzLm1hcCIsImltcG9ydCB7IGZyb21VdGY4IGFzIGpzRnJvbVV0ZjgsIHRvVXRmOCBhcyBqc1RvVXRmOCB9IGZyb20gXCIuL3B1cmVKc1wiO1xuaW1wb3J0IHsgZnJvbVV0ZjggYXMgdGV4dEVuY29kZXJGcm9tVXRmOCwgdG9VdGY4IGFzIHRleHRFbmNvZGVyVG9VdGY4IH0gZnJvbSBcIi4vd2hhdHdnRW5jb2RpbmdBcGlcIjtcbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dCkgPT4gdHlwZW9mIFRleHRFbmNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlckZyb21VdGY4KGlucHV0KSA6IGpzRnJvbVV0ZjgoaW5wdXQpO1xuZXhwb3J0IGNvbnN0IHRvVXRmOCA9IChpbnB1dCkgPT4gdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gZnJvbVV0ZjgoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGlucHV0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiIsImV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IGJ5dGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKHZhbHVlIDwgMHg4MCkge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpICsgMSA8IGlucHV0Lmxlbmd0aCAmJiAodmFsdWUgJiAweGZjMDApID09PSAweGQ4MDAgJiYgKGlucHV0LmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gMHgxMDAwMCArICgodmFsdWUgJiAwYjExMTExMTExMTEpIDw8IDEwKSArIChpbnB1dC5jaGFyQ29kZUF0KCsraSkgJiAwYjExMTExMTExMTEpO1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLCAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ5dGVzLnB1c2goKHZhbHVlID4+IDEyKSB8IDBiMTExMDAwMDAsICgodmFsdWUgPj4gNikgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKGJ5dGVzKTtcbn07XG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0KSA9PiB7XG4gICAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpbnB1dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgICAgIGlmIChieXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKDBiMTEwMDAwMDAgPD0gYnl0ZSAmJiBieXRlIDwgMGIxMTEwMDAwMCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dEJ5dGUgPSBpbnB1dFsrK2ldO1xuICAgICAgICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYnl0ZSAmIDBiMTExMTEpIDw8IDYpIHwgKG5leHRCeXRlICYgMGIxMTExMTEpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICAgICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICAgICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlZDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXh0cmFjdFJlZ2lvbkZyb21FbmRwb2ludCA9IGV4cG9ydHMuYnVpbGRNcXR0NUZpbmFsVXNlcm5hbWUgPSBleHBvcnRzLnBvcHVsYXRlX3VzZXJuYW1lX3N0cmluZ193aXRoX2N1c3RvbV9hdXRob3JpemVyID0gZXhwb3J0cy5pc19zdHJpbmdfYW5kX25vdF9lbXB0eSA9IGV4cG9ydHMuYWRkX3RvX3VzZXJuYW1lX3BhcmFtZXRlciA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgbWlzY2VsbGFuZW91cyBmdW5jdGlvbmFsaXR5IHRoYXQgaXMgc2hhcmVkIGFjcm9zcyBib3RoIG5hdGl2ZSBhbmQgYnJvd3NlciBmb3IgYXdzX2lvdFxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBhd3NfaW90XG4gKi9cbmNvbnN0IHBsYXRmb3JtID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3BsYXRmb3JtXCIpKTtcbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gdG8gYWRkIHBhcmFtZXRlcnMgdG8gdGhlIHVzZXJuYW1lIGluIHdpdGhfY3VzdG9tX2F1dGhvcml6ZXIgZnVuY3Rpb25cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gYWRkX3RvX3VzZXJuYW1lX3BhcmFtZXRlcihjdXJyZW50X3VzZXJuYW1lLCBwYXJhbWV0ZXJfdmFsdWUsIHBhcmFtZXRlcl9wcmVfdGV4dCkge1xuICAgIGxldCByZXR1cm5fc3RyaW5nID0gY3VycmVudF91c2VybmFtZTtcbiAgICBpZiAocmV0dXJuX3N0cmluZy5pbmRleE9mKFwiP1wiKSAhPSAtMSkge1xuICAgICAgICByZXR1cm5fc3RyaW5nICs9IFwiJlwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuX3N0cmluZyArPSBcIj9cIjtcbiAgICB9XG4gICAgaWYgKHBhcmFtZXRlcl92YWx1ZS5pbmRleE9mKHBhcmFtZXRlcl9wcmVfdGV4dCkgIT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJldHVybl9zdHJpbmcgKyBwYXJhbWV0ZXJfdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmV0dXJuX3N0cmluZyArIHBhcmFtZXRlcl9wcmVfdGV4dCArIHBhcmFtZXRlcl92YWx1ZTtcbiAgICB9XG59XG5leHBvcnRzLmFkZF90b191c2VybmFtZV9wYXJhbWV0ZXIgPSBhZGRfdG9fdXNlcm5hbWVfcGFyYW1ldGVyO1xuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0byBzZWUgaWYgYSBzdHJpbmcgaXMgbm90IG51bGwsIGlzIGRlZmluZWQsIGFuZCBpcyBub3QgYW4gZW1wdHkgc3RyaW5nXG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSAhPSB1bmRlZmluZWQgJiYgdHlwZW9mIChpdGVtKSA9PSAnc3RyaW5nJyAmJiBpdGVtICE9IFwiXCI7XG59XG5leHBvcnRzLmlzX3N0cmluZ19hbmRfbm90X2VtcHR5ID0gaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHk7XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHBvcHVsYXRlIHRoZSB1c2VybmFtZSB3aXRoIHRoZSBDdXN0b20gQXV0aG9yaXplciBmaWVsZHNcbiAqIEBwYXJhbSBjdXJyZW50X3VzZXJuYW1lIHRoZSBjdXJyZW50IHVzZXJuYW1lXG4gKiBAcGFyYW0gaW5wdXRfdXNlcm5hbWUgdGhlIHVzZXJuYW1lIHRvIGFkZCAtIGNhbiBiZSBhbiBlbXB0eSBzdHJpbmcgdG8gc2tpcFxuICogQHBhcmFtIGlucHV0X2F1dGhvcml6ZXIgdGhlIG5hbWUgb2YgdGhlIGF1dGhvcml6ZXIgdG8gYWRkIC0gY2FuIGJlIGFuIGVtcHR5IHN0cmluZyB0byBza2lwXG4gKiBAcGFyYW0gaW5wdXRfc2lnbmF0dXJlIHRoZSBuYW1lIG9mIHRoZSBzaWduYXR1cmUgdG8gYWRkIC0gY2FuIGJlIGFuIGVtcHR5IHN0cmluZyB0byBza2lwXG4gKiBAcGFyYW0gaW5wdXRfYnVpbGRlcl91c2VybmFtZSB0aGUgdXNlcm5hbWUgZnJvbSB0aGUgTVFUVCBidWlsZGVyXG4gKiBAcGFyYW0gaW5wdXRfdG9rZW5fa2V5X25hbWUgdGhlIHRva2VuIGtleSBuYW1lXG4gKiBAcGFyYW0gaW5wdXRfdG9rZW5fdmFsdWUgdGhlIHRva2VuIGtleSB2YWx1ZVxuICogQHJldHVybnMgVGhlIGZpbmlzaGVkIHVzZXJuYW1lIHdpdGggdGhlIGFkZGl0aW9ucyBhZGRlZCB0byBpdFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBwb3B1bGF0ZV91c2VybmFtZV9zdHJpbmdfd2l0aF9jdXN0b21fYXV0aG9yaXplcihjdXJyZW50X3VzZXJuYW1lLCBpbnB1dF91c2VybmFtZSwgaW5wdXRfYXV0aG9yaXplciwgaW5wdXRfc2lnbmF0dXJlLCBpbnB1dF9idWlsZGVyX3VzZXJuYW1lLCBpbnB1dF90b2tlbl9rZXlfbmFtZSwgaW5wdXRfdG9rZW5fdmFsdWUpIHtcbiAgICBsZXQgdXNlcm5hbWVfc3RyaW5nID0gXCJcIjtcbiAgICBpZiAoY3VycmVudF91c2VybmFtZSkge1xuICAgICAgICB1c2VybmFtZV9zdHJpbmcgKz0gY3VycmVudF91c2VybmFtZTtcbiAgICB9XG4gICAgaWYgKGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3VzZXJuYW1lKSA9PSBmYWxzZSkge1xuICAgICAgICBpZiAoaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfYnVpbGRlcl91c2VybmFtZSkgJiYgaW5wdXRfYnVpbGRlcl91c2VybmFtZSkge1xuICAgICAgICAgICAgdXNlcm5hbWVfc3RyaW5nICs9IGlucHV0X2J1aWxkZXJfdXNlcm5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHVzZXJuYW1lX3N0cmluZyArPSBpbnB1dF91c2VybmFtZTtcbiAgICB9XG4gICAgaWYgKGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X2F1dGhvcml6ZXIpICYmIGlucHV0X2F1dGhvcml6ZXIpIHtcbiAgICAgICAgdXNlcm5hbWVfc3RyaW5nID0gYWRkX3RvX3VzZXJuYW1lX3BhcmFtZXRlcih1c2VybmFtZV9zdHJpbmcsIGlucHV0X2F1dGhvcml6ZXIsIFwieC1hbXotY3VzdG9tYXV0aG9yaXplci1uYW1lPVwiKTtcbiAgICB9XG4gICAgaWYgKGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3NpZ25hdHVyZSkgJiYgaW5wdXRfc2lnbmF0dXJlKSB7XG4gICAgICAgIHVzZXJuYW1lX3N0cmluZyA9IGFkZF90b191c2VybmFtZV9wYXJhbWV0ZXIodXNlcm5hbWVfc3RyaW5nLCBpbnB1dF9zaWduYXR1cmUsIFwieC1hbXotY3VzdG9tYXV0aG9yaXplci1zaWduYXR1cmU9XCIpO1xuICAgICAgICBpZiAoKGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3Rva2VuX2tleV9uYW1lKSAmJiBpbnB1dF90b2tlbl9rZXlfbmFtZSkgfHwgKGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3Rva2VuX3ZhbHVlKSAmJiBpbnB1dF90b2tlbl92YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2FybmluZzogU2lnbmVkIGN1c3RvbSBhdXRob3JpemVycyB3aXRoIHNpZ25hdHVyZSB3aWxsIG5vdCB3b3JrIHdpdGhvdXQgYSB0b2tlbiBrZXkgbmFtZSBhbmQgXCIgK1xuICAgICAgICAgICAgICAgIFwidG9rZW4gdmFsdWUuIFlvdXIgY29ubmVjdGlvbiBtYXkgYmUgcmVqZWN0ZWQvc3RhbGxlZCBvbiB0aGUgSW9UIENvcmUgc2lkZSBkdWUgdG8gdGhpcy4gUGxlYXNlIFwiICtcbiAgICAgICAgICAgICAgICBcInNldCB0aGUgdG9rZW4ga2V5IG5hbWUgYW5kIHRva2VuIHZhbHVlIHRvIGNvbm5lY3QgdG8gYSBzaWduZWQgY3VzdG9tIGF1dGhvcml6ZXIuXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19zdHJpbmdfYW5kX25vdF9lbXB0eShpbnB1dF9zaWduYXR1cmUpIHx8IGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3Rva2VuX3ZhbHVlKSB8fCBpc19zdHJpbmdfYW5kX25vdF9lbXB0eShpbnB1dF90b2tlbl9rZXlfbmFtZSkpIHtcbiAgICAgICAgaWYgKCFpbnB1dF90b2tlbl92YWx1ZSB8fCAhaW5wdXRfdG9rZW5fa2V5X25hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRva2VuLWJhc2VkIGN1c3RvbSBhdXRoZW50aWNhdGlvbiByZXF1aXJlcyBhbGwgdG9rZW4tcmVsYXRlZCBwcm9wZXJ0aWVzIHRvIGJlIHNldFwiKTtcbiAgICAgICAgfVxuICAgICAgICB1c2VybmFtZV9zdHJpbmcgPSBhZGRfdG9fdXNlcm5hbWVfcGFyYW1ldGVyKHVzZXJuYW1lX3N0cmluZywgaW5wdXRfdG9rZW5fdmFsdWUsIGlucHV0X3Rva2VuX2tleV9uYW1lICsgXCI9XCIpO1xuICAgIH1cbiAgICByZXR1cm4gdXNlcm5hbWVfc3RyaW5nO1xufVxuZXhwb3J0cy5wb3B1bGF0ZV91c2VybmFtZV9zdHJpbmdfd2l0aF9jdXN0b21fYXV0aG9yaXplciA9IHBvcHVsYXRlX3VzZXJuYW1lX3N0cmluZ193aXRoX2N1c3RvbV9hdXRob3JpemVyO1xuO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gYWRkUGFyYW0ocGFyYW1OYW1lLCBwYXJhbVZhbHVlLCBwYXJhbVNldCkge1xuICAgIGlmIChwYXJhbVZhbHVlKSB7XG4gICAgICAgIHBhcmFtU2V0LnB1c2goW3BhcmFtTmFtZSwgcGFyYW1WYWx1ZV0pO1xuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIHRoZSBmaW5hbCB2YWx1ZSBmb3IgdGhlIENPTk5FQ1QgcGFja2V0J3MgdXNlcm5hbWUgcHJvcGVydHkgYmFzZWQgb24gQVdTIElvVCBjdXN0b20gYXV0aCBjb25maWd1cmF0aW9uXG4gKiBhbmQgU0RLIG1ldHJpY3MgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tQXV0aENvbmZpZyBpbnRlbmRlZCBBV1MgSW9UIGN1c3RvbSBhdXRoIGNsaWVudCBjb25maWd1cmF0aW9uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTXF0dDVGaW5hbFVzZXJuYW1lKGN1c3RvbUF1dGhDb25maWcpIHtcbiAgICBsZXQgcGF0aCA9IFwiXCI7XG4gICAgbGV0IHBhcmFtTGlzdCA9IFtdO1xuICAgIGlmIChjdXN0b21BdXRoQ29uZmlnKSB7XG4gICAgICAgIC8qIElmIHdlJ3JlIHVzaW5nIHRva2VuLXNpZ25pbmcgYXV0aGVudGljYXRpb24sIHRoZW4gYWxsIHRva2VuIHByb3BlcnRpZXMgbXVzdCBiZSBzZXQgKi9cbiAgICAgICAgbGV0IHVzaW5nU2lnbmluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoY3VzdG9tQXV0aENvbmZpZy50b2tlblZhbHVlIHx8IGN1c3RvbUF1dGhDb25maWcudG9rZW5LZXlOYW1lIHx8IGN1c3RvbUF1dGhDb25maWcudG9rZW5TaWduYXR1cmUpIHtcbiAgICAgICAgICAgIHVzaW5nU2lnbmluZyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWN1c3RvbUF1dGhDb25maWcudG9rZW5WYWx1ZSB8fCAhY3VzdG9tQXV0aENvbmZpZy50b2tlbktleU5hbWUgfHwgIWN1c3RvbUF1dGhDb25maWcudG9rZW5TaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbi1iYXNlZCBjdXN0b20gYXV0aGVudGljYXRpb24gcmVxdWlyZXMgYWxsIHRva2VuLXJlbGF0ZWQgcHJvcGVydGllcyB0byBiZSBzZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVzZXJuYW1lID0gY3VzdG9tQXV0aENvbmZpZy51c2VybmFtZTtcbiAgICAgICAgbGV0IHBhdGhTcGxpdCA9ICh1c2VybmFtZSAhPT0gbnVsbCAmJiB1c2VybmFtZSAhPT0gdm9pZCAwID8gdXNlcm5hbWUgOiBcIlwiKS5zcGxpdChcIj9cIik7XG4gICAgICAgIGxldCBwYXJhbXMgPSBwYXRoU3BsaXQuc2xpY2UoMSk7XG4gICAgICAgIHBhdGggPSBwYXRoU3BsaXRbMF07XG4gICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VzdG9tIGF1dGggdXNlcm5hbWUgcHJvcGVydHkgdmFsdWUgaXMgaW52YWxpZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHBhcmFtc1swXS5zcGxpdChcIiZcIikuZm9yRWFjaCgoa2V5VmFsdWUsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBsZXQga3ZQYWlyID0ga2V5VmFsdWUuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIHBhcmFtTGlzdC5wdXNoKFtrdlBhaXJbMF0sIChfYSA9IGt2UGFpclsxXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIl0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkUGFyYW0oXCJ4LWFtei1jdXN0b21hdXRob3JpemVyLW5hbWVcIiwgY3VzdG9tQXV0aENvbmZpZy5hdXRob3JpemVyTmFtZSwgcGFyYW1MaXN0KTtcbiAgICAgICAgaWYgKHVzaW5nU2lnbmluZykge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB2ZXJpZmllZCBlYXJsaWVyXG4gICAgICAgICAgICBhZGRQYXJhbShjdXN0b21BdXRoQ29uZmlnLnRva2VuS2V5TmFtZSwgY3VzdG9tQXV0aENvbmZpZy50b2tlblZhbHVlLCBwYXJhbUxpc3QpO1xuICAgICAgICAgICAgYWRkUGFyYW0oXCJ4LWFtei1jdXN0b21hdXRob3JpemVyLXNpZ25hdHVyZVwiLCBjdXN0b21BdXRoQ29uZmlnLnRva2VuU2lnbmF0dXJlLCBwYXJhbUxpc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtTGlzdC5wdXNoKFtcIlNES1wiLCBcIk5vZGVKU3YyXCJdKTtcbiAgICBwYXJhbUxpc3QucHVzaChbXCJWZXJzaW9uXCIsIHBsYXRmb3JtLmNydF92ZXJzaW9uKCldKTtcbiAgICByZXR1cm4gKHBhdGggIT09IG51bGwgJiYgcGF0aCAhPT0gdm9pZCAwID8gcGF0aCA6IFwiXCIpICsgXCI/XCIgKyBwYXJhbUxpc3QubWFwKCh2YWx1ZSkgPT4gYCR7dmFsdWVbMF19PSR7dmFsdWVbMV19YCkuam9pbihcIiZcIik7XG59XG5leHBvcnRzLmJ1aWxkTXF0dDVGaW5hbFVzZXJuYW1lID0gYnVpbGRNcXR0NUZpbmFsVXNlcm5hbWU7XG4vKipcbiAqIEF0dGVtcHRzIHRvIGRldGVybWluZSB0aGUgQVdTIHJlZ2lvbiBhc3NvY2lhdGVkIHdpdGggYW4gZW5kcG9pbnQuXG4gKlxuICogQHBhcmFtIGVuZHBvaW50IGVuZHBvaW50IHRvIGNvbXB1dGUgdGhlIHJlZ2lvbiBmb3JcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFJlZ2lvbkZyb21FbmRwb2ludChlbmRwb2ludCkge1xuICAgIGNvbnN0IHJlZ2V4cFJlZ2lvbiA9IC9eW1xcd1xcLV0rXFwuW1xcd1xcLV0rXFwuKFtcXHcrXFwtXSspXFwuLztcbiAgICBjb25zdCBtYXRjaCA9IGVuZHBvaW50Lm1hdGNoKHJlZ2V4cFJlZ2lvbik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQVdTIHJlZ2lvbiBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gZW5kcG9pbnQuICBVc2UgJ3JlZ2lvbicgcHJvcGVydHkgb24gV2Vic29ja2V0Q29uZmlnIHRvIHNldCBtYW51YWxseS5cIik7XG59XG5leHBvcnRzLmV4dHJhY3RSZWdpb25Gcm9tRW5kcG9pbnQgPSBleHRyYWN0UmVnaW9uRnJvbUVuZHBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXdzX2lvdF9zaGFyZWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm5ld0NhbmNlbGxhYmxlUHJvbWlzZUZyb21OZXh0RXZlbnQgPSBleHBvcnRzLkNhbmNlbENvbnRyb2xsZXIgPSBleHBvcnRzLkVWRU5UX05BTUUgPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIHN1cHBvcnQgZm9yIGNhbmNlbGxpbmcgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnNcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgY2FuY2VsXG4gKi9cbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IHByb21pc2UgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vcHJvbWlzZVwiKSk7XG5leHBvcnRzLkVWRU5UX05BTUUgPSAnY2FuY2VsbGVkJztcbi8qKlxuICogQ1JUIGltcGxlbWVudGF0aW9uIG9mIHRoZSBJQ2FuY2VsQ29udHJvbGxlciBpbnRlcmZhY2VcbiAqL1xuY2xhc3MgQ2FuY2VsQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVtaXR0ZXJGYWN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXJGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgZXZlbnRzXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbGwgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY29udHJvbGxlclxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoZXhwb3J0cy5FVkVOVF9OQU1FKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXhwb3J0cy5FVkVOVF9OQU1FKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhlIGNvbnRyb2xsZXIgaXMgaW4gdGhlIGNhbmNlbGxlZCBzdGF0ZVxuICAgICAqL1xuICAgIGhhc0JlZW5DYW5jZWxsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmNlbGxlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgbm90aWZpZWQgd2hlbiBjYW5jZWwoKSBpcyBpbnZva2VkIGV4dGVybmFsbHkuICBJbiBnZW5lcmFsLCB0aGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIGNhbmNlbCBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uIGJ5IHJlamVjdGluZyB0aGUgYXNzb2NpYXRlZCBwcm9taXNlLlxuICAgICAqXG4gICAgICogSU1QT1JUQU5UOiBUaGUgbGlzdGVuZXIgaXMgaW52b2tlZCBzeW5jaHJvbm91c2x5IGlmIHRoZSBjb250cm9sbGVyIGhhcyBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIC0gZnVuY3Rpb24gdG8gaW52b2tlIG9uIGNhbmNlbDsgaW52b2tlZCBzeW5jaHJvbm91c2x5IGlmIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIGNhbmNlbGxlZFxuICAgICAqXG4gICAgICogQHJldHVybiB1bmRlZmluZWQgaWYgdGhlIGNvbnRyb2xsZXIgaGFzIGFscmVhZHkgYmVlbiBjYW5jZWxsZWQsIG90aGVyd2lzZSBhIGZ1bmN0aW9uIG9iamVjdCB3aG9zZSBpbnZvY2F0aW9uXG4gICAgICogd2lsbCByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gdGhlIGNvbnRyb2xsZXIncyBldmVudCBlbWl0dGVyLlxuICAgICAqXG4gICAgICovXG4gICAgYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXR0ZXIub24oZXhwb3J0cy5FVkVOVF9OQU1FLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IHRoaXMuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihleHBvcnRzLkVWRU5UX05BTUUsIGxpc3RlbmVyKTsgfTtcbiAgICB9XG59XG5leHBvcnRzLkNhbmNlbENvbnRyb2xsZXIgPSBDYW5jZWxDb250cm9sbGVyO1xuLyoqXG4gKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZWplY3RlZCBieSBhIENhbmNlbENvbnRyb2xsZXIgYW5kIHJlc29sdmVkIGJ5IHRoZSByZWNlaXB0IG9mIGFuIGV2ZW50IGZyb20gYW5cbiAqIEV2ZW50RW1pdHRlci5cbiAqXG4gKiBAcGFyYW0gY29uZmlnIHByb21pc2UgY3JlYXRpb24gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBuZXdDYW5jZWxsYWJsZVByb21pc2VGcm9tTmV4dEV2ZW50KGNvbmZpZykge1xuICAgIGxldCBvbkV2ZW50ID0gdW5kZWZpbmVkO1xuICAgIGxldCBjYW5jZWxSZW1vdmVMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICBsZXQgbGlmdGVkUHJvbWlzZSA9IHByb21pc2UubmV3TGlmdGVkUHJvbWlzZSgpO1xuICAgIG9uRXZlbnQgPSAoZXZlbnREYXRhKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmV2ZW50RGF0YVRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICAgICAgbGlmdGVkUHJvbWlzZS5yZXNvbHZlKGNvbmZpZy5ldmVudERhdGFUcmFuc2Zvcm1lcihldmVudERhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpZnRlZFByb21pc2UucmVzb2x2ZShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxpZnRlZFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbmZpZy5lbWl0dGVyLmFkZExpc3RlbmVyKGNvbmZpZy5ldmVudE5hbWUsIG9uRXZlbnQpO1xuICAgIGlmIChjb25maWcuY2FuY2VsQ29udHJvbGxlcikge1xuICAgICAgICBjYW5jZWxSZW1vdmVMaXN0ZW5lciA9IGNvbmZpZy5jYW5jZWxDb250cm9sbGVyLmFkZExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGxpZnRlZFByb21pc2UucmVqZWN0KGNvbmZpZy5jYW5jZWxNZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlLm1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlKGxpZnRlZFByb21pc2UucHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICBpZiAob25FdmVudCkge1xuICAgICAgICAgICAgY29uZmlnLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoY29uZmlnLmV2ZW50TmFtZSwgb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbmNlbFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICBjYW5jZWxSZW1vdmVMaXN0ZW5lcigpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLm5ld0NhbmNlbGxhYmxlUHJvbWlzZUZyb21OZXh0RXZlbnQgPSBuZXdDYW5jZWxsYWJsZVByb21pc2VGcm9tTmV4dEV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuY2VsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVmZmVyZWRFdmVudEVtaXR0ZXIgPSB2b2lkIDA7XG4vKipcbiAqIE1vZHVsZSBmb3IgYmFzZSB0eXBlcyByZWxhdGVkIHRvIGV2ZW50IGVtaXNzaW9uXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGV2ZW50XG4gKi9cbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIEJ1ZmZlcmVkRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG59XG4vKipcbiAqIFByb3ZpZGVzIGJ1ZmZlcmVkIGV2ZW50IGVtaXR0aW5nIHNlbWFudGljcywgc2ltaWxhciB0byBtYW55IE5vZGUtc3R5bGUgc3RyZWFtcy5cbiAqIFN1YmNsYXNzZXMgd2lsbCBvdmVycmlkZSBFdmVudEVtaXR0ZXIub24oKSBhbmQgdHJpZ2dlciB1bmNvcmtpbmcuXG4gKiBOT1RFOiBJdCBpcyBISUdITFkgcmVjb21tZW5kZWQgdGhhdCB1bmNvcmtpbmcgc2hvdWxkIGFsd2F5cyBiZSBkb25lIHZpYVxuICogYGBgcHJvY2Vzcy5uZXh0VGljaygpYGBgLCBub3QgZHVyaW5nIHRoZSBFdmVudEVtaXR0ZXIub24oKSBjYWxsLlxuICpcbiAqIFNlZSBhbHNvOiBbTm9kZSB3cml0YWJsZSBzdHJlYW1zXShodHRwczovL25vZGVqcy5vcmcvYXBpL3N0cmVhbS5odG1sI3N0cmVhbV93cml0YWJsZV9jb3JrKVxuICpcbiAqIEBjYXRlZ29yeSBFdmVudHNcbiAqL1xuY2xhc3MgQnVmZmVyZWRFdmVudEVtaXR0ZXIgZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvcmtlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JjZXMgYWxsIHdyaXR0ZW4gZXZlbnRzIHRvIGJlIGJ1ZmZlcmVkIGluIG1lbW9yeS4gVGhlIGJ1ZmZlcmVkIGRhdGEgd2lsbCBiZVxuICAgICAqIGZsdXNoZWQgd2hlbiB7QGxpbmsgQnVmZmVyZWRFdmVudEVtaXR0ZXIudW5jb3JrfSBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgY29yaygpIHtcbiAgICAgICAgdGhpcy5jb3JrZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGFsbCBkYXRhIGJ1ZmZlcmVkIHNpbmNlIHtAbGluayBCdWZmZXJlZEV2ZW50RW1pdHRlci5jb3JrfSB3YXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogTk9URTogSXQgaXMgSElHSExZIHJlY29tbWVuZGVkIHRoYXQgdW5jb3JraW5nIHNob3VsZCBhbHdheXMgYmUgZG9uZSB2aWFcbiAgICAgKiBgYGAgcHJvY2Vzcy5uZXh0VGlja2BgYCwgbm90IGR1cmluZyB0aGUgYGBgRXZlbnRFbWl0dGVyLm9uKClgYGAgY2FsbC5cbiAgICAgKi9cbiAgICB1bmNvcmsoKSB7XG4gICAgICAgIHRoaXMuY29ya2VkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICh0aGlzLmV2ZW50UXVldWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ldmVudFF1ZXVlO1xuICAgICAgICAgICAgc3VwZXIuZW1pdChldmVudC5ldmVudCwgLi4uZXZlbnQuYXJncyk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50UXVldWUgPSB0aGlzLmV2ZW50UXVldWUubmV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbm91c2x5IGNhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciB0aGUgZXZlbnQga2V5IHN1cHBsaWVkXG4gICAgICogaW4gcmVnaXN0cmF0aW9uIG9yZGVyLiBJZiB0aGUge0BsaW5rIEJ1ZmZlcmVkRXZlbnRFbWl0dGVyfSBpcyBjdXJyZW50bHkgY29ya2VkLFxuICAgICAqIHRoZSBldmVudCB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIHtAbGluayBCdWZmZXJlZEV2ZW50RW1pdHRlci51bmNvcmt9IGlzIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgICogQHBhcmFtIGFyZ3MgRXZlbnQgcGF5bG9hZFxuICAgICAqL1xuICAgIGVtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ya2VkKSB7XG4gICAgICAgICAgICAvLyBxdWV1ZSByZXF1ZXN0cyBpbiBvcmRlclxuICAgICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmxhc3RRdWV1ZWRFdmVudDtcbiAgICAgICAgICAgIHRoaXMubGFzdFF1ZXVlZEV2ZW50ID0gbmV3IEJ1ZmZlcmVkRXZlbnQoZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICAgICAgICBsYXN0Lm5leHQgPSB0aGlzLmxhc3RRdWV1ZWRFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRRdWV1ZSA9IHRoaXMubGFzdFF1ZXVlZEV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGggPiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICB9XG59XG5leHBvcnRzLkJ1ZmZlcmVkRXZlbnRFbWl0dGVyID0gQnVmZmVyZWRFdmVudEVtaXR0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21tb25IdHRwUHJveHlPcHRpb25zID0gZXhwb3J0cy5IdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUgPSBleHBvcnRzLkh0dHBWZXJzaW9uID0gdm9pZCAwO1xuLyoqXG4gKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBzdXBwb3J0IGZvciBjcmVhdGluZyBodHRwIGNvbm5lY3Rpb25zIGFuZCBtYWtpbmcgcmVxdWVzdHMgb24gdGhlbS5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgaHR0cFxuICovXG4vKipcbiAqIEhUVFAgcHJvdG9jb2wgdmVyc2lvblxuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbnZhciBIdHRwVmVyc2lvbjtcbihmdW5jdGlvbiAoSHR0cFZlcnNpb24pIHtcbiAgICBIdHRwVmVyc2lvbltIdHRwVmVyc2lvbltcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xuICAgIC8qKiBIVFRQLzEuMCAqL1xuICAgIEh0dHBWZXJzaW9uW0h0dHBWZXJzaW9uW1wiSHR0cDFfMFwiXSA9IDFdID0gXCJIdHRwMV8wXCI7XG4gICAgLyoqIEhUVFAvMS4xICovXG4gICAgSHR0cFZlcnNpb25bSHR0cFZlcnNpb25bXCJIdHRwMV8xXCJdID0gMl0gPSBcIkh0dHAxXzFcIjtcbiAgICAvKiogSFRUUC8yICovXG4gICAgSHR0cFZlcnNpb25bSHR0cFZlcnNpb25bXCJIdHRwMlwiXSA9IDNdID0gXCJIdHRwMlwiO1xufSkoSHR0cFZlcnNpb24gPSBleHBvcnRzLkh0dHBWZXJzaW9uIHx8IChleHBvcnRzLkh0dHBWZXJzaW9uID0ge30pKTtcbi8qKlxuICogUHJveHkgYXV0aGVudGljYXRpb24gdHlwZXNcbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG52YXIgSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlO1xuKGZ1bmN0aW9uIChIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBObyB0by1wcm94eSBhdXRoZW50aWNhdGlvbiBsb2dpY1xuICAgICAqL1xuICAgIEh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZVtIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgYmFzaWMgYXV0aGVudGljYXRpb24gKHVzZXIvcGFzcykuICBTdXBwbHkgdGhlc2UgdmFsdWVzIGluIHtAbGluayBIdHRwUHJveHlPcHRpb25zfVxuICAgICAqL1xuICAgIEh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZVtIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGVbXCJCYXNpY1wiXSA9IDFdID0gXCJCYXNpY1wiO1xufSkoSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlID0gZXhwb3J0cy5IdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUgfHwgKGV4cG9ydHMuSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlID0ge30pKTtcbjtcbi8qKlxuICogT3B0aW9ucyB1c2VkIHdoZW4gY29ubmVjdGluZyB0byBhbiBIVFRQIGVuZHBvaW50IHZpYSBhIHByb3h5XG4gKlxuICogQGNhdGVnb3J5IEhUVFBcbiAqL1xuY2xhc3MgQ29tbW9uSHR0cFByb3h5T3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9zdF9uYW1lIGVuZHBvaW50IG9mIHRoZSBwcm94eSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcG9ydCBwb3J0IG9mIHByb3h5IHRvIHVzZVxuICAgICAqIEBwYXJhbSBhdXRoX21ldGhvZCB0eXBlIG9mIGF1dGhlbnRpY2F0aW9uIHRvIHVzZSB3aXRoIHRoZSBwcm94eVxuICAgICAqIEBwYXJhbSBhdXRoX3VzZXJuYW1lIChiYXNpYyBhdXRoZW50aWNhdGlvbiBvbmx5KSBwcm94eSB1c2VybmFtZVxuICAgICAqIEBwYXJhbSBhdXRoX3Bhc3N3b3JkIChiYXNpYyBhdXRoZW50aWNhdGlvbiBvbmx5KSBwYXNzd29yZCBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXJuYW1lXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaG9zdF9uYW1lLCBwb3J0LCBhdXRoX21ldGhvZCA9IEh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZS5Ob25lLCBhdXRoX3VzZXJuYW1lLCBhdXRoX3Bhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMuaG9zdF9uYW1lID0gaG9zdF9uYW1lO1xuICAgICAgICB0aGlzLnBvcnQgPSBwb3J0O1xuICAgICAgICB0aGlzLmF1dGhfbWV0aG9kID0gYXV0aF9tZXRob2Q7XG4gICAgICAgIHRoaXMuYXV0aF91c2VybmFtZSA9IGF1dGhfdXNlcm5hbWU7XG4gICAgICAgIHRoaXMuYXV0aF9wYXNzd29yZCA9IGF1dGhfcGFzc3dvcmQ7XG4gICAgfVxufVxuZXhwb3J0cy5Db21tb25IdHRwUHJveHlPcHRpb25zID0gQ29tbW9uSHR0cFByb3h5T3B0aW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Tb2NrZXREb21haW4gPSBleHBvcnRzLlNvY2tldFR5cGUgPSBleHBvcnRzLlRsc1ZlcnNpb24gPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIGEgZ3JhYiBiYWcgb2Ygc3VwcG9ydCBmb3IgY29yZSBuZXR3b3JrIEkvTyBmdW5jdGlvbmFsaXR5LCBpbmNsdWRpbmcgc29ja2V0cywgVExTLCBETlMsIGxvZ2dpbmcsXG4gKiBlcnJvciBoYW5kbGluZywgc3RyZWFtcywgYW5kIGNvbm5lY3Rpb24gLT4gdGhyZWFkIG1hcHBpbmcuXG4gKlxuICogQ2F0ZWdvcmllcyBpbmNsdWRlOlxuICogLSBOZXR3b3JrOiBzb2NrZXQgY29uZmlndXJhdGlvblxuICogLSBUTFM6IHRscyBjb25maWd1cmF0aW9uXG4gKiAtIExvZ2dpbmc6IGxvZ2dpbmcgY29udHJvbHMgYW5kIGNvbmZpZ3VyYXRpb25cbiAqIC0gSU86IGV2ZXJ5dGhpbmcgZWxzZVxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBpb1xuICovXG4vKipcbiAqIFRMUyBWZXJzaW9uXG4gKlxuICogQGNhdGVnb3J5IFRMU1xuICovXG52YXIgVGxzVmVyc2lvbjtcbihmdW5jdGlvbiAoVGxzVmVyc2lvbikge1xuICAgIFRsc1ZlcnNpb25bVGxzVmVyc2lvbltcIlNTTHYzXCJdID0gMF0gPSBcIlNTTHYzXCI7XG4gICAgVGxzVmVyc2lvbltUbHNWZXJzaW9uW1wiVExTdjFcIl0gPSAxXSA9IFwiVExTdjFcIjtcbiAgICBUbHNWZXJzaW9uW1Rsc1ZlcnNpb25bXCJUTFN2MV8xXCJdID0gMl0gPSBcIlRMU3YxXzFcIjtcbiAgICBUbHNWZXJzaW9uW1Rsc1ZlcnNpb25bXCJUTFN2MV8yXCJdID0gM10gPSBcIlRMU3YxXzJcIjtcbiAgICBUbHNWZXJzaW9uW1Rsc1ZlcnNpb25bXCJUTFN2MV8zXCJdID0gNF0gPSBcIlRMU3YxXzNcIjtcbiAgICBUbHNWZXJzaW9uW1Rsc1ZlcnNpb25bXCJEZWZhdWx0XCJdID0gMTI4XSA9IFwiRGVmYXVsdFwiO1xufSkoVGxzVmVyc2lvbiA9IGV4cG9ydHMuVGxzVmVyc2lvbiB8fCAoZXhwb3J0cy5UbHNWZXJzaW9uID0ge30pKTtcbi8qKlxuICogQGNhdGVnb3J5IE5ldHdvcmtcbiAqL1xudmFyIFNvY2tldFR5cGU7XG4oZnVuY3Rpb24gKFNvY2tldFR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBBIHN0cmVhbWluZyBzb2NrZXQgc2VuZHMgcmVsaWFibGUgbWVzc2FnZXMgb3ZlciBhIHR3by13YXkgY29ubmVjdGlvbi5cbiAgICAgKiBUaGlzIG1lYW5zIFRDUCB3aGVuIHVzZWQgd2l0aCB7QGxpbmsgU29ja2V0RG9tYWluLklQVjR9L3tAbGluayBTb2NrZXREb21haW4uSVBWNn0sXG4gICAgICogYW5kIFVuaXggZG9tYWluIHNvY2tldHMgd2hlbiB1c2VkIHdpdGgge0BsaW5rIFNvY2tldERvbWFpbi5MT0NBTCB9XG4gICAgICAqL1xuICAgIFNvY2tldFR5cGVbU29ja2V0VHlwZVtcIlNUUkVBTVwiXSA9IDBdID0gXCJTVFJFQU1cIjtcbiAgICAvKipcbiAgICAgKiBBIGRhdGFncmFtIHNvY2tldCBpcyBjb25uZWN0aW9ubGVzcyBhbmQgc2VuZHMgdW5yZWxpYWJsZSBtZXNzYWdlcy5cbiAgICAgKiBUaGlzIG1lYW5zIFVEUCB3aGVuIHVzZWQgd2l0aCB7QGxpbmsgU29ja2V0RG9tYWluLklQVjR9L3tAbGluayBTb2NrZXREb21haW4uSVBWNn0uXG4gICAgICoge0BsaW5rIFNvY2tldERvbWFpbi5MT0NBTH0gaXMgbm90IGNvbXBhdGlibGUgd2l0aCB7QGxpbmsgREdSQU19XG4gICAgICovXG4gICAgU29ja2V0VHlwZVtTb2NrZXRUeXBlW1wiREdSQU1cIl0gPSAxXSA9IFwiREdSQU1cIjtcbn0pKFNvY2tldFR5cGUgPSBleHBvcnRzLlNvY2tldFR5cGUgfHwgKGV4cG9ydHMuU29ja2V0VHlwZSA9IHt9KSk7XG4vKipcbiAqIEBjYXRlZ29yeSBOZXR3b3JrXG4gKi9cbnZhciBTb2NrZXREb21haW47XG4oZnVuY3Rpb24gKFNvY2tldERvbWFpbikge1xuICAgIC8qKiBJUHY0IHNvY2tldHMgKi9cbiAgICBTb2NrZXREb21haW5bU29ja2V0RG9tYWluW1wiSVBWNFwiXSA9IDBdID0gXCJJUFY0XCI7XG4gICAgLyoqIElQdjYgc29ja2V0cyAqL1xuICAgIFNvY2tldERvbWFpbltTb2NrZXREb21haW5bXCJJUFY2XCJdID0gMV0gPSBcIklQVjZcIjtcbiAgICAvKiogVU5JWCBkb21haW4gc29ja2V0L1dpbmRvd3MgbmFtZWQgcGlwZXMgKi9cbiAgICBTb2NrZXREb21haW5bU29ja2V0RG9tYWluW1wiTE9DQUxcIl0gPSAyXSA9IFwiTE9DQUxcIjtcbn0pKFNvY2tldERvbWFpbiA9IGV4cG9ydHMuU29ja2V0RG9tYWluIHx8IChleHBvcnRzLlNvY2tldERvbWFpbiA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRFRkFVTFRfUkVDT05ORUNUX01JTl9TRUMgPSBleHBvcnRzLkRFRkFVTFRfUkVDT05ORUNUX01BWF9TRUMgPSBleHBvcnRzLk1xdHRXaWxsID0gZXhwb3J0cy5Rb1MgPSB2b2lkIDA7XG4vKipcbiAqIFF1YWxpdHkgb2Ygc2VydmljZSBjb250cm9sIGZvciBtcXR0IHB1Ymxpc2ggb3BlcmF0aW9uc1xuICpcbiAqIEBjYXRlZ29yeSBNUVRUXG4gKi9cbnZhciBRb1M7XG4oZnVuY3Rpb24gKFFvUykge1xuICAgIC8qKlxuICAgICAqIFFvUyAwIC0gQXQgbW9zdCBvbmNlIGRlbGl2ZXJ5XG4gICAgICogVGhlIG1lc3NhZ2UgaXMgZGVsaXZlcmVkIGFjY29yZGluZyB0byB0aGUgY2FwYWJpbGl0aWVzIG9mIHRoZSB1bmRlcmx5aW5nIG5ldHdvcmsuXG4gICAgICogTm8gcmVzcG9uc2UgaXMgc2VudCBieSB0aGUgcmVjZWl2ZXIgYW5kIG5vIHJldHJ5IGlzIHBlcmZvcm1lZCBieSB0aGUgc2VuZGVyLlxuICAgICAqIFRoZSBtZXNzYWdlIGFycml2ZXMgYXQgdGhlIHJlY2VpdmVyIGVpdGhlciBvbmNlIG9yIG5vdCBhdCBhbGwuXG4gICAgICovXG4gICAgUW9TW1FvU1tcIkF0TW9zdE9uY2VcIl0gPSAwXSA9IFwiQXRNb3N0T25jZVwiO1xuICAgIC8qKlxuICAgICAqIFFvUyAxIC0gQXQgbGVhc3Qgb25jZSBkZWxpdmVyeVxuICAgICAqIFRoaXMgcXVhbGl0eSBvZiBzZXJ2aWNlIGVuc3VyZXMgdGhhdCB0aGUgbWVzc2FnZSBhcnJpdmVzIGF0IHRoZSByZWNlaXZlciBhdCBsZWFzdCBvbmNlLlxuICAgICAqL1xuICAgIFFvU1tRb1NbXCJBdExlYXN0T25jZVwiXSA9IDFdID0gXCJBdExlYXN0T25jZVwiO1xuICAgIC8qKlxuICAgICAqIFFvUyAyIC0gRXhhY3RseSBvbmNlIGRlbGl2ZXJ5XG5cbiAgICAgKiBUaGlzIGlzIHRoZSBoaWdoZXN0IHF1YWxpdHkgb2Ygc2VydmljZSwgZm9yIHVzZSB3aGVuIG5laXRoZXIgbG9zcyBub3JcbiAgICAgKiBkdXBsaWNhdGlvbiBvZiBtZXNzYWdlcyBhcmUgYWNjZXB0YWJsZS4gVGhlcmUgaXMgYW4gaW5jcmVhc2VkIG92ZXJoZWFkXG4gICAgICogYXNzb2NpYXRlZCB3aXRoIHRoaXMgcXVhbGl0eSBvZiBzZXJ2aWNlLlxuXG4gICAgICogTm90ZSB0aGF0LCB3aGlsZSB0aGlzIGNsaWVudCBzdXBwb3J0cyBRb1MgMiwgdGhlIEFXUyBJb1QgQ29yZSBzZXJ2aWNlXG4gICAgICogZG9lcyBub3Qgc3VwcG9ydCBRb1MgMiBhdCB0aW1lIG9mIHdyaXRpbmcgKE1heSAyMDIwKS5cbiAgICAgKi9cbiAgICBRb1NbUW9TW1wiRXhhY3RseU9uY2VcIl0gPSAyXSA9IFwiRXhhY3RseU9uY2VcIjtcbn0pKFFvUyA9IGV4cG9ydHMuUW9TIHx8IChleHBvcnRzLlFvUyA9IHt9KSk7XG4vKipcbiAqIEEgV2lsbCBtZXNzYWdlIGlzIHB1Ymxpc2hlZCBieSB0aGUgc2VydmVyIGlmIGEgY2xpZW50IGlzIGxvc3QgdW5leHBlY3RlZGx5LlxuICpcbiAqIFRoZSBXaWxsIG1lc3NhZ2UgaXMgc3RvcmVkIG9uIHRoZSBzZXJ2ZXIgd2hlbiBhIGNsaWVudCBjb25uZWN0cy5cbiAqIEl0IGlzIHB1Ymxpc2hlZCBpZiB0aGUgY2xpZW50IGNvbm5lY3Rpb24gaXMgbG9zdCB3aXRob3V0IHRoZSBzZXJ2ZXJcbiAqIHJlY2VpdmluZyBhIERJU0NPTk5FQ1QgcGFja2V0LlxuICpcbiAqIFtNUVRUIC0gMy4xLjIgLSA4XVxuICpcbiAqIEBjYXRlZ29yeSBNUVRUXG4gKi9cbmNsYXNzIE1xdHRXaWxsIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVG9waWMgdG8gcHVibGlzaCBXaWxsIG1lc3NhZ2Ugb24uICovXG4gICAgdG9waWMsIFxuICAgIC8qKiBRb1MgdXNlZCB3aGVuIHB1Ymxpc2hpbmcgdGhlIFdpbGwgbWVzc2FnZS4gKi9cbiAgICBxb3MsIFxuICAgIC8qKiBDb250ZW50IG9mIFdpbGwgbWVzc2FnZS4gKi9cbiAgICBwYXlsb2FkLCBcbiAgICAvKiogV2hldGhlciB0aGUgV2lsbCBtZXNzYWdlIGlzIHRvIGJlIHJldGFpbmVkIHdoZW4gaXQgaXMgcHVibGlzaGVkLiAqL1xuICAgIHJldGFpbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMudG9waWMgPSB0b3BpYztcbiAgICAgICAgdGhpcy5xb3MgPSBxb3M7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIHRoaXMucmV0YWluID0gcmV0YWluO1xuICAgIH1cbn1cbmV4cG9ydHMuTXF0dFdpbGwgPSBNcXR0V2lsbDtcbi8qKlxuICogQ29uc3QgdmFsdWUgZm9yIG1heCByZWNvbm5lY3Rpb24gYmFjayBvZmYgdGltZVxuICpcbiAqIEBjYXRlZ29yeSBNUVRUXG4gKi9cbmV4cG9ydHMuREVGQVVMVF9SRUNPTk5FQ1RfTUFYX1NFQyA9IDEyODtcbi8qKlxuICogQ29uc3QgdmFsdWUgZm9yIG1pbiByZWNvbm5lY3Rpb24gYmFjayBvZmYgdGltZVxuICpcbiAqIEBjYXRlZ29yeSBNUVRUXG4gKi9cbmV4cG9ydHMuREVGQVVMVF9SRUNPTk5FQ1RfTUlOX1NFQyA9IDE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tcXR0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmV0cnlKaXR0ZXJUeXBlID0gZXhwb3J0cy5DbGllbnRTZXNzaW9uQmVoYXZpb3IgPSB2b2lkIDA7XG4vKipcbiAqIENvbnRyb2xzIGhvdyB0aGUgTVFUVDUgY2xpZW50IHNob3VsZCBiZWhhdmUgd2l0aCByZXNwZWN0IHRvIE1RVFQgc2Vzc2lvbnMuXG4gKi9cbnZhciBDbGllbnRTZXNzaW9uQmVoYXZpb3I7XG4oZnVuY3Rpb24gKENsaWVudFNlc3Npb25CZWhhdmlvcikge1xuICAgIC8qKiBNYXBzIHRvIENsZWFuICovXG4gICAgQ2xpZW50U2Vzc2lvbkJlaGF2aW9yW0NsaWVudFNlc3Npb25CZWhhdmlvcltcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgIC8qKlxuICAgICAqIEFsd2F5cyBhc2sgZm9yIGEgY2xlYW4gc2Vzc2lvbiB3aGVuIGNvbm5lY3RpbmdcbiAgICAgKi9cbiAgICBDbGllbnRTZXNzaW9uQmVoYXZpb3JbQ2xpZW50U2Vzc2lvbkJlaGF2aW9yW1wiQ2xlYW5cIl0gPSAxXSA9IFwiQ2xlYW5cIjtcbiAgICAvKipcbiAgICAgKiBBbHdheXMgYXR0ZW1wdCB0byByZWpvaW4gYW4gZXhpc3Rpbmcgc2Vzc2lvbiBhZnRlciBhbiBpbml0aWFsIGNvbm5lY3Rpb24gc3VjY2Vzcy5cbiAgICAgKlxuICAgICAqIFNlc3Npb24gcmVqb2luIHJlcXVpcmVzIGFuIGFwcHJvcHJpYXRlIG5vbi16ZXJvIHNlc3Npb24gZXhwaXJ5IGludGVydmFsIGluIHRoZSBjbGllbnQncyBDT05ORUNUIG9wdGlvbnMuXG4gICAgICovXG4gICAgQ2xpZW50U2Vzc2lvbkJlaGF2aW9yW0NsaWVudFNlc3Npb25CZWhhdmlvcltcIlJlam9pblBvc3RTdWNjZXNzXCJdID0gMl0gPSBcIlJlam9pblBvc3RTdWNjZXNzXCI7XG4gICAgLyoqXG4gICAgICogQWx3YXlzIGF0dGVtcHQgdG8gcmVqb2luIGFuIGV4aXN0aW5nIHNlc3Npb24uICBTaW5jZSB0aGUgY2xpZW50IGRvZXMgbm90IHlldCBzdXBwb3J0IGR1cmFibGUgc2Vzc2lvbiBwZXJzaXN0ZW5jZSxcbiAgICAgKiB0aGlzIG9wdGlvbiBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBzcGVjIGNvbXBsaWFudCBiZWNhdXNlIGFueSB1bmFja25vd2xlZGdlZCBxb3MxIHB1Ymxpc2hlcyAod2hpY2ggYXJlXG4gICAgICogcGFydCBvZiB0aGUgY2xpZW50IHNlc3Npb24gc3RhdGUpIHdpbGwgbm90IGJlIHByZXNlbnQgb24gdGhlIGluaXRpYWwgY29ubmVjdGlvbi4gIFVudGlsIHdlIHN1cHBvcnRcbiAgICAgKiBkdXJhYmxlIHNlc3Npb24gcmVzdW1wdGlvbiwgdGhpcyBvcHRpb24gaXMgdGVjaG5pY2FsbHkgc3BlYy1icmVha2luZywgYnV0IHVzZWZ1bC5cbiAgICAgKi9cbiAgICBDbGllbnRTZXNzaW9uQmVoYXZpb3JbQ2xpZW50U2Vzc2lvbkJlaGF2aW9yW1wiUmVqb2luQWx3YXlzXCJdID0gM10gPSBcIlJlam9pbkFsd2F5c1wiO1xufSkoQ2xpZW50U2Vzc2lvbkJlaGF2aW9yID0gZXhwb3J0cy5DbGllbnRTZXNzaW9uQmVoYXZpb3IgfHwgKGV4cG9ydHMuQ2xpZW50U2Vzc2lvbkJlaGF2aW9yID0ge30pKTtcbi8qKlxuICogQ29udHJvbHMgaG93IHRoZSByZWNvbm5lY3QgZGVsYXkgaXMgbW9kaWZpZWQgaW4gb3JkZXIgdG8gc21vb3RoIG91dCB0aGUgZGlzdHJpYnV0aW9uIG9mIHJlY29ubmVjdGlvbiBhdHRlbXB0XG4gKiB0aW1lcG9pbnRzIGZvciBhIGxhcmdlIHNldCBvZiByZWNvbm5lY3RpbmcgY2xpZW50cy5cbiAqXG4gKiBTZWUgW0V4cG9uZW50aWFsIEJhY2tvZmYgYW5kIEppdHRlcl0oaHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9ibG9ncy9hcmNoaXRlY3R1cmUvZXhwb25lbnRpYWwtYmFja29mZi1hbmQtaml0dGVyLylcbiAqL1xudmFyIFJldHJ5Sml0dGVyVHlwZTtcbihmdW5jdGlvbiAoUmV0cnlKaXR0ZXJUeXBlKSB7XG4gICAgLyoqXG4gICAgICogTWFwcyB0byBGdWxsXG4gICAgICovXG4gICAgUmV0cnlKaXR0ZXJUeXBlW1JldHJ5Sml0dGVyVHlwZVtcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgIC8qKlxuICAgICAqIERvIG5vdCBwZXJmb3JtIGFueSByYW5kb21pemF0aW9uIG9uIHRoZSByZWNvbm5lY3QgZGVsYXk6XG4gICAgICogYGBgTmV4dFJlY29ubmVjdERlbGF5ID0gQ3VycmVudEV4cG9uZW50aWFsQmFja29mZlZhbHVlYGBgXG4gICAgICovXG4gICAgUmV0cnlKaXR0ZXJUeXBlW1JldHJ5Sml0dGVyVHlwZVtcIk5vbmVcIl0gPSAxXSA9IFwiTm9uZVwiO1xuICAgIC8qKlxuICAgICAqIEZ1bGx5IHJhbmRvbSBiZXR3ZWVuIG5vIGRlbGF5IGFuZCB0aGUgY3VycmVudCBleHBvbmVudGlhbCBiYWNrb2ZmIHZhbHVlLlxuICAgICAqIGBgYE5leHRSZWNvbm5lY3REZWxheSA9IFJhbmRvbSgwLCBDdXJyZW50RXhwb25lbnRpYWxCYWNrb2ZmVmFsdWUpYGBgXG4gICAgICovXG4gICAgUmV0cnlKaXR0ZXJUeXBlW1JldHJ5Sml0dGVyVHlwZVtcIkZ1bGxcIl0gPSAyXSA9IFwiRnVsbFwiO1xuICAgIC8qKlxuICAgICAqIGBgYE5leHRSZWNvbm5lY3REZWxheSA9IE1pbihNYXhSZWNvbm5lY3REZWxheSwgUmFuZG9tKE1pblJlY29ubmVjdERlbGF5LCAzICogQ3VycmVudFJlY29ubmVjdERlbGF5KWBgYFxuICAgICAqL1xuICAgIFJldHJ5Sml0dGVyVHlwZVtSZXRyeUppdHRlclR5cGVbXCJEZWNvcnJlbGF0ZWRcIl0gPSAzXSA9IFwiRGVjb3JyZWxhdGVkXCI7XG59KShSZXRyeUppdHRlclR5cGUgPSBleHBvcnRzLlJldHJ5Sml0dGVyVHlwZSB8fCAoZXhwb3J0cy5SZXRyeUppdHRlclR5cGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXF0dDUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYWNrZXRUeXBlID0gZXhwb3J0cy5SZXRhaW5IYW5kbGluZ1R5cGUgPSBleHBvcnRzLlFvUyA9IGV4cG9ydHMuUGF5bG9hZEZvcm1hdEluZGljYXRvciA9IGV4cG9ydHMuaXNTdWNjZXNzZnVsUHViYWNrUmVhc29uQ29kZSA9IGV4cG9ydHMuUHViYWNrUmVhc29uQ29kZSA9IGV4cG9ydHMuaXNTdWNjZXNzZnVsVW5zdWJhY2tSZWFzb25Db2RlID0gZXhwb3J0cy5VbnN1YmFja1JlYXNvbkNvZGUgPSBleHBvcnRzLmlzU3VjY2Vzc2Z1bFN1YmFja1JlYXNvbkNvZGUgPSBleHBvcnRzLlN1YmFja1JlYXNvbkNvZGUgPSBleHBvcnRzLmlzU3VjY2Vzc2Z1bERpc2Nvbm5lY3RSZWFzb25Db2RlID0gZXhwb3J0cy5EaXNjb25uZWN0UmVhc29uQ29kZSA9IGV4cG9ydHMuaXNTdWNjZXNzZnVsQ29ubmVjdFJlYXNvbkNvZGUgPSBleHBvcnRzLkNvbm5lY3RSZWFzb25Db2RlID0gdm9pZCAwO1xuLyoqXG4gKiBTZXJ2ZXIgcmV0dXJuIGNvZGUgZm9yIGNvbm5lY3QgYXR0ZW1wdHMuXG4gKlxuICogRW51bSB2YWx1ZXMgbWF0Y2ggW01RVFQ1IHNwZWNdKGh0dHBzOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9tcXR0L21xdHQvdjUuMC9vcy9tcXR0LXY1LjAtb3MuaHRtbCNfVG9jMzkwMTA3OSkgZW5jb2RpbmcgdmFsdWVzLlxuICovXG52YXIgQ29ubmVjdFJlYXNvbkNvZGU7XG4oZnVuY3Rpb24gKENvbm5lY3RSZWFzb25Db2RlKSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBhY2NlcHRlZC5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlN1Y2Nlc3NcIl0gPSAwXSA9IFwiU3VjY2Vzc1wiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBoYXMgYSBmYWlsdXJlIGJ1dCBkb2VzIG5vdCB3YW50IHRvIHNwZWNpZnkgYSByZWFzb24gb3Igbm9uZVxuICAgICAqIG9mIHRoZSBvdGhlciByZWFzb24gY29kZXMgYXBwbHkuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJVbnNwZWNpZmllZEVycm9yXCJdID0gMTI4XSA9IFwiVW5zcGVjaWZpZWRFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gZGF0YSBpbiB0aGUgQ09OTkVDVCBwYWNrZXQgY291bGQgbm90IGJlIGNvcnJlY3RseSBwYXJzZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIk1hbGZvcm1lZFBhY2tldFwiXSA9IDEyOV0gPSBcIk1hbGZvcm1lZFBhY2tldFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gZGF0YSBpbiB0aGUgQ09OTkVDVCBwYWNrZXQgZG9lcyBub3QgY29uZm9ybSB0byB0aGUgTVFUVDUgc3BlY2lmaWNhdGlvbiByZXF1aXJlbWVudHMuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJQcm90b2NvbEVycm9yXCJdID0gMTMwXSA9IFwiUHJvdG9jb2xFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIENPTk5FQ1QgcGFja2V0IGlzIHZhbGlkIGJ1dCB3YXMgbm90IGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJJbXBsZW1lbnRhdGlvblNwZWNpZmljRXJyb3JcIl0gPSAxMzFdID0gXCJJbXBsZW1lbnRhdGlvblNwZWNpZmljRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBNUVRUNSBwcm90b2NvbCB2ZXJzaW9uIHNwZWNpZmllZCBpbiB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlVuc3VwcG9ydGVkUHJvdG9jb2xWZXJzaW9uXCJdID0gMTMyXSA9IFwiVW5zdXBwb3J0ZWRQcm90b2NvbFZlcnNpb25cIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjbGllbnQgaWRlbnRpZmllciBpbiB0aGUgQ09OTkVDVCBwYWNrZXQgaXMgYSB2YWxpZCBzdHJpbmcgYnV0IG5vdCBvbmUgdGhhdFxuICAgICAqIGlzIGFsbG93ZWQgb24gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIkNsaWVudElkZW50aWZpZXJOb3RWYWxpZFwiXSA9IDEzM10gPSBcIkNsaWVudElkZW50aWZpZXJOb3RWYWxpZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBkb2VzIG5vdCBhY2NlcHQgdGhlIHVzZXJuYW1lIGFuZC9vciBwYXNzd29yZCBzcGVjaWZpZWQgYnkgdGhlIGNsaWVudFxuICAgICAqIGluIHRoZSBjb25uZWN0aW9uIHBhY2tldC5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIkJhZFVzZXJuYW1lT3JQYXNzd29yZFwiXSA9IDEzNF0gPSBcIkJhZFVzZXJuYW1lT3JQYXNzd29yZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNsaWVudCBpcyBub3QgYXV0aG9yaXplZCB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJOb3RBdXRob3JpemVkXCJdID0gMTM1XSA9IFwiTm90QXV0aG9yaXplZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIE1RVFQ1IHNlcnZlciBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiU2VydmVyVW5hdmFpbGFibGVcIl0gPSAxMzZdID0gXCJTZXJ2ZXJVbmF2YWlsYWJsZVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBpcyB0b28gYnVzeSB0byBtYWtlIGEgY29ubmVjdGlvbi4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGUgY2xpZW50IHRyeSBhZ2FpbiBsYXRlci5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlNlcnZlckJ1c3lcIl0gPSAxMzddID0gXCJTZXJ2ZXJCdXN5XCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY2xpZW50IGhhcyBiZWVuIGJhbm5lZCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiQmFubmVkXCJdID0gMTM4XSA9IFwiQmFubmVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gbWV0aG9kIHVzZWQgaW4gdGhlIGNvbm5lY3Rpb24gaXMgZWl0aGVyIG5vdCBzdXBwb3J0ZWQgb24gdGhlIHNlcnZlciBvciBpdCBkb2VzXG4gICAgICogbm90IG1hdGNoIHRoZSBhdXRoZW50aWNhdGlvbiBtZXRob2QgY3VycmVudGx5IGluIHVzZSBpbiB0aGUgQ09OTkVDVCBwYWNrZXQuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJCYWRBdXRoZW50aWNhdGlvbk1ldGhvZFwiXSA9IDE0MF0gPSBcIkJhZEF1dGhlbnRpY2F0aW9uTWV0aG9kXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgV2lsbCB0b3BpYyBuYW1lIHNlbnQgaW4gdGhlIGNvbm5lY3Rpb24gcGFja2V0IGlzIGNvcnJlY3RseSBmb3JtZWQsIGJ1dCBpcyBub3QgYWNjZXB0ZWQgYnlcbiAgICAgKiB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiVG9waWNOYW1lSW52YWxpZFwiXSA9IDE0NF0gPSBcIlRvcGljTmFtZUludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjb25uZWN0aW9uIHBhY2tldCBleGNlZWRlZCB0aGUgbWF4aW11bSBwZXJtaXNzaWJsZSBzaXplIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJQYWNrZXRUb29MYXJnZVwiXSA9IDE0OV0gPSBcIlBhY2tldFRvb0xhcmdlXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcXVvdGEgbGltaXRzIHNldCBvbiB0aGUgc2VydmVyIGhhdmUgYmVlbiBtZXQgYW5kL29yIGV4Y2VlZGVkLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiUXVvdGFFeGNlZWRlZFwiXSA9IDE1MV0gPSBcIlF1b3RhRXhjZWVkZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBXaWxsIHBheWxvYWQgaW4gdGhlIENPTk5FQ1QgcGFja2V0IGRvZXMgbm90IG1hdGNoIHRoZSBzcGVjaWZpZWQgcGF5bG9hZCBmb3JtYXQgaW5kaWNhdG9yLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiUGF5bG9hZEZvcm1hdEludmFsaWRcIl0gPSAxNTNdID0gXCJQYXlsb2FkRm9ybWF0SW52YWxpZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBkb2VzIG5vdCByZXRhaW4gbWVzc2FnZXMgYnV0IHRoZSBjb25uZWN0aW9uIHBhY2tldCBvbiB0aGUgY2xpZW50IGhhZCBXaWxsIHJldGFpbiBlbmFibGVkLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiUmV0YWluTm90U3VwcG9ydGVkXCJdID0gMTU0XSA9IFwiUmV0YWluTm90U3VwcG9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdGhlIFFPUyBzZXR0aW5nIGluIHRoZSBXaWxsIFFPUyBpbiB0aGUgY29ubmVjdGlvbiBwYWNrZXQuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJRb3NOb3RTdXBwb3J0ZWRcIl0gPSAxNTVdID0gXCJRb3NOb3RTdXBwb3J0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgaXMgdGVsbGluZyB0aGUgY2xpZW50IHRvIHRlbXBvcmFyaWx5IHVzZSBhbm90aGVyIHNlcnZlciBpbnN0ZWFkIG9mIHRoZSBvbmUgdGhleVxuICAgICAqIGFyZSB0cnlpbmcgdG8gY29ubmVjdCB0by5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlVzZUFub3RoZXJTZXJ2ZXJcIl0gPSAxNTZdID0gXCJVc2VBbm90aGVyU2VydmVyXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGlzIHRlbGxpbmcgdGhlIGNsaWVudCB0byBwZXJtYW5lbnRseSB1c2UgYW5vdGhlciBzZXJ2ZXIgaW5zdGVhZCBvZiB0aGUgb25lIHRoZXlcbiAgICAgKiBhcmUgdHJ5aW5nIHRvIGNvbm5lY3QgdG8uXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJTZXJ2ZXJNb3ZlZFwiXSA9IDE1N10gPSBcIlNlcnZlck1vdmVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGNvbm5lY3Rpb24gcmF0ZSBsaW1pdCBoYXMgYmVlbiBleGNlZWRlZC5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIkNvbm5lY3Rpb25SYXRlRXhjZWVkZWRcIl0gPSAxNTldID0gXCJDb25uZWN0aW9uUmF0ZUV4Y2VlZGVkXCI7XG59KShDb25uZWN0UmVhc29uQ29kZSA9IGV4cG9ydHMuQ29ubmVjdFJlYXNvbkNvZGUgfHwgKGV4cG9ydHMuQ29ubmVjdFJlYXNvbkNvZGUgPSB7fSkpO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVhc29uIGNvZGUgcmVwcmVzZW50cyBhIHN1Y2Nlc3NmdWwgY29ubmVjdCBvcGVyYXRpb25cbiAqXG4gKiBAcGFyYW0gcmVhc29uQ29kZSByZWFzb24gY29kZSB0byBjaGVjayBzdWNjZXNzIGZvclxuICovXG5mdW5jdGlvbiBpc1N1Y2Nlc3NmdWxDb25uZWN0UmVhc29uQ29kZShyZWFzb25Db2RlKSB7XG4gICAgcmV0dXJuIHJlYXNvbkNvZGUgPCAxMjg7XG59XG5leHBvcnRzLmlzU3VjY2Vzc2Z1bENvbm5lY3RSZWFzb25Db2RlID0gaXNTdWNjZXNzZnVsQ29ubmVjdFJlYXNvbkNvZGU7XG4vKipcbiAqIFJlYXNvbiBjb2RlIGluc2lkZSBESVNDT05ORUNUIHBhY2tldHMuICBIZWxwcyBkZXRlcm1pbmUgd2h5IGEgY29ubmVjdGlvbiB3YXMgdGVybWluYXRlZC5cbiAqXG4gKiBFbnVtIHZhbHVlcyBtYXRjaCBbTVFUVDUgc3BlY10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMjA4KSBlbmNvZGluZyB2YWx1ZXMuXG4gKi9cbnZhciBEaXNjb25uZWN0UmVhc29uQ29kZTtcbihmdW5jdGlvbiAoRGlzY29ubmVjdFJlYXNvbkNvZGUpIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSByZW1vdGUgZW5kcG9pbnQgd2lzaGVzIHRvIGRpc2Nvbm5lY3Qgbm9ybWFsbHkuIFdpbGwgbm90IHRyaWdnZXIgdGhlIHB1Ymxpc2ggb2YgYSBXaWxsIG1lc3NhZ2UgaWYgYVxuICAgICAqIFdpbGwgbWVzc2FnZSB3YXMgY29uZmlndXJlZCBvbiB0aGUgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3Igc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiTm9ybWFsRGlzY29ubmVjdGlvblwiXSA9IDBdID0gXCJOb3JtYWxEaXNjb25uZWN0aW9uXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGF0IHRoZSBjbGllbnQgd2FudHMgdG8gZGlzY29ubmVjdCBidXQgcmVxdWlyZXMgdGhhdCB0aGUgc2VydmVyIHB1Ymxpc2ggdGhlIFdpbGwgbWVzc2FnZSBjb25maWd1cmVkXG4gICAgICogb24gdGhlIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJEaXNjb25uZWN0V2l0aFdpbGxNZXNzYWdlXCJdID0gNF0gPSBcIkRpc2Nvbm5lY3RXaXRoV2lsbE1lc3NhZ2VcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgYnV0IHRoZSBzZW5kZXIgZG9lcyBub3Qgd2FudCB0byBzcGVjaWZ5IGEgcmVhc29uIG9yIG5vbmVcbiAgICAgKiBvZiB0aGUgb3RoZXIgcmVhc29uIGNvZGVzIGFwcGx5LlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiVW5zcGVjaWZpZWRFcnJvclwiXSA9IDEyOF0gPSBcIlVuc3BlY2lmaWVkRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIHJlbW90ZSBlbmRwb2ludCByZWNlaXZlZCBhIHBhY2tldCB0aGF0IGRvZXMgbm90IGNvbmZvcm0gdG8gdGhlIE1RVFQgc3BlY2lmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIk1hbGZvcm1lZFBhY2tldFwiXSA9IDEyOV0gPSBcIk1hbGZvcm1lZFBhY2tldFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gYW4gdW5leHBlY3RlZCBvciBvdXQtb2Ytb3JkZXIgcGFja2V0IHdhcyByZWNlaXZlZCBieSB0aGUgcmVtb3RlIGVuZHBvaW50LlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiUHJvdG9jb2xFcnJvclwiXSA9IDEzMF0gPSBcIlByb3RvY29sRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIGEgdmFsaWQgcGFja2V0IHdhcyByZWNlaXZlZCBieSB0aGUgcmVtb3RlIGVuZHBvaW50LCBidXQgY291bGQgbm90IGJlIHByb2Nlc3NlZCBieSB0aGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiXSA9IDEzMV0gPSBcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHJlbW90ZSBlbmRwb2ludCByZWNlaXZlZCBhIHBhY2tldCB0aGF0IHJlcHJlc2VudGVkIGFuIG9wZXJhdGlvbiB0aGF0IHdhcyBub3QgYXV0aG9yaXplZCB3aXRoaW5cbiAgICAgKiB0aGUgY3VycmVudCBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiTm90QXV0aG9yaXplZFwiXSA9IDEzNV0gPSBcIk5vdEF1dGhvcml6ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgaXMgYnVzeSBhbmQgY2Fubm90IGNvbnRpbnVlIHByb2Nlc3NpbmcgcGFja2V0cyBmcm9tIHRoZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJTZXJ2ZXJCdXN5XCJdID0gMTM3XSA9IFwiU2VydmVyQnVzeVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBpcyBzaHV0dGluZyBkb3duLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiU2VydmVyU2h1dHRpbmdEb3duXCJdID0gMTM5XSA9IFwiU2VydmVyU2h1dHRpbmdEb3duXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGNsb3NlcyB0aGUgY29ubmVjdGlvbiBiZWNhdXNlIG5vIHBhY2tldCBmcm9tIHRoZSBjbGllbnQgaGFzIGJlZW4gcmVjZWl2ZWQgaW5cbiAgICAgKiAxLjUgdGltZXMgdGhlIEtlZXBBbGl2ZSB0aW1lIHNldCB3aGVuIHRoZSBjb25uZWN0aW9uIHdhcyBlc3RhYmxpc2hlZC5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIktlZXBBbGl2ZVRpbWVvdXRcIl0gPSAxNDFdID0gXCJLZWVwQWxpdmVUaW1lb3V0XCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGhhcyBlc3RhYmxpc2hlZCBhbm90aGVyIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2FtZSBjbGllbnQgSUQgYXMgYSBjbGllbnQncyBjdXJyZW50XG4gICAgICogY29ubmVjdGlvbiwgY2F1c2luZyB0aGUgY3VycmVudCBjbGllbnQgdG8gYmVjb21lIGRpc2Nvbm5lY3RlZC5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlNlc3Npb25UYWtlbk92ZXJcIl0gPSAxNDJdID0gXCJTZXNzaW9uVGFrZW5PdmVyXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgdG9waWMgZmlsdGVyIG5hbWUgaXMgY29ycmVjdGx5IGZvcm1lZCBidXQgbm90IGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJUb3BpY0ZpbHRlckludmFsaWRcIl0gPSAxNDNdID0gXCJUb3BpY0ZpbHRlckludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRvcGljIG5hbWUgaXMgY29ycmVjdGx5IGZvcm1lZCwgYnV0IGlzIG5vdCBhY2NlcHRlZC5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlRvcGljTmFtZUludmFsaWRcIl0gPSAxNDRdID0gXCJUb3BpY05hbWVJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcmVtb3RlIGVuZHBvaW50IHJlYWNoZWQgYSBzdGF0ZSB3aGVyZSB0aGVyZSB3ZXJlIG1vcmUgaW4tcHJvZ3Jlc3MgUW9TMSsgcHVibGlzaGVzIHRoZW4gdGhlXG4gICAgICogbGltaXQgaXQgZXN0YWJsaXNoZWQgZm9yIGl0c2VsZiB3aGVuIHRoZSBjb25uZWN0aW9uIHdhcyBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJSZWNlaXZlTWF4aW11bUV4Y2VlZGVkXCJdID0gMTQ3XSA9IFwiUmVjZWl2ZU1heGltdW1FeGNlZWRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHJlbW90ZSBlbmRwb2ludCByZWNlaXZlcyBhIFBVQkxJU0ggcGFja2V0IHRoYXQgY29udGFpbmVkIGEgdG9waWMgYWxpYXMgZ3JlYXRlciB0aGFuIHRoZVxuICAgICAqIG1heGltdW0gdG9waWMgYWxpYXMgbGltaXQgdGhhdCBpdCBlc3RhYmxpc2hlZCBmb3IgaXRzZWxmIHdoZW4gdGhlIGNvbm5lY3Rpb24gd2FzIG9wZW5lZC5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlRvcGljQWxpYXNJbnZhbGlkXCJdID0gMTQ4XSA9IFwiVG9waWNBbGlhc0ludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSByZW1vdGUgZW5kcG9pbnQgcmVjZWl2ZWQgYSBwYWNrZXQgd2hvc2Ugc2l6ZSB3YXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHBhY2tldCBzaXplIGxpbWl0XG4gICAgICogaXQgZXN0YWJsaXNoZWQgZm9yIGl0c2VsZiB3aGVuIHRoZSBjb25uZWN0aW9uIHdhcyBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJQYWNrZXRUb29MYXJnZVwiXSA9IDE0OV0gPSBcIlBhY2tldFRvb0xhcmdlXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcmVtb3RlIGVuZHBvaW50J3MgaW5jb21pbmcgZGF0YSByYXRlIHdhcyB0b28gaGlnaC5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIk1lc3NhZ2VSYXRlVG9vSGlnaFwiXSA9IDE1MF0gPSBcIk1lc3NhZ2VSYXRlVG9vSGlnaFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gYW4gaW50ZXJuYWwgcXVvdGEgb2YgdGhlIHJlbW90ZSBlbmRwb2ludCB3YXMgZXhjZWVkZWQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJRdW90YUV4Y2VlZGVkXCJdID0gMTUxXSA9IFwiUXVvdGFFeGNlZWRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBkdWUgdG8gYW4gYWRtaW5pc3RyYXRpdmUgYWN0aW9uLlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiQWRtaW5pc3RyYXRpdmVBY3Rpb25cIl0gPSAxNTJdID0gXCJBZG1pbmlzdHJhdGl2ZUFjdGlvblwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHJlbW90ZSBlbmRwb2ludCByZWNlaXZlZCBhIHBhY2tldCB3aGVyZSBwYXlsb2FkIGZvcm1hdCBkaWQgbm90IG1hdGNoIHRoZSBmb3JtYXQgc3BlY2lmaWVkXG4gICAgICogYnkgdGhlIHBheWxvYWQgZm9ybWF0IGluZGljYXRvci5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlBheWxvYWRGb3JtYXRJbnZhbGlkXCJdID0gMTUzXSA9IFwiUGF5bG9hZEZvcm1hdEludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCByZXRhaW5lZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlJldGFpbk5vdFN1cHBvcnRlZFwiXSA9IDE1NF0gPSBcIlJldGFpbk5vdFN1cHBvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNsaWVudCBzZW5kcyBhIFFPUyB0aGF0IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSBRT1MgZXN0YWJsaXNoZWQgd2hlbiB0aGUgY29ubmVjdGlvbiB3YXNcbiAgICAgKiBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJRb3NOb3RTdXBwb3J0ZWRcIl0gPSAxNTVdID0gXCJRb3NOb3RTdXBwb3J0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCBieSB0aGUgc2VydmVyIHRvIHRlbGwgdGhlIGNsaWVudCB0byB0ZW1wb3JhcmlseSB1c2UgYSBkaWZmZXJlbnQgc2VydmVyLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiVXNlQW5vdGhlclNlcnZlclwiXSA9IDE1Nl0gPSBcIlVzZUFub3RoZXJTZXJ2ZXJcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCBieSB0aGUgc2VydmVyIHRvIHRlbGwgdGhlIGNsaWVudCB0byBwZXJtYW5lbnRseSB1c2UgYSBkaWZmZXJlbnQgc2VydmVyLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiU2VydmVyTW92ZWRcIl0gPSAxNTddID0gXCJTZXJ2ZXJNb3ZlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgdG8gdGVsbCB0aGUgY2xpZW50IHRoYXQgc2hhcmVkIHN1YnNjcmlwdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlNoYXJlZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIl0gPSAxNThdID0gXCJTaGFyZWRTdWJzY3JpcHRpb25zTm90U3VwcG9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGRpc2Nvbm5lY3RzIHRoZSBjbGllbnQgZHVlIHRvIHRoZSBjb25uZWN0aW9uIHJhdGUgYmVpbmcgdG9vIGhpZ2guXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJDb25uZWN0aW9uUmF0ZUV4Y2VlZGVkXCJdID0gMTU5XSA9IFwiQ29ubmVjdGlvblJhdGVFeGNlZWRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgd2hlbiB0aGUgbWF4aW11bSBjb25uZWN0aW9uIHRpbWUgYXV0aG9yaXplZCBmb3IgdGhlIGNvbm5lY3Rpb24gd2FzIGV4Y2VlZGVkLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiTWF4aW11bUNvbm5lY3RUaW1lXCJdID0gMTYwXSA9IFwiTWF4aW11bUNvbm5lY3RUaW1lXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgYnkgdGhlIHNlcnZlciB3aGVuIGl0IHJlY2VpdmVkIGEgU1VCU0NSSUJFIHBhY2tldCB3aXRoIGEgc3Vic2NyaXB0aW9uIGlkZW50aWZpZXIsIGJ1dCB0aGUgc2VydmVyIGRvZXNcbiAgICAgKiBub3Qgc3VwcG9ydCBzdWJzY3JpcHRpb24gaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJTdWJzY3JpcHRpb25JZGVudGlmaWVyc05vdFN1cHBvcnRlZFwiXSA9IDE2MV0gPSBcIlN1YnNjcmlwdGlvbklkZW50aWZpZXJzTm90U3VwcG9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgYnkgdGhlIHNlcnZlciB3aGVuIGl0IHJlY2VpdmVkIGEgU1VCU0NSSUJFIHBhY2tldCB3aXRoIGEgd2lsZGNhcmQgdG9waWMgZmlsdGVyLCBidXQgdGhlIHNlcnZlciBkb2VzXG4gICAgICogbm90IHN1cHBvcnQgd2lsZGNhcmQgdG9waWMgZmlsdGVycy5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIldpbGRjYXJkU3Vic2NyaXB0aW9uc05vdFN1cHBvcnRlZFwiXSA9IDE2Ml0gPSBcIldpbGRjYXJkU3Vic2NyaXB0aW9uc05vdFN1cHBvcnRlZFwiO1xufSkoRGlzY29ubmVjdFJlYXNvbkNvZGUgPSBleHBvcnRzLkRpc2Nvbm5lY3RSZWFzb25Db2RlIHx8IChleHBvcnRzLkRpc2Nvbm5lY3RSZWFzb25Db2RlID0ge30pKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHJlYXNvbiBjb2RlIHJlcHJlc2VudHMgYSBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Qgb3BlcmF0aW9uXG4gKlxuICogQHBhcmFtIHJlYXNvbkNvZGUgcmVhc29uIGNvZGUgdG8gY2hlY2sgc3VjY2VzcyBmb3JcbiAqL1xuZnVuY3Rpb24gaXNTdWNjZXNzZnVsRGlzY29ubmVjdFJlYXNvbkNvZGUocmVhc29uQ29kZSkge1xuICAgIHJldHVybiByZWFzb25Db2RlIDwgMTI4O1xufVxuZXhwb3J0cy5pc1N1Y2Nlc3NmdWxEaXNjb25uZWN0UmVhc29uQ29kZSA9IGlzU3VjY2Vzc2Z1bERpc2Nvbm5lY3RSZWFzb25Db2RlO1xuLyoqXG4gKiBSZWFzb24gY29kZXMgaW5zaWRlIFNVQkFDSyBwYWNrZXQgcGF5bG9hZHMgdGhhdCBzcGVjaWZ5IHRoZSByZXN1bHRzIGZvciBlYWNoIHN1YnNjcmlwdGlvbiBpbiB0aGUgYXNzb2NpYXRlZFxuICogU1VCU0NSSUJFIHBhY2tldC5cbiAqXG4gKiBFbnVtIHZhbHVlcyBtYXRjaCBbTVFUVDUgc3BlY10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMTc4KSBlbmNvZGluZyB2YWx1ZXMuXG4gKi9cbnZhciBTdWJhY2tSZWFzb25Db2RlO1xuKGZ1bmN0aW9uIChTdWJhY2tSZWFzb25Db2RlKSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc3Vic2NyaXB0aW9uIHdhcyBhY2NlcHRlZCBhbmQgdGhlIG1heGltdW0gUU9TIHNlbnQgd2lsbCBiZSBRT1MgMC5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJHcmFudGVkUW9TMFwiXSA9IDBdID0gXCJHcmFudGVkUW9TMFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHN1YnNjcmlwdGlvbiB3YXMgYWNjZXB0ZWQgYW5kIHRoZSBtYXhpbXVtIFFPUyBzZW50IHdpbGwgYmUgUU9TIDEuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiR3JhbnRlZFFvUzFcIl0gPSAxXSA9IFwiR3JhbnRlZFFvUzFcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24gd2FzIGFjY2VwdGVkIGFuZCB0aGUgbWF4aW11bSBRT1Mgc2VudCB3aWxsIGJlIFFPUyAyLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIkdyYW50ZWRRb1MyXCJdID0gMl0gPSBcIkdyYW50ZWRRb1MyXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGJ1dCB0aGUgc2VuZGVyIGRvZXMgbm90IHdhbnQgdG8gc3BlY2lmeSBhIHJlYXNvbiBvciBub25lXG4gICAgICogb2YgdGhlIG90aGVyIHJlYXNvbiBjb2RlcyBhcHBseS5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJVbnNwZWNpZmllZEVycm9yXCJdID0gMTI4XSA9IFwiVW5zcGVjaWZpZWRFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHN1YnNjcmlwdGlvbiB3YXMgdmFsaWQgYnV0IHRoZSBzZXJ2ZXIgZGlkIG5vdCBhY2NlcHQgaXQuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiSW1wbGVtZW50YXRpb25TcGVjaWZpY0Vycm9yXCJdID0gMTMxXSA9IFwiSW1wbGVtZW50YXRpb25TcGVjaWZpY0Vycm9yXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY2xpZW50IHdhcyBub3QgYXV0aG9yaXplZCB0byBtYWtlIHRoZSBzdWJzY3JpcHRpb24gb24gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJOb3RBdXRob3JpemVkXCJdID0gMTM1XSA9IFwiTm90QXV0aG9yaXplZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHN1YnNjcmlwdGlvbiB0b3BpYyBmaWx0ZXIgd2FzIGNvcnJlY3RseSBmb3JtZWQgYnV0IG5vdCBhbGxvd2VkIGZvciB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIlRvcGljRmlsdGVySW52YWxpZFwiXSA9IDE0M10gPSBcIlRvcGljRmlsdGVySW52YWxpZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHBhY2tldCBpZGVudGlmaWVyIHdhcyBhbHJlYWR5IGluIHVzZSBvbiB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIlBhY2tldElkZW50aWZpZXJJblVzZVwiXSA9IDE0NV0gPSBcIlBhY2tldElkZW50aWZpZXJJblVzZVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gYSBzdWJzY3JpYmUtcmVsYXRlZCBxdW90YSBzZXQgb24gdGhlIHNlcnZlciB3YXMgZXhjZWVkZWQuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiUXVvdGFFeGNlZWRlZFwiXSA9IDE1MV0gPSBcIlF1b3RhRXhjZWVkZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24ncyB0b3BpYyBmaWx0ZXIgd2FzIGEgc2hhcmVkIHN1YnNjcmlwdGlvbiBhbmQgdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICogc2hhcmVkIHN1YnNjcmlwdGlvbnMuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiU2hhcmVkU3Vic2NyaXB0aW9uc05vdFN1cHBvcnRlZFwiXSA9IDE1OF0gPSBcIlNoYXJlZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBTVUJTQ1JJQkUgcGFja2V0IGNvbnRhaW5lZCBhIHN1YnNjcmlwdGlvbiBpZGVudGlmaWVyIGFuZCB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgKiBzdWJzY3JpcHRpb24gaWRlbnRpZmllcnMuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiU3Vic2NyaXB0aW9uSWRlbnRpZmllcnNOb3RTdXBwb3J0ZWRcIl0gPSAxNjFdID0gXCJTdWJzY3JpcHRpb25JZGVudGlmaWVyc05vdFN1cHBvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHN1YnNjcmlwdGlvbidzIHRvcGljIGZpbHRlciBjb250YWlucyBhIHdpbGRjYXJkIGJ1dCB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgKiB3aWxkY2FyZCBzdWJzY3JpcHRpb25zLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIldpbGRjYXJkU3Vic2NyaXB0aW9uc05vdFN1cHBvcnRlZFwiXSA9IDE2Ml0gPSBcIldpbGRjYXJkU3Vic2NyaXB0aW9uc05vdFN1cHBvcnRlZFwiO1xufSkoU3ViYWNrUmVhc29uQ29kZSA9IGV4cG9ydHMuU3ViYWNrUmVhc29uQ29kZSB8fCAoZXhwb3J0cy5TdWJhY2tSZWFzb25Db2RlID0ge30pKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHJlYXNvbiBjb2RlIHJlcHJlc2VudHMgYSBzdWNjZXNzZnVsIHN1YnNjcmliZSBvcGVyYXRpb25cbiAqXG4gKiBAcGFyYW0gcmVhc29uQ29kZSByZWFzb24gY29kZSB0byBjaGVjayBzdWNjZXNzIGZvclxuICovXG5mdW5jdGlvbiBpc1N1Y2Nlc3NmdWxTdWJhY2tSZWFzb25Db2RlKHJlYXNvbkNvZGUpIHtcbiAgICByZXR1cm4gcmVhc29uQ29kZSA8IDEyODtcbn1cbmV4cG9ydHMuaXNTdWNjZXNzZnVsU3ViYWNrUmVhc29uQ29kZSA9IGlzU3VjY2Vzc2Z1bFN1YmFja1JlYXNvbkNvZGU7XG4vKipcbiAqIFJlYXNvbiBjb2RlcyBpbnNpZGUgVU5TVUJBQ0sgcGFja2V0IHBheWxvYWRzIHRoYXQgc3BlY2lmeSB0aGUgcmVzdWx0cyBmb3IgZWFjaCB0b3BpYyBmaWx0ZXIgaW4gdGhlIGFzc29jaWF0ZWRcbiAqIFVOU1VCU0NSSUJFIHBhY2tldC5cbiAqXG4gKiBFbnVtIHZhbHVlcyBtYXRjaCBbTVFUVDUgc3BlY10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMTk0KSBlbmNvZGluZyB2YWx1ZXMuXG4gKi9cbnZhciBVbnN1YmFja1JlYXNvbkNvZGU7XG4oZnVuY3Rpb24gKFVuc3ViYWNrUmVhc29uQ29kZSkge1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHVuc3Vic2NyaWJlIHdhcyBzdWNjZXNzZnVsIGFuZCB0aGUgY2xpZW50IGlzIG5vIGxvbmdlciBzdWJzY3JpYmVkIHRvIHRoZSB0b3BpYyBmaWx0ZXIgb24gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBVbnN1YmFja1JlYXNvbkNvZGVbVW5zdWJhY2tSZWFzb25Db2RlW1wiU3VjY2Vzc1wiXSA9IDBdID0gXCJTdWNjZXNzXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgdG9waWMgZmlsdGVyIGRpZCBub3QgbWF0Y2ggb25lIG9mIHRoZSBjbGllbnQncyBleGlzdGluZyBzdWJzY3JpcHRpb25zIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgVW5zdWJhY2tSZWFzb25Db2RlW1Vuc3ViYWNrUmVhc29uQ29kZVtcIk5vU3Vic2NyaXB0aW9uRXhpc3RlZFwiXSA9IDE3XSA9IFwiTm9TdWJzY3JpcHRpb25FeGlzdGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgdW5zdWJzY3JpYmUgb2YgdGhlIHRvcGljIGZpbHRlciB3YXMgbm90IGFjY2VwdGVkIGFuZCB0aGUgc2VydmVyIGRvZXMgbm90IHdhbnQgdG8gc3BlY2lmeSBhXG4gICAgICogcmVhc29uIG9yIG5vbmUgb2YgdGhlIG90aGVyIHJlYXNvbiBjb2RlcyBhcHBseS5cbiAgICAgKi9cbiAgICBVbnN1YmFja1JlYXNvbkNvZGVbVW5zdWJhY2tSZWFzb25Db2RlW1wiVW5zcGVjaWZpZWRFcnJvclwiXSA9IDEyOF0gPSBcIlVuc3BlY2lmaWVkRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSB0b3BpYyBmaWx0ZXIgd2FzIHZhbGlkIGJ1dCB0aGUgc2VydmVyIGRvZXMgbm90IGFjY2VwdCBhbiB1bnN1YnNjcmliZSBmb3IgaXQuXG4gICAgICovXG4gICAgVW5zdWJhY2tSZWFzb25Db2RlW1Vuc3ViYWNrUmVhc29uQ29kZVtcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiXSA9IDEzMV0gPSBcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNsaWVudCB3YXMgbm90IGF1dGhvcml6ZWQgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGF0IHRvcGljIGZpbHRlciBvbiB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFVuc3ViYWNrUmVhc29uQ29kZVtVbnN1YmFja1JlYXNvbkNvZGVbXCJOb3RBdXRob3JpemVkXCJdID0gMTM1XSA9IFwiTm90QXV0aG9yaXplZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHRvcGljIGZpbHRlciB3YXMgY29ycmVjdGx5IGZvcm1lZCBidXQgaXMgbm90IGFsbG93ZWQgZm9yIHRoZSBjbGllbnQgb24gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBVbnN1YmFja1JlYXNvbkNvZGVbVW5zdWJhY2tSZWFzb25Db2RlW1wiVG9waWNGaWx0ZXJJbnZhbGlkXCJdID0gMTQzXSA9IFwiVG9waWNGaWx0ZXJJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcGFja2V0IGlkZW50aWZpZXIgd2FzIGFscmVhZHkgaW4gdXNlIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgVW5zdWJhY2tSZWFzb25Db2RlW1Vuc3ViYWNrUmVhc29uQ29kZVtcIlBhY2tldElkZW50aWZpZXJJblVzZVwiXSA9IDE0NV0gPSBcIlBhY2tldElkZW50aWZpZXJJblVzZVwiO1xufSkoVW5zdWJhY2tSZWFzb25Db2RlID0gZXhwb3J0cy5VbnN1YmFja1JlYXNvbkNvZGUgfHwgKGV4cG9ydHMuVW5zdWJhY2tSZWFzb25Db2RlID0ge30pKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHJlYXNvbiBjb2RlIHJlcHJlc2VudHMgYSBzdWNjZXNzZnVsIHVuc3Vic2NyaWJlIG9wZXJhdGlvblxuICpcbiAqIEBwYXJhbSByZWFzb25Db2RlIHJlYXNvbiBjb2RlIHRvIGNoZWNrIHN1Y2Nlc3MgZm9yXG4gKi9cbmZ1bmN0aW9uIGlzU3VjY2Vzc2Z1bFVuc3ViYWNrUmVhc29uQ29kZShyZWFzb25Db2RlKSB7XG4gICAgcmV0dXJuIHJlYXNvbkNvZGUgPCAxMjg7XG59XG5leHBvcnRzLmlzU3VjY2Vzc2Z1bFVuc3ViYWNrUmVhc29uQ29kZSA9IGlzU3VjY2Vzc2Z1bFVuc3ViYWNrUmVhc29uQ29kZTtcbi8qKlxuICogUmVhc29uIGNvZGUgaW5zaWRlIFBVQkFDSyBwYWNrZXRzIHRoYXQgaW5kaWNhdGVzIHRoZSByZXN1bHQgb2YgdGhlIGFzc29jaWF0ZWQgUFVCTElTSCByZXF1ZXN0LlxuICpcbiAqIEVudW0gdmFsdWVzIG1hdGNoIFtNUVRUNSBzcGVjXShodHRwczovL2RvY3Mub2FzaXMtb3Blbi5vcmcvbXF0dC9tcXR0L3Y1LjAvb3MvbXF0dC12NS4wLW9zLmh0bWwjX1RvYzM5MDExMjQpIGVuY29kaW5nIHZhbHVlcy5cbiAqL1xudmFyIFB1YmFja1JlYXNvbkNvZGU7XG4oZnVuY3Rpb24gKFB1YmFja1JlYXNvbkNvZGUpIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSAoUW9TIDEpIHB1Ymxpc2ggd2FzIGFjY2VwdGVkIGJ5IHRoZSByZWNpcGllbnQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiU3VjY2Vzc1wiXSA9IDBdID0gXCJTdWNjZXNzXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgKFFvUyAxKSBwdWJsaXNoIHdhcyBhY2NlcHRlZCBidXQgdGhlcmUgd2VyZSBubyBtYXRjaGluZyBzdWJzY3JpYmVycy5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBQdWJhY2tSZWFzb25Db2RlW1B1YmFja1JlYXNvbkNvZGVbXCJOb01hdGNoaW5nU3Vic2NyaWJlcnNcIl0gPSAxNl0gPSBcIk5vTWF0Y2hpbmdTdWJzY3JpYmVyc1wiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIChRb1MgMSkgcHVibGlzaCB3YXMgbm90IGFjY2VwdGVkIGFuZCB0aGUgcmVjZWl2ZXIgZG9lcyBub3Qgd2FudCB0byBzcGVjaWZ5IGEgcmVhc29uIG9yIG5vbmVcbiAgICAgKiBvZiB0aGUgb3RoZXIgcmVhc29uIGNvZGVzIGFwcGx5LlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFB1YmFja1JlYXNvbkNvZGVbUHViYWNrUmVhc29uQ29kZVtcIlVuc3BlY2lmaWVkRXJyb3JcIl0gPSAxMjhdID0gXCJVbnNwZWNpZmllZEVycm9yXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgKFFvUyAxKSBwdWJsaXNoIHdhcyB2YWxpZCBidXQgdGhlIHJlY2VpdmVyIHdhcyBub3Qgd2lsbGluZyB0byBhY2NlcHQgaXQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiSW1wbGVtZW50YXRpb25TcGVjaWZpY0Vycm9yXCJdID0gMTMxXSA9IFwiSW1wbGVtZW50YXRpb25TcGVjaWZpY0Vycm9yXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgKFFvUyAxKSBwdWJsaXNoIHdhcyBub3QgYXV0aG9yaXplZCBieSB0aGUgcmVjZWl2ZXIuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiTm90QXV0aG9yaXplZFwiXSA9IDEzNV0gPSBcIk5vdEF1dGhvcml6ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSB0b3BpYyBuYW1lIHdhcyB2YWxpZCBidXQgdGhlIHJlY2VpdmVyIHdhcyBub3Qgd2lsbGluZyB0byBhY2NlcHQgaXQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiVG9waWNOYW1lSW52YWxpZFwiXSA9IDE0NF0gPSBcIlRvcGljTmFtZUludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBwYWNrZXQgaWRlbnRpZmllciB1c2VkIGluIHRoZSBhc3NvY2lhdGVkIFBVQkxJU0ggd2FzIGFscmVhZHkgaW4gdXNlLlxuICAgICAqIFRoaXMgY2FuIGluZGljYXRlIGEgbWlzbWF0Y2ggaW4gdGhlIHNlc3Npb24gc3RhdGUgYmV0d2VlbiBjbGllbnQgYW5kIHNlcnZlci5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBQdWJhY2tSZWFzb25Db2RlW1B1YmFja1JlYXNvbkNvZGVbXCJQYWNrZXRJZGVudGlmaWVySW5Vc2VcIl0gPSAxNDVdID0gXCJQYWNrZXRJZGVudGlmaWVySW5Vc2VcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBhc3NvY2lhdGVkIFBVQkxJU0ggZmFpbGVkIGJlY2F1c2UgYW4gaW50ZXJuYWwgcXVvdGEgb24gdGhlIHJlY2lwaWVudCB3YXMgZXhjZWVkZWQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiUXVvdGFFeGNlZWRlZFwiXSA9IDE1MV0gPSBcIlF1b3RhRXhjZWVkZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBQVUJMSVNIIHBhY2tldCdzIHBheWxvYWQgZm9ybWF0IGRpZCBub3QgbWF0Y2ggaXRzIHBheWxvYWQgZm9ybWF0IGluZGljYXRvciBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBQdWJhY2tSZWFzb25Db2RlW1B1YmFja1JlYXNvbkNvZGVbXCJQYXlsb2FkRm9ybWF0SW52YWxpZFwiXSA9IDE1M10gPSBcIlBheWxvYWRGb3JtYXRJbnZhbGlkXCI7XG59KShQdWJhY2tSZWFzb25Db2RlID0gZXhwb3J0cy5QdWJhY2tSZWFzb25Db2RlIHx8IChleHBvcnRzLlB1YmFja1JlYXNvbkNvZGUgPSB7fSkpO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVhc29uIGNvZGUgcmVwcmVzZW50cyBhIHN1Y2Nlc3NmdWwgUW9TIDEgcHVibGlzaCBvcGVyYXRpb25cbiAqXG4gKiBAcGFyYW0gcmVhc29uQ29kZSByZWFzb24gY29kZSB0byBjaGVjayBzdWNjZXNzIGZvclxuICovXG5mdW5jdGlvbiBpc1N1Y2Nlc3NmdWxQdWJhY2tSZWFzb25Db2RlKHJlYXNvbkNvZGUpIHtcbiAgICByZXR1cm4gcmVhc29uQ29kZSA8IDEyODtcbn1cbmV4cG9ydHMuaXNTdWNjZXNzZnVsUHViYWNrUmVhc29uQ29kZSA9IGlzU3VjY2Vzc2Z1bFB1YmFja1JlYXNvbkNvZGU7XG4vKipcbiAqIE9wdGlvbmFsIHByb3BlcnR5IGRlc2NyaWJpbmcgYSBQVUJMSVNIIHBheWxvYWQncyBmb3JtYXQuXG4gKlxuICogRW51bSB2YWx1ZXMgbWF0Y2ggW01RVFQ1IHNwZWNdKGh0dHBzOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9tcXR0L21xdHQvdjUuMC9vcy9tcXR0LXY1LjAtb3MuaHRtbCNfVG9jMzkwMTExMSkgZW5jb2RpbmcgdmFsdWVzLlxuICovXG52YXIgUGF5bG9hZEZvcm1hdEluZGljYXRvcjtcbihmdW5jdGlvbiAoUGF5bG9hZEZvcm1hdEluZGljYXRvcikge1xuICAgIC8qKlxuICAgICAqIFRoZSBwYXlsb2FkIGlzIGFyYml0cmFyeSBiaW5hcnkgZGF0YVxuICAgICAqL1xuICAgIFBheWxvYWRGb3JtYXRJbmRpY2F0b3JbUGF5bG9hZEZvcm1hdEluZGljYXRvcltcIkJ5dGVzXCJdID0gMF0gPSBcIkJ5dGVzXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHBheWxvYWQgaXMgYSB3ZWxsLWZvcm1lZCB1dGYtOCBzdHJpbmcgdmFsdWUuXG4gICAgICovXG4gICAgUGF5bG9hZEZvcm1hdEluZGljYXRvcltQYXlsb2FkRm9ybWF0SW5kaWNhdG9yW1wiVXRmOFwiXSA9IDFdID0gXCJVdGY4XCI7XG59KShQYXlsb2FkRm9ybWF0SW5kaWNhdG9yID0gZXhwb3J0cy5QYXlsb2FkRm9ybWF0SW5kaWNhdG9yIHx8IChleHBvcnRzLlBheWxvYWRGb3JtYXRJbmRpY2F0b3IgPSB7fSkpO1xuLyoqXG4gKiBNUVRUIG1lc3NhZ2UgZGVsaXZlcnkgcXVhbGl0eSBvZiBzZXJ2aWNlLlxuICpcbiAqIEVudW0gdmFsdWVzIG1hdGNoIFtNUVRUNSBzcGVjXShodHRwczovL2RvY3Mub2FzaXMtb3Blbi5vcmcvbXF0dC9tcXR0L3Y1LjAvb3MvbXF0dC12NS4wLW9zLmh0bWwjX1RvYzM5MDEyMzQpIGVuY29kaW5nIHZhbHVlcy5cbiAqL1xudmFyIFFvUztcbihmdW5jdGlvbiAoUW9TKSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1lc3NhZ2UgaXMgZGVsaXZlcmVkIGFjY29yZGluZyB0byB0aGUgY2FwYWJpbGl0aWVzIG9mIHRoZSB1bmRlcmx5aW5nIG5ldHdvcmsuIE5vIHJlc3BvbnNlIGlzIHNlbnQgYnkgdGhlXG4gICAgICogcmVjZWl2ZXIgYW5kIG5vIHJldHJ5IGlzIHBlcmZvcm1lZCBieSB0aGUgc2VuZGVyLiBUaGUgbWVzc2FnZSBhcnJpdmVzIGF0IHRoZSByZWNlaXZlciBlaXRoZXIgb25jZSBvciBub3QgYXQgYWxsLlxuICAgICAqL1xuICAgIFFvU1tRb1NbXCJBdE1vc3RPbmNlXCJdID0gMF0gPSBcIkF0TW9zdE9uY2VcIjtcbiAgICAvKipcbiAgICAgKiBBIGxldmVsIG9mIHNlcnZpY2UgdGhhdCBlbnN1cmVzIHRoYXQgdGhlIG1lc3NhZ2UgYXJyaXZlcyBhdCB0aGUgcmVjZWl2ZXIgYXQgbGVhc3Qgb25jZS5cbiAgICAgKi9cbiAgICBRb1NbUW9TW1wiQXRMZWFzdE9uY2VcIl0gPSAxXSA9IFwiQXRMZWFzdE9uY2VcIjtcbiAgICAvKipcbiAgICAgKiBBIGxldmVsIG9mIHNlcnZpY2UgdGhhdCBlbnN1cmVzIHRoYXQgdGhlIG1lc3NhZ2UgYXJyaXZlcyBhdCB0aGUgcmVjZWl2ZXIgZXhhY3RseSBvbmNlLlxuICAgICAqL1xuICAgIFFvU1tRb1NbXCJFeGFjdGx5T25jZVwiXSA9IDJdID0gXCJFeGFjdGx5T25jZVwiO1xufSkoUW9TID0gZXhwb3J0cy5Rb1MgfHwgKGV4cG9ydHMuUW9TID0ge30pKTtcbi8qKlxuICogQ29uZmlndXJlcyBob3cgcmV0YWluZWQgbWVzc2FnZXMgc2hvdWxkIGJlIGhhbmRsZWQgd2hlbiBzdWJzY3JpYmluZyB3aXRoIGEgdG9waWMgZmlsdGVyIHRoYXQgbWF0Y2hlcyB0b3BpY3Mgd2l0aFxuICogYXNzb2NpYXRlZCByZXRhaW5lZCBtZXNzYWdlcy5cbiAqXG4gKiBFbnVtIHZhbHVlcyBtYXRjaCBbTVFUVDUgc3BlY10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMTY5KSBlbmNvZGluZyB2YWx1ZXMuXG4gKi9cbnZhciBSZXRhaW5IYW5kbGluZ1R5cGU7XG4oZnVuY3Rpb24gKFJldGFpbkhhbmRsaW5nVHlwZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2ZXIgc2hvdWxkIGFsd2F5cyBzZW5kIGFsbCByZXRhaW5lZCBtZXNzYWdlcyBvbiB0b3BpY3MgdGhhdCBtYXRjaCBhIHN1YnNjcmlwdGlvbidzIGZpbHRlci5cbiAgICAgKi9cbiAgICBSZXRhaW5IYW5kbGluZ1R5cGVbUmV0YWluSGFuZGxpbmdUeXBlW1wiU2VuZE9uU3Vic2NyaWJlXCJdID0gMF0gPSBcIlNlbmRPblN1YnNjcmliZVwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2ZXIgc2hvdWxkIHNlbmQgcmV0YWluZWQgbWVzc2FnZXMgb24gdG9waWNzIHRoYXQgbWF0Y2ggdGhlIHN1YnNjcmlwdGlvbidzIGZpbHRlciwgYnV0IG9ubHkgZm9yIHRoZVxuICAgICAqIGZpcnN0IG1hdGNoaW5nIHN1YnNjcmlwdGlvbiwgcGVyIHNlc3Npb24uXG4gICAgICovXG4gICAgUmV0YWluSGFuZGxpbmdUeXBlW1JldGFpbkhhbmRsaW5nVHlwZVtcIlNlbmRPblN1YnNjcmliZUlmTmV3XCJdID0gMV0gPSBcIlNlbmRPblN1YnNjcmliZUlmTmV3XCI7XG4gICAgLyoqXG4gICAgICogU3Vic2NyaXB0aW9ucyBtdXN0IG5vdCB0cmlnZ2VyIGFueSByZXRhaW5lZCBtZXNzYWdlIHB1Ymxpc2hlcyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUmV0YWluSGFuZGxpbmdUeXBlW1JldGFpbkhhbmRsaW5nVHlwZVtcIkRvbnRTZW5kXCJdID0gMl0gPSBcIkRvbnRTZW5kXCI7XG59KShSZXRhaW5IYW5kbGluZ1R5cGUgPSBleHBvcnRzLlJldGFpbkhhbmRsaW5nVHlwZSB8fCAoZXhwb3J0cy5SZXRhaW5IYW5kbGluZ1R5cGUgPSB7fSkpO1xuLyoqXG4gKiBQYWNrZXQgdHlwZSBpbmRpY2F0b3IgdGhhdCBhbGxvd3MgZm9yIGJhc2ljIHBvbHltb3JwaGlzbSB3aXRoIHVzZXItcmVjZWl2ZWQgcGFja2V0cy4gIEVudW0gdmFsdWVzXG4gKiBtYXRjaCB0aGUgbXF0dCBzcGVjJ3MgW3BhY2tldCB0eXBlIGVuY29kaW5nXShodHRwczovL2RvY3Mub2FzaXMtb3Blbi5vcmcvbXF0dC9tcXR0L3Y1LjAvb3MvbXF0dC12NS4wLW9zLmh0bWwjX1RvYzM5MDEwMjIpIHZhbHVlcy5cbiAqL1xudmFyIFBhY2tldFR5cGU7XG4oZnVuY3Rpb24gKFBhY2tldFR5cGUpIHtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDb25uZWN0XCJdID0gMV0gPSBcIkNvbm5lY3RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDb25uYWNrXCJdID0gMl0gPSBcIkNvbm5hY2tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJQdWJsaXNoXCJdID0gM10gPSBcIlB1Ymxpc2hcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJQdWJhY2tcIl0gPSA0XSA9IFwiUHViYWNrXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiUHVicmVjXCJdID0gNV0gPSBcIlB1YnJlY1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIlB1YnJlbFwiXSA9IDZdID0gXCJQdWJyZWxcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJQdWJjb21wXCJdID0gN10gPSBcIlB1YmNvbXBcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJTdWJzY3JpYmVcIl0gPSA4XSA9IFwiU3Vic2NyaWJlXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiU3ViYWNrXCJdID0gOV0gPSBcIlN1YmFja1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIlVuc3Vic2NyaWJlXCJdID0gMTBdID0gXCJVbnN1YnNjcmliZVwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIlVuc3ViYWNrXCJdID0gMTFdID0gXCJVbnN1YmFja1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIlBpbmdyZXFcIl0gPSAxMl0gPSBcIlBpbmdyZXFcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJQaW5ncmVzcFwiXSA9IDEzXSA9IFwiUGluZ3Jlc3BcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJEaXNjb25uZWN0XCJdID0gMTRdID0gXCJEaXNjb25uZWN0XCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQXV0aFwiXSA9IDE1XSA9IFwiQXV0aFwiO1xufSkoUGFja2V0VHlwZSA9IGV4cG9ydHMuUGFja2V0VHlwZSB8fCAoZXhwb3J0cy5QYWNrZXRUeXBlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1xdHQ1X3BhY2tldC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRFRkFVTFRfS0VFUF9BTElWRSA9IGV4cG9ydHMubm9ybWFsaXplX3BheWxvYWQgPSB2b2lkIDA7XG4vKipcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG4vKipcbiAqIENvbnZlcnRzIHBheWxvYWQgdG8gQnVmZmVyIG9yIHN0cmluZyByZWdhcmRsZXNzIG9mIHRoZSBzdXBwbGllZCB0eXBlXG4gKiBAcGFyYW0gcGF5bG9hZCBUaGUgcGF5bG9hZCB0byBjb252ZXJ0XG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplX3BheWxvYWQocGF5bG9hZCkge1xuICAgIGlmIChwYXlsb2FkIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgIC8vIHBhc3MgQnVmZmVyIHRocm91Z2hcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gcGFzcyBzdHJpbmcgdGhyb3VnaFxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhwYXlsb2FkKSkge1xuICAgICAgICAvLyByZXR1cm4gQnVmZmVyIHdpdGggdmlldyB1cG9uIHRoZSBzYW1lIGJ5dGVzIChubyBjb3B5KVxuICAgICAgICBjb25zdCB2aWV3ID0gcGF5bG9hZDtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgLy8gcmV0dXJuIEJ1ZmZlciB3aXRoIHZpZXcgdXBvbiB0aGUgc2FtZSBieXRlcyAobm8gY29weSlcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHBheWxvYWQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIENvbnZlcnQgT2JqZWN0IHRvIEpTT04gc3RyaW5nXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTtcbiAgICB9XG4gICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwicGF5bG9hZCBwYXJhbWV0ZXIgbXVzdCBiZSBhIHN0cmluZywgb2JqZWN0LCBvciBEYXRhVmlldy5cIik7XG59XG5leHBvcnRzLm5vcm1hbGl6ZV9wYXlsb2FkID0gbm9ybWFsaXplX3BheWxvYWQ7XG4vKiogQGludGVybmFsICovXG5leHBvcnRzLkRFRkFVTFRfS0VFUF9BTElWRSA9IDEyMDA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tcXR0X3NoYXJlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNydF92ZXJzaW9uID0gZXhwb3J0cy5wYWNrYWdlX2luZm8gPSBleHBvcnRzLmlzX2Jyb3dzZXIgPSBleHBvcnRzLmlzX25vZGVqcyA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgbWlzY2VsbGFuZW91cyBwbGF0Zm9ybS1yZWxhdGVkIHF1ZXJpZXNcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgcGxhdGZvcm1cbiAqIEBtZXJnZVRhcmdldFxuICovXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHNjcmlwdCBpcyBydW5uaW5nIHVuZGVyIG5vZGVqc1xuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gaXNfbm9kZWpzKCkge1xuICAgIHJldHVybiAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9PSAndW5kZWZpbmVkJyk7XG59XG5leHBvcnRzLmlzX25vZGVqcyA9IGlzX25vZGVqcztcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgc2NyaXB0IGlzIHJ1bm5pbmcgaW4gYSBicm93c2VyXG4gKlxuICogQGNhdGVnb3J5IFN5c3RlbVxuICovXG5mdW5jdGlvbiBpc19icm93c2VyKCkge1xuICAgIHJldHVybiAhaXNfbm9kZWpzKCk7XG59XG5leHBvcnRzLmlzX2Jyb3dzZXIgPSBpc19icm93c2VyO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYWNrYWdlIGluZm9ybWF0aW9uIGZvciBhd3MtY3J0LW5vZGVqc1xuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gcGFja2FnZV9pbmZvKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBrZyA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpO1xuICAgICAgICByZXR1cm4gcGtnO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnYXdzLWNydC1ub2RlanMnLFxuICAgICAgICAgICAgdmVyc2lvbjogJ1VOS05PV04nXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5wYWNrYWdlX2luZm8gPSBwYWNrYWdlX2luZm87XG4vKipcbiAqIFJldHVybnMgdGhlIEFXUyBDUlQgdmVyc2lvblxuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gY3J0X3ZlcnNpb24oKSB7XG4gICAgY29uc3QgcGtnID0gcGFja2FnZV9pbmZvKCk7XG4gICAgcmV0dXJuIHBrZy52ZXJzaW9uO1xufVxuZXhwb3J0cy5jcnRfdmVyc2lvbiA9IGNydF92ZXJzaW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5uZXdMaWZ0ZWRQcm9taXNlID0gZXhwb3J0cy5tYWtlU2VsZkNsZWFuaW5nUHJvbWlzZSA9IHZvaWQgMDtcbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHByb21pc2UgYW5kIGNyZWF0ZXMgYSB3cmFwcGVyIHByb21pc2UgdGhhdCBpbnZva2VzIGEgY2xlYW51cCBmdW5jdGlvbiB3aGVuIHRoZSBpbm5lclxuICogcHJvbWlzZSBpcyBjb21wbGV0ZWQgZm9yIGFueSByZWFzb24uICBUaGUgcHJpbWFyeSB1c2UgaXMgdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyByZWxhdGVkIHRvIHByb21pc2UgY29tcGxldGlvblxuICogd2hlbiB0aGUgcHJvbWlzZSBhY3R1YWxseSBjb21wbGV0ZXMuICBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIG9uIGEgQ2FuY2VsQ29udHJvbGxlciBib3VuZGVkIGJ5XG4gKiB0aGUgbnVtYmVyIG9mIGluY29tcGxldGUgcHJvbWlzZXMgYXNzb2NpYXRlZCB3aXRoIGl0LiAgSWYgd2UgZGlkbid0IGNsZWFuIHVwLCB0aGUgbGlzdGVuZXIgc2V0IHdvdWxkIGdyb3dcbiAqIHdpdGhvdXQgbGltaXQuXG4gKlxuICogRm9yIGNhbmNlbGxhdGlvbiwgdGhpcyBsZWFkcyB0byBhbiBpbnRlcm5hbCB1c2FnZSBwYXR0ZXJuIHRoYXQgaXMgc3Ryb25nbHkgcmVjb21tZW5kZWQ6XG4gKlxuICogYGBgXG4gKiBhc3luYyBkb1NvbWV0aGluZ0NhbmNlbGxhYmxlKC4uLikgOiBQcm9taXNlPC4uLj4ge1xuICogICAgcmVtb3ZlTGlzdGVuZXJGdW5jdG9yID0gdW5kZWZpbmVkO1xuICpcbiAqICAgIGlubmVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAqICAgICAgIC4uLlxuICpcbiAqICAgICAgIGNhbmNlbExpc3RlbmVyRnVuY3Rpb24gPSAoKSA9PiB7IGNsZWFuIHVwIGFuZCByZWplY3QgaW5uZXJQcm9taXNlIH07XG4gKiAgICAgICByZW1vdmVMaXN0ZW5lckZ1bmN0b3IgPSBjYW5jZWxDb250cm9sbGVyLmFkZExpc3RlbmVyKGNhbmNlbExpc3RlbmVyRnVuY3Rpb24pO1xuICpcbiAqICAgICAgIC4uLlxuICogICAgfVxuICpcbiAqICAgIHJldHVybiBtYWtlU2VsZkNsZWFuaW5nUHJvbWlzZShpbm5lclByb21pc2UsIHJlbW92ZUxpc3RlbmVyRnVuY3Rvcik7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcHJvbWlzZSBwcm9taXNlIHRvIHdyYXAgd2l0aCBhdXRvbWF0aWMgY2xlYW51cFxuICogQHBhcmFtIGNsZWFuZXIgY2xlYW5lciBmdW5jdGlvbiB0byBpbnZva2Ugd2hlbiB0aGUgcHJvbWlzZSBpcyBjb21wbGV0ZWRcbiAqXG4gKiBAcmV0dXJuIGEgcHJvbWlzZSB3aXRoIG1hdGNoaW5nIHJlc3VsdC9lcnIsIHRoYXQgaW52b2tlcyB0aGUgY2xlYW5lciBmdW5jdGlvbiBvbiBpbm5lciBwcm9taXNlIGNvbXBsZXRpb25cbiAqL1xuZnVuY3Rpb24gbWFrZVNlbGZDbGVhbmluZ1Byb21pc2UocHJvbWlzZSwgY2xlYW5lcikge1xuICAgIGlmICghY2xlYW5lcikge1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2UuZmluYWxseSgoKSA9PiB7IGNsZWFuZXIoKTsgfSk7XG59XG5leHBvcnRzLm1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlID0gbWFrZVNlbGZDbGVhbmluZ1Byb21pc2U7XG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IExpZnRlZFByb21pc2VcbiAqXG4gKiBAcGFyYW0gcHJvbWlzZUJvZHkgb3B0aW9uYWwgYm9keSBmdW5jdGlvbiB0byBpbnZva2UgYXMgcGFydCBvZiBwcm9taXNlIGNyZWF0aW9uXG4gKlxuICogQHJldHVybiBhIHByb21pc2Ugd2hvc2UgcmVzb2x2ZSBhbmQgcmVqZWN0IG1ldGhvZHMgaGF2ZSBiZWVuIGxpZnRlZCBvdXQgb2YgdGhlIGludGVybmFsIGJvZHkgZnVuY3Rpb24gYW5kIG1hZGVcbiAqIGF2YWlsYWJsZSB0byBleHRlcm5hbCBhY3RvcnNcbiAqL1xuZnVuY3Rpb24gbmV3TGlmdGVkUHJvbWlzZShwcm9taXNlQm9keSkge1xuICAgIGxldCBsb2NhbFJlc29sdmUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IGxvY2FsUmVqZWN0ID0gdW5kZWZpbmVkO1xuICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsb2NhbFJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICBsb2NhbFJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBpZiAoIWxvY2FsUmVzb2x2ZSB8fCAhbG9jYWxSZWplY3QpIHtcbiAgICAgICAgLy8gc2hvdWxkIG5ldmVyIGhhcHBlblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gYmluZCByZXNvbHZlIGFuZCByZWplY3Qgd2hlbiBtYWtpbmcgbGlmdGVkIHByb21pc2VcIik7XG4gICAgfVxuICAgIGlmIChwcm9taXNlQm9keSkge1xuICAgICAgICBwcm9taXNlQm9keShsb2NhbFJlc29sdmUsIGxvY2FsUmVqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgICAgcmVzb2x2ZTogbG9jYWxSZXNvbHZlLFxuICAgICAgICByZWplY3Q6IGxvY2FsUmVqZWN0XG4gICAgfTtcbn1cbmV4cG9ydHMubmV3TGlmdGVkUHJvbWlzZSA9IG5ld0xpZnRlZFByb21pc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2luZyA9IHZvaWQgMDtcbi8qKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gY3JlYXRlIGEgcmVzb3VyY2UgaW4gYW4gYXN5bmMgY29udGV4dC4gVGhpcyB3aWxsIG1ha2Ugc3VyZSB0aGVcbiAqIHJlc291cmNlcyBhcmUgY2xlYW5lZCB1cCBiZWZvcmUgcmV0dXJuaW5nLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIGF3YWl0IHVzaW5nKHJlcyA9IG5ldyBTb21lUmVzb3VyY2UoKSwgYXN5bmMgKHJlcykgPT4gIHtcbiAqICAgICByZXMuZG9fdGhlX3RoaW5nKCk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gdXNpbmcocmVzb3VyY2UsIGZ1bmMpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeWllbGQgZnVuYyhyZXNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICByZXNvdXJjZS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLnVzaW5nID0gdXNpbmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZV9zYWZldHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNydEVycm9yID0gZXhwb3J0cy5yZXNvdXJjZV9zYWZldHkgPSBleHBvcnRzLnByb21pc2UgPSBleHBvcnRzLnBsYXRmb3JtID0gZXhwb3J0cy5tcXR0NSA9IGV4cG9ydHMubXF0dCA9IGV4cG9ydHMuaW90ID0gZXhwb3J0cy5pbyA9IGV4cG9ydHMuaHR0cCA9IGV4cG9ydHMuZXZlbnRzdHJlYW0gPSBleHBvcnRzLmNydCA9IGV4cG9ydHMuY3J5cHRvID0gZXhwb3J0cy5jaGVja3N1bXMgPSBleHBvcnRzLmNhbmNlbCA9IGV4cG9ydHMuYXV0aCA9IHZvaWQgMDtcbi8vIFRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IGZvciB0aGUgQVdTIENSVCBub2RlanMgbmF0aXZlIGxpYnJhcmllc1xuLyogY29tbW9uIGxpYnMgKi9cbmNvbnN0IGNhbmNlbCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9jb21tb24vY2FuY2VsXCIpKTtcbmV4cG9ydHMuY2FuY2VsID0gY2FuY2VsO1xuY29uc3QgcGxhdGZvcm0gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vY29tbW9uL3BsYXRmb3JtXCIpKTtcbmV4cG9ydHMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbmNvbnN0IHByb21pc2UgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vY29tbW9uL3Byb21pc2VcIikpO1xuZXhwb3J0cy5wcm9taXNlID0gcHJvbWlzZTtcbmNvbnN0IHJlc291cmNlX3NhZmV0eSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9jb21tb24vcmVzb3VyY2Vfc2FmZXR5XCIpKTtcbmV4cG9ydHMucmVzb3VyY2Vfc2FmZXR5ID0gcmVzb3VyY2Vfc2FmZXR5O1xuLyogbm9kZSBzcGVjaWZpYyBsaWJzICovXG5jb25zdCBhdXRoID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL25hdGl2ZS9hdXRoXCIpKTtcbmV4cG9ydHMuYXV0aCA9IGF1dGg7XG5jb25zdCBjaGVja3N1bXMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL2NoZWNrc3Vtc1wiKSk7XG5leHBvcnRzLmNoZWNrc3VtcyA9IGNoZWNrc3VtcztcbmNvbnN0IGNydCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvY3J0XCIpKTtcbmV4cG9ydHMuY3J0ID0gY3J0O1xuY29uc3QgY3J5cHRvID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL25hdGl2ZS9jcnlwdG9cIikpO1xuZXhwb3J0cy5jcnlwdG8gPSBjcnlwdG87XG5jb25zdCBldmVudHN0cmVhbSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvZXZlbnRzdHJlYW1cIikpO1xuZXhwb3J0cy5ldmVudHN0cmVhbSA9IGV2ZW50c3RyZWFtO1xuY29uc3QgaHR0cCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvaHR0cFwiKSk7XG5leHBvcnRzLmh0dHAgPSBodHRwO1xuY29uc3QgaW8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL2lvXCIpKTtcbmV4cG9ydHMuaW8gPSBpbztcbmNvbnN0IGlvdCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvaW90XCIpKTtcbmV4cG9ydHMuaW90ID0gaW90O1xuY29uc3QgbXF0dCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvbXF0dFwiKSk7XG5leHBvcnRzLm1xdHQgPSBtcXR0O1xuY29uc3QgbXF0dDUgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL21xdHQ1XCIpKTtcbmV4cG9ydHMubXF0dDUgPSBtcXR0NTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9uYXRpdmUvZXJyb3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDcnRFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXJyb3JfMS5DcnRFcnJvcjsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hd3NfdmVyaWZ5X3NpZ3Y0YV9zaWduaW5nID0gZXhwb3J0cy5hd3Nfc2lnbl9yZXF1ZXN0ID0gZXhwb3J0cy5Bd3NTaWduZWRCb2R5SGVhZGVyVHlwZSA9IGV4cG9ydHMuQXdzU2lnbmVkQm9keVZhbHVlID0gZXhwb3J0cy5Bd3NTaWduYXR1cmVUeXBlID0gZXhwb3J0cy5Bd3NTaWduaW5nQWxnb3JpdGhtID0gZXhwb3J0cy5Bd3NDcmVkZW50aWFsc1Byb3ZpZGVyID0gdm9pZCAwO1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgaW9fMSA9IHJlcXVpcmUoXCIuL2lvXCIpO1xuLyoqXG4gKiBDcmVkZW50aWFscyBwcm92aWRlcnMgc291cmNlIHRoZSBBd3NDcmVkZW50aWFscyBuZWVkZWQgdG8gc2lnbiBhbiBhdXRoZW50aWNhdGVkIEFXUyByZXF1ZXN0LlxuICpcbiAqIFdlIGRvbid0IGN1cnJlbnRseSBleHBvc2UgYW4gaW50ZXJmYWNlIGZvciBmZXRjaGluZyBjcmVkZW50aWFscyBmcm9tIEphdmFzY3JpcHQuXG4gKlxuICogQGNhdGVnb3J5IEF1dGhcbiAqL1xuLyogU3ViY2xhc3MgZm9yIHRoZSBwdXJwb3NlIG9mIGV4cG9zaW5nIGEgbm9uLU5hdGl2ZUhhbmRsZSBiYXNlZCBBUEkgKi9cbmNsYXNzIEF3c0NyZWRlbnRpYWxzUHJvdmlkZXIgZXh0ZW5kcyBiaW5kaW5nXzEuZGVmYXVsdC5Bd3NDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRlZmF1bHQgY3JlZGVudGlhbHMgcHJvdmlkZXIgdG8gYmUgdXNlZCBpbnRlcm5hbGx5IGZvciBBV1MgY3JlZGVudGlhbHMgcmVzb2x1dGlvbjpcbiAgICAgKlxuICAgICAqICAgVGhlIENSVCdzIGRlZmF1bHQgcHJvdmlkZXIgY2hhaW4gY3VycmVudGx5IHNvdXJjZXMgaW4gdGhpcyBvcmRlcjpcbiAgICAgKlxuICAgICAqICAgICAxLiBFbnZpcm9ubWVudFxuICAgICAqICAgICAyLiBQcm9maWxlXG4gICAgICogICAgIDMuIChjb25kaXRpb25hbCwgb2ZmIGJ5IGRlZmF1bHQpIEVDU1xuICAgICAqICAgICA0LiAoY29uZGl0aW9uYWwsIG9uIGJ5IGRlZmF1bHQpIEVDMiBJbnN0YW5jZSBNZXRhZGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIGJvb3RzdHJhcCAob3B0aW9uYWwpIGNsaWVudCBib290c3RyYXAgdG8gYmUgdXNlZCB0byBlc3RhYmxpc2ggYW55IHJlcXVpcmVkIG5ldHdvcmsgY29ubmVjdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbmV3IGNyZWRlbnRpYWxzIHByb3ZpZGVyIHVzaW5nIGRlZmF1bHQgY3JlZGVudGlhbHMgcmVzb2x1dGlvbiBydWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyBuZXdEZWZhdWx0KGJvb3RzdHJhcCA9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VwZXIubmV3RGVmYXVsdChib290c3RyYXAgIT0gbnVsbCA/IGJvb3RzdHJhcC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjcmVkZW50aWFscyBwcm92aWRlciB0aGF0IHJldHVybnMgYSBmaXhlZCBzZXQgb2YgY3JlZGVudGlhbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWNjZXNzX2tleSBhY2Nlc3Mga2V5IHRvIHVzZSBpbiB0aGUgc3RhdGljIGNyZWRlbnRpYWxzXG4gICAgICogQHBhcmFtIHNlY3JldF9rZXkgc2VjcmV0IGtleSB0byB1c2UgaW4gdGhlIHN0YXRpYyBjcmVkZW50aWFsc1xuICAgICAqIEBwYXJhbSBzZXNzaW9uX3Rva2VuIChvcHRpb25hbCkgc2Vzc2lvbiB0b2tlbiB0byB1c2UgaW4gdGhlIHN0YXRpYyBjcmVkZW50aWFsc1xuICAgICAqXG4gICAgICogQHJldHVybnMgYSBuZXcgY3JlZGVudGlhbHMgcHJvdmlkZXIgdGhhdCB3aWxsIHJldHVybiBhIGZpeGVkIHNldCBvZiBBV1MgY3JlZGVudGlhbHNcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3U3RhdGljKGFjY2Vzc19rZXksIHNlY3JldF9rZXksIHNlc3Npb25fdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm5ld1N0YXRpYyhhY2Nlc3Nfa2V5LCBzZWNyZXRfa2V5LCBzZXNzaW9uX3Rva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjcmVkZW50aWFscyBwcm92aWRlciB0aGF0IHNvdXJjZXMgY3JlZGVudGlhbHMgZnJvbSB0aGUgQVdTIENvZ25pdG8gSWRlbnRpdHkgc2VydmljZSB2aWEgdGhlXG4gICAgICogR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eSBodHRwIEFQSS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgcHJvdmlkZXIgY29uZmlndXJhdGlvbiBuZWNlc3NhcnkgdG8gbWFrZSBHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5IHdlYiByZXF1ZXN0c1xuICAgICAqXG4gICAgICogQHJldHVybnMgYSBuZXcgY3JlZGVudGlhbHMgcHJvdmlkZXIgdGhhdCByZXR1cm5zIGNyZWRlbnRpYWxzIHNvdXJjZWQgZnJvbSB0aGUgQVdTIENvZ25pdG8gSWRlbnRpdHkgc2VydmljZVxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdDb2duaXRvKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09IG51bGwgfHwgY29uZmlnID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJBd3NDcmVkZW50aWFsc1Byb3ZpZGVyIG5ld0NvZ25pdG86IENvZ25pdG8gY29uZmlnIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5uZXdDb2duaXRvKGNvbmZpZywgY29uZmlnLnRsc0NvbnRleHQgIT0gbnVsbCA/IGNvbmZpZy50bHNDb250ZXh0Lm5hdGl2ZV9oYW5kbGUoKSA6IG5ldyBpb18xLkNsaWVudFRsc0NvbnRleHQoKS5uYXRpdmVfaGFuZGxlKCksIGNvbmZpZy5ib290c3RyYXAgIT0gbnVsbCA/IGNvbmZpZy5ib290c3RyYXAubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgY29uZmlnLmh0dHBQcm94eU9wdGlvbnMgPyBjb25maWcuaHR0cFByb3h5T3B0aW9ucy5jcmVhdGVfbmF0aXZlX2hhbmRsZSgpIDogbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY3JlZGVudGlhbHMgcHJvdmlkZXIgdGhhdCBzb3VyY2VzIGNyZWRlbnRpYWxzIGZyb20gdGhlIHRoZSBYNTA5IHNlcnZpY2Ugb24gQVdTIElvVCBDb3JlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyBwcm92aWRlciBjb25maWd1cmF0aW9uIG5lY2Vzc2FyeSB0byBzb3VyY2UgY3JlZGVudGlhbHMgdmlhIFg1MDlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbmV3IGNyZWRlbnRpYWxzIHByb3ZpZGVyIHRoYXQgcmV0dXJucyBjcmVkZW50aWFscyBzb3VyY2VkIGZyb20gdGhlIEFXUyBYNTA5IHNlcnZpY2VcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3WDUwOShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PSBudWxsIHx8IGNvbmZpZyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiQXdzQ3JlZGVudGlhbHNQcm92aWRlciBuZXdYNTA5OiBYNTA5IGNvbmZpZyBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIubmV3WDUwOShjb25maWcsIGNvbmZpZy50bHNDb250ZXh0Lm5hdGl2ZV9oYW5kbGUoKSwgY29uZmlnLmh0dHBQcm94eU9wdGlvbnMgPyBjb25maWcuaHR0cFByb3h5T3B0aW9ucy5jcmVhdGVfbmF0aXZlX2hhbmRsZSgpIDogbnVsbCk7XG4gICAgfVxufVxuZXhwb3J0cy5Bd3NDcmVkZW50aWFsc1Byb3ZpZGVyID0gQXdzQ3JlZGVudGlhbHNQcm92aWRlcjtcbi8qKlxuICogQVdTIHNpZ25pbmcgYWxnb3JpdGhtIGVudW1lcmF0aW9uLlxuICpcbiAqIEBjYXRlZ29yeSBBdXRoXG4gKi9cbnZhciBBd3NTaWduaW5nQWxnb3JpdGhtO1xuKGZ1bmN0aW9uIChBd3NTaWduaW5nQWxnb3JpdGhtKSB7XG4gICAgLyoqIFVzZSB0aGUgQXdzIHNpZ25hdHVyZSB2ZXJzaW9uIDQgc2lnbmluZyBwcm9jZXNzIHRvIHNpZ24gdGhlIHJlcXVlc3QgKi9cbiAgICBBd3NTaWduaW5nQWxnb3JpdGhtW0F3c1NpZ25pbmdBbGdvcml0aG1bXCJTaWdWNFwiXSA9IDBdID0gXCJTaWdWNFwiO1xuICAgIC8qKiBVc2UgdGhlIEF3cyBzaWduYXR1cmUgdmVyc2lvbiA0IEFzeW1tZXRyaWMgc2lnbmluZyBwcm9jZXNzIHRvIHNpZ24gdGhlIHJlcXVlc3QgKi9cbiAgICBBd3NTaWduaW5nQWxnb3JpdGhtW0F3c1NpZ25pbmdBbGdvcml0aG1bXCJTaWdWNEFzeW1tZXRyaWNcIl0gPSAxXSA9IFwiU2lnVjRBc3ltbWV0cmljXCI7XG59KShBd3NTaWduaW5nQWxnb3JpdGhtID0gZXhwb3J0cy5Bd3NTaWduaW5nQWxnb3JpdGhtIHx8IChleHBvcnRzLkF3c1NpZ25pbmdBbGdvcml0aG0gPSB7fSkpO1xuLyoqXG4gKiBBV1Mgc2lnbmF0dXJlIHR5cGUgZW51bWVyYXRpb24uXG4gKlxuICogQGNhdGVnb3J5IEF1dGhcbiAqL1xudmFyIEF3c1NpZ25hdHVyZVR5cGU7XG4oZnVuY3Rpb24gKEF3c1NpZ25hdHVyZVR5cGUpIHtcbiAgICAvKiogU2lnbiBhbiBodHRwIHJlcXVlc3QgYW5kIGFwcGx5IHRoZSBzaWduaW5nIHJlc3VsdHMgYXMgaGVhZGVycyAqL1xuICAgIEF3c1NpZ25hdHVyZVR5cGVbQXdzU2lnbmF0dXJlVHlwZVtcIkh0dHBSZXF1ZXN0VmlhSGVhZGVyc1wiXSA9IDBdID0gXCJIdHRwUmVxdWVzdFZpYUhlYWRlcnNcIjtcbiAgICAvKiogU2lnbiBhbiBodHRwIHJlcXVlc3QgYW5kIGFwcGx5IHRoZSBzaWduaW5nIHJlc3VsdHMgYXMgcXVlcnkgcGFyYW1zICovXG4gICAgQXdzU2lnbmF0dXJlVHlwZVtBd3NTaWduYXR1cmVUeXBlW1wiSHR0cFJlcXVlc3RWaWFRdWVyeVBhcmFtc1wiXSA9IDFdID0gXCJIdHRwUmVxdWVzdFZpYVF1ZXJ5UGFyYW1zXCI7XG4gICAgLyoqIFNpZ24gYW4gaHR0cCByZXF1ZXN0IHBheWxvYWQgY2h1bmsgKi9cbiAgICBBd3NTaWduYXR1cmVUeXBlW0F3c1NpZ25hdHVyZVR5cGVbXCJIdHRwUmVxdWVzdENodW5rXCJdID0gMl0gPSBcIkh0dHBSZXF1ZXN0Q2h1bmtcIjtcbiAgICAvKiogU2lnbiBhbiBldmVudCBzdHJlYW0gZXZlbnQgKi9cbiAgICBBd3NTaWduYXR1cmVUeXBlW0F3c1NpZ25hdHVyZVR5cGVbXCJIdHRwUmVxdWVzdEV2ZW50XCJdID0gM10gPSBcIkh0dHBSZXF1ZXN0RXZlbnRcIjtcbn0pKEF3c1NpZ25hdHVyZVR5cGUgPSBleHBvcnRzLkF3c1NpZ25hdHVyZVR5cGUgfHwgKGV4cG9ydHMuQXdzU2lnbmF0dXJlVHlwZSA9IHt9KSk7XG4vKipcbiAqIFZhbHVlcyBmb3IgdXNlIHdpdGgge0BsaW5rIEF3c1NpZ25pbmdDb25maWcuc2lnbmVkX2JvZHlfdmFsdWV9LlxuICpcbiAqIFNvbWUgc2VydmljZXMgdXNlIHNwZWNpYWwgdmFsdWVzIChlLmcuICdVTlNJR05FRC1QQVlMT0FEJykgd2hlbiB0aGUgYm9keVxuICogaXMgbm90IGJlaW5nIHNpZ25lZCBpbiB0aGUgdXN1YWwgd2F5LlxuICpcbiAqIEBjYXRlZ29yeSBBdXRoXG4gKi9cbnZhciBBd3NTaWduZWRCb2R5VmFsdWU7XG4oZnVuY3Rpb24gKEF3c1NpZ25lZEJvZHlWYWx1ZSkge1xuICAgIC8qKiBVc2UgdGhlIFNIQS0yNTYgb2YgdGhlIGVtcHR5IHN0cmluZyBhcyB0aGUgY2Fub25pY2FsIHJlcXVlc3QgcGF5bG9hZCB2YWx1ZSAqL1xuICAgIEF3c1NpZ25lZEJvZHlWYWx1ZVtcIkVtcHR5U2hhMjU2XCJdID0gXCJlM2IwYzQ0Mjk4ZmMxYzE0OWFmYmY0Yzg5OTZmYjkyNDI3YWU0MWU0NjQ5YjkzNGNhNDk1OTkxYjc4NTJiODU1XCI7XG4gICAgLyoqIFVzZSB0aGUgbGl0ZXJhbCBzdHJpbmcgJ1VOU0lHTkVELVBBWUxPQUQnIGFzIHRoZSBjYW5vbmljYWwgcmVxdWVzdCBwYXlsb2FkIHZhbHVlICAqL1xuICAgIEF3c1NpZ25lZEJvZHlWYWx1ZVtcIlVuc2lnbmVkUGF5bG9hZFwiXSA9IFwiVU5TSUdORUQtUEFZTE9BRFwiO1xuICAgIC8qKiBVc2UgdGhlIGxpdGVyYWwgc3RyaW5nICdTVFJFQU1JTkctQVdTNC1ITUFDLVNIQTI1Ni1QQVlMT0FEJyBhcyB0aGUgY2Fub25pY2FsIHJlcXVlc3QgcGF5bG9hZCB2YWx1ZSAgKi9cbiAgICBBd3NTaWduZWRCb2R5VmFsdWVbXCJTdHJlYW1pbmdBd3M0SG1hY1NoYTI1NlBheWxvYWRcIl0gPSBcIlNUUkVBTUlORy1BV1M0LUhNQUMtU0hBMjU2LVBBWUxPQURcIjtcbiAgICAvKiogVXNlIHRoZSBsaXRlcmFsIHN0cmluZyAnU1RSRUFNSU5HLUFXUzQtSE1BQy1TSEEyNTYtRVZFTlRTJyBhcyB0aGUgY2Fub25pY2FsIHJlcXVlc3QgcGF5bG9hZCB2YWx1ZSAgKi9cbiAgICBBd3NTaWduZWRCb2R5VmFsdWVbXCJTdHJlYW1pbmdBd3M0SG1hY1NoYTI1NkV2ZW50c1wiXSA9IFwiU1RSRUFNSU5HLUFXUzQtSE1BQy1TSEEyNTYtRVZFTlRTXCI7XG59KShBd3NTaWduZWRCb2R5VmFsdWUgPSBleHBvcnRzLkF3c1NpZ25lZEJvZHlWYWx1ZSB8fCAoZXhwb3J0cy5Bd3NTaWduZWRCb2R5VmFsdWUgPSB7fSkpO1xuLyoqXG4gKiBBV1Mgc2lnbmVkIGJvZHkgaGVhZGVyIGVudW1lcmF0aW9uLlxuICpcbiAqIEBjYXRlZ29yeSBBdXRoXG4gKi9cbnZhciBBd3NTaWduZWRCb2R5SGVhZGVyVHlwZTtcbihmdW5jdGlvbiAoQXdzU2lnbmVkQm9keUhlYWRlclR5cGUpIHtcbiAgICAvKiogRG8gbm90IGFkZCBhIGhlYWRlciBjb250YWluaW5nIHRoZSBjYW5vbmljYWwgcmVxdWVzdCBwYXlsb2FkIHZhbHVlICovXG4gICAgQXdzU2lnbmVkQm9keUhlYWRlclR5cGVbQXdzU2lnbmVkQm9keUhlYWRlclR5cGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKiogQWRkIHRoZSBYLUFtei1Db250ZW50LVNoYTI1NiBoZWFkZXIgd2l0aCB0aGUgY2Fub25pY2FsIHJlcXVlc3QgcGF5bG9hZCB2YWx1ZSAqL1xuICAgIEF3c1NpZ25lZEJvZHlIZWFkZXJUeXBlW0F3c1NpZ25lZEJvZHlIZWFkZXJUeXBlW1wiWEFtekNvbnRlbnRTaGEyNTZcIl0gPSAxXSA9IFwiWEFtekNvbnRlbnRTaGEyNTZcIjtcbn0pKEF3c1NpZ25lZEJvZHlIZWFkZXJUeXBlID0gZXhwb3J0cy5Bd3NTaWduZWRCb2R5SGVhZGVyVHlwZSB8fCAoZXhwb3J0cy5Bd3NTaWduZWRCb2R5SGVhZGVyVHlwZSA9IHt9KSk7XG4vKipcbiAqIFBlcmZvcm0gQVdTIEhUVFAgcmVxdWVzdCBzaWduaW5nLlxuICpcbiAqIFRoZSB7QGxpbmsgSHR0cFJlcXVlc3R9IGlzIHRyYW5zZm9ybWVkIGFzeW5jaHJvbm91c2x5LFxuICogYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgQXdzU2lnbmluZ0NvbmZpZ30uXG4gKlxuICogV2hlbiBzaWduaW5nOlxuICogIDEuICBJdCBpcyBnb29kIHByYWN0aWNlIHRvIHVzZSBhIG5ldyBjb25maWcgZm9yIGVhY2ggc2lnbmF0dXJlLFxuICogICAgICBvciB0aGUgZGF0ZSBtaWdodCBnZXQgdG9vIG9sZC5cbiAqXG4gKiAgMi4gIERvIG5vdCBhZGQgdGhlIGZvbGxvd2luZyBoZWFkZXJzIHRvIHJlcXVlc3RzIGJlZm9yZSBzaWduaW5nLCB0aGV5IG1heSBiZSBhZGRlZCBieSB0aGUgc2lnbmVyOlxuICogICAgICB4LWFtei1jb250ZW50LXNoYTI1NixcbiAqICAgICAgWC1BbXotRGF0ZSxcbiAqICAgICAgQXV0aG9yaXphdGlvblxuICpcbiAqICAzLiAgRG8gbm90IGFkZCB0aGUgZm9sbG93aW5nIHF1ZXJ5IHBhcmFtcyB0byByZXF1ZXN0cyBiZWZvcmUgc2lnbmluZywgdGhleSBtYXkgYmUgYWRkZWQgYnkgdGhlIHNpZ25lcjpcbiAqICAgICAgWC1BbXotU2lnbmF0dXJlLFxuICogICAgICBYLUFtei1EYXRlLFxuICogICAgICBYLUFtei1DcmVkZW50aWFsLFxuICogICAgICBYLUFtei1BbGdvcml0aG0sXG4gKiAgICAgIFgtQW16LVNpZ25lZEhlYWRlcnNcbiAqIEBwYXJhbSByZXF1ZXN0IFRoZSBIVFRQIHJlcXVlc3QgdG8gc2lnbi5cbiAqIEBwYXJhbSBjb25maWcgQ29uZmlndXJhdGlvbiBmb3Igc2lnbmluZy5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aG9zZSByZXN1bHQgd2lsbCBiZSB0aGUgc2lnbmVkXG4gKiAgICAgICB7QGxpbmsgSHR0cFJlcXVlc3R9LiBUaGUgZnV0dXJlIHdpbGwgY29udGFpbiBhbiBleGNlcHRpb25cbiAqICAgICAgIGlmIHRoZSBzaWduaW5nIHByb2Nlc3MgZmFpbHMuXG4gKlxuICogQGNhdGVnb3J5IEF1dGhcbiAqL1xuZnVuY3Rpb24gYXdzX3NpZ25fcmVxdWVzdChyZXF1ZXN0LCBjb25maWcpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvKiBOb3RlOiBpZiB0aGUgYm9keSBvZiByZXF1ZXN0IGhhcyBub3QgZnVsbHkgbG9hZGVkLCBpdCB3aWxsIGxlYWQgdG8gYW4gZW5kbGVzcyBsb29wLlxuICAgICAgICAgICAgICAgICAqIFVzZXIgc2hvdWxkIHNldCB0aGUgc2lnbmVkX2JvZHlfdmFsdWUgb2YgY29uZmlnIHRvIHByZXZlbnQgdGhpcyBlbmRsZXNzIGxvb3AgaW4gdGhpcyBjYXNlICovXG4gICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuYXdzX3NpZ25fcmVxdWVzdChyZXF1ZXN0LCBjb25maWcsIChlcnJvcl9jb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcl9jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoZXJyb3JfY29kZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuYXdzX3NpZ25fcmVxdWVzdCA9IGF3c19zaWduX3JlcXVlc3Q7XG4vKipcbiAqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUZXN0IG9ubHkuXG4gKiBWZXJpZmllczpcbiAqICAoMSkgVGhlIGNhbm9uaWNhbCByZXF1ZXN0IGdlbmVyYXRlZCBkdXJpbmcgc2lndjRhIHNpZ25pbmcgb2YgdGhlIHJlcXVlc3QgbWF0Y2hlcyB3aGF0IGlzIHBhc3NlZCBpblxuICogICgyKSBUaGUgc2lnbmF0dXJlIHBhc3NlZCBpbiBpcyBhIHZhbGlkIEVDRFNBIHNpZ25hdHVyZSBvZiB0aGUgaGFzaGVkIHN0cmluZy10by1zaWduIGRlcml2ZWQgZnJvbSB0aGVcbiAqICBjYW5vbmljYWwgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSByZXF1ZXN0IFRoZSBIVFRQIHJlcXVlc3QgdG8gc2lnbi5cbiAqIEBwYXJhbSBjb25maWcgQ29uZmlndXJhdGlvbiBmb3Igc2lnbmluZy5cbiAqIEBwYXJhbSBleHBlY3RlZF9jYW5vbmljYWxfcmVxdWVzdCBTdHJpbmcgdHlwZSBvZiBleHBlY3RlZCBjYW5vbmljYWwgcmVxdWVzdC4gUmVmZXIgdG8gWFhYKGxpbmsgdG8gZG9jPylcbiAqIEBwYXJhbSBzaWduYXR1cmUgVGhlIGdlbmVyYXRlZCBzaWduYXR1cmUgc3RyaW5nIGZyb20ge0BsaW5rIGF3c19zaWduX3JlcXVlc3R9LCB3aGljaCBpcyB2ZXJpZmllZCBoZXJlLlxuICogQHBhcmFtIGVjY19rZXlfcHViX3ggdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgcHVibGljIHBhcnQgb2YgdGhlIGVjYyBrZXkgdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmUuXG4gKiBAcGFyYW0gZWNjX2tleV9wdWJfeSB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBwdWJsaWMgcGFydCBvZiB0aGUgZWNjIGtleSB0byB2ZXJpZnkgdGhlIHNpZ25hdHVyZVxuICogQHJldHVybnMgVHJ1ZSwgaWYgdGhlIHZlcmlmaWNhdGlvbiBzdWNjZWVkLiBPdGhlcndpc2UsIGZhbHNlLlxuICovXG5mdW5jdGlvbiBhd3NfdmVyaWZ5X3NpZ3Y0YV9zaWduaW5nKHJlcXVlc3QsIGNvbmZpZywgZXhwZWN0ZWRfY2Fub25pY2FsX3JlcXVlc3QsIHNpZ25hdHVyZSwgZWNjX2tleV9wdWJfeCwgZWNjX2tleV9wdWJfeSkge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5hd3NfdmVyaWZ5X3NpZ3Y0YV9zaWduaW5nKHJlcXVlc3QsIGNvbmZpZywgZXhwZWN0ZWRfY2Fub25pY2FsX3JlcXVlc3QsIHNpZ25hdHVyZSwgZWNjX2tleV9wdWJfeCwgZWNjX2tleV9wdWJfeSk7XG59XG5leHBvcnRzLmF3c192ZXJpZnlfc2lndjRhX3NpZ25pbmcgPSBhd3NfdmVyaWZ5X3NpZ3Y0YV9zaWduaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIgPSB2b2lkIDA7XG5jb25zdCBtcXR0XzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL21xdHRcIik7XG5jb25zdCBpbyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9pb1wiKSk7XG5jb25zdCBpb18xID0gcmVxdWlyZShcIi4vaW9cIik7XG5jb25zdCBwbGF0Zm9ybSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL3BsYXRmb3JtXCIpKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbmNvbnN0IGF1dGhfMSA9IHJlcXVpcmUoXCIuL2F1dGhcIik7XG5jb25zdCBpb3Rfc2hhcmVkID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9jb21tb24vYXdzX2lvdF9zaGFyZWRcIikpO1xuLyoqXG4gKiBCdWlsZGVyIGZ1bmN0aW9ucyB0byBjcmVhdGUgYSB7QGxpbmsgTXF0dENvbm5lY3Rpb25Db25maWd9IHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlXG4gKiBhIHtAbGluayBNcXR0Q2xpZW50Q29ubmVjdGlvbn0sIGNvbmZpZ3VyZWQgZm9yIHVzZSB3aXRoIEFXUyBJb1QuXG4gKlxuICogQGNhdGVnb3J5IElvVFxuICovXG5jbGFzcyBBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHRsc19jdHhfb3B0aW9ucykge1xuICAgICAgICB0aGlzLnRsc19jdHhfb3B0aW9ucyA9IHRsc19jdHhfb3B0aW9ucztcbiAgICAgICAgdGhpcy5wYXJhbXMgPSB7XG4gICAgICAgICAgICBjbGllbnRfaWQ6ICcnLFxuICAgICAgICAgICAgaG9zdF9uYW1lOiAnJyxcbiAgICAgICAgICAgIHNvY2tldF9vcHRpb25zOiBuZXcgaW8uU29ja2V0T3B0aW9ucygpLFxuICAgICAgICAgICAgcG9ydDogODg4MyxcbiAgICAgICAgICAgIHVzZV93ZWJzb2NrZXQ6IGZhbHNlLFxuICAgICAgICAgICAgY2xlYW5fc2Vzc2lvbjogZmFsc2UsXG4gICAgICAgICAgICBrZWVwX2FsaXZlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB3aWxsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB1c2VybmFtZTogXCJcIixcbiAgICAgICAgICAgIHBhc3N3b3JkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0bHNfY3R4OiB1bmRlZmluZWQsXG4gICAgICAgICAgICByZWNvbm5lY3RfbWluX3NlYzogbXF0dF8xLkRFRkFVTFRfUkVDT05ORUNUX01JTl9TRUMsXG4gICAgICAgICAgICByZWNvbm5lY3RfbWF4X3NlYzogbXF0dF8xLkRFRkFVTFRfUkVDT05ORUNUX01BWF9TRUNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc191c2luZ19jdXN0b21fYXV0aG9yaXplciA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRlciB3aXRoIG1UTFMgZmlsZSBwYXRoc1xuICAgICAqIEBwYXJhbSBjZXJ0X3BhdGggLSBQYXRoIHRvIGNlcnRpZmljYXRlLCBpbiBQRU0gZm9ybWF0XG4gICAgICogQHBhcmFtIGtleV9wYXRoIC0gUGF0aCB0byBwcml2YXRlIGtleSwgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdfbXRsc19idWlsZGVyX2Zyb21fcGF0aChjZXJ0X3BhdGgsIGtleV9wYXRoKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcihpb18xLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX2Zyb21fcGF0aChjZXJ0X3BhdGgsIGtleV9wYXRoKSk7XG4gICAgICAgIGJ1aWxkZXIucGFyYW1zLnBvcnQgPSA4ODgzO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNfY3R4X29wdGlvbnMuYWxwbl9saXN0LnVuc2hpZnQoJ3gtYW16bi1tcXR0LWNhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBidWlsZGVyIHdpdGggbVRMUyBjZXJ0IHBhaXIgaW4gbWVtb3J5XG4gICAgICogQHBhcmFtIGNlcnQgLSBDZXJ0aWZpY2F0ZSwgaW4gUEVNIGZvcm1hdFxuICAgICAqIEBwYXJhbSBwcml2YXRlX2tleSAtIFByaXZhdGUga2V5LCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgc3RhdGljIG5ld19tdGxzX2J1aWxkZXIoY2VydCwgcHJpdmF0ZV9rZXkpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyKGlvXzEuVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHMoY2VydCwgcHJpdmF0ZV9rZXkpKTtcbiAgICAgICAgYnVpbGRlci5wYXJhbXMucG9ydCA9IDg4ODM7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc19jdHhfb3B0aW9ucy5hbHBuX2xpc3QudW5zaGlmdCgneC1hbXpuLW1xdHQtY2EnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkZXIgd2l0aCBtVExTIHVzaW5nIGEgUEtDUyMxMSBsaWJyYXJ5IGZvciBwcml2YXRlIGtleSBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogTk9URTogVGhpcyBjb25maWd1cmF0aW9uIG9ubHkgd29ya3Mgb24gVW5peCBkZXZpY2VzLlxuICAgICAqIEBwYXJhbSBwa2NzMTFfb3B0aW9ucyAtIFBLQ1MjMTEgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3X210bHNfcGtjczExX2J1aWxkZXIocGtjczExX29wdGlvbnMpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyKGlvXzEuVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczExKHBrY3MxMV9vcHRpb25zKSk7XG4gICAgICAgIGJ1aWxkZXIucGFyYW1zLnBvcnQgPSA4ODgzO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNfY3R4X29wdGlvbnMuYWxwbl9saXN0LnVuc2hpZnQoJ3gtYW16bi1tcXR0LWNhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBidWlsZGVyIHdpdGggbVRMUyB1c2luZyBhIFBLQ1MjMTIgZmlsZSBmb3IgcHJpdmF0ZSBrZXkgb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIE1hY09TIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGtjczEyX29wdGlvbnMgLSBUaGUgUEtDUyMxMiBvcHRpb25zIHRvIHVzZSBpbiB0aGUgYnVpbGRlci5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3X210bHNfcGtjczEyX2J1aWxkZXIocGtjczEyX29wdGlvbnMpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyKGlvXzEuVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczEyX2Zyb21fcGF0aChwa2NzMTJfb3B0aW9ucy5wa2NzMTJfZmlsZSwgcGtjczEyX29wdGlvbnMucGtjczEyX3Bhc3N3b3JkKSk7XG4gICAgICAgIGJ1aWxkZXIucGFyYW1zLnBvcnQgPSA4ODgzO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNfY3R4X29wdGlvbnMuYWxwbl9saXN0LnVuc2hpZnQoJ3gtYW16bi1tcXR0LWNhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBidWlsZGVyIHdpdGggbVRMUyB1c2luZyBhIGNlcnRpZmljYXRlIGluIGEgV2luZG93cyBjZXJ0aWZpY2F0ZSBzdG9yZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIFdpbmRvd3MgZGV2aWNlcy5cbiAgICAgKiBAcGFyYW0gY2VydGlmaWNhdGVfcGF0aCAtIFBhdGggdG8gY2VydGlmaWNhdGUgaW4gYSBXaW5kb3dzIGNlcnRpZmljYXRlIHN0b3JlLlxuICAgICAqICAgICAgVGhlIHBhdGggbXVzdCB1c2UgYmFja3NsYXNoZXMgYW5kIGVuZCB3aXRoIHRoZSBjZXJ0aWZpY2F0ZSdzIHRodW1icHJpbnQuXG4gICAgICogICAgICBFeGFtcGxlOiBgQ3VycmVudFVzZXJcXE1ZXFxBMTFGOEE5QjVERjVCOThCQTM1MDhGQkNBNTc1RDA5NTcwRTBEMkM2YFxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdfbXRsc193aW5kb3dzX2NlcnRfc3RvcmVfcGF0aF9idWlsZGVyKGNlcnRpZmljYXRlX3BhdGgpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyKGlvXzEuVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfd2luZG93c19jZXJ0X3N0b3JlX3BhdGgoY2VydGlmaWNhdGVfcGF0aCkpO1xuICAgICAgICBidWlsZGVyLnBhcmFtcy5wb3J0ID0gODg4MztcbiAgICAgICAgaWYgKGlvLmlzX2FscG5fYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIudGxzX2N0eF9vcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGJ1aWxkZXIgd2l0aCBkZWZhdWx0IFRscyBvcHRpb25zLiBUaGlzIHJlcXVpcmVzIHNldHRpbmcgdGhlIGNvbm5lY3Rpb24gZGV0YWlscyBtYW51YWxseS5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3X2RlZmF1bHRfYnVpbGRlcigpIHtcbiAgICAgICAgbGV0IGN0eF9vcHRpb25zID0gbmV3IGlvLlRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcihjdHhfb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICBzdGF0aWMgbmV3X3dlYnNvY2tldF9idWlsZGVyKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV3X3dpdGhfd2Vic29ja2V0cyguLi5hcmdzKTtcbiAgICB9XG4gICAgc3RhdGljIGNvbmZpZ3VyZV93ZWJzb2NrZXRfaGFuZHNoYWtlKGJ1aWxkZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChidWlsZGVyID09IG51bGwgfHwgYnVpbGRlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlciBjb25maWd1cmVfd2Vic29ja2V0X2hhbmRzaGFrZTogYnVpbGRlciBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1aWxkZXIucGFyYW1zLndlYnNvY2tldF9oYW5kc2hha2VfdHJhbnNmb3JtID0gKHJlcXVlc3QsIGRvbmUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduaW5nX2NvbmZpZyA9IChfYiA9IChfYSA9IG9wdGlvbnMuY3JlYXRlX3NpZ25pbmdfY29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge1xuICAgICAgICAgICAgICAgICAgICBhbGdvcml0aG06IGF1dGhfMS5Bd3NTaWduaW5nQWxnb3JpdGhtLlNpZ1Y0LFxuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVfdHlwZTogYXV0aF8xLkF3c1NpZ25hdHVyZVR5cGUuSHR0cFJlcXVlc3RWaWFRdWVyeVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IG9wdGlvbnMuY3JlZGVudGlhbHNfcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogb3B0aW9ucy5yZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IChfYyA9IG9wdGlvbnMuc2VydmljZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogXCJpb3RkZXZpY2VnYXRld2F5XCIsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZF9ib2R5X3ZhbHVlOiBhdXRoXzEuQXdzU2lnbmVkQm9keVZhbHVlLkVtcHR5U2hhMjU2LFxuICAgICAgICAgICAgICAgICAgICBvbWl0X3Nlc3Npb25fdG9rZW46IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCAoMCwgYXV0aF8xLmF3c19zaWduX3JlcXVlc3QpKHJlcXVlc3QsIHNpZ25pbmdfY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgZXJyb3JfMS5DcnRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShlcnJvci5lcnJvcl9jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoMyk7IC8qIFRPRE86IEFXU19FUlJPUl9VTktOT1dOICovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgY29ubmVjdGlvbiB0byB1c2UgTVFUVCBvdmVyIHdlYnNvY2tldHMuIEZvcmNlcyB0aGUgcG9ydCB0byA0NDMuXG4gICAgICovXG4gICAgc3RhdGljIG5ld193aXRoX3dlYnNvY2tldHMob3B0aW9ucykge1xuICAgICAgICBsZXQgdGxzX2N0eF9vcHRpb25zID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRsc19jdHhfb3B0aW9ucztcbiAgICAgICAgaWYgKCF0bHNfY3R4X29wdGlvbnMpIHtcbiAgICAgICAgICAgIHRsc19jdHhfb3B0aW9ucyA9IG5ldyBpb18xLlRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgICAgICB0bHNfY3R4X29wdGlvbnMuYWxwbl9saXN0ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyKHRsc19jdHhfb3B0aW9ucyk7XG4gICAgICAgIGJ1aWxkZXIucGFyYW1zLnVzZV93ZWJzb2NrZXQgPSB0cnVlO1xuICAgICAgICBidWlsZGVyLnBhcmFtcy5wcm94eV9vcHRpb25zID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByb3h5X29wdGlvbnM7XG4gICAgICAgIGlmIChidWlsZGVyLnRsc19jdHhfb3B0aW9ucykge1xuICAgICAgICAgICAgYnVpbGRlci5wYXJhbXMucG9ydCA9IDQ0MztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZ3VyZV93ZWJzb2NrZXRfaGFuZHNoYWtlKGJ1aWxkZXIsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIEFQSSBjb21wYXRpYmlsaXR5IHdpdGggdGhlIGJyb3dzZXIgdmVyc2lvbi4gQWxpYXMgZm9yIHtAbGluayBuZXdfd2l0aF93ZWJzb2NrZXRzfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbmV3IHdlYnNvY2tldCBjb25uZWN0aW9uIGJ1aWxkZXIgb2JqZWN0IHdpdGggZGVmYXVsdCBUTFMgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdfYnVpbGRlcl9mb3Jfd2Vic29ja2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdfd2l0aF93ZWJzb2NrZXRzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBzeXN0ZW0gdHJ1c3Qgc3RvcmUuXG4gICAgICogQHBhcmFtIGNhX2RpcnBhdGggLSBPbmx5IHVzZWQgb24gVW5peC1zdHlsZSBzeXN0ZW1zIHdoZXJlIGFsbCB0cnVzdCBhbmNob3JzIGFyZVxuICAgICAqIHN0b3JlZCBpbiBhIGRpcmVjdG9yeSAoZS5nLiAvZXRjL3NzbC9jZXJ0cykuXG4gICAgICogQHBhcmFtIGNhX2ZpbGVwYXRoIC0gU2luZ2xlIGZpbGUgY29udGFpbmluZyBhbGwgdHJ1c3QgQ0FzLCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgd2l0aF9jZXJ0aWZpY2F0ZV9hdXRob3JpdHlfZnJvbV9wYXRoKGNhX2RpcnBhdGgsIGNhX2ZpbGVwYXRoKSB7XG4gICAgICAgIHRoaXMudGxzX2N0eF9vcHRpb25zLm92ZXJyaWRlX2RlZmF1bHRfdHJ1c3Rfc3RvcmVfZnJvbV9wYXRoKGNhX2RpcnBhdGgsIGNhX2ZpbGVwYXRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBzeXN0ZW0gdHJ1c3Qgc3RvcmUuXG4gICAgICogQHBhcmFtIGNhIC0gQnVmZmVyIGNvbnRhaW5pbmcgYWxsIHRydXN0IENBcywgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHdpdGhfY2VydGlmaWNhdGVfYXV0aG9yaXR5KGNhKSB7XG4gICAgICAgIHRoaXMudGxzX2N0eF9vcHRpb25zLm92ZXJyaWRlX2RlZmF1bHRfdHJ1c3Rfc3RvcmUoY2EpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgSW9UIGVuZHBvaW50IGZvciB0aGlzIGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gZW5kcG9pbnQgVGhlIElvVCBlbmRwb2ludCB0byBjb25uZWN0IHRvXG4gICAgICovXG4gICAgd2l0aF9lbmRwb2ludChlbmRwb2ludCkge1xuICAgICAgICB0aGlzLnBhcmFtcy5ob3N0X25hbWUgPSBlbmRwb2ludDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwb3J0IHRvIGNvbm5lY3QgdG8gb24gdGhlIElvVCBlbmRwb2ludFxuICAgICAqIEBwYXJhbSBwb3J0IFRoZSBwb3J0IHRvIGNvbm5lY3QgdG8gb24gdGhlIElvVCBlbmRwb2ludC4gVXN1YWxseSA4ODgzIGZvciBNUVRULCBvciA0NDMgZm9yIHdlYnNvY2tldHNcbiAgICAgKi9cbiAgICB3aXRoX3BvcnQocG9ydCkge1xuICAgICAgICB0aGlzLnBhcmFtcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIGNsaWVudF9pZCB0byB1c2UgdG8gY29ubmVjdCB0byB0aGUgSW9UIENvcmUgc2VydmljZVxuICAgICAqIEBwYXJhbSBjbGllbnRfaWQgVGhlIGNsaWVudCBpZCBmb3IgdGhpcyBjb25uZWN0aW9uLiBOZWVkcyB0byBiZSB1bmlxdWUgYWNyb3NzIGFsbCBkZXZpY2VzL2NsaWVudHMuXG4gICAgICovXG4gICAgd2l0aF9jbGllbnRfaWQoY2xpZW50X2lkKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLmNsaWVudF9pZCA9IGNsaWVudF9pZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgdGhlIHNlcnZpY2Ugc2hvdWxkIHRyeSB0byByZXN1bWUgcHJpb3Igc3Vic2NyaXB0aW9ucywgaWYgaXQgaGFzIGFueVxuICAgICAqIEBwYXJhbSBjbGVhbl9zZXNzaW9uIHRydWUgaWYgdGhlIHNlc3Npb24gc2hvdWxkIGRyb3AgcHJpb3Igc3Vic2NyaXB0aW9ucyB3aGVuIHRoaXMgY2xpZW50IGNvbm5lY3RzLCBmYWxzZSB0byByZXN1bWUgdGhlIHNlc3Npb25cbiAgICAgKi9cbiAgICB3aXRoX2NsZWFuX3Nlc3Npb24oY2xlYW5fc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnBhcmFtcy5jbGVhbl9zZXNzaW9uID0gY2xlYW5fc2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgTVFUVCBrZWVwLWFsaXZlIHZpYSBQSU5HIG1lc3NhZ2VzLiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgVENQIGtlZXBhbGl2ZS5cbiAgICAgKiBAcGFyYW0ga2VlcF9hbGl2ZSBIb3cgb2Z0ZW4gaW4gc2Vjb25kcyB0byBzZW5kIGFuIE1RVFQgUElORyBtZXNzYWdlIHRvIHRoZSBzZXJ2aWNlIHRvIGtlZXAgdGhlIGNvbm5lY3Rpb24gYWxpdmVcbiAgICAgKi9cbiAgICB3aXRoX2tlZXBfYWxpdmVfc2Vjb25kcyhrZWVwX2FsaXZlKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLmtlZXBfYWxpdmUgPSBrZWVwX2FsaXZlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgVENQIHNvY2tldCB0aW1lb3V0IChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHRpbWVvdXRfbXMgVENQIHNvY2tldCB0aW1lb3V0XG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICB3aXRoX3RpbWVvdXRfbXModGltZW91dF9tcykge1xuICAgICAgICB0aGlzLndpdGhfcGluZ190aW1lb3V0X21zKHRpbWVvdXRfbXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgUElOR1JFUSByZXNwb25zZSB0aW1lb3V0IChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHBpbmdfdGltZW91dCBQSU5HUkVRIHJlc3BvbnNlIHRpbWVvdXRcbiAgICAgKi9cbiAgICB3aXRoX3BpbmdfdGltZW91dF9tcyhwaW5nX3RpbWVvdXQpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMucGluZ190aW1lb3V0ID0gcGluZ190aW1lb3V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgcHJvdG9jb2wgb3BlcmF0aW9uIHRpbWVvdXQgKGluIG1pbGxpc2Vjb25kcylcbiAgICAgKiBAcGFyYW0gcHJvdG9jb2xfb3BlcmF0aW9uX3RpbWVvdXQgcHJvdG9jb2wgb3BlcmF0aW9uIHRpbWVvdXRcbiAgICAgKi9cbiAgICB3aXRoX3Byb3RvY29sX29wZXJhdGlvbl90aW1lb3V0X21zKHByb3RvY29sX29wZXJhdGlvbl90aW1lb3V0KSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnByb3RvY29sX29wZXJhdGlvbl90aW1lb3V0ID0gcHJvdG9jb2xfb3BlcmF0aW9uX3RpbWVvdXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIHRoZSB3aWxsIG1lc3NhZ2UgdG8gYmUgc2VudCB3aGVuIHRoaXMgY2xpZW50IGRpc2Nvbm5lY3RzXG4gICAgICogQHBhcmFtIHdpbGwgVGhlIHdpbGwgdG9waWMsIHFvcywgYW5kIG1lc3NhZ2VcbiAgICAgKi9cbiAgICB3aXRoX3dpbGwod2lsbCkge1xuICAgICAgICB0aGlzLnBhcmFtcy53aWxsID0gd2lsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIGNvbW1vbiBzZXR0aW5ncyBmb3IgdGhlIHNvY2tldCB0byB1c2Ugd2hlbiBvcGVuaW5nIGEgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyXG4gICAgICogQHBhcmFtIHNvY2tldF9vcHRpb25zIFRoZSBzb2NrZXQgc2V0dGluZ3NcbiAgICAgKi9cbiAgICB3aXRoX3NvY2tldF9vcHRpb25zKHNvY2tldF9vcHRpb25zKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnNvY2tldF9vcHRpb25zID0gc29ja2V0X29wdGlvbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIEFXUyBjcmVkZW50aWFscyAodXN1YWxseSBmcm9tIENvZ25pdG8pIGZvciB0aGlzIGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gYXdzX3JlZ2lvbiBUaGUgc2VydmljZSByZWdpb24gdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBhd3NfYWNjZXNzX2lkIElBTSBBY2Nlc3MgSURcbiAgICAgKiBAcGFyYW0gYXdzX3NlY3JldF9rZXkgSUFNIFNlY3JldCBLZXlcbiAgICAgKiBAcGFyYW0gYXdzX3N0c190b2tlbiBTVFMgdG9rZW4gZnJvbSBDb2duaXRvIChvcHRpb25hbClcbiAgICAgKi9cbiAgICB3aXRoX2NyZWRlbnRpYWxzKGF3c19yZWdpb24sIGF3c19hY2Nlc3NfaWQsIGF3c19zZWNyZXRfa2V5LCBhd3Nfc3RzX3Rva2VuKSB7XG4gICAgICAgIHJldHVybiBBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIuY29uZmlndXJlX3dlYnNvY2tldF9oYW5kc2hha2UodGhpcywge1xuICAgICAgICAgICAgY3JlZGVudGlhbHNfcHJvdmlkZXI6IGF1dGhfMS5Bd3NDcmVkZW50aWFsc1Byb3ZpZGVyLm5ld1N0YXRpYyhhd3NfYWNjZXNzX2lkLCBhd3Nfc2VjcmV0X2tleSwgYXdzX3N0c190b2tlbiksXG4gICAgICAgICAgICByZWdpb246IGF3c19yZWdpb24sXG4gICAgICAgICAgICBzZXJ2aWNlOiBcImlvdGRldmljZWdhdGV3YXlcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSB0aGUgaHR0cCBwcm94eSBvcHRpb25zIHRvIHVzZSB0byBlc3RhYmxpc2ggdGhlIGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gcHJveHlfb3B0aW9ucyBwcm94eSBvcHRpb25zIHRvIHVzZSB0byBlc3RhYmxpc2ggdGhlIG1xdHQgY29ubmVjdGlvblxuICAgICAqL1xuICAgIHdpdGhfaHR0cF9wcm94eV9vcHRpb25zKHByb3h5X29wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMucHJveHlfb3B0aW9ucyA9IHByb3h5X29wdGlvbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXN0b20gYXV0aG9yaXplciBzZXR0aW5ncy4gVGhpcyBmdW5jdGlvbiB3aWxsIG1vZGlmeSB0aGUgdXNlcm5hbWUsIHBvcnQsIGFuZCBUTFMgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1c2VybmFtZSBUaGUgdXNlcm5hbWUgdG8gdXNlIHdpdGggdGhlIGN1c3RvbSBhdXRob3JpemVyLiBJZiBhbiBlbXB0eSBzdHJpbmcgaXMgcGFzc2VkLCBpdCB3aWxsXG4gICAgICogICAgICAgICAgICAgICAgIGNoZWNrIHRvIHNlZSBpZiBhIHVzZXJuYW1lIGhhcyBhbHJlYWR5IGJlZW4gc2V0ICh2aWEgV2l0aFVzZXJuYW1lIGZ1bmN0aW9uKS4gSWYgbm9cbiAgICAgKiAgICAgICAgICAgICAgICAgdXNlcm5hbWUgaXMgc2V0IHRoZW4gbm8gdXNlcm5hbWUgd2lsbCBiZSBwYXNzZWQgd2l0aCB0aGUgTVFUVCBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBhdXRob3JpemVyX25hbWUgVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBhdXRob3JpemVyLiBJZiBhbiBlbXB0eSBzdHJpbmcgaXMgcGFzc2VkLCB0aGVuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICd4LWFtei1jdXN0b21hdXRob3JpemVyLW5hbWUnIHdpbGwgbm90IGJlIGFkZGVkIHdpdGggdGhlIE1RVFQgY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gYXV0aG9yaXplcl9zaWduYXR1cmUgVGhlIHNpZ25hdHVyZSBvZiB0aGUgY3VzdG9tIGF1dGhvcml6ZXIuIElmIGFuIGVtcHR5IHN0cmluZyBpcyBwYXNzZWQsIHRoZW5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1hbXotY3VzdG9tYXV0aG9yaXplci1zaWduYXR1cmUnIHdpbGwgbm90IGJlIGFkZGVkIHdpdGggdGhlIE1RVFQgY29ubmVjdGlvbi5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgc2lnbmF0dXJlIG11c3QgYmUgYmFzZWQgb24gdGhlIHByaXZhdGUga2V5IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VzdG9tIGF1dGhvcml6ZXIuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHNpZ25hdHVyZSBtdXN0IGJlIGJhc2U2NCBlbmNvZGVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkIGlmIHRoZSBjdXN0b20gYXV0aG9yaXplciBoYXMgc2lnbmluZyBlbmFibGVkLiAgSXQgaXMgc3Ryb25nbHkgc3VnZ2VzdGVkIHRvIFVSTC1lbmNvZGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIHZhbHVlOyB0aGUgU0RLIHdpbGwgbm90IGRvIHNvIGZvciB5b3UuXG4gICAgICogQHBhcmFtIHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byB1c2Ugd2l0aCB0aGUgY3VzdG9tIGF1dGhvcml6ZXIuIElmIG51bGwgaXMgcGFzc2VkLCB0aGVuIG5vIHBhc3N3b3JkIHdpbGxcbiAgICAgKiAgICAgICAgICAgICAgICAgYmUgc2V0LlxuICAgICAqIEBwYXJhbSB0b2tlbl9rZXlfbmFtZSBLZXkgdXNlZCB0byBleHRyYWN0IHRoZSBjdXN0b20gYXV0aG9yaXplciB0b2tlbiBmcm9tIE1RVFQgdXNlcm5hbWUgcXVlcnktc3RyaW5nIHByb3BlcnRpZXMuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkIGlmIHRoZSBjdXN0b20gYXV0aG9yaXplciBoYXMgc2lnbmluZyBlbmFibGVkLiAgSXQgaXMgc3Ryb25nbHkgc3VnZ2VzdGVkIHRvIFVSTC1lbmNvZGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgdGhpcyB2YWx1ZTsgdGhlIFNESyB3aWxsIG5vdCBkbyBzbyBmb3IgeW91LlxuICAgICAqIEBwYXJhbSB0b2tlbl92YWx1ZSBBbiBvcGFxdWUgdG9rZW4gdmFsdWUuXG4gICAgICogICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkIGlmIHRoZSBjdXN0b20gYXV0aG9yaXplciBoYXMgc2lnbmluZyBlbmFibGVkLiBUaGlzIHZhbHVlIG11c3QgYmUgc2lnbmVkIGJ5IHRoZSBwcml2YXRlXG4gICAgICogICAgICAgICAgICAgICAgICAgIGtleSBhc3NvY2lhdGVkIHdpdGggdGhlIGN1c3RvbSBhdXRob3JpemVyIGFuZCB0aGUgcmVzdWx0IHBsYWNlZCBpbiB0aGUgdG9rZW5fc2lnbmF0dXJlIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIHdpdGhfY3VzdG9tX2F1dGhvcml6ZXIodXNlcm5hbWUsIGF1dGhvcml6ZXJfbmFtZSwgYXV0aG9yaXplcl9zaWduYXR1cmUsIHBhc3N3b3JkLCB0b2tlbl9rZXlfbmFtZSwgdG9rZW5fdmFsdWUpIHtcbiAgICAgICAgdGhpcy5pc191c2luZ19jdXN0b21fYXV0aG9yaXplciA9IHRydWU7XG4gICAgICAgIGxldCB1c2VybmFtZV9zdHJpbmcgPSBpb3Rfc2hhcmVkLnBvcHVsYXRlX3VzZXJuYW1lX3N0cmluZ193aXRoX2N1c3RvbV9hdXRob3JpemVyKFwiXCIsIHVzZXJuYW1lLCBhdXRob3JpemVyX25hbWUsIGF1dGhvcml6ZXJfc2lnbmF0dXJlLCB0aGlzLnBhcmFtcy51c2VybmFtZSwgdG9rZW5fa2V5X25hbWUsIHRva2VuX3ZhbHVlKTtcbiAgICAgICAgdGhpcy5wYXJhbXMudXNlcm5hbWUgPSB1c2VybmFtZV9zdHJpbmc7XG4gICAgICAgIHRoaXMucGFyYW1zLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIGlmICghdGhpcy5wYXJhbXMudXNlX3dlYnNvY2tldCkge1xuICAgICAgICAgICAgdGhpcy50bHNfY3R4X29wdGlvbnMuYWxwbl9saXN0ID0gW1wibXF0dFwiXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmFtcy5wb3J0ID0gNDQzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1c2VybmFtZSBmb3IgdGhlIGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1c2VybmFtZSB0aGUgdXNlcm5hbWUgdGhhdCB3aWxsIGJlIHBhc3NlZCB3aXRoIHRoZSBNUVRUIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICB3aXRoX3VzZXJuYW1lKHVzZXJuYW1lKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHBhc3N3b3JkIGZvciB0aGUgY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHBhc3N3b3JkIHRoZSBwYXNzd29yZCB0aGF0IHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIE1RVFQgY29ubmVjdGlvblxuICAgICAqL1xuICAgIHdpdGhfcGFzc3dvcmQocGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSB0aGUgbWF4IHJlY29ubmVjdGlvbiBwZXJpb2QgKGluIHNlY29uZCkuIFRoZSByZW9ubmVjdGlvbiBwZXJpb2Qgd2lsbFxuICAgICAqIGJlIHNldCBpbiByYW5nZSBvZiBbcmVjb25uZWN0X21pbl9zZWMscmVjb25uZWN0X21heF9zZWNdLlxuICAgICAqIEBwYXJhbSByZWNvbm5lY3RfbWF4X3NlYyBtYXggcmVjb25uZWN0aW9uIHBlcmlvZFxuICAgICAqL1xuICAgIHdpdGhfcmVjb25uZWN0X21heF9zZWMobWF4X3NlYykge1xuICAgICAgICB0aGlzLnBhcmFtcy5yZWNvbm5lY3RfbWF4X3NlYyA9IG1heF9zZWM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgdGhlIG1pbiByZWNvbm5lY3Rpb24gcGVyaW9kIChpbiBzZWNvbmQpLiBUaGUgcmVvbm5lY3Rpb24gcGVyaW9kIHdpbGxcbiAgICAgKiBiZSBzZXQgaW4gcmFuZ2Ugb2YgW3JlY29ubmVjdF9taW5fc2VjLHJlY29ubmVjdF9tYXhfc2VjXS5cbiAgICAgKiBAcGFyYW0gcmVjb25uZWN0X21pbl9zZWMgbWluIHJlY29ubmVjdGlvbiBwZXJpb2RcbiAgICAgKi9cbiAgICB3aXRoX3JlY29ubmVjdF9taW5fc2VjKG1pbl9zZWMpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMucmVjb25uZWN0X21pbl9zZWMgPSBtaW5fc2VjO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBNcXR0Q29ubmVjdGlvbkNvbmZpZy4gIE9uIHRoZSBmaXJzdCBpbnZvY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb24sIHRoZSBUTFMgY29udGV4dCBpcyBjYWNoZWRcbiAgICAgKiBhbmQgcmUtdXNlZCBvbiBhbGwgc3Vic2VxdWVudCBjYWxscyB0byBidWlsZCgpLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb25maWd1cmVkIE1xdHRDb25uZWN0aW9uQ29uZmlnXG4gICAgICovXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMuY2xpZW50X2lkID09PSB1bmRlZmluZWQgfHwgdGhpcy5wYXJhbXMuaG9zdF9uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93ICdjbGllbnRfaWQgYW5kIGVuZHBvaW50IGFyZSByZXF1aXJlZCc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGEgY3VzdG9tIGF1dGhvcml6ZXIgaXMgYmVpbmcgdXNlZCBidXQgbm90IHRocm91Z2ggdGhlIGJ1aWxkZXJcbiAgICAgICAgaWYgKHRoaXMuaXNfdXNpbmdfY3VzdG9tX2F1dGhvcml6ZXIgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChpb3Rfc2hhcmVkLmlzX3N0cmluZ19hbmRfbm90X2VtcHR5KHRoaXMucGFyYW1zLnVzZXJuYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5wYXJhbXMudXNlcm5hbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmRleE9mKFwieC1hbXotY3VzdG9tYXV0aG9yaXplci1uYW1lPVwiKSkgIT0gLTEgfHwgKChfYiA9IHRoaXMucGFyYW1zLnVzZXJuYW1lKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5kZXhPZihcIngtYW16LWN1c3RvbWF1dGhvcml6ZXItc2lnbmF0dXJlPVwiKSkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc191c2luZ19jdXN0b21fYXV0aG9yaXplciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElzIHRoZSB1c2VyIHRyeWluZyB0byBjb25uZWN0IHVzaW5nIGEgY3VzdG9tIGF1dGhvcml6ZXI/XG4gICAgICAgIGlmICh0aGlzLmlzX3VzaW5nX2N1c3RvbV9hdXRob3JpemVyID09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5wb3J0ICE9IDQ0Mykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV2FybmluZzogQXR0ZW1wdGluZyB0byBjb25uZWN0IHRvIGF1dGhvcml6ZXIgd2l0aCB1bnN1cHBvcnRlZCBwb3J0LiBQb3J0IGlzIG5vdCA0NDMuLi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogQnkgY2FjaGluZyBhbmQgcmV1c2luZyB0aGUgVExTIGNvbnRleHQgd2UgZ2V0IGFuIGVub3Jtb3VzIG1lbW9yeSBzYXZpbmdzIG9uIGEgcGVyLWNvbm5lY3Rpb24gYmFzaXMuXG4gICAgICAgICAqIFRoZSB0cmFkZW9mZiBpcyB0aGF0IHlvdSBjYW4ndCBtb2RpZnkgVExTIG9wdGlvbnMgaW4gYmV0d2VlbiBjYWxscyB0byBidWlsZC5cbiAgICAgICAgICogUHJldmlvdXNseSB3ZSB3ZXJlIG1ha2luZyBhIG5ldyBvbmUgd2l0aCBldmVyeSBzaW5nbGUgY29ubmVjdGlvbiB3aGljaCBoYWQgYSBodWdlIG5lZ2F0aXZlIGltcGFjdCBvbiBsYXJnZVxuICAgICAgICAgKiBzY2FsZSB0ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy50bHNfY3R4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLnRsc19jdHggPSBuZXcgaW8uQ2xpZW50VGxzQ29udGV4dCh0aGlzLnRsc19jdHhfb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRoZSBtZXRyaWNzIHN0cmluZ1xuICAgICAgICBpZiAoaW90X3NoYXJlZC5pc19zdHJpbmdfYW5kX25vdF9lbXB0eSh0aGlzLnBhcmFtcy51c2VybmFtZSkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLnVzZXJuYW1lID0gXCI/U0RLPU5vZGVKU3YyJlZlcnNpb249XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKChfYyA9IHRoaXMucGFyYW1zLnVzZXJuYW1lKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaW5kZXhPZihcIj9cIikpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMudXNlcm5hbWUgKz0gXCImU0RLPU5vZGVKU3YyJlZlcnNpb249XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy51c2VybmFtZSArPSBcIj9TREs9Tm9kZUpTdjImVmVyc2lvbj1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmFtcy51c2VybmFtZSArPSBwbGF0Zm9ybS5jcnRfdmVyc2lvbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXM7XG4gICAgfVxufVxuZXhwb3J0cy5Bd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIgPSBBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hd3NfaW90LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlciA9IHZvaWQgMDtcbi8qKlxuICogTW9kdWxlIGZvciB0aGUgY29uZmlndXJhdGlvbiBvZiBNUVRUNSBjbGllbnRzIHRvIGNvbm5lY3QgdG8gQVdTIElvVFxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5jb25zdCBtcXR0NSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9tcXR0NVwiKSk7XG5jb25zdCBpbyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9pb1wiKSk7XG5jb25zdCBhdXRoID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2F1dGhcIikpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgaW90X3NoYXJlZCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL2F3c19pb3Rfc2hhcmVkXCIpKTtcbmNvbnN0IG1xdHRfc2hhcmVkID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9jb21tb24vbXF0dF9zaGFyZWRcIikpO1xuLyoqXG4gKiBCdWlsZGVyIHBhdHRlcm4gY2xhc3MgdG8gY3JlYXRlIGFuIHtAbGluayBNcXR0NUNsaWVudENvbmZpZ30gd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGVcbiAqIGFuIHtAbGluayBNcXR0NUNsaWVudH0sIGNvbmZpZ3VyZWQgZm9yIHVzZSB3aXRoIEFXUyBJb1QuXG4gKlxuICogREVWRUxPUEVSIFBSRVZJRVcgRElTQ0xBSU1FUlxuICpcbiAqIE1RVFQ1IHN1cHBvcnQgaXMgY3VycmVudGx5IGluICoqZGV2ZWxvcGVyIHByZXZpZXcqKi4gIFdlIGVuY291cmFnZSBmZWVkYmFjayBhdCBhbGwgdGltZXMsIGJ1dCBmZWVkYmFjayBkdXJpbmcgdGhlXG4gKiBwcmV2aWV3IHdpbmRvdyBpcyBlc3BlY2lhbGx5IHZhbHVhYmxlIGluIHNoYXBpbmcgdGhlIGZpbmFsIHByb2R1Y3QuICBEdXJpbmcgdGhlIHByZXZpZXcgcGVyaW9kIHdlIG1heSBtYWtlXG4gKiBiYWNrd2FyZHMtaW5jb21wYXRpYmxlIGNoYW5nZXMgdG8gdGhlIHB1YmxpYyBBUEksIGJ1dCBpbiBnZW5lcmFsLCB0aGlzIGlzIHNvbWV0aGluZyB3ZSB3aWxsIHRyeSBvdXIgYmVzdCB0byBhdm9pZC5cbiAqXG4gKiBbTVFUVDUgQ2xpZW50IFVzZXIgR3VpZGVdKGh0dHBzOi8vd3d3LmdpdGh1Yi5jb20vYXdzbGFicy9hd3MtY3J0LW5vZGVqcy9ibG9iL21haW4vTVFUVDUtVXNlckd1aWRlLm1kKVxuICpcbiAqIEBjYXRlZ29yeSBJb1RcbiAqL1xuY2xhc3MgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0TmFtZSwgcG9ydCwgdGxzQ29udGV4dE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50bHNDb250ZXh0T3B0aW9ucyA9IHRsc0NvbnRleHRPcHRpb25zO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGhvc3ROYW1lOiBob3N0TmFtZSxcbiAgICAgICAgICAgIHBvcnQ6IHBvcnQsXG4gICAgICAgICAgICBjb25uZWN0UHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZUludGVydmFsU2Vjb25kczogbXF0dF9zaGFyZWQuREVGQVVMVF9LRUVQX0FMSVZFXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xPcHRpb25zOiBtcXR0NS5DbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbC5Bd3NJb3RDb3JlRGVmYXVsdHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyogQnVpbGRlcnMgZm9yIGRpZmZlcmVudCBjb25uZWN0aW9uIG1ldGhvZHMgdG8gQVdTIElvVCBDb3JlICovXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IE1RVFQ1IGNsaWVudCBidWlsZGVyIHRoYXQgd2lsbCBjcmVhdGUgTVFUVDUgY2xpZW50cyB0aGF0IGNvbm5lY3QgdG8gQVdTIElvVCBDb3JlIHZpYSBtdXR1YWwgVExTXG4gICAgICogdXNpbmcgWDUwOSBjZXJ0aWZpY2F0ZSBhbmQga2V5IGF0IHRoZSBzdXBwbGllZCBmaWxlIHBhdGhzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvc3ROYW1lIC0gQVdTIElvVCBlbmRwb2ludCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIGNlcnRQYXRoIC0gUGF0aCB0byBjZXJ0aWZpY2F0ZSwgaW4gUEVNIGZvcm1hdFxuICAgICAqIEBwYXJhbSBrZXlQYXRoIC0gUGF0aCB0byBwcml2YXRlIGtleSwgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdEaXJlY3RNcXR0QnVpbGRlcldpdGhNdGxzRnJvbVBhdGgoaG9zdE5hbWUsIGNlcnRQYXRoLCBrZXlQYXRoKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcihob3N0TmFtZSwgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfRElSRUNUX01RVFRfUE9SVCwgaW8uVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfZnJvbV9wYXRoKGNlcnRQYXRoLCBrZXlQYXRoKSk7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc0NvbnRleHRPcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTVFUVDUgY2xpZW50IGJ1aWxkZXIgdGhhdCB3aWxsIGNyZWF0ZSBNUVRUNSBjbGllbnRzIHRoYXQgY29ubmVjdCB0byBBV1MgSW9UIENvcmUgdmlhIG11dHVhbCBUTFNcbiAgICAgKiB1c2luZyBpbi1tZW1vcnkgWDUwOSBjZXJ0aWZpY2F0ZSBhbmQga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvc3ROYW1lIC0gQVdTIElvVCBlbmRwb2ludCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIGNlcnQgLSBDZXJ0aWZpY2F0ZSwgaW4gUEVNIGZvcm1hdFxuICAgICAqIEBwYXJhbSBwcml2YXRlS2V5IC0gUHJpdmF0ZSBrZXksIGluIFBFTSBmb3JtYXRcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGlyZWN0TXF0dEJ1aWxkZXJXaXRoTXRsc0Zyb21NZW1vcnkoaG9zdE5hbWUsIGNlcnQsIHByaXZhdGVLZXkpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9ESVJFQ1RfTVFUVF9QT1JULCBpby5UbHNDb250ZXh0T3B0aW9ucy5jcmVhdGVfY2xpZW50X3dpdGhfbXRscyhjZXJ0LCBwcml2YXRlS2V5KSk7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc0NvbnRleHRPcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTVFUVDUgY2xpZW50IGJ1aWxkZXIgdGhhdCB3aWxsIGNyZWF0ZSBNUVRUNSBjbGllbnRzIHRoYXQgY29ubmVjdCB0byBBV1MgSW9UIENvcmUgdmlhIG11dHVhbCBUTFNcbiAgICAgKiB1c2luZyBhIFBLQ1MxMSBsaWJyYXJ5IGZvciBjZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXkgb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIFVuaXggZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBwa2NzMTFPcHRpb25zIC0gUEtDUyMxMSBvcHRpb25zLlxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdEaXJlY3RNcXR0QnVpbGRlcldpdGhNdGxzRnJvbVBrY3MxMShob3N0TmFtZSwgcGtjczExT3B0aW9ucykge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIoaG9zdE5hbWUsIEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlci5ERUZBVUxUX0RJUkVDVF9NUVRUX1BPUlQsIGlvLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3BrY3MxMShwa2NzMTFPcHRpb25zKSk7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc0NvbnRleHRPcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTVFUVDUgY2xpZW50IGJ1aWxkZXIgdGhhdCB3aWxsIGNyZWF0ZSBNUVRUNSBjbGllbnRzIHRoYXQgY29ubmVjdCB0byBBV1MgSW9UIENvcmUgdmlhIG11dHVhbCBUTFNcbiAgICAgKiB1c2luZyBhIFBLQ1MxMiBmaWxlLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBjb25maWd1cmF0aW9uIG9ubHkgd29ya3Mgb24gTWFjT1MgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBwa2NzMTJfb3B0aW9ucyAtIFRoZSBQS0NTIzEyIG9wdGlvbnMgdG8gdXNlIGluIHRoZSBidWlsZGVyLlxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdEaXJlY3RNcXR0QnVpbGRlcldpdGhNdGxzRnJvbVBrY3MxMihob3N0TmFtZSwgcGtjczEyX29wdGlvbnMpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9ESVJFQ1RfTVFUVF9QT1JULCBpby5UbHNDb250ZXh0T3B0aW9ucy5jcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTJfZnJvbV9wYXRoKHBrY3MxMl9vcHRpb25zLnBrY3MxMl9maWxlLCBwa2NzMTJfb3B0aW9ucy5wa2NzMTJfcGFzc3dvcmQpKTtcbiAgICAgICAgaWYgKGlvLmlzX2FscG5fYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIudGxzQ29udGV4dE9wdGlvbnMuYWxwbl9saXN0LnVuc2hpZnQoJ3gtYW16bi1tcXR0LWNhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNUVRUNSBjbGllbnQgYnVpbGRlciB0aGF0IHdpbGwgY3JlYXRlIE1RVFQ1IGNsaWVudHMgdGhhdCBjb25uZWN0IHRvIEFXUyBJb1QgQ29yZSB2aWEgbXV0dWFsIFRMU1xuICAgICAqIHVzaW5nIGEgY2VydGlmaWNhdGUgZW50cnkgaW4gYSBXaW5kb3dzIGNlcnRpZmljYXRlIHN0b3JlLlxuICAgICAqXG4gICAgICogTk9URTogVGhpcyBjb25maWd1cmF0aW9uIG9ubHkgd29ya3Mgb24gV2luZG93cyBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvc3ROYW1lIC0gQVdTIElvVCBlbmRwb2ludCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlUGF0aCAtIFBhdGggdG8gY2VydGlmaWNhdGUgaW4gYSBXaW5kb3dzIGNlcnRpZmljYXRlIHN0b3JlLlxuICAgICAqICAgICAgVGhlIHBhdGggbXVzdCB1c2UgYmFja3NsYXNoZXMgYW5kIGVuZCB3aXRoIHRoZSBjZXJ0aWZpY2F0ZSdzIHRodW1icHJpbnQuXG4gICAgICogICAgICBFeGFtcGxlOiBgQ3VycmVudFVzZXJcXE1ZXFxBMTFGOEE5QjVERjVCOThCQTM1MDhGQkNBNTc1RDA5NTcwRTBEMkM2YFxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdEaXJlY3RNcXR0QnVpbGRlcldpdGhNdGxzRnJvbVdpbmRvd3NDZXJ0U3RvcmVQYXRoKGhvc3ROYW1lLCBjZXJ0aWZpY2F0ZVBhdGgpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9ESVJFQ1RfTVFUVF9QT1JULCBpby5UbHNDb250ZXh0T3B0aW9ucy5jcmVhdGVfY2xpZW50X3dpdGhfbXRsc193aW5kb3dzX2NlcnRfc3RvcmVfcGF0aChjZXJ0aWZpY2F0ZVBhdGgpKTtcbiAgICAgICAgaWYgKGlvLmlzX2FscG5fYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIudGxzQ29udGV4dE9wdGlvbnMuYWxwbl9saXN0LnVuc2hpZnQoJ3gtYW16bi1tcXR0LWNhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNUVRUNSBjbGllbnQgYnVpbGRlciB0aGF0IHdpbGwgY3JlYXRlIE1RVFQ1IGNsaWVudHMgdGhhdCBjb25uZWN0IHRvIEFXUyBJb1QgQ29yZSB2aWEgVExTLFxuICAgICAqIGF1dGhlbnRpY2F0aW5nIHZpYSBhIGN1c3RvbSBhdXRoZW50aWNhdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvc3ROYW1lIC0gQVdTIElvVCBlbmRwb2ludCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIGN1c3RvbUF1dGhDb25maWcgLSBBV1MgSW9UIGN1c3RvbSBhdXRoIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGlyZWN0TXF0dEJ1aWxkZXJXaXRoQ3VzdG9tQXV0aChob3N0TmFtZSwgY3VzdG9tQXV0aENvbmZpZykge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIoaG9zdE5hbWUsIEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlci5ERUZBVUxUX1dFQlNPQ0tFVF9NUVRUX1BPUlQsIG5ldyBpby5UbHNDb250ZXh0T3B0aW9ucygpKTtcbiAgICAgICAgYnVpbGRlci5jdXN0b21BdXRoQ29uZmlnID0gY3VzdG9tQXV0aENvbmZpZztcbiAgICAgICAgYnVpbGRlci50bHNDb250ZXh0T3B0aW9ucy5hbHBuX2xpc3QgPSBbXCJtcXR0XCJdO1xuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IE1RVFQ1IGNsaWVudCBidWlsZGVyIHRoYXQgd2lsbCBjcmVhdGUgTVFUVDUgY2xpZW50cyB0aGF0IGNvbm5lY3QgdG8gQVdTIElvVCBDb3JlIHZpYSB3ZWJzb2NrZXRzLFxuICAgICAqIHVzaW5nIEFXUyBTaWd2NCBzaWduaW5nIHRvIGVzdGFibGlzaCBhdXRoZW50aWNhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9zdE5hbWUgLSBBV1MgSW9UIGVuZHBvaW50IHRvIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFkZGl0aW9uYWwgc2lndjQtb3JpZW50ZWQgb3B0aW9ucyB0byB1c2VcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3V2Vic29ja2V0TXF0dEJ1aWxkZXJXaXRoU2lndjRBdXRoKGhvc3ROYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCB0bHNDb250ZXh0T3B0aW9ucyA9IG5ldyBpby5UbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICB0bHNDb250ZXh0T3B0aW9ucy5hbHBuX2xpc3QgPSBbXTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9XRUJTT0NLRVRfTVFUVF9QT1JULCB0bHNDb250ZXh0T3B0aW9ucyk7XG4gICAgICAgIGxldCBjcmVkZW50aWFsc1Byb3ZpZGVyID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNyZWRlbnRpYWxzUHJvdmlkZXI7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHNQcm92aWRlcikge1xuICAgICAgICAgICAgY3JlZGVudGlhbHNQcm92aWRlciA9IGF1dGguQXdzQ3JlZGVudGlhbHNQcm92aWRlci5uZXdEZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGRlci5jb25maWcud2Vic29ja2V0SGFuZHNoYWtlVHJhbnNmb3JtID0gKHJlcXVlc3QsIGRvbmUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmluZ0NvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWxnb3JpdGhtOiBhdXRoLkF3c1NpZ25pbmdBbGdvcml0aG0uU2lnVjQsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZV90eXBlOiBhdXRoLkF3c1NpZ25hdHVyZVR5cGUuSHR0cFJlcXVlc3RWaWFRdWVyeVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IGNyZWRlbnRpYWxzUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlZ2lvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogaW90X3NoYXJlZC5leHRyYWN0UmVnaW9uRnJvbUVuZHBvaW50KGhvc3ROYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZTogXCJpb3RkZXZpY2VnYXRld2F5XCIsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZF9ib2R5X3ZhbHVlOiBhdXRoLkF3c1NpZ25lZEJvZHlWYWx1ZS5FbXB0eVNoYTI1NixcbiAgICAgICAgICAgICAgICAgICAgb21pdF9zZXNzaW9uX3Rva2VuOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgeWllbGQgYXV0aC5hd3Nfc2lnbl9yZXF1ZXN0KHJlcXVlc3QsIHNpZ25pbmdDb25maWcpO1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIGVycm9yXzEuQ3J0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZShlcnJvci5lcnJvcl9jb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoMyk7IC8qIFRPRE86IEFXU19FUlJPUl9VTktOT1dOICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNUVRUNSBjbGllbnQgYnVpbGRlciB0aGF0IHdpbGwgY3JlYXRlIE1RVFQ1IGNsaWVudHMgdGhhdCBjb25uZWN0IHRvIEFXUyBJb1QgQ29yZSB2aWEgd2Vic29ja2V0cyxcbiAgICAgKiBhdXRoZW50aWNhdGluZyB2aWEgYSBjdXN0b20gYXV0aGVudGljYXRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBjdXN0b21BdXRoQ29uZmlnIC0gQVdTIElvVCBjdXN0b20gYXV0aCBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIG5ld1dlYnNvY2tldE1xdHRCdWlsZGVyV2l0aEN1c3RvbUF1dGgoaG9zdE5hbWUsIGN1c3RvbUF1dGhDb25maWcpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9XRUJTT0NLRVRfTVFUVF9QT1JULCBuZXcgaW8uVGxzQ29udGV4dE9wdGlvbnMoKSk7XG4gICAgICAgIGJ1aWxkZXIuY3VzdG9tQXV0aENvbmZpZyA9IGN1c3RvbUF1dGhDb25maWc7XG4gICAgICAgIGJ1aWxkZXIuY29uZmlnLndlYnNvY2tldEhhbmRzaGFrZVRyYW5zZm9ybSA9IChyZXF1ZXN0LCBkb25lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBkb25lKDApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qIEluc3RhbmNlIE1ldGhvZHMgZm9yIHZhcmlvdXMgY29uZmlnIG92ZXJyaWRlcyAqL1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBzeXN0ZW0gdHJ1c3Qgc3RvcmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FEaXJwYXRoIC0gT25seSB1c2VkIG9uIFVuaXgtc3R5bGUgc3lzdGVtcyB3aGVyZSBhbGwgdHJ1c3QgYW5jaG9ycyBhcmVcbiAgICAgKiBzdG9yZWQgaW4gYSBkaXJlY3RvcnkgKGUuZy4gL2V0Yy9zc2wvY2VydHMpLlxuICAgICAqIEBwYXJhbSBjYUZpbGVwYXRoIC0gU2luZ2xlIGZpbGUgY29udGFpbmluZyBhbGwgdHJ1c3QgQ0FzLCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgd2l0aENlcnRpZmljYXRlQXV0aG9yaXR5RnJvbVBhdGgoY2FEaXJwYXRoLCBjYUZpbGVwYXRoKSB7XG4gICAgICAgIHRoaXMudGxzQ29udGV4dE9wdGlvbnMub3ZlcnJpZGVfZGVmYXVsdF90cnVzdF9zdG9yZV9mcm9tX3BhdGgoY2FEaXJwYXRoLCBjYUZpbGVwYXRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBzeXN0ZW0gdHJ1c3Qgc3RvcmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2EgLSBCdWZmZXIgY29udGFpbmluZyBhbGwgdHJ1c3QgQ0FzLCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgd2l0aENlcnRpZmljYXRlQXV0aG9yaXR5KGNhKSB7XG4gICAgICAgIHRoaXMudGxzQ29udGV4dE9wdGlvbnMub3ZlcnJpZGVfZGVmYXVsdF90cnVzdF9zdG9yZShjYSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIElvVCBlbmRwb2ludCBwb3J0IHRvIGNvbm5lY3QgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9ydCBUaGUgSW9UIGVuZHBvaW50IHBvcnQgdG8gY29ubmVjdCB0by4gVXN1YWxseSA4ODgzIGZvciBNUVRULCBvciA0NDMgZm9yIHdlYnNvY2tldHNcbiAgICAgKi9cbiAgICB3aXRoUG9ydChwb3J0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnBvcnQgPSBwb3J0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGFsbCBjb25maWd1cmFibGUgb3B0aW9ucyB3aXRoIHJlc3BlY3QgdG8gdGhlIENPTk5FQ1QgcGFja2V0IHNlbnQgYnkgdGhlIGNsaWVudCwgaW5jbHVkaW5nIHRoZSB3aWxsLlxuICAgICAqIFRoZXNlIGNvbm5lY3QgcHJvcGVydGllcyB3aWxsIGJlIHVzZWQgZm9yIGV2ZXJ5IGNvbm5lY3Rpb24gYXR0ZW1wdCBtYWRlIGJ5IHRoZSBjbGllbnQuICBDdXN0b20gYXV0aGVudGljYXRpb25cbiAgICAgKiBjb25maWd1cmF0aW9uIHdpbGwgb3ZlcnJpZGUgdGhlIHVzZXJuYW1lIGFuZCBwYXNzd29yZCB2YWx1ZXMgaW4gdGhpcyBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbm5lY3RQYWNrZXQgYWxsIGNvbmZpZ3VyYWJsZSBvcHRpb25zIHdpdGggcmVzcGVjdCB0byB0aGUgQ09OTkVDVCBwYWNrZXQgc2VudCBieSB0aGUgY2xpZW50XG4gICAgICovXG4gICAgd2l0aENvbm5lY3RQcm9wZXJ0aWVzKGNvbm5lY3RQYWNrZXQpIHtcbiAgICAgICAgdGhpcy5jb25maWcuY29ubmVjdFByb3BlcnRpZXMgPSBjb25uZWN0UGFja2V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGhvdyB0aGUgTVFUVDUgY2xpZW50IHNob3VsZCBiZWhhdmUgd2l0aCByZXNwZWN0IHRvIE1RVFQgc2Vzc2lvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2Vzc2lvbkJlaGF2aW9yIGhvdyB0aGUgTVFUVDUgY2xpZW50IHNob3VsZCBiZWhhdmUgd2l0aCByZXNwZWN0IHRvIE1RVFQgc2Vzc2lvbnMuXG4gICAgICovXG4gICAgd2l0aFNlc3Npb25CZWhhdmlvcihzZXNzaW9uQmVoYXZpb3IpIHtcbiAgICAgICAgdGhpcy5jb25maWcuc2Vzc2lvbkJlaGF2aW9yID0gc2Vzc2lvbkJlaGF2aW9yO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGhvdyB0aGUgcmVjb25uZWN0IGRlbGF5IGlzIG1vZGlmaWVkIGluIG9yZGVyIHRvIHNtb290aCBvdXQgdGhlIGRpc3RyaWJ1dGlvbiBvZiByZWNvbm5lY3Rpb24gYXR0ZW1wdFxuICAgICAqIHRpbWVwb2ludHMgZm9yIGEgbGFyZ2Ugc2V0IG9mIHJlY29ubmVjdGluZyBjbGllbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJldHJ5Sml0dGVyTW9kZSBjb250cm9scyBob3cgdGhlIHJlY29ubmVjdCBkZWxheSBpcyBtb2RpZmllZCBpbiBvcmRlciB0byBzbW9vdGggb3V0IHRoZSBkaXN0cmlidXRpb24gb2ZcbiAgICAgKiBlY29ubmVjdGlvbiBhdHRlbXB0IHRpbWVwb2ludHMgZm9yIGEgbGFyZ2Ugc2V0IG9mIHJlY29ubmVjdGluZyBjbGllbnRzLlxuICAgICAqL1xuICAgIHdpdGhSZXRyeUppdHRlck1vZGUocmV0cnlKaXR0ZXJNb2RlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnJldHJ5Sml0dGVyTW9kZSA9IHJldHJ5Sml0dGVyTW9kZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgdGltZSB0byB3YWl0IHRvIHJlY29ubmVjdCBhZnRlciBhIGRpc2Nvbm5lY3QuICBFeHBvbmVudGlhbCBiYWNrb2ZmIGlzIHBlcmZvcm1lZFxuICAgICAqIHdpdGggY29udHJvbGxhYmxlIGppdHRlciBhZnRlciBlYWNoIGNvbm5lY3Rpb24gZmFpbHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaW5SZWNvbm5lY3REZWxheU1zIG1pbmltdW0gYW1vdW50IG9mIHRpbWUgdG8gd2FpdCB0byByZWNvbm5lY3QgYWZ0ZXIgYSBkaXNjb25uZWN0LlxuICAgICAqL1xuICAgIHdpdGhNaW5SZWNvbm5lY3REZWxheU1zKG1pblJlY29ubmVjdERlbGF5TXMpIHtcbiAgICAgICAgdGhpcy5jb25maWcubWluUmVjb25uZWN0RGVsYXlNcyA9IG1pblJlY29ubmVjdERlbGF5TXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdG8gd2FpdCB0byByZWNvbm5lY3QgYWZ0ZXIgYSBkaXNjb25uZWN0LiAgRXhwb25lbnRpYWwgYmFja29mZiBpcyBwZXJmb3JtZWRcbiAgICAgKiB3aXRoIGNvbnRyb2xsYWJsZSBqaXR0ZXIgYWZ0ZXIgZWFjaCBjb25uZWN0aW9uIGZhaWx1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWF4UmVjb25uZWN0RGVsYXlNcyBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgdG8gcmVjb25uZWN0IGFmdGVyIGEgZGlzY29ubmVjdC5cbiAgICAgKi9cbiAgICB3aXRoTWF4UmVjb25uZWN0RGVsYXlNcyhtYXhSZWNvbm5lY3REZWxheU1zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm1heFJlY29ubmVjdERlbGF5TXMgPSBtYXhSZWNvbm5lY3REZWxheU1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IG11c3QgZWxhcHNlIHdpdGggYW4gZXN0YWJsaXNoZWQgY29ubmVjdGlvbiBiZWZvcmUgdGhlIHJlY29ubmVjdCBkZWxheSBpc1xuICAgICAqIHJlc2V0IHRvIHRoZSBtaW5pbXVtLiAgVGhpcyBoZWxwcyBhbGxldmlhdGUgYmFuZHdpZHRoLXdhc3RlIGluIGZhc3QgcmVjb25uZWN0IGN5Y2xlcyBkdWUgdG8gcGVybWlzc2lvblxuICAgICAqIGZhaWx1cmVzIG9uIG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWluQ29ubmVjdGVkVGltZVRvUmVzZXRSZWNvbm5lY3REZWxheU1zIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IG11c3QgZWxhcHNlIHdpdGggYW4gZXN0YWJsaXNoZWRcbiAgICAgKiBjb25uZWN0aW9uIGJlZm9yZSB0aGUgcmVjb25uZWN0IGRlbGF5IGlzIHJlc2V0IHRvIHRoZSBtaW5pbXVtXG4gICAgICovXG4gICAgd2l0aE1pbkNvbm5lY3RlZFRpbWVUb1Jlc2V0UmVjb25uZWN0RGVsYXlNcyhtaW5Db25uZWN0ZWRUaW1lVG9SZXNldFJlY29ubmVjdERlbGF5TXMpIHtcbiAgICAgICAgdGhpcy5jb25maWcubWluQ29ubmVjdGVkVGltZVRvUmVzZXRSZWNvbm5lY3REZWxheU1zID0gbWluQ29ubmVjdGVkVGltZVRvUmVzZXRSZWNvbm5lY3REZWxheU1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSB0aW1lIGludGVydmFsIHRvIHdhaXQgYWZ0ZXIgc2VuZGluZyBhIENPTk5FQ1QgcmVxdWVzdCBmb3IgYSBDT05OQUNLIHRvIGFycml2ZS4gIElmIG9uZSBkb2VzIG5vdFxuICAgICAqIGFycml2ZSwgdGhlIGNvbm5lY3Rpb24gd2lsbCBiZSBzaHV0IGRvd24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29ubmFja1RpbWVvdXRNcyB0aW1lIGludGVydmFsIHRvIHdhaXQgYWZ0ZXIgc2VuZGluZyBhIENPTk5FQ1QgcmVxdWVzdCBmb3IgYSBDT05OQUNLIHRvIGFycml2ZVxuICAgICAqL1xuICAgIHdpdGhDb25uYWNrVGltZW91dE1zKGNvbm5hY2tUaW1lb3V0TXMpIHtcbiAgICAgICAgdGhpcy5jb25maWcuY29ubmFja1RpbWVvdXRNcyA9IGNvbm5hY2tUaW1lb3V0TXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgaG93IGRpc2Nvbm5lY3RzIGFmZmVjdCB0aGUgcXVldWVkIGFuZCBpbi1wcm9ncmVzcyBvcGVyYXRpb25zIHRyYWNrZWQgYnkgdGhlIGNsaWVudC4gIEFsc28gY29udHJvbHNcbiAgICAgKiBob3cgbmV3IG9wZXJhdGlvbnMgYXJlIGhhbmRsZWQgd2hpbGUgdGhlIGNsaWVudCBpcyBub3QgY29ubmVjdGVkLiAgSW4gcGFydGljdWxhciwgaWYgdGhlIGNsaWVudCBpcyBub3QgY29ubmVjdGVkLFxuICAgICAqIHRoZW4gYW55IG9wZXJhdGlvbiB0aGF0IHdvdWxkIGJlIGZhaWxlZCBvbiBkaXNjb25uZWN0IChhY2NvcmRpbmcgdG8gdGhlc2UgcnVsZXMpIHdpbGwgYWxzbyBiZSByZWplY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvZmZsaW5lUXVldWVCZWhhdmlvciBob3cgZGlzY29ubmVjdHMgYWZmZWN0IHRoZSBxdWV1ZWQgYW5kIGluLXByb2dyZXNzIG9wZXJhdGlvbnMgdHJhY2tlZCBieSB0aGUgY2xpZW50XG4gICAgICpcbiAgICAgKiBAZ3JvdXAgTm9kZS1vbmx5XG4gICAgICovXG4gICAgd2l0aE9mZmxpbmVRdWV1ZUJlaGF2aW9yKG9mZmxpbmVRdWV1ZUJlaGF2aW9yKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm9mZmxpbmVRdWV1ZUJlaGF2aW9yID0gb2ZmbGluZVF1ZXVlQmVoYXZpb3I7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIHRpbWUgaW50ZXJ2YWwgdG8gd2FpdCBhZnRlciBzZW5kaW5nIGEgUElOR1JFUSBmb3IgYSBQSU5HUkVTUCB0byBhcnJpdmUuICBJZiBvbmUgZG9lcyBub3QgYXJyaXZlLFxuICAgICAqIHRoZSBjbGllbnQgd2lsbCBjbG9zZSB0aGUgY3VycmVudCBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBpbmdUaW1lb3V0TXMgdGltZSBpbnRlcnZhbCB0byB3YWl0IGFmdGVyIHNlbmRpbmcgYSBQSU5HUkVRIGZvciBhIFBJTkdSRVNQIHRvIGFycml2ZVxuICAgICAqXG4gICAgICogQGdyb3VwIE5vZGUtb25seVxuICAgICAqL1xuICAgIHdpdGhQaW5nVGltZW91dE1zKHBpbmdUaW1lb3V0TXMpIHtcbiAgICAgICAgdGhpcy5jb25maWcucGluZ1RpbWVvdXRNcyA9IHBpbmdUaW1lb3V0TXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIHRpbWUgaW50ZXJ2YWwgdG8gd2FpdCBmb3IgYW4gYWNrIGFmdGVyIHNlbmRpbmcgYSBRb1MgMSsgUFVCTElTSCwgU1VCU0NSSUJFLCBvciBVTlNVQlNDUklCRSBiZWZvcmVcbiAgICAgKiBmYWlsaW5nIHRoZSBvcGVyYXRpb24uICBEZWZhdWx0cyB0byBubyB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGFja1RpbWVvdXRTZWNvbmRzIHRoZSB0aW1lIGludGVydmFsIHRvIHdhaXQgZm9yIGFuIGFjayBhZnRlciBzZW5kaW5nIGEgUW9TIDErIFBVQkxJU0gsIFNVQlNDUklCRSxcbiAgICAgKiBvciBVTlNVQlNDUklCRSBiZWZvcmUgZmFpbGluZyB0aGUgb3BlcmF0aW9uXG4gICAgICpcbiAgICAgKiBAZ3JvdXAgTm9kZS1vbmx5XG4gICAgICovXG4gICAgd2l0aEFja1RpbWVvdXRTZWNvbmRzKGFja1RpbWVvdXRTZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmFja1RpbWVvdXRTZWNvbmRzID0gYWNrVGltZW91dFNlY29uZHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIHNvY2tldCBwcm9wZXJ0aWVzIG9mIHRoZSB1bmRlcmx5aW5nIE1RVFQgY29ubmVjdGlvbnMgbWFkZSBieSB0aGUgY2xpZW50LiAgTGVhdmUgdW5kZWZpbmVkIHRvIHVzZVxuICAgICAqIGRlZmF1bHRzIChubyBUQ1Aga2VlcCBhbGl2ZSwgMTAgc2Vjb25kIHNvY2tldCB0aW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRPcHRpb25zIHNvY2tldCBwcm9wZXJ0aWVzIG9mIHRoZSB1bmRlcmx5aW5nIE1RVFQgY29ubmVjdGlvbnMgbWFkZSBieSB0aGUgY2xpZW50XG4gICAgICpcbiAgICAgKiBAZ3JvdXAgTm9kZS1vbmx5XG4gICAgICovXG4gICAgd2l0aFNvY2tldE9wdGlvbnMoc29ja2V0T3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbmZpZy5zb2NrZXRPcHRpb25zID0gc29ja2V0T3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyAodHVubmVsaW5nKSBIVFRQIHByb3h5IHVzYWdlIHdoZW4gZXN0YWJsaXNoaW5nIE1RVFQgY29ubmVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHR0cFByb3h5T3B0aW9ucyBIVFRQIHByb3h5IG9wdGlvbnMgdG8gdXNlIHdoZW4gZXN0YWJsaXNoaW5nIE1RVFQgY29ubmVjdGlvbnNcbiAgICAgKlxuICAgICAqIEBncm91cCBOb2RlLW9ubHlcbiAgICAgKi9cbiAgICB3aXRoSHR0cFByb3h5T3B0aW9ucyhodHRwUHJveHlPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmh0dHBQcm94eU9wdGlvbnMgPSBodHRwUHJveHlPcHRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGFkZGl0aW9uYWwgY29udHJvbHMgZm9yIGNsaWVudCBiZWhhdmlvciB3aXRoIHJlc3BlY3QgdG8gb3BlcmF0aW9uIHZhbGlkYXRpb24gYW5kIGZsb3cgY29udHJvbDsgdGhlc2VcbiAgICAgKiBjaGVja3MgZ28gYmV5b25kIHRoZSBiYXNlIE1RVFQ1IHNwZWMgdG8gcmVzcGVjdCBsaW1pdHMgb2Ygc3BlY2lmaWMgTVFUVCBicm9rZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sT3B0aW9ucyBhZGRpdGlvbmFsIGNvbnRyb2xzIGZvciBjbGllbnQgYmVoYXZpb3Igd2l0aCByZXNwZWN0IHRvIG9wZXJhdGlvblxuICAgICAqIHZhbGlkYXRpb24gYW5kIGZsb3cgY29udHJvbFxuICAgICAqXG4gICAgICogQGdyb3VwIE5vZGUtb25seVxuICAgICAqL1xuICAgIHdpdGhFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbE9wdGlvbnMoZXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sT3B0aW9ucyA9IGV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sT3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgYW4gTVFUVDUgQ2xpZW50IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBjcmVhdGluZyBtcXR0NSBjbGllbnRzLlxuICAgICAqL1xuICAgIGJ1aWxkKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5jb25maWcudGxzQ3R4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnRsc0N0eCA9IG5ldyBpby5DbGllbnRUbHNDb250ZXh0KHRoaXMudGxzQ29udGV4dE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgaXMgYWx3YXlzIHNldCBieSB0aGUgY29uc3RydWN0b3IsIGJ1dCBjaGVjayBpdCB0byBtYWtlIHR5cGVzY3JpcHQgaGFwcHlcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNvbm5lY3RQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5jb25uZWN0UHJvcGVydGllcy51c2VybmFtZSA9IGlvdF9zaGFyZWQuYnVpbGRNcXR0NUZpbmFsVXNlcm5hbWUodGhpcy5jdXN0b21BdXRoQ29uZmlnKTtcbiAgICAgICAgICAgIGlmICgoX2EgPSB0aGlzLmN1c3RvbUF1dGhDb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXNzd29yZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNvbm5lY3RQcm9wZXJ0aWVzLnBhc3N3b3JkID0gKF9iID0gdGhpcy5jdXN0b21BdXRoQ29uZmlnKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGFzc3dvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICAgIH1cbn1cbmV4cG9ydHMuQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyID0gQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyO1xuQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfV0VCU09DS0VUX01RVFRfUE9SVCA9IDQ0MztcbkF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlci5ERUZBVUxUX0RJUkVDVF9NUVRUX1BPUlQgPSA4ODgzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXdzX2lvdF9tcXR0NS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBhdGggPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInBhdGhcIikpO1xuY29uc3Qgb3NfMSA9IHJlcXVpcmUoXCJvc1wiKTtcbmNvbnN0IGZzXzEgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwcm9jZXNzXzEgPSByZXF1aXJlKFwicHJvY2Vzc1wiKTtcbmNvbnN0IHVwZ3JhZGVfc3RyaW5nID0gXCJQbGVhc2UgdXBncmFkZSB0byBub2RlID49MTAuMTYuMCwgb3IgdXNlIHRoZSBwcm92aWRlZCBicm93c2VyIGltcGxlbWVudGF0aW9uLlwiO1xuaWYgKCduYXBpJyBpbiBwcm9jZXNzXzEudmVyc2lvbnMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgbmFwaV92ZXJzaW9uID0gcGFyc2VJbnQocHJvY2Vzc18xLnZlcnNpb25zWyduYXBpJ10pO1xuICAgIGlmIChuYXBpX3ZlcnNpb24gPCA0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBBV1MgQ1JUIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiByZXF1aXJlcyB0aGF0IE5BUEkgdmVyc2lvbiA0IGJlIHByZXNlbnQuIFwiICsgdXBncmFkZV9zdHJpbmcpO1xuICAgIH1cbn1cbmVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjdXJyZW50IHJ1bnRpbWUgaXMgbm90IHJlcG9ydGluZyBhbiBOQVBJIHZlcnNpb24uIFwiICsgdXBncmFkZV9zdHJpbmcpO1xufVxuY29uc3QgYmluYXJ5X25hbWUgPSAnYXdzLWNydC1ub2RlanMnO1xuY29uc3QgcGxhdGZvcm1EaXIgPSBgJHtvc18xLnBsYXRmb3JtfS0ke29zXzEuYXJjaH1gO1xubGV0IHNvdXJjZV9yb290ID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uJywgJy4uJyk7XG5jb25zdCBkaXN0ID0gcGF0aC5qb2luKHNvdXJjZV9yb290LCAnZGlzdCcpO1xuaWYgKCgwLCBmc18xLmV4aXN0c1N5bmMpKGRpc3QpKSB7XG4gICAgc291cmNlX3Jvb3QgPSBkaXN0O1xufVxuY29uc3QgYmluX3BhdGggPSBwYXRoLnJlc29sdmUoc291cmNlX3Jvb3QsICdiaW4nKTtcbmNvbnN0IHNlYXJjaF9wYXRocyA9IFtcbiAgICBwYXRoLmpvaW4oYmluX3BhdGgsIHBsYXRmb3JtRGlyLCBiaW5hcnlfbmFtZSksXG5dO1xubGV0IGJpbmRpbmc7XG5mb3IgKGNvbnN0IHBhdGggb2Ygc2VhcmNoX3BhdGhzKSB7XG4gICAgaWYgKCgwLCBmc18xLmV4aXN0c1N5bmMpKHBhdGggKyAnLm5vZGUnKSkge1xuICAgICAgICBiaW5kaW5nID0gcmVxdWlyZShwYXRoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuaWYgKGJpbmRpbmcgPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQVdTIENSVCBiaW5hcnkgbm90IHByZXNlbnQgaW4gYW55IG9mIHRoZSBmb2xsb3dpbmcgbG9jYXRpb25zOlxcblxcdFwiICsgc2VhcmNoX3BhdGhzLmpvaW4oJ1xcblxcdCcpKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGJpbmRpbmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kaW5nLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JjMzJjID0gZXhwb3J0cy5jcmMzMiA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgdmFyaW91cyBjaGVja3N1bSBpbXBsZW1lbnRhdGlvbnMgaW50ZW5kZWQgZm9yIHN0cmVhbWluZyBwYXlsb2Fkc1xuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBjaGVja3N1bXNcbiAqIEBtZXJnZVRhcmdldFxuICovXG5jb25zdCBiaW5kaW5nXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmluZGluZ1wiKSk7XG4vKipcbiAqIENvbXB1dGVzIGFuIGNyYzMyIGNoZWNrc3VtLlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNoZWNrc3VtXG4gKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgY3JjMzIgY2hlY2tzdW0gcmVzdWx0LiBVc2VkIGlmIHlvdSBhcmUgYnVmZmVyaW5nIGxhcmdlIGlucHV0LlxuICpcbiAqIEBjYXRlZ29yeSBDcnlwdG9cbiAqL1xuZnVuY3Rpb24gY3JjMzIoZGF0YSwgcHJldmlvdXMpIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuY2hlY2tzdW1zX2NyYzMyKGRhdGEsIHByZXZpb3VzKTtcbn1cbmV4cG9ydHMuY3JjMzIgPSBjcmMzMjtcbi8qKlxuICogQ29tcHV0ZXMgYSBjcmMzMmMgY2hlY2tzdW0uXG4gKlxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY2hlY2tzdW1cbiAqIEBwYXJhbSBwcmV2aW91cyBwcmV2aW91cyBjcmMzMmMgY2hlY2tzdW0gcmVzdWx0LiBVc2VkIGlmIHlvdSBhcmUgYnVmZmVyaW5nIGxhcmdlIGlucHV0LlxuICpcbiAqIEBjYXRlZ29yeSBDcnlwdG9cbiAqL1xuZnVuY3Rpb24gY3JjMzJjKGRhdGEsIHByZXZpb3VzKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0LmNoZWNrc3Vtc19jcmMzMmMoZGF0YSwgcHJldmlvdXMpO1xufVxuZXhwb3J0cy5jcmMzMmMgPSBjcmMzMmM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja3N1bXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5uYXRpdmVfbWVtb3J5X2R1bXAgPSBleHBvcnRzLm5hdGl2ZV9tZW1vcnkgPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIHNvbWUgbWlzY2VsbGFuZW91cyBjcnQgbmF0aXZlIG1lbW9yeSBxdWVyaWVzXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGNydFxuICogQG1lcmdlVGFyZ2V0XG4gKi9cbi8qKlxuICogTWVtb3J5IHJlcG9ydGluZyBpcyBjb250cm9sbGVkIGJ5IHRoZSBBV1NfQ1JUX01FTU9SWV9UUkFDSU5HIGVudmlyb25tZW50XG4gKiB2YXJpYWJsZS4gUG9zc2libGUgdmFsdWVzIGFyZTpcbiAqICogMCAtIE5vIHRyYWNpbmdcbiAqICogMSAtIFRyYWNrIGFjdGl2ZSBtZW1vcnkgdXNhZ2UuIEluY3VycyBhIHNtYWxsIHBlcmZvcm1hbmNlIHBlbmFsdHkuXG4gKiAqIDIgLSBUcmFjayBhY3RpdmUgbWVtb3J5IHVzYWdlLCBhbmQgYWxzbyB0cmFjayBjYWxsc3RhY2tzIGZvciBldmVyeSBhbGxvY2F0aW9uLlxuICogICBUaGlzIGluY3VycyBhIHBlcmZvcm1hbmNlIHBlbmFsdHksIGRlcGVuZGluZyBvbiB0aGUgY29zdCBvZiB0aGUgcGxhdGZvcm0nc1xuICogICBzdGFjayB1bndpbmRpbmcvYmFja3RyYWNlIEFQSS5cbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuLyoqXG4gKiBJZiB0aGUgYGBgQVdTX0NSVF9NRU1PUllfVFJBQ0lOR2BgYCBpcyBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBzZXQgdG8gMSBvciAyLFxuICogd2lsbCByZXR1cm4gdGhlIG5hdGl2ZSBtZW1vcnkgdXNhZ2UgaW4gYnl0ZXMuIE90aGVyd2lzZSwgcmV0dXJucyAwLlxuICogQHJldHVybnMgVGhlIHRvdGFsIGFsbG9jYXRlZCBuYXRpdmUgbWVtb3J5LCBpbiBieXRlcy5cbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZV9tZW1vcnkoKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0Lm5hdGl2ZV9tZW1vcnkoKTtcbn1cbmV4cG9ydHMubmF0aXZlX21lbW9yeSA9IG5hdGl2ZV9tZW1vcnk7XG4vKipcbiAqIER1bXBzIG91dHN0YW5kaW5nIG5hdGl2ZSBtZW1vcnkgYWxsb2NhdGlvbnMuIElmIHRoZSBgYGBBV1NfQ1JUX01FTU9SWV9UUkFDSU5HYGBgXG4gKiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBzZXQgdG8gMSBvciAyLCB3aWxsIGR1bXAgYWxsIGFjdGl2ZSBuYXRpdmUgbWVtb3J5IHRvXG4gKiB0aGUgY29uc29sZSBsb2cuXG4gKlxuICogQGNhdGVnb3J5IFN5c3RlbVxuICovXG5mdW5jdGlvbiBuYXRpdmVfbWVtb3J5X2R1bXAoKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0Lm5hdGl2ZV9tZW1vcnlfZHVtcCgpO1xufVxuZXhwb3J0cy5uYXRpdmVfbWVtb3J5X2R1bXAgPSBuYXRpdmVfbWVtb3J5X2R1bXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5obWFjX3NoYTI1NiA9IGV4cG9ydHMuU2hhMjU2SG1hYyA9IGV4cG9ydHMuaGFzaF9zaGExID0gZXhwb3J0cy5TaGExSGFzaCA9IGV4cG9ydHMuaGFzaF9zaGEyNTYgPSBleHBvcnRzLlNoYTI1Nkhhc2ggPSBleHBvcnRzLmhhc2hfbWQ1ID0gZXhwb3J0cy5NZDVIYXNoID0gdm9pZCAwO1xuLyoqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIHN1cHBvcnQgZm9yIGEgdmFyaWV0eSBvZiBjcnlwdG9ncmFwaGljIG9wZXJhdGlvbnMuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGNyeXB0b1xuICogQG1lcmdlVGFyZ2V0XG4gKi9cbmNvbnN0IGJpbmRpbmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iaW5kaW5nXCIpKTtcbmNvbnN0IG5hdGl2ZV9yZXNvdXJjZV8xID0gcmVxdWlyZShcIi4vbmF0aXZlX3Jlc291cmNlXCIpO1xuLyoqXG4gKiBPYmplY3QgdGhhdCBhbGxvd3MgZm9yIGNvbnRpbnVvdXMgaGFzaGluZyBvZiBkYXRhLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBIYXNoIGV4dGVuZHMgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEhhc2ggYWRkaXRpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSBkYXRhIEFkZGl0aW9uYWwgZGF0YSB0byBoYXNoXG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaGFzaF91cGRhdGUodGhpcy5uYXRpdmVfaGFuZGxlKCksIGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZXMgdGhlIGhhc2ggY29tcHV0YXRpb24gYW5kIHJldHVybnMgdGhlIGZpbmFsIGhhc2ggZGlnZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRydW5jYXRlX3RvIFRoZSBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byByZWNlaXZlLiBMZWF2ZSBhcyB1bmRlZmluZWQgb3IgMCB0byByZWNlaXZlIHRoZSBlbnRpcmUgZGlnZXN0LlxuICAgICAqL1xuICAgIGZpbmFsaXplKHRydW5jYXRlX3RvKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5oYXNoX2RpZ2VzdCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdHJ1bmNhdGVfdG8pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihoYXNoX2hhbmRsZSkge1xuICAgICAgICBzdXBlcihoYXNoX2hhbmRsZSk7XG4gICAgfVxufVxuLyoqXG4gKiBPYmplY3QgdGhhdCBhbGxvd3MgZm9yIGNvbnRpbnVvdXMgTUQ1IGhhc2hpbmcgb2YgZGF0YS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmNsYXNzIE1kNUhhc2ggZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaGFzaF9tZDVfbmV3KCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWQ1SGFzaCA9IE1kNUhhc2g7XG4vKipcbiAqIENvbXB1dGVzIGFuIE1ENSBoYXNoLiBVc2UgdGhpcyBpZiB5b3UgZG9uJ3QgbmVlZCB0byBzdHJlYW0gdGhlIGRhdGEgeW91J3JlIGhhc2hpbmcgYW5kIGNhbiBsb2FkIHRoZSBlbnRpcmUgaW5wdXRcbiAqIGludG8gbWVtb3J5LlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGhhc2hcbiAqIEBwYXJhbSB0cnVuY2F0ZV90byBUaGUgbWF4aW11bSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVjZWl2ZS4gTGVhdmUgYXMgdW5kZWZpbmVkIG9yIDAgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIGRpZ2VzdC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmZ1bmN0aW9uIGhhc2hfbWQ1KGRhdGEsIHRydW5jYXRlX3RvKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0Lmhhc2hfbWQ1X2NvbXB1dGUoZGF0YSwgdHJ1bmNhdGVfdG8pO1xufVxuZXhwb3J0cy5oYXNoX21kNSA9IGhhc2hfbWQ1O1xuLyoqXG4gKiBPYmplY3QgdGhhdCBhbGxvd3MgZm9yIGNvbnRpbnVvdXMgU0hBMjU2IGhhc2hpbmcgb2YgZGF0YS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmNsYXNzIFNoYTI1Nkhhc2ggZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaGFzaF9zaGEyNTZfbmV3KCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2hhMjU2SGFzaCA9IFNoYTI1Nkhhc2g7XG4vKipcbiAqIENvbXB1dGVzIGFuIFNIQTI1NiBoYXNoLiBVc2UgdGhpcyBpZiB5b3UgZG9uJ3QgbmVlZCB0byBzdHJlYW0gdGhlIGRhdGEgeW91J3JlIGhhc2hpbmcgYW5kIGNhbiBsb2FkIHRoZSBlbnRpcmUgaW5wdXRcbiAqIGludG8gbWVtb3J5LlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGhhc2hcbiAqIEBwYXJhbSB0cnVuY2F0ZV90byBUaGUgbWF4aW11bSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVjZWl2ZS4gTGVhdmUgYXMgdW5kZWZpbmVkIG9yIDAgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIGRpZ2VzdC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmZ1bmN0aW9uIGhhc2hfc2hhMjU2KGRhdGEsIHRydW5jYXRlX3RvKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0Lmhhc2hfc2hhMjU2X2NvbXB1dGUoZGF0YSwgdHJ1bmNhdGVfdG8pO1xufVxuZXhwb3J0cy5oYXNoX3NoYTI1NiA9IGhhc2hfc2hhMjU2O1xuLyoqXG4gKiBPYmplY3QgdGhhdCBhbGxvd3MgZm9yIGNvbnRpbnVvdXMgU0hBMSBoYXNoaW5nIG9mIGRhdGEuXG4gKlxuICogQGNhdGVnb3J5IENyeXB0b1xuICovXG5jbGFzcyBTaGExSGFzaCBleHRlbmRzIEhhc2gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5oYXNoX3NoYTFfbmV3KCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2hhMUhhc2ggPSBTaGExSGFzaDtcbi8qKlxuICogQ29tcHV0ZXMgYW4gU0hBMSBoYXNoLiBVc2UgdGhpcyBpZiB5b3UgZG9uJ3QgbmVlZCB0byBzdHJlYW0gdGhlIGRhdGEgeW91J3JlIGhhc2hpbmcgYW5kIGNhbiBsb2FkIHRoZSBlbnRpcmUgaW5wdXRcbiAqIGludG8gbWVtb3J5LlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGhhc2hcbiAqIEBwYXJhbSB0cnVuY2F0ZV90byBUaGUgbWF4aW11bSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVjZWl2ZS4gTGVhdmUgYXMgdW5kZWZpbmVkIG9yIDAgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIGRpZ2VzdC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmZ1bmN0aW9uIGhhc2hfc2hhMShkYXRhLCB0cnVuY2F0ZV90bykge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5oYXNoX3NoYTFfY29tcHV0ZShkYXRhLCB0cnVuY2F0ZV90byk7XG59XG5leHBvcnRzLmhhc2hfc2hhMSA9IGhhc2hfc2hhMTtcbi8qKlxuICogT2JqZWN0IHRoYXQgYWxsb3dzIGZvciBjb250aW51b3VzIGhhc2hpbmcgb2YgZGF0YSB3aXRoIGFuIGhtYWMgc2VjcmV0LlxuICpcbiAqIEBjYXRlZ29yeSBDcnlwdG9cbiAqL1xuY2xhc3MgSG1hYyBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBIYXNoIGFkZGl0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIGFkZGl0aW9uYWwgZGF0YSB0byBoYXNoXG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaG1hY191cGRhdGUodGhpcy5uYXRpdmVfaGFuZGxlKCksIGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZXMgdGhlIGhhc2ggY29tcHV0YXRpb24gYW5kIHJldHVybnMgdGhlIGZpbmFsIGhtYWMgZGlnZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRydW5jYXRlX3RvIFRoZSBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byByZWNlaXZlLiBMZWF2ZSBhcyB1bmRlZmluZWQgb3IgMCB0byByZWNlaXZlIHRoZSBlbnRpcmUgZGlnZXN0LlxuICAgICAqL1xuICAgIGZpbmFsaXplKHRydW5jYXRlX3RvKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5obWFjX2RpZ2VzdCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdHJ1bmNhdGVfdG8pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihoYXNoX2hhbmRsZSkge1xuICAgICAgICBzdXBlcihoYXNoX2hhbmRsZSk7XG4gICAgfVxufVxuLyoqXG4gKiBPYmplY3QgdGhhdCBhbGxvd3MgZm9yIGNvbnRpbnVvdXMgU0hBMjU2IEhNQUMgaGFzaGluZyBvZiBkYXRhLlxuICpcbiAqIEBjYXRlZ29yeSBDcnlwdG9cbiAqL1xuY2xhc3MgU2hhMjU2SG1hYyBleHRlbmRzIEhtYWMge1xuICAgIGNvbnN0cnVjdG9yKHNlY3JldCkge1xuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5obWFjX3NoYTI1Nl9uZXcoc2VjcmV0KSk7XG4gICAgfVxufVxuZXhwb3J0cy5TaGEyNTZIbWFjID0gU2hhMjU2SG1hYztcbi8qKlxuICogQ29tcHV0ZXMgYW4gU0hBMjU2IEhNQUMuIFVzZSB0aGlzIGlmIHlvdSBkb24ndCBuZWVkIHRvIHN0cmVhbSB0aGUgZGF0YSB5b3UncmUgaGFzaGluZyBhbmQgY2FuIGxvYWQgdGhlIGVudGlyZSBpbnB1dFxuICogaW50byBtZW1vcnkuXG4gKlxuICogQHBhcmFtIHNlY3JldCBUaGUga2V5IHRvIHVzZSBmb3IgdGhlIEhNQUMgcHJvY2Vzc1xuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gaGFzaFxuICogQHBhcmFtIHRydW5jYXRlX3RvIFRoZSBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byByZWNlaXZlLiBMZWF2ZSBhcyB1bmRlZmluZWQgb3IgMCB0byByZWNlaXZlIHRoZSBlbnRpcmUgZGlnZXN0LlxuICpcbiAqIEBjYXRlZ29yeSBDcnlwdG9cbiAqL1xuZnVuY3Rpb24gaG1hY19zaGEyNTYoc2VjcmV0LCBkYXRhLCB0cnVuY2F0ZV90bykge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5obWFjX3NoYTI1Nl9jb21wdXRlKHNlY3JldCwgZGF0YSwgdHJ1bmNhdGVfdG8pO1xufVxuZXhwb3J0cy5obWFjX3NoYTI1NiA9IGhtYWNfc2hhMjU2O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3J5cHRvLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ3J0RXJyb3IgPSB2b2lkIDA7XG4vKipcbiAqIExpYnJhcnktc3BlY2lmaWMgZXJyb3IgZXh0ZW5zaW9uIHR5cGVcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgZXJyb3JcbiAqIEBtZXJnZVRhcmdldFxuICovXG5jb25zdCBiaW5kaW5nXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmluZGluZ1wiKSk7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZXJyb3IgZW5jb3VudGVyZWQgaW4gbmF0aXZlIGNvZGUuIENhbiBhbHNvIGJlIHVzZWQgdG8gY29udmVydCBhIG51bWVyaWMgZXJyb3IgY29kZSBpbnRvXG4gKiBhIGh1bWFuLXJlYWRhYmxlIHN0cmluZy5cbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmNsYXNzIENydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKiBAdmFyIGVycm9yIC0gVGhlIG9yaWdpbmFsIGVycm9yLiBNb3N0IG9mdGVuIGFuIGVycm9yX2NvZGUsIGJ1dCBwb3NzaWJseSBzb21lIG90aGVyIGNvbnRleHQgKi9cbiAgICBjb25zdHJ1Y3RvcihlcnJvcikge1xuICAgICAgICBzdXBlcihleHRyYWN0X21lc3NhZ2UoZXJyb3IpKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2NvZGUgPSBleHRyYWN0X2NvZGUoZXJyb3IpO1xuICAgICAgICB0aGlzLmVycm9yX25hbWUgPSBleHRyYWN0X25hbWUoZXJyb3IpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ3J0RXJyb3IgPSBDcnRFcnJvcjtcbmZ1bmN0aW9uIGV4dHJhY3RfbWVzc2FnZShlcnJvcikge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgQ3J0RXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiBlcnJvci50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gZXh0cmFjdF9jb2RlKGVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIENydEVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5lcnJvcl9jb2RlO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZXh0cmFjdF9uYW1lKGVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0LmVycm9yX2NvZGVfdG9fbmFtZShlcnJvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgQ3J0RXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLmVycm9yX25hbWU7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGllbnRTdHJlYW0gPSBleHBvcnRzLkNsaWVudENvbm5lY3Rpb24gPSBleHBvcnRzLk1lc3NhZ2VUeXBlID0gZXhwb3J0cy5NZXNzYWdlRmxhZ3MgPSBleHBvcnRzLkhlYWRlciA9IGV4cG9ydHMuSGVhZGVyVHlwZSA9IHZvaWQgMDtcbmNvbnN0IG5hdGl2ZV9yZXNvdXJjZV8xID0gcmVxdWlyZShcIi4vbmF0aXZlX3Jlc291cmNlXCIpO1xuY29uc3QgZXZlbnRfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vZXZlbnRcIik7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG5jb25zdCBpbyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9pb1wiKSk7XG5jb25zdCBldmVudHN0cmVhbV91dGlscyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9ldmVudHN0cmVhbV91dGlsc1wiKSk7XG5jb25zdCBwcm9taXNlID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9jb21tb24vcHJvbWlzZVwiKSk7XG5jb25zdCBiaW5kaW5nXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmluZGluZ1wiKSk7XG4vKipcbiAqIE5vZGUuanMgc3BlY2lmaWMgZXZlbnRzdHJlYW0gcnBjIG5hdGl2ZSBiaW5kaW5nc1xuICpcbiAqIERFVkVMT1BFUiBQUkVWSUVXIERJU0NMQUlNRVJcbiAqXG4gKiBFdmVudHN0cmVhbSBSUEMgc3VwcG9ydCBpcyBjdXJyZW50bHkgaW4gKipkZXZlbG9wZXIgcHJldmlldyoqLiAgV2UgZW5jb3VyYWdlIGZlZWRiYWNrIGF0IGFsbCB0aW1lcywgYnV0IGZlZWRiYWNrXG4gKiBkdXJpbmcgdGhlIHByZXZpZXcgd2luZG93IGlzIGVzcGVjaWFsbHkgdmFsdWFibGUgaW4gc2hhcGluZyB0aGUgZmluYWwgcHJvZHVjdC4gIER1cmluZyB0aGUgcHJldmlldyBwZXJpb2Qgd2UgbWF5IG1ha2VcbiAqIGJhY2t3YXJkcy1pbmNvbXBhdGlibGUgY2hhbmdlcyB0byB0aGUgcHVibGljIEFQSSwgYnV0IGluIGdlbmVyYWwsIHRoaXMgaXMgc29tZXRoaW5nIHdlIHdpbGwgdHJ5IG91ciBiZXN0IHRvIGF2b2lkLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBldmVudHN0cmVhbVxuICogQG1lcmdlVGFyZ2V0XG4gKlxuICovXG4vKipcbiAqIFN1cHBvcnRlZCB0eXBlcyBmb3IgdGhlIHZhbHVlIHdpdGhpbiBhbiBldmVudHN0cmVhbSBtZXNzYWdlIGhlYWRlclxuICovXG52YXIgSGVhZGVyVHlwZTtcbihmdW5jdGlvbiAoSGVhZGVyVHlwZSkge1xuICAgIC8qKiBWYWx1ZSBpcyBUcnVlLiBObyBhY3R1YWwgdmFsdWUgaXMgdHJhbnNtaXR0ZWQgb24gdGhlIHdpcmUuICovXG4gICAgSGVhZGVyVHlwZVtIZWFkZXJUeXBlW1wiQm9vbGVhblRydWVcIl0gPSAwXSA9IFwiQm9vbGVhblRydWVcIjtcbiAgICAvKiogVmFsdWUgaXMgVHJ1ZS4gTm8gYWN0dWFsIHZhbHVlIGlzIHRyYW5zbWl0dGVkIG9uIHRoZSB3aXJlLiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIkJvb2xlYW5GYWxzZVwiXSA9IDFdID0gXCJCb29sZWFuRmFsc2VcIjtcbiAgICAvKiogVmFsdWUgaXMgc2lnbmVkIDgtYml0IGludC4gKi9cbiAgICBIZWFkZXJUeXBlW0hlYWRlclR5cGVbXCJCeXRlXCJdID0gMl0gPSBcIkJ5dGVcIjtcbiAgICAvKiogVmFsdWUgaXMgc2lnbmVkIDE2LWJpdCBpbnQuICovXG4gICAgSGVhZGVyVHlwZVtIZWFkZXJUeXBlW1wiSW50MTZcIl0gPSAzXSA9IFwiSW50MTZcIjtcbiAgICAvKiogVmFsdWUgaXMgc2lnbmVkIDMyLWJpdCBpbnQuICovXG4gICAgSGVhZGVyVHlwZVtIZWFkZXJUeXBlW1wiSW50MzJcIl0gPSA0XSA9IFwiSW50MzJcIjtcbiAgICAvKiogVmFsdWUgaXMgc2lnbmVkIDY0LWJpdCBpbnQuICovXG4gICAgSGVhZGVyVHlwZVtIZWFkZXJUeXBlW1wiSW50NjRcIl0gPSA1XSA9IFwiSW50NjRcIjtcbiAgICAvKiogVmFsdWUgaXMgcmF3IGJ5dGVzLiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIkJ5dGVCdWZmZXJcIl0gPSA2XSA9IFwiQnl0ZUJ1ZmZlclwiO1xuICAgIC8qKiBWYWx1ZSBpcyBhIHN0ci4gIFRyYW5zbWl0dGVkIG9uIHRoZSB3aXJlIGFzIHV0Zi04LiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIlN0cmluZ1wiXSA9IDddID0gXCJTdHJpbmdcIjtcbiAgICAvKiogVmFsdWUgaXMgYSBwb3NpeCB0aW1lc3RhbXAgKHNlY29uZHMgc2luY2UgVW5peCBlcG9jaCkuICBUcmFuc21pdHRlZCBvbiB0aGUgd2lyZSBhcyBhIDY0LWJpdCBpbnQuICovXG4gICAgSGVhZGVyVHlwZVtIZWFkZXJUeXBlW1wiVGltZXN0YW1wXCJdID0gOF0gPSBcIlRpbWVzdGFtcFwiO1xuICAgIC8qKiBWYWx1ZSBpcyBhIFVVSUQuIFRyYW5zbWl0dGVkIG9uIHRoZSB3aXJlIGFzIDE2IGJ5dGVzLiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIlVVSURcIl0gPSA5XSA9IFwiVVVJRFwiO1xufSkoSGVhZGVyVHlwZSA9IGV4cG9ydHMuSGVhZGVyVHlwZSB8fCAoZXhwb3J0cy5IZWFkZXJUeXBlID0ge30pKTtcbmNvbnN0IEFXU19NQVhJTVVNX0VWRU5UX1NUUkVBTV9IRUFERVJfTkFNRV9MRU5HVEggPSAxMjc7XG4vKipcbiAqIFdyYXBwZXIgY2xhc3MgZm9yIGV2ZW50IHN0cmVhbSBtZXNzYWdlIGhlYWRlcnMuICBTaW1pbGFyIHRvIEhUVFAsIGEgaGVhZGVyIGlzIGEgbmFtZS12YWx1ZSBwYWlyLiAgVW5saWtlIEhUVFAsIHRoZVxuICogdmFsdWUncyB3aXJlIGZvcm1hdCB2YXJpZXMgZGVwZW5kaW5nIG9uIGEgdHlwZSBhbm5vdGF0aW9uLiAgV2UgcHJvdmlkZSBzdGF0aWMgYnVpbGRlciBmdW5jdGlvbnMgdG8gaGVscFxuICogZW5zdXJlIGNvcnJlY3QgdHlwZSBhZ3JlZW1lbnQgKHR5cGUgYW5ub3RhdGlvbiBtYXRjaGVzIGFjdHVhbCB2YWx1ZSkgYXQgY29uc3RydWN0aW9uIHRpbWUuICBHZXR0aW5nIHRoZSBoZWFkZXJcbiAqIHZhbHVlIHJlcXVpcmVzIHRoZSB1c2Ugb2YgYSBzYWZlIGNvbnZlcnNpb24gZnVuY3Rpb24uXG4gKi9cbmNsYXNzIEhlYWRlciB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgc3RhdGljIHZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lLmxlbmd0aCA9PSAwIHx8IG5hbWUubGVuZ3RoID4gQVdTX01BWElNVU1fRVZFTlRfU1RSRUFNX0hFQURFUl9OQU1FX0xFTkdUSCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBoZWFkZXIgbmFtZSAoJHtuYW1lfSkgaXMgbm90IHZhbGlkYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGJvb2xlYW4tdmFsdWVkIG1lc3NhZ2UgaGVhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdCb29sZWFuKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5Cb29sZWFuVHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLkJvb2xlYW5GYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGJ5dGUtdmFsdWVkIG1lc3NhZ2UgaGVhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdCeXRlKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSA+PSBldmVudHN0cmVhbV91dGlscy5NSU5fSU5UOCAmJiB2YWx1ZSA8PSBldmVudHN0cmVhbV91dGlscy5NQVhfSU5UOCAmJiBOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuQnl0ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBJbGxlZ2FsIHZhbHVlIGZvciBldmVudHN0cmVhbSBieXRlLXZhbHVlZCBoZWFkZXI6ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyAxNi1iaXQtaW50ZWdlci12YWx1ZWQgbWVzc2FnZSBoZWFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgdGhlIGhlYWRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBvZiB0aGUgaGVhZGVyXG4gICAgICovXG4gICAgc3RhdGljIG5ld0ludDE2KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSA+PSBldmVudHN0cmVhbV91dGlscy5NSU5fSU5UMTYgJiYgdmFsdWUgPD0gZXZlbnRzdHJlYW1fdXRpbHMuTUFYX0lOVDE2ICYmIE51bWJlci5pc1NhZmVJbnRlZ2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5JbnQxNiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBJbGxlZ2FsIHZhbHVlIGZvciBldmVudHN0cmVhbSBpbnQxNi12YWx1ZWQgaGVhZGVyOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgMzItYml0LWludGVnZXItdmFsdWVkIG1lc3NhZ2UgaGVhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdJbnQzMihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgPj0gZXZlbnRzdHJlYW1fdXRpbHMuTUlOX0lOVDMyICYmIHZhbHVlIDw9IGV2ZW50c3RyZWFtX3V0aWxzLk1BWF9JTlQzMiAmJiBOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuSW50MzIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gaW50MzItdmFsdWVkIGhlYWRlcjogJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IDY0LWJpdC1pbnRlZ2VyLXZhbHVlZCBtZXNzYWdlIGhlYWRlci4gIG51bWJlciBjYW5ub3QgcmVwcmVzZW50IGEgZnVsbCA2NC1iaXQgaW50ZWdlciByYW5nZSBidXRcbiAgICAgKiBpdHMgdXNhZ2UgaXMgc28gY29tbW9uIHRoYXQgdGhpcyBleGlzdHMgZm9yIGNvbnZlbmllbmNlLiAgSW50ZXJuYWxseSwgd2UgYWx3YXlzIHRyYWNrIDY0IGJpdCBpbnRlZ2VycyBhc1xuICAgICAqIGJpZ2ludHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdJbnQ2NEZyb21OdW1iZXIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgaWYgKE51bWJlci5pc1NhZmVJbnRlZ2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5JbnQ2NCwgZXZlbnRzdHJlYW1fdXRpbHMubWFyc2hhbEludDY0QmlnaW50QXNCdWZmZXIoQmlnSW50KHZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBJbGxlZ2FsIHZhbHVlIGZvciBldmVudHN0cmVhbSBpbnQ2NC12YWx1ZWQgaGVhZGVyOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgNjQtYml0LWludGVnZXItdmFsdWVkIG1lc3NhZ2UgaGVhZGVyIGZyb20gYSBiaWcgaW50ZWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgdGhlIGhlYWRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBvZiB0aGUgaGVhZGVyXG4gICAgICovXG4gICAgc3RhdGljIG5ld0ludDY0RnJvbUJpZ2ludChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgPj0gZXZlbnRzdHJlYW1fdXRpbHMuTUlOX0lOVDY0ICYmIHZhbHVlIDw9IGV2ZW50c3RyZWFtX3V0aWxzLk1BWF9JTlQ2NCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5JbnQ2NCwgZXZlbnRzdHJlYW1fdXRpbHMubWFyc2hhbEludDY0QmlnaW50QXNCdWZmZXIodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gaW50NjQtdmFsdWVkIGhlYWRlcjogJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGJ5dGUtYnVmZmVyLXZhbHVlZCBtZXNzYWdlIGhlYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3Qnl0ZUJ1ZmZlcihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLkJ5dGVCdWZmZXIsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHN0cmluZy12YWx1ZWQgbWVzc2FnZSBoZWFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgdGhlIGhlYWRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBvZiB0aGUgaGVhZGVyXG4gICAgICovXG4gICAgc3RhdGljIG5ld1N0cmluZyhuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLlN0cmluZywgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgdGltZXN0YW1wLXZhbHVlZCBtZXNzYWdlIGhlYWRlciBmcm9tIGFuIGludGVncmFsIHZhbHVlIGluIHNlY29uZHMgc2luY2UgZXBvY2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdUaW1lU3RhbXBGcm9tU2Vjb25kc1NpbmNlRXBvY2gobmFtZSwgc2Vjb25kc1NpbmNlRXBvY2gpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgaWYgKE51bWJlci5pc1NhZmVJbnRlZ2VyKHNlY29uZHNTaW5jZUVwb2NoKSAmJiBzZWNvbmRzU2luY2VFcG9jaCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLlRpbWVzdGFtcCwgc2Vjb25kc1NpbmNlRXBvY2gpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBJbGxlZ2FsIHZhbHVlIGZvciBldmVudHN0cmVhbSB0aW1lc3RhbXAtdmFsdWVkIGhlYWRlcjogJHtzZWNvbmRzU2luY2VFcG9jaH1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHRpbWVzdGFtcC12YWx1ZWQgbWVzc2FnZSBoZWFkZXIgZnJvbSBhIGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdUaW1lU3RhbXBGcm9tRGF0ZShuYW1lLCBkYXRlKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGNvbnN0IHNlY29uZHNTaW5jZUVwb2NoID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNTYWZlSW50ZWdlcihzZWNvbmRzU2luY2VFcG9jaCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuVGltZXN0YW1wLCBzZWNvbmRzU2luY2VFcG9jaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoYElsbGVnYWwgdmFsdWUgZm9yIGV2ZW50c3RyZWFtIHRpbWVzdGFtcC12YWx1ZWQgaGVhZGVyOiAke2RhdGV9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBVVUlELXZhbHVlZCBtZXNzYWdlIGhlYWRlci5cbiAgICAgKiBXSVBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgdGhlIGhlYWRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBvZiB0aGUgaGVhZGVyXG4gICAgICovXG4gICAgc3RhdGljIG5ld1VVSUQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgaWYgKHZhbHVlLmJ5dGVMZW5ndGggPT0gMTYpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuVVVJRCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBJbGxlZ2FsIHZhbHVlIGZvciBldmVudHN0cmVhbSB1dWlkLXZhbHVlZCBoZWFkZXI6ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIHRvVmFsdWUodHlwZSkge1xuICAgICAgICBpZiAodHlwZSAhPSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBIZWFkZXIgb2YgdHlwZSAoJHt0aGlzLnR5cGV9KSBjYW5ub3QgYmUgY29udmVydGVkIHRvIHR5cGUgKCR7dHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbCBjb252ZXJzaW9uIGZ1bmN0aW9ucyByZXF1aXJlIHRoZSBoZWFkZXIncyB0eXBlIHRvIGJlIGFwcHJvcHJpYXRlbHkgbWF0Y2hpbmcuICBUaGVyZSBhcmUgbm8gZXJyb3ItcHJvbmVcbiAgICAgKiBmbGV4aWJsZSBjb252ZXJzaW9uIGhlbHBlcnMuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGJvb2xlYW4gaGVhZGVyJ3MgdmFsdWUuXG4gICAgICovXG4gICAgYXNCb29sZWFuKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBIZWFkZXJUeXBlLkJvb2xlYW5GYWxzZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIEhlYWRlclR5cGUuQm9vbGVhblRydWU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBIZWFkZXIgb2YgdHlwZSAoJHt0aGlzLnR5cGV9KSBjYW5ub3QgYmUgY29udmVydGVkIHRvIHR5cGUgKGJvb2xlYW4pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGJ5dGUgaGVhZGVyJ3MgdmFsdWUuXG4gICAgICovXG4gICAgYXNCeXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1ZhbHVlKEhlYWRlclR5cGUuQnl0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSAxNi1iaXQgaW50ZWdlciBoZWFkZXIncyB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc0ludDE2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1ZhbHVlKEhlYWRlclR5cGUuSW50MTYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgMzItYml0IGludGVnZXIgaGVhZGVyJ3MgdmFsdWUuXG4gICAgICovXG4gICAgYXNJbnQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZShIZWFkZXJUeXBlLkludDMyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIDY0LWJpdCBpbnRlZ2VyIGhlYWRlcidzIHZhbHVlLlxuICAgICAqL1xuICAgIGFzSW50NjQoKSB7XG4gICAgICAgIHJldHVybiBldmVudHN0cmVhbV91dGlscy51bm1hcnNoYWxJbnQ2NEJpZ2ludEZyb21CdWZmZXIodGhpcy50b1ZhbHVlKEhlYWRlclR5cGUuSW50NjQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGJ5dGUgYnVmZmVyIGhlYWRlcidzIHZhbHVlLlxuICAgICAqL1xuICAgIGFzQnl0ZUJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZShIZWFkZXJUeXBlLkJ5dGVCdWZmZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIGhlYWRlcidzIHZhbHVlLlxuICAgICAqL1xuICAgIGFzU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1ZhbHVlKEhlYWRlclR5cGUuU3RyaW5nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRpbWVzdGFtcCBoZWFkZXIncyB2YWx1ZSAoYXMgc2Vjb25kcyBzaW5jZSBlcG9jaCkuXG4gICAgICovXG4gICAgYXNUaW1lc3RhbXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoSGVhZGVyVHlwZS5UaW1lc3RhbXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVVVJRCBoZWFkZXIncyB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoSGVhZGVyVHlwZS5VVUlEKTtcbiAgICB9XG59XG5leHBvcnRzLkhlYWRlciA9IEhlYWRlcjtcbi8qKlxuICogRmxhZ3MgZm9yIG1lc3NhZ2VzIGluIHRoZSBldmVudC1zdHJlYW0gUlBDIHByb3RvY29sLlxuICpcbiAqIEZsYWdzIG1heSBiZSBYT1JlZCB0b2dldGhlci5cbiAqIE5vdCBhbGwgZmxhZ3MgY2FuIGJlIHVzZWQgd2l0aCBhbGwgbWVzc2FnZSB0eXBlcywgY29uc3VsdCBkb2N1bWVudGF0aW9uLlxuICovXG52YXIgTWVzc2FnZUZsYWdzO1xuKGZ1bmN0aW9uIChNZXNzYWdlRmxhZ3MpIHtcbiAgICAvKiogTm90aGluZyAqL1xuICAgIE1lc3NhZ2VGbGFnc1tNZXNzYWdlRmxhZ3NbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBDb25uZWN0aW9uIGFjY2VwdGVkXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGZsYWcgaXMgYWJzZW50IGZyb20gYSB7QGxpbmsgTWVzc2FnZVR5cGUuQ29ubmVjdEFjayBDb25uZWN0QWNrfSBtZXNzYWdlLCB0aGUgY29ubmVjdGlvbiBoYXMgYmVlblxuICAgICAqIHJlamVjdGVkLlxuICAgICAqL1xuICAgIE1lc3NhZ2VGbGFnc1tNZXNzYWdlRmxhZ3NbXCJDb25uZWN0aW9uQWNjZXB0ZWRcIl0gPSAxXSA9IFwiQ29ubmVjdGlvbkFjY2VwdGVkXCI7XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlIHN0cmVhbVxuICAgICAqXG4gICAgICogVGhpcyBtZXNzYWdlIG1heSBiZSB1c2VkIHdpdGggYW55IG1lc3NhZ2UgdHlwZS5cbiAgICAgKiBUaGUgc2VuZGVyIHdpbGwgY2xvc2UgdGhlaXIgY29ubmVjdGlvbiBhZnRlciB0aGUgbWVzc2FnZSBpcyB3cml0dGVuIHRvIHRoZSB3aXJlLlxuICAgICAqIFRoZSByZWNlaXZlciB3aWxsIGNsb3NlIHRoZWlyIGNvbm5lY3Rpb24gYWZ0ZXIgZGVsaXZlcmluZyB0aGUgbWVzc2FnZSB0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBNZXNzYWdlRmxhZ3NbTWVzc2FnZUZsYWdzW1wiVGVybWluYXRlU3RyZWFtXCJdID0gMl0gPSBcIlRlcm1pbmF0ZVN0cmVhbVwiO1xufSkoTWVzc2FnZUZsYWdzID0gZXhwb3J0cy5NZXNzYWdlRmxhZ3MgfHwgKGV4cG9ydHMuTWVzc2FnZUZsYWdzID0ge30pKTtcbi8qKlxuICpcbiAqIFR5cGVzIG9mIG1lc3NhZ2VzIGluIHRoZSBldmVudC1zdHJlYW0gUlBDIHByb3RvY29sLlxuICogVGhlIHtAbGluayBNZXNzYWdlVHlwZS5BcHBsaWNhdGlvbk1lc3NhZ2UgQXBwbGljYXRpb259IGFuZCB7QGxpbmsgTWVzc2FnZVR5cGUuQXBwbGljYXRpb25FcnJvciBFcnJvcn0gbWVzc2FnZSB0eXBlc1xuICogbWF5IG9ubHkgYmUgc2VudCBvbiBzdHJlYW1zLCBhbmQgd2lsbCBuZXZlciBhcnJpdmUgYXMgYSBwcm90b2NvbCBtZXNzYWdlIChzdHJlYW0taWQgMCkuXG4gKlxuICogRm9yIGFsbCBvdGhlciBtZXNzYWdlIHR5cGVzLCB0aGV5IG1heSBvbmx5IGJlIHNlbnQgYXMgcHJvdG9jb2wgbWVzc2FnZXNcbiAqIChzdHJlYW0taWQgMCksIGFuZCB3aWxsIG5ldmVyIGFycml2ZSBhcyBhIHN0cmVhbSBtZXNzYWdlLlxuICpcbiAqIERpZmZlcmVudCBtZXNzYWdlIHR5cGVzIGV4cGVjdCBzcGVjaWZpYyBoZWFkZXJzIGFuZCBmbGFncywgY29uc3VsdCBkb2N1bWVudGF0aW9uLlxuICovXG52YXIgTWVzc2FnZVR5cGU7XG4oZnVuY3Rpb24gKE1lc3NhZ2VUeXBlKSB7XG4gICAgLyoqIEFwcGxpY2F0aW9uIG1lc3NhZ2UgKi9cbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIkFwcGxpY2F0aW9uTWVzc2FnZVwiXSA9IDBdID0gXCJBcHBsaWNhdGlvbk1lc3NhZ2VcIjtcbiAgICAvKiogQXBwbGljYXRpb24gZXJyb3IgKi9cbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIkFwcGxpY2F0aW9uRXJyb3JcIl0gPSAxXSA9IFwiQXBwbGljYXRpb25FcnJvclwiO1xuICAgIC8qKiBQaW5nICovXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJQaW5nXCJdID0gMl0gPSBcIlBpbmdcIjtcbiAgICAvKiogUGluZyByZXNwb25zZSAqL1xuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiUGluZ1Jlc3BvbnNlXCJdID0gM10gPSBcIlBpbmdSZXNwb25zZVwiO1xuICAgIC8qKiBDb25uZWN0ICovXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJDb25uZWN0XCJdID0gNF0gPSBcIkNvbm5lY3RcIjtcbiAgICAvKipcbiAgICAgKiBDb25uZWN0IGFja25vd2xlZGdlbWVudFxuICAgICAqXG4gICAgICogSWYgdGhlIHtAbGluayBNZXNzYWdlRmxhZ3MuQ29ubmVjdGlvbkFjY2VwdGVkIENvbm5lY3Rpb25BY2NlcHRlZH0gZmxhZyBpcyBub3QgcHJlc2VudCwgdGhlIGNvbm5lY3Rpb24gaGFzIGJlZW4gcmVqZWN0ZWQuXG4gICAgICovXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJDb25uZWN0QWNrXCJdID0gNV0gPSBcIkNvbm5lY3RBY2tcIjtcbiAgICAvKipcbiAgICAgKiBQcm90b2NvbCBlcnJvclxuICAgICAqL1xuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiUHJvdG9jb2xFcnJvclwiXSA9IDZdID0gXCJQcm90b2NvbEVycm9yXCI7XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgZXJyb3JcbiAgICAgKi9cbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIkludGVybmFsRXJyb3JcIl0gPSA3XSA9IFwiSW50ZXJuYWxFcnJvclwiO1xufSkoTWVzc2FnZVR5cGUgPSBleHBvcnRzLk1lc3NhZ2VUeXBlIHx8IChleHBvcnRzLk1lc3NhZ2VUeXBlID0ge30pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIG1hcFBvZEhlYWRlcnNUb0pTSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oaGVhZGVycywgKGhlYWRlcikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihoZWFkZXIubmFtZSwgaGVhZGVyLnR5cGUsIGhlYWRlci52YWx1ZSk7XG4gICAgfSk7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBtYXBQb2RNZXNzYWdlVG9KU01lc3NhZ2UobWVzc2FnZSkge1xuICAgIGxldCBqc01lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgZmxhZ3M6IG1lc3NhZ2UuZmxhZ3MsXG4gICAgICAgIHBheWxvYWQ6IG1lc3NhZ2UucGF5bG9hZFxuICAgIH07XG4gICAgaWYgKG1lc3NhZ2UuaGVhZGVycykge1xuICAgICAgICBqc01lc3NhZ2UuaGVhZGVycyA9IG1hcFBvZEhlYWRlcnNUb0pTSGVhZGVycyhtZXNzYWdlLmhlYWRlcnMpO1xuICAgIH1cbiAgICByZXR1cm4ganNNZXNzYWdlO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBXaGlsZSBub3Qgc3RyaWN0bHkgbmVjZXNzYXJ5LCB0aGUgc2luZ2xlLXRocmVhZGVkIG5hdHVyZSBvZiBKUyBleGVjdXRpb24gYWxsb3dzIHVzIHRvIGVhc2lseSBhcHBseSBzb21lXG4gKiByaWdpZCBjb25zdHJhaW50cyB0byB0aGUgcHVibGljIEFQSSBjYWxscyBvZiBvdXIgZXZlbnQgc3RyZWFtIG9iamVjdHMuICBUaGlzIGluIHR1cm4gcmVkdWNlcyB0aGUgY29tcGxleGl0eSBvZiB0aGVcbiAqIGJpbmRpbmcgY2FzZXMgd2UgbmVlZCB0byBjb25zaWRlci5cbiAqXG4gKiBUaGlzIHN0YXRlIHZhbHVlIGlzIHRoZSBwcmltYXJ5IG1lYW5zIGJ5IHdoaWNoIHdlIGFkZCBhbmQgZW5mb3JjZSB0aGVzZSBjb25zdHJhaW50cyB0byBjb25uZWN0aW9uIG9iamVjdHMuXG4gKlxuICogQ29uc3RyYWludHMgZW5mb3JjZWQgaW4gdGhlIG1hbmFnZWQgYmluZGluZzpcbiAqXG4gKiAgKDEpIGNsb3NlKCkgbWF5IG9ubHkgYmUgY2FsbGVkIG9uY2UuICBPbmNlIGl0IGhhcyBiZWVuIGNhbGxlZCwgbm90aGluZyBlbHNlIG1heSBiZSBjYWxsZWQuXG4gKiAgKDIpIG5ld1N0cmVhbSgpIGFuZCBzZW5kTWVzc2FnZSgpIG1heSBvbmx5IGJlIGNhbGxlZCBhZnRlciBzdWNjZXNzZnVsIGNvbm5lY3Rpb24gZXN0YWJsaXNobWVudCBhbmQgYmVmb3JlIHRoZVxuICogICAgICBjb25uZWN0aW9uIGhhcyBiZWVuIGNsb3NlZC5cbiAqICAoMykgY29ubmVjdCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlLiAgQ29tYmluZWQgd2l0aCAoMSkgYW5kICgyKSwgdGhpcyBtZWFucyB0aGF0IGlmIGNvbm5lY3QoKSBpcyBjYWxsZWQsIGl0IG11c3RcbiAqICAgICAgYmUgdGhlIGZpcnN0IHRoaW5nIGNhbGxlZC5cbiAqL1xudmFyIENsaWVudENvbm5lY3Rpb25TdGF0ZTtcbihmdW5jdGlvbiAoQ2xpZW50Q29ubmVjdGlvblN0YXRlKSB7XG4gICAgQ2xpZW50Q29ubmVjdGlvblN0YXRlW0NsaWVudENvbm5lY3Rpb25TdGF0ZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIENsaWVudENvbm5lY3Rpb25TdGF0ZVtDbGllbnRDb25uZWN0aW9uU3RhdGVbXCJDb25uZWN0aW5nXCJdID0gMV0gPSBcIkNvbm5lY3RpbmdcIjtcbiAgICBDbGllbnRDb25uZWN0aW9uU3RhdGVbQ2xpZW50Q29ubmVjdGlvblN0YXRlW1wiQ29ubmVjdGVkXCJdID0gMl0gPSBcIkNvbm5lY3RlZFwiO1xuICAgIENsaWVudENvbm5lY3Rpb25TdGF0ZVtDbGllbnRDb25uZWN0aW9uU3RhdGVbXCJEaXNjb25uZWN0ZWRcIl0gPSAzXSA9IFwiRGlzY29ubmVjdGVkXCI7XG4gICAgQ2xpZW50Q29ubmVjdGlvblN0YXRlW0NsaWVudENvbm5lY3Rpb25TdGF0ZVtcIkNsb3NlZFwiXSA9IDRdID0gXCJDbG9zZWRcIjtcbn0pKENsaWVudENvbm5lY3Rpb25TdGF0ZSB8fCAoQ2xpZW50Q29ubmVjdGlvblN0YXRlID0ge30pKTtcbi8qKlxuICogV3JhcHBlciBmb3IgYSBuZXR3b3JrIGNvbm5lY3Rpb24gdGhhdCBmdWxmaWxscyB0aGUgY2xpZW50LXNpZGUgZXZlbnQgc3RyZWFtIFJQQyBwcm90b2NvbCBjb250cmFjdC5cbiAqXG4gKiBUaGUgdXNlciAqKm11c3QqKiBjYWxsIGNsb3NlKCkgb24gYSBjb25uZWN0aW9uIG9uY2UgZmluaXNoZWQgd2l0aCBpdC4gIE9uY2UgY2xvc2UoKSBoYXMgYmVlbiBjYWxsZWQsIG5vIG1vcmUgZXZlbnRzXG4gKiB3aWxsIGJlIGVtaXR0ZWQgYW5kIGFsbCBwdWJsaWMgQVBJIGludm9jYXRpb25zIHdpbGwgdHJpZ2dlciBhbiBleGNlcHRpb24uXG4gKi9cbmNsYXNzIENsaWVudENvbm5lY3Rpb24gZXh0ZW5kcyAoMCwgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2VNaXhpbikoZXZlbnRfMS5CdWZmZXJlZEV2ZW50RW1pdHRlcikge1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgYW5kIGNyZWF0ZXMgYSBuZXcgQ2xpZW50Q29ubmVjdGlvbiBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBldmVudCBzdHJlYW0gY29ubmVjdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIHBhc3NlZCB0byBldmVudHN0cmVhbSBDbGllbnRDb25uZWN0aW9uIGNvbnN0cnVjdG9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuTm9uZTtcbiAgICAgICAgdGhpcy5fc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX25ldyh0aGlzLCBjb25maWcsIChjb25uZWN0aW9uLCBlcnJvckNvZGUpID0+IHsgQ2xpZW50Q29ubmVjdGlvbi5fc19vbl9kaXNjb25uZWN0KGNvbm5lY3Rpb24sIGVycm9yQ29kZSk7IH0sIChjb25uZWN0aW9uLCBtZXNzYWdlKSA9PiB7IENsaWVudENvbm5lY3Rpb24uX3Nfb25fcHJvdG9jb2xfbWVzc2FnZShjb25uZWN0aW9uLCBtZXNzYWdlKTsgfSwgY29uZmlnLnNvY2tldE9wdGlvbnMgPyBjb25maWcuc29ja2V0T3B0aW9ucy5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCBjb25maWcudGxzQ3R4ID8gY29uZmlnLnRsc0N0eC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNodXRzIGRvd24gdGhlIGNvbm5lY3Rpb24gKGlmIGFjdGl2ZSkgYW5kIGJlZ2lucyB0aGUgcHJvY2VzcyB0byByZWxlYXNlIG5hdGl2ZSByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIGl0IGJ5XG4gICAgICogaGF2aW5nIHRoZSBuYXRpdmUgYmluZGluZyByZWxlYXNlIHRoZSBvbmx5IHJlZmVyZW5jZSB0byB0aGUgZXh0ZXJuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNvbm5lY3Rpb24uICBPbmNlXG4gICAgICogY2xvc2UoKSBoYXMgYmVlbiBjYWxsZWQsIG5vIG1vcmUgZXZlbnRzIHdpbGwgYmUgZW1pdHRlZCBhbmQgYWxsIHB1YmxpYyBBUEkgaW52b2NhdGlvbnMgd2lsbCB0cmlnZ2VyIGFuIGV4Y2VwdGlvbi5cbiAgICAgKlxuICAgICAqIFVsdGltYXRlbHksIHRoZSBuYXRpdmUgcmVzb3VyY2VzIHdpbGwgbm90IGJlIHJlbGVhc2VkIHVudGlsIHRoZSBjb25uZWN0aW9uIGhhcyBmdWxseSBzaHV0IGRvd24gYW5kIHRoYXRcbiAgICAgKiBzaHV0ZG93biBldmVudCBoYXMgcmVhY2hlZCB0aGUgbGlidXYgZXZlbnQgbG9vcC5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gKiptdXN0KiogYmUgY2FsbGVkIGZvciBldmVyeSBDbGllbnRDb25uZWN0aW9uIGluc3RhbmNlIG9yIG5hdGl2ZSByZXNvdXJjZXMgd2lsbCBsZWFrLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNsb3NlZDtcbiAgICAgICAgICAgIC8vIGludm9rZSBuYXRpdmUgYmluZGluZyBjbG9zZVxuICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBvcGVuIGEgbmV0d29yayBjb25uZWN0aW9uIHRvIHRoZSBjb25maWd1cmVkIHJlbW90ZSBlbmRwb2ludC4gIFJldHVybmVkIHByb21pc2Ugd2lsbCBiZSBmdWxmaWxsZWQgaWZcbiAgICAgKiB0aGUgdHJhbnNwb3J0LWxldmVsIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkLCBhbmQgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogY29ubmVjdCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlLlxuICAgICAqL1xuICAgIGNvbm5lY3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGNsZWFudXBDYW5jZWxMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBjb25uZWN0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKFwiSW52YWxpZCBvcHRpb25zIHBhc3NlZCB0byBldmVudCBzdHJlYW0gQ2xpZW50Q29ubmVjdGlvbi5jb25uZWN0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuTm9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBjb25uZWN0aW9uIGluIGEgc3RhdGUgKCR7dGhpcy5zdGF0ZX0pIHdoZXJlIGNvbm5lY3QoKSBpcyBub3QgYWxsb3dlZC5gKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENsaWVudENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihgRXZlbnQgc3RyZWFtIGNvbm5lY3Rpb24gY29ubmVjdCgpIGNhbmNlbGxlZCBieSBleHRlcm5hbCByZXF1ZXN0LmApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7IHRoaXMuY2xvc2UoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXBDYW5jZWxMaXN0ZW5lciA9IG9wdGlvbnMuY2FuY2VsQ29udHJvbGxlci5hZGRMaXN0ZW5lcihjYW5jZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNsZWFudXBDYW5jZWxMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGN1cnJpZWRQcm9taXNlQ2FsbGJhY2soY29ubmVjdGlvbiwgZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDbGllbnRDb25uZWN0aW9uLl9zX29uX2Nvbm5lY3Rpb25fc2V0dXAocmVzb2x2ZSwgcmVqZWN0LCBjb25uZWN0aW9uLCBlcnJvckNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5ldmVudF9zdHJlYW1fY2xpZW50X2Nvbm5lY3Rpb25fY29ubmVjdCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgY3VycmllZFByb21pc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5tYWtlU2VsZkNsZWFuaW5nUHJvbWlzZShjb25uZWN0UHJvbWlzZSwgY2xlYW51cENhbmNlbExpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIHNlbmQgYW4gZXZlbnQgc3RyZWFtIHByb3RvY29sIG1lc3NhZ2Ugb3ZlciBhbiBvcGVuIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBjb25maWd1cmF0aW9uIC0tIGluY2x1ZGluZyB0aGUgbWVzc2FnZSBpdHNlbGYgLS0gZm9yIHNlbmRpbmcgYSBwcm90b2NvbCBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdoZW4gdGhlIG1lc3NhZ2UgaXMgc3VjY2Vzc2Z1bGx5IGZsdXNoZWQgdG8gdGhlIHdpcmUsIGFuZCByZWplY3RlZCBpZlxuICAgICAqIGFuIGVycm9yIG9jY3VycyBwcmlvciB0byB0aGF0IHBvaW50LlxuICAgICAqL1xuICAgIHNlbmRQcm90b2NvbE1lc3NhZ2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGNsZWFudXBDYW5jZWxMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBzZW5kUHJvdG9jb2xNZXNzYWdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkludmFsaWQgb3B0aW9ucyBwYXNzZWQgdG8gZXZlbnQgc3RyZWFtIENsaWVudENvbm5lY3Rpb24uc2VuZFByb3RvY29sTWVzc2FnZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihgRXZlbnQgc3RyZWFtIGNvbm5lY3Rpb24gaW4gYSBzdGF0ZSAoJHt0aGlzLnN0YXRlfSkgd2hlcmUgc2VuZGluZyBwcm90b2NvbCBtZXNzYWdlcyBpcyBub3QgYWxsb3dlZC5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FuY2VsQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBjb25uZWN0aW9uIHNlbmRQcm90b2NvbE1lc3NhZ2UoKSBjYW5jZWxsZWQgYnkgZXh0ZXJuYWwgcmVxdWVzdC5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHsgdGhpcy5jbG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSBvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIuYWRkTGlzdGVuZXIoY2FuY2VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xlYW51cENhbmNlbExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGludm9rZSBuYXRpdmUgYmluZGluZyBzZW5kIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGN1cnJpZWRQcm9taXNlQ2FsbGJhY2soZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2xpZW50Q29ubmVjdGlvbi5fc19vbl9jb25uZWN0aW9uX3NlbmRfcHJvdG9jb2xfbWVzc2FnZV9jb21wbGV0aW9uKHJlc29sdmUsIHJlamVjdCwgZXJyb3JDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZva2UgbmF0aXZlIGJpbmRpbmcgc2VuZCBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5ldmVudF9zdHJlYW1fY2xpZW50X2Nvbm5lY3Rpb25fc2VuZF9wcm90b2NvbF9tZXNzYWdlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBvcHRpb25zLCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UubWFrZVNlbGZDbGVhbmluZ1Byb21pc2Uoc2VuZFByb3RvY29sTWVzc2FnZVByb21pc2UsIGNsZWFudXBDYW5jZWxMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbm5lY3Rpb24gaXMgY3VycmVudGx5IG9wZW4gYW5kIHJlYWR5LXRvLXVzZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogSW50ZXJuYWwgbm90ZTogT3VyIG5vdGlvbiBvZiBcImNvbm5lY3RlZFwiIGlzIGludGVudGlvbmFsbHkgbm90IGFuIGludm9jYXRpb24gb2ZcbiAgICAgKiBhd3NfZXZlbnRfc3RyZWFtX3JwY19jbGllbnRfY29ubmVjdGlvbl9pc19vcGVuKCkgKHdob3NlIHN0YXR1cyBpcyBhbiBvdXQtb2Ytc3luYyByYWNlIGNvbmRpdGlvbiB2cy4gb3VyXG4gICAgICogd2VsbC1kZWZpbmVkIGNsaWVudCBzdGF0ZSlcbiAgICAgKi9cbiAgICBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzdHJlYW0gd2l0aGluIHRoZSBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIG5ld1N0cmVhbSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gY29ubmVjdGlvbiBpbiBhIHN0YXRlICgke3RoaXMuc3RhdGV9KSB3aGVyZSBjcmVhdGluZyBuZXcgc3RyZWFtcyBpcyBmb3JiaWRkZW4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRTdHJlYW0odGhpcyk7XG4gICAgfVxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBzdXBlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIF9zX29uX2Nvbm5lY3Rpb25fc2V0dXAocmVzb2x2ZSwgcmVqZWN0LCBjb25uZWN0aW9uLCBlcnJvckNvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yQ29kZSA9PSAwICYmIGNvbm5lY3Rpb24uc3RhdGUgPT0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uc3RhdGUgPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uc3RhdGUgIT0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uc3RhdGUgPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVqZWN0KGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yQ29kZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9kaXNjb25uZWN0KGNvbm5lY3Rpb24sIGVycm9yQ29kZSkge1xuICAgICAgICBpZiAoY29ubmVjdGlvbi5zdGF0ZSAhPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnN0YXRlID0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZDtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uZW1pdCgnZGlzY29ubmVjdGlvbicsIHsgZXJyb3JDb2RlOiBlcnJvckNvZGUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fcHJvdG9jb2xfbWVzc2FnZShjb25uZWN0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5lbWl0KCdwcm90b2NvbE1lc3NhZ2UnLCB7IG1lc3NhZ2U6IG1hcFBvZE1lc3NhZ2VUb0pTTWVzc2FnZShtZXNzYWdlKSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9jb25uZWN0aW9uX3NlbmRfcHJvdG9jb2xfbWVzc2FnZV9jb21wbGV0aW9uKHJlc29sdmUsIHJlamVjdCwgZXJyb3JDb2RlKSB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT0gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yQ29kZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRDb25uZWN0aW9uID0gQ2xpZW50Q29ubmVjdGlvbjtcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZCBmb3IgYW55IHJlYXNvbi5cbiAqXG4gKiBMaXN0ZW5lciB0eXBlOiB7QGxpbmsgRGlzY29ubmVjdGlvbkxpc3RlbmVyfVxuICpcbiAqIEBldmVudFxuICovXG5DbGllbnRDb25uZWN0aW9uLkRJU0NPTk5FQ1RJT04gPSAnZGlzY29ubmVjdGlvbic7XG4vKipcbiAqIEV2ZW50IGVtaXR0ZWQgd2hlbiBhIHByb3RvY29sIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgcmVtb3RlIGVuZHBvaW50XG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIE1lc3NhZ2VMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuQ2xpZW50Q29ubmVjdGlvbi5QUk9UT0NPTF9NRVNTQUdFID0gJ3Byb3RvY29sTWVzc2FnZSc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICpcbiAqIFdoaWxlIG5vdCBzdHJpY3RseSBuZWNlc3NhcnksIHRoZSBzaW5nbGUtdGhyZWFkZWQgbmF0dXJlIG9mIEpTIGV4ZWN1dGlvbiBhbGxvd3MgdXMgdG8gZWFzaWx5IGFwcGx5IHNvbWVcbiAqIHJpZ2lkIGNvbnN0cmFpbnRzIHRvIHRoZSBwdWJsaWMgQVBJIGNhbGxzIG9mIG91ciBldmVudCBzdHJlYW0gb2JqZWN0cy4gIFRoaXMgaW4gdHVybiByZWR1Y2VzIHRoZSBjb21wbGV4aXR5IG9mIHRoZVxuICogYmluZGluZyBjYXNlcyB3ZSBuZWVkIHRvIGNvbnNpZGVyLlxuICpcbiAqIFRoaXMgc3RhdGUgdmFsdWUgaXMgdGhlIHByaW1hcnkgbWVhbnMgYnkgd2hpY2ggd2UgYWRkIGFuZCBlbmZvcmNlIHRoZXNlIGNvbnN0cmFpbnRzIHRvIHN0cmVhbSBvYmplY3RzLlxuICpcbiAqIENvbnN0cmFpbnRzIGVuZm9yY2VkIGluIHRoZSBtYW5hZ2VkIGJpbmRpbmc6XG4gKlxuICogICgxKSBjbG9zZSgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlLiAgT25jZSBpdCBoYXMgYmVlbiBjYWxsZWQsIG5vdGhpbmcgZWxzZSBtYXkgYmUgY2FsbGVkLlxuICogICgyKSBzZW5kTWVzc2FnZSgpIG1heSBvbmx5IGJlIGNhbGxlZCBhZnRlciBzdWNjZXNzZnVsIHN0cmVhbSBhY3RpdmF0aW9uIGFuZCBiZWZvcmUgdGhlXG4gKiAgICAgIHN0cmVhbSBoYXMgYmVlbiBjbG9zZWQuXG4gKiAgKDMpIGFjdGl2YXRlKCkgbWF5IG9ubHkgYmUgY2FsbGVkIG9uY2UuICBDb21iaW5lZCB3aXRoICgxKSBhbmQgKDIpLCB0aGlzIG1lYW5zIHRoYXQgaWYgYWN0aXZhdGUoKSBpcyBjYWxsZWQsIGl0IG11c3RcbiAqICAgICAgYmUgdGhlIGZpcnN0IHRoaW5nIGNhbGxlZC5cbiAqL1xudmFyIENsaWVudFN0cmVhbVN0YXRlO1xuKGZ1bmN0aW9uIChDbGllbnRTdHJlYW1TdGF0ZSkge1xuICAgIENsaWVudFN0cmVhbVN0YXRlW0NsaWVudFN0cmVhbVN0YXRlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgQ2xpZW50U3RyZWFtU3RhdGVbQ2xpZW50U3RyZWFtU3RhdGVbXCJBY3RpdmF0aW5nXCJdID0gMV0gPSBcIkFjdGl2YXRpbmdcIjtcbiAgICBDbGllbnRTdHJlYW1TdGF0ZVtDbGllbnRTdHJlYW1TdGF0ZVtcIkFjdGl2YXRlZFwiXSA9IDJdID0gXCJBY3RpdmF0ZWRcIjtcbiAgICBDbGllbnRTdHJlYW1TdGF0ZVtDbGllbnRTdHJlYW1TdGF0ZVtcIkVuZGVkXCJdID0gM10gPSBcIkVuZGVkXCI7XG4gICAgQ2xpZW50U3RyZWFtU3RhdGVbQ2xpZW50U3RyZWFtU3RhdGVbXCJDbG9zZWRcIl0gPSA0XSA9IFwiQ2xvc2VkXCI7XG59KShDbGllbnRTdHJlYW1TdGF0ZSB8fCAoQ2xpZW50U3RyZWFtU3RhdGUgPSB7fSkpO1xuLyoqXG4gKiBXcmFwcGVyIGZvciBhbiBpbmRpdmlkdWFsIHN0cmVhbSB3aXRoaW4gYW4gZXZlbnRzdHJlYW0gY29ubmVjdGlvbi5cbiAqXG4gKiBUaGUgdXNlciAqKm11c3QqKiBjYWxsIGNsb3NlKCkgb24gYSBzdHJlYW0gb25jZSBmaW5pc2hlZCB3aXRoIGl0LiAgT25jZSBjbG9zZSgpIGhhcyBiZWVuIGNhbGxlZCwgbm8gbW9yZSBldmVudHNcbiAqIHdpbGwgYmUgZW1pdHRlZCBhbmQgYWxsIHB1YmxpYyBBUEkgaW52b2NhdGlvbnMgd2lsbCB0cmlnZ2VyIGFuIGV4Y2VwdGlvbi5cbiAqL1xuY2xhc3MgQ2xpZW50U3RyZWFtIGV4dGVuZHMgKDAsIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlTWl4aW4pKGV2ZW50XzEuQnVmZmVyZWRFdmVudEVtaXR0ZXIpIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3N1cGVyKGJpbmRpbmdfMS5kZWZhdWx0LmV2ZW50X3N0cmVhbV9jbGllbnRfc3RyZWFtX25ldyh0aGlzLCBjb25uZWN0aW9uLm5hdGl2ZV9oYW5kbGUoKSwgKHN0cmVhbSkgPT4geyBDbGllbnRTdHJlYW0uX3Nfb25fc3RyZWFtX2VuZGVkKHN0cmVhbSk7IH0sIChzdHJlYW0sIG1lc3NhZ2UpID0+IHsgQ2xpZW50U3RyZWFtLl9zX29uX3N0cmVhbV9tZXNzYWdlKHN0cmVhbSwgbWVzc2FnZSk7IH0pKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IENsaWVudFN0cmVhbVN0YXRlLk5vbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNodXRzIGRvd24gdGhlIHN0cmVhbSAoaWYgYWN0aXZlKSBhbmQgYmVnaW5zIHRoZSBwcm9jZXNzIHRvIHJlbGVhc2UgbmF0aXZlIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggaXQgYnlcbiAgICAgKiBoYXZpbmcgdGhlIG5hdGl2ZSBiaW5kaW5nIHJlbGVhc2UgdGhlIG9ubHkgcmVmZXJlbmNlIHRvIHRoZSBleHRlcm4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RyZWFtLiAgT25jZVxuICAgICAqIGNsb3NlKCkgaGFzIGJlZW4gY2FsbGVkLCBubyBtb3JlIGV2ZW50cyB3aWxsIGJlIGVtaXR0ZWQgYW5kIGFsbCBwdWJsaWMgQVBJIGludm9jYXRpb25zIHdpbGwgdHJpZ2dlciBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBVbHRpbWF0ZWx5LCB0aGUgbmF0aXZlIHJlc291cmNlcyB3aWxsIG5vdCBiZSByZWxlYXNlZCB1bnRpbCB0aGUgbmF0aXZlIHN0cmVhbSBoYXMgZnVsbHkgc2h1dCBkb3duIGFuZCB0aGF0XG4gICAgICogc2h1dGRvd24gZXZlbnQgaGFzIHJlYWNoZWQgdGhlIGxpYnV2IGV2ZW50IGxvb3AuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uICoqbXVzdCoqIGJlIGNhbGxlZCBmb3IgZXZlcnkgQ2xpZW50U3RyZWFtIGluc3RhbmNlIG9yIG5hdGl2ZSByZXNvdXJjZXMgd2lsbCBsZWFrLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBDbGllbnRTdHJlYW1TdGF0ZS5DbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRTdHJlYW1TdGF0ZS5DbG9zZWQ7XG4gICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5ldmVudF9zdHJlYW1fY2xpZW50X3N0cmVhbV9jbG9zZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIHRoZSBzdHJlYW0sIGFsbG93aW5nIGl0IHRvIHN0YXJ0IHNlbmRpbmcgYW5kIHJlY2VpdmluZyBtZXNzYWdlcy4gIFRoZSBwcm9taXNlIGNvbXBsZXRlcyB3aGVuXG4gICAgICogdGhlIGFjdGl2YXRpb24gbWVzc2FnZSBoYXMgYmVlbiB3cml0dGVuIHRvIHRoZSB3aXJlLlxuICAgICAqXG4gICAgICogYWN0aXZhdGUoKSBtYXkgb25seSBiZSBjYWxsZWQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0tIGNvbmZpZ3VyYXRpb24gZGF0YSBmb3Igc3RyZWFtIGFjdGl2YXRpb24sIGluY2x1ZGluZyBvcGVyYXRpb24gbmFtZSBhbmQgaW5pdGlhbCBtZXNzYWdlXG4gICAgICovXG4gICAgYWN0aXZhdGUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGNsZWFudXBDYW5jZWxMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBhY3RpdmF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gQ2xpZW50U3RyZWFtU3RhdGUuTm9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gaW4gYSBzdGF0ZSAoJHt0aGlzLnN0YXRlfSkgd2hlcmUgYWN0aXZhdGlvbiBpcyBub3QgYWxsb3dlZC5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICogSW50ZW50aW9uYWxseSBjaGVjayB0aGlzIGFmdGVyIHRoZSBzdGF0ZSBjaGVjayAoc28gY2xvc2VkIHN0cmVhbXMgZG8gbm90IHJlYWNoIGhlcmUpLlxuICAgICAgICAgICAgICAgICAgICAgKiBJbnRlbnRpb25hbGx5IG11dGF0ZSBzdGF0ZSB0aGUgc2FtZSB3YXkgYSBmYWlsZWQgc3luY2hyb25vdXMgY2FsbCB0byBuYXRpdmUgYWN0aXZhdGUgZG9lcy5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRTdHJlYW1TdGF0ZS5FbmRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkludmFsaWQgb3B0aW9ucyBwYXNzZWQgdG8gQ2xpZW50U3RyZWFtLmFjdGl2YXRlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQ2xpZW50U3RyZWFtU3RhdGUuQWN0aXZhdGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FuY2VsQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBhY3RpdmF0ZSgpIGNhbmNlbGxlZCBieSBleHRlcm5hbCByZXF1ZXN0LmApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4geyB0aGlzLmNsb3NlKCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXBDYW5jZWxMaXN0ZW5lciA9IG9wdGlvbnMuY2FuY2VsQ29udHJvbGxlci5hZGRMaXN0ZW5lcihjYW5jZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbGVhbnVwQ2FuY2VsTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY3VycmllZFByb21pc2VDYWxsYmFjayhzdHJlYW0sIGVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENsaWVudFN0cmVhbS5fc19vbl9zdHJlYW1fYWN0aXZhdGVkKHJlc29sdmUsIHJlamVjdCwgc3RyZWFtLCBlcnJvckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0LmV2ZW50X3N0cmVhbV9jbGllbnRfc3RyZWFtX2FjdGl2YXRlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBvcHRpb25zLCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENsaWVudFN0cmVhbVN0YXRlLkVuZGVkO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5tYWtlU2VsZkNsZWFuaW5nUHJvbWlzZShhY3RpdmF0ZVByb21pc2UsIGNsZWFudXBDYW5jZWxMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBzZW5kIGFuIGV2ZW50IHN0cmVhbSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgY29uZmlndXJhdGlvbiAtLSBpbmNsdWRpbmcgdGhlIG1lc3NhZ2UgaXRzZWxmIC0tIGZvciBzZW5kaW5nIGEgbWVzc2FnZVxuICAgICAqXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aGVuIHRoZSBtZXNzYWdlIGlzIHN1Y2Nlc3NmdWxseSBmbHVzaGVkIHRvIHRoZSB3aXJlLCBhbmQgcmVqZWN0ZWQgaWZcbiAgICAgKiBhbiBlcnJvciBvY2N1cnMgcHJpb3IgdG8gdGhhdCBwb2ludC5cbiAgICAgKi9cbiAgICBzZW5kTWVzc2FnZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgY2xlYW51cENhbmNlbExpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IHNlbmRNZXNzYWdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkludmFsaWQgb3B0aW9ucyBwYXNzZWQgdG8gQ2xpZW50U3RyZWFtLnNlbmRNZXNzYWdlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBDbGllbnRTdHJlYW1TdGF0ZS5BY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihgRXZlbnQgc3RyZWFtIGluIGEgc3RhdGUgKCR7dGhpcy5zdGF0ZX0pIHdoZXJlIHNlbmRpbmcgbWVzc2FnZXMgaXMgbm90IGFsbG93ZWQuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gc2VuZE1lc3NhZ2UoKSBjYW5jZWxsZWQgYnkgZXh0ZXJuYWwgcmVxdWVzdC5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHsgdGhpcy5jbG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSBvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIuYWRkTGlzdGVuZXIoY2FuY2VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xlYW51cENhbmNlbExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGN1cnJpZWRQcm9taXNlQ2FsbGJhY2soZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2xpZW50U3RyZWFtLl9zX29uX3N0cmVhbV9zZW5kX21lc3NhZ2VfY29tcGxldGlvbihyZXNvbHZlLCByZWplY3QsIGVycm9yQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaW52b2tlIG5hdGl2ZSBiaW5kaW5nIHNlbmQgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuZXZlbnRfc3RyZWFtX2NsaWVudF9zdHJlYW1fc2VuZF9tZXNzYWdlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBvcHRpb25zLCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UubWFrZVNlbGZDbGVhbmluZ1Byb21pc2Uoc2VuZE1lc3NhZ2VQcm9taXNlLCBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdHJlYW0gaXMgY3VycmVudGx5IGFjdGl2ZSBhbmQgcmVhZHktdG8tdXNlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09IENsaWVudFN0cmVhbVN0YXRlLkFjdGl2YXRlZDtcbiAgICB9XG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fc3RyZWFtX2FjdGl2YXRlZChyZXNvbHZlLCByZWplY3QsIHN0cmVhbSwgZXJyb3JDb2RlKSB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT0gMCAmJiBzdHJlYW0uc3RhdGUgPT0gQ2xpZW50U3RyZWFtU3RhdGUuQWN0aXZhdGluZykge1xuICAgICAgICAgICAgc3RyZWFtLnN0YXRlID0gQ2xpZW50U3RyZWFtU3RhdGUuQWN0aXZhdGVkO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN0cmVhbS5zdGF0ZSAhPSBDbGllbnRTdHJlYW1TdGF0ZS5DbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uc3RhdGUgPSBDbGllbnRTdHJlYW1TdGF0ZS5FbmRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlamVjdChpby5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvckNvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fc3RyZWFtX3NlbmRfbWVzc2FnZV9jb21wbGV0aW9uKHJlc29sdmUsIHJlamVjdCwgZXJyb3JDb2RlKSB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT0gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yQ29kZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9zdHJlYW1fZW5kZWQoc3RyZWFtKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLmVtaXQoQ2xpZW50U3RyZWFtLkVOREVELCB7fSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fc3RyZWFtX21lc3NhZ2Uoc3RyZWFtLCBtZXNzYWdlKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLmVtaXQoQ2xpZW50U3RyZWFtLk1FU1NBR0UsIHsgbWVzc2FnZTogbWFwUG9kTWVzc2FnZVRvSlNNZXNzYWdlKG1lc3NhZ2UpIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudFN0cmVhbSA9IENsaWVudFN0cmVhbTtcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBzdHJlYW0gaXMgc2h1dCBkb3duIGZvciBhbnkgcmVhc29uLlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBTdHJlYW1FbmRlZExpc3RlbmVyfVxuICpcbiAqIEBldmVudFxuICovXG5DbGllbnRTdHJlYW0uRU5ERUQgPSAnZW5kZWQnO1xuLyoqXG4gKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBzdHJlYW0gbWVzc2FnZSBpcyByZWNlaXZlZCBmcm9tIHRoZSByZW1vdGUgZW5kcG9pbnRcbiAqXG4gKiBMaXN0ZW5lciB0eXBlOiB7QGxpbmsgTWVzc2FnZUxpc3RlbmVyfVxuICpcbiAqIEBldmVudFxuICovXG5DbGllbnRTdHJlYW0uTUVTU0FHRSA9ICdtZXNzYWdlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50c3RyZWFtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudW5tYXJzaGFsSW50NjRCaWdpbnRGcm9tQnVmZmVyID0gZXhwb3J0cy5tYXJzaGFsSW50NjRCaWdpbnRBc0J1ZmZlciA9IGV4cG9ydHMuTUlOX0lOVDY0ID0gZXhwb3J0cy5NQVhfSU5UNjQgPSBleHBvcnRzLk1JTl9JTlQzMiA9IGV4cG9ydHMuTUFYX0lOVDMyID0gZXhwb3J0cy5NSU5fSU5UMTYgPSBleHBvcnRzLk1BWF9JTlQxNiA9IGV4cG9ydHMuTUlOX0lOVDggPSBleHBvcnRzLk1BWF9JTlQ4ID0gdm9pZCAwO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuLypcbiogTGltaXRzIGZvciBoZWFkZXIgdmFsdWUgdmFsaWRhdGlvblxuKi9cbmV4cG9ydHMuTUFYX0lOVDggPSAxMjc7XG5leHBvcnRzLk1JTl9JTlQ4ID0gLTEyODtcbmV4cG9ydHMuTUFYX0lOVDE2ID0gMzI3Njc7XG5leHBvcnRzLk1JTl9JTlQxNiA9IC0zMjc2ODtcbmV4cG9ydHMuTUFYX0lOVDMyID0gMjE0NzQ4MzY0NztcbmV4cG9ydHMuTUlOX0lOVDMyID0gLTIxNDc0ODM2NDg7XG5leHBvcnRzLk1BWF9JTlQ2NCA9IEJpZ0ludChcIjkyMjMzNzIwMzY4NTQ3NzU4MDdcIik7XG5leHBvcnRzLk1JTl9JTlQ2NCA9IEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpO1xuY29uc3QgTUFYX1VJTlQ4X0FTX0JJR0lOVCA9IEJpZ0ludChcIjI1NlwiKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIG1hcnNoYWxJbnQ2NEJpZ2ludEFzQnVmZmVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgZXhwb3J0cy5NSU5fSU5UNjQgfHwgdmFsdWUgPiBleHBvcnRzLk1BWF9JTlQ2NCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIm1hcnNoYWxJbnQ2NEJpZ2ludEFzQnVmZmVyIGV4cGVjdHMgYSB2YWx1ZSB0aGF0IGNhbiBmaXQgaW4gOCBieXRlc1wiKTtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgIC8qIGVuY29kZSB0aGUgaW50ZWdlciBhcyBhIHR3b3MtY29tcGxlbWVudCBieXRlIHNlcXVlbmNlICovXG4gICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICB2YWx1ZSA9IC12YWx1ZSAtIEJpZ0ludCgxKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgICAgIGJ1ZmZlcltpXSA9IDI1NSAtIE51bWJlcih2YWx1ZSAlIE1BWF9VSU5UOF9BU19CSUdJTlQpO1xuICAgICAgICAgICAgdmFsdWUgLz0gTUFYX1VJTlQ4X0FTX0JJR0lOVDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE51bWJlcih2YWx1ZSAlIE1BWF9VSU5UOF9BU19CSUdJTlQpO1xuICAgICAgICAgICAgdmFsdWUgLz0gTUFYX1VJTlQ4X0FTX0JJR0lOVDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xufVxuZXhwb3J0cy5tYXJzaGFsSW50NjRCaWdpbnRBc0J1ZmZlciA9IG1hcnNoYWxJbnQ2NEJpZ2ludEFzQnVmZmVyO1xuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gdW5tYXJzaGFsSW50NjRCaWdpbnRGcm9tQnVmZmVyKGJ1ZmZlcikge1xuICAgIGxldCB2YWx1ZSA9IEJpZ0ludCgwKTtcbiAgICBsZXQgYnl0ZVZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIGlmIChieXRlVmlldy5sZW5ndGggIT0gOCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcInVubWFyc2hhbEludDY0QmlnaW50RnJvbUJ1ZmZlciBleHBlY3RzIGEgYnl0ZSBidWZmZXIgb2YgbGVuZ3RoIDhcIik7XG4gICAgfVxuICAgIGxldCBzaGlmdCA9IEJpZ0ludCgxKTtcbiAgICBsZXQgaXNOZWdhdGl2ZSA9IChieXRlVmlld1s3XSAmIDB4ODApICE9IDA7XG4gICAgLyogZW5jb2RpbmcgaXMgdHdvJ3MtY29tcGxlbWVudCwgc28gdHJlYXQgbmVnYXRpdmUgYW5kIG5vbi1uZWdhdGl2ZSBkaWZmZXJlbnRseSAqL1xuICAgIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVZpZXcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBieXRlVmFsdWUgPSBCaWdJbnQoMjU1IC0gYnl0ZVZpZXdbaV0pO1xuICAgICAgICAgICAgdmFsdWUgKz0gKGJ5dGVWYWx1ZSAqIHNoaWZ0KTtcbiAgICAgICAgICAgIHNoaWZ0ICo9IE1BWF9VSU5UOF9BU19CSUdJTlQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gQmlnSW50KDEpO1xuICAgICAgICB2YWx1ZSA9IC12YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVZpZXcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBieXRlVmFsdWUgPSBCaWdJbnQoYnl0ZVZpZXdbaV0pO1xuICAgICAgICAgICAgdmFsdWUgKz0gKGJ5dGVWYWx1ZSAqIHNoaWZ0KTtcbiAgICAgICAgICAgIHNoaWZ0ICo9IE1BWF9VSU5UOF9BU19CSUdJTlQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0cy51bm1hcnNoYWxJbnQ2NEJpZ2ludEZyb21CdWZmZXIgPSB1bm1hcnNoYWxJbnQ2NEJpZ2ludEZyb21CdWZmZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHN0cmVhbV91dGlscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkh0dHBDbGllbnRDb25uZWN0aW9uTWFuYWdlciA9IGV4cG9ydHMuSHR0cENsaWVudFN0cmVhbSA9IGV4cG9ydHMuSHR0cFN0cmVhbSA9IGV4cG9ydHMuSHR0cENsaWVudENvbm5lY3Rpb24gPSBleHBvcnRzLkh0dHBQcm94eU9wdGlvbnMgPSBleHBvcnRzLkh0dHBQcm94eUNvbm5lY3Rpb25UeXBlID0gZXhwb3J0cy5IdHRwQ29ubmVjdGlvbiA9IGV4cG9ydHMuSHR0cFJlcXVlc3QgPSBleHBvcnRzLkh0dHBIZWFkZXJzID0gZXhwb3J0cy5IdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUgPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIHN1cHBvcnQgZm9yIGNyZWF0aW5nIGh0dHAgY29ubmVjdGlvbnMgYW5kIG1ha2luZyByZXF1ZXN0cyBvbiB0aGVtLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBodHRwXG4gKiBAbWVyZ2VUYXJnZXRcbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuY29uc3QgbmF0aXZlX3Jlc291cmNlXzEgPSByZXF1aXJlKFwiLi9uYXRpdmVfcmVzb3VyY2VcIik7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG5jb25zdCBodHRwXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2h0dHBcIik7XG4vKiogQGludGVybmFsICovXG52YXIgaHR0cF8yID0gcmVxdWlyZShcIi4uL2NvbW1vbi9odHRwXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwXzIuSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlOyB9IH0pO1xuY29uc3QgZXZlbnRfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vZXZlbnRcIik7XG4vKipcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbmV4cG9ydHMuSHR0cEhlYWRlcnMgPSBiaW5kaW5nXzEuZGVmYXVsdC5IdHRwSGVhZGVycztcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IG5hdGl2ZUh0dHBSZXF1ZXN0ID0gYmluZGluZ18xLmRlZmF1bHQuSHR0cFJlcXVlc3Q7XG4vKipcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbmNsYXNzIEh0dHBSZXF1ZXN0IGV4dGVuZHMgbmF0aXZlSHR0cFJlcXVlc3Qge1xuICAgIGNvbnN0cnVjdG9yKG1ldGhvZCwgcGF0aCwgaGVhZGVycywgYm9keSkge1xuICAgICAgICBzdXBlcihtZXRob2QsIHBhdGgsIGhlYWRlcnMsIGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9keS5uYXRpdmVfaGFuZGxlKCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cFJlcXVlc3QgPSBIdHRwUmVxdWVzdDtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgSFRUUCBjb25uZWN0aW9uc1xuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbmNsYXNzIEh0dHBDb25uZWN0aW9uIGV4dGVuZHMgKDAsIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlTWl4aW4pKGV2ZW50XzEuQnVmZmVyZWRFdmVudEVtaXR0ZXIpIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVfaGFuZGxlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3N1cGVyKG5hdGl2ZV9oYW5kbGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29ubmVjdGlvbi5cbiAgICAgKiBTaHV0ZG93biBpcyBhc3luY2hyb25vdXMuIFRoaXMgY2FsbCBoYXMgbm8gZWZmZWN0IGlmIHRoZSBjb25uZWN0aW9uIGlzIGFscmVhZHlcbiAgICAgKiBjbG9zaW5nLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5odHRwX2Nvbm5lY3Rpb25fY2xvc2UodGhpcy5uYXRpdmVfaGFuZGxlKCkpO1xuICAgIH1cbiAgICAvLyBPdmVycmlkZGVuIHRvIGFsbG93IHVuY29ya2luZyBvbiByZWFkeVxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBzdXBlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICBpZiAoZXZlbnQgPT0gJ2Nvbm5lY3QnKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuY29yaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwQ29ubmVjdGlvbiA9IEh0dHBDb25uZWN0aW9uO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY29ubmVjdGVkIGFuZCByZWFkeSB0byBzdGFydCBzdHJlYW1zXG4gKlxuICogQGV2ZW50XG4gKi9cbkh0dHBDb25uZWN0aW9uLkNPTk5FQ1QgPSAnY29ubmVjdCc7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgb24gdGhlIGNvbm5lY3Rpb25cbiAqXG4gKiBAZXZlbnRcbiAqL1xuSHR0cENvbm5lY3Rpb24uRVJST1IgPSAnZXJyb3InO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaGFzIGNvbXBsZXRlZFxuICpcbiAqIEBldmVudFxuICovXG5IdHRwQ29ubmVjdGlvbi5DTE9TRSA9ICdjbG9zZSc7XG4vKipcbiAqIFByb3h5IGNvbm5lY3Rpb24gdHlwZXMuXG4gKlxuICogVGhlIG9yaWdpbmFsIGJlaGF2aW9yIHdhcyB0byBtYWtlIGEgdHVubmVsaW5nIGNvbm5lY3Rpb24gaWYgVExTIHdhcyB1c2VkLCBhbmQgYSBmb3J3YXJkaW5nIGNvbm5lY3Rpb24gaWYgaXQgd2FzIG5vdC5cbiAqIFRoZXJlIGFyZSBsZWdpdGltYXRlIHVzZSBjYXNlcyBmb3IgcGxhaW50ZXh0IHR1bm5lbGluZyBjb25uZWN0aW9ucywgYW5kIHNvIHRoZSBpbXBsaWNpdCBiZWhhdmlvciBoYXMgbm93XG4gKiBiZWVuIHJlcGxhY2VkIGJ5IHRoaXMgc2V0dGluZywgd2l0aCBhIGRlZmF1bHQgdGhhdCBtYXBzIHRvIHRoZSBvbGQgYmVoYXZpb3IuXG4gKlxuICogQGNhdGVnb3J5IEhUVFBcbiAqL1xudmFyIEh0dHBQcm94eUNvbm5lY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChIdHRwUHJveHlDb25uZWN0aW9uVHlwZSkge1xuICAgIC8qKlxuICAgICAqIChEZWZhdWx0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkuICBJZiBUbHMgb3B0aW9ucyBhcmUgc3VwcGxpZWQgdGhlbiB0aGUgY29ubmVjdGlvbiB3aWxsIGJlIGEgdHVubmVsaW5nXG4gICAgICogb25lLCBvdGhlcndpc2UgaXQgd2lsbCBiZSBhIGZvcndhcmRpbmcgb25lLlxuICAgICAqL1xuICAgIEh0dHBQcm94eUNvbm5lY3Rpb25UeXBlW0h0dHBQcm94eUNvbm5lY3Rpb25UeXBlW1wiTGVnYWN5XCJdID0gMF0gPSBcIkxlZ2FjeVwiO1xuICAgIC8qKlxuICAgICAqIEVzdGFibGlzaCBhIGZvcndhcmRpbmctYmFzZWQgY29ubmVjdGlvbiB3aXRoIHRoZSBwcm94eS4gIFRscyBpcyBub3QgYWxsb3dlZCBpbiB0aGlzIGNhc2UuXG4gICAgICovXG4gICAgSHR0cFByb3h5Q29ubmVjdGlvblR5cGVbSHR0cFByb3h5Q29ubmVjdGlvblR5cGVbXCJGb3J3YXJkaW5nXCJdID0gMV0gPSBcIkZvcndhcmRpbmdcIjtcbiAgICAvKipcbiAgICAgKiBFc3RhYmxpc2ggYSB0dW5uZWxpbmctYmFzZWQgY29ubmVjdGlvbiB3aXRoIHRoZSBwcm94eS5cbiAgICAgKi9cbiAgICBIdHRwUHJveHlDb25uZWN0aW9uVHlwZVtIdHRwUHJveHlDb25uZWN0aW9uVHlwZVtcIlR1bm5lbGluZ1wiXSA9IDJdID0gXCJUdW5uZWxpbmdcIjtcbn0pKEh0dHBQcm94eUNvbm5lY3Rpb25UeXBlID0gZXhwb3J0cy5IdHRwUHJveHlDb25uZWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5IdHRwUHJveHlDb25uZWN0aW9uVHlwZSA9IHt9KSk7XG47XG4vKipcbiAqIFByb3h5IG9wdGlvbnMgZm9yIEhUVFAgY2xpZW50cy5cbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBIdHRwUHJveHlPcHRpb25zIGV4dGVuZHMgaHR0cF8xLkNvbW1vbkh0dHBQcm94eU9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvc3RfbmFtZSBOYW1lIG9mIHRoZSBwcm94eSBzZXJ2ZXIgdG8gY29ubmVjdCB0aHJvdWdoXG4gICAgICogQHBhcmFtIHBvcnQgUG9ydCBudW1iZXIgb2YgdGhlIHByb3h5IHNlcnZlciB0byBjb25uZWN0IHRocm91Z2hcbiAgICAgKiBAcGFyYW0gYXV0aF9tZXRob2QgVHlwZSBvZiBwcm94eSBhdXRoZW50aWNhdGlvbiB0byB1c2UuIERlZmF1bHQgaXMge0BsaW5rIEh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZS5Ob25lfVxuICAgICAqIEBwYXJhbSBhdXRoX3VzZXJuYW1lIFVzZXJuYW1lIHRvIHVzZSB3aGVuIGBhdXRoX3R5cGVgIGlzIHtAbGluayBIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUuQmFzaWN9XG4gICAgICogQHBhcmFtIGF1dGhfcGFzc3dvcmQgUGFzc3dvcmQgdG8gdXNlIHdoZW4gYGF1dGhfdHlwZWAgaXMge0BsaW5rIEh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZS5CYXNpY31cbiAgICAgKiBAcGFyYW0gdGxzX29wdHMgT3B0aW9uYWwgVExTIGNvbm5lY3Rpb24gb3B0aW9ucyBmb3IgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIHByb3h5IGhvc3QuXG4gICAgICogICAgICAgICAgICAgICAgIE11c3QgYmUgZGlzdGluY3QgZnJvbSB0aGUge0BsaW5rIFRsc0Nvbm5lY3Rpb25PcHRpb25zfSBwcm92aWRlZCB0b1xuICAgICAqICAgICAgICAgICAgICAgICB0aGUgSFRUUCBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIGNvbm5lY3Rpb25fdHlwZSBPcHRpb25hbCBUeXBlIG9mIGNvbm5lY3Rpb24gdG8gbWFrZS4gIElmIG5vdCBzcGVjaWZpZWQsXG4gICAgICogICAgICAgICAgICAgICAgIHtAbGluayBIdHRwUHJveHlDb25uZWN0aW9uVHlwZS5MZWdhY3l9IHdpbGwgYmUgdXNlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihob3N0X25hbWUsIHBvcnQsIGF1dGhfbWV0aG9kID0gaHR0cF8xLkh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZS5Ob25lLCBhdXRoX3VzZXJuYW1lLCBhdXRoX3Bhc3N3b3JkLCB0bHNfb3B0cywgY29ubmVjdGlvbl90eXBlKSB7XG4gICAgICAgIHN1cGVyKGhvc3RfbmFtZSwgcG9ydCwgYXV0aF9tZXRob2QsIGF1dGhfdXNlcm5hbWUsIGF1dGhfcGFzc3dvcmQpO1xuICAgICAgICB0aGlzLnRsc19vcHRzID0gdGxzX29wdHM7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbl90eXBlID0gY29ubmVjdGlvbl90eXBlO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgY3JlYXRlX25hdGl2ZV9oYW5kbGUoKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5odHRwX3Byb3h5X29wdGlvbnNfbmV3KHRoaXMuaG9zdF9uYW1lLCB0aGlzLnBvcnQsIHRoaXMuYXV0aF9tZXRob2QsIHRoaXMuYXV0aF91c2VybmFtZSwgdGhpcy5hdXRoX3Bhc3N3b3JkLCB0aGlzLnRsc19vcHRzID8gdGhpcy50bHNfb3B0cy5uYXRpdmVfaGFuZGxlKCkgOiB1bmRlZmluZWQsIHRoaXMuY29ubmVjdGlvbl90eXBlID8gdGhpcy5jb25uZWN0aW9uX3R5cGUgOiBIdHRwUHJveHlDb25uZWN0aW9uVHlwZS5MZWdhY3kpO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cFByb3h5T3B0aW9ucyA9IEh0dHBQcm94eU9wdGlvbnM7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gSFRUUCBjb25uZWN0aW9uIGZyb20gYSBjbGllbnQgdG8gYSBzZXJ2ZXJcbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBIdHRwQ2xpZW50Q29ubmVjdGlvbiBleHRlbmRzIEh0dHBDb25uZWN0aW9uIHtcbiAgICAvKiogQXN5bmNocm9ub3VzbHkgZXN0YWJsaXNoIGEgbmV3IEh0dHBDbGllbnRDb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBib290c3RyYXAgQ2xpZW50IGJvb3RzdHJhcCB0byB1c2Ugd2hlbiBpbml0aWF0aW5nIHNvY2tldCBjb25uZWN0aW9uLiAgTGVhdmUgdW5kZWZpbmVkIHRvIHVzZSB0aGVcbiAgICAgKiAgICAgICAgICBkZWZhdWx0IHN5c3RlbS13aWRlIGJvb3RzdHJhcCAocmVjb21tZW5kZWQpLlxuICAgICAqIEBwYXJhbSBob3N0X25hbWUgSG9zdCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIHBvcnQgUG9ydCB0byBjb25uZWN0IHRvIG9uIGhvc3RcbiAgICAgKiBAcGFyYW0gc29ja2V0X29wdGlvbnMgU29ja2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gdGxzX29wdHMgT3B0aW9uYWwgVExTIGNvbm5lY3Rpb24gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBwcm94eV9vcHRpb25zIE9wdGlvbmFsIHByb3h5IG9wdGlvbnNcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJvb3RzdHJhcCwgaG9zdF9uYW1lLCBwb3J0LCBzb2NrZXRfb3B0aW9ucywgdGxzX29wdHMsIHByb3h5X29wdGlvbnMsIGhhbmRsZSkge1xuICAgICAgICBpZiAoc29ja2V0X29wdGlvbnMgPT0gbnVsbCB8fCBzb2NrZXRfb3B0aW9ucyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiSHR0cENsaWVudENvbm5lY3Rpb24gY29uc3RydWN0b3I6IHNvY2tldF9vcHRpb25zIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGhhbmRsZVxuICAgICAgICAgICAgPyBoYW5kbGVcbiAgICAgICAgICAgIDogYmluZGluZ18xLmRlZmF1bHQuaHR0cF9jb25uZWN0aW9uX25ldyhib290c3RyYXAgIT0gbnVsbCA/IGJvb3RzdHJhcC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCAoaGFuZGxlLCBlcnJvcl9jb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25fc2V0dXAoaGFuZGxlLCBlcnJvcl9jb2RlKTtcbiAgICAgICAgICAgIH0sIChoYW5kbGUsIGVycm9yX2NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbl9zaHV0ZG93bihoYW5kbGUsIGVycm9yX2NvZGUpO1xuICAgICAgICAgICAgfSwgaG9zdF9uYW1lLCBwb3J0LCBzb2NrZXRfb3B0aW9ucy5uYXRpdmVfaGFuZGxlKCksIHRsc19vcHRzID8gdGxzX29wdHMubmF0aXZlX2hhbmRsZSgpIDogdW5kZWZpbmVkLCBwcm94eV9vcHRpb25zID8gcHJveHlfb3B0aW9ucy5jcmVhdGVfbmF0aXZlX2hhbmRsZSgpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIHRoaXMuYm9vdHN0cmFwID0gYm9vdHN0cmFwO1xuICAgICAgICB0aGlzLnNvY2tldF9vcHRpb25zID0gc29ja2V0X29wdGlvbnM7XG4gICAgICAgIHRoaXMudGxzX29wdHMgPSB0bHNfb3B0cztcbiAgICB9XG4gICAgX29uX3NldHVwKG5hdGl2ZV9oYW5kbGUsIGVycm9yX2NvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgZXJyb3JfMS5DcnRFcnJvcihlcnJvcl9jb2RlKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0Jyk7XG4gICAgfVxuICAgIF9vbl9zaHV0ZG93bihuYXRpdmVfaGFuZGxlLCBlcnJvcl9jb2RlKSB7XG4gICAgICAgIGlmIChlcnJvcl9jb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IGVycm9yXzEuQ3J0RXJyb3IoZXJyb3JfY29kZSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnY2xvc2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHtAbGluayBIdHRwQ2xpZW50U3RyZWFtfSB0byBjYXJyeSBvdXQgdGhlIHJlcXVlc3QvcmVzcG9uc2UgZXhjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGUgc3RyZWFtIHNlbmRzIG5vIGRhdGEgdW50aWwgOm1ldGg6YEh0dHBDbGllbnRTdHJlYW0uYWN0aXZhdGUoKWBcbiAgICAgKiBpcyBjYWxsZWQuIENhbGwge0BsaW5rIEh0dHBTdHJlYW0uYWN0aXZhdGV9IHdoZW4geW91J3JlIHJlYWR5IGZvclxuICAgICAqIGNhbGxiYWNrcyBhbmQgZXZlbnRzIHRvIGZpcmUuXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgSHR0cFJlcXVlc3QgdG8gYXR0ZW1wdCBvbiB0aGlzIGNvbm5lY3Rpb25cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBzdHJlYW0gdGhhdCB3aWxsIGRlbGl2ZXIgZXZlbnRzIGZvciB0aGUgcmVxdWVzdFxuICAgICAqL1xuICAgIHJlcXVlc3QocmVxdWVzdCkge1xuICAgICAgICBsZXQgc3RyZWFtO1xuICAgICAgICBjb25zdCBvbl9yZXNwb25zZV9pbXBsID0gKHN0YXR1c19jb2RlLCBoZWFkZXJzKSA9PiB7XG4gICAgICAgICAgICBzdHJlYW0uX29uX3Jlc3BvbnNlKHN0YXR1c19jb2RlLCBoZWFkZXJzKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25fYm9keV9pbXBsID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHN0cmVhbS5fb25fYm9keShkYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25fY29tcGxldGVfaW1wbCA9IChlcnJvcl9jb2RlKSA9PiB7XG4gICAgICAgICAgICBzdHJlYW0uX29uX2NvbXBsZXRlKGVycm9yX2NvZGUpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBuYXRpdmVfaGFuZGxlID0gYmluZGluZ18xLmRlZmF1bHQuaHR0cF9zdHJlYW1fbmV3KHRoaXMubmF0aXZlX2hhbmRsZSgpLCByZXF1ZXN0LCBvbl9jb21wbGV0ZV9pbXBsLCBvbl9yZXNwb25zZV9pbXBsLCBvbl9ib2R5X2ltcGwpO1xuICAgICAgICByZXR1cm4gc3RyZWFtID0gbmV3IEh0dHBDbGllbnRTdHJlYW0obmF0aXZlX2hhbmRsZSwgdGhpcywgcmVxdWVzdCk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwQ2xpZW50Q29ubmVjdGlvbiA9IEh0dHBDbGllbnRDb25uZWN0aW9uO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIGh0dHAgbWVzc2FnZSBleGNoYW5nZSAocmVxdWVzdC9yZXNwb25zZSkgaW4gSFRUUC8xLjEuIEluIEgyLCBpdCBtYXlcbiAqIGFsc28gcmVwcmVzZW50IGEgUFVTSF9QUk9NSVNFIGZvbGxvd2VkIGJ5IHRoZSBhY2NvbXBhbnlpbmcgcmVzcG9uc2UuXG4gKlxuICogTk9URTogQmluZGluZyBlaXRoZXIgdGhlIHJlYWR5IG9yIHJlc3BvbnNlIGV2ZW50IHdpbGwgdW5jb3JrIGFueSBidWZmZXJlZCBldmVudHMgYW5kIHN0YXJ0XG4gKiBldmVudCBkZWxpdmVyeVxuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbmNsYXNzIEh0dHBTdHJlYW0gZXh0ZW5kcyAoMCwgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2VNaXhpbikoZXZlbnRfMS5CdWZmZXJlZEV2ZW50RW1pdHRlcikge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZV9oYW5kbGUsIGNvbm5lY3Rpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fc3VwZXIobmF0aXZlX2hhbmRsZSk7XG4gICAgICAgIHRoaXMuY29yaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBzZW5kaW5nIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogVGhlIHN0cmVhbSBkb2VzIG5vdGhpbmcgdW50aWwgdGhpcyBpcyBjYWxsZWQuIENhbGwgYWN0aXZhdGUoKSB3aGVuIHlvdVxuICAgICAqIGFyZSByZWFkeSBmb3IgaXRzIGNhbGxiYWNrcyBhbmQgZXZlbnRzIHRvIGZpcmUuXG4gICAgICovXG4gICAgYWN0aXZhdGUoKSB7XG4gICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lmh0dHBfc3RyZWFtX2FjdGl2YXRlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFuZCBlbmRzIGFsbCBjb21tdW5pY2F0aW9uIG9uIHRoaXMgc3RyZWFtLiBDYWxsZWQgYXV0b21hdGljYWxseSBhZnRlciB0aGUgJ2VuZCdcbiAgICAgKiBldmVudCBpcyBkZWxpdmVyZWQuIENhbGxpbmcgdGhpcyBtYW51YWxseSBpcyBvbmx5IG5lY2Vzc2FyeSBpZiB5b3Ugd2lzaCB0byB0ZXJtaW5hdGVcbiAgICAgKiBjb21tdW5pY2F0aW9uIG1pZC1yZXF1ZXN0L3Jlc3BvbnNlLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5odHRwX3N0cmVhbV9jbG9zZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25fYm9keShkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGF0YScsIGRhdGEpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX29uX2NvbXBsZXRlKGVycm9yX2NvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgZXJyb3JfMS5DcnRFcnJvcihlcnJvcl9jb2RlKSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NoZWR1bGUgZGVhdGggYWZ0ZXIgZW5kIGlzIGRlbGl2ZXJlZFxuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVtaXQoJ2VuZCcpO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cFN0cmVhbSA9IEh0dHBTdHJlYW07XG4vKipcbiAqIFN0cmVhbSB0aGF0IHNlbmRzIGEgcmVxdWVzdCBhbmQgcmVjZWl2ZXMgYSByZXNwb25zZS5cbiAqXG4gKiBDcmVhdGUgYW4gSHR0cENsaWVudFN0cmVhbSB3aXRoIHtAbGluayBIdHRwQ2xpZW50Q29ubmVjdGlvbi5yZXF1ZXN0fS5cbiAqXG4gKiBOT1RFOiBUaGUgc3RyZWFtIHNlbmRzIG5vIGRhdGEgdW50aWwge0BsaW5rIEh0dHBTdHJlYW0uYWN0aXZhdGV9IGlzIGNhbGxlZC5cbiAqIENhbGwge0BsaW5rIEh0dHBTdHJlYW0uYWN0aXZhdGV9IHdoZW4geW91J3JlIHJlYWR5IGZvciBjYWxsYmFja3MgYW5kIGV2ZW50cyB0byBmaXJlLlxuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbmNsYXNzIEh0dHBDbGllbnRTdHJlYW0gZXh0ZW5kcyBIdHRwU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVfaGFuZGxlLCBjb25uZWN0aW9uLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKG5hdGl2ZV9oYW5kbGUsIGNvbm5lY3Rpb24pO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIVFRQIHN0YXR1cyBjb2RlIHJldHVybmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcmV0dXJuIEVpdGhlciB0aGUgc3RhdHVzIGNvZGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgc2VydmVyIHJlc3BvbnNlIGhhcyBub3QgYXJyaXZlZCB5ZXQuXG4gICAgICovXG4gICAgc3RhdHVzX2NvZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlX3N0YXR1c19jb2RlO1xuICAgIH1cbiAgICAvLyBPdmVycmlkZGVuIHRvIGFsbG93IHVuY29ya2luZyBvbiByZWFkeSBhbmQgcmVzcG9uc2VcbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGV2ZW50ID09ICdyZXNwb25zZScpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudW5jb3JrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbl9yZXNwb25zZShzdGF0dXNfY29kZSwgaGVhZGVyX2FycmF5KSB7XG4gICAgICAgIHRoaXMucmVzcG9uc2Vfc3RhdHVzX2NvZGUgPSBzdGF0dXNfY29kZTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgZXhwb3J0cy5IdHRwSGVhZGVycyhoZWFkZXJfYXJyYXkpO1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc3BvbnNlJywgc3RhdHVzX2NvZGUsIGhlYWRlcnMpO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cENsaWVudFN0cmVhbSA9IEh0dHBDbGllbnRTdHJlYW07XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGUgaHR0cCByZXNwb25zZSBoZWFkZXJzIGhhdmUgYXJyaXZlZC5cbiAqXG4gKiBAZXZlbnRcbiAqL1xuSHR0cENsaWVudFN0cmVhbS5SRVNQT05TRSA9ICdyZXNwb25zZSc7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBodHRwIHJlc3BvbnNlIGRhdGEgaXMgYXZhaWxhYmxlLlxuICpcbiAqIEBldmVudFxuICovXG5IdHRwQ2xpZW50U3RyZWFtLkRBVEEgPSAnZGF0YSc7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgaW4gc3RyZWFtIHByb2Nlc3NpbmdcbiAqXG4gKiBAZXZlbnRcbiAqL1xuSHR0cENsaWVudFN0cmVhbS5FUlJPUiA9ICdlcnJvcic7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGUgc3RyZWFtIGhhcyBjb21wbGV0ZWRcbiAqXG4gKiBAZXZlbnRcbiAqL1xuSHR0cENsaWVudFN0cmVhbS5FTkQgPSAnZW5kJztcbi8qKlxuICogRW1pdHRlZCB3aGVuIGlubGluZSBoZWFkZXJzIGFyZSBkZWxpdmVyZWQgd2hpbGUgY29tbXVuaWNhdGluZyBvdmVyIEgyXG4gKlxuICogQGV2ZW50XG4gKi9cbkh0dHBDbGllbnRTdHJlYW0uSEVBREVSUyA9ICdoZWFkZXJzJztcbi8qKlxuICogQ3JlYXRlcywgbWFuYWdlcywgYW5kIHZlbmRzIGNvbm5lY3Rpb25zIHRvIGEgZ2l2ZW4gaG9zdC9wb3J0IGVuZHBvaW50XG4gKlxuICogQGNhdGVnb3J5IEhUVFBcbiAqL1xuY2xhc3MgSHR0cENsaWVudENvbm5lY3Rpb25NYW5hZ2VyIGV4dGVuZHMgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBib290c3RyYXAgQ2xpZW50IGJvb3RzdHJhcCB0byB1c2Ugd2hlbiBpbml0aWF0aW5nIHNvY2tldCBjb25uZWN0aW9ucy4gIExlYXZlIHVuZGVmaW5lZCB0byB1c2UgdGhlXG4gICAgICogICAgICAgICAgZGVmYXVsdCBzeXN0ZW0td2lkZSBib290c3RyYXAgKHJlY29tbWVuZGVkKS5cbiAgICAgKiBAcGFyYW0gaG9zdCBIb3N0IHRvIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gcG9ydCBQb3J0IHRvIGNvbm5lY3QgdG8gb24gaG9zdFxuICAgICAqIEBwYXJhbSBtYXhfY29ubmVjdGlvbnMgTWF4aW11bSBudW1iZXIgb2YgY29ubmVjdGlvbnMgdG8gcG9vbFxuICAgICAqIEBwYXJhbSBpbml0aWFsX3dpbmRvd19zaXplIE9wdGlvbmFsIGluaXRpYWwgd2luZG93IHNpemVcbiAgICAgKiBAcGFyYW0gc29ja2V0X29wdGlvbnMgU29ja2V0IG9wdGlvbnMgdG8gdXNlIHdoZW4gaW5pdGlhdGluZyBzb2NrZXQgY29ubmVjdGlvbnNcbiAgICAgKiBAcGFyYW0gdGxzX29wdHMgT3B0aW9uYWwgVExTIGNvbm5lY3Rpb24gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBwcm94eV9vcHRpb25zIE9wdGlvbmFsIHByb3h5IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihib290c3RyYXAsIGhvc3QsIHBvcnQsIG1heF9jb25uZWN0aW9ucywgaW5pdGlhbF93aW5kb3dfc2l6ZSwgc29ja2V0X29wdGlvbnMsIHRsc19vcHRzLCBwcm94eV9vcHRpb25zKSB7XG4gICAgICAgIGlmIChzb2NrZXRfb3B0aW9ucyA9PSBudWxsIHx8IHNvY2tldF9vcHRpb25zID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJIdHRwQ2xpZW50Q29ubmVjdGlvbk1hbmFnZXIgY29uc3RydWN0b3I6IHNvY2tldF9vcHRpb25zIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0Lmh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyX25ldyhib290c3RyYXAgIT0gbnVsbCA/IGJvb3RzdHJhcC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCBob3N0LCBwb3J0LCBtYXhfY29ubmVjdGlvbnMsIGluaXRpYWxfd2luZG93X3NpemUsIHNvY2tldF9vcHRpb25zLm5hdGl2ZV9oYW5kbGUoKSwgdGxzX29wdHMgPyB0bHNfb3B0cy5uYXRpdmVfaGFuZGxlKCkgOiB1bmRlZmluZWQsIHByb3h5X29wdGlvbnMgPyBwcm94eV9vcHRpb25zLmNyZWF0ZV9uYXRpdmVfaGFuZGxlKCkgOiB1bmRlZmluZWQsIHVuZGVmaW5lZCAvKiBvbl9zaHV0ZG93biAqLykpO1xuICAgICAgICB0aGlzLmJvb3RzdHJhcCA9IGJvb3RzdHJhcDtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICAgICAgdGhpcy5tYXhfY29ubmVjdGlvbnMgPSBtYXhfY29ubmVjdGlvbnM7XG4gICAgICAgIHRoaXMuaW5pdGlhbF93aW5kb3dfc2l6ZSA9IGluaXRpYWxfd2luZG93X3NpemU7XG4gICAgICAgIHRoaXMuc29ja2V0X29wdGlvbnMgPSBzb2NrZXRfb3B0aW9ucztcbiAgICAgICAgdGhpcy50bHNfb3B0cyA9IHRsc19vcHRzO1xuICAgICAgICB0aGlzLnByb3h5X29wdGlvbnMgPSBwcm94eV9vcHRpb25zO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAqIFZlbmRzIGEgY29ubmVjdGlvbiBmcm9tIHRoZSBwb29sXG4gICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXN1bHRzIGluIGFuIEh0dHBDbGllbnRDb25uZWN0aW9uLiBXaGVuIGRvbmUgd2l0aCB0aGUgY29ubmVjdGlvbiwgcmV0dXJuXG4gICAgKiAgICAgICAgICBpdCB2aWEge0BsaW5rIHJlbGVhc2V9XG4gICAgKi9cbiAgICBhY3F1aXJlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gT25seSBjcmVhdGUgMSBjb25uZWN0aW9uIGluIEpTL1RTIGZyb20gZWFjaCBuYXRpdmUgY29ubmVjdGlvblxuICAgICAgICAgICAgY29uc3Qgb25fYWNxdWlyZWQgPSAoaGFuZGxlLCBlcnJvcl9jb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yX2NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yX2NvZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgSHR0cENsaWVudENvbm5lY3Rpb24odGhpcy5ib290c3RyYXAsIHRoaXMuaG9zdCwgdGhpcy5wb3J0LCB0aGlzLnNvY2tldF9vcHRpb25zLCB0aGlzLnRsc19vcHRzLCB0aGlzLnByb3h5X29wdGlvbnMsIGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KGhhbmRsZSwgY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5kZWxldGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaHR0cF9jb25uZWN0aW9uX21hbmFnZXJfYWNxdWlyZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgb25fYWNxdWlyZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiB1bnVzZWQgY29ubmVjdGlvbiB0byB0aGUgcG9vbFxuICAgICAqIEBwYXJhbSBjb25uZWN0aW9uIC0gVGhlIGNvbm5lY3Rpb24gdG8gcmV0dXJuXG4gICAgKi9cbiAgICByZWxlYXNlKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24gPT0gbnVsbCB8fCBjb25uZWN0aW9uID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJIdHRwQ2xpZW50Q29ubmVjdGlvbk1hbmFnZXIgcmVsZWFzZTogY29ubmVjdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5odHRwX2Nvbm5lY3Rpb25fbWFuYWdlcl9yZWxlYXNlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBjb25uZWN0aW9uLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgfVxuICAgIC8qKiBDbG9zZXMgYWxsIGNvbm5lY3Rpb25zIGFuZCByZWplY3RzIGFsbCBwZW5kaW5nIHJlcXVlc3RzICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lmh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyX2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBDbGllbnRDb25uZWN0aW9uTWFuYWdlciA9IEh0dHBDbGllbnRDb25uZWN0aW9uTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qa2NzMTFMaWIgPSBleHBvcnRzLlRsc0Nvbm5lY3Rpb25PcHRpb25zID0gZXhwb3J0cy5TZXJ2ZXJUbHNDb250ZXh0ID0gZXhwb3J0cy5DbGllbnRUbHNDb250ZXh0ID0gZXhwb3J0cy5UbHNDb250ZXh0ID0gZXhwb3J0cy5UbHNDb250ZXh0T3B0aW9ucyA9IGV4cG9ydHMuU29ja2V0T3B0aW9ucyA9IGV4cG9ydHMuQ2xpZW50Qm9vdHN0cmFwID0gZXhwb3J0cy5JbnB1dFN0cmVhbSA9IGV4cG9ydHMuaXNfYWxwbl9hdmFpbGFibGUgPSBleHBvcnRzLmVuYWJsZV9sb2dnaW5nID0gZXhwb3J0cy5Mb2dMZXZlbCA9IGV4cG9ydHMuZXJyb3JfY29kZV90b19uYW1lID0gZXhwb3J0cy5lcnJvcl9jb2RlX3RvX3N0cmluZyA9IGV4cG9ydHMuU29ja2V0RG9tYWluID0gZXhwb3J0cy5Tb2NrZXRUeXBlID0gZXhwb3J0cy5UbHNWZXJzaW9uID0gdm9pZCAwO1xuLyoqXG4gKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBhIGdyYWIgYmFnIG9mIHN1cHBvcnQgZm9yIGNvcmUgbmV0d29yayBJL08gZnVuY3Rpb25hbGl0eSwgaW5jbHVkaW5nIHNvY2tldHMsIFRMUywgRE5TLCBsb2dnaW5nLFxuICogZXJyb3IgaGFuZGxpbmcsIHN0cmVhbXMsIGFuZCBjb25uZWN0aW9uIC0+IHRocmVhZCBtYXBwaW5nLlxuICpcbiAqIENhdGVnb3JpZXMgaW5jbHVkZTpcbiAqIC0gTmV0d29yazogc29ja2V0IGNvbmZpZ3VyYXRpb25cbiAqIC0gVExTOiB0bHMgY29uZmlndXJhdGlvblxuICogLSBMb2dnaW5nOiBsb2dnaW5nIGNvbnRyb2xzIGFuZCBjb25maWd1cmF0aW9uXG4gKiAtIElPOiBldmVyeXRoaW5nIGVsc2VcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgaW9cbiAqIEBtZXJnZVRhcmdldFxuICovXG5jb25zdCBiaW5kaW5nXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmluZGluZ1wiKSk7XG5jb25zdCBuYXRpdmVfcmVzb3VyY2VfMSA9IHJlcXVpcmUoXCIuL25hdGl2ZV9yZXNvdXJjZVwiKTtcbmNvbnN0IGlvXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2lvXCIpO1xudmFyIGlvXzIgPSByZXF1aXJlKFwiLi4vY29tbW9uL2lvXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGxzVmVyc2lvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW9fMi5UbHNWZXJzaW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU29ja2V0VHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW9fMi5Tb2NrZXRUeXBlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU29ja2V0RG9tYWluXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpb18yLlNvY2tldERvbWFpbjsgfSB9KTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbi8qKlxuICogQ29udmVydCBhIG5hdGl2ZSBlcnJvciBjb2RlIGludG8gYSBodW1hbi1yZWFkYWJsZSBzdHJpbmdcbiAqIEBwYXJhbSBlcnJvcl9jb2RlIC0gQW4gZXJyb3IgY29kZSByZXR1cm5lZCBmcm9tIGEgbmF0aXZlIEFQSSBjYWxsLCBvciBkZWxpdmVyZWRcbiAqIHZpYSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIExvbmctZm9ybSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAqIEBzZWUgQ3J0RXJyb3JcbiAqXG4gKiBub2RlanMgb25seS5cbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmZ1bmN0aW9uIGVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yX2NvZGUpIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JfY29kZSk7XG59XG5leHBvcnRzLmVycm9yX2NvZGVfdG9fc3RyaW5nID0gZXJyb3JfY29kZV90b19zdHJpbmc7XG4vKipcbiAqIENvbnZlcnQgYSBuYXRpdmUgZXJyb3IgY29kZSBpbnRvIGEgaHVtYW4tcmVhZGFibGUgaWRlbnRpZmllclxuICogQHBhcmFtIGVycm9yX2NvZGUgLSBBbiBlcnJvciBjb2RlIHJldHVybmVkIGZyb20gYSBuYXRpdmUgQVBJIGNhbGwsIG9yIGRlbGl2ZXJlZFxuICogdmlhIGNhbGxiYWNrLlxuICogQHJldHVybiBlcnJvciBuYW1lIGFzIGEgc3RyaW5nXG4gKiBAc2VlIENydEVycm9yXG4gKlxuICogbm9kZWpzIG9ubHkuXG4gKlxuICogQGNhdGVnb3J5IFN5c3RlbVxuICovXG5mdW5jdGlvbiBlcnJvcl9jb2RlX3RvX25hbWUoZXJyb3JfY29kZSkge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5lcnJvcl9jb2RlX3RvX25hbWUoZXJyb3JfY29kZSk7XG59XG5leHBvcnRzLmVycm9yX2NvZGVfdG9fbmFtZSA9IGVycm9yX2NvZGVfdG9fbmFtZTtcbi8qKlxuICogVGhlIGFtb3VudCBvZiBkZXRhaWwgdGhhdCB3aWxsIGJlIGxvZ2dlZFxuICogQGNhdGVnb3J5IExvZ2dpbmdcbiAqL1xudmFyIExvZ0xldmVsO1xuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xuICAgIC8qKiBObyBsb2dnaW5nIHdoYXRzb2V2ZXIuIEVxdWl2YWxlbnQgdG8gbmV2ZXIgY2FsbGluZyB7QGxpbmsgZW5hYmxlX2xvZ2dpbmd9LiAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgLyoqIE9ubHkgZmF0YWxzLiBJbiBwcmFjdGljZSwgdGhpcyB3aWxsIG5vdCBkbyBtdWNoLCBhcyB0aGUgcHJvY2VzcyB3aWxsIGxvZyBhbmQgdGhlbiBjcmFzaCAoaW50ZW50aW9uYWxseSkgaWYgYSBmYXRhbCBjb25kaXRpb24gb2NjdXJzICovXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJGQVRBTFwiXSA9IDFdID0gXCJGQVRBTFwiO1xuICAgIC8qKiBPbmx5IGVycm9ycyAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRVJST1JcIl0gPSAyXSA9IFwiRVJST1JcIjtcbiAgICAvKiogT25seSB3YXJuaW5ncyBhbmQgZXJyb3JzICovXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gM10gPSBcIldBUk5cIjtcbiAgICAvKiogSW5mb3JtYXRpb24gYWJvdXQgY29ubmVjdGlvbi9zdHJlYW0gY3JlYXRpb24vZGVzdHJ1Y3Rpb24gZXZlbnRzICovXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJJTkZPXCJdID0gNF0gPSBcIklORk9cIjtcbiAgICAvKiogRW5vdWdoIGluZm9ybWF0aW9uIHRvIGRlYnVnIHRoZSBjaGFpbiBvZiBldmVudHMgYSBnaXZlbiBuZXR3b3JrIGNvbm5lY3Rpb24gZW5jb3VudGVycyAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSA1XSA9IFwiREVCVUdcIjtcbiAgICAvKiogRXZlcnl0aGluZy4gT25seSB1c2UgdGhpcyBpZiB5b3UgcmVhbGx5IG5lZWQgdG8ga25vdyBFVkVSWSBzaW5nbGUgY2FsbCAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiVFJBQ0VcIl0gPSA2XSA9IFwiVFJBQ0VcIjtcbn0pKExvZ0xldmVsID0gZXhwb3J0cy5Mb2dMZXZlbCB8fCAoZXhwb3J0cy5Mb2dMZXZlbCA9IHt9KSk7XG4vKipcbiAqIEVuYWJsZXMgbG9nZ2luZyBvZiB0aGUgbmF0aXZlIEFXUyBDUlQgbGlicmFyaWVzLlxuICogQHBhcmFtIGxldmVsIC0gVGhlIGxvZ2dpbmcgbGV2ZWwgdG8gZmlsdGVyIHRvLiBJdCBpcyBub3QgcG9zc2libGUgdG8gbG9nIGxlc3MgdGhhbiBXQVJOLlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IExvZ2dpbmdcbiAqL1xuZnVuY3Rpb24gZW5hYmxlX2xvZ2dpbmcobGV2ZWwpIHtcbiAgICBiaW5kaW5nXzEuZGVmYXVsdC5pb19sb2dnaW5nX2VuYWJsZShsZXZlbCk7XG59XG5leHBvcnRzLmVuYWJsZV9sb2dnaW5nID0gZW5hYmxlX2xvZ2dpbmc7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBBTFBOIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHBsYXRmb3JtIG5hdGl2ZWx5XG4gKiBAcmV0dXJuIHRydWUgaWYgQUxQTiBpcyBzdXBwb3J0ZWQgbmF0aXZlbHksIGZhbHNlIG90aGVyd2lzZVxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IFRMU1xuKi9cbmZ1bmN0aW9uIGlzX2FscG5fYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5pc19hbHBuX2F2YWlsYWJsZSgpO1xufVxuZXhwb3J0cy5pc19hbHBuX2F2YWlsYWJsZSA9IGlzX2FscG5fYXZhaWxhYmxlO1xuLyoqXG4gKiBXcmFwcyBhIGBgYFJlYWRhYmxlYGBgIGZvciByZWFkaW5nIGJ5IG5hdGl2ZSBjb2RlLCB1c2VkIHRvIHN0cmVhbVxuICogIGRhdGEgaW50byB0aGUgQVdTIENSVCBsaWJyYXJpZXMuXG4gKlxuICogbm9kZWpzIG9ubHkuXG4gKiBAY2F0ZWdvcnkgSU9cbiAqL1xuY2xhc3MgSW5wdXRTdHJlYW0gZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0LmlvX2lucHV0X3N0cmVhbV9uZXcoMTYgKiAxMDI0KSk7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBkYXRhID0gQnVmZmVyLmlzQnVmZmVyKGRhdGEpID8gZGF0YSA6IEJ1ZmZlci5mcm9tKGRhdGEudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5pb19pbnB1dF9zdHJlYW1fYXBwZW5kKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc291cmNlLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5pb19pbnB1dF9zdHJlYW1fYXBwZW5kKHRoaXMubmF0aXZlX2hhbmRsZSgpLCB1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLklucHV0U3RyZWFtID0gSW5wdXRTdHJlYW07XG4vKipcbiAqIFJlcHJlc2VudHMgbmF0aXZlIHJlc291cmNlcyByZXF1aXJlZCB0byBib290c3RyYXAgYSBjbGllbnQgY29ubmVjdGlvblxuICogVGhpbmdzIGxpa2UgYSBob3N0IHJlc29sdmVyLCBldmVudCBsb29wIGdyb3VwLCBldGMuIFRoZXJlIHNob3VsZCBvbmx5IG5lZWRcbiAqIHRvIGJlIDEgb2YgdGhlc2UgcGVyIGFwcGxpY2F0aW9uLCBpbiBtb3N0IGNhc2VzLlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IElPXG4gKi9cbmNsYXNzIENsaWVudEJvb3RzdHJhcCBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaW9fY2xpZW50X2Jvb3RzdHJhcF9uZXcoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRCb290c3RyYXAgPSBDbGllbnRCb290c3RyYXA7XG4vKipcbiAqIFN0YW5kYXJkIEJlcmtlbGV5IHNvY2tldCBzdHlsZSBvcHRpb25zLlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IE5ldHdvcmtcbiovXG5jbGFzcyBTb2NrZXRPcHRpb25zIGV4dGVuZHMgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKHR5cGUgPSBpb18xLlNvY2tldFR5cGUuU1RSRUFNLCBkb21haW4gPSBpb18xLlNvY2tldERvbWFpbi5JUFY2LCBjb25uZWN0X3RpbWVvdXRfbXMgPSA1MDAwLCBrZWVwYWxpdmUgPSBmYWxzZSwga2VlcF9hbGl2ZV9pbnRlcnZhbF9zZWMgPSAwLCBrZWVwX2FsaXZlX3RpbWVvdXRfc2VjID0gMCwga2VlcF9hbGl2ZV9tYXhfZmFpbGVkX3Byb2JlcyA9IDApIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaW9fc29ja2V0X29wdGlvbnNfbmV3KHR5cGUsIGRvbWFpbiwgY29ubmVjdF90aW1lb3V0X21zLCBrZWVwX2FsaXZlX2ludGVydmFsX3NlYywga2VlcF9hbGl2ZV90aW1lb3V0X3NlYywga2VlcF9hbGl2ZV9tYXhfZmFpbGVkX3Byb2Jlcywga2VlcGFsaXZlKSk7XG4gICAgfVxufVxuZXhwb3J0cy5Tb2NrZXRPcHRpb25zID0gU29ja2V0T3B0aW9ucztcbi8qKlxuICogT3B0aW9ucyBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgQ2xpZW50VGxzQ29udGV4dH0gb3Ige0BsaW5rIFNlcnZlclRsc0NvbnRleHR9LlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IFRMU1xuICovXG5jbGFzcyBUbHNDb250ZXh0T3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBNaW5pbXVtIHZlcnNpb24gb2YgVExTIHRvIHN1cHBvcnQuIFVzZXMgT1Mvc3lzdGVtIGRlZmF1bHQgaWYgdW5zcGVjaWZpZWQuICovXG4gICAgICAgIHRoaXMubWluX3Rsc192ZXJzaW9uID0gaW9fMS5UbHNWZXJzaW9uLkRlZmF1bHQ7XG4gICAgICAgIC8qKiBMaXN0IG9mIEFMUE4gcHJvdG9jb2xzIHRvIGJlIHVzZWQgb24gcGxhdGZvcm1zIHdoaWNoIHN1cHBvcnQgQUxQTiAqL1xuICAgICAgICB0aGlzLmFscG5fbGlzdCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW4gY2xpZW50IG1vZGUsIHRoaXMgdHVybnMgb2ZmIHguNTA5IHZhbGlkYXRpb24uIERvbid0IGRvIHRoaXMgdW5sZXNzIHlvdSBhcmUgdGVzdGluZy5cbiAgICAgICAgICogSXQgaXMgbXVjaCBiZXR0ZXIgdG8ganVzdCBvdmVycmlkZSB0aGUgZGVmYXVsdCB0cnVzdCBzdG9yZSBhbmQgcGFzcyB0aGUgc2VsZi1zaWduZWRcbiAgICAgICAgICogY2VydGlmaWNhdGUgYXMgdGhlIGNhX2ZpbGUgYXJndW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHNlcnZlciBtb2RlIChTZXJ2ZXJUbHNDb250ZXh0KSwgdGhpcyBkZWZhdWx0cyB0byBmYWxzZS4gSWYgeW91IHdhbnQgdG8gZW5mb3JjZSBtdXR1YWwgVExTIG9uIHRoZSBzZXJ2ZXIsXG4gICAgICAgICAqIHNldCB0aGlzIHRvIHRydWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcmlmeV9wZWVyID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHN5c3RlbSB0cnVzdCBzdG9yZS5cbiAgICAgKiBAcGFyYW0gY2FfZGlycGF0aCAtIE9ubHkgdXNlZCBvbiBVbml4LXN0eWxlIHN5c3RlbXMgd2hlcmUgYWxsIHRydXN0IGFuY2hvcnMgYXJlXG4gICAgICogc3RvcmVkIGluIGEgZGlyZWN0b3J5IChlLmcuIC9ldGMvc3NsL2NlcnRzKS5cbiAgICAgKiBAcGFyYW0gY2FfZmlsZXBhdGggLSBTaW5nbGUgZmlsZSBjb250YWluaW5nIGFsbCB0cnVzdCBDQXMsIGluIFBFTSBmb3JtYXRcbiAgICAgKi9cbiAgICBvdmVycmlkZV9kZWZhdWx0X3RydXN0X3N0b3JlX2Zyb21fcGF0aChjYV9kaXJwYXRoLCBjYV9maWxlcGF0aCkge1xuICAgICAgICB0aGlzLmNhX2RpcnBhdGggPSBjYV9kaXJwYXRoO1xuICAgICAgICB0aGlzLmNhX2ZpbGVwYXRoID0gY2FfZmlsZXBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBzeXN0ZW0gdHJ1c3Qgc3RvcmUuXG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlX2F1dGhvcml0eSAtIFN0cmluZyBjb250YWluaW5nIGFsbCB0cnVzdCBDQXMsIGluIFBFTSBmb3JtYXRcbiAgICAgKi9cbiAgICBvdmVycmlkZV9kZWZhdWx0X3RydXN0X3N0b3JlKGNlcnRpZmljYXRlX2F1dGhvcml0eSkge1xuICAgICAgICB0aGlzLmNlcnRpZmljYXRlX2F1dGhvcml0eSA9IGNlcnRpZmljYXRlX2F1dGhvcml0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9wdGlvbnMgY29uZmlndXJlZCBmb3IgbXV0dWFsIFRMUyBpbiBjbGllbnQgbW9kZSxcbiAgICAgKiB3aXRoIGNsaWVudCBjZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXkgcHJvdmlkZWQgYXMgaW4tbWVtb3J5IHN0cmluZ3MuXG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlIC0gQ2xpZW50IGNlcnRpZmljYXRlIGZpbGUgY29udGVudHMsIGluIFBFTSBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZV9rZXkgLSBDbGllbnQgcHJpdmF0ZSBrZXkgZmlsZSBjb250ZW50cywgaW4gUEVNIGZvcm1hdFxuICAgICAqXG4gICAgICogQHJldHVybnMgbmV3bHkgY29uZmlndXJlZCBUbHNDb250ZXh0T3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX2NsaWVudF93aXRoX210bHMoY2VydGlmaWNhdGUsIHByaXZhdGVfa2V5KSB7XG4gICAgICAgIGxldCBvcHQgPSBuZXcgVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgb3B0LmNlcnRpZmljYXRlID0gY2VydGlmaWNhdGU7XG4gICAgICAgIG9wdC5wcml2YXRlX2tleSA9IHByaXZhdGVfa2V5O1xuICAgICAgICBvcHQudmVyaWZ5X3BlZXIgPSB0cnVlO1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgb3B0aW9ucyBjb25maWd1cmVkIGZvciBtdXR1YWwgVExTIGluIGNsaWVudCBtb2RlLFxuICAgICAqIHdpdGggY2xpZW50IGNlcnRpZmljYXRlIGFuZCBwcml2YXRlIGtleSBwcm92aWRlZCB2aWEgZmlsZXBhdGguXG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlX2ZpbGVwYXRoIC0gUGF0aCB0byBjbGllbnQgY2VydGlmaWNhdGUsIGluIFBFTSBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZV9rZXlfZmlsZXBhdGggLSBQYXRoIHRvIHByaXZhdGUga2V5LCBpbiBQRU0gZm9ybWF0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBuZXdseSBjb25maWd1cmVkIFRsc0NvbnRleHRPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19mcm9tX3BhdGgoY2VydGlmaWNhdGVfZmlsZXBhdGgsIHByaXZhdGVfa2V5X2ZpbGVwYXRoKSB7XG4gICAgICAgIGxldCBvcHQgPSBuZXcgVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgb3B0LmNlcnRpZmljYXRlX2ZpbGVwYXRoID0gY2VydGlmaWNhdGVfZmlsZXBhdGg7XG4gICAgICAgIG9wdC5wcml2YXRlX2tleV9maWxlcGF0aCA9IHByaXZhdGVfa2V5X2ZpbGVwYXRoO1xuICAgICAgICBvcHQudmVyaWZ5X3BlZXIgPSB0cnVlO1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgb3B0aW9ucyBmb3IgbXV0dWFsIFRMUyBpbiBjbGllbnQgbW9kZSxcbiAgICAgKiB3aXRoIGNsaWVudCBjZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXkgYnVuZGxlZCBpbiBhIHNpbmdsZSBQS0NTIzEyIGZpbGUuXG4gICAgICogQHBhcmFtIHBrY3MxMl9maWxlcGF0aCAtIFBhdGggdG8gUEtDUyMxMiBmaWxlIGNvbnRhaW5pbmcgY2xpZW50IGNlcnRpZmljYXRlIGFuZCBwcml2YXRlIGtleS5cbiAgICAgKiBAcGFyYW0gcGtjczEyX3Bhc3N3b3JkIC0gUEtDUyMxMiBwYXNzd29yZFxuICAgICAqXG4gICAgICogQHJldHVybnMgbmV3bHkgY29uZmlndXJlZCBUbHNDb250ZXh0T3B0aW9ucyBvYmplY3RcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTJfZnJvbV9wYXRoKHBrY3MxMl9maWxlcGF0aCwgcGtjczEyX3Bhc3N3b3JkKSB7XG4gICAgICAgIGxldCBvcHQgPSBuZXcgVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgb3B0LnBrY3MxMl9maWxlcGF0aCA9IHBrY3MxMl9maWxlcGF0aDtcbiAgICAgICAgb3B0LnBrY3MxMl9wYXNzd29yZCA9IHBrY3MxMl9wYXNzd29yZDtcbiAgICAgICAgb3B0LnZlcmlmeV9wZWVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG9wdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgUmVuYW1lZCBbW2NyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3BrY3MxMl9mcm9tX3BhdGhdXVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzX2Zyb21fcGF0aChwa2NzMTJfZmlsZXBhdGgsIHBrY3MxMl9wYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTJfZnJvbV9wYXRoKHBrY3MxMl9maWxlcGF0aCwgcGtjczEyX3Bhc3N3b3JkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9wdGlvbnMgY29uZmlndXJlZCBmb3IgbXV0dWFsIFRMUyBpbiBjbGllbnQgbW9kZSxcbiAgICAgKiB1c2luZyBhIFBLQ1MjMTEgbGlicmFyeSBmb3IgcHJpdmF0ZSBrZXkgb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIFVuaXggZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUEtDUyMxMSBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBuZXdseSBjb25maWd1cmVkIFRsc0NvbnRleHRPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTEob3B0aW9ucykge1xuICAgICAgICBsZXQgb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIG9wdC5wa2NzMTFfb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIG9wdC52ZXJpZnlfcGVlciA9IHRydWU7XG4gICAgICAgIHJldHVybiBvcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBvcHRpb25zIGNvbmZpZ3VyZWQgZm9yIG11dHVhbCBUTFMgaW4gY2xpZW50IG1vZGUsXG4gICAgICogdXNpbmcgYSBjZXJ0aWZpY2F0ZSBpbiBhIFdpbmRvd3MgY2VydGlmaWNhdGUgc3RvcmUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBXaW5kb3dzIG9ubHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2VydGlmaWNhdGVfcGF0aCAtIFBhdGggdG8gY2VydGlmaWNhdGUgaW4gYSBXaW5kb3dzIGNlcnRpZmljYXRlIHN0b3JlLlxuICAgICAqICAgICAgVGhlIHBhdGggbXVzdCB1c2UgYmFja3NsYXNoZXMgYW5kIGVuZCB3aXRoIHRoZSBjZXJ0aWZpY2F0ZSdzIHRodW1icHJpbnQuXG4gICAgICogICAgICBFeGFtcGxlOiBgQ3VycmVudFVzZXJcXE1ZXFxBMTFGOEE5QjVERjVCOThCQTM1MDhGQkNBNTc1RDA5NTcwRTBEMkM2YFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfY2xpZW50X3dpdGhfbXRsc193aW5kb3dzX2NlcnRfc3RvcmVfcGF0aChjZXJ0aWZpY2F0ZV9wYXRoKSB7XG4gICAgICAgIGxldCBvcHQgPSBuZXcgVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgb3B0LndpbmRvd3NfY2VydF9zdG9yZV9wYXRoID0gY2VydGlmaWNhdGVfcGF0aDtcbiAgICAgICAgb3B0LnZlcmlmeV9wZWVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG9wdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBUTFMgY29udGV4dCB3aXRoIHBlZXIgdmVyaWZpY2F0aW9uIGRpc2FibGVkLCBhbG9uZyB3aXRoIGEgY2VydGlmaWNhdGUgYW5kIHByaXZhdGUga2V5XG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlX2ZpbGVwYXRoIC0gUGF0aCB0byBjZXJ0aWZpY2F0ZSwgaW4gUEVNIGZvcm1hdFxuICAgICAqIEBwYXJhbSBwcml2YXRlX2tleV9maWxlcGF0aCAtIFBhdGggdG8gcHJpdmF0ZSBrZXksIGluIFBFTSBmb3JtYXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIG5ld2x5IGNvbmZpZ3VyZWQgVGxzQ29udGV4dE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZV9zZXJ2ZXJfd2l0aF9tdGxzX2Zyb21fcGF0aChjZXJ0aWZpY2F0ZV9maWxlcGF0aCwgcHJpdmF0ZV9rZXlfZmlsZXBhdGgpIHtcbiAgICAgICAgbGV0IG9wdCA9IG5ldyBUbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICBvcHQuY2VydGlmaWNhdGVfZmlsZXBhdGggPSBjZXJ0aWZpY2F0ZV9maWxlcGF0aDtcbiAgICAgICAgb3B0LnByaXZhdGVfa2V5X2ZpbGVwYXRoID0gcHJpdmF0ZV9rZXlfZmlsZXBhdGg7XG4gICAgICAgIG9wdC52ZXJpZnlfcGVlciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIFRMUyBjb250ZXh0IHdpdGggcGVlciB2ZXJpZmljYXRpb24gZGlzYWJsZWQsIGFsb25nIHdpdGggYSBjZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXlcbiAgICAgKiBpbiBQS0NTIzEyIGZvcm1hdFxuICAgICAqIEBwYXJhbSBwa2NzMTJfZmlsZXBhdGggLSBQYXRoIHRvIGNlcnRpZmljYXRlLCBpbiBQS0NTIzEyIGZvcm1hdFxuICAgICAqIEBwYXJhbSBwa2NzMTJfcGFzc3dvcmQgLSBQS0NTIzEyIFBhc3N3b3JkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBuZXdseSBjb25maWd1cmVkIFRsc0NvbnRleHRPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfc2VydmVyX3dpdGhfbXRsc19wa2NzX2Zyb21fcGF0aChwa2NzMTJfZmlsZXBhdGgsIHBrY3MxMl9wYXNzd29yZCkge1xuICAgICAgICBsZXQgb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIG9wdC5wa2NzMTJfZmlsZXBhdGggPSBwa2NzMTJfZmlsZXBhdGg7XG4gICAgICAgIG9wdC5wa2NzMTJfcGFzc3dvcmQgPSBwa2NzMTJfcGFzc3dvcmQ7XG4gICAgICAgIG9wdC52ZXJpZnlfcGVlciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgIH1cbn1cbmV4cG9ydHMuVGxzQ29udGV4dE9wdGlvbnMgPSBUbHNDb250ZXh0T3B0aW9ucztcbi8qKlxuICogQWJzdHJhY3QgYmFzZSBUTFMgY29udGV4dCB1c2VkIGZvciBjbGllbnQvc2VydmVyIFRMUyBjb21tdW5pY2F0aW9ucyBvdmVyIHNvY2tldHMuXG4gKlxuICogQHNlZSBDbGllbnRUbHNDb250ZXh0XG4gKiBAc2VlIFNlcnZlclRsc0NvbnRleHRcbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBUTFNcbiAqL1xuY2xhc3MgVGxzQ29udGV4dCBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihjdHhfb3B0KSB7XG4gICAgICAgIGlmIChjdHhfb3B0ID09IG51bGwgfHwgY3R4X29wdCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiVGxzQ29udGV4dCBjb25zdHJ1Y3RvcjogY3R4X29wdCBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5pb190bHNfY3R4X25ldyhjdHhfb3B0Lm1pbl90bHNfdmVyc2lvbiwgY3R4X29wdC5jYV9maWxlcGF0aCwgY3R4X29wdC5jYV9kaXJwYXRoLCBjdHhfb3B0LmNlcnRpZmljYXRlX2F1dGhvcml0eSwgKGN0eF9vcHQuYWxwbl9saXN0ICYmIGN0eF9vcHQuYWxwbl9saXN0Lmxlbmd0aCA+IDApID8gY3R4X29wdC5hbHBuX2xpc3Quam9pbignOycpIDogdW5kZWZpbmVkLCBjdHhfb3B0LmNlcnRpZmljYXRlX2ZpbGVwYXRoLCBjdHhfb3B0LmNlcnRpZmljYXRlLCBjdHhfb3B0LnByaXZhdGVfa2V5X2ZpbGVwYXRoLCBjdHhfb3B0LnByaXZhdGVfa2V5LCBjdHhfb3B0LnBrY3MxMl9maWxlcGF0aCwgY3R4X29wdC5wa2NzMTJfcGFzc3dvcmQsIGN0eF9vcHQucGtjczExX29wdGlvbnMsIGN0eF9vcHQud2luZG93c19jZXJ0X3N0b3JlX3BhdGgsIGN0eF9vcHQudmVyaWZ5X3BlZXIpKTtcbiAgICB9XG59XG5leHBvcnRzLlRsc0NvbnRleHQgPSBUbHNDb250ZXh0O1xuLyoqXG4gKiBUTFMgY29udGV4dCB1c2VkIGZvciBjbGllbnQgVExTIGNvbW11bmljYXRpb25zIG92ZXIgc29ja2V0cy4gSWYgbm9cbiAqIG9wdGlvbnMgYXJlIHN1cHBsaWVkLCB0aGUgY29udGV4dCB3aWxsIGRlZmF1bHQgdG8gZW5hYmxpbmcgcGVlciB2ZXJpZmljYXRpb25cbiAqIG9ubHkuXG4gKlxuICogbm9kZWpzIG9ubHkuXG4gKiBAY2F0ZWdvcnkgVExTXG4gKi9cbmNsYXNzIENsaWVudFRsc0NvbnRleHQgZXh0ZW5kcyBUbHNDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihjdHhfb3B0KSB7XG4gICAgICAgIGlmICghY3R4X29wdCkge1xuICAgICAgICAgICAgY3R4X29wdCA9IG5ldyBUbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICAgICAgY3R4X29wdC52ZXJpZnlfcGVlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoY3R4X29wdCk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRUbHNDb250ZXh0ID0gQ2xpZW50VGxzQ29udGV4dDtcbi8qKlxuICogVExTIGNvbnRleHQgdXNlZCBmb3Igc2VydmVyIFRMUyBjb21tdW5pY2F0aW9ucyBvdmVyIHNvY2tldHMuIElmIG5vXG4gKiBvcHRpb25zIGFyZSBzdXBwbGllZCwgdGhlIGNvbnRleHQgd2lsbCBkZWZhdWx0IHRvIGRpc2FibGluZyBwZWVyIHZlcmlmaWNhdGlvblxuICogb25seS5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBUTFNcbiAqL1xuY2xhc3MgU2VydmVyVGxzQ29udGV4dCBleHRlbmRzIFRsc0NvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKGN0eF9vcHQpIHtcbiAgICAgICAgaWYgKCFjdHhfb3B0KSB7XG4gICAgICAgICAgICBjdHhfb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgICAgICBjdHhfb3B0LnZlcmlmeV9wZWVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoY3R4X29wdCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJUbHNDb250ZXh0ID0gU2VydmVyVGxzQ29udGV4dDtcbi8qKlxuICogVExTIG9wdGlvbnMgdGhhdCBhcmUgdW5pcXVlIHRvIGEgZ2l2ZW4gY29ubmVjdGlvbiB1c2luZyBhIHNoYXJlZCBUbHNDb250ZXh0LlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IFRMU1xuICovXG5jbGFzcyBUbHNDb25uZWN0aW9uT3B0aW9ucyBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3Rvcih0bHNfY3R4LCBzZXJ2ZXJfbmFtZSwgYWxwbl9saXN0ID0gW10pIHtcbiAgICAgICAgaWYgKHRsc19jdHggPT0gbnVsbCB8fCB0bHNfY3R4ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJUbHNDb25uZWN0aW9uT3B0aW9ucyBjb25zdHJ1Y3RvcjogdGxzX2N0eCBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5pb190bHNfY29ubmVjdGlvbl9vcHRpb25zX25ldyh0bHNfY3R4Lm5hdGl2ZV9oYW5kbGUoKSwgc2VydmVyX25hbWUsIChhbHBuX2xpc3QgJiYgYWxwbl9saXN0Lmxlbmd0aCA+IDApID8gYWxwbl9saXN0LmpvaW4oJzsnKSA6IHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLnRsc19jdHggPSB0bHNfY3R4O1xuICAgICAgICB0aGlzLnNlcnZlcl9uYW1lID0gc2VydmVyX25hbWU7XG4gICAgICAgIHRoaXMuYWxwbl9saXN0ID0gYWxwbl9saXN0O1xuICAgIH1cbn1cbmV4cG9ydHMuVGxzQ29ubmVjdGlvbk9wdGlvbnMgPSBUbHNDb25uZWN0aW9uT3B0aW9ucztcbi8qKlxuICogSGFuZGxlIHRvIGEgbG9hZGVkIFBLQ1MjMTEgbGlicmFyeS5cbiAqXG4gKiBGb3IgbW9zdCB1c2UgY2FzZXMsIGEgc2luZ2xlIGluc3RhbmNlIG9mIFBrY3MxMUxpYiBzaG91bGQgYmUgdXNlZFxuICogZm9yIHRoZSBsaWZldGltZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IFRMU1xuICovXG5jbGFzcyBQa2NzMTFMaWIgZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIFBLQ1MjMTEgbGlicmFyeS5cbiAgICAgKiBAcGFyYW0gYmVoYXZpb3IgLSBTcGVjaWZpZXMgaG93IGBDX0luaXRpYWxpemUoKWAgYW5kIGBDX0ZpbmFsaXplKClgXG4gICAgICogICAgICAgICAgICAgICAgICAgd2lsbCBiZSBjYWxsZWQgb24gdGhlIFBLQ1MjMTEgbGlicmFyeS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBiZWhhdmlvciA9IFBrY3MxMUxpYi5Jbml0aWFsaXplRmluYWxpemVCZWhhdmlvci5ERUZBVUxUKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0LmlvX3BrY3MxMV9saWJfbmV3KHBhdGgsIGJlaGF2aW9yKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFBLQ1MjMTEgbGlicmFyeSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgR0MuXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0LmlvX3BrY3MxMV9saWJfY2xvc2UodGhpcy5uYXRpdmVfaGFuZGxlKCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGtjczExTGliID0gUGtjczExTGliO1xuKGZ1bmN0aW9uIChQa2NzMTFMaWIpIHtcbiAgICAvKipcbiAgICAgKiBDb250cm9scyBgQ19Jbml0aWFsaXplKClgIGFuZCBgQ19GaW5hbGl6ZSgpYCBhcmUgY2FsbGVkIG9uIHRoZSBQS0NTIzExIGxpYnJhcnkuXG4gICAgICovXG4gICAgbGV0IEluaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yO1xuICAgIChmdW5jdGlvbiAoSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3IpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgYmVoYXZpb3IgdGhhdCBhY2NvbW1vZGF0ZXMgbW9zdCB1c2UgY2FzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBDX0luaXRpYWxpemUoKWAgaXMgY2FsbGVkIG9uIGNyZWF0aW9uLCBhbmQgXCJhbHJlYWR5LWluaXRpYWxpemVkXCJcbiAgICAgICAgICogZXJyb3JzIGFyZSBpZ25vcmVkLiBgQ19GaW5hbGl6ZSgpYCBpcyBuZXZlciBjYWxsZWQsIGp1c3QgaW4gY2FzZVxuICAgICAgICAgKiBhbm90aGVyIHBhcnQgb2YgeW91ciBhcHBsaWNhdGlvbiBpcyBzdGlsbCB1c2luZyB0aGUgUEtDUyMxMSBsaWJyYXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3JbSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3JbXCJERUZBVUxUXCJdID0gMF0gPSBcIkRFRkFVTFRcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNraXAgY2FsbGluZyBgQ19Jbml0aWFsaXplKClgIGFuZCBgQ19GaW5hbGl6ZSgpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlIHRoaXMgaWYgeW91ciBhcHBsaWNhdGlvbiBoYXMgYWxyZWFkeSBpbml0aWFsaXplZCB0aGUgUEtDUyMxMSBsaWJyYXJ5LFxuICAgICAgICAgKiBhbmQgeW91IGRvIG5vdCB3YW50IGBDX0luaXRpYWxpemUoKWAgY2FsbGVkIGFnYWluLlxuICAgICAgICAgKi9cbiAgICAgICAgSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3JbSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3JbXCJPTUlUXCJdID0gMV0gPSBcIk9NSVRcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBDX0luaXRpYWxpemUoKWAgaXMgY2FsbGVkIG9uIGNyZWF0aW9uIGFuZCBgQ19GaW5hbGl6ZSgpYCBpcyBjYWxsZWQgb24gY2xlYW51cC5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgYENfSW5pdGlhbGl6ZSgpYCByZXBvcnRzIHRoYXQncyBpdCdzIGFscmVhZHkgaW5pdGlhbGl6ZWQsIHRoaXMgaXNcbiAgICAgICAgICogdHJlYXRlZCBhcyBhbiBlcnJvci4gVXNlIHRoaXMgaWYgeW91IG5lZWQgcGVyZmVjdCBjbGVhbnVwIChleDogcnVubmluZ1xuICAgICAgICAgKiB2YWxncmluZCB3aXRoIC0tbGVhay1jaGVjaykuXG4gICAgICAgICAqL1xuICAgICAgICBJbml0aWFsaXplRmluYWxpemVCZWhhdmlvcltJbml0aWFsaXplRmluYWxpemVCZWhhdmlvcltcIlNUUklDVFwiXSA9IDJdID0gXCJTVFJJQ1RcIjtcbiAgICB9KShJbml0aWFsaXplRmluYWxpemVCZWhhdmlvciA9IFBrY3MxMUxpYi5Jbml0aWFsaXplRmluYWxpemVCZWhhdmlvciB8fCAoUGtjczExTGliLkluaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yID0ge30pKTtcbn0pKFBrY3MxMUxpYiA9IGV4cG9ydHMuUGtjczExTGliIHx8IChleHBvcnRzLlBrY3MxMUxpYiA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogTW9kdWxlIGZvciBBV1MgSW9UIE1RVFQgY2xpZW50IGNvbmZpZ3VyYXRpb24gYW5kIGNvbm5lY3Rpb24gZXN0YWJsaXNobWVudC5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgaW90XG4gKiBAbWVyZ2VUYXJnZXRcbiAqL1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2F3c19pb3RcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2F3c19pb3RfbXF0dDVcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW90LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1xdHRDbGllbnRDb25uZWN0aW9uID0gZXhwb3J0cy5NcXR0Q2xpZW50ID0gZXhwb3J0cy5NcXR0V2lsbCA9IGV4cG9ydHMuUW9TID0gZXhwb3J0cy5IdHRwUHJveHlPcHRpb25zID0gdm9pZCAwO1xuLyoqXG4gKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBzdXBwb3J0IGZvciBtcXR0IGNvbm5lY3Rpb24gZXN0YWJsaXNobWVudCBhbmQgb3BlcmF0aW9ucy5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgbXF0dFxuICogQG1lcmdlVGFyZ2V0XG4gKi9cbmNvbnN0IGJpbmRpbmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iaW5kaW5nXCIpKTtcbmNvbnN0IG5hdGl2ZV9yZXNvdXJjZV8xID0gcmVxdWlyZShcIi4vbmF0aXZlX3Jlc291cmNlXCIpO1xuY29uc3QgZXZlbnRfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vZXZlbnRcIik7XG5jb25zdCBjcnQgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uL2NvbW1vbi9tcXR0X3NoYXJlZFwiKSk7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG5jb25zdCBpbyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9pb1wiKSk7XG52YXIgaHR0cF8xID0gcmVxdWlyZShcIi4vaHR0cFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkh0dHBQcm94eU9wdGlvbnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGh0dHBfMS5IdHRwUHJveHlPcHRpb25zOyB9IH0pO1xuY29uc3QgbXF0dF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9tcXR0XCIpO1xudmFyIG1xdHRfMiA9IHJlcXVpcmUoXCIuLi9jb21tb24vbXF0dFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlFvU1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbXF0dF8yLlFvUzsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1xdHRXaWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtcXR0XzIuTXF0dFdpbGw7IH0gfSk7XG4vKipcbiAqIE1RVFQgY2xpZW50XG4gKlxuICogQGNhdGVnb3J5IE1RVFRcbiAqL1xuY2xhc3MgTXF0dENsaWVudCBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYm9vdHN0cmFwIFRoZSB7QGxpbmsgQ2xpZW50Qm9vdHN0cmFwfSB0byB1c2UgZm9yIHNvY2tldCBjb25uZWN0aW9ucy4gIExlYXZlIHVuZGVmaW5lZCB0byB1c2UgdGhlXG4gICAgICogICAgICAgICAgZGVmYXVsdCBzeXN0ZW0td2lkZSBib290c3RyYXAgKHJlY29tbWVuZGVkKS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihib290c3RyYXAgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfbmV3KGJvb3RzdHJhcCAhPSBudWxsID8gYm9vdHN0cmFwLm5hdGl2ZV9oYW5kbGUoKSA6IG51bGwpKTtcbiAgICAgICAgdGhpcy5ib290c3RyYXAgPSBib290c3RyYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIE1xdHRDbGllbnRDb25uZWN0aW9ufVxuICAgICAqIEBwYXJhbSBjb25maWcgQ29uZmlndXJhdGlvbiBmb3IgdGhlIG1xdHQgY29ubmVjdGlvblxuICAgICAqIEByZXR1cm5zIEEgbmV3IGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBuZXdfY29ubmVjdGlvbihjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNcXR0Q2xpZW50Q29ubmVjdGlvbih0aGlzLCBjb25maWcpO1xuICAgIH1cbn1cbmV4cG9ydHMuTXF0dENsaWVudCA9IE1xdHRDbGllbnQ7XG47XG4vKipcbiAqIE1RVFQgY2xpZW50IGNvbm5lY3Rpb25cbiAqXG4gKiBAY2F0ZWdvcnkgTVFUVFxuICovXG5jbGFzcyBNcXR0Q2xpZW50Q29ubmVjdGlvbiBleHRlbmRzICgwLCBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZU1peGluKShldmVudF8xLkJ1ZmZlcmVkRXZlbnRFbWl0dGVyKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNsaWVudCBUaGUgY2xpZW50IHRoYXQgb3ducyB0aGlzIGNvbm5lY3Rpb25cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIGNvbmZpZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIGlmIChjb25maWcgPT0gbnVsbCB8fCBjb25maWcgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIk1xdHRDbGllbnRDb25uZWN0aW9uIGNvbnN0cnVjdG9yOiBjb25maWcgbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSB3aWxsLCBlbnN1cmUgdGhhdCBpdHMgcGF5bG9hZCBpcyBub3JtYWxpemVkIHRvIGEgRGF0YVZpZXdcbiAgICAgICAgY29uc3Qgd2lsbCA9IGNvbmZpZy53aWxsID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3BpYzogY29uZmlnLndpbGwudG9waWMsXG4gICAgICAgICAgICAgICAgcW9zOiBjb25maWcud2lsbC5xb3MsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogY3J0Lm5vcm1hbGl6ZV9wYXlsb2FkKGNvbmZpZy53aWxsLnBheWxvYWQpLFxuICAgICAgICAgICAgICAgIHJldGFpbjogY29uZmlnLndpbGwucmV0YWluXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqIGNsYW1wIHJlY29ubmVjdGlvbiB0aW1lIG91dCB2YWx1ZXMgKi9cbiAgICAgICAgdmFyIG1pbl9zZWMgPSBtcXR0XzEuREVGQVVMVF9SRUNPTk5FQ1RfTUlOX1NFQztcbiAgICAgICAgdmFyIG1heF9zZWMgPSBtcXR0XzEuREVGQVVMVF9SRUNPTk5FQ1RfTUFYX1NFQztcbiAgICAgICAgaWYgKGNvbmZpZy5yZWNvbm5lY3RfbWluX3NlYykge1xuICAgICAgICAgICAgbWluX3NlYyA9IGNvbmZpZy5yZWNvbm5lY3RfbWluX3NlYztcbiAgICAgICAgICAgIC8vIGNsYW1wIG1heCwgaW4gY2FzZSB0aGV5IG9ubHkgcGFzc2VkIGluIG1pblxuICAgICAgICAgICAgbWF4X3NlYyA9IE1hdGgubWF4KG1pbl9zZWMsIG1heF9zZWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcucmVjb25uZWN0X21heF9zZWMpIHtcbiAgICAgICAgICAgIG1heF9zZWMgPSBjb25maWcucmVjb25uZWN0X21heF9zZWM7XG4gICAgICAgICAgICAvLyBjbGFtcCBtaW4sIGluIGNhc2UgdGhleSBvbmx5IHBhc3NlZCBpbiBtYXggKG9yIHBhc3NlZCBpbiBtaW4gPiBtYXgpXG4gICAgICAgICAgICBtaW5fc2VjID0gTWF0aC5taW4obWluX3NlYywgbWF4X3NlYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsaWVudCA9PSB1bmRlZmluZWQgfHwgY2xpZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiTXF0dENsaWVudENvbm5lY3Rpb24gY29uc3RydWN0b3I6IGNsaWVudCBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnNvY2tldF9vcHRpb25zID09IHVuZGVmaW5lZCB8fCBjb25maWcuc29ja2V0X29wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJNcXR0Q2xpZW50Q29ubmVjdGlvbiBjb25zdHJ1Y3Rvcjogc29ja2V0X29wdGlvbnMgaW4gY29uZmlndXJhdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5tcXR0X2NsaWVudF9jb25uZWN0aW9uX25ldyhjbGllbnQubmF0aXZlX2hhbmRsZSgpLCAoZXJyb3JfY29kZSkgPT4geyB0aGlzLl9vbl9jb25uZWN0aW9uX2ludGVycnVwdGVkKGVycm9yX2NvZGUpOyB9LCAocmV0dXJuX2NvZGUsIHNlc3Npb25fcHJlc2VudCkgPT4geyB0aGlzLl9vbl9jb25uZWN0aW9uX3Jlc3VtZWQocmV0dXJuX2NvZGUsIHNlc3Npb25fcHJlc2VudCk7IH0sIGNvbmZpZy50bHNfY3R4ID8gY29uZmlnLnRsc19jdHgubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgd2lsbCwgY29uZmlnLnVzZXJuYW1lLCBjb25maWcucGFzc3dvcmQsIGNvbmZpZy51c2Vfd2Vic29ja2V0LCBjb25maWcucHJveHlfb3B0aW9ucyA/IGNvbmZpZy5wcm94eV9vcHRpb25zLmNyZWF0ZV9uYXRpdmVfaGFuZGxlKCkgOiB1bmRlZmluZWQsIGNvbmZpZy53ZWJzb2NrZXRfaGFuZHNoYWtlX3RyYW5zZm9ybSwgbWluX3NlYywgbWF4X3NlYykpO1xuICAgICAgICB0aGlzLnRsc19jdHggPSBjb25maWcudGxzX2N0eDtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9vbl9tZXNzYWdlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCB0aGlzLl9vbl9hbnlfcHVibGlzaC5iaW5kKHRoaXMpKTtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9vbl9jbG9zZWQodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRoaXMuX29uX2Nvbm5lY3Rpb25fY2xvc2VkLmJpbmQodGhpcykpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBGYWlsZWQgbXF0dCBvcGVyYXRpb25zICh3aGljaCBpcyBub3JtYWwpIGVtaXQgZXJyb3IgZXZlbnRzIGFzIHdlbGwgYXMgcmVqZWN0aW5nIHRoZSBvcmlnaW5hbCBwcm9taXNlLlxuICAgICAgICAgKiBCeSBpbnN0YWxsaW5nIGEgZGVmYXVsdCBlcnJvciBoYW5kbGVyIGhlcmUgd2UgaGVscCBwcmV2ZW50IGNvbW1vbiBpc3N1ZXMgd2hlcmUgb3BlcmF0aW9uIGZhaWx1cmVzIGJyaW5nXG4gICAgICAgICAqIHRoZSB3aG9sZSBwcm9ncmFtIHRvIGFuIGVuZCBiZWNhdXNlIGEgaGFuZGxlciB3YXNuJ3QgaW5zdGFsbGVkLiAgUHJvZ3JhbXMgdGhhdCBpbnN0YWxsIHRoZWlyIG93biBoYW5kbGVyXG4gICAgICAgICAqIHdpbGwgYmUgdW5hZmZlY3RlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7IH0pO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9jbG9zZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgfVxuICAgIC8vIE92ZXJyaWRkZW4gdG8gYWxsb3cgdW5jb3JraW5nIG9uIHJlYWR5XG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChldmVudCA9PSAnY29ubmVjdCcpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudW5jb3JrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbiB0aGUgYWN0dWFsIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciAoYXN5bmMpLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB3aGljaCBjb21wbGV0ZXMgd2hldGhlciB0aGUgY29ubmVjdGlvbiBzdWNjZWVkcyBvciBmYWlscy5cbiAgICAgKiAgICAgICAgICBJZiBjb25uZWN0aW9uIGZhaWxzLCB0aGUgUHJvbWlzZSB3aWxsIHJlamVjdCB3aXRoIGFuIGV4Y2VwdGlvbi5cbiAgICAgKiAgICAgICAgICBJZiBjb25uZWN0aW9uIHN1Y2NlZWRzLCB0aGUgUHJvbWlzZSB3aWxsIHJldHVybiBhIGJvb2xlYW4gdGhhdCBpc1xuICAgICAqICAgICAgICAgIHRydWUgZm9yIHJlc3VtaW5nIGFuIGV4aXN0aW5nIHNlc3Npb24sIG9yIGZhbHNlIGlmIHRoZSBzZXNzaW9uIGlzIG5ld1xuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCA9IHRoaXMuX3JlamVjdChyZWplY3QpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zb2NrZXRfb3B0aW9ucyA9PSBudWxsIHx8IHRoaXMuY29uZmlnLnNvY2tldF9vcHRpb25zID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIk1xdHRDbGllbnRDb25uZWN0aW9uIGNvbm5lY3Q6IHNvY2tldF9vcHRpb25zIGluIGNvbmZpZ3VyYXRpb24gbm90IGRlZmluZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fY29ubmVjdCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdGhpcy5jb25maWcuY2xpZW50X2lkLCB0aGlzLmNvbmZpZy5ob3N0X25hbWUsIHRoaXMuY29uZmlnLnBvcnQsIHRoaXMuY29uZmlnLnNvY2tldF9vcHRpb25zLm5hdGl2ZV9oYW5kbGUoKSwgdGhpcy5jb25maWcua2VlcF9hbGl2ZSwgdGhpcy5jb25maWcucGluZ190aW1lb3V0LCB0aGlzLmNvbmZpZy5wcm90b2NvbF9vcGVyYXRpb25fdGltZW91dCwgdGhpcy5jb25maWcuY2xlYW5fc2Vzc2lvbiwgdGhpcy5fb25fY29ubmVjdF9jYWxsYmFjay5iaW5kKHRoaXMsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29ubmVjdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmVjb25uZWN0IHdoZW4gZGlzY29ubmVjdGVkLCByZW1vdmluZyB0aGUgbmVlZCBmb3IgdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBUbyBjZWFzZSBhdXRvbWF0aWMgcmVjb25uZWN0aW9uIGF0dGVtcHRzLCBjYWxsIHtAbGluayBkaXNjb25uZWN0fS5cbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIHJlY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gdGhpcy5fcmVqZWN0KHJlamVjdCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9yZWNvbm5lY3QodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRoaXMuX29uX2Nvbm5lY3RfY2FsbGJhY2suYmluZCh0aGlzLCByZXNvbHZlLCByZWplY3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVibGlzaCBtZXNzYWdlIChhc3luYykuXG4gICAgICogSWYgdGhlIGRldmljZSBpcyBvZmZsaW5lLCB0aGUgUFVCTElTSCBwYWNrZXQgd2lsbCBiZSBzZW50IG9uY2UgdGhlIGNvbm5lY3Rpb24gcmVzdW1lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b3BpYyBUb3BpYyBuYW1lXG4gICAgICogQHBhcmFtIHBheWxvYWQgQ29udGVudHMgb2YgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBxb3MgUXVhbGl0eSBvZiBTZXJ2aWNlIGZvciBkZWxpdmVyaW5nIHRoaXMgbWVzc2FnZVxuICAgICAqIEBwYXJhbSByZXRhaW4gSWYgdHJ1ZSwgdGhlIHNlcnZlciB3aWxsIHN0b3JlIHRoZSBtZXNzYWdlIGFuZCBpdHMgUW9TIHNvIHRoYXQgaXQgY2FuIGJlXG4gICAgICogICAgICAgICAgICAgICBkZWxpdmVyZWQgdG8gZnV0dXJlIHN1YnNjcmliZXJzIHdob3NlIHN1YnNjcmlwdGlvbnMgbWF0Y2ggdGhlIHRvcGljIG5hbWVcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIHJldHVybnMgYSB7QGxpbmsgTXF0dFJlcXVlc3R9IHdoaWNoIHdpbGwgY29udGFpbiB0aGUgcGFja2V0IGlkIG9mXG4gICAgICogICAgICAgICAgdGhlIFBVQkxJU0ggcGFja2V0LlxuICAgICAqXG4gICAgICogKiBGb3IgUW9TIDAsIGNvbXBsZXRlcyBhcyBzb29uIGFzIHRoZSBwYWNrZXQgaXMgc2VudC5cbiAgICAgKiAqIEZvciBRb1MgMSwgY29tcGxldGVzIHdoZW4gUFVCQUNLIGlzIHJlY2VpdmVkLlxuICAgICAqICogRm9yIFFvUyAyLCBjb21wbGV0ZXMgd2hlbiBQVUJDT01QIGlzIHJlY2VpdmVkLlxuICAgICAqL1xuICAgIHB1Ymxpc2godG9waWMsIHBheWxvYWQsIHFvcywgcmV0YWluID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIFNraXAgcGF5bG9hZCBzaW5jZSBpdCBjYW4gYmUgc2V2ZXJhbCBkaWZmZXJlbnQgdHlwZXNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHRvcGljKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJ0b3BpYyBpcyBub3QgYSBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIChxb3MpICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInFvcyBpcyBub3QgYSBudW1iZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIChyZXRhaW4pICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJyZXRhaW4gaXMgbm90IGEgYm9vbGVhblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gdGhpcy5fcmVqZWN0KHJlamVjdCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9wdWJsaXNoKHRoaXMubmF0aXZlX2hhbmRsZSgpLCB0b3BpYywgY3J0Lm5vcm1hbGl6ZV9wYXlsb2FkKHBheWxvYWQpLCBxb3MsIHJldGFpbiwgdGhpcy5fb25fcHViYWNrX2NhbGxiYWNrLmJpbmQodGhpcywgcmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBhIHRvcGljIGZpbHRlciAoYXN5bmMpLlxuICAgICAqIFRoZSBjbGllbnQgc2VuZHMgYSBTVUJTQ1JJQkUgcGFja2V0IGFuZCB0aGUgc2VydmVyIHJlc3BvbmRzIHdpdGggYSBTVUJBQ0suXG4gICAgICpcbiAgICAgKiBzdWJzY3JpYmUoKSBtYXkgYmUgY2FsbGVkIHdoaWxlIHRoZSBkZXZpY2UgaXMgb2ZmbGluZSwgdGhvdWdoIHRoZSBhc3luY1xuICAgICAqIG9wZXJhdGlvbiBjYW5ub3QgY29tcGxldGUgc3VjY2Vzc2Z1bGx5IHVudGlsIHRoZSBjb25uZWN0aW9uIHJlc3VtZXMuXG4gICAgICpcbiAgICAgKiBPbmNlIHN1YnNjcmliZWQsIGBjYWxsYmFja2AgaXMgaW52b2tlZCBlYWNoIHRpbWUgYSBtZXNzYWdlIG1hdGNoaW5nXG4gICAgICogdGhlIGB0b3BpY2AgaXMgcmVjZWl2ZWQuIEl0IGlzIHBvc3NpYmxlIGZvciBzdWNoIG1lc3NhZ2VzIHRvIGFycml2ZSBiZWZvcmVcbiAgICAgKiB0aGUgU1VCQUNLIGlzIHJlY2VpdmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvcGljIFN1YnNjcmliZSB0byB0aGlzIHRvcGljIGZpbHRlciwgd2hpY2ggbWF5IGluY2x1ZGUgd2lsZGNhcmRzXG4gICAgICogQHBhcmFtIHFvcyBNYXhpbXVtIHJlcXVlc3RlZCBRb1MgdGhhdCBzZXJ2ZXIgbWF5IHVzZSB3aGVuIHNlbmRpbmcgbWVzc2FnZXMgdG8gdGhlIGNsaWVudC5cbiAgICAgKiAgICAgICAgICAgIFRoZSBzZXJ2ZXIgbWF5IGdyYW50IGEgbG93ZXIgUW9TIGluIHRoZSBTVUJBQ0tcbiAgICAgKiBAcGFyYW0gb25fbWVzc2FnZSBPcHRpb25hbCBjYWxsYmFjayBpbnZva2VkIHdoZW4gbWVzc2FnZSByZWNlaXZlZC5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIHJldHVybnMgYSB7QGxpbmsgTXF0dFN1YnNjcmliZVJlcXVlc3R9IHdoaWNoIHdpbGwgY29udGFpbiB0aGVcbiAgICAgKiAgICAgICAgICByZXN1bHQgb2YgdGhlIFNVQlNDUklCRS4gVGhlIFByb21pc2UgcmVzb2x2ZXMgd2hlbiBhIFNVQkFDSyBpcyByZXR1cm5lZFxuICAgICAqICAgICAgICAgIGZyb20gdGhlIHNlcnZlciBvciBpcyByZWplY3RlZCB3aGVuIGFuIGV4Y2VwdGlvbiBvY2N1cnMuXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHRvcGljLCBxb3MsIG9uX21lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHRvcGljKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJ0b3BpYyBpcyBub3QgYSBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIChxb3MpICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInFvcyBpcyBub3QgYSBudW1iZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCA9IHRoaXMuX3JlamVjdChyZWplY3QpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fc3Vic2NyaWJlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCB0b3BpYywgcW9zLCBvbl9tZXNzYWdlLCB0aGlzLl9vbl9zdWJhY2tfY2FsbGJhY2suYmluZCh0aGlzLCByZXNvbHZlLCByZWplY3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgZnJvbSBhIHRvcGljIGZpbHRlciAoYXN5bmMpLlxuICAgICAqIFRoZSBjbGllbnQgc2VuZHMgYW4gVU5TVUJTQ1JJQkUgcGFja2V0LCBhbmQgdGhlIHNlcnZlciByZXNwb25kcyB3aXRoIGFuIFVOU1VCQUNLLlxuICAgICAqIEBwYXJhbSB0b3BpYyBUaGUgdG9waWMgZmlsdGVyIHRvIHVuc3Vic2NyaWJlIGZyb20uIE1heSBjb250YWluIHdpbGRjYXJkcy5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdpaGNoIHJldHVybnMgYSB7QGxpbmsgTXF0dFJlcXVlc3R9IHdoaWNoIHdpbGwgY29udGFpbiB0aGUgcGFja2V0IGlkXG4gICAgICogICAgICAgICAgb2YgdGhlIFVOU1VCU0NSSUJFIHBhY2tldCBiZWluZyBhY2tub3dsZWRnZWQuIFByb21pc2UgaXMgcmVzb2x2ZWQgd2hlbiBhblxuICAgICAqICAgICAgICAgIFVOU1VCQUNLIGlzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciBvciBpcyByZWplY3RlZCB3aGVuIGFuIGV4Y2VwdGlvbiBvY2N1cnMuXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmUodG9waWMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHRvcGljKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJ0b3BpYyBpcyBub3QgYSBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCA9IHRoaXMuX3JlamVjdChyZWplY3QpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fdW5zdWJzY3JpYmUodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRvcGljLCB0aGlzLl9vbl91bnN1YmFja19jYWxsYmFjay5iaW5kKHRoaXMsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29ubmVjdGlvbiAoYXN5bmMpLlxuICAgICAqXG4gICAgICogV2lsbCBmcmVlIGFsbCBuYXRpdmUgcmVzb3VyY2VzLCByZW5kZXJpbmcgdGhlIGNvbm5lY3Rpb24gdW51c2FibGUgYWZ0ZXIgdGhlIGRpc2Nvbm5lY3QoKSBjYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB3aGljaCBjb21wbGV0ZXMgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQuXG4gICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QgPSB0aGlzLl9yZWplY3QocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0X2NsaWVudF9jb25uZWN0aW9uX2Rpc2Nvbm5lY3QodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRoaXMuX29uX2Rpc2Nvbm5lY3RfY2FsbGJhY2suYmluZCh0aGlzLCByZXNvbHZlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgYSBzbWFsbCBzZXQgb2YgbnVtZXJpY2FsIHN0YXRpc3RpY3MgYWJvdXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbm5lY3Rpb24ncyBvcGVyYXRpb24gcXVldWVcbiAgICAgKlxuICAgICAqIEBncm91cCBOb2RlLW9ubHlcbiAgICAgKi9cbiAgICBnZXRRdWV1ZVN0YXRpc3RpY3MoKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0X2NsaWVudF9jb25uZWN0aW9uX2dldF9xdWV1ZV9zdGF0aXN0aWNzKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLy8gV3JhcCBhIHByb21pc2UgcmVqZWN0aW9uIHdpdGggYSBmdW5jdGlvbiB0aGF0IHdpbGwgYWxzbyBlbWl0IHRoZSBlcnJvciBhcyBhbiBldmVudFxuICAgIF9yZWplY3QocmVqZWN0KSB7XG4gICAgICAgIHJldHVybiAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgZXJyb3JfMS5DcnRFcnJvcihyZWFzb24pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBfb25fY29ubmVjdGlvbl9pbnRlcnJ1cHRlZChlcnJvcl9jb2RlKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnaW50ZXJydXB0JywgbmV3IGVycm9yXzEuQ3J0RXJyb3IoZXJyb3JfY29kZSkpO1xuICAgIH1cbiAgICBfb25fY29ubmVjdGlvbl9yZXN1bWVkKHJldHVybl9jb2RlLCBzZXNzaW9uX3ByZXNlbnQpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdyZXN1bWUnLCByZXR1cm5fY29kZSwgc2Vzc2lvbl9wcmVzZW50KTtcbiAgICAgICAgbGV0IHN1Y2Nlc3NDYWxsYmFja0RhdGEgPSB7IHNlc3Npb25fcHJlc2VudDogc2Vzc2lvbl9wcmVzZW50LCByZWFzb25fY29kZTogcmV0dXJuX2NvZGUgfTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX3N1Y2Nlc3MnLCBzdWNjZXNzQ2FsbGJhY2tEYXRhKTtcbiAgICB9XG4gICAgX29uX2FueV9wdWJsaXNoKHRvcGljLCBwYXlsb2FkLCBkdXAsIHFvcywgcmV0YWluKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIHRvcGljLCBwYXlsb2FkLCBkdXAsIHFvcywgcmV0YWluKTtcbiAgICB9XG4gICAgX29uX2Nvbm5lY3Rpb25fY2xvc2VkKCkge1xuICAgICAgICBsZXQgY2xvc2VkQ2FsbGJhY2tEYXRhID0ge307XG4gICAgICAgIHRoaXMuZW1pdCgnY2xvc2VkJywgY2xvc2VkQ2FsbGJhY2tEYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIGNhbGwgY2xvc2UoKSBoZXJlIGluc3RlYWQgb2Ygb24gZGlzY29ubmVjdCBiZWNhdXNlIG9uX2Nsb3NlIGlzIGFsd2F5cyBjYWxsZWQgQUZURVIgZGlzY29ubmVjdFxuICAgICAgICAgKiBidXQgaWYgd2UgY2FsbCBjbG9zZSgpIGJlZm9yZSwgdGhlbiB3ZSBjYW5ub3QgZW1pdCB0aGUgY2xvc2VkIGNhbGxiYWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBfb25fY29ubmVjdF9jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGVycm9yX2NvZGUsIHJldHVybl9jb2RlLCBzZXNzaW9uX3ByZXNlbnQpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUgPT0gMCAmJiByZXR1cm5fY29kZSA9PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHNlc3Npb25fcHJlc2VudCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3QnLCBzZXNzaW9uX3ByZXNlbnQpO1xuICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDYWxsYmFja0RhdGEgPSB7IHNlc3Npb25fcHJlc2VudDogc2Vzc2lvbl9wcmVzZW50LCByZWFzb25fY29kZTogcmV0dXJuX2NvZGUgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9zdWNjZXNzJywgc3VjY2Vzc0NhbGxiYWNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3JfY29kZSAhPSAwKSB7XG4gICAgICAgICAgICByZWplY3QoXCJGYWlsZWQgdG8gY29ubmVjdDogXCIgKyBpby5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvcl9jb2RlKSk7XG4gICAgICAgICAgICBsZXQgZmFpbHVyZUNhbGxiYWNrRGF0YSA9IHsgZXJyb3I6IG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yX2NvZGUpIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fZmFpbHVyZScsIGZhaWx1cmVDYWxsYmFja0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFwiU2VydmVyIHJlamVjdGVkIGNvbm5lY3Rpb24uXCIpO1xuICAgICAgICAgICAgbGV0IGZhaWx1cmVDYWxsYmFja0RhdGEgPSB7IGVycm9yOiBuZXcgZXJyb3JfMS5DcnRFcnJvcig1MTM0KSB9OyAvLyA1MTM0ID0gQVdTX0VSUk9SX01RVFRfVU5FWFBFQ1RFRF9IQU5HVVBcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9mYWlsdXJlJywgZmFpbHVyZUNhbGxiYWNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uX3B1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIHBhY2tldF9pZCwgZXJyb3JfY29kZSkge1xuICAgICAgICBpZiAoZXJyb3JfY29kZSA9PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHsgcGFja2V0X2lkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFwiRmFpbGVkIHRvIHB1Ymxpc2g6IFwiICsgaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JfY29kZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbl9zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBwYWNrZXRfaWQsIHRvcGljLCBxb3MsIGVycm9yX2NvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUgPT0gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHBhY2tldF9pZCwgdG9waWMsIHFvcywgZXJyb3JfY29kZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChcIkZhaWxlZCB0byBzdWJzY3JpYmU6IFwiICsgaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JfY29kZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbl91bnN1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIHBhY2tldF9pZCwgZXJyb3JfY29kZSkge1xuICAgICAgICBpZiAoZXJyb3JfY29kZSA9PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHsgcGFja2V0X2lkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFwiRmFpbGVkIHRvIHVuc3Vic2NyaWJlOiBcIiArIGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yX2NvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25fZGlzY29ubmVjdF9jYWxsYmFjayhyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0Jyk7XG4gICAgICAgIC8qKiBOT1RFOiBXZSBhcmUgTk9UIGNhbGxpbmcgY2xvc2UoKSBoZXJlIGJ1dCBpbnN0ZWFkIGNhbGxpbmcgaXQgYXRcbiAgICAgICAgICogb25fY2xvc2VkIGJlY2F1c2UgaXQgaXMgYWx3YXlzIGNhbGxlZCBhZnRlciBkaXNjb25uZWN0ICovXG4gICAgfVxufVxuZXhwb3J0cy5NcXR0Q2xpZW50Q29ubmVjdGlvbiA9IE1xdHRDbGllbnRDb25uZWN0aW9uO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVzIGl0c2VsZiBmb3IgdGhlIGZpcnN0IHRpbWVcbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dENsaWVudENvbm5lY3Rpb24uQ09OTkVDVCA9ICdjb25uZWN0Jztcbi8qKlxuICogRW1pdHRlZCB3aGVuIGNvbm5lY3Rpb24gaGFzIGRpc2Nvbm5lY3RlZCBzdWNjZXNzZnVsbHkuXG4gKlxuICogQGV2ZW50XG4gKi9cbk1xdHRDbGllbnRDb25uZWN0aW9uLkRJU0NPTk5FQ1QgPSAnZGlzY29ubmVjdCc7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuICBUaGUgZXJyb3Igd2lsbCBjb250YWluIHRoZSBlcnJvclxuICogY29kZSBhbmQgbWVzc2FnZS5cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dENsaWVudENvbm5lY3Rpb24uRVJST1IgPSAnZXJyb3InO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgZHJvcHBlZCB1bmV4cGVjdGVkbHkuIFRoZSBlcnJvciB3aWxsIGNvbnRhaW4gdGhlIGVycm9yXG4gKiBjb2RlIGFuZCBtZXNzYWdlLiAgVGhlIHVuZGVybHlpbmcgbXF0dCBpbXBsZW1lbnRhdGlvbiB3aWxsIGF0dGVtcHQgdG8gcmVjb25uZWN0LlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5JTlRFUlJVUFQgPSAnaW50ZXJydXB0Jztcbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHJlY29ubmVjdHMgKGFmdGVyIGFuIGludGVycnVwdCkuIE9ubHkgdHJpZ2dlcnMgb24gY29ubmVjdGlvbnMgYWZ0ZXIgdGhlIGluaXRpYWwgb25lLlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5SRVNVTUUgPSAncmVzdW1lJztcbi8qKlxuICogRW1pdHRlZCB3aGVuIGFueSBNUVRUIHB1Ymxpc2ggbWVzc2FnZSBhcnJpdmVzLlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5NRVNTQUdFID0gJ21lc3NhZ2UnO1xuLyoqXG4gKiBFbWl0dGVkIG9uIGV2ZXJ5IHN1Y2Nlc3NmdWwgY29ubmVjdCBhbmQgcmVjb25uZWN0LlxuICogV2lsbCBjb250YWluIGEgbnVtYmVyIHdpdGggdGhlIGNvbm5lY3Rpb24gcmVhc29uIGNvZGUgYW5kXG4gKiBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjb25uZWN0aW9uIHJlc3VtZWQgYSBzZXNzaW9uLlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5DT05ORUNUSU9OX1NVQ0NFU1MgPSAnY29ubmVjdGlvbl9zdWNjZXNzJztcbi8qKlxuICogRW1pdHRlZCBvbiBhbiB1bnN1Y2Nlc3NmdWwgY29ubmVjdCBhbmQgcmVjb25uZWN0LlxuICogV2lsbCBjb250YWluIGFuIGVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGUgcmVhc29uIGZvciB0aGUgdW5zdWNjZXNzZnVsIGNvbm5lY3Rpb24uXG4gKlxuICogQGV2ZW50XG4gKi9cbk1xdHRDbGllbnRDb25uZWN0aW9uLkNPTk5FQ1RJT05fRkFJTFVSRSA9ICdjb25uZWN0aW9uX2ZhaWx1cmUnO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIE1RVFQgY29ubmVjdGlvbiB3YXMgZGlzY29ubmVjdGVkIGFuZCBzaHV0ZG93biBzdWNjZXNzZnVsbHkuXG4gKlxuICogQGV2ZW50XG4gKi9cbk1xdHRDbGllbnRDb25uZWN0aW9uLkNMT1NFRCA9ICdjbG9zZWQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXF0dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTXF0dDVDbGllbnQgPSBleHBvcnRzLkNsaWVudEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sID0gZXhwb3J0cy5DbGllbnRPcGVyYXRpb25RdWV1ZUJlaGF2aW9yID0gZXhwb3J0cy5IdHRwUHJveHlPcHRpb25zID0gdm9pZCAwO1xuLyoqXG4gKiBOb2RlLmpzIHNwZWNpZmljIE1RVFQ1IGNsaWVudCBpbXBsZW1lbnRhdGlvblxuICpcbiAqIERFVkVMT1BFUiBQUkVWSUVXIERJU0NMQUlNRVJcbiAqXG4gKiBNUVRUNSBzdXBwb3J0IGlzIGN1cnJlbnRseSBpbiAqKmRldmVsb3BlciBwcmV2aWV3KiouICBXZSBlbmNvdXJhZ2UgZmVlZGJhY2sgYXQgYWxsIHRpbWVzLCBidXQgZmVlZGJhY2sgZHVyaW5nIHRoZVxuICogcHJldmlldyB3aW5kb3cgaXMgZXNwZWNpYWxseSB2YWx1YWJsZSBpbiBzaGFwaW5nIHRoZSBmaW5hbCBwcm9kdWN0LiAgRHVyaW5nIHRoZSBwcmV2aWV3IHBlcmlvZCB3ZSBtYXkgbWFrZVxuICogYmFja3dhcmRzLWluY29tcGF0aWJsZSBjaGFuZ2VzIHRvIHRoZSBwdWJsaWMgQVBJLCBidXQgaW4gZ2VuZXJhbCwgdGhpcyBpcyBzb21ldGhpbmcgd2Ugd2lsbCB0cnkgb3VyIGJlc3QgdG8gYXZvaWQuXG4gKlxuICogW01RVFQ1IENsaWVudCBVc2VyIEd1aWRlXShodHRwczovL3d3dy5naXRodWIuY29tL2F3c2xhYnMvYXdzLWNydC1ub2RlanMvYmxvYi9tYWluL01RVFQ1LVVzZXJHdWlkZS5tZClcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgbXF0dDVcbiAqIEBtZXJnZVRhcmdldFxuICpcbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuY29uc3QgbmF0aXZlX3Jlc291cmNlXzEgPSByZXF1aXJlKFwiLi9uYXRpdmVfcmVzb3VyY2VcIik7XG5jb25zdCBldmVudF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ldmVudFwiKTtcbmNvbnN0IGlvID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2lvXCIpKTtcbmNvbnN0IG1xdHRfc2hhcmVkID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9jb21tb24vbXF0dF9zaGFyZWRcIikpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xudmFyIGh0dHBfMSA9IHJlcXVpcmUoXCIuL2h0dHBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIdHRwUHJveHlPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwXzEuSHR0cFByb3h5T3B0aW9uczsgfSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL21xdHQ1XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL21xdHQ1X3BhY2tldFwiKSwgZXhwb3J0cyk7XG47XG4vKipcbiAqIENvbnRyb2xzIGhvdyBkaXNjb25uZWN0cyBhZmZlY3QgdGhlIHF1ZXVlZCBhbmQgaW4tcHJvZ3Jlc3Mgb3BlcmF0aW9ucyB0cmFja2VkIGJ5IHRoZSBjbGllbnQuICBBbHNvIGNvbnRyb2xzXG4gKiBob3cgb3BlcmF0aW9ucyBhcmUgaGFuZGxlZCB3aGlsZSB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuICBJbiBwYXJ0aWN1bGFyLCBpZiB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQsXG4gKiB0aGVuIGFueSBvcGVyYXRpb24gdGhhdCB3b3VsZCBiZSBmYWlsZWQgb24gZGlzY29ubmVjdCAoYWNjb3JkaW5nIHRvIHRoZXNlIHJ1bGVzKSB3aWxsIGJlIHJlamVjdGVkLlxuICovXG52YXIgQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcjtcbihmdW5jdGlvbiAoQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcikge1xuICAgIC8qKiBTYW1lIGFzIEZhaWxRb3MwUHVibGlzaE9uRGlzY29ubmVjdCAqL1xuICAgIENsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3JbQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcltcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgIC8qKlxuICAgICAqIFJlLXF1ZXVlcyBRb1MgMSsgcHVibGlzaGVzIG9uIGRpc2Nvbm5lY3Q7IHVuLWFja2VkIHB1Ymxpc2hlcyBnbyB0byB0aGUgZnJvbnQgd2hpbGUgdW5wcm9jZXNzZWQgcHVibGlzaGVzIHN0YXlcbiAgICAgKiBpbiBwbGFjZS4gIEFsbCBvdGhlciBvcGVyYXRpb25zIChRb1MgMCBwdWJsaXNoZXMsIHN1YnNjcmliZSwgdW5zdWJzY3JpYmUpIGFyZSBmYWlsZWQuXG4gICAgICovXG4gICAgQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcltDbGllbnRPcGVyYXRpb25RdWV1ZUJlaGF2aW9yW1wiRmFpbE5vblFvczFQdWJsaXNoT25EaXNjb25uZWN0XCJdID0gMV0gPSBcIkZhaWxOb25Rb3MxUHVibGlzaE9uRGlzY29ubmVjdFwiO1xuICAgIC8qKlxuICAgICAqIFFvUyAwIHB1Ymxpc2hlcyB0aGF0IGFyZSBub3QgY29tcGxldGUgYXQgdGhlIHRpbWUgb2YgZGlzY29ubmVjdGlvbiBhcmUgZmFpbGVkLiAgVW4tYWNrZWQgUW9TIDErIHB1Ymxpc2hlcyBhcmVcbiAgICAgKiByZS1xdWV1ZWQgYXQgdGhlIGhlYWQgb2YgdGhlIGxpbmUgZm9yIGltbWVkaWF0ZSByZXRyYW5zbWlzc2lvbiBvbiBhIHNlc3Npb24gcmVzdW1wdGlvbi4gIEFsbCBvdGhlciBvcGVyYXRpb25zXG4gICAgICogYXJlIHJlcXVldWVkIGluIG9yaWdpbmFsIG9yZGVyIGJlaGluZCBhbnkgcmV0cmFuc21pc3Npb25zLlxuICAgICAqL1xuICAgIENsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3JbQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcltcIkZhaWxRb3MwUHVibGlzaE9uRGlzY29ubmVjdFwiXSA9IDJdID0gXCJGYWlsUW9zMFB1Ymxpc2hPbkRpc2Nvbm5lY3RcIjtcbiAgICAvKipcbiAgICAgKiBBbGwgb3BlcmF0aW9ucyB0aGF0IGFyZSBub3QgY29tcGxldGUgYXQgdGhlIHRpbWUgb2YgZGlzY29ubmVjdGlvbiBhcmUgZmFpbGVkLCBleGNlcHQgb3BlcmF0aW9ucyB0aGF0XG4gICAgICogdGhlIE1RVFQ1IHNwZWMgcmVxdWlyZXMgdG8gYmUgcmV0cmFuc21pdHRlZCAodW4tYWNrZWQgUW9TMSsgcHVibGlzaGVzKS5cbiAgICAgKi9cbiAgICBDbGllbnRPcGVyYXRpb25RdWV1ZUJlaGF2aW9yW0NsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3JbXCJGYWlsQWxsT25EaXNjb25uZWN0XCJdID0gM10gPSBcIkZhaWxBbGxPbkRpc2Nvbm5lY3RcIjtcbn0pKENsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3IgPSBleHBvcnRzLkNsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3IgfHwgKGV4cG9ydHMuQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvciA9IHt9KSk7XG4vKipcbiAqIEFkZGl0aW9uYWwgY29udHJvbHMgZm9yIGNsaWVudCBiZWhhdmlvciB3aXRoIHJlc3BlY3QgdG8gb3BlcmF0aW9uIHZhbGlkYXRpb24gYW5kIGZsb3cgY29udHJvbDsgdGhlc2UgY2hlY2tzXG4gKiBnbyBiZXlvbmQgdGhlIE1RVFQ1IHNwZWMgdG8gcmVzcGVjdCBsaW1pdHMgb2Ygc3BlY2lmaWMgTVFUVCBicm9rZXJzLlxuICovXG52YXIgQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2w7XG4oZnVuY3Rpb24gKENsaWVudEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sKSB7XG4gICAgLyoqXG4gICAgICogRG8gbm90IGRvIGFueSBhZGRpdGlvbmFsIHZhbGlkYXRpb24gb3IgZmxvdyBjb250cm9sXG4gICAgICovXG4gICAgQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xbQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhZGRpdGlvbmFsIGNsaWVudC1zaWRlIHZhbGlkYXRpb24gYW5kIG9wZXJhdGlvbmFsIGZsb3cgY29udHJvbCB0aGF0IHJlc3BlY3RzIHRoZVxuICAgICAqIGRlZmF1bHQgQVdTIElvVCBDb3JlIGxpbWl0cy5cbiAgICAgKlxuICAgICAqIEN1cnJlbnRseSBhcHBsaWVzIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCB2YWxpZGF0aW9uOlxuICAgICAqXG4gICAgICogMS4gTm8gbW9yZSB0aGFuIDggc3Vic2NyaXB0aW9ucyBwZXIgU1VCU0NSSUJFIHBhY2tldFxuICAgICAqIDEuIFRvcGljcyBhbmQgdG9waWMgZmlsdGVycyBoYXZlIGEgbWF4aW11bSBvZiA3IHNsYXNoZXMgKDggc2VnbWVudHMpLCBub3QgY291bnRpbmcgYW55IEFXUyBydWxlcyBwcmVmaXhcbiAgICAgKiAxLiBUb3BpY3MgbXVzdCBiZSA8PSAyNTYgYnl0ZXMgaW4gbGVuZ3RoXG4gICAgICogMS4gQ2xpZW50IGlkIG11c3QgYmUgPD0gMTI4IGJ5dGVzIGluIGxlbmd0aFxuICAgICAqXG4gICAgICogQWxzbyBhcHBsaWVzIHRoZSBmb2xsb3dpbmcgZmxvdyBjb250cm9sOlxuICAgICAqXG4gICAgICogMS4gT3V0Ym91bmQgdGhyb3VnaHB1dCB0aHJvdHRsZWQgdG8gNTEyS0Ivc1xuICAgICAqIDEuIE91dGJvdW5kIHB1Ymxpc2ggVFBTIHRocm90dGxlZCB0byAxMDBcbiAgICAgKi9cbiAgICBDbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbFtDbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbFtcIkF3c0lvdENvcmVEZWZhdWx0c1wiXSA9IDFdID0gXCJBd3NJb3RDb3JlRGVmYXVsdHNcIjtcbn0pKENsaWVudEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sID0gZXhwb3J0cy5DbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbCB8fCAoZXhwb3J0cy5DbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbCA9IHt9KSk7XG4vKipcbiAqIE5vZGUuanMgc3BlY2lmaWMgTVFUVDUgY2xpZW50IGltcGxlbWVudGF0aW9uXG4gKlxuICogREVWRUxPUEVSIFBSRVZJRVcgRElTQ0xBSU1FUlxuICpcbiAqIE1RVFQ1IHN1cHBvcnQgaXMgY3VycmVudGx5IGluICoqZGV2ZWxvcGVyIHByZXZpZXcqKi4gIFdlIGVuY291cmFnZSBmZWVkYmFjayBhdCBhbGwgdGltZXMsIGJ1dCBmZWVkYmFjayBkdXJpbmcgdGhlXG4gKiBwcmV2aWV3IHdpbmRvdyBpcyBlc3BlY2lhbGx5IHZhbHVhYmxlIGluIHNoYXBpbmcgdGhlIGZpbmFsIHByb2R1Y3QuICBEdXJpbmcgdGhlIHByZXZpZXcgcGVyaW9kIHdlIG1heSBtYWtlXG4gKiBiYWNrd2FyZHMtaW5jb21wYXRpYmxlIGNoYW5nZXMgdG8gdGhlIHB1YmxpYyBBUEksIGJ1dCBpbiBnZW5lcmFsLCB0aGlzIGlzIHNvbWV0aGluZyB3ZSB3aWxsIHRyeSBvdXIgYmVzdCB0byBhdm9pZC5cbiAqXG4gKiBOb3QgYWxsIHBhcnRzIG9mIHRoZSBNUVRUNSBzcGVjIGFyZSBzdXBwb3J0ZWQuIFdlIGN1cnJlbnRseSBkbyBub3Qgc3VwcG9ydDpcbiAqXG4gKiAqIEFVVEggcGFja2V0cyBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIGZpZWxkcyBpbiB0aGUgQ09OTkVDVCBwYWNrZXRcbiAqICogUW9TIDJcbiAqXG4gKiBbTVFUVDUgQ2xpZW50IFVzZXIgR3VpZGVdKGh0dHBzOi8vd3d3LmdpdGh1Yi5jb20vYXdzbGFicy9hd3MtY3J0LW5vZGVqcy9ibG9iL21haW4vTVFUVDUtVXNlckd1aWRlLm1kKVxuICpcbiAqIFRoaXMgY2xpZW50IGlzIGJhc2VkIG9uIG5hdGl2ZSByZXNvdXJjZXMuICBXaGVuIGZpbmlzaGVkIHdpdGggdGhlIGNsaWVudCwgeW91IG11c3QgY2FsbCBjbG9zZSgpIHRvIGRpc3Bvc2Ugb2ZcbiAqIHRoZW0gb3IgdGhleSB3aWxsIGxlYWsuXG4gKlxuICovXG5jbGFzcyBNcXR0NUNsaWVudCBleHRlbmRzICgwLCBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZU1peGluKShldmVudF8xLkJ1ZmZlcmVkRXZlbnRFbWl0dGVyKSB7XG4gICAgLyoqXG4gICAgICogQ2xpZW50IGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5tcXR0NV9jbGllbnRfbmV3KHRoaXMsIGNvbmZpZywgKGNsaWVudCkgPT4geyBNcXR0NUNsaWVudC5fc19vbl9zdG9wcGVkKGNsaWVudCk7IH0sIChjbGllbnQpID0+IHsgTXF0dDVDbGllbnQuX3Nfb25fYXR0ZW1wdGluZ19jb25uZWN0KGNsaWVudCk7IH0sIChjbGllbnQsIGNvbm5hY2ssIHNldHRpbmdzKSA9PiB7IE1xdHQ1Q2xpZW50Ll9zX29uX2Nvbm5lY3Rpb25fc3VjY2VzcyhjbGllbnQsIGNvbm5hY2ssIHNldHRpbmdzKTsgfSwgKGNsaWVudCwgZXJyb3JDb2RlLCBjb25uYWNrKSA9PiB7IE1xdHQ1Q2xpZW50Ll9zX29uX2Nvbm5lY3Rpb25fZmFpbHVyZShjbGllbnQsIG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yQ29kZSksIGNvbm5hY2spOyB9LCAoY2xpZW50LCBlcnJvckNvZGUsIGRpc2Nvbm5lY3QpID0+IHsgTXF0dDVDbGllbnQuX3Nfb25fZGlzY29ubmVjdGlvbihjbGllbnQsIG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yQ29kZSksIGRpc2Nvbm5lY3QpOyB9LCAoY2xpZW50LCBtZXNzYWdlKSA9PiB7IE1xdHQ1Q2xpZW50Ll9zX29uX21lc3NhZ2VfcmVjZWl2ZWQoY2xpZW50LCBtZXNzYWdlKTsgfSwgY29uZmlnLmNsaWVudEJvb3RzdHJhcCA/IGNvbmZpZy5jbGllbnRCb290c3RyYXAubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgY29uZmlnLnNvY2tldE9wdGlvbnMgPyBjb25maWcuc29ja2V0T3B0aW9ucy5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCBjb25maWcudGxzQ3R4ID8gY29uZmlnLnRsc0N0eC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCBjb25maWcuaHR0cFByb3h5T3B0aW9ucyA/IGNvbmZpZy5odHRwUHJveHlPcHRpb25zLmNyZWF0ZV9uYXRpdmVfaGFuZGxlKCkgOiBudWxsKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGNsZWFudXAgb2YgbmF0aXZlIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIE1RVFQ1IGNsaWVudC4gIE9uY2UgdGhpcyBoYXMgYmVlbiBpbnZva2VkLCBjYWxsYmFja3NcbiAgICAgKiBhbmQgZXZlbnRzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZWNlaXZlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgd2hlbiBmaW5pc2hlZCB3aXRoIGEgY2xpZW50OyBvdGhlcndpc2UsIG5hdGl2ZSByZXNvdXJjZXMgd2lsbCBsZWFrLiAgSXQgaXMgbm90IHNhZmVcbiAgICAgKiB0byBpbnZva2UgYW55IGZ1cnRoZXIgb3BlcmF0aW9ucyBvbiB0aGUgY2xpZW50IGFmdGVyIGNsb3NlKCkgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqXG4gICAgICogRm9yIGEgcnVubmluZyBjbGllbnQsIHNhZmUgYW5kIHByb3BlciBzaHV0ZG93biBjYW4gYmUgYWNjb21wbGlzaGVkIGJ5XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IHN0b3BwZWQgPSBvbmNlKGNsaWVudCwgXCJzdG9wcGVkXCIpO1xuICAgICAqIGNsaWVudC5zdG9wKCk7XG4gICAgICogYXdhaXQgc3RvcHBlZDtcbiAgICAgKiBjbGllbnQuY2xvc2UoKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBncm91cCBOb2RlLW9ubHlcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIE1RVFQ1IGNsaWVudCB0aGF0IHlvdSB3YW50IGl0IHRvIG1haW50YWluIGNvbm5lY3Rpdml0eSB0byB0aGUgY29uZmlndXJlZCBlbmRwb2ludC5cbiAgICAgKiBUaGUgY2xpZW50IHdpbGwgYXR0ZW1wdCB0byBzdGF5IGNvbm5lY3RlZCB1c2luZyB0aGUgcHJvcGVydGllcyBvZiB0aGUgcmVjb25uZWN0LXJlbGF0ZWQgcGFyYW1ldGVyc1xuICAgICAqIGluIHRoZSBtcXR0NSBjbGllbnQgY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X3N0YXJ0KHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIE1RVFQ1IGNsaWVudCB0aGF0IHlvdSB3YW50IGl0IHRvIGVuZCBjb25uZWN0aXZpdHkgdG8gdGhlIGNvbmZpZ3VyZWQgZW5kcG9pbnQsIGRpc2Nvbm5lY3RpbmcgYW55XG4gICAgICogZXhpc3RpbmcgY29ubmVjdGlvbiBhbmQgaGFsdGluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uICBPbmNlIHRoZSBwcm9jZXNzIGNvbXBsZXRlcywgbm8gZnVydGhlciBldmVudHMgd2lsbCBiZSBlbWl0dGVkIHVudGlsIHRoZSBjbGllbnRcbiAgICAgKiBoYXMge0BsaW5rIHN0YXJ0fSBpbnZva2VkLiAgSW52b2tpbmcge0BsaW5rIHN0YXJ0IHN0YXJ0KCl9IGFmdGVyIGEge0BsaW5rIHN0b3Agc3RvcCgpfSB3aWxsIGFsd2F5cyByZXN1bHQgaW4gYVxuICAgICAqIG5ldyBNUVRUIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGlzY29ubmVjdFBhY2tldCAob3B0aW9uYWwpIHByb3BlcnRpZXMgb2YgYSBESVNDT05ORUNUIHBhY2tldCB0byBzZW5kIGFzIHBhcnQgb2YgdGhlIHNodXRkb3duIHByb2Nlc3NcbiAgICAgKi9cbiAgICBzdG9wKGRpc2Nvbm5lY3RQYWNrZXQpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X3N0b3AodGhpcy5uYXRpdmVfaGFuZGxlKCksIGRpc2Nvbm5lY3RQYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdG8gb25lIG9yIG1vcmUgdG9waWMgZmlsdGVycyBieSBxdWV1aW5nIGEgU1VCU0NSSUJFIHBhY2tldCB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0IFNVQlNDUklCRSBwYWNrZXQgdG8gc2VuZCB0byB0aGUgc2VydmVyXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yIG9yIHJlc29sdmVkIHdpdGggdGhlIFNVQkFDSyByZXNwb25zZVxuICAgICAqL1xuICAgIHN1YnNjcmliZShwYWNrZXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3VycmllZFByb21pc2VDYWxsYmFjayhjbGllbnQsIGVycm9yQ29kZSwgc3ViYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNcXR0NUNsaWVudC5fc19vbl9zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBjbGllbnQsIGVycm9yQ29kZSwgc3ViYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X3N1YnNjcmliZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgcGFja2V0LCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgZnJvbSBvbmUgb3IgbW9yZSB0b3BpYyBmaWx0ZXJzIGJ5IHF1ZXVpbmcgYW4gVU5TVUJTQ1JJQkUgcGFja2V0IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXQgVU5TVUJTQ1JJQkUgcGFja2V0IHRvIHNlbmQgdG8gdGhlIHNlcnZlclxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvciBvciByZXNvbHZlZCB3aXRoIHRoZSBVTlNVQkFDSyByZXNwb25zZVxuICAgICAqL1xuICAgIHVuc3Vic2NyaWJlKHBhY2tldCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGNsaWVudCwgZXJyb3JDb2RlLCB1bnN1YmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTXF0dDVDbGllbnQuX3Nfb25fdW5zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBjbGllbnQsIGVycm9yQ29kZSwgdW5zdWJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0NV9jbGllbnRfdW5zdWJzY3JpYmUodGhpcy5uYXRpdmVfaGFuZGxlKCksIHBhY2tldCwgY3VycmllZFByb21pc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHN1YnNjcmliaW5nIGNsaWVudHMgYnkgcXVldWluZyBhIFBVQkxJU0ggcGFja2V0IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXQgUFVCTElTSCBwYWNrZXQgdG8gc2VuZCB0byB0aGUgc2VydmVyXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yIG9yIHJlc29sdmVkIHdpdGggdGhlIFBVQkFDSyByZXNwb25zZSAoUW9TIDEpIG9yXG4gICAgICogdW5kZWZpbmVkIChRb1MgMClcbiAgICAgKi9cbiAgICBwdWJsaXNoKHBhY2tldCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0ICYmIHBhY2tldC5wYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5wYXlsb2FkID0gbXF0dF9zaGFyZWQubm9ybWFsaXplX3BheWxvYWQocGFja2V0LnBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGNsaWVudCwgZXJyb3JDb2RlLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1xdHQ1Q2xpZW50Ll9zX29uX3B1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGNsaWVudCwgZXJyb3JDb2RlLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0NV9jbGllbnRfcHVibGlzaCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgcGFja2V0LCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVlcmllcyBhIHNtYWxsIHNldCBvZiBudW1lcmljYWwgc3RhdGlzdGljcyBhYm91dCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY2xpZW50J3Mgb3BlcmF0aW9uIHF1ZXVlXG4gICAgICpcbiAgICAgKiBAZ3JvdXAgTm9kZS1vbmx5XG4gICAgICovXG4gICAgZ2V0UXVldWVTdGF0aXN0aWNzKCkge1xuICAgICAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X2dldF9xdWV1ZV9zdGF0aXN0aWNzKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKlxuICAgICAqIFByaXZhdGUgaGVscGVyIGZ1bmN0aW9uc1xuICAgICAqXG4gICAgICogQ2FsbGJhY2tzIGNvbWUgdGhyb3VnaCBzdGF0aWMgZnVuY3Rpb25zIHNvIHRoYXQgdGhlIG5hdGl2ZSB0aHJlYWRzYWZlIGZ1bmN0aW9uIG9iamVjdHMgZG8gbm90XG4gICAgICogY2FwdHVyZSB0aGUgY2xpZW50IG9iamVjdCBpdHNlbGYsIHNpbXBsaWZ5aW5nIHRoZSBudW1iZXIgb2Ygc3Ryb25nIHJlZmVyZW5jZXMgdG8gdGhlIGNsaWVudCBmbG9hdGluZyBhcm91bmQuXG4gICAgICovXG4gICAgc3RhdGljIF9zX29uX3N0b3BwZWQoY2xpZW50KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHN0b3BwZWRFdmVudCA9IHt9O1xuICAgICAgICAgICAgY2xpZW50LmVtaXQoTXF0dDVDbGllbnQuU1RPUFBFRCwgc3RvcHBlZEV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9hdHRlbXB0aW5nX2Nvbm5lY3QoY2xpZW50KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGF0dGVtcHRpbmdDb25uZWN0RXZlbnQgPSB7fTtcbiAgICAgICAgICAgIGNsaWVudC5lbWl0KE1xdHQ1Q2xpZW50LkFUVEVNUFRJTkdfQ09OTkVDVCwgYXR0ZW1wdGluZ0Nvbm5lY3RFdmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fY29ubmVjdGlvbl9zdWNjZXNzKGNsaWVudCwgY29ubmFjaywgc2V0dGluZ3MpIHtcbiAgICAgICAgbGV0IGNvbm5lY3Rpb25TdWNjZXNzRXZlbnQgPSB7XG4gICAgICAgICAgICBjb25uYWNrOiBjb25uYWNrLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHNldHRpbmdzXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY2xpZW50LmVtaXQoTXF0dDVDbGllbnQuQ09OTkVDVElPTl9TVUNDRVNTLCBjb25uZWN0aW9uU3VjY2Vzc0V2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9jb25uZWN0aW9uX2ZhaWx1cmUoY2xpZW50LCBlcnJvciwgY29ubmFjaykge1xuICAgICAgICBsZXQgY29ubmVjdGlvbkZhaWx1cmVFdmVudCA9IHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29ubmFjayAhPT0gbnVsbCAmJiBjb25uYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWlsdXJlRXZlbnQuY29ubmFjayA9IGNvbm5hY2s7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBjbGllbnQuZW1pdChNcXR0NUNsaWVudC5DT05ORUNUSU9OX0ZBSUxVUkUsIGNvbm5lY3Rpb25GYWlsdXJlRXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIF9zX29uX2Rpc2Nvbm5lY3Rpb24oY2xpZW50LCBlcnJvciwgZGlzY29ubmVjdCkge1xuICAgICAgICBsZXQgZGlzY29ubmVjdGlvbkV2ZW50ID0ge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkaXNjb25uZWN0ICE9PSBudWxsICYmIGRpc2Nvbm5lY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGlzY29ubmVjdGlvbkV2ZW50LmRpc2Nvbm5lY3QgPSBkaXNjb25uZWN0O1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY2xpZW50LmVtaXQoTXF0dDVDbGllbnQuRElTQ09OTkVDVElPTiwgZGlzY29ubmVjdGlvbkV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBjbGllbnQsIGVycm9yQ29kZSwgc3ViYWNrKSB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT0gMCAmJiBzdWJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzb2x2ZShzdWJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yQ29kZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl91bnN1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGNsaWVudCwgZXJyb3JDb2RlLCB1bnN1YmFjaykge1xuICAgICAgICBpZiAoZXJyb3JDb2RlID09IDAgJiYgdW5zdWJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh1bnN1YmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JDb2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9zX29uX3B1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGNsaWVudCwgZXJyb3JDb2RlLCByZXN1bHQpIHtcbiAgICAgICAgaWYgKGVycm9yQ29kZSA9PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JDb2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9zX29uX21lc3NhZ2VfcmVjZWl2ZWQoY2xpZW50LCBtZXNzYWdlKSB7XG4gICAgICAgIGxldCBtZXNzYWdlUmVjZWl2ZWRFdmVudCA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBjbGllbnQuZW1pdChNcXR0NUNsaWVudC5NRVNTQUdFX1JFQ0VJVkVELCBtZXNzYWdlUmVjZWl2ZWRFdmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuTXF0dDVDbGllbnQgPSBNcXR0NUNsaWVudDtcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgZW5jb3VudGVycyBhIHNlcmlvdXMgZXJyb3IgY29uZGl0aW9uLCBzdWNoIGFzIGludmFsaWQgaW5wdXQsIG5hcGkgZmFpbHVyZXMsIGFuZFxuICogb3RoZXIgcG90ZW50aWFsbHkgdW5yZWNvdmVyYWJsZSBzaXR1YXRpb25zLlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBFcnJvckV2ZW50TGlzdGVuZXJ9XG4gKlxuICogQGV2ZW50XG4gKi9cbk1xdHQ1Q2xpZW50LkVSUk9SID0gJ2Vycm9yJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIGFuIE1RVFQgUFVCTElTSCBwYWNrZXQgaXMgcmVjZWl2ZWQgYnkgdGhlIGNsaWVudC5cbiAqXG4gKiBMaXN0ZW5lciB0eXBlOiB7QGxpbmsgTWVzc2FnZVJlY2VpdmVkRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuTUVTU0FHRV9SRUNFSVZFRCA9ICdtZXNzYWdlUmVjZWl2ZWQnO1xuLyoqXG4gKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNsaWVudCBiZWdpbnMgYSBjb25uZWN0aW9uIGF0dGVtcHQuXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIEF0dGVtcHRpbmdDb25uZWN0RXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuQVRURU1QVElOR19DT05ORUNUID0gJ2F0dGVtcHRpbmdDb25uZWN0Jztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVzIGFuIE1RVFQgY29ubmVjdGlvbi4gIE9ubHkgZW1pdHRlZCBhZnRlclxuICogYW4ge0BsaW5rIEFUVEVNUFRJTkdfQ09OTkVDVCBhdHRlbXB0aW5nQ29ubmVjdH0gZXZlbnQuXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIENvbm5lY3Rpb25TdWNjZXNzRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuQ09OTkVDVElPTl9TVUNDRVNTID0gJ2Nvbm5lY3Rpb25TdWNjZXNzJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgZmFpbHMgdG8gZXN0YWJsaXNoIGFuIE1RVFQgY29ubmVjdGlvbi4gIE9ubHkgZW1pdHRlZCBhZnRlclxuICogYW4ge0BsaW5rIEFUVEVNUFRJTkdfQ09OTkVDVCBhdHRlbXB0aW5nQ29ubmVjdH0gZXZlbnQuXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIENvbm5lY3Rpb25GYWlsdXJlRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuQ09OTkVDVElPTl9GQUlMVVJFID0gJ2Nvbm5lY3Rpb25GYWlsdXJlJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQncyBjdXJyZW50IGNvbm5lY3Rpb24gaXMgY2xvc2VkIGZvciBhbnkgcmVhc29uLiAgT25seSBlbWl0dGVkIGFmdGVyXG4gKiBhIHtAbGluayBDT05ORUNUSU9OX1NVQ0NFU1MgY29ubmVjdGlvblN1Y2Nlc3N9IGV2ZW50LlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBEaXNjb25uZWN0aW9uRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuRElTQ09OTkVDVElPTiA9ICdkaXNjb25uZWN0aW9uJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgZmluaXNoZXMgc2h1dGRvd24gYXMgYSByZXN1bHQgb2YgdGhlIHVzZXIgaW52b2tpbmcge0BsaW5rIHN0b3B9LlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBTdG9wcGVkRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuU1RPUFBFRCA9ICdzdG9wcGVkJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1xdHQ1LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTmF0aXZlUmVzb3VyY2VNaXhpbiA9IGV4cG9ydHMuTmF0aXZlUmVzb3VyY2UgPSB2b2lkIDA7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb2JqZWN0IGFsbG9jYXRlZCBuYXRpdmVseSBpbnNpZGUgdGhlIEFXUyBDUlQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgTmF0aXZlUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKGhhbmRsZSkge1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG5hdGl2ZV9oYW5kbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZTtcbiAgICB9XG59XG5leHBvcnRzLk5hdGl2ZVJlc291cmNlID0gTmF0aXZlUmVzb3VyY2U7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb2JqZWN0IGFsbG9jYXRlZCBuYXRpdmVseSBpbnNpZGUgdGhlIEFXUyBDUlQgd2hpY2ggYWxzb1xuICogbmVlZHMgYSBub2RlL1RTIGJhc2UgY2xhc3NcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBOYXRpdmVSZXNvdXJjZU1peGluKEJhc2UpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQmFzZSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICBfc3VwZXIoaGFuZGxlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICBuYXRpdmVfaGFuZGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLk5hdGl2ZVJlc291cmNlTWl4aW4gPSBOYXRpdmVSZXNvdXJjZU1peGluO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlX3Jlc291cmNlLmpzLm1hcCIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gKCkgPT4gKFtdKTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gMTMwOTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5Q29udGV4dDsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHZhbGlkYXRvciA9IHJlcXVpcmUoJy4vdmFsaWRhdG9yJyk7XG5jb25zdCBYTUxQYXJzZXIgPSByZXF1aXJlKCcuL3htbHBhcnNlci9YTUxQYXJzZXInKTtcbmNvbnN0IFhNTEJ1aWxkZXIgPSByZXF1aXJlKCcuL3htbGJ1aWxkZXIvanNvbjJ4bWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFhNTFBhcnNlcjogWE1MUGFyc2VyLFxuICBYTUxWYWxpZGF0b3I6IHZhbGlkYXRvcixcbiAgWE1MQnVpbGRlcjogWE1MQnVpbGRlclxufSIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmFtZVN0YXJ0Q2hhciA9ICc6QS1aYS16X1xcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEJztcbmNvbnN0IG5hbWVDaGFyID0gbmFtZVN0YXJ0Q2hhciArICdcXFxcLS5cXFxcZFxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwJztcbmNvbnN0IG5hbWVSZWdleHAgPSAnWycgKyBuYW1lU3RhcnRDaGFyICsgJ11bJyArIG5hbWVDaGFyICsgJ10qJ1xuY29uc3QgcmVnZXhOYW1lID0gbmV3IFJlZ0V4cCgnXicgKyBuYW1lUmVnZXhwICsgJyQnKTtcblxuY29uc3QgZ2V0QWxsTWF0Y2hlcyA9IGZ1bmN0aW9uKHN0cmluZywgcmVnZXgpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IFtdO1xuICBsZXQgbWF0Y2ggPSByZWdleC5leGVjKHN0cmluZyk7XG4gIHdoaWxlIChtYXRjaCkge1xuICAgIGNvbnN0IGFsbG1hdGNoZXMgPSBbXTtcbiAgICBhbGxtYXRjaGVzLnN0YXJ0SW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFswXS5sZW5ndGg7XG4gICAgY29uc3QgbGVuID0gbWF0Y2gubGVuZ3RoO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgIGFsbG1hdGNoZXMucHVzaChtYXRjaFtpbmRleF0pO1xuICAgIH1cbiAgICBtYXRjaGVzLnB1c2goYWxsbWF0Y2hlcyk7XG4gICAgbWF0Y2ggPSByZWdleC5leGVjKHN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59O1xuXG5jb25zdCBpc05hbWUgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgY29uc3QgbWF0Y2ggPSByZWdleE5hbWUuZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gIShtYXRjaCA9PT0gbnVsbCB8fCB0eXBlb2YgbWF0Y2ggPT09ICd1bmRlZmluZWQnKTtcbn07XG5cbmV4cG9ydHMuaXNFeGlzdCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaXNFbXB0eU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59O1xuXG4vKipcbiAqIENvcHkgYWxsIHRoZSBwcm9wZXJ0aWVzIG9mIGEgaW50byBiLlxuICogQHBhcmFtIHsqfSB0YXJnZXRcbiAqIEBwYXJhbSB7Kn0gYVxuICovXG5leHBvcnRzLm1lcmdlID0gZnVuY3Rpb24odGFyZ2V0LCBhLCBhcnJheU1vZGUpIHtcbiAgaWYgKGEpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYSk7IC8vIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIG93biBwcm9wZXJ0aWVzXG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7IC8vZG9uJ3QgbWFrZSBpdCBpbmxpbmVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlNb2RlID09PSAnc3RyaWN0Jykge1xuICAgICAgICB0YXJnZXRba2V5c1tpXV0gPSBbIGFba2V5c1tpXV0gXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXlzW2ldXSA9IGFba2V5c1tpXV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLyogZXhwb3J0cy5tZXJnZSA9ZnVuY3Rpb24gKGIsYSl7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKGIsYSk7XG59ICovXG5cbmV4cG9ydHMuZ2V0VmFsdWUgPSBmdW5jdGlvbih2KSB7XG4gIGlmIChleHBvcnRzLmlzRXhpc3QodikpIHtcbiAgICByZXR1cm4gdjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbi8vIGNvbnN0IGZha2VDYWxsID0gZnVuY3Rpb24oYSkge3JldHVybiBhO307XG4vLyBjb25zdCBmYWtlQ2FsbE5vUmV0dXJuID0gZnVuY3Rpb24oKSB7fTtcblxuZXhwb3J0cy5pc05hbWUgPSBpc05hbWU7XG5leHBvcnRzLmdldEFsbE1hdGNoZXMgPSBnZXRBbGxNYXRjaGVzO1xuZXhwb3J0cy5uYW1lUmVnZXhwID0gbmFtZVJlZ2V4cDtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgYWxsb3dCb29sZWFuQXR0cmlidXRlczogZmFsc2UsIC8vQSB0YWcgY2FuIGhhdmUgYXR0cmlidXRlcyB3aXRob3V0IGFueSB2YWx1ZVxuICB1bnBhaXJlZFRhZ3M6IFtdXG59O1xuXG4vL2NvbnN0IHRhZ3NQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIjxcXFxcLz8oW1xcXFx3OlxcXFwtX1xcLl0rKVxcXFxzKlxcLz8+XCIsXCJnXCIpO1xuZXhwb3J0cy52YWxpZGF0ZSA9IGZ1bmN0aW9uICh4bWxEYXRhLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgLy94bWxEYXRhID0geG1sRGF0YS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLFwiXCIpOy8vbWFrZSBpdCBzaW5nbGUgbGluZVxuICAvL3htbERhdGEgPSB4bWxEYXRhLnJlcGxhY2UoLyheXFxzKjxcXD94bWwuKj9cXD8+KS9nLFwiXCIpOy8vUmVtb3ZlIFhNTCBzdGFydGluZyB0YWdcbiAgLy94bWxEYXRhID0geG1sRGF0YS5yZXBsYWNlKC8oPCFET0NUWVBFW1xcc1xcd1xcXCJcXC5cXC9cXC1cXDpdKyhcXFsuKlxcXSkqXFxzKj4pL2csXCJcIik7Ly9SZW1vdmUgRE9DVFlQRVxuICBjb25zdCB0YWdzID0gW107XG4gIGxldCB0YWdGb3VuZCA9IGZhbHNlO1xuXG4gIC8vaW5kaWNhdGVzIHRoYXQgdGhlIHJvb3QgdGFnIGhhcyBiZWVuIGNsb3NlZCAoYWthLiBkZXB0aCAwIGhhcyBiZWVuIHJlYWNoZWQpXG4gIGxldCByZWFjaGVkUm9vdCA9IGZhbHNlO1xuXG4gIGlmICh4bWxEYXRhWzBdID09PSAnXFx1ZmVmZicpIHtcbiAgICAvLyBjaGVjayBmb3IgYnl0ZSBvcmRlciBtYXJrIChCT00pXG4gICAgeG1sRGF0YSA9IHhtbERhdGEuc3Vic3RyKDEpO1xuICB9XG4gIFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcblxuICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcgJiYgeG1sRGF0YVtpKzFdID09PSAnPycpIHtcbiAgICAgIGkrPTI7XG4gICAgICBpID0gcmVhZFBJKHhtbERhdGEsaSk7XG4gICAgICBpZiAoaS5lcnIpIHJldHVybiBpO1xuICAgIH1lbHNlIGlmICh4bWxEYXRhW2ldID09PSAnPCcpIHtcbiAgICAgIC8vc3RhcnRpbmcgb2YgdGFnXG4gICAgICAvL3JlYWQgdW50aWwgeW91IHJlYWNoIHRvICc+JyBhdm9pZGluZyBhbnkgJz4nIGluIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgbGV0IHRhZ1N0YXJ0UG9zID0gaTtcbiAgICAgIGkrKztcbiAgICAgIFxuICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICchJykge1xuICAgICAgICBpID0gcmVhZENvbW1lbnRBbmRDREFUQSh4bWxEYXRhLCBpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgY2xvc2luZ1RhZyA9IGZhbHNlO1xuICAgICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJy8nKSB7XG4gICAgICAgICAgLy9jbG9zaW5nIHRhZ1xuICAgICAgICAgIGNsb3NpbmdUYWcgPSB0cnVlO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvL3JlYWQgdGFnbmFtZVxuICAgICAgICBsZXQgdGFnTmFtZSA9ICcnO1xuICAgICAgICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJz4nICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJyAnICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJ1xcdCcgJiZcbiAgICAgICAgICB4bWxEYXRhW2ldICE9PSAnXFxuJyAmJlxuICAgICAgICAgIHhtbERhdGFbaV0gIT09ICdcXHInOyBpKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFnTmFtZSArPSB4bWxEYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRyaW0oKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0YWdOYW1lKTtcblxuICAgICAgICBpZiAodGFnTmFtZVt0YWdOYW1lLmxlbmd0aCAtIDFdID09PSAnLycpIHtcbiAgICAgICAgICAvL3NlbGYgY2xvc2luZyB0YWcgd2l0aG91dCBhdHRyaWJ1dGVzXG4gICAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUuc3Vic3RyaW5nKDAsIHRhZ05hbWUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgLy9jb250aW51ZTtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWxpZGF0ZVRhZ05hbWUodGFnTmFtZSkpIHtcbiAgICAgICAgICBsZXQgbXNnO1xuICAgICAgICAgIGlmICh0YWdOYW1lLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG1zZyA9IFwiSW52YWxpZCBzcGFjZSBhZnRlciAnPCcuXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZyA9IFwiVGFnICdcIit0YWdOYW1lK1wiJyBpcyBhbiBpbnZhbGlkIG5hbWUuXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFRhZycsIG1zZywgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRBdHRyaWJ1dGVTdHIoeG1sRGF0YSwgaSk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlcyBmb3IgJ1wiK3RhZ05hbWUrXCInIGhhdmUgb3BlbiBxdW90ZS5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXR0clN0ciA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaSA9IHJlc3VsdC5pbmRleDtcblxuICAgICAgICBpZiAoYXR0clN0clthdHRyU3RyLmxlbmd0aCAtIDFdID09PSAnLycpIHtcbiAgICAgICAgICAvL3NlbGYgY2xvc2luZyB0YWdcbiAgICAgICAgICBjb25zdCBhdHRyU3RyU3RhcnQgPSBpIC0gYXR0clN0ci5sZW5ndGg7XG4gICAgICAgICAgYXR0clN0ciA9IGF0dHJTdHIuc3Vic3RyaW5nKDAsIGF0dHJTdHIubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlQXR0cmlidXRlU3RyaW5nKGF0dHJTdHIsIG9wdGlvbnMpO1xuICAgICAgICAgIGlmIChpc1ZhbGlkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0YWdGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAvL2NvbnRpbnVlOyAvL3RleHQgbWF5IHByZXNlbnRzIGFmdGVyIHNlbGYgY2xvc2luZyB0YWdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy90aGUgcmVzdWx0IGZyb20gdGhlIG5lc3RlZCBmdW5jdGlvbiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZXJyb3Igd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vaW4gb3JkZXIgdG8gZ2V0IHRoZSAndHJ1ZScgZXJyb3IgbGluZSwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBhdHRyaWJ1dGUgYmVnaW5zIChpIC0gYXR0clN0ci5sZW5ndGgpIGFuZCB0aGVuIGFkZCB0aGUgcG9zaXRpb24gd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vdGhpcyBnaXZlcyB1cyB0aGUgYWJzb2x1dGUgaW5kZXggaW4gdGhlIGVudGlyZSB4bWwsIHdoaWNoIHdlIGNhbiB1c2UgdG8gZmluZCB0aGUgbGluZSBhdCBsYXN0XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoaXNWYWxpZC5lcnIuY29kZSwgaXNWYWxpZC5lcnIubXNnLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgYXR0clN0clN0YXJ0ICsgaXNWYWxpZC5lcnIubGluZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjbG9zaW5nVGFnKSB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQudGFnQ2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLCBcIkNsb3NpbmcgdGFnICdcIit0YWdOYW1lK1wiJyBkb2Vzbid0IGhhdmUgcHJvcGVyIGNsb3NpbmcuXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhdHRyU3RyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLCBcIkNsb3NpbmcgdGFnICdcIit0YWdOYW1lK1wiJyBjYW4ndCBoYXZlIGF0dHJpYnV0ZXMgb3IgaW52YWxpZCBzdGFydGluZy5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIHRhZ1N0YXJ0UG9zKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG90ZyA9IHRhZ3MucG9wKCk7XG4gICAgICAgICAgICBpZiAodGFnTmFtZSAhPT0gb3RnLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgbGV0IG9wZW5Qb3MgPSBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgb3RnLnRhZ1N0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkVGFnJyxcbiAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGNsb3NpbmcgdGFnICdcIitvdGcudGFnTmFtZStcIicgKG9wZW5lZCBpbiBsaW5lIFwiK29wZW5Qb3MubGluZStcIiwgY29sIFwiK29wZW5Qb3MuY29sK1wiKSBpbnN0ZWFkIG9mIGNsb3NpbmcgdGFnICdcIit0YWdOYW1lK1wiJy5cIixcbiAgICAgICAgICAgICAgICBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgdGFnU3RhcnRQb3MpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy93aGVuIHRoZXJlIGFyZSBubyBtb3JlIHRhZ3MsIHdlIHJlYWNoZWQgdGhlIHJvb3QgbGV2ZWwuXG4gICAgICAgICAgICBpZiAodGFncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICByZWFjaGVkUm9vdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZUF0dHJpYnV0ZVN0cmluZyhhdHRyU3RyLCBvcHRpb25zKTtcbiAgICAgICAgICBpZiAoaXNWYWxpZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy90aGUgcmVzdWx0IGZyb20gdGhlIG5lc3RlZCBmdW5jdGlvbiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZXJyb3Igd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vaW4gb3JkZXIgdG8gZ2V0IHRoZSAndHJ1ZScgZXJyb3IgbGluZSwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBhdHRyaWJ1dGUgYmVnaW5zIChpIC0gYXR0clN0ci5sZW5ndGgpIGFuZCB0aGVuIGFkZCB0aGUgcG9zaXRpb24gd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vdGhpcyBnaXZlcyB1cyB0aGUgYWJzb2x1dGUgaW5kZXggaW4gdGhlIGVudGlyZSB4bWwsIHdoaWNoIHdlIGNhbiB1c2UgdG8gZmluZCB0aGUgbGluZSBhdCBsYXN0XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoaXNWYWxpZC5lcnIuY29kZSwgaXNWYWxpZC5lcnIubXNnLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSAtIGF0dHJTdHIubGVuZ3RoICsgaXNWYWxpZC5lcnIubGluZSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vaWYgdGhlIHJvb3QgbGV2ZWwgaGFzIGJlZW4gcmVhY2hlZCBiZWZvcmUgLi4uXG4gICAgICAgICAgaWYgKHJlYWNoZWRSb290ID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRYbWwnLCAnTXVsdGlwbGUgcG9zc2libGUgcm9vdCBub2RlcyBmb3VuZC4nLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgICAgIH0gZWxzZSBpZihvcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSl7XG4gICAgICAgICAgICAvL2Rvbid0IHB1c2ggaW50byBzdGFja1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWdzLnB1c2goe3RhZ05hbWUsIHRhZ1N0YXJ0UG9zfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZ0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2tpcCB0YWcgdGV4dCB2YWx1ZVxuICAgICAgICAvL0l0IG1heSBpbmNsdWRlIGNvbW1lbnRzIGFuZCBDREFUQSB2YWx1ZVxuICAgICAgICBmb3IgKGkrKzsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJzwnKSB7XG4gICAgICAgICAgICBpZiAoeG1sRGF0YVtpICsgMV0gPT09ICchJykge1xuICAgICAgICAgICAgICAvL2NvbW1lbnQgb3IgQ0FEQVRBXG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgaSA9IHJlYWRDb21tZW50QW5kQ0RBVEEoeG1sRGF0YSwgaSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh4bWxEYXRhW2krMV0gPT09ICc/Jykge1xuICAgICAgICAgICAgICBpID0gcmVhZFBJKHhtbERhdGEsICsraSk7XG4gICAgICAgICAgICAgIGlmIChpLmVycikgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJyYnKSB7XG4gICAgICAgICAgICBjb25zdCBhZnRlckFtcCA9IHZhbGlkYXRlQW1wZXJzYW5kKHhtbERhdGEsIGkpO1xuICAgICAgICAgICAgaWYgKGFmdGVyQW1wID09IC0xKVxuICAgICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRDaGFyJywgXCJjaGFyICcmJyBpcyBub3QgZXhwZWN0ZWQuXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgICAgICAgICBpID0gYWZ0ZXJBbXA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZiAocmVhY2hlZFJvb3QgPT09IHRydWUgJiYgIWlzV2hpdGVTcGFjZSh4bWxEYXRhW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRYbWwnLCBcIkV4dHJhIHRleHQgYXQgdGhlIGVuZFwiLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvL2VuZCBvZiByZWFkaW5nIHRhZyB0ZXh0IHZhbHVlXG4gICAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcpIHtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCBpc1doaXRlU3BhY2UoeG1sRGF0YVtpXSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRDaGFyJywgXCJjaGFyICdcIit4bWxEYXRhW2ldK1wiJyBpcyBub3QgZXhwZWN0ZWQuXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCF0YWdGb3VuZCkge1xuICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFhtbCcsICdTdGFydCB0YWcgZXhwZWN0ZWQuJywgMSk7XG4gIH1lbHNlIGlmICh0YWdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLCBcIlVuY2xvc2VkIHRhZyAnXCIrdGFnc1swXS50YWdOYW1lK1wiJy5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIHRhZ3NbMF0udGFnU3RhcnRQb3MpKTtcbiAgfWVsc2UgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkWG1sJywgXCJJbnZhbGlkICdcIitcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0YWdzLm1hcCh0ID0+IHQudGFnTmFtZSksIG51bGwsIDQpLnJlcGxhY2UoL1xccj9cXG4vZywgJycpK1xuICAgICAgICAgIFwiJyBmb3VuZC5cIiwge2xpbmU6IDEsIGNvbDogMX0pO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBpc1doaXRlU3BhY2UoY2hhcil7XG4gIHJldHVybiBjaGFyID09PSAnICcgfHwgY2hhciA9PT0gJ1xcdCcgfHwgY2hhciA9PT0gJ1xcbicgIHx8IGNoYXIgPT09ICdcXHInO1xufVxuLyoqXG4gKiBSZWFkIFByb2Nlc3NpbmcgaW5zc3RydWN0aW9ucyBhbmQgc2tpcFxuICogQHBhcmFtIHsqfSB4bWxEYXRhXG4gKiBAcGFyYW0geyp9IGlcbiAqL1xuZnVuY3Rpb24gcmVhZFBJKHhtbERhdGEsIGkpIHtcbiAgY29uc3Qgc3RhcnQgPSBpO1xuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXSA9PSAnPycgfHwgeG1sRGF0YVtpXSA9PSAnICcpIHtcbiAgICAgIC8vdGFnbmFtZVxuICAgICAgY29uc3QgdGFnbmFtZSA9IHhtbERhdGEuc3Vic3RyKHN0YXJ0LCBpIC0gc3RhcnQpO1xuICAgICAgaWYgKGkgPiA1ICYmIHRhZ25hbWUgPT09ICd4bWwnKSB7XG4gICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFhtbCcsICdYTUwgZGVjbGFyYXRpb24gYWxsb3dlZCBvbmx5IGF0IHRoZSBzdGFydCBvZiB0aGUgZG9jdW1lbnQuJywgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PSAnPycgJiYgeG1sRGF0YVtpICsgMV0gPT0gJz4nKSB7XG4gICAgICAgIC8vY2hlY2sgaWYgdmFsaWQgYXR0cmlidXQgc3RyaW5nXG4gICAgICAgIGkrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIHJlYWRDb21tZW50QW5kQ0RBVEEoeG1sRGF0YSwgaSkge1xuICBpZiAoeG1sRGF0YS5sZW5ndGggPiBpICsgNSAmJiB4bWxEYXRhW2kgKyAxXSA9PT0gJy0nICYmIHhtbERhdGFbaSArIDJdID09PSAnLScpIHtcbiAgICAvL2NvbW1lbnRcbiAgICBmb3IgKGkgKz0gMzsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnLScgJiYgeG1sRGF0YVtpICsgMV0gPT09ICctJyAmJiB4bWxEYXRhW2kgKyAyXSA9PT0gJz4nKSB7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIHhtbERhdGEubGVuZ3RoID4gaSArIDggJiZcbiAgICB4bWxEYXRhW2kgKyAxXSA9PT0gJ0QnICYmXG4gICAgeG1sRGF0YVtpICsgMl0gPT09ICdPJyAmJlxuICAgIHhtbERhdGFbaSArIDNdID09PSAnQycgJiZcbiAgICB4bWxEYXRhW2kgKyA0XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpICsgNV0gPT09ICdZJyAmJlxuICAgIHhtbERhdGFbaSArIDZdID09PSAnUCcgJiZcbiAgICB4bWxEYXRhW2kgKyA3XSA9PT0gJ0UnXG4gICkge1xuICAgIGxldCBhbmdsZUJyYWNrZXRzQ291bnQgPSAxO1xuICAgIGZvciAoaSArPSA4OyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICc8Jykge1xuICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJz4nKSB7XG4gICAgICAgIGFuZ2xlQnJhY2tldHNDb3VudC0tO1xuICAgICAgICBpZiAoYW5nbGVCcmFja2V0c0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgeG1sRGF0YS5sZW5ndGggPiBpICsgOSAmJlxuICAgIHhtbERhdGFbaSArIDFdID09PSAnWycgJiZcbiAgICB4bWxEYXRhW2kgKyAyXSA9PT0gJ0MnICYmXG4gICAgeG1sRGF0YVtpICsgM10gPT09ICdEJyAmJlxuICAgIHhtbERhdGFbaSArIDRdID09PSAnQScgJiZcbiAgICB4bWxEYXRhW2kgKyA1XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpICsgNl0gPT09ICdBJyAmJlxuICAgIHhtbERhdGFbaSArIDddID09PSAnWydcbiAgKSB7XG4gICAgZm9yIChpICs9IDg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJ10nICYmIHhtbERhdGFbaSArIDFdID09PSAnXScgJiYgeG1sRGF0YVtpICsgMl0gPT09ICc+Jykge1xuICAgICAgICBpICs9IDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpO1xufVxuXG5jb25zdCBkb3VibGVRdW90ZSA9ICdcIic7XG5jb25zdCBzaW5nbGVRdW90ZSA9IFwiJ1wiO1xuXG4vKipcbiAqIEtlZXAgcmVhZGluZyB4bWxEYXRhIHVudGlsICc8JyBpcyBmb3VuZCBvdXRzaWRlIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30geG1sRGF0YVxuICogQHBhcmFtIHtudW1iZXJ9IGlcbiAqL1xuZnVuY3Rpb24gcmVhZEF0dHJpYnV0ZVN0cih4bWxEYXRhLCBpKSB7XG4gIGxldCBhdHRyU3RyID0gJyc7XG4gIGxldCBzdGFydENoYXIgPSAnJztcbiAgbGV0IHRhZ0Nsb3NlZCA9IGZhbHNlO1xuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXSA9PT0gZG91YmxlUXVvdGUgfHwgeG1sRGF0YVtpXSA9PT0gc2luZ2xlUXVvdGUpIHtcbiAgICAgIGlmIChzdGFydENoYXIgPT09ICcnKSB7XG4gICAgICAgIHN0YXJ0Q2hhciA9IHhtbERhdGFbaV07XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0Q2hhciAhPT0geG1sRGF0YVtpXSkge1xuICAgICAgICAvL2lmIHZhdWUgaXMgZW5jbG9zZWQgd2l0aCBkb3VibGUgcXVvdGUgdGhlbiBzaW5nbGUgcXVvdGVzIGFyZSBhbGxvd2VkIGluc2lkZSB0aGUgdmFsdWUgYW5kIHZpY2UgdmVyc2FcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0Q2hhciA9ICcnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJz4nKSB7XG4gICAgICBpZiAoc3RhcnRDaGFyID09PSAnJykge1xuICAgICAgICB0YWdDbG9zZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgYXR0clN0ciArPSB4bWxEYXRhW2ldO1xuICB9XG4gIGlmIChzdGFydENoYXIgIT09ICcnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogYXR0clN0cixcbiAgICBpbmRleDogaSxcbiAgICB0YWdDbG9zZWQ6IHRhZ0Nsb3NlZFxuICB9O1xufVxuXG4vKipcbiAqIFNlbGVjdCBhbGwgdGhlIGF0dHJpYnV0ZXMgd2hldGhlciB2YWxpZCBvciBpbnZhbGlkLlxuICovXG5jb25zdCB2YWxpZEF0dHJTdHJSZWd4cCA9IG5ldyBSZWdFeHAoJyhcXFxccyopKFteXFxcXHM9XSspKFxcXFxzKj0pPyhcXFxccyooW1xcJ1wiXSkoKFtcXFxcc1xcXFxTXSkqPylcXFxcNSk/JywgJ2cnKTtcblxuLy9hdHRyLCA9XCJzZFwiLCBhPVwiYW1pdCdzXCIsIGE9XCJzZFwiYj1cInNhZlwiLCBhYiAgY2Q9XCJcIlxuXG5mdW5jdGlvbiB2YWxpZGF0ZUF0dHJpYnV0ZVN0cmluZyhhdHRyU3RyLCBvcHRpb25zKSB7XG4gIC8vY29uc29sZS5sb2coXCJzdGFydDpcIithdHRyU3RyK1wiOmVuZFwiKTtcblxuICAvL2lmKGF0dHJTdHIudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7IC8vZW1wdHkgc3RyaW5nXG5cbiAgY29uc3QgbWF0Y2hlcyA9IHV0aWwuZ2V0QWxsTWF0Y2hlcyhhdHRyU3RyLCB2YWxpZEF0dHJTdHJSZWd4cCk7XG4gIGNvbnN0IGF0dHJOYW1lcyA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChtYXRjaGVzW2ldWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy9ub3NwYWNlIGJlZm9yZSBhdHRyaWJ1dGUgbmFtZTogYT1cInNkXCJiPVwic2FmXCJcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZEF0dHInLCBcIkF0dHJpYnV0ZSAnXCIrbWF0Y2hlc1tpXVsyXStcIicgaGFzIG5vIHNwYWNlIGluIHN0YXJ0aW5nLlwiLCBnZXRQb3NpdGlvbkZyb21NYXRjaChtYXRjaGVzW2ldKSlcbiAgICB9IGVsc2UgaWYgKG1hdGNoZXNbaV1bM10gIT09IHVuZGVmaW5lZCAmJiBtYXRjaGVzW2ldWzRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZEF0dHInLCBcIkF0dHJpYnV0ZSAnXCIrbWF0Y2hlc1tpXVsyXStcIicgaXMgd2l0aG91dCB2YWx1ZS5cIiwgZ2V0UG9zaXRpb25Gcm9tTWF0Y2gobWF0Y2hlc1tpXSkpO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hlc1tpXVszXSA9PT0gdW5kZWZpbmVkICYmICFvcHRpb25zLmFsbG93Qm9vbGVhbkF0dHJpYnV0ZXMpIHtcbiAgICAgIC8vaW5kZXBlbmRlbnQgYXR0cmlidXRlOiBhYlxuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiYm9vbGVhbiBhdHRyaWJ1dGUgJ1wiK21hdGNoZXNbaV1bMl0rXCInIGlzIG5vdCBhbGxvd2VkLlwiLCBnZXRQb3NpdGlvbkZyb21NYXRjaChtYXRjaGVzW2ldKSk7XG4gICAgfVxuICAgIC8qIGVsc2UgaWYobWF0Y2hlc1tpXVs2XSA9PT0gdW5kZWZpbmVkKXsvL2F0dHJpYnV0ZSB3aXRob3V0IHZhbHVlOiBhYj1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyOiB7IGNvZGU6XCJJbnZhbGlkQXR0clwiLG1zZzpcImF0dHJpYnV0ZSBcIiArIG1hdGNoZXNbaV1bMl0gKyBcIiBoYXMgbm8gdmFsdWUgYXNzaWduZWQuXCJ9fTtcbiAgICAgICAgICAgICAgICB9ICovXG4gICAgY29uc3QgYXR0ck5hbWUgPSBtYXRjaGVzW2ldWzJdO1xuICAgIGlmICghdmFsaWRhdGVBdHRyTmFtZShhdHRyTmFtZSkpIHtcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZEF0dHInLCBcIkF0dHJpYnV0ZSAnXCIrYXR0ck5hbWUrXCInIGlzIGFuIGludmFsaWQgbmFtZS5cIiwgZ2V0UG9zaXRpb25Gcm9tTWF0Y2gobWF0Y2hlc1tpXSkpO1xuICAgIH1cbiAgICBpZiAoIWF0dHJOYW1lcy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpIHtcbiAgICAgIC8vY2hlY2sgZm9yIGR1cGxpY2F0ZSBhdHRyaWJ1dGUuXG4gICAgICBhdHRyTmFtZXNbYXR0ck5hbWVdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlICdcIithdHRyTmFtZStcIicgaXMgcmVwZWF0ZWQuXCIsIGdldFBvc2l0aW9uRnJvbU1hdGNoKG1hdGNoZXNbaV0pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXJBbXBlcnNhbmQoeG1sRGF0YSwgaSkge1xuICBsZXQgcmUgPSAvXFxkLztcbiAgaWYgKHhtbERhdGFbaV0gPT09ICd4Jykge1xuICAgIGkrKztcbiAgICByZSA9IC9bXFxkYS1mQS1GXS87XG4gIH1cbiAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHhtbERhdGFbaV0gPT09ICc7JylcbiAgICAgIHJldHVybiBpO1xuICAgIGlmICgheG1sRGF0YVtpXS5tYXRjaChyZSkpXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQW1wZXJzYW5kKHhtbERhdGEsIGkpIHtcbiAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3htbC8jZHQtY2hhcnJlZlxuICBpKys7XG4gIGlmICh4bWxEYXRhW2ldID09PSAnOycpXG4gICAgcmV0dXJuIC0xO1xuICBpZiAoeG1sRGF0YVtpXSA9PT0gJyMnKSB7XG4gICAgaSsrO1xuICAgIHJldHVybiB2YWxpZGF0ZU51bWJlckFtcGVyc2FuZCh4bWxEYXRhLCBpKTtcbiAgfVxuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyssIGNvdW50KyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXS5tYXRjaCgvXFx3LykgJiYgY291bnQgPCAyMClcbiAgICAgIGNvbnRpbnVlO1xuICAgIGlmICh4bWxEYXRhW2ldID09PSAnOycpXG4gICAgICBicmVhaztcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yT2JqZWN0KGNvZGUsIG1lc3NhZ2UsIGxpbmVOdW1iZXIpIHtcbiAgcmV0dXJuIHtcbiAgICBlcnI6IHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICBtc2c6IG1lc3NhZ2UsXG4gICAgICBsaW5lOiBsaW5lTnVtYmVyLmxpbmUgfHwgbGluZU51bWJlcixcbiAgICAgIGNvbDogbGluZU51bWJlci5jb2wsXG4gICAgfSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBdHRyTmFtZShhdHRyTmFtZSkge1xuICByZXR1cm4gdXRpbC5pc05hbWUoYXR0ck5hbWUpO1xufVxuXG4vLyBjb25zdCBzdGFydHNXaXRoWE1MID0gL154bWwvaTtcblxuZnVuY3Rpb24gdmFsaWRhdGVUYWdOYW1lKHRhZ25hbWUpIHtcbiAgcmV0dXJuIHV0aWwuaXNOYW1lKHRhZ25hbWUpIC8qICYmICF0YWduYW1lLm1hdGNoKHN0YXJ0c1dpdGhYTUwpICovO1xufVxuXG4vL3RoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbGluZSBudW1iZXIgZm9yIHRoZSBjaGFyYWN0ZXIgYXQgdGhlIGdpdmVuIGluZGV4XG5mdW5jdGlvbiBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaW5kZXgpIHtcbiAgY29uc3QgbGluZXMgPSB4bWxEYXRhLnN1YnN0cmluZygwLCBpbmRleCkuc3BsaXQoL1xccj9cXG4vKTtcbiAgcmV0dXJuIHtcbiAgICBsaW5lOiBsaW5lcy5sZW5ndGgsXG5cbiAgICAvLyBjb2x1bW4gbnVtYmVyIGlzIGxhc3QgbGluZSdzIGxlbmd0aCArIDEsIGJlY2F1c2UgY29sdW1uIG51bWJlcmluZyBzdGFydHMgYXQgMTpcbiAgICBjb2w6IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDFcbiAgfTtcbn1cblxuLy90aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgbWF0Y2ggd2l0aGluIGF0dHJTdHJcbmZ1bmN0aW9uIGdldFBvc2l0aW9uRnJvbU1hdGNoKG1hdGNoKSB7XG4gIHJldHVybiBtYXRjaC5zdGFydEluZGV4ICsgbWF0Y2hbMV0ubGVuZ3RoO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuLy9wYXJzZSBFbXB0eSBOb2RlIGFzIHNlbGYgY2xvc2luZyBub2RlXG5jb25zdCBidWlsZEZyb21PcmRlcmVkSnMgPSByZXF1aXJlKCcuL29yZGVyZWRKczJYbWwnKTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGF0dHJpYnV0ZU5hbWVQcmVmaXg6ICdAXycsXG4gIGF0dHJpYnV0ZXNHcm91cE5hbWU6IGZhbHNlLFxuICB0ZXh0Tm9kZU5hbWU6ICcjdGV4dCcsXG4gIGlnbm9yZUF0dHJpYnV0ZXM6IHRydWUsXG4gIGNkYXRhUHJvcE5hbWU6IGZhbHNlLFxuICBmb3JtYXQ6IGZhbHNlLFxuICBpbmRlbnRCeTogJyAgJyxcbiAgc3VwcHJlc3NFbXB0eU5vZGU6IGZhbHNlLFxuICBzdXBwcmVzc1VucGFpcmVkTm9kZTogdHJ1ZSxcbiAgc3VwcHJlc3NCb29sZWFuQXR0cmlidXRlczogdHJ1ZSxcbiAgdGFnVmFsdWVQcm9jZXNzb3I6IGZ1bmN0aW9uKGtleSwgYSkge1xuICAgIHJldHVybiBhO1xuICB9LFxuICBhdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcjogZnVuY3Rpb24oYXR0ck5hbWUsIGEpIHtcbiAgICByZXR1cm4gYTtcbiAgfSxcbiAgcHJlc2VydmVPcmRlcjogZmFsc2UsXG4gIGNvbW1lbnRQcm9wTmFtZTogZmFsc2UsXG4gIHVucGFpcmVkVGFnczogW10sXG4gIGVudGl0aWVzOiBbXG4gICAgeyByZWdleDogbmV3IFJlZ0V4cChcIiZcIiwgXCJnXCIpLCB2YWw6IFwiJmFtcDtcIiB9LC8vaXQgbXVzdCBiZSBvbiB0b3BcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiPlwiLCBcImdcIiksIHZhbDogXCImZ3Q7XCIgfSxcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiPFwiLCBcImdcIiksIHZhbDogXCImbHQ7XCIgfSxcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiXFwnXCIsIFwiZ1wiKSwgdmFsOiBcIiZhcG9zO1wiIH0sXG4gICAgeyByZWdleDogbmV3IFJlZ0V4cChcIlxcXCJcIiwgXCJnXCIpLCB2YWw6IFwiJnF1b3Q7XCIgfVxuICBdLFxuICBwcm9jZXNzRW50aXRpZXM6IHRydWUsXG4gIHN0b3BOb2RlczogW10sXG4gIC8vIHRyYW5zZm9ybVRhZ05hbWU6IGZhbHNlLFxuICAvLyB0cmFuc2Zvcm1BdHRyaWJ1dGVOYW1lOiBmYWxzZSxcbiAgb25lTGlzdEdyb3VwOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gQnVpbGRlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVBdHRyaWJ1dGVzIHx8IHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVzR3JvdXBOYW1lKSB7XG4gICAgdGhpcy5pc0F0dHJpYnV0ZSA9IGZ1bmN0aW9uKC8qYSovKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmF0dHJQcmVmaXhMZW4gPSB0aGlzLm9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGg7XG4gICAgdGhpcy5pc0F0dHJpYnV0ZSA9IGlzQXR0cmlidXRlO1xuICB9XG5cbiAgdGhpcy5wcm9jZXNzVGV4dE9yT2JqTm9kZSA9IHByb2Nlc3NUZXh0T3JPYmpOb2RlXG5cbiAgaWYgKHRoaXMub3B0aW9ucy5mb3JtYXQpIHtcbiAgICB0aGlzLmluZGVudGF0ZSA9IGluZGVudGF0ZTtcbiAgICB0aGlzLnRhZ0VuZENoYXIgPSAnPlxcbic7XG4gICAgdGhpcy5uZXdMaW5lID0gJ1xcbic7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pbmRlbnRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9O1xuICAgIHRoaXMudGFnRW5kQ2hhciA9ICc+JztcbiAgICB0aGlzLm5ld0xpbmUgPSAnJztcbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKGpPYmopIHtcbiAgaWYodGhpcy5vcHRpb25zLnByZXNlcnZlT3JkZXIpe1xuICAgIHJldHVybiBidWlsZEZyb21PcmRlcmVkSnMoak9iaiwgdGhpcy5vcHRpb25zKTtcbiAgfWVsc2Uge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoak9iaikgJiYgdGhpcy5vcHRpb25zLmFycmF5Tm9kZU5hbWUgJiYgdGhpcy5vcHRpb25zLmFycmF5Tm9kZU5hbWUubGVuZ3RoID4gMSl7XG4gICAgICBqT2JqID0ge1xuICAgICAgICBbdGhpcy5vcHRpb25zLmFycmF5Tm9kZU5hbWVdIDogak9ialxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5qMngoak9iaiwgMCkudmFsO1xuICB9XG59O1xuXG5CdWlsZGVyLnByb3RvdHlwZS5qMnggPSBmdW5jdGlvbihqT2JqLCBsZXZlbCkge1xuICBsZXQgYXR0clN0ciA9ICcnO1xuICBsZXQgdmFsID0gJyc7XG4gIGZvciAobGV0IGtleSBpbiBqT2JqKSB7XG4gICAgaWYgKHR5cGVvZiBqT2JqW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBzdXByZXNzIHVuZGVmaW5lZCBub2RlXG4gICAgfSBlbHNlIGlmIChqT2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgIGlmKGtleVswXSA9PT0gXCI/XCIpIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnPycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgICBlbHNlIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnLycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgICAvLyB2YWwgKz0gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgJy8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIH0gZWxzZSBpZiAoak9ialtrZXldIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgdmFsICs9IHRoaXMuYnVpbGRUZXh0VmFsTm9kZShqT2JqW2tleV0sIGtleSwgJycsIGxldmVsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBqT2JqW2tleV0gIT09ICdvYmplY3QnKSB7XG4gICAgICAvL3ByZW1pdGl2ZSB0eXBlXG4gICAgICBjb25zdCBhdHRyID0gdGhpcy5pc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgYXR0clN0ciArPSB0aGlzLmJ1aWxkQXR0clBhaXJTdHIoYXR0ciwgJycgKyBqT2JqW2tleV0pO1xuICAgICAgfWVsc2Uge1xuICAgICAgICAvL3RhZyB2YWx1ZVxuICAgICAgICBpZiAoa2V5ID09PSB0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lKSB7XG4gICAgICAgICAgbGV0IG5ld3ZhbCA9IHRoaXMub3B0aW9ucy50YWdWYWx1ZVByb2Nlc3NvcihrZXksICcnICsgak9ialtrZXldKTtcbiAgICAgICAgICB2YWwgKz0gdGhpcy5yZXBsYWNlRW50aXRpZXNWYWx1ZShuZXd2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCArPSB0aGlzLmJ1aWxkVGV4dFZhbE5vZGUoak9ialtrZXldLCBrZXksICcnLCBsZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoak9ialtrZXldKSkge1xuICAgICAgLy9yZXBlYXRlZCBub2Rlc1xuICAgICAgY29uc3QgYXJyTGVuID0gak9ialtrZXldLmxlbmd0aDtcbiAgICAgIGxldCBsaXN0VGFnVmFsID0gXCJcIjtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyTGVuOyBqKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGpPYmpba2V5XVtqXTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIHN1cHJlc3MgdW5kZWZpbmVkIG5vZGVcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgaWYoa2V5WzBdID09PSBcIj9cIikgdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgICAgICBlbHNlIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnLycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgICAgICAgLy8gdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICcvJyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZih0aGlzLm9wdGlvbnMub25lTGlzdEdyb3VwICl7XG4gICAgICAgICAgICBsaXN0VGFnVmFsICs9IHRoaXMuajJ4KGl0ZW0sIGxldmVsICsgMSkudmFsO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbGlzdFRhZ1ZhbCArPSB0aGlzLnByb2Nlc3NUZXh0T3JPYmpOb2RlKGl0ZW0sIGtleSwgbGV2ZWwpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3RUYWdWYWwgKz0gdGhpcy5idWlsZFRleHRWYWxOb2RlKGl0ZW0sIGtleSwgJycsIGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYodGhpcy5vcHRpb25zLm9uZUxpc3RHcm91cCl7XG4gICAgICAgIGxpc3RUYWdWYWwgPSB0aGlzLmJ1aWxkT2JqZWN0Tm9kZShsaXN0VGFnVmFsLCBrZXksICcnLCBsZXZlbCk7XG4gICAgICB9XG4gICAgICB2YWwgKz0gbGlzdFRhZ1ZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9uZXN0ZWQgbm9kZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVzR3JvdXBOYW1lICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWUpIHtcbiAgICAgICAgY29uc3QgS3MgPSBPYmplY3Qua2V5cyhqT2JqW2tleV0pO1xuICAgICAgICBjb25zdCBMID0gS3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IEw7IGorKykge1xuICAgICAgICAgIGF0dHJTdHIgKz0gdGhpcy5idWlsZEF0dHJQYWlyU3RyKEtzW2pdLCAnJyArIGpPYmpba2V5XVtLc1tqXV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgKz0gdGhpcy5wcm9jZXNzVGV4dE9yT2JqTm9kZShqT2JqW2tleV0sIGtleSwgbGV2ZWwpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7YXR0clN0cjogYXR0clN0ciwgdmFsOiB2YWx9O1xufTtcblxuQnVpbGRlci5wcm90b3R5cGUuYnVpbGRBdHRyUGFpclN0ciA9IGZ1bmN0aW9uKGF0dHJOYW1lLCB2YWwpe1xuICB2YWwgPSB0aGlzLm9wdGlvbnMuYXR0cmlidXRlVmFsdWVQcm9jZXNzb3IoYXR0ck5hbWUsICcnICsgdmFsKTtcbiAgdmFsID0gdGhpcy5yZXBsYWNlRW50aXRpZXNWYWx1ZSh2YWwpO1xuICBpZiAodGhpcy5vcHRpb25zLnN1cHByZXNzQm9vbGVhbkF0dHJpYnV0ZXMgJiYgdmFsID09PSBcInRydWVcIikge1xuICAgIHJldHVybiAnICcgKyBhdHRyTmFtZTtcbiAgfSBlbHNlIHJldHVybiAnICcgKyBhdHRyTmFtZSArICc9XCInICsgdmFsICsgJ1wiJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1RleHRPck9iak5vZGUgKG9iamVjdCwga2V5LCBsZXZlbCkge1xuICBjb25zdCByZXN1bHQgPSB0aGlzLmoyeChvYmplY3QsIGxldmVsICsgMSk7XG4gIGlmIChvYmplY3RbdGhpcy5vcHRpb25zLnRleHROb2RlTmFtZV0gIT09IHVuZGVmaW5lZCAmJiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkVGV4dFZhbE5vZGUob2JqZWN0W3RoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWVdLCBrZXksIHJlc3VsdC5hdHRyU3RyLCBsZXZlbCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbGRPYmplY3ROb2RlKHJlc3VsdC52YWwsIGtleSwgcmVzdWx0LmF0dHJTdHIsIGxldmVsKTtcbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5idWlsZE9iamVjdE5vZGUgPSBmdW5jdGlvbih2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpIHtcbiAgaWYodmFsID09PSBcIlwiKXtcbiAgICBpZihrZXlbMF0gPT09IFwiP1wiKSByZXR1cm4gIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIrICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyBhdHRyU3RyICsgdGhpcy5jbG9zZVRhZyhrZXkpICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIH1cbiAgfWVsc2V7XG5cbiAgICBsZXQgdGFnRW5kRXhwID0gJzwvJyArIGtleSArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICBsZXQgcGlDbG9zaW5nQ2hhciA9IFwiXCI7XG4gICAgXG4gICAgaWYoa2V5WzBdID09PSBcIj9cIikge1xuICAgICAgcGlDbG9zaW5nQ2hhciA9IFwiP1wiO1xuICAgICAgdGFnRW5kRXhwID0gXCJcIjtcbiAgICB9XG4gIFxuICAgIGlmIChhdHRyU3RyICYmIHZhbC5pbmRleE9mKCc8JykgPT09IC0xKSB7XG4gICAgICByZXR1cm4gKCB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyAga2V5ICsgYXR0clN0ciArIHBpQ2xvc2luZ0NoYXIgKyAnPicgKyB2YWwgKyB0YWdFbmRFeHAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb21tZW50UHJvcE5hbWUgIT09IGZhbHNlICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmNvbW1lbnRQcm9wTmFtZSAmJiBwaUNsb3NpbmdDaGFyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIGA8IS0tJHt2YWx9LS0+YCArIHRoaXMubmV3TGluZTtcbiAgICB9ZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyBhdHRyU3RyICsgcGlDbG9zaW5nQ2hhciArIHRoaXMudGFnRW5kQ2hhciArXG4gICAgICAgIHZhbCArXG4gICAgICAgIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIHRhZ0VuZEV4cCAgICApO1xuICAgIH1cbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5jbG9zZVRhZyA9IGZ1bmN0aW9uKGtleSl7XG4gIGxldCBjbG9zZVRhZyA9IFwiXCI7XG4gIGlmKHRoaXMub3B0aW9ucy51bnBhaXJlZFRhZ3MuaW5kZXhPZihrZXkpICE9PSAtMSl7IC8vdW5wYWlyZWRcbiAgICBpZighdGhpcy5vcHRpb25zLnN1cHByZXNzVW5wYWlyZWROb2RlKSBjbG9zZVRhZyA9IFwiL1wiXG4gIH1lbHNlIGlmKHRoaXMub3B0aW9ucy5zdXBwcmVzc0VtcHR5Tm9kZSl7IC8vZW1wdHlcbiAgICBjbG9zZVRhZyA9IFwiL1wiO1xuICB9ZWxzZXtcbiAgICBjbG9zZVRhZyA9IGA+PC8ke2tleX1gXG4gIH1cbiAgcmV0dXJuIGNsb3NlVGFnO1xufVxuXG5mdW5jdGlvbiBidWlsZEVtcHR5T2JqTm9kZSh2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpIHtcbiAgaWYgKHZhbCAhPT0gJycpIHtcbiAgICByZXR1cm4gdGhpcy5idWlsZE9iamVjdE5vZGUodmFsLCBrZXksIGF0dHJTdHIsIGxldmVsKTtcbiAgfSBlbHNlIHtcbiAgICBpZihrZXlbMF0gPT09IFwiP1wiKSByZXR1cm4gIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIrICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiAgdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0ciArICcvJyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgIC8vIHJldHVybiB0aGlzLmJ1aWxkVGFnU3RyKGxldmVsLGtleSwgYXR0clN0cik7XG4gICAgfVxuICB9XG59XG5cbkJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkVGV4dFZhbE5vZGUgPSBmdW5jdGlvbih2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lICE9PSBmYWxzZSAmJiBrZXkgPT09IHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIGA8IVtDREFUQVske3ZhbH1dXT5gICsgIHRoaXMubmV3TGluZTtcbiAgfWVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb21tZW50UHJvcE5hbWUgIT09IGZhbHNlICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmNvbW1lbnRQcm9wTmFtZSkge1xuICAgIHJldHVybiB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyBgPCEtLSR7dmFsfS0tPmAgKyAgdGhpcy5uZXdMaW5lO1xuICB9ZWxzZSBpZihrZXlbMF0gPT09IFwiP1wiKSB7Ly9QSSB0YWdcbiAgICByZXR1cm4gIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIrICc/JyArIHRoaXMudGFnRW5kQ2hhcjsgXG4gIH1lbHNle1xuICAgIGxldCB0ZXh0VmFsdWUgPSB0aGlzLm9wdGlvbnMudGFnVmFsdWVQcm9jZXNzb3Ioa2V5LCB2YWwpO1xuICAgIHRleHRWYWx1ZSA9IHRoaXMucmVwbGFjZUVudGl0aWVzVmFsdWUodGV4dFZhbHVlKTtcbiAgXG4gICAgaWYoIHRleHRWYWx1ZSA9PT0gJycpe1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIgKyB0aGlzLmNsb3NlVGFnKGtleSkgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0ciArICc+JyArXG4gICAgICAgICB0ZXh0VmFsdWUgK1xuICAgICAgICAnPC8nICsga2V5ICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIH1cbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5yZXBsYWNlRW50aXRpZXNWYWx1ZSA9IGZ1bmN0aW9uKHRleHRWYWx1ZSl7XG4gIGlmKHRleHRWYWx1ZSAmJiB0ZXh0VmFsdWUubGVuZ3RoID4gMCAmJiB0aGlzLm9wdGlvbnMucHJvY2Vzc0VudGl0aWVzKXtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5vcHRpb25zLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLm9wdGlvbnMuZW50aXRpZXNbaV07XG4gICAgICB0ZXh0VmFsdWUgPSB0ZXh0VmFsdWUucmVwbGFjZShlbnRpdHkucmVnZXgsIGVudGl0eS52YWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGV4dFZhbHVlO1xufVxuXG5mdW5jdGlvbiBpbmRlbnRhdGUobGV2ZWwpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmRlbnRCeS5yZXBlYXQobGV2ZWwpO1xufVxuXG5mdW5jdGlvbiBpc0F0dHJpYnV0ZShuYW1lIC8qLCBvcHRpb25zKi8pIHtcbiAgaWYgKG5hbWUuc3RhcnRzV2l0aCh0aGlzLm9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeCkpIHtcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIodGhpcy5hdHRyUHJlZml4TGVuKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCdWlsZGVyO1xuIiwiY29uc3QgRU9MID0gXCJcXG5cIjtcblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7YXJyYXl9IGpBcnJheSBcbiAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIHRvWG1sKGpBcnJheSwgb3B0aW9ucykge1xuICAgIGxldCBpbmRlbnRhdGlvbiA9IFwiXCI7XG4gICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmIG9wdGlvbnMuaW5kZW50QnkubGVuZ3RoID4gMCkge1xuICAgICAgICBpbmRlbnRhdGlvbiA9IEVPTDtcbiAgICB9XG4gICAgcmV0dXJuIGFyclRvU3RyKGpBcnJheSwgb3B0aW9ucywgXCJcIiwgaW5kZW50YXRpb24pO1xufVxuXG5mdW5jdGlvbiBhcnJUb1N0cihhcnIsIG9wdGlvbnMsIGpQYXRoLCBpbmRlbnRhdGlvbikge1xuICAgIGxldCB4bWxTdHIgPSBcIlwiO1xuICAgIGxldCBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGFnT2JqID0gYXJyW2ldO1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gcHJvcE5hbWUodGFnT2JqKTtcbiAgICAgICAgbGV0IG5ld0pQYXRoID0gXCJcIjtcbiAgICAgICAgaWYgKGpQYXRoLmxlbmd0aCA9PT0gMCkgbmV3SlBhdGggPSB0YWdOYW1lXG4gICAgICAgIGVsc2UgbmV3SlBhdGggPSBgJHtqUGF0aH0uJHt0YWdOYW1lfWA7XG5cbiAgICAgICAgaWYgKHRhZ05hbWUgPT09IG9wdGlvbnMudGV4dE5vZGVOYW1lKSB7XG4gICAgICAgICAgICBsZXQgdGFnVGV4dCA9IHRhZ09ialt0YWdOYW1lXTtcbiAgICAgICAgICAgIGlmICghaXNTdG9wTm9kZShuZXdKUGF0aCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICB0YWdUZXh0ID0gb3B0aW9ucy50YWdWYWx1ZVByb2Nlc3Nvcih0YWdOYW1lLCB0YWdUZXh0KTtcbiAgICAgICAgICAgICAgICB0YWdUZXh0ID0gcmVwbGFjZUVudGl0aWVzVmFsdWUodGFnVGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcmV2aW91c0VsZW1lbnRUYWcpIHtcbiAgICAgICAgICAgICAgICB4bWxTdHIgKz0gaW5kZW50YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4bWxTdHIgKz0gdGFnVGV4dDtcbiAgICAgICAgICAgIGlzUHJldmlvdXNFbGVtZW50VGFnID0gZmFsc2U7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSBvcHRpb25zLmNkYXRhUHJvcE5hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXZpb3VzRWxlbWVudFRhZykge1xuICAgICAgICAgICAgICAgIHhtbFN0ciArPSBpbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhtbFN0ciArPSBgPCFbQ0RBVEFbJHt0YWdPYmpbdGFnTmFtZV1bMF1bb3B0aW9ucy50ZXh0Tm9kZU5hbWVdfV1dPmA7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IGZhbHNlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gb3B0aW9ucy5jb21tZW50UHJvcE5hbWUpIHtcbiAgICAgICAgICAgIHhtbFN0ciArPSBpbmRlbnRhdGlvbiArIGA8IS0tJHt0YWdPYmpbdGFnTmFtZV1bMF1bb3B0aW9ucy50ZXh0Tm9kZU5hbWVdfS0tPmA7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lWzBdID09PSBcIj9cIikge1xuICAgICAgICAgICAgY29uc3QgYXR0U3RyID0gYXR0cl90b19zdHIodGFnT2JqW1wiOkBcIl0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgdGVtcEluZCA9IHRhZ05hbWUgPT09IFwiP3htbFwiID8gXCJcIiA6IGluZGVudGF0aW9uO1xuICAgICAgICAgICAgbGV0IHBpVGV4dE5vZGVOYW1lID0gdGFnT2JqW3RhZ05hbWVdWzBdW29wdGlvbnMudGV4dE5vZGVOYW1lXTtcbiAgICAgICAgICAgIHBpVGV4dE5vZGVOYW1lID0gcGlUZXh0Tm9kZU5hbWUubGVuZ3RoICE9PSAwID8gXCIgXCIgKyBwaVRleHROb2RlTmFtZSA6IFwiXCI7IC8vcmVtb3ZlIGV4dHJhIHNwYWNpbmdcbiAgICAgICAgICAgIHhtbFN0ciArPSB0ZW1wSW5kICsgYDwke3RhZ05hbWV9JHtwaVRleHROb2RlTmFtZX0ke2F0dFN0cn0/PmA7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3SWRlbnRhdGlvbiA9IGluZGVudGF0aW9uO1xuICAgICAgICBpZiAobmV3SWRlbnRhdGlvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgbmV3SWRlbnRhdGlvbiArPSBvcHRpb25zLmluZGVudEJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dFN0ciA9IGF0dHJfdG9fc3RyKHRhZ09ialtcIjpAXCJdLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgdGFnU3RhcnQgPSBpbmRlbnRhdGlvbiArIGA8JHt0YWdOYW1lfSR7YXR0U3RyfWA7XG4gICAgICAgIGNvbnN0IHRhZ1ZhbHVlID0gYXJyVG9TdHIodGFnT2JqW3RhZ05hbWVdLCBvcHRpb25zLCBuZXdKUGF0aCwgbmV3SWRlbnRhdGlvbik7XG4gICAgICAgIGlmIChvcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VwcHJlc3NVbnBhaXJlZE5vZGUpIHhtbFN0ciArPSB0YWdTdGFydCArIFwiPlwiO1xuICAgICAgICAgICAgZWxzZSB4bWxTdHIgKz0gdGFnU3RhcnQgKyBcIi8+XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoKCF0YWdWYWx1ZSB8fCB0YWdWYWx1ZS5sZW5ndGggPT09IDApICYmIG9wdGlvbnMuc3VwcHJlc3NFbXB0eU5vZGUpIHtcbiAgICAgICAgICAgIHhtbFN0ciArPSB0YWdTdGFydCArIFwiLz5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdWYWx1ZSAmJiB0YWdWYWx1ZS5lbmRzV2l0aChcIj5cIikpIHtcbiAgICAgICAgICAgIHhtbFN0ciArPSB0YWdTdGFydCArIGA+JHt0YWdWYWx1ZX0ke2luZGVudGF0aW9ufTwvJHt0YWdOYW1lfT5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeG1sU3RyICs9IHRhZ1N0YXJ0ICsgXCI+XCI7XG4gICAgICAgICAgICBpZiAodGFnVmFsdWUgJiYgaW5kZW50YXRpb24gIT09IFwiXCIgJiYgKHRhZ1ZhbHVlLmluY2x1ZGVzKFwiLz5cIikgfHwgdGFnVmFsdWUuaW5jbHVkZXMoXCI8L1wiKSkpIHtcbiAgICAgICAgICAgICAgICB4bWxTdHIgKz0gaW5kZW50YXRpb24gKyBvcHRpb25zLmluZGVudEJ5ICsgdGFnVmFsdWUgKyBpbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeG1sU3RyICs9IHRhZ1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sU3RyICs9IGA8LyR7dGFnTmFtZX0+YDtcbiAgICAgICAgfVxuICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHhtbFN0cjtcbn1cblxuZnVuY3Rpb24gcHJvcE5hbWUob2JqKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChrZXkgIT09IFwiOkBcIikgcmV0dXJuIGtleTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGF0dHJfdG9fc3RyKGF0dHJNYXAsIG9wdGlvbnMpIHtcbiAgICBsZXQgYXR0clN0ciA9IFwiXCI7XG4gICAgaWYgKGF0dHJNYXAgJiYgIW9wdGlvbnMuaWdub3JlQXR0cmlidXRlcykge1xuICAgICAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJNYXApIHtcbiAgICAgICAgICAgIGxldCBhdHRyVmFsID0gb3B0aW9ucy5hdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcihhdHRyLCBhdHRyTWFwW2F0dHJdKTtcbiAgICAgICAgICAgIGF0dHJWYWwgPSByZXBsYWNlRW50aXRpZXNWYWx1ZShhdHRyVmFsLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChhdHRyVmFsID09PSB0cnVlICYmIG9wdGlvbnMuc3VwcHJlc3NCb29sZWFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGF0dHJTdHIgKz0gYCAke2F0dHIuc3Vic3RyKG9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJTdHIgKz0gYCAke2F0dHIuc3Vic3RyKG9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpfT1cIiR7YXR0clZhbH1cImA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGF0dHJTdHI7XG59XG5cbmZ1bmN0aW9uIGlzU3RvcE5vZGUoalBhdGgsIG9wdGlvbnMpIHtcbiAgICBqUGF0aCA9IGpQYXRoLnN1YnN0cigwLCBqUGF0aC5sZW5ndGggLSBvcHRpb25zLnRleHROb2RlTmFtZS5sZW5ndGggLSAxKTtcbiAgICBsZXQgdGFnTmFtZSA9IGpQYXRoLnN1YnN0cihqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcbiAgICBmb3IgKGxldCBpbmRleCBpbiBvcHRpb25zLnN0b3BOb2Rlcykge1xuICAgICAgICBpZiAob3B0aW9ucy5zdG9wTm9kZXNbaW5kZXhdID09PSBqUGF0aCB8fCBvcHRpb25zLnN0b3BOb2Rlc1tpbmRleF0gPT09IFwiKi5cIiArIHRhZ05hbWUpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VFbnRpdGllc1ZhbHVlKHRleHRWYWx1ZSwgb3B0aW9ucykge1xuICAgIGlmICh0ZXh0VmFsdWUgJiYgdGV4dFZhbHVlLmxlbmd0aCA+IDAgJiYgb3B0aW9ucy5wcm9jZXNzRW50aXRpZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBvcHRpb25zLmVudGl0aWVzW2ldO1xuICAgICAgICAgICAgdGV4dFZhbHVlID0gdGV4dFZhbHVlLnJlcGxhY2UoZW50aXR5LnJlZ2V4LCBlbnRpdHkudmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dFZhbHVlO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0b1htbDtcbiIsImNvbnN0IHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5cbi8vVE9ETzogaGFuZGxlIGNvbW1lbnRzXG5mdW5jdGlvbiByZWFkRG9jVHlwZSh4bWxEYXRhLCBpKXtcbiAgICBcbiAgICBjb25zdCBlbnRpdGllcyA9IHt9O1xuICAgIGlmKCB4bWxEYXRhW2kgKyAzXSA9PT0gJ08nICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA0XSA9PT0gJ0MnICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA1XSA9PT0gJ1QnICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA2XSA9PT0gJ1knICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA3XSA9PT0gJ1AnICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA4XSA9PT0gJ0UnKVxuICAgIHsgICAgXG4gICAgICAgIGkgPSBpKzk7XG4gICAgICAgIGxldCBhbmdsZUJyYWNrZXRzQ291bnQgPSAxO1xuICAgICAgICBsZXQgaGFzQm9keSA9IGZhbHNlLCBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGxldCBleHAgPSBcIlwiO1xuICAgICAgICBmb3IoO2k8eG1sRGF0YS5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcgJiYgIWNvbW1lbnQpIHsgLy9EZXRlcm1pbmUgdGhlIHRhZyB0eXBlXG4gICAgICAgICAgICAgICAgaWYoIGhhc0JvZHkgJiYgaXNFbnRpdHkoeG1sRGF0YSwgaSkpe1xuICAgICAgICAgICAgICAgICAgICBpICs9IDc7IFxuICAgICAgICAgICAgICAgICAgICBbZW50aXR5TmFtZSwgdmFsLGldID0gcmVhZEVudGl0eUV4cCh4bWxEYXRhLGkrMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbC5pbmRleE9mKFwiJlwiKSA9PT0gLTEpIC8vUGFyYW1ldGVyIGVudGl0aWVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllc1sgdmFsaWRhdGVFbnRpdHlOYW1lKGVudGl0eU5hbWUpIF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVneCA6IFJlZ0V4cCggYCYke2VudGl0eU5hbWV9O2AsXCJnXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBoYXNCb2R5ICYmIGlzRWxlbWVudCh4bWxEYXRhLCBpKSkgIGkgKz0gODsvL05vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBoYXNCb2R5ICYmIGlzQXR0bGlzdCh4bWxEYXRhLCBpKSkgIGkgKz0gODsvL05vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBoYXNCb2R5ICYmIGlzTm90YXRpb24oeG1sRGF0YSwgaSkpIGkgKz0gOTsvL05vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBpc0NvbW1lbnQpICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBET0NUWVBFXCIpO1xuXG4gICAgICAgICAgICAgICAgYW5nbGVCcmFja2V0c0NvdW50Kys7XG4gICAgICAgICAgICAgICAgZXhwID0gXCJcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJz4nKSB7IC8vUmVhZCB0YWcgY29udGVudFxuICAgICAgICAgICAgICAgIGlmKGNvbW1lbnQpe1xuICAgICAgICAgICAgICAgICAgICBpZiggeG1sRGF0YVtpIC0gMV0gPT09IFwiLVwiICYmIHhtbERhdGFbaSAtIDJdID09PSBcIi1cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuZ2xlQnJhY2tldHNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2UgaWYoIHhtbERhdGFbaV0gPT09ICdbJyl7XG4gICAgICAgICAgICAgICAgaGFzQm9keSA9IHRydWU7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBleHAgKz0geG1sRGF0YVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihhbmdsZUJyYWNrZXRzQ291bnQgIT09IDApe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmNsb3NlZCBET0NUWVBFYCk7XG4gICAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFRhZyBpbnN0ZWFkIG9mIERPQ1RZUEVgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtlbnRpdGllcywgaX07XG59XG5cbmZ1bmN0aW9uIHJlYWRFbnRpdHlFeHAoeG1sRGF0YSxpKXtcbiAgICAvL0V4dGVybmFsIGVudGl0aWVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgLy8gICAgPCFFTlRJVFkgZXh0IFNZU1RFTSBcImh0dHA6Ly9ub3JtYWwtd2Vic2l0ZS5jb21cIiA+XG5cbiAgICAvL1BhcmFtZXRlciBlbnRpdGllcyBhcmUgbm90IHN1cHBvcnRlZFxuICAgIC8vICAgIDwhRU5USVRZIGVudGl0eW5hbWUgXCImYW5vdGhlckVsZW1lbnQ7XCI+XG5cbiAgICAvL0ludGVybmFsIGVudGl0aWVzIGFyZSBzdXBwb3J0ZWRcbiAgICAvLyAgICA8IUVOVElUWSBlbnRpdHluYW1lIFwicmVwbGFjZW1lbnQgdGV4dFwiPlxuICAgIFxuICAgIC8vcmVhZCBFbnRpdHlOYW1lXG4gICAgbGV0IGVudGl0eU5hbWUgPSBcIlwiO1xuICAgIGZvciAoOyBpIDwgeG1sRGF0YS5sZW5ndGggJiYgKHhtbERhdGFbaV0gIT09IFwiJ1wiICYmIHhtbERhdGFbaV0gIT09ICdcIicgKTsgaSsrKSB7XG4gICAgICAgIC8vIGlmKHhtbERhdGFbaV0gPT09IFwiIFwiKSBjb250aW51ZTtcbiAgICAgICAgLy8gZWxzZSBcbiAgICAgICAgZW50aXR5TmFtZSArPSB4bWxEYXRhW2ldO1xuICAgIH1cbiAgICBlbnRpdHlOYW1lID0gZW50aXR5TmFtZS50cmltKCk7XG4gICAgaWYoZW50aXR5TmFtZS5pbmRleE9mKFwiIFwiKSAhPT0gLTEpIHRocm93IG5ldyBFcnJvcihcIkV4dGVybmFsIGVudGl0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG5cbiAgICAvL3JlYWQgRW50aXR5IFZhbHVlXG4gICAgY29uc3Qgc3RhcnRDaGFyID0geG1sRGF0YVtpKytdO1xuICAgIGxldCB2YWwgPSBcIlwiXG4gICAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aCAmJiB4bWxEYXRhW2ldICE9PSBzdGFydENoYXIgOyBpKyspIHtcbiAgICAgICAgdmFsICs9IHhtbERhdGFbaV07XG4gICAgfVxuICAgIHJldHVybiBbZW50aXR5TmFtZSwgdmFsLCBpXTtcbn1cblxuZnVuY3Rpb24gaXNDb21tZW50KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnLScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICctJykgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2Vcbn1cbmZ1bmN0aW9uIGlzRW50aXR5KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnRScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICdOJyAmJlxuICAgIHhtbERhdGFbaSs0XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpKzVdID09PSAnSScgJiZcbiAgICB4bWxEYXRhW2krNl0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs3XSA9PT0gJ1knKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxufVxuZnVuY3Rpb24gaXNFbGVtZW50KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnRScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICdMJyAmJlxuICAgIHhtbERhdGFbaSs0XSA9PT0gJ0UnICYmXG4gICAgeG1sRGF0YVtpKzVdID09PSAnTScgJiZcbiAgICB4bWxEYXRhW2krNl0gPT09ICdFJyAmJlxuICAgIHhtbERhdGFbaSs3XSA9PT0gJ04nICYmXG4gICAgeG1sRGF0YVtpKzhdID09PSAnVCcpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIGlzQXR0bGlzdCh4bWxEYXRhLCBpKXtcbiAgICBpZih4bWxEYXRhW2krMV0gPT09ICchJyAmJlxuICAgIHhtbERhdGFbaSsyXSA9PT0gJ0EnICYmXG4gICAgeG1sRGF0YVtpKzNdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2krNF0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs1XSA9PT0gJ0wnICYmXG4gICAgeG1sRGF0YVtpKzZdID09PSAnSScgJiZcbiAgICB4bWxEYXRhW2krN10gPT09ICdTJyAmJlxuICAgIHhtbERhdGFbaSs4XSA9PT0gJ1QnKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxufVxuZnVuY3Rpb24gaXNOb3RhdGlvbih4bWxEYXRhLCBpKXtcbiAgICBpZih4bWxEYXRhW2krMV0gPT09ICchJyAmJlxuICAgIHhtbERhdGFbaSsyXSA9PT0gJ04nICYmXG4gICAgeG1sRGF0YVtpKzNdID09PSAnTycgJiZcbiAgICB4bWxEYXRhW2krNF0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs1XSA9PT0gJ0EnICYmXG4gICAgeG1sRGF0YVtpKzZdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2krN10gPT09ICdJJyAmJlxuICAgIHhtbERhdGFbaSs4XSA9PT0gJ08nICYmXG4gICAgeG1sRGF0YVtpKzldID09PSAnTicpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRW50aXR5TmFtZShuYW1lKXtcbiAgICBpZiAodXRpbC5pc05hbWUobmFtZSkpXG5cdHJldHVybiBuYW1lO1xuICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVudGl0eSBuYW1lICR7bmFtZX1gKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZWFkRG9jVHlwZTtcbiIsIlxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcHJlc2VydmVPcmRlcjogZmFsc2UsXG4gICAgYXR0cmlidXRlTmFtZVByZWZpeDogJ0BfJyxcbiAgICBhdHRyaWJ1dGVzR3JvdXBOYW1lOiBmYWxzZSxcbiAgICB0ZXh0Tm9kZU5hbWU6ICcjdGV4dCcsXG4gICAgaWdub3JlQXR0cmlidXRlczogdHJ1ZSxcbiAgICByZW1vdmVOU1ByZWZpeDogZmFsc2UsIC8vIHJlbW92ZSBOUyBmcm9tIHRhZyBuYW1lIG9yIGF0dHJpYnV0ZSBuYW1lIGlmIHRydWVcbiAgICBhbGxvd0Jvb2xlYW5BdHRyaWJ1dGVzOiBmYWxzZSwgLy9hIHRhZyBjYW4gaGF2ZSBhdHRyaWJ1dGVzIHdpdGhvdXQgYW55IHZhbHVlXG4gICAgLy9pZ25vcmVSb290RWxlbWVudCA6IGZhbHNlLFxuICAgIHBhcnNlVGFnVmFsdWU6IHRydWUsXG4gICAgcGFyc2VBdHRyaWJ1dGVWYWx1ZTogZmFsc2UsXG4gICAgdHJpbVZhbHVlczogdHJ1ZSwgLy9UcmltIHN0cmluZyB2YWx1ZXMgb2YgdGFnIGFuZCBhdHRyaWJ1dGVzXG4gICAgY2RhdGFQcm9wTmFtZTogZmFsc2UsXG4gICAgbnVtYmVyUGFyc2VPcHRpb25zOiB7XG4gICAgICBoZXg6IHRydWUsXG4gICAgICBsZWFkaW5nWmVyb3M6IHRydWUsXG4gICAgICBlTm90YXRpb246IHRydWVcbiAgICB9LFxuICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiBmdW5jdGlvbih0YWdOYW1lLCB2YWwpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcbiAgICBhdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcjogZnVuY3Rpb24oYXR0ck5hbWUsIHZhbCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuICAgIHN0b3BOb2RlczogW10sIC8vbmVzdGVkIHRhZ3Mgd2lsbCBub3QgYmUgcGFyc2VkIGV2ZW4gZm9yIGVycm9yc1xuICAgIGFsd2F5c0NyZWF0ZVRleHROb2RlOiBmYWxzZSxcbiAgICBpc0FycmF5OiAoKSA9PiBmYWxzZSxcbiAgICBjb21tZW50UHJvcE5hbWU6IGZhbHNlLFxuICAgIHVucGFpcmVkVGFnczogW10sXG4gICAgcHJvY2Vzc0VudGl0aWVzOiB0cnVlLFxuICAgIGh0bWxFbnRpdGllczogZmFsc2UsXG4gICAgaWdub3JlRGVjbGFyYXRpb246IGZhbHNlLFxuICAgIGlnbm9yZVBpVGFnczogZmFsc2UsXG4gICAgdHJhbnNmb3JtVGFnTmFtZTogZmFsc2UsXG4gICAgdHJhbnNmb3JtQXR0cmlidXRlTmFtZTogZmFsc2UsXG4gICAgdXBkYXRlVGFnOiBmdW5jdGlvbih0YWdOYW1lLCBqUGF0aCwgYXR0cnMpe1xuICAgICAgcmV0dXJuIHRhZ05hbWVcbiAgICB9LFxuICAgIC8vIHNraXBFbXB0eUxpc3RJdGVtOiBmYWxzZVxufTtcbiAgIFxuY29uc3QgYnVpbGRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG59O1xuXG5leHBvcnRzLmJ1aWxkT3B0aW9ucyA9IGJ1aWxkT3B0aW9ucztcbmV4cG9ydHMuZGVmYXVsdE9wdGlvbnMgPSBkZWZhdWx0T3B0aW9uczsiLCIndXNlIHN0cmljdCc7XG4vLy9AdHMtY2hlY2tcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbmNvbnN0IHhtbE5vZGUgPSByZXF1aXJlKCcuL3htbE5vZGUnKTtcbmNvbnN0IHJlYWREb2NUeXBlID0gcmVxdWlyZShcIi4vRG9jVHlwZVJlYWRlclwiKTtcbmNvbnN0IHRvTnVtYmVyID0gcmVxdWlyZShcInN0cm51bVwiKTtcblxuY29uc3QgcmVneCA9XG4gICc8KCghXFxcXFtDREFUQVxcXFxbKFtcXFxcc1xcXFxTXSo/KShdXT4pKXwoKE5BTUU6KT8oTkFNRSkpKFtePl0qKT58KChcXFxcLykoTkFNRSlcXFxccyo+KSkoW148XSopJ1xuICAucmVwbGFjZSgvTkFNRS9nLCB1dGlsLm5hbWVSZWdleHApO1xuXG4vL2NvbnN0IHRhZ3NSZWd4ID0gbmV3IFJlZ0V4cChcIjwoXFxcXC8/W1xcXFx3OlxcXFwtXFwuX10rKShbXj5dKik+KFxcXFxzKlwiK2NkYXRhUmVneCtcIikqKFtePF0rKT9cIixcImdcIik7XG4vL2NvbnN0IHRhZ3NSZWd4ID0gbmV3IFJlZ0V4cChcIjwoXFxcXC8/KSgoXFxcXHcqOik/KFtcXFxcdzpcXFxcLVxcLl9dKykpKFtePl0qKT4oW148XSopKFwiK2NkYXRhUmVneCtcIihbXjxdKikpKihbXjxdKyk/XCIsXCJnXCIpO1xuXG5jbGFzcyBPcmRlcmVkT2JqUGFyc2Vye1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuY3VycmVudE5vZGUgPSBudWxsO1xuICAgIHRoaXMudGFnc05vZGVTdGFjayA9IFtdO1xuICAgIHRoaXMuZG9jVHlwZUVudGl0aWVzID0ge307XG4gICAgdGhpcy5sYXN0RW50aXRpZXMgPSB7XG4gICAgICBcImFwb3NcIiA6IHsgcmVnZXg6IC8mKGFwb3N8IzM5fCN4MjcpOy9nLCB2YWwgOiBcIidcIn0sXG4gICAgICBcImd0XCIgOiB7IHJlZ2V4OiAvJihndHwjNjJ8I3gzRSk7L2csIHZhbCA6IFwiPlwifSxcbiAgICAgIFwibHRcIiA6IHsgcmVnZXg6IC8mKGx0fCM2MHwjeDNDKTsvZywgdmFsIDogXCI8XCJ9LFxuICAgICAgXCJxdW90XCIgOiB7IHJlZ2V4OiAvJihxdW90fCMzNHwjeDIyKTsvZywgdmFsIDogXCJcXFwiXCJ9LFxuICAgIH07XG4gICAgdGhpcy5hbXBFbnRpdHkgPSB7IHJlZ2V4OiAvJihhbXB8IzM4fCN4MjYpOy9nLCB2YWwgOiBcIiZcIn07XG4gICAgdGhpcy5odG1sRW50aXRpZXMgPSB7XG4gICAgICBcInNwYWNlXCI6IHsgcmVnZXg6IC8mKG5ic3B8IzE2MCk7L2csIHZhbDogXCIgXCIgfSxcbiAgICAgIC8vIFwibHRcIiA6IHsgcmVnZXg6IC8mKGx0fCM2MCk7L2csIHZhbDogXCI8XCIgfSxcbiAgICAgIC8vIFwiZ3RcIiA6IHsgcmVnZXg6IC8mKGd0fCM2Mik7L2csIHZhbDogXCI+XCIgfSxcbiAgICAgIC8vIFwiYW1wXCIgOiB7IHJlZ2V4OiAvJihhbXB8IzM4KTsvZywgdmFsOiBcIiZcIiB9LFxuICAgICAgLy8gXCJxdW90XCIgOiB7IHJlZ2V4OiAvJihxdW90fCMzNCk7L2csIHZhbDogXCJcXFwiXCIgfSxcbiAgICAgIC8vIFwiYXBvc1wiIDogeyByZWdleDogLyYoYXBvc3wjMzkpOy9nLCB2YWw6IFwiJ1wiIH0sXG4gICAgICBcImNlbnRcIiA6IHsgcmVnZXg6IC8mKGNlbnR8IzE2Mik7L2csIHZhbDogXCLColwiIH0sXG4gICAgICBcInBvdW5kXCIgOiB7IHJlZ2V4OiAvJihwb3VuZHwjMTYzKTsvZywgdmFsOiBcIsKjXCIgfSxcbiAgICAgIFwieWVuXCIgOiB7IHJlZ2V4OiAvJih5ZW58IzE2NSk7L2csIHZhbDogXCLCpVwiIH0sXG4gICAgICBcImV1cm9cIiA6IHsgcmVnZXg6IC8mKGV1cm98IzgzNjQpOy9nLCB2YWw6IFwi4oKsXCIgfSxcbiAgICAgIFwiY29weXJpZ2h0XCIgOiB7IHJlZ2V4OiAvJihjb3B5fCMxNjkpOy9nLCB2YWw6IFwiwqlcIiB9LFxuICAgICAgXCJyZWdcIiA6IHsgcmVnZXg6IC8mKHJlZ3wjMTc0KTsvZywgdmFsOiBcIsKuXCIgfSxcbiAgICAgIFwiaW5yXCIgOiB7IHJlZ2V4OiAvJihpbnJ8IzgzNzcpOy9nLCB2YWw6IFwi4oK5XCIgfSxcbiAgICB9O1xuICAgIHRoaXMuYWRkRXh0ZXJuYWxFbnRpdGllcyA9IGFkZEV4dGVybmFsRW50aXRpZXM7XG4gICAgdGhpcy5wYXJzZVhtbCA9IHBhcnNlWG1sO1xuICAgIHRoaXMucGFyc2VUZXh0RGF0YSA9IHBhcnNlVGV4dERhdGE7XG4gICAgdGhpcy5yZXNvbHZlTmFtZVNwYWNlID0gcmVzb2x2ZU5hbWVTcGFjZTtcbiAgICB0aGlzLmJ1aWxkQXR0cmlidXRlc01hcCA9IGJ1aWxkQXR0cmlidXRlc01hcDtcbiAgICB0aGlzLmlzSXRTdG9wTm9kZSA9IGlzSXRTdG9wTm9kZTtcbiAgICB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlID0gcmVwbGFjZUVudGl0aWVzVmFsdWU7XG4gICAgdGhpcy5yZWFkU3RvcE5vZGVEYXRhID0gcmVhZFN0b3BOb2RlRGF0YTtcbiAgICB0aGlzLnNhdmVUZXh0VG9QYXJlbnRUYWcgPSBzYXZlVGV4dFRvUGFyZW50VGFnO1xuICAgIHRoaXMuYWRkQ2hpbGQgPSBhZGRDaGlsZDtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGFkZEV4dGVybmFsRW50aXRpZXMoZXh0ZXJuYWxFbnRpdGllcyl7XG4gIGNvbnN0IGVudEtleXMgPSBPYmplY3Qua2V5cyhleHRlcm5hbEVudGl0aWVzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZW50ID0gZW50S2V5c1tpXTtcbiAgICB0aGlzLmxhc3RFbnRpdGllc1tlbnRdID0ge1xuICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiJlwiK2VudCtcIjtcIixcImdcIiksXG4gICAgICAgdmFsIDogZXh0ZXJuYWxFbnRpdGllc1tlbnRdXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBqUGF0aFxuICogQHBhcmFtIHtib29sZWFufSBkb250VHJpbVxuICogQHBhcmFtIHtib29sZWFufSBoYXNBdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzTGVhZk5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXNjYXBlRW50aXRpZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VUZXh0RGF0YSh2YWwsIHRhZ05hbWUsIGpQYXRoLCBkb250VHJpbSwgaGFzQXR0cmlidXRlcywgaXNMZWFmTm9kZSwgZXNjYXBlRW50aXRpZXMpIHtcbiAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50cmltVmFsdWVzICYmICFkb250VHJpbSkge1xuICAgICAgdmFsID0gdmFsLnRyaW0oKTtcbiAgICB9XG4gICAgaWYodmFsLmxlbmd0aCA+IDApe1xuICAgICAgaWYoIWVzY2FwZUVudGl0aWVzKSB2YWwgPSB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlKHZhbCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld3ZhbCA9IHRoaXMub3B0aW9ucy50YWdWYWx1ZVByb2Nlc3Nvcih0YWdOYW1lLCB2YWwsIGpQYXRoLCBoYXNBdHRyaWJ1dGVzLCBpc0xlYWZOb2RlKTtcbiAgICAgIGlmKG5ld3ZhbCA9PT0gbnVsbCB8fCBuZXd2YWwgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgIC8vZG9uJ3QgcGFyc2VcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1lbHNlIGlmKHR5cGVvZiBuZXd2YWwgIT09IHR5cGVvZiB2YWwgfHwgbmV3dmFsICE9PSB2YWwpe1xuICAgICAgICAvL292ZXJ3cml0ZVxuICAgICAgICByZXR1cm4gbmV3dmFsO1xuICAgICAgfWVsc2UgaWYodGhpcy5vcHRpb25zLnRyaW1WYWx1ZXMpe1xuICAgICAgICByZXR1cm4gcGFyc2VWYWx1ZSh2YWwsIHRoaXMub3B0aW9ucy5wYXJzZVRhZ1ZhbHVlLCB0aGlzLm9wdGlvbnMubnVtYmVyUGFyc2VPcHRpb25zKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBjb25zdCB0cmltbWVkVmFsID0gdmFsLnRyaW0oKTtcbiAgICAgICAgaWYodHJpbW1lZFZhbCA9PT0gdmFsKXtcbiAgICAgICAgICByZXR1cm4gcGFyc2VWYWx1ZSh2YWwsIHRoaXMub3B0aW9ucy5wYXJzZVRhZ1ZhbHVlLCB0aGlzLm9wdGlvbnMubnVtYmVyUGFyc2VPcHRpb25zKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlTmFtZVNwYWNlKHRhZ25hbWUpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVOU1ByZWZpeCkge1xuICAgIGNvbnN0IHRhZ3MgPSB0YWduYW1lLnNwbGl0KCc6Jyk7XG4gICAgY29uc3QgcHJlZml4ID0gdGFnbmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnO1xuICAgIGlmICh0YWdzWzBdID09PSAneG1sbnMnKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICh0YWdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdGFnbmFtZSA9IHByZWZpeCArIHRhZ3NbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YWduYW1lO1xufVxuXG4vL1RPRE86IGNoYW5nZSByZWdleCB0byBjYXB0dXJlIE5TXG4vL2NvbnN0IGF0dHJzUmVneCA9IG5ldyBSZWdFeHAoXCIoW1xcXFx3XFxcXC1cXFxcLlxcXFw6XSspXFxcXHMqPVxcXFxzKihbJ1xcXCJdKSgoLnxcXG4pKj8pXFxcXDJcIixcImdtXCIpO1xuY29uc3QgYXR0cnNSZWd4ID0gbmV3IFJlZ0V4cCgnKFteXFxcXHM9XSspXFxcXHMqKD1cXFxccyooW1xcJ1wiXSkoW1xcXFxzXFxcXFNdKj8pXFxcXDMpPycsICdnbScpO1xuXG5mdW5jdGlvbiBidWlsZEF0dHJpYnV0ZXNNYXAoYXR0clN0ciwgalBhdGgsIHRhZ05hbWUpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlQXR0cmlidXRlcyAmJiB0eXBlb2YgYXR0clN0ciA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBhdHRyU3RyID0gYXR0clN0ci5yZXBsYWNlKC9cXHI/XFxuL2csICcgJyk7XG4gICAgLy9hdHRyU3RyID0gYXR0clN0ciB8fCBhdHRyU3RyLnRyaW0oKTtcblxuICAgIGNvbnN0IG1hdGNoZXMgPSB1dGlsLmdldEFsbE1hdGNoZXMoYXR0clN0ciwgYXR0cnNSZWd4KTtcbiAgICBjb25zdCBsZW4gPSBtYXRjaGVzLmxlbmd0aDsgLy9kb24ndCBtYWtlIGl0IGlubGluZVxuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLnJlc29sdmVOYW1lU3BhY2UobWF0Y2hlc1tpXVsxXSk7XG4gICAgICBsZXQgb2xkVmFsID0gbWF0Y2hlc1tpXVs0XTtcbiAgICAgIGxldCBhTmFtZSA9IHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lUHJlZml4ICsgYXR0ck5hbWU7XG4gICAgICBpZiAoYXR0ck5hbWUubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNmb3JtQXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgIGFOYW1lID0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybUF0dHJpYnV0ZU5hbWUoYU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGFOYW1lID09PSBcIl9fcHJvdG9fX1wiKSBhTmFtZSAgPSBcIiNfX3Byb3RvX19cIjtcbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmltVmFsdWVzKSB7XG4gICAgICAgICAgICBvbGRWYWwgPSBvbGRWYWwudHJpbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvbGRWYWwgPSB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlKG9sZFZhbCk7XG4gICAgICAgICAgY29uc3QgbmV3VmFsID0gdGhpcy5vcHRpb25zLmF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yKGF0dHJOYW1lLCBvbGRWYWwsIGpQYXRoKTtcbiAgICAgICAgICBpZihuZXdWYWwgPT09IG51bGwgfHwgbmV3VmFsID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgLy9kb24ndCBwYXJzZVxuICAgICAgICAgICAgYXR0cnNbYU5hbWVdID0gb2xkVmFsO1xuICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiBuZXdWYWwgIT09IHR5cGVvZiBvbGRWYWwgfHwgbmV3VmFsICE9PSBvbGRWYWwpe1xuICAgICAgICAgICAgLy9vdmVyd3JpdGVcbiAgICAgICAgICAgIGF0dHJzW2FOYW1lXSA9IG5ld1ZhbDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vcGFyc2VcbiAgICAgICAgICAgIGF0dHJzW2FOYW1lXSA9IHBhcnNlVmFsdWUoXG4gICAgICAgICAgICAgIG9sZFZhbCxcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBhcnNlQXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5udW1iZXJQYXJzZU9wdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0Jvb2xlYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgYXR0cnNbYU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIU9iamVjdC5rZXlzKGF0dHJzKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVzR3JvdXBOYW1lKSB7XG4gICAgICBjb25zdCBhdHRyQ29sbGVjdGlvbiA9IHt9O1xuICAgICAgYXR0ckNvbGxlY3Rpb25bdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWVdID0gYXR0cnM7XG4gICAgICByZXR1cm4gYXR0ckNvbGxlY3Rpb247XG4gICAgfVxuICAgIHJldHVybiBhdHRyc1xuICB9XG59XG5cbmNvbnN0IHBhcnNlWG1sID0gZnVuY3Rpb24oeG1sRGF0YSkge1xuICB4bWxEYXRhID0geG1sRGF0YS5yZXBsYWNlKC9cXHJcXG4/L2csIFwiXFxuXCIpOyAvL1RPRE86IHJlbW92ZSB0aGlzIGxpbmVcbiAgY29uc3QgeG1sT2JqID0gbmV3IHhtbE5vZGUoJyF4bWwnKTtcbiAgbGV0IGN1cnJlbnROb2RlID0geG1sT2JqO1xuICBsZXQgdGV4dERhdGEgPSBcIlwiO1xuICBsZXQgalBhdGggPSBcIlwiO1xuICBmb3IobGV0IGk9MDsgaTwgeG1sRGF0YS5sZW5ndGg7IGkrKyl7Ly9mb3IgZWFjaCBjaGFyIGluIFhNTCBkYXRhXG4gICAgY29uc3QgY2ggPSB4bWxEYXRhW2ldO1xuICAgIGlmKGNoID09PSAnPCcpe1xuICAgICAgLy8gY29uc3QgbmV4dEluZGV4ID0gaSsxO1xuICAgICAgLy8gY29uc3QgXzJuZENoYXIgPSB4bWxEYXRhW25leHRJbmRleF07XG4gICAgICBpZiggeG1sRGF0YVtpKzFdID09PSAnLycpIHsvL0Nsb3NpbmcgVGFnXG4gICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiPlwiLCBpLCBcIkNsb3NpbmcgVGFnIGlzIG5vdCBjbG9zZWQuXCIpXG4gICAgICAgIGxldCB0YWdOYW1lID0geG1sRGF0YS5zdWJzdHJpbmcoaSsyLGNsb3NlSW5kZXgpLnRyaW0oKTtcblxuICAgICAgICBpZih0aGlzLm9wdGlvbnMucmVtb3ZlTlNQcmVmaXgpe1xuICAgICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSB0YWdOYW1lLmluZGV4T2YoXCI6XCIpO1xuICAgICAgICAgIGlmKGNvbG9uSW5kZXggIT09IC0xKXtcbiAgICAgICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnN1YnN0cihjb2xvbkluZGV4KzEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKSB7XG4gICAgICAgICAgdGFnTmFtZSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKHRhZ05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY3VycmVudE5vZGUpe1xuICAgICAgICAgIHRleHREYXRhID0gdGhpcy5zYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9jaGVjayBpZiBsYXN0IHRhZyBvZiBuZXN0ZWQgdGFnIHdhcyB1bnBhaXJlZCB0YWdcbiAgICAgICAgY29uc3QgbGFzdFRhZ05hbWUgPSBqUGF0aC5zdWJzdHJpbmcoalBhdGgubGFzdEluZGV4T2YoXCIuXCIpKzEpO1xuICAgICAgICBpZih0YWdOYW1lICYmIHRoaXMub3B0aW9ucy51bnBhaXJlZFRhZ3MuaW5kZXhPZih0YWdOYW1lKSAhPT0gLTEgKXtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucGFpcmVkIHRhZyBjYW4gbm90IGJlIHVzZWQgYXMgY2xvc2luZyB0YWc6IDwvJHt0YWdOYW1lfT5gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJvcEluZGV4ID0gMFxuICAgICAgICBpZihsYXN0VGFnTmFtZSAmJiB0aGlzLm9wdGlvbnMudW5wYWlyZWRUYWdzLmluZGV4T2YobGFzdFRhZ05hbWUpICE9PSAtMSApe1xuICAgICAgICAgIHByb3BJbmRleCA9IGpQYXRoLmxhc3RJbmRleE9mKCcuJywgalBhdGgubGFzdEluZGV4T2YoJy4nKS0xKVxuICAgICAgICAgIHRoaXMudGFnc05vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcHJvcEluZGV4ID0galBhdGgubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGpQYXRoID0galBhdGguc3Vic3RyaW5nKDAsIHByb3BJbmRleCk7XG5cbiAgICAgICAgY3VycmVudE5vZGUgPSB0aGlzLnRhZ3NOb2RlU3RhY2sucG9wKCk7Ly9hdm9pZCByZWN1cnNpb24sIHNldCB0aGUgcGFyZW50IHRhZyBzY29wZVxuICAgICAgICB0ZXh0RGF0YSA9IFwiXCI7XG4gICAgICAgIGkgPSBjbG9zZUluZGV4O1xuICAgICAgfSBlbHNlIGlmKCB4bWxEYXRhW2krMV0gPT09ICc/Jykge1xuXG4gICAgICAgIGxldCB0YWdEYXRhID0gcmVhZFRhZ0V4cCh4bWxEYXRhLGksIGZhbHNlLCBcIj8+XCIpO1xuICAgICAgICBpZighdGFnRGF0YSkgdGhyb3cgbmV3IEVycm9yKFwiUGkgVGFnIGlzIG5vdCBjbG9zZWQuXCIpO1xuXG4gICAgICAgIHRleHREYXRhID0gdGhpcy5zYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgpO1xuICAgICAgICBpZiggKHRoaXMub3B0aW9ucy5pZ25vcmVEZWNsYXJhdGlvbiAmJiB0YWdEYXRhLnRhZ05hbWUgPT09IFwiP3htbFwiKSB8fCB0aGlzLm9wdGlvbnMuaWdub3JlUGlUYWdzKXtcblxuICAgICAgICB9ZWxzZXtcbiAgXG4gICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbmV3IHhtbE5vZGUodGFnRGF0YS50YWdOYW1lKTtcbiAgICAgICAgICBjaGlsZE5vZGUuYWRkKHRoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWUsIFwiXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmKHRhZ0RhdGEudGFnTmFtZSAhPT0gdGFnRGF0YS50YWdFeHAgJiYgdGFnRGF0YS5hdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICBjaGlsZE5vZGVbXCI6QFwiXSA9IHRoaXMuYnVpbGRBdHRyaWJ1dGVzTWFwKHRhZ0RhdGEudGFnRXhwLCBqUGF0aCwgdGFnRGF0YS50YWdOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hZGRDaGlsZChjdXJyZW50Tm9kZSwgY2hpbGROb2RlLCBqUGF0aClcblxuICAgICAgICB9XG5cblxuICAgICAgICBpID0gdGFnRGF0YS5jbG9zZUluZGV4ICsgMTtcbiAgICAgIH0gZWxzZSBpZih4bWxEYXRhLnN1YnN0cihpICsgMSwgMykgPT09ICchLS0nKSB7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gZmluZENsb3NpbmdJbmRleCh4bWxEYXRhLCBcIi0tPlwiLCBpKzQsIFwiQ29tbWVudCBpcyBub3QgY2xvc2VkLlwiKVxuICAgICAgICBpZih0aGlzLm9wdGlvbnMuY29tbWVudFByb3BOYW1lKXtcbiAgICAgICAgICBjb25zdCBjb21tZW50ID0geG1sRGF0YS5zdWJzdHJpbmcoaSArIDQsIGVuZEluZGV4IC0gMik7XG5cbiAgICAgICAgICB0ZXh0RGF0YSA9IHRoaXMuc2F2ZVRleHRUb1BhcmVudFRhZyh0ZXh0RGF0YSwgY3VycmVudE5vZGUsIGpQYXRoKTtcblxuICAgICAgICAgIGN1cnJlbnROb2RlLmFkZCh0aGlzLm9wdGlvbnMuY29tbWVudFByb3BOYW1lLCBbIHsgW3RoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWVdIDogY29tbWVudCB9IF0pO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBlbmRJbmRleDtcbiAgICAgIH0gZWxzZSBpZiggeG1sRGF0YS5zdWJzdHIoaSArIDEsIDIpID09PSAnIUQnKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWREb2NUeXBlKHhtbERhdGEsIGkpO1xuICAgICAgICB0aGlzLmRvY1R5cGVFbnRpdGllcyA9IHJlc3VsdC5lbnRpdGllcztcbiAgICAgICAgaSA9IHJlc3VsdC5pO1xuICAgICAgfWVsc2UgaWYoeG1sRGF0YS5zdWJzdHIoaSArIDEsIDIpID09PSAnIVsnKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiXV0+XCIsIGksIFwiQ0RBVEEgaXMgbm90IGNsb3NlZC5cIikgLSAyO1xuICAgICAgICBjb25zdCB0YWdFeHAgPSB4bWxEYXRhLnN1YnN0cmluZyhpICsgOSxjbG9zZUluZGV4KTtcblxuICAgICAgICB0ZXh0RGF0YSA9IHRoaXMuc2F2ZVRleHRUb1BhcmVudFRhZyh0ZXh0RGF0YSwgY3VycmVudE5vZGUsIGpQYXRoKTtcblxuICAgICAgICAvL2NkYXRhIHNob3VsZCBiZSBzZXQgZXZlbiBpZiBpdCBpcyAwIGxlbmd0aCBzdHJpbmdcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUpe1xuICAgICAgICAgIC8vIGxldCB2YWwgPSB0aGlzLnBhcnNlVGV4dERhdGEodGFnRXhwLCB0aGlzLm9wdGlvbnMuY2RhdGFQcm9wTmFtZSwgalBhdGggKyBcIi5cIiArIHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lLCB0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgLy8gaWYoIXZhbCkgdmFsID0gXCJcIjtcbiAgICAgICAgICBjdXJyZW50Tm9kZS5hZGQodGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUsIFsgeyBbdGhpcy5vcHRpb25zLnRleHROb2RlTmFtZV0gOiB0YWdFeHAgfSBdKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgbGV0IHZhbCA9IHRoaXMucGFyc2VUZXh0RGF0YSh0YWdFeHAsIGN1cnJlbnROb2RlLnRhZ25hbWUsIGpQYXRoLCB0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYodmFsID09IHVuZGVmaW5lZCkgdmFsID0gXCJcIjtcbiAgICAgICAgICBjdXJyZW50Tm9kZS5hZGQodGhpcy5vcHRpb25zLnRleHROb2RlTmFtZSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaSA9IGNsb3NlSW5kZXggKyAyO1xuICAgICAgfWVsc2Ugey8vT3BlbmluZyB0YWdcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlYWRUYWdFeHAoeG1sRGF0YSxpLCB0aGlzLm9wdGlvbnMucmVtb3ZlTlNQcmVmaXgpO1xuICAgICAgICBsZXQgdGFnTmFtZT0gcmVzdWx0LnRhZ05hbWU7XG4gICAgICAgIGxldCB0YWdFeHAgPSByZXN1bHQudGFnRXhwO1xuICAgICAgICBsZXQgYXR0ckV4cFByZXNlbnQgPSByZXN1bHQuYXR0ckV4cFByZXNlbnQ7XG4gICAgICAgIGxldCBjbG9zZUluZGV4ID0gcmVzdWx0LmNsb3NlSW5kZXg7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKSB7XG4gICAgICAgICAgdGFnTmFtZSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKHRhZ05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL3NhdmUgdGV4dCBhcyBjaGlsZCBub2RlXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZSAmJiB0ZXh0RGF0YSkge1xuICAgICAgICAgIGlmKGN1cnJlbnROb2RlLnRhZ25hbWUgIT09ICcheG1sJyl7XG4gICAgICAgICAgICAvL3doZW4gbmVzdGVkIHRhZyBpcyBmb3VuZFxuICAgICAgICAgICAgdGV4dERhdGEgPSB0aGlzLnNhdmVUZXh0VG9QYXJlbnRUYWcodGV4dERhdGEsIGN1cnJlbnROb2RlLCBqUGF0aCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgaWYgbGFzdCB0YWcgd2FzIHVucGFpcmVkIHRhZ1xuICAgICAgICBjb25zdCBsYXN0VGFnID0gY3VycmVudE5vZGU7XG4gICAgICAgIGlmKGxhc3RUYWcgJiYgdGhpcy5vcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKGxhc3RUYWcudGFnbmFtZSkgIT09IC0xICl7XG4gICAgICAgICAgY3VycmVudE5vZGUgPSB0aGlzLnRhZ3NOb2RlU3RhY2sucG9wKCk7XG4gICAgICAgICAgalBhdGggPSBqUGF0aC5zdWJzdHJpbmcoMCwgalBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0YWdOYW1lICE9PSB4bWxPYmoudGFnbmFtZSl7XG4gICAgICAgICAgalBhdGggKz0galBhdGggPyBcIi5cIiArIHRhZ05hbWUgOiB0YWdOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzSXRTdG9wTm9kZSh0aGlzLm9wdGlvbnMuc3RvcE5vZGVzLCBqUGF0aCwgdGFnTmFtZSkpIHsgLy9UT0RPOiBuYW1lc3BhY2VcbiAgICAgICAgICBsZXQgdGFnQ29udGVudCA9IFwiXCI7XG4gICAgICAgICAgLy9zZWxmLWNsb3NpbmcgdGFnXG4gICAgICAgICAgaWYodGFnRXhwLmxlbmd0aCA+IDAgJiYgdGFnRXhwLmxhc3RJbmRleE9mKFwiL1wiKSA9PT0gdGFnRXhwLmxlbmd0aCAtIDEpe1xuICAgICAgICAgICAgaSA9IHJlc3VsdC5jbG9zZUluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL3VucGFpcmVkIHRhZ1xuICAgICAgICAgIGVsc2UgaWYodGhpcy5vcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSl7XG4gICAgICAgICAgICBpID0gcmVzdWx0LmNsb3NlSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vbm9ybWFsIHRhZ1xuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAvL3JlYWQgdW50aWwgY2xvc2luZyB0YWcgaXMgZm91bmRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVhZFN0b3BOb2RlRGF0YSh4bWxEYXRhLCB0YWdOYW1lLCBjbG9zZUluZGV4ICsgMSk7XG4gICAgICAgICAgICBpZighcmVzdWx0KSB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZW5kIG9mICR7dGFnTmFtZX1gKTtcbiAgICAgICAgICAgIGkgPSByZXN1bHQuaTtcbiAgICAgICAgICAgIHRhZ0NvbnRlbnQgPSByZXN1bHQudGFnQ29udGVudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSh0YWdOYW1lKTtcbiAgICAgICAgICBpZih0YWdOYW1lICE9PSB0YWdFeHAgJiYgYXR0ckV4cFByZXNlbnQpe1xuICAgICAgICAgICAgY2hpbGROb2RlW1wiOkBcIl0gPSB0aGlzLmJ1aWxkQXR0cmlidXRlc01hcCh0YWdFeHAsIGpQYXRoLCB0YWdOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYodGFnQ29udGVudCkge1xuICAgICAgICAgICAgdGFnQ29udGVudCA9IHRoaXMucGFyc2VUZXh0RGF0YSh0YWdDb250ZW50LCB0YWdOYW1lLCBqUGF0aCwgdHJ1ZSwgYXR0ckV4cFByZXNlbnQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBqUGF0aCA9IGpQYXRoLnN1YnN0cigwLCBqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICAgICAgICAgIGNoaWxkTm9kZS5hZGQodGhpcy5vcHRpb25zLnRleHROb2RlTmFtZSwgdGFnQ29udGVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5hZGRDaGlsZChjdXJyZW50Tm9kZSwgY2hpbGROb2RlLCBqUGF0aClcbiAgICAgICAgfWVsc2V7XG4gIC8vc2VsZkNsb3NpbmcgdGFnXG4gICAgICAgICAgaWYodGFnRXhwLmxlbmd0aCA+IDAgJiYgdGFnRXhwLmxhc3RJbmRleE9mKFwiL1wiKSA9PT0gdGFnRXhwLmxlbmd0aCAtIDEpe1xuICAgICAgICAgICAgaWYodGFnTmFtZVt0YWdOYW1lLmxlbmd0aCAtIDFdID09PSBcIi9cIil7IC8vcmVtb3ZlIHRyYWlsaW5nICcvJ1xuICAgICAgICAgICAgICB0YWdOYW1lID0gdGFnTmFtZS5zdWJzdHIoMCwgdGFnTmFtZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgdGFnRXhwID0gdGFnTmFtZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICB0YWdFeHAgPSB0YWdFeHAuc3Vic3RyKDAsIHRhZ0V4cC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYodGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgdGFnTmFtZSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKHRhZ05hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSh0YWdOYW1lKTtcbiAgICAgICAgICAgIGlmKHRhZ05hbWUgIT09IHRhZ0V4cCAmJiBhdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICAgIGNoaWxkTm9kZVtcIjpAXCJdID0gdGhpcy5idWlsZEF0dHJpYnV0ZXNNYXAodGFnRXhwLCBqUGF0aCwgdGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGN1cnJlbnROb2RlLCBjaGlsZE5vZGUsIGpQYXRoKVxuICAgICAgICAgICAgalBhdGggPSBqUGF0aC5zdWJzdHIoMCwgalBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgICB9XG4gICAgLy9vcGVuaW5nIHRhZ1xuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSggdGFnTmFtZSk7XG4gICAgICAgICAgICB0aGlzLnRhZ3NOb2RlU3RhY2sucHVzaChjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHRhZ05hbWUgIT09IHRhZ0V4cCAmJiBhdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICAgIGNoaWxkTm9kZVtcIjpAXCJdID0gdGhpcy5idWlsZEF0dHJpYnV0ZXNNYXAodGFnRXhwLCBqUGF0aCwgdGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGN1cnJlbnROb2RlLCBjaGlsZE5vZGUsIGpQYXRoKVxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRleHREYXRhID0gXCJcIjtcbiAgICAgICAgICBpID0gY2xvc2VJbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgdGV4dERhdGEgKz0geG1sRGF0YVtpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHhtbE9iai5jaGlsZDtcbn1cblxuZnVuY3Rpb24gYWRkQ2hpbGQoY3VycmVudE5vZGUsIGNoaWxkTm9kZSwgalBhdGgpe1xuICBjb25zdCByZXN1bHQgPSB0aGlzLm9wdGlvbnMudXBkYXRlVGFnKGNoaWxkTm9kZS50YWduYW1lLCBqUGF0aCwgY2hpbGROb2RlW1wiOkBcIl0pXG4gIGlmKHJlc3VsdCA9PT0gZmFsc2Upe1xuICB9ZWxzZSBpZih0eXBlb2YgcmVzdWx0ID09PSBcInN0cmluZ1wiKXtcbiAgICBjaGlsZE5vZGUudGFnbmFtZSA9IHJlc3VsdFxuICAgIGN1cnJlbnROb2RlLmFkZENoaWxkKGNoaWxkTm9kZSk7XG4gIH1lbHNle1xuICAgIGN1cnJlbnROb2RlLmFkZENoaWxkKGNoaWxkTm9kZSk7XG4gIH1cbn1cblxuY29uc3QgcmVwbGFjZUVudGl0aWVzVmFsdWUgPSBmdW5jdGlvbih2YWwpe1xuXG4gIGlmKHRoaXMub3B0aW9ucy5wcm9jZXNzRW50aXRpZXMpe1xuICAgIGZvcihsZXQgZW50aXR5TmFtZSBpbiB0aGlzLmRvY1R5cGVFbnRpdGllcyl7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmRvY1R5cGVFbnRpdGllc1tlbnRpdHlOYW1lXTtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKCBlbnRpdHkucmVneCwgZW50aXR5LnZhbCk7XG4gICAgfVxuICAgIGZvcihsZXQgZW50aXR5TmFtZSBpbiB0aGlzLmxhc3RFbnRpdGllcyl7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmxhc3RFbnRpdGllc1tlbnRpdHlOYW1lXTtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKCBlbnRpdHkucmVnZXgsIGVudGl0eS52YWwpO1xuICAgIH1cbiAgICBpZih0aGlzLm9wdGlvbnMuaHRtbEVudGl0aWVzKXtcbiAgICAgIGZvcihsZXQgZW50aXR5TmFtZSBpbiB0aGlzLmh0bWxFbnRpdGllcyl7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuaHRtbEVudGl0aWVzW2VudGl0eU5hbWVdO1xuICAgICAgICB2YWwgPSB2YWwucmVwbGFjZSggZW50aXR5LnJlZ2V4LCBlbnRpdHkudmFsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFsID0gdmFsLnJlcGxhY2UoIHRoaXMuYW1wRW50aXR5LnJlZ2V4LCB0aGlzLmFtcEVudGl0eS52YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5mdW5jdGlvbiBzYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgsIGlzTGVhZk5vZGUpIHtcbiAgaWYgKHRleHREYXRhKSB7IC8vc3RvcmUgcHJldmlvdXNseSBjb2xsZWN0ZWQgZGF0YSBhcyB0ZXh0Tm9kZVxuICAgIGlmKGlzTGVhZk5vZGUgPT09IHVuZGVmaW5lZCkgaXNMZWFmTm9kZSA9IE9iamVjdC5rZXlzKGN1cnJlbnROb2RlLmNoaWxkKS5sZW5ndGggPT09IDBcbiAgICBcbiAgICB0ZXh0RGF0YSA9IHRoaXMucGFyc2VUZXh0RGF0YSh0ZXh0RGF0YSxcbiAgICAgIGN1cnJlbnROb2RlLnRhZ25hbWUsXG4gICAgICBqUGF0aCxcbiAgICAgIGZhbHNlLFxuICAgICAgY3VycmVudE5vZGVbXCI6QFwiXSA/IE9iamVjdC5rZXlzKGN1cnJlbnROb2RlW1wiOkBcIl0pLmxlbmd0aCAhPT0gMCA6IGZhbHNlLFxuICAgICAgaXNMZWFmTm9kZSk7XG5cbiAgICBpZiAodGV4dERhdGEgIT09IHVuZGVmaW5lZCAmJiB0ZXh0RGF0YSAhPT0gXCJcIilcbiAgICAgIGN1cnJlbnROb2RlLmFkZCh0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lLCB0ZXh0RGF0YSk7XG4gICAgdGV4dERhdGEgPSBcIlwiO1xuICB9XG4gIHJldHVybiB0ZXh0RGF0YTtcbn1cblxuLy9UT0RPOiB1c2UgalBhdGggdG8gc2ltcGxpZnkgdGhlIGxvZ2ljXG4vKipcbiAqIFxuICogQHBhcmFtIHtzdHJpbmdbXX0gc3RvcE5vZGVzIFxuICogQHBhcmFtIHtzdHJpbmd9IGpQYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVudFRhZ05hbWUgXG4gKi9cbmZ1bmN0aW9uIGlzSXRTdG9wTm9kZShzdG9wTm9kZXMsIGpQYXRoLCBjdXJyZW50VGFnTmFtZSl7XG4gIGNvbnN0IGFsbE5vZGVzRXhwID0gXCIqLlwiICsgY3VycmVudFRhZ05hbWU7XG4gIGZvciAoY29uc3Qgc3RvcE5vZGVQYXRoIGluIHN0b3BOb2Rlcykge1xuICAgIGNvbnN0IHN0b3BOb2RlRXhwID0gc3RvcE5vZGVzW3N0b3BOb2RlUGF0aF07XG4gICAgaWYoIGFsbE5vZGVzRXhwID09PSBzdG9wTm9kZUV4cCB8fCBqUGF0aCA9PT0gc3RvcE5vZGVFeHAgICkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHRhZyBFeHByZXNzaW9uIGFuZCB3aGVyZSBpdCBpcyBlbmRpbmcgaGFuZGxpbmcgc2luZ2xlLWRvdWJsZSBxdW90ZXMgc2l0dWF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30geG1sRGF0YSBcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIHN0YXJ0aW5nIGluZGV4XG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gdGFnRXhwV2l0aENsb3NpbmdJbmRleCh4bWxEYXRhLCBpLCBjbG9zaW5nQ2hhciA9IFwiPlwiKXtcbiAgbGV0IGF0dHJCb3VuZGFyeTtcbiAgbGV0IHRhZ0V4cCA9IFwiXCI7XG4gIGZvciAobGV0IGluZGV4ID0gaTsgaW5kZXggPCB4bWxEYXRhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGxldCBjaCA9IHhtbERhdGFbaW5kZXhdO1xuICAgIGlmIChhdHRyQm91bmRhcnkpIHtcbiAgICAgICAgaWYgKGNoID09PSBhdHRyQm91bmRhcnkpIGF0dHJCb3VuZGFyeSA9IFwiXCI7Ly9yZXNldFxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcIicgfHwgY2ggPT09IFwiJ1wiKSB7XG4gICAgICAgIGF0dHJCb3VuZGFyeSA9IGNoO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IGNsb3NpbmdDaGFyWzBdKSB7XG4gICAgICBpZihjbG9zaW5nQ2hhclsxXSl7XG4gICAgICAgIGlmKHhtbERhdGFbaW5kZXggKyAxXSA9PT0gY2xvc2luZ0NoYXJbMV0pe1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB0YWdFeHAsXG4gICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IHRhZ0V4cCxcbiAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXHQnKSB7XG4gICAgICBjaCA9IFwiIFwiXG4gICAgfVxuICAgIHRhZ0V4cCArPSBjaDtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIHN0ciwgaSwgZXJyTXNnKXtcbiAgY29uc3QgY2xvc2luZ0luZGV4ID0geG1sRGF0YS5pbmRleE9mKHN0ciwgaSk7XG4gIGlmKGNsb3NpbmdJbmRleCA9PT0gLTEpe1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpXG4gIH1lbHNle1xuICAgIHJldHVybiBjbG9zaW5nSW5kZXggKyBzdHIubGVuZ3RoIC0gMTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkVGFnRXhwKHhtbERhdGEsaSwgcmVtb3ZlTlNQcmVmaXgsIGNsb3NpbmdDaGFyID0gXCI+XCIpe1xuICBjb25zdCByZXN1bHQgPSB0YWdFeHBXaXRoQ2xvc2luZ0luZGV4KHhtbERhdGEsIGkrMSwgY2xvc2luZ0NoYXIpO1xuICBpZighcmVzdWx0KSByZXR1cm47XG4gIGxldCB0YWdFeHAgPSByZXN1bHQuZGF0YTtcbiAgY29uc3QgY2xvc2VJbmRleCA9IHJlc3VsdC5pbmRleDtcbiAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSB0YWdFeHAuc2VhcmNoKC9cXHMvKTtcbiAgbGV0IHRhZ05hbWUgPSB0YWdFeHA7XG4gIGxldCBhdHRyRXhwUHJlc2VudCA9IHRydWU7XG4gIGlmKHNlcGFyYXRvckluZGV4ICE9PSAtMSl7Ly9zZXBhcmF0ZSB0YWcgbmFtZSBhbmQgYXR0cmlidXRlcyBleHByZXNzaW9uXG4gICAgdGFnTmFtZSA9IHRhZ0V4cC5zdWJzdHIoMCwgc2VwYXJhdG9ySW5kZXgpLnJlcGxhY2UoL1xcc1xccyokLywgJycpO1xuICAgIHRhZ0V4cCA9IHRhZ0V4cC5zdWJzdHIoc2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgfVxuXG4gIGlmKHJlbW92ZU5TUHJlZml4KXtcbiAgICBjb25zdCBjb2xvbkluZGV4ID0gdGFnTmFtZS5pbmRleE9mKFwiOlwiKTtcbiAgICBpZihjb2xvbkluZGV4ICE9PSAtMSl7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZS5zdWJzdHIoY29sb25JbmRleCsxKTtcbiAgICAgIGF0dHJFeHBQcmVzZW50ID0gdGFnTmFtZSAhPT0gcmVzdWx0LmRhdGEuc3Vic3RyKGNvbG9uSW5kZXggKyAxKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRhZ05hbWU6IHRhZ05hbWUsXG4gICAgdGFnRXhwOiB0YWdFeHAsXG4gICAgY2xvc2VJbmRleDogY2xvc2VJbmRleCxcbiAgICBhdHRyRXhwUHJlc2VudDogYXR0ckV4cFByZXNlbnQsXG4gIH1cbn1cbi8qKlxuICogZmluZCBwYWlyZWQgdGFnIGZvciBhIHN0b3Agbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHhtbERhdGEgXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFxuICovXG5mdW5jdGlvbiByZWFkU3RvcE5vZGVEYXRhKHhtbERhdGEsIHRhZ05hbWUsIGkpe1xuICBjb25zdCBzdGFydEluZGV4ID0gaTtcbiAgLy8gU3RhcnRpbmcgYXQgMSBzaW5jZSB3ZSBhbHJlYWR5IGhhdmUgYW4gb3BlbiB0YWdcbiAgbGV0IG9wZW5UYWdDb3VudCA9IDE7XG5cbiAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYoIHhtbERhdGFbaV0gPT09IFwiPFwiKXsgXG4gICAgICBpZiAoeG1sRGF0YVtpKzFdID09PSBcIi9cIikgey8vY2xvc2UgdGFnXG4gICAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCI+XCIsIGksIGAke3RhZ05hbWV9IGlzIG5vdCBjbG9zZWRgKTtcbiAgICAgICAgICBsZXQgY2xvc2VUYWdOYW1lID0geG1sRGF0YS5zdWJzdHJpbmcoaSsyLGNsb3NlSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICBpZihjbG9zZVRhZ05hbWUgPT09IHRhZ05hbWUpe1xuICAgICAgICAgICAgb3BlblRhZ0NvdW50LS07XG4gICAgICAgICAgICBpZiAob3BlblRhZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGFnQ29udGVudDogeG1sRGF0YS5zdWJzdHJpbmcoc3RhcnRJbmRleCwgaSksXG4gICAgICAgICAgICAgICAgaSA6IGNsb3NlSW5kZXhcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpPWNsb3NlSW5kZXg7XG4gICAgICAgIH0gZWxzZSBpZih4bWxEYXRhW2krMV0gPT09ICc/JykgeyBcbiAgICAgICAgICBjb25zdCBjbG9zZUluZGV4ID0gZmluZENsb3NpbmdJbmRleCh4bWxEYXRhLCBcIj8+XCIsIGkrMSwgXCJTdG9wTm9kZSBpcyBub3QgY2xvc2VkLlwiKVxuICAgICAgICAgIGk9Y2xvc2VJbmRleDtcbiAgICAgICAgfSBlbHNlIGlmKHhtbERhdGEuc3Vic3RyKGkgKyAxLCAzKSA9PT0gJyEtLScpIHsgXG4gICAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCItLT5cIiwgaSszLCBcIlN0b3BOb2RlIGlzIG5vdCBjbG9zZWQuXCIpXG4gICAgICAgICAgaT1jbG9zZUluZGV4O1xuICAgICAgICB9IGVsc2UgaWYoeG1sRGF0YS5zdWJzdHIoaSArIDEsIDIpID09PSAnIVsnKSB7IFxuICAgICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiXV0+XCIsIGksIFwiU3RvcE5vZGUgaXMgbm90IGNsb3NlZC5cIikgLSAyO1xuICAgICAgICAgIGk9Y2xvc2VJbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YWdEYXRhID0gcmVhZFRhZ0V4cCh4bWxEYXRhLCBpLCAnPicpXG5cbiAgICAgICAgICBpZiAodGFnRGF0YSkge1xuICAgICAgICAgICAgY29uc3Qgb3BlblRhZ05hbWUgPSB0YWdEYXRhICYmIHRhZ0RhdGEudGFnTmFtZTtcbiAgICAgICAgICAgIGlmIChvcGVuVGFnTmFtZSA9PT0gdGFnTmFtZSAmJiB0YWdEYXRhLnRhZ0V4cFt0YWdEYXRhLnRhZ0V4cC5sZW5ndGgtMV0gIT09IFwiL1wiKSB7XG4gICAgICAgICAgICAgIG9wZW5UYWdDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaT10YWdEYXRhLmNsb3NlSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH0vL2VuZCBmb3IgbG9vcFxufVxuXG5mdW5jdGlvbiBwYXJzZVZhbHVlKHZhbCwgc2hvdWxkUGFyc2UsIG9wdGlvbnMpIHtcbiAgaWYgKHNob3VsZFBhcnNlICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgLy9jb25zb2xlLmxvZyhvcHRpb25zKVxuICAgIGNvbnN0IG5ld3ZhbCA9IHZhbC50cmltKCk7XG4gICAgaWYobmV3dmFsID09PSAndHJ1ZScgKSByZXR1cm4gdHJ1ZTtcbiAgICBlbHNlIGlmKG5ld3ZhbCA9PT0gJ2ZhbHNlJyApIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIHJldHVybiB0b051bWJlcih2YWwsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGlmICh1dGlsLmlzRXhpc3QodmFsKSkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gT3JkZXJlZE9ialBhcnNlcjtcbiIsImNvbnN0IHsgYnVpbGRPcHRpb25zfSA9IHJlcXVpcmUoXCIuL09wdGlvbnNCdWlsZGVyXCIpO1xuY29uc3QgT3JkZXJlZE9ialBhcnNlciA9IHJlcXVpcmUoXCIuL09yZGVyZWRPYmpQYXJzZXJcIik7XG5jb25zdCB7IHByZXR0aWZ5fSA9IHJlcXVpcmUoXCIuL25vZGUyanNvblwiKTtcbmNvbnN0IHZhbGlkYXRvciA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcicpO1xuXG5jbGFzcyBYTUxQYXJzZXJ7XG4gICAgXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyl7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxFbnRpdGllcyA9IHt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBidWlsZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIFxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBYTUwgZGF0cyB0byBKUyBvYmplY3QgXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QnVmZmVyfSB4bWxEYXRhIFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IHZhbGlkYXRpb25PcHRpb24gXG4gICAgICovXG4gICAgcGFyc2UoeG1sRGF0YSx2YWxpZGF0aW9uT3B0aW9uKXtcbiAgICAgICAgaWYodHlwZW9mIHhtbERhdGEgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICB9ZWxzZSBpZiggeG1sRGF0YS50b1N0cmluZyl7XG4gICAgICAgICAgICB4bWxEYXRhID0geG1sRGF0YS50b1N0cmluZygpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlhNTCBkYXRhIGlzIGFjY2VwdGVkIGluIFN0cmluZyBvciBCeXRlc1tdIGZvcm0uXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYoIHZhbGlkYXRpb25PcHRpb24pe1xuICAgICAgICAgICAgaWYodmFsaWRhdGlvbk9wdGlvbiA9PT0gdHJ1ZSkgdmFsaWRhdGlvbk9wdGlvbiA9IHt9OyAvL3ZhbGlkYXRlIHdpdGggZGVmYXVsdCBvcHRpb25zXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRvci52YWxpZGF0ZSh4bWxEYXRhLCB2YWxpZGF0aW9uT3B0aW9uKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoIGAke3Jlc3VsdC5lcnIubXNnfToke3Jlc3VsdC5lcnIubGluZX06JHtyZXN1bHQuZXJyLmNvbH1gIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yZGVyZWRPYmpQYXJzZXIgPSBuZXcgT3JkZXJlZE9ialBhcnNlcih0aGlzLm9wdGlvbnMpO1xuICAgICAgICBvcmRlcmVkT2JqUGFyc2VyLmFkZEV4dGVybmFsRW50aXRpZXModGhpcy5leHRlcm5hbEVudGl0aWVzKTtcbiAgICAgICAgY29uc3Qgb3JkZXJlZFJlc3VsdCA9IG9yZGVyZWRPYmpQYXJzZXIucGFyc2VYbWwoeG1sRGF0YSk7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5wcmVzZXJ2ZU9yZGVyIHx8IG9yZGVyZWRSZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG9yZGVyZWRSZXN1bHQ7XG4gICAgICAgIGVsc2UgcmV0dXJuIHByZXR0aWZ5KG9yZGVyZWRSZXN1bHQsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIEVudGl0eSB3aGljaCBpcyBub3QgYnkgZGVmYXVsdCBzdXBwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgXG4gICAgICovXG4gICAgYWRkRW50aXR5KGtleSwgdmFsdWUpe1xuICAgICAgICBpZih2YWx1ZS5pbmRleE9mKFwiJlwiKSAhPT0gLTEpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW50aXR5IHZhbHVlIGNhbid0IGhhdmUgJyYnXCIpXG4gICAgICAgIH1lbHNlIGlmKGtleS5pbmRleE9mKFwiJlwiKSAhPT0gLTEgfHwga2V5LmluZGV4T2YoXCI7XCIpICE9PSAtMSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBlbnRpdHkgbXVzdCBiZSBzZXQgd2l0aG91dCAnJicgYW5kICc7Jy4gRWcuIHVzZSAnI3hEJyBmb3IgJyYjeEQ7J1wiKVxuICAgICAgICB9ZWxzZSBpZih2YWx1ZSA9PT0gXCImXCIpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gZW50aXR5IHdpdGggdmFsdWUgJyYnIGlzIG5vdCBwZXJtaXR0ZWRcIik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5leHRlcm5hbEVudGl0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBYTUxQYXJzZXI7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFxuICogQHBhcmFtIHthcnJheX0gbm9kZSBcbiAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIHByZXR0aWZ5KG5vZGUsIG9wdGlvbnMpe1xuICByZXR1cm4gY29tcHJlc3MoIG5vZGUsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHthcnJheX0gYXJyIFxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgXG4gKiBAcGFyYW0ge3N0cmluZ30galBhdGggXG4gKiBAcmV0dXJucyBvYmplY3RcbiAqL1xuZnVuY3Rpb24gY29tcHJlc3MoYXJyLCBvcHRpb25zLCBqUGF0aCl7XG4gIGxldCB0ZXh0O1xuICBjb25zdCBjb21wcmVzc2VkT2JqID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGFnT2JqID0gYXJyW2ldO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcE5hbWUodGFnT2JqKTtcbiAgICBsZXQgbmV3SnBhdGggPSBcIlwiO1xuICAgIGlmKGpQYXRoID09PSB1bmRlZmluZWQpIG5ld0pwYXRoID0gcHJvcGVydHk7XG4gICAgZWxzZSBuZXdKcGF0aCA9IGpQYXRoICsgXCIuXCIgKyBwcm9wZXJ0eTtcblxuICAgIGlmKHByb3BlcnR5ID09PSBvcHRpb25zLnRleHROb2RlTmFtZSl7XG4gICAgICBpZih0ZXh0ID09PSB1bmRlZmluZWQpIHRleHQgPSB0YWdPYmpbcHJvcGVydHldO1xuICAgICAgZWxzZSB0ZXh0ICs9IFwiXCIgKyB0YWdPYmpbcHJvcGVydHldO1xuICAgIH1lbHNlIGlmKHByb3BlcnR5ID09PSB1bmRlZmluZWQpe1xuICAgICAgY29udGludWU7XG4gICAgfWVsc2UgaWYodGFnT2JqW3Byb3BlcnR5XSl7XG4gICAgICBcbiAgICAgIGxldCB2YWwgPSBjb21wcmVzcyh0YWdPYmpbcHJvcGVydHldLCBvcHRpb25zLCBuZXdKcGF0aCk7XG4gICAgICBjb25zdCBpc0xlYWYgPSBpc0xlYWZUYWcodmFsLCBvcHRpb25zKTtcblxuICAgICAgaWYodGFnT2JqW1wiOkBcIl0pe1xuICAgICAgICBhc3NpZ25BdHRyaWJ1dGVzKCB2YWwsIHRhZ09ialtcIjpAXCJdLCBuZXdKcGF0aCwgb3B0aW9ucyk7XG4gICAgICB9ZWxzZSBpZihPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMSAmJiB2YWxbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgIW9wdGlvbnMuYWx3YXlzQ3JlYXRlVGV4dE5vZGUpe1xuICAgICAgICB2YWwgPSB2YWxbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdO1xuICAgICAgfWVsc2UgaWYoT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDApe1xuICAgICAgICBpZihvcHRpb25zLmFsd2F5c0NyZWF0ZVRleHROb2RlKSB2YWxbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdID0gXCJcIjtcbiAgICAgICAgZWxzZSB2YWwgPSBcIlwiO1xuICAgICAgfVxuXG4gICAgICBpZihjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkICYmIGNvbXByZXNzZWRPYmouaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgIGlmKCFBcnJheS5pc0FycmF5KGNvbXByZXNzZWRPYmpbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgY29tcHJlc3NlZE9ialtwcm9wZXJ0eV0gPSBbIGNvbXByZXNzZWRPYmpbcHJvcGVydHldIF07XG4gICAgICAgIH1cbiAgICAgICAgY29tcHJlc3NlZE9ialtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vVE9ETzogaWYgYSBub2RlIGlzIG5vdCBhbiBhcnJheSwgdGhlbiBjaGVjayBpZiBpdCBzaG91bGQgYmUgYW4gYXJyYXlcbiAgICAgICAgLy9hbHNvIGRldGVybWluZSBpZiBpdCBpcyBhIGxlYWYgbm9kZVxuICAgICAgICBpZiAob3B0aW9ucy5pc0FycmF5KHByb3BlcnR5LCBuZXdKcGF0aCwgaXNMZWFmICkpIHtcbiAgICAgICAgICBjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSA9IFt2YWxdO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfVxuICAvLyBpZih0ZXh0ICYmIHRleHQubGVuZ3RoID4gMCkgY29tcHJlc3NlZE9ialtvcHRpb25zLnRleHROb2RlTmFtZV0gPSB0ZXh0O1xuICBpZih0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIil7XG4gICAgaWYodGV4dC5sZW5ndGggPiAwKSBjb21wcmVzc2VkT2JqW29wdGlvbnMudGV4dE5vZGVOYW1lXSA9IHRleHQ7XG4gIH1lbHNlIGlmKHRleHQgIT09IHVuZGVmaW5lZCkgY29tcHJlc3NlZE9ialtvcHRpb25zLnRleHROb2RlTmFtZV0gPSB0ZXh0O1xuICByZXR1cm4gY29tcHJlc3NlZE9iajtcbn1cblxuZnVuY3Rpb24gcHJvcE5hbWUob2JqKXtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgaWYoa2V5ICE9PSBcIjpAXCIpIHJldHVybiBrZXk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzaWduQXR0cmlidXRlcyhvYmosIGF0dHJNYXAsIGpwYXRoLCBvcHRpb25zKXtcbiAgaWYgKGF0dHJNYXApIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXR0ck1hcCk7XG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7IC8vZG9uJ3QgbWFrZSBpdCBpbmxpbmVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBhdHJyTmFtZSA9IGtleXNbaV07XG4gICAgICBpZiAob3B0aW9ucy5pc0FycmF5KGF0cnJOYW1lLCBqcGF0aCArIFwiLlwiICsgYXRyck5hbWUsIHRydWUsIHRydWUpKSB7XG4gICAgICAgIG9ialthdHJyTmFtZV0gPSBbIGF0dHJNYXBbYXRyck5hbWVdIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmpbYXRyck5hbWVdID0gYXR0ck1hcFthdHJyTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzTGVhZlRhZyhvYmosIG9wdGlvbnMpe1xuICBjb25zdCB7IHRleHROb2RlTmFtZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgcHJvcENvdW50ID0gT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7XG4gIFxuICBpZiAocHJvcENvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgcHJvcENvdW50ID09PSAxICYmXG4gICAgKG9ialt0ZXh0Tm9kZU5hbWVdIHx8IHR5cGVvZiBvYmpbdGV4dE5vZGVOYW1lXSA9PT0gXCJib29sZWFuXCIgfHwgb2JqW3RleHROb2RlTmFtZV0gPT09IDApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5wcmV0dGlmeSA9IHByZXR0aWZ5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBYbWxOb2Rle1xuICBjb25zdHJ1Y3Rvcih0YWduYW1lKSB7XG4gICAgdGhpcy50YWduYW1lID0gdGFnbmFtZTtcbiAgICB0aGlzLmNoaWxkID0gW107IC8vbmVzdGVkIHRhZ3MsIHRleHQsIGNkYXRhLCBjb21tZW50cyBpbiBvcmRlclxuICAgIHRoaXNbXCI6QFwiXSA9IHt9OyAvL2F0dHJpYnV0ZXMgbWFwXG4gIH1cbiAgYWRkKGtleSx2YWwpe1xuICAgIC8vIHRoaXMuY2hpbGQucHVzaCgge25hbWUgOiBrZXksIHZhbDogdmFsLCBpc0NkYXRhOiBpc0NkYXRhIH0pO1xuICAgIGlmKGtleSA9PT0gXCJfX3Byb3RvX19cIikga2V5ID0gXCIjX19wcm90b19fXCI7XG4gICAgdGhpcy5jaGlsZC5wdXNoKCB7W2tleV06IHZhbCB9KTtcbiAgfVxuICBhZGRDaGlsZChub2RlKSB7XG4gICAgaWYobm9kZS50YWduYW1lID09PSBcIl9fcHJvdG9fX1wiKSBub2RlLnRhZ25hbWUgPSBcIiNfX3Byb3RvX19cIjtcbiAgICBpZihub2RlW1wiOkBcIl0gJiYgT2JqZWN0LmtleXMobm9kZVtcIjpAXCJdKS5sZW5ndGggPiAwKXtcbiAgICAgIHRoaXMuY2hpbGQucHVzaCggeyBbbm9kZS50YWduYW1lXTogbm9kZS5jaGlsZCwgW1wiOkBcIl06IG5vZGVbXCI6QFwiXSB9KTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuY2hpbGQucHVzaCggeyBbbm9kZS50YWduYW1lXTogbm9kZS5jaGlsZCB9KTtcbiAgICB9XG4gIH07XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gWG1sTm9kZTsiLCJjb25zdCBoZXhSZWdleCA9IC9eWy0rXT8weFthLWZBLUYwLTldKyQvO1xuY29uc3QgbnVtUmVnZXggPSAvXihbXFwtXFwrXSk/KDAqKShcXC5bMC05XSsoW2VFXVxcLT9bMC05XSspP3xbMC05XSsoXFwuWzAtOV0rKFtlRV1cXC0/WzAtOV0rKT8pPykkLztcbi8vIGNvbnN0IG9jdFJlZ2V4ID0gLzB4W2EtejAtOV0rLztcbi8vIGNvbnN0IGJpblJlZ2V4ID0gLzB4W2EtejAtOV0rLztcblxuXG4vL3BvbHlmaWxsXG5pZiAoIU51bWJlci5wYXJzZUludCAmJiB3aW5kb3cucGFyc2VJbnQpIHtcbiAgICBOdW1iZXIucGFyc2VJbnQgPSB3aW5kb3cucGFyc2VJbnQ7XG59XG5pZiAoIU51bWJlci5wYXJzZUZsb2F0ICYmIHdpbmRvdy5wYXJzZUZsb2F0KSB7XG4gICAgTnVtYmVyLnBhcnNlRmxvYXQgPSB3aW5kb3cucGFyc2VGbG9hdDtcbn1cblxuICBcbmNvbnN0IGNvbnNpZGVyID0ge1xuICAgIGhleCA6ICB0cnVlLFxuICAgIGxlYWRpbmdaZXJvczogdHJ1ZSxcbiAgICBkZWNpbWFsUG9pbnQ6IFwiXFwuXCIsXG4gICAgZU5vdGF0aW9uOiB0cnVlXG4gICAgLy9za2lwTGlrZTogL3JlZ2V4L1xufTtcblxuZnVuY3Rpb24gdG9OdW1iZXIoc3RyLCBvcHRpb25zID0ge30pe1xuICAgIC8vIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBjb25zaWRlcik7XG4gICAgLy8gaWYob3B0LmxlYWRpbmdaZXJvcyA9PT0gZmFsc2Upe1xuICAgIC8vICAgICBvcHRpb25zLmxlYWRpbmdaZXJvcyA9IGZhbHNlO1xuICAgIC8vIH1lbHNlIGlmKG9wdC5oZXggPT09IGZhbHNlKXtcbiAgICAvLyAgICAgb3B0aW9ucy5oZXggPSBmYWxzZTtcbiAgICAvLyB9XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgY29uc2lkZXIsIG9wdGlvbnMgKTtcbiAgICBpZighc3RyIHx8IHR5cGVvZiBzdHIgIT09IFwic3RyaW5nXCIgKSByZXR1cm4gc3RyO1xuICAgIFxuICAgIGxldCB0cmltbWVkU3RyICA9IHN0ci50cmltKCk7XG4gICAgLy8gaWYodHJpbW1lZFN0ciA9PT0gXCIwLjBcIikgcmV0dXJuIDA7XG4gICAgLy8gZWxzZSBpZih0cmltbWVkU3RyID09PSBcIiswLjBcIikgcmV0dXJuIDA7XG4gICAgLy8gZWxzZSBpZih0cmltbWVkU3RyID09PSBcIi0wLjBcIikgcmV0dXJuIC0wO1xuXG4gICAgaWYob3B0aW9ucy5za2lwTGlrZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuc2tpcExpa2UudGVzdCh0cmltbWVkU3RyKSkgcmV0dXJuIHN0cjtcbiAgICBlbHNlIGlmIChvcHRpb25zLmhleCAmJiBoZXhSZWdleC50ZXN0KHRyaW1tZWRTdHIpKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VJbnQodHJpbW1lZFN0ciwgMTYpO1xuICAgIC8vIH0gZWxzZSBpZiAob3B0aW9ucy5wYXJzZU9jdCAmJiBvY3RSZWdleC50ZXN0KHN0cikpIHtcbiAgICAvLyAgICAgcmV0dXJuIE51bWJlci5wYXJzZUludCh2YWwsIDgpO1xuICAgIC8vIH1lbHNlIGlmIChvcHRpb25zLnBhcnNlQmluICYmIGJpblJlZ2V4LnRlc3Qoc3RyKSkge1xuICAgIC8vICAgICByZXR1cm4gTnVtYmVyLnBhcnNlSW50KHZhbCwgMik7XG4gICAgfWVsc2V7XG4gICAgICAgIC8vc2VwYXJhdGUgbmVnYXRpdmUgc2lnbiwgbGVhZGluZyB6ZXJvcywgYW5kIHJlc3QgbnVtYmVyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gbnVtUmVnZXguZXhlYyh0cmltbWVkU3RyKTtcbiAgICAgICAgaWYobWF0Y2gpe1xuICAgICAgICAgICAgY29uc3Qgc2lnbiA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgY29uc3QgbGVhZGluZ1plcm9zID0gbWF0Y2hbMl07XG4gICAgICAgICAgICBsZXQgbnVtVHJpbW1lZEJ5WmVyb3MgPSB0cmltWmVyb3MobWF0Y2hbM10pOyAvL2NvbXBsZXRlIG51bSB3aXRob3V0IGxlYWRpbmcgemVyb3NcbiAgICAgICAgICAgIC8vdHJpbSBlbmRpbmcgemVyb3MgZm9yIGZsb2F0aW5nIG51bWJlclxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBlTm90YXRpb24gPSBtYXRjaFs0XSB8fCBtYXRjaFs2XTtcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmxlYWRpbmdaZXJvcyAmJiBsZWFkaW5nWmVyb3MubGVuZ3RoID4gMCAmJiBzaWduICYmIHRyaW1tZWRTdHJbMl0gIT09IFwiLlwiKSByZXR1cm4gc3RyOyAvLy0wMTIzXG4gICAgICAgICAgICBlbHNlIGlmKCFvcHRpb25zLmxlYWRpbmdaZXJvcyAmJiBsZWFkaW5nWmVyb3MubGVuZ3RoID4gMCAmJiAhc2lnbiAmJiB0cmltbWVkU3RyWzFdICE9PSBcIi5cIikgcmV0dXJuIHN0cjsgLy8wMTIzXG4gICAgICAgICAgICBlbHNley8vbm8gbGVhZGluZyB6ZXJvcyBvciBsZWFkaW5nIHplcm9zIGFyZSBhbGxvd2VkXG4gICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKHRyaW1tZWRTdHIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bVN0ciA9IFwiXCIgKyBudW07XG4gICAgICAgICAgICAgICAgaWYobnVtU3RyLnNlYXJjaCgvW2VFXS8pICE9PSAtMSl7IC8vZ2l2ZW4gbnVtYmVyIGlzIGxvbmcgYW5kIHBhcnNlZCB0byBlTm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5lTm90YXRpb24pIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihlTm90YXRpb24peyAvL2dpdmVuIG51bWJlciBoYXMgZW5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuZU5vdGF0aW9uKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodHJpbW1lZFN0ci5pbmRleE9mKFwiLlwiKSAhPT0gLTEpeyAvL2Zsb2F0aW5nIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkZWNpbWFsUGFydCA9IG1hdGNoWzVdLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgaW50UGFydCA9IHRyaW1tZWRTdHIuc3Vic3RyKDAsdHJpbW1lZFN0ci5pbmRleE9mKFwiLlwiKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHAgPSBudW1TdHIuaW5kZXhPZihcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGdpdmVuSW50UGFydCA9IG51bVN0ci5zdWJzdHIoMCxwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZ2l2ZW5EZWNQYXJ0ID0gbnVtU3RyLnN1YnN0cihwKzEpO1xuICAgICAgICAgICAgICAgICAgICBpZihudW1TdHIgPT09IFwiMFwiICYmIChudW1UcmltbWVkQnlaZXJvcyA9PT0gXCJcIikgKSByZXR1cm4gbnVtOyAvLzAuMFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKG51bVN0ciA9PT0gbnVtVHJpbW1lZEJ5WmVyb3MpIHJldHVybiBudW07IC8vMC40NTYuIDAuNzkwMDBcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiggc2lnbiAmJiBudW1TdHIgPT09IFwiLVwiK251bVRyaW1tZWRCeVplcm9zKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGxlYWRpbmdaZXJvcyl7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmKG51bVRyaW1tZWRCeVplcm9zID09PSBudW1TdHIpe1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYob3B0aW9ucy5sZWFkaW5nWmVyb3MpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1lbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgICAgIGlmKG51bVRyaW1tZWRCeVplcm9zID09PSBudW1TdHIpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc2lnbitudW1UcmltbWVkQnlaZXJvcyA9PT0gbnVtU3RyKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYodHJpbW1lZFN0ciA9PT0gbnVtU3RyKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYodHJpbW1lZFN0ciA9PT0gc2lnbitudW1TdHIpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgLy8gZWxzZXtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy9udW1iZXIgd2l0aCArLy0gc2lnblxuICAgICAgICAgICAgICAgIC8vICAgICB0cmltbWVkU3RyLnRlc3QoL1stK11bMC05XSk7XG5cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYoIWVOb3RhdGlvbiAmJiB0cmltbWVkU3RyICYmIHRyaW1tZWRTdHIgIT09IE51bWJlcih0cmltbWVkU3RyKSApIHJldHVybiBzdHI7XG4gICAgICAgICAgICBcbiAgICAgICAgfWVsc2V7IC8vbm9uLW51bWVyaWMgc3RyaW5nXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IG51bVN0ciB3aXRob3V0IGxlYWRpbmcgemVyb3NcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiB0cmltWmVyb3MobnVtU3RyKXtcbiAgICBpZihudW1TdHIgJiYgbnVtU3RyLmluZGV4T2YoXCIuXCIpICE9PSAtMSl7Ly9mbG9hdFxuICAgICAgICBudW1TdHIgPSBudW1TdHIucmVwbGFjZSgvMCskLywgXCJcIik7IC8vcmVtb3ZlIGVuZGluZyB6ZXJvc1xuICAgICAgICBpZihudW1TdHIgPT09IFwiLlwiKSAgbnVtU3RyID0gXCIwXCI7XG4gICAgICAgIGVsc2UgaWYobnVtU3RyWzBdID09PSBcIi5cIikgIG51bVN0ciA9IFwiMFwiK251bVN0cjtcbiAgICAgICAgZWxzZSBpZihudW1TdHJbbnVtU3RyLmxlbmd0aC0xXSA9PT0gXCIuXCIpICBudW1TdHIgPSBudW1TdHIuc3Vic3RyKDAsbnVtU3RyLmxlbmd0aC0xKTtcbiAgICAgICAgcmV0dXJuIG51bVN0cjtcbiAgICB9XG4gICAgcmV0dXJuIG51bVN0cjtcbn1cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV2ZW50c1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJvc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInByb2Nlc3NcIik7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCB2YXIgSHR0cEF1dGhMb2NhdGlvbjtcbihmdW5jdGlvbiAoSHR0cEF1dGhMb2NhdGlvbikge1xuICAgIEh0dHBBdXRoTG9jYXRpb25bXCJIRUFERVJcIl0gPSBcImhlYWRlclwiO1xuICAgIEh0dHBBdXRoTG9jYXRpb25bXCJRVUVSWVwiXSA9IFwicXVlcnlcIjtcbn0pKEh0dHBBdXRoTG9jYXRpb24gfHwgKEh0dHBBdXRoTG9jYXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IHZhciBFbmRwb2ludFVSTFNjaGVtZTtcbihmdW5jdGlvbiAoRW5kcG9pbnRVUkxTY2hlbWUpIHtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBcIl0gPSBcImh0dHBcIjtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBTXCJdID0gXCJodHRwc1wiO1xufSkoRW5kcG9pbnRVUkxTY2hlbWUgfHwgKEVuZHBvaW50VVJMU2NoZW1lID0ge30pKTtcbiIsImV4cG9ydCB2YXIgRmllbGRQb3NpdGlvbjtcbihmdW5jdGlvbiAoRmllbGRQb3NpdGlvbikge1xuICAgIEZpZWxkUG9zaXRpb25bRmllbGRQb3NpdGlvbltcIkhFQURFUlwiXSA9IDBdID0gXCJIRUFERVJcIjtcbiAgICBGaWVsZFBvc2l0aW9uW0ZpZWxkUG9zaXRpb25bXCJUUkFJTEVSXCJdID0gMV0gPSBcIlRSQUlMRVJcIjtcbn0pKEZpZWxkUG9zaXRpb24gfHwgKEZpZWxkUG9zaXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IHZhciBSZXF1ZXN0SGFuZGxlclByb3RvY29sO1xuKGZ1bmN0aW9uIChSZXF1ZXN0SGFuZGxlclByb3RvY29sKSB7XG4gICAgUmVxdWVzdEhhbmRsZXJQcm90b2NvbFtcIkhUVFBfMF85XCJdID0gXCJodHRwLzAuOVwiO1xuICAgIFJlcXVlc3RIYW5kbGVyUHJvdG9jb2xbXCJIVFRQXzFfMFwiXSA9IFwiaHR0cC8xLjBcIjtcbiAgICBSZXF1ZXN0SGFuZGxlclByb3RvY29sW1wiVERTXzhfMFwiXSA9IFwidGRzLzguMFwiO1xufSkoUmVxdWVzdEhhbmRsZXJQcm90b2NvbCB8fCAoUmVxdWVzdEhhbmRsZXJQcm90b2NvbCA9IHt9KSk7XG4iLCJleHBvcnQgY2xhc3MgSHR0cFJlcXVlc3Qge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgICAgICB0aGlzLmhvc3RuYW1lID0gb3B0aW9ucy5ob3N0bmFtZSB8fCBcImxvY2FsaG9zdFwiO1xuICAgICAgICB0aGlzLnBvcnQgPSBvcHRpb25zLnBvcnQ7XG4gICAgICAgIHRoaXMucXVlcnkgPSBvcHRpb25zLnF1ZXJ5IHx8IHt9O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgICAgIHRoaXMuYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IG9wdGlvbnMucHJvdG9jb2xcbiAgICAgICAgICAgID8gb3B0aW9ucy5wcm90b2NvbC5zbGljZSgtMSkgIT09IFwiOlwiXG4gICAgICAgICAgICAgICAgPyBgJHtvcHRpb25zLnByb3RvY29sfTpgXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLnByb3RvY29sXG4gICAgICAgICAgICA6IFwiaHR0cHM6XCI7XG4gICAgICAgIHRoaXMucGF0aCA9IG9wdGlvbnMucGF0aCA/IChvcHRpb25zLnBhdGguY2hhckF0KDApICE9PSBcIi9cIiA/IGAvJHtvcHRpb25zLnBhdGh9YCA6IG9wdGlvbnMucGF0aCkgOiBcIi9cIjtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IG9wdGlvbnMudXNlcm5hbWU7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBvcHRpb25zLnBhc3N3b3JkO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gb3B0aW9ucy5mcmFnbWVudDtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5zdGFuY2UocmVxdWVzdCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlcSA9IHJlcXVlc3Q7XG4gICAgICAgIHJldHVybiAoXCJtZXRob2RcIiBpbiByZXEgJiZcbiAgICAgICAgICAgIFwicHJvdG9jb2xcIiBpbiByZXEgJiZcbiAgICAgICAgICAgIFwiaG9zdG5hbWVcIiBpbiByZXEgJiZcbiAgICAgICAgICAgIFwicGF0aFwiIGluIHJlcSAmJlxuICAgICAgICAgICAgdHlwZW9mIHJlcVtcInF1ZXJ5XCJdID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICB0eXBlb2YgcmVxW1wiaGVhZGVyc1wiXSA9PT0gXCJvYmplY3RcIik7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjbG9uZWQgPSBuZXcgSHR0cFJlcXVlc3Qoe1xuICAgICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2xvbmVkLnF1ZXJ5KVxuICAgICAgICAgICAgY2xvbmVkLnF1ZXJ5ID0gY2xvbmVRdWVyeShjbG9uZWQucXVlcnkpO1xuICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsb25lUXVlcnkocXVlcnkpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZSgoY2FycnksIHBhcmFtTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBwYXJhbSA9IHF1ZXJ5W3BhcmFtTmFtZV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jYXJyeSxcbiAgICAgICAgICAgIFtwYXJhbU5hbWVdOiBBcnJheS5pc0FycmF5KHBhcmFtKSA/IFsuLi5wYXJhbV0gOiBwYXJhbSxcbiAgICAgICAgfTtcbiAgICB9LCB7fSk7XG59XG4iLCJleHBvcnQgY2xhc3MgSHR0cFJlc3BvbnNlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZTtcbiAgICAgICAgdGhpcy5yZWFzb24gPSBvcHRpb25zLnJlYXNvbjtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luc3RhbmNlKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2UpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXNwLnN0YXR1c0NvZGUgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHJlc3AuaGVhZGVycyA9PT0gXCJvYmplY3RcIjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dDtcbn1cbmV4cG9ydCBjb25zdCBob3N0SGVhZGVyTWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoYXJncy5yZXF1ZXN0KSlcbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgIGNvbnN0IHsgaGFuZGxlclByb3RvY29sID0gXCJcIiB9ID0gb3B0aW9ucy5yZXF1ZXN0SGFuZGxlci5tZXRhZGF0YSB8fCB7fTtcbiAgICBpZiAoaGFuZGxlclByb3RvY29sLmluZGV4T2YoXCJoMlwiKSA+PSAwICYmICFyZXF1ZXN0LmhlYWRlcnNbXCI6YXV0aG9yaXR5XCJdKSB7XG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdO1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnNbXCI6YXV0aG9yaXR5XCJdID0gXCJcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl0pIHtcbiAgICAgICAgbGV0IGhvc3QgPSByZXF1ZXN0Lmhvc3RuYW1lO1xuICAgICAgICBpZiAocmVxdWVzdC5wb3J0ICE9IG51bGwpXG4gICAgICAgICAgICBob3N0ICs9IGA6JHtyZXF1ZXN0LnBvcnR9YDtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXSA9IGhvc3Q7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KGFyZ3MpO1xufTtcbmV4cG9ydCBjb25zdCBob3N0SGVhZGVyTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJob3N0SGVhZGVyTWlkZGxld2FyZVwiLFxuICAgIHN0ZXA6IFwiYnVpbGRcIixcbiAgICBwcmlvcml0eTogXCJsb3dcIixcbiAgICB0YWdzOiBbXCJIT1NUXCJdLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRIb3N0SGVhZGVyUGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKGhvc3RIZWFkZXJNaWRkbGV3YXJlKG9wdGlvbnMpLCBob3N0SGVhZGVyTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiIsImV4cG9ydCBjb25zdCBsb2dnZXJNaWRkbGV3YXJlID0gKCkgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgICBjb25zdCB7IGNsaWVudE5hbWUsIGNvbW1hbmROYW1lLCBsb2dnZXIsIGR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zID0ge30gfSA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IHsgb3ZlcnJpZGVJbnB1dEZpbHRlclNlbnNpdGl2ZUxvZywgb3ZlcnJpZGVPdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2cgfSA9IGR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zO1xuICAgICAgICBjb25zdCBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyA9IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPz8gY29udGV4dC5pbnB1dEZpbHRlclNlbnNpdGl2ZUxvZztcbiAgICAgICAgY29uc3Qgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nID0gb3ZlcnJpZGVPdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPz8gY29udGV4dC5vdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c7XG4gICAgICAgIGNvbnN0IHsgJG1ldGFkYXRhLCAuLi5vdXRwdXRXaXRob3V0TWV0YWRhdGEgfSA9IHJlc3BvbnNlLm91dHB1dDtcbiAgICAgICAgbG9nZ2VyPy5pbmZvPy4oe1xuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXQ6IGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nKGFyZ3MuaW5wdXQpLFxuICAgICAgICAgICAgb3V0cHV0OiBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2cob3V0cHV0V2l0aG91dE1ldGFkYXRhKSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiAkbWV0YWRhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCB7IGNsaWVudE5hbWUsIGNvbW1hbmROYW1lLCBsb2dnZXIsIGR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zID0ge30gfSA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IHsgb3ZlcnJpZGVJbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyB9ID0gZHluYW1vRGJEb2N1bWVudENsaWVudE9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nID0gb3ZlcnJpZGVJbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyA/PyBjb250ZXh0LmlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nO1xuICAgICAgICBsb2dnZXI/LmVycm9yPy4oe1xuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXQ6IGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nKGFyZ3MuaW5wdXQpLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICBtZXRhZGF0YTogZXJyb3IuJG1ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBsb2dnZXJNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImxvZ2dlck1pZGRsZXdhcmVcIixcbiAgICB0YWdzOiBbXCJMT0dHRVJcIl0sXG4gICAgc3RlcDogXCJpbml0aWFsaXplXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldExvZ2dlclBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChsb2dnZXJNaWRkbGV3YXJlKCksIGxvZ2dlck1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmNvbnN0IFRSQUNFX0lEX0hFQURFUl9OQU1FID0gXCJYLUFtem4tVHJhY2UtSWRcIjtcbmNvbnN0IEVOVl9MQU1CREFfRlVOQ1RJT05fTkFNRSA9IFwiQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FXCI7XG5jb25zdCBFTlZfVFJBQ0VfSUQgPSBcIl9YX0FNWk5fVFJBQ0VfSURcIjtcbmV4cG9ydCBjb25zdCByZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlID0gKG9wdGlvbnMpID0+IChuZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkgfHxcbiAgICAgICAgb3B0aW9ucy5ydW50aW1lICE9PSBcIm5vZGVcIiB8fFxuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuaGFzT3duUHJvcGVydHkoVFJBQ0VfSURfSEVBREVSX05BTUUpKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIH1cbiAgICBjb25zdCBmdW5jdGlvbk5hbWUgPSBwcm9jZXNzLmVudltFTlZfTEFNQkRBX0ZVTkNUSU9OX05BTUVdO1xuICAgIGNvbnN0IHRyYWNlSWQgPSBwcm9jZXNzLmVudltFTlZfVFJBQ0VfSURdO1xuICAgIGNvbnN0IG5vbkVtcHR5U3RyaW5nID0gKHN0cikgPT4gdHlwZW9mIHN0ciA9PT0gXCJzdHJpbmdcIiAmJiBzdHIubGVuZ3RoID4gMDtcbiAgICBpZiAobm9uRW1wdHlTdHJpbmcoZnVuY3Rpb25OYW1lKSAmJiBub25FbXB0eVN0cmluZyh0cmFjZUlkKSkge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnNbVFJBQ0VfSURfSEVBREVSX05BTUVdID0gdHJhY2VJZDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgICAuLi5hcmdzLFxuICAgICAgICByZXF1ZXN0LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBhZGRSZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBzdGVwOiBcImJ1aWxkXCIsXG4gICAgdGFnczogW1wiUkVDVVJTSU9OX0RFVEVDVElPTlwiXSxcbiAgICBuYW1lOiBcInJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbiAgICBwcmlvcml0eTogXCJsb3dcIixcbn07XG5leHBvcnQgY29uc3QgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKHJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmUob3B0aW9ucyksIGFkZFJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJleHBvcnQgY29uc3QgbWVtb2l6ZSA9IChwcm92aWRlciwgaXNFeHBpcmVkLCByZXF1aXJlc1JlZnJlc2gpID0+IHtcbiAgICBsZXQgcmVzb2x2ZWQ7XG4gICAgbGV0IHBlbmRpbmc7XG4gICAgbGV0IGhhc1Jlc3VsdDtcbiAgICBsZXQgaXNDb25zdGFudCA9IGZhbHNlO1xuICAgIGNvbnN0IGNvYWxlc2NlUHJvdmlkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghcGVuZGluZykge1xuICAgICAgICAgICAgcGVuZGluZyA9IHByb3ZpZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gYXdhaXQgcGVuZGluZztcbiAgICAgICAgICAgIGhhc1Jlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICBpc0NvbnN0YW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBwZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICB9O1xuICAgIGlmIChpc0V4cGlyZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFzUmVzdWx0IHx8IG9wdGlvbnM/LmZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gYXdhaXQgY29hbGVzY2VQcm92aWRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKCFoYXNSZXN1bHQgfHwgb3B0aW9ucz8uZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IGF3YWl0IGNvYWxlc2NlUHJvdmlkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb25zdGFudCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1aXJlc1JlZnJlc2ggJiYgIXJlcXVpcmVzUmVmcmVzaChyZXNvbHZlZCkpIHtcbiAgICAgICAgICAgIGlzQ29uc3RhbnQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0V4cGlyZWQocmVzb2x2ZWQpKSB7XG4gICAgICAgICAgICBhd2FpdCBjb2FsZXNjZVByb3ZpZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgIH07XG59O1xuIiwiY29uc3QgU0hPUlRfVE9fSEVYID0ge307XG5jb25zdCBIRVhfVE9fU0hPUlQgPSB7fTtcbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICBsZXQgZW5jb2RlZEJ5dGUgPSBpLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChlbmNvZGVkQnl0ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZW5jb2RlZEJ5dGUgPSBgMCR7ZW5jb2RlZEJ5dGV9YDtcbiAgICB9XG4gICAgU0hPUlRfVE9fSEVYW2ldID0gZW5jb2RlZEJ5dGU7XG4gICAgSEVYX1RPX1NIT1JUW2VuY29kZWRCeXRlXSA9IGk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUhleChlbmNvZGVkKSB7XG4gICAgaWYgKGVuY29kZWQubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZXggZW5jb2RlZCBzdHJpbmdzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBsZW5ndGhcIik7XG4gICAgfVxuICAgIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGVuY29kZWQubGVuZ3RoIC8gMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRCeXRlID0gZW5jb2RlZC5zbGljZShpLCBpICsgMikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGVuY29kZWRCeXRlIGluIEhFWF9UT19TSE9SVCkge1xuICAgICAgICAgICAgb3V0W2kgLyAyXSA9IEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZWNvZGUgdW5yZWNvZ25pemVkIHNlcXVlbmNlICR7ZW5jb2RlZEJ5dGV9IGFzIGhleGFkZWNpbWFsYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChieXRlcykge1xuICAgIGxldCBvdXQgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG91dCArPSBTSE9SVF9UT19IRVhbYnl0ZXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiaW1wb3J0IHsgdG9IZXggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZ1wiO1xuZXhwb3J0IGNsYXNzIEludDY0IHtcbiAgICBjb25zdHJ1Y3RvcihieXRlcykge1xuICAgICAgICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG4gICAgICAgIGlmIChieXRlcy5ieXRlTGVuZ3RoICE9PSA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnQ2NCBidWZmZXJzIG11c3QgYmUgZXhhY3RseSA4IGJ5dGVzXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTnVtYmVyKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyID4gOTIyMzM3MjAzNjg1NDc3NjAwMCB8fCBudW1iZXIgPCAtOTIyMzM3MjAzNjg1NDc3NjAwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke251bWJlcn0gaXMgdG9vIGxhcmdlIChvciwgaWYgbmVnYXRpdmUsIHRvbyBzbWFsbCkgdG8gcmVwcmVzZW50IGFzIGFuIEludDY0YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDcsIHJlbWFpbmluZyA9IE1hdGguYWJzKE1hdGgucm91bmQobnVtYmVyKSk7IGkgPiAtMSAmJiByZW1haW5pbmcgPiAwOyBpLS0sIHJlbWFpbmluZyAvPSAyNTYpIHtcbiAgICAgICAgICAgIGJ5dGVzW2ldID0gcmVtYWluaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICBuZWdhdGUoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSW50NjQoYnl0ZXMpO1xuICAgIH1cbiAgICB2YWx1ZU9mKCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IHRoaXMuYnl0ZXMuc2xpY2UoMCk7XG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlID0gYnl0ZXNbMF0gJiAwYjEwMDAwMDAwO1xuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICAgIG5lZ2F0ZShieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRvSGV4KGJ5dGVzKSwgMTYpICogKG5lZ2F0aXZlID8gLTEgOiAxKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5lZ2F0ZShieXRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldIF49IDB4ZmY7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSA3OyBpID4gLTE7IGktLSkge1xuICAgICAgICBieXRlc1tpXSsrO1xuICAgICAgICBpZiAoYnl0ZXNbaV0gIT09IDApXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBmcm9tSGV4LCB0b0hleCB9IGZyb20gXCJAc21pdGh5L3V0aWwtaGV4LWVuY29kaW5nXCI7XG5pbXBvcnQgeyBJbnQ2NCB9IGZyb20gXCIuL0ludDY0XCI7XG5leHBvcnQgY2xhc3MgSGVhZGVyTWFyc2hhbGxlciB7XG4gICAgY29uc3RydWN0b3IodG9VdGY4LCBmcm9tVXRmOCkge1xuICAgICAgICB0aGlzLnRvVXRmOCA9IHRvVXRmODtcbiAgICAgICAgdGhpcy5mcm9tVXRmOCA9IGZyb21VdGY4O1xuICAgIH1cbiAgICBmb3JtYXQoaGVhZGVycykge1xuICAgICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IHRoaXMuZnJvbVV0ZjgoaGVhZGVyTmFtZSk7XG4gICAgICAgICAgICBjaHVua3MucHVzaChVaW50OEFycmF5LmZyb20oW2J5dGVzLmJ5dGVMZW5ndGhdKSwgYnl0ZXMsIHRoaXMuZm9ybWF0SGVhZGVyVmFsdWUoaGVhZGVyc1toZWFkZXJOYW1lXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGNodW5rcy5yZWR1Y2UoKGNhcnJ5LCBieXRlcykgPT4gY2FycnkgKyBieXRlcy5ieXRlTGVuZ3RoLCAwKSk7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICAgICAgICBvdXQuc2V0KGNodW5rLCBwb3NpdGlvbik7XG4gICAgICAgICAgICBwb3NpdGlvbiArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGZvcm1hdEhlYWRlclZhbHVlKGhlYWRlcikge1xuICAgICAgICBzd2l0Y2ggKGhlYWRlci50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oW2hlYWRlci52YWx1ZSA/IDAgOiAxXSk7XG4gICAgICAgICAgICBjYXNlIFwiYnl0ZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oWzIsIGhlYWRlci52YWx1ZV0pO1xuICAgICAgICAgICAgY2FzZSBcInNob3J0XCI6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvcnRWaWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigzKSk7XG4gICAgICAgICAgICAgICAgc2hvcnRWaWV3LnNldFVpbnQ4KDAsIDMpO1xuICAgICAgICAgICAgICAgIHNob3J0Vmlldy5zZXRJbnQxNigxLCBoZWFkZXIudmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc2hvcnRWaWV3LmJ1ZmZlcik7XG4gICAgICAgICAgICBjYXNlIFwiaW50ZWdlclwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGludFZpZXcgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDUpKTtcbiAgICAgICAgICAgICAgICBpbnRWaWV3LnNldFVpbnQ4KDAsIDQpO1xuICAgICAgICAgICAgICAgIGludFZpZXcuc2V0SW50MzIoMSwgaGVhZGVyLnZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGludFZpZXcuYnVmZmVyKTtcbiAgICAgICAgICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbG9uZ0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoOSk7XG4gICAgICAgICAgICAgICAgbG9uZ0J5dGVzWzBdID0gNTtcbiAgICAgICAgICAgICAgICBsb25nQnl0ZXMuc2V0KGhlYWRlci52YWx1ZS5ieXRlcywgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvbmdCeXRlcztcbiAgICAgICAgICAgIGNhc2UgXCJiaW5hcnlcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5WaWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigzICsgaGVhZGVyLnZhbHVlLmJ5dGVMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBiaW5WaWV3LnNldFVpbnQ4KDAsIDYpO1xuICAgICAgICAgICAgICAgIGJpblZpZXcuc2V0VWludDE2KDEsIGhlYWRlci52YWx1ZS5ieXRlTGVuZ3RoLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluQnl0ZXMgPSBuZXcgVWludDhBcnJheShiaW5WaWV3LmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgYmluQnl0ZXMuc2V0KGhlYWRlci52YWx1ZSwgMyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbkJ5dGVzO1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGNvbnN0IHV0ZjhCeXRlcyA9IHRoaXMuZnJvbVV0ZjgoaGVhZGVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJWaWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigzICsgdXRmOEJ5dGVzLmJ5dGVMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBzdHJWaWV3LnNldFVpbnQ4KDAsIDcpO1xuICAgICAgICAgICAgICAgIHN0clZpZXcuc2V0VWludDE2KDEsIHV0ZjhCeXRlcy5ieXRlTGVuZ3RoLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyQnl0ZXMgPSBuZXcgVWludDhBcnJheShzdHJWaWV3LmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgc3RyQnl0ZXMuc2V0KHV0ZjhCeXRlcywgMyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ckJ5dGVzO1xuICAgICAgICAgICAgY2FzZSBcInRpbWVzdGFtcFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IHRzQnl0ZXMgPSBuZXcgVWludDhBcnJheSg5KTtcbiAgICAgICAgICAgICAgICB0c0J5dGVzWzBdID0gODtcbiAgICAgICAgICAgICAgICB0c0J5dGVzLnNldChJbnQ2NC5mcm9tTnVtYmVyKGhlYWRlci52YWx1ZS52YWx1ZU9mKCkpLmJ5dGVzLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHNCeXRlcztcbiAgICAgICAgICAgIGNhc2UgXCJ1dWlkXCI6XG4gICAgICAgICAgICAgICAgaWYgKCFVVUlEX1BBVFRFUk4udGVzdChoZWFkZXIudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBVVUlEIHJlY2VpdmVkOiAke2hlYWRlci52YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdXVpZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTcpO1xuICAgICAgICAgICAgICAgIHV1aWRCeXRlc1swXSA9IDk7XG4gICAgICAgICAgICAgICAgdXVpZEJ5dGVzLnNldChmcm9tSGV4KGhlYWRlci52YWx1ZS5yZXBsYWNlKC9cXC0vZywgXCJcIikpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXVpZEJ5dGVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcnNlKGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3Qgb3V0ID0ge307XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGhlYWRlcnMuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbmFtZUxlbmd0aCA9IGhlYWRlcnMuZ2V0VWludDgocG9zaXRpb24rKyk7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy50b1V0ZjgobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCBuYW1lTGVuZ3RoKSk7XG4gICAgICAgICAgICBwb3NpdGlvbiArPSBuYW1lTGVuZ3RoO1xuICAgICAgICAgICAgc3dpdGNoIChoZWFkZXJzLmdldFVpbnQ4KHBvc2l0aW9uKyspKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCT09MRUFOX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJPT0xFQU5fVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEJZVEVfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMuZ2V0SW50OChwb3NpdGlvbisrKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTSE9SVF9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaGVhZGVycy5nZXRJbnQxNihwb3NpdGlvbiwgZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IElOVF9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaGVhZGVycy5nZXRJbnQzMihwb3NpdGlvbiwgZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExPTkdfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBJbnQ2NChuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIDgpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiaW5hcnlMZW5ndGggPSBoZWFkZXJzLmdldFVpbnQxNihwb3NpdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAyO1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCSU5BUllfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgYmluYXJ5TGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gYmluYXJ5TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0xlbmd0aCA9IGhlYWRlcnMuZ2V0VWludDE2KHBvc2l0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNUUklOR19UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy50b1V0ZjgobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCBzdHJpbmdMZW5ndGgpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gc3RyaW5nTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFRJTUVTVEFNUF9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUobmV3IEludDY0KG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgOCkpLnZhbHVlT2YoKSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXVpZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCAxNik7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDE2O1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBVVUlEX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoMCwgNCkpfS0ke3RvSGV4KHV1aWRCeXRlcy5zdWJhcnJheSg0LCA2KSl9LSR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDYsIDgpKX0tJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoOCwgMTApKX0tJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoMTApKX1gLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBoZWFkZXIgdHlwZSB0YWdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cbnZhciBIRUFERVJfVkFMVUVfVFlQRTtcbihmdW5jdGlvbiAoSEVBREVSX1ZBTFVFX1RZUEUpIHtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcImJvb2xUcnVlXCJdID0gMF0gPSBcImJvb2xUcnVlXCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJib29sRmFsc2VcIl0gPSAxXSA9IFwiYm9vbEZhbHNlXCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJieXRlXCJdID0gMl0gPSBcImJ5dGVcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInNob3J0XCJdID0gM10gPSBcInNob3J0XCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJpbnRlZ2VyXCJdID0gNF0gPSBcImludGVnZXJcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcImxvbmdcIl0gPSA1XSA9IFwibG9uZ1wiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiYnl0ZUFycmF5XCJdID0gNl0gPSBcImJ5dGVBcnJheVwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wic3RyaW5nXCJdID0gN10gPSBcInN0cmluZ1wiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1widGltZXN0YW1wXCJdID0gOF0gPSBcInRpbWVzdGFtcFwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1widXVpZFwiXSA9IDldID0gXCJ1dWlkXCI7XG59KShIRUFERVJfVkFMVUVfVFlQRSB8fCAoSEVBREVSX1ZBTFVFX1RZUEUgPSB7fSkpO1xuY29uc3QgQk9PTEVBTl9UQUcgPSBcImJvb2xlYW5cIjtcbmNvbnN0IEJZVEVfVEFHID0gXCJieXRlXCI7XG5jb25zdCBTSE9SVF9UQUcgPSBcInNob3J0XCI7XG5jb25zdCBJTlRfVEFHID0gXCJpbnRlZ2VyXCI7XG5jb25zdCBMT05HX1RBRyA9IFwibG9uZ1wiO1xuY29uc3QgQklOQVJZX1RBRyA9IFwiYmluYXJ5XCI7XG5jb25zdCBTVFJJTkdfVEFHID0gXCJzdHJpbmdcIjtcbmNvbnN0IFRJTUVTVEFNUF9UQUcgPSBcInRpbWVzdGFtcFwiO1xuY29uc3QgVVVJRF9UQUcgPSBcInV1aWRcIjtcbmNvbnN0IFVVSURfUEFUVEVSTiA9IC9eW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tW2EtZjAtOV17NH0tW2EtZjAtOV17NH0tW2EtZjAtOV17MTJ9JC87XG4iLCJleHBvcnQgY2xhc3MgTWVzc2FnZURlY29kZXJTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNJdGVyYXRvcigpO1xuICAgIH1cbiAgICBhc3luYyAqYXN5bmNJdGVyYXRvcigpIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBieXRlcyBvZiB0aGlzLm9wdGlvbnMuaW5wdXRTdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSB0aGlzLm9wdGlvbnMuZGVjb2Rlci5kZWNvZGUoYnl0ZXMpO1xuICAgICAgICAgICAgeWllbGQgZGVjb2RlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBNZXNzYWdlRW5jb2RlclN0cmVhbSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3luY0l0ZXJhdG9yKCk7XG4gICAgfVxuICAgIGFzeW5jICphc3luY0l0ZXJhdG9yKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IG1zZyBvZiB0aGlzLm9wdGlvbnMubWVzc2FnZVN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IHRoaXMub3B0aW9ucy5lbmNvZGVyLmVuY29kZShtc2cpO1xuICAgICAgICAgICAgeWllbGQgZW5jb2RlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluY2x1ZGVFbmRGcmFtZSkge1xuICAgICAgICAgICAgeWllbGQgbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgU21pdGh5TWVzc2FnZURlY29kZXJTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNJdGVyYXRvcigpO1xuICAgIH1cbiAgICBhc3luYyAqYXN5bmNJdGVyYXRvcigpIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtZXNzYWdlIG9mIHRoaXMub3B0aW9ucy5tZXNzYWdlU3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBhd2FpdCB0aGlzLm9wdGlvbnMuZGVzZXJpYWxpemVyKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGRlc2VyaWFsaXplZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgeWllbGQgZGVzZXJpYWxpemVkO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNtaXRoeU1lc3NhZ2VFbmNvZGVyU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzeW5jSXRlcmF0b3IoKTtcbiAgICB9XG4gICAgYXN5bmMgKmFzeW5jSXRlcmF0b3IoKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdGhpcy5vcHRpb25zLmlucHV0U3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkQnVmID0gdGhpcy5vcHRpb25zLnNlcmlhbGl6ZXIoY2h1bmspO1xuICAgICAgICAgICAgeWllbGQgcGF5bG9hZEJ1ZjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBub3JtYWxpemVQcm92aWRlciA9IChpbnB1dCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKGlucHV0KTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGlzQXJyYXlCdWZmZXIgPSAoYXJnKSA9PiAodHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCIgJiYgYXJnIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09IFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIjtcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiYnVmZmVyXCIpOyIsImltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiQHNtaXRoeS9pcy1hcnJheS1idWZmZXJcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmV4cG9ydCBjb25zdCBmcm9tQXJyYXlCdWZmZXIgPSAoaW5wdXQsIG9mZnNldCA9IDAsIGxlbmd0aCA9IGlucHV0LmJ5dGVMZW5ndGggLSBvZmZzZXQpID0+IHtcbiAgICBpZiAoIWlzQXJyYXlCdWZmZXIoaW5wdXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBcImlucHV0XCIgYXJndW1lbnQgbXVzdCBiZSBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBpbnB1dH0gKCR7aW5wdXR9KWApO1xuICAgIH1cbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQsIG9mZnNldCwgbGVuZ3RoKTtcbn07XG5leHBvcnQgY29uc3QgZnJvbVN0cmluZyA9IChpbnB1dCwgZW5jb2RpbmcpID0+IHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBcImlucHV0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBpbnB1dH0gKCR7aW5wdXR9KWApO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RpbmcgPyBCdWZmZXIuZnJvbShpbnB1dCwgZW5jb2RpbmcpIDogQnVmZmVyLmZyb20oaW5wdXQpO1xufTtcbiIsImltcG9ydCB7IGZyb21TdHJpbmcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJ1ZmZlci1mcm9tXCI7XG5leHBvcnQgY29uc3QgZnJvbVV0ZjggPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBidWYgPSBmcm9tU3RyaW5nKGlucHV0LCBcInV0ZjhcIik7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZUxlbmd0aCAvIFVpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xufTtcbiIsImltcG9ydCB7IGZyb21VdGY4IH0gZnJvbSBcIi4vZnJvbVV0ZjhcIjtcbmV4cG9ydCBjb25zdCB0b1VpbnQ4QXJyYXkgPSAoZGF0YSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG59O1xuIiwiaW1wb3J0IHsgZnJvbUFycmF5QnVmZmVyIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1idWZmZXItZnJvbVwiO1xuZXhwb3J0IGNvbnN0IHRvVXRmOCA9IChpbnB1dCkgPT4gZnJvbUFycmF5QnVmZmVyKGlucHV0LmJ1ZmZlciwgaW5wdXQuYnl0ZU9mZnNldCwgaW5wdXQuYnl0ZUxlbmd0aCkudG9TdHJpbmcoXCJ1dGY4XCIpO1xuIiwiZXhwb3J0IGNvbnN0IEFMR09SSVRITV9RVUVSWV9QQVJBTSA9IFwiWC1BbXotQWxnb3JpdGhtXCI7XG5leHBvcnQgY29uc3QgQ1JFREVOVElBTF9RVUVSWV9QQVJBTSA9IFwiWC1BbXotQ3JlZGVudGlhbFwiO1xuZXhwb3J0IGNvbnN0IEFNWl9EQVRFX1FVRVJZX1BBUkFNID0gXCJYLUFtei1EYXRlXCI7XG5leHBvcnQgY29uc3QgU0lHTkVEX0hFQURFUlNfUVVFUllfUEFSQU0gPSBcIlgtQW16LVNpZ25lZEhlYWRlcnNcIjtcbmV4cG9ydCBjb25zdCBFWFBJUkVTX1FVRVJZX1BBUkFNID0gXCJYLUFtei1FeHBpcmVzXCI7XG5leHBvcnQgY29uc3QgU0lHTkFUVVJFX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TaWduYXR1cmVcIjtcbmV4cG9ydCBjb25zdCBUT0tFTl9RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2VjdXJpdHktVG9rZW5cIjtcbmV4cG9ydCBjb25zdCBSRUdJT05fU0VUX1BBUkFNID0gXCJYLUFtei1SZWdpb24tU2V0XCI7XG5leHBvcnQgY29uc3QgQVVUSF9IRUFERVIgPSBcImF1dGhvcml6YXRpb25cIjtcbmV4cG9ydCBjb25zdCBBTVpfREFURV9IRUFERVIgPSBBTVpfREFURV9RVUVSWV9QQVJBTS50b0xvd2VyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IERBVEVfSEVBREVSID0gXCJkYXRlXCI7XG5leHBvcnQgY29uc3QgR0VORVJBVEVEX0hFQURFUlMgPSBbQVVUSF9IRUFERVIsIEFNWl9EQVRFX0hFQURFUiwgREFURV9IRUFERVJdO1xuZXhwb3J0IGNvbnN0IFNJR05BVFVSRV9IRUFERVIgPSBTSUdOQVRVUkVfUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBTSEEyNTZfSEVBREVSID0gXCJ4LWFtei1jb250ZW50LXNoYTI1NlwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX0hFQURFUiA9IFRPS0VOX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgSE9TVF9IRUFERVIgPSBcImhvc3RcIjtcbmV4cG9ydCBjb25zdCBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTID0ge1xuICAgIGF1dGhvcml6YXRpb246IHRydWUsXG4gICAgXCJjYWNoZS1jb250cm9sXCI6IHRydWUsXG4gICAgY29ubmVjdGlvbjogdHJ1ZSxcbiAgICBleHBlY3Q6IHRydWUsXG4gICAgZnJvbTogdHJ1ZSxcbiAgICBcImtlZXAtYWxpdmVcIjogdHJ1ZSxcbiAgICBcIm1heC1mb3J3YXJkc1wiOiB0cnVlLFxuICAgIHByYWdtYTogdHJ1ZSxcbiAgICByZWZlcmVyOiB0cnVlLFxuICAgIHRlOiB0cnVlLFxuICAgIHRyYWlsZXI6IHRydWUsXG4gICAgXCJ0cmFuc2Zlci1lbmNvZGluZ1wiOiB0cnVlLFxuICAgIHVwZ3JhZGU6IHRydWUsXG4gICAgXCJ1c2VyLWFnZW50XCI6IHRydWUsXG4gICAgXCJ4LWFtem4tdHJhY2UtaWRcIjogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgUFJPWFlfSEVBREVSX1BBVFRFUk4gPSAvXnByb3h5LS87XG5leHBvcnQgY29uc3QgU0VDX0hFQURFUl9QQVRURVJOID0gL15zZWMtLztcbmV4cG9ydCBjb25zdCBVTlNJR05BQkxFX1BBVFRFUk5TID0gWy9ecHJveHktL2ksIC9ec2VjLS9pXTtcbmV4cG9ydCBjb25zdCBBTEdPUklUSE1fSURFTlRJRklFUiA9IFwiQVdTNC1ITUFDLVNIQTI1NlwiO1xuZXhwb3J0IGNvbnN0IEFMR09SSVRITV9JREVOVElGSUVSX1Y0QSA9IFwiQVdTNC1FQ0RTQS1QMjU2LVNIQTI1NlwiO1xuZXhwb3J0IGNvbnN0IEVWRU5UX0FMR09SSVRITV9JREVOVElGSUVSID0gXCJBV1M0LUhNQUMtU0hBMjU2LVBBWUxPQURcIjtcbmV4cG9ydCBjb25zdCBVTlNJR05FRF9QQVlMT0FEID0gXCJVTlNJR05FRC1QQVlMT0FEXCI7XG5leHBvcnQgY29uc3QgTUFYX0NBQ0hFX1NJWkUgPSA1MDtcbmV4cG9ydCBjb25zdCBLRVlfVFlQRV9JREVOVElGSUVSID0gXCJhd3M0X3JlcXVlc3RcIjtcbmV4cG9ydCBjb25zdCBNQVhfUFJFU0lHTkVEX1RUTCA9IDYwICogNjAgKiAyNCAqIDc7XG4iLCJpbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAc21pdGh5L3V0aWwtaGV4LWVuY29kaW5nXCI7XG5pbXBvcnQgeyB0b1VpbnQ4QXJyYXkgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IEtFWV9UWVBFX0lERU5USUZJRVIsIE1BWF9DQUNIRV9TSVpFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5jb25zdCBzaWduaW5nS2V5Q2FjaGUgPSB7fTtcbmNvbnN0IGNhY2hlUXVldWUgPSBbXTtcbmV4cG9ydCBjb25zdCBjcmVhdGVTY29wZSA9IChzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSkgPT4gYCR7c2hvcnREYXRlfS8ke3JlZ2lvbn0vJHtzZXJ2aWNlfS8ke0tFWV9UWVBFX0lERU5USUZJRVJ9YDtcbmV4cG9ydCBjb25zdCBnZXRTaWduaW5nS2V5ID0gYXN5bmMgKHNoYTI1NkNvbnN0cnVjdG9yLCBjcmVkZW50aWFscywgc2hvcnREYXRlLCByZWdpb24sIHNlcnZpY2UpID0+IHtcbiAgICBjb25zdCBjcmVkc0hhc2ggPSBhd2FpdCBobWFjKHNoYTI1NkNvbnN0cnVjdG9yLCBjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXksIGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkKTtcbiAgICBjb25zdCBjYWNoZUtleSA9IGAke3Nob3J0RGF0ZX06JHtyZWdpb259OiR7c2VydmljZX06JHt0b0hleChjcmVkc0hhc2gpfToke2NyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbn1gO1xuICAgIGlmIChjYWNoZUtleSBpbiBzaWduaW5nS2V5Q2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV07XG4gICAgfVxuICAgIGNhY2hlUXVldWUucHVzaChjYWNoZUtleSk7XG4gICAgd2hpbGUgKGNhY2hlUXVldWUubGVuZ3RoID4gTUFYX0NBQ0hFX1NJWkUpIHtcbiAgICAgICAgZGVsZXRlIHNpZ25pbmdLZXlDYWNoZVtjYWNoZVF1ZXVlLnNoaWZ0KCldO1xuICAgIH1cbiAgICBsZXQga2V5ID0gYEFXUzQke2NyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleX1gO1xuICAgIGZvciAoY29uc3Qgc2lnbmFibGUgb2YgW3Nob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlLCBLRVlfVFlQRV9JREVOVElGSUVSXSkge1xuICAgICAgICBrZXkgPSBhd2FpdCBobWFjKHNoYTI1NkNvbnN0cnVjdG9yLCBrZXksIHNpZ25hYmxlKTtcbiAgICB9XG4gICAgcmV0dXJuIChzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldID0ga2V5KTtcbn07XG5leHBvcnQgY29uc3QgY2xlYXJDcmVkZW50aWFsQ2FjaGUgPSAoKSA9PiB7XG4gICAgY2FjaGVRdWV1ZS5sZW5ndGggPSAwO1xuICAgIE9iamVjdC5rZXlzKHNpZ25pbmdLZXlDYWNoZSkuZm9yRWFjaCgoY2FjaGVLZXkpID0+IHtcbiAgICAgICAgZGVsZXRlIHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV07XG4gICAgfSk7XG59O1xuY29uc3QgaG1hYyA9IChjdG9yLCBzZWNyZXQsIGRhdGEpID0+IHtcbiAgICBjb25zdCBoYXNoID0gbmV3IGN0b3Ioc2VjcmV0KTtcbiAgICBoYXNoLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufTtcbiIsImltcG9ydCB7IEFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMsIFBST1hZX0hFQURFUl9QQVRURVJOLCBTRUNfSEVBREVSX1BBVFRFUk4gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBnZXRDYW5vbmljYWxIZWFkZXJzID0gKHsgaGVhZGVycyB9LCB1bnNpZ25hYmxlSGVhZGVycywgc2lnbmFibGVIZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgY2Fub25pY2FsID0ge307XG4gICAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKSkge1xuICAgICAgICBpZiAoaGVhZGVyc1toZWFkZXJOYW1lXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlck5hbWUgPSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChjYW5vbmljYWxIZWFkZXJOYW1lIGluIEFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMgfHxcbiAgICAgICAgICAgIHVuc2lnbmFibGVIZWFkZXJzPy5oYXMoY2Fub25pY2FsSGVhZGVyTmFtZSkgfHxcbiAgICAgICAgICAgIFBST1hZX0hFQURFUl9QQVRURVJOLnRlc3QoY2Fub25pY2FsSGVhZGVyTmFtZSkgfHxcbiAgICAgICAgICAgIFNFQ19IRUFERVJfUEFUVEVSTi50ZXN0KGNhbm9uaWNhbEhlYWRlck5hbWUpKSB7XG4gICAgICAgICAgICBpZiAoIXNpZ25hYmxlSGVhZGVycyB8fCAoc2lnbmFibGVIZWFkZXJzICYmICFzaWduYWJsZUhlYWRlcnMuaGFzKGNhbm9uaWNhbEhlYWRlck5hbWUpKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhbm9uaWNhbFtjYW5vbmljYWxIZWFkZXJOYW1lXSA9IGhlYWRlcnNbaGVhZGVyTmFtZV0udHJpbSgpLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY2Fub25pY2FsO1xufTtcbiIsImV4cG9ydCBjb25zdCBlc2NhcGVVcmkgPSAodXJpKSA9PiBlbmNvZGVVUklDb21wb25lbnQodXJpKS5yZXBsYWNlKC9bIScoKSpdL2csIGhleEVuY29kZSk7XG5jb25zdCBoZXhFbmNvZGUgPSAoYykgPT4gYCUke2MuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1gO1xuIiwiaW1wb3J0IHsgaXNBcnJheUJ1ZmZlciB9IGZyb20gXCJAc21pdGh5L2lzLWFycmF5LWJ1ZmZlclwiO1xuaW1wb3J0IHsgdG9IZXggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgdG9VaW50OEFycmF5IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBTSEEyNTZfSEVBREVSLCBVTlNJR05FRF9QQVlMT0FEIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgZ2V0UGF5bG9hZEhhc2ggPSBhc3luYyAoeyBoZWFkZXJzLCBib2R5IH0sIGhhc2hDb25zdHJ1Y3RvcikgPT4ge1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICBpZiAoaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpID09PSBTSEEyNTZfSEVBREVSKSB7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYm9keSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFwiZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3ODUyYjg1NVwiO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcoYm9keSkgfHwgaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgICAgICBjb25zdCBoYXNoQ3RvciA9IG5ldyBoYXNoQ29uc3RydWN0b3IoKTtcbiAgICAgICAgaGFzaEN0b3IudXBkYXRlKHRvVWludDhBcnJheShib2R5KSk7XG4gICAgICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoQ3Rvci5kaWdlc3QoKSk7XG4gICAgfVxuICAgIHJldHVybiBVTlNJR05FRF9QQVlMT0FEO1xufTtcbiIsImV4cG9ydCBjb25zdCBjbG9uZVJlcXVlc3QgPSAoeyBoZWFkZXJzLCBxdWVyeSwgLi4ucmVzdCB9KSA9PiAoe1xuICAgIC4uLnJlc3QsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzIH0sXG4gICAgcXVlcnk6IHF1ZXJ5ID8gY2xvbmVRdWVyeShxdWVyeSkgOiB1bmRlZmluZWQsXG59KTtcbmV4cG9ydCBjb25zdCBjbG9uZVF1ZXJ5ID0gKHF1ZXJ5KSA9PiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChjYXJyeSwgcGFyYW1OYW1lKSA9PiB7XG4gICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNhcnJ5LFxuICAgICAgICBbcGFyYW1OYW1lXTogQXJyYXkuaXNBcnJheShwYXJhbSkgPyBbLi4ucGFyYW1dIDogcGFyYW0sXG4gICAgfTtcbn0sIHt9KTtcbiIsImltcG9ydCB7IGNsb25lUmVxdWVzdCB9IGZyb20gXCIuL2Nsb25lUmVxdWVzdFwiO1xuaW1wb3J0IHsgR0VORVJBVEVEX0hFQURFUlMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBwcmVwYXJlUmVxdWVzdCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgcmVxdWVzdCA9IHR5cGVvZiByZXF1ZXN0LmNsb25lID09PSBcImZ1bmN0aW9uXCIgPyByZXF1ZXN0LmNsb25lKCkgOiBjbG9uZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKHJlcXVlc3QuaGVhZGVycykpIHtcbiAgICAgICAgaWYgKEdFTkVSQVRFRF9IRUFERVJTLmluZGV4T2YoaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVxdWVzdC5oZWFkZXJzW2hlYWRlck5hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0O1xufTtcbiIsImltcG9ydCB7IEhlYWRlck1hcnNoYWxsZXIgfSBmcm9tIFwiQHNtaXRoeS9ldmVudHN0cmVhbS1jb2RlY1wiO1xuaW1wb3J0IHsgdG9IZXggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplUHJvdmlkZXIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLW1pZGRsZXdhcmVcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1VpbnQ4QXJyYXksIHRvVXRmOCB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgQUxHT1JJVEhNX0lERU5USUZJRVIsIEFMR09SSVRITV9RVUVSWV9QQVJBTSwgQU1aX0RBVEVfSEVBREVSLCBBTVpfREFURV9RVUVSWV9QQVJBTSwgQVVUSF9IRUFERVIsIENSRURFTlRJQUxfUVVFUllfUEFSQU0sIEVWRU5UX0FMR09SSVRITV9JREVOVElGSUVSLCBFWFBJUkVTX1FVRVJZX1BBUkFNLCBNQVhfUFJFU0lHTkVEX1RUTCwgU0hBMjU2X0hFQURFUiwgU0lHTkFUVVJFX1FVRVJZX1BBUkFNLCBTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTSwgVE9LRU5fSEVBREVSLCBUT0tFTl9RVUVSWV9QQVJBTSwgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBnZXRTaWduaW5nS2V5IH0gZnJvbSBcIi4vY3JlZGVudGlhbERlcml2YXRpb25cIjtcbmltcG9ydCB7IGdldENhbm9uaWNhbEhlYWRlcnMgfSBmcm9tIFwiLi9nZXRDYW5vbmljYWxIZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRDYW5vbmljYWxRdWVyeSB9IGZyb20gXCIuL2dldENhbm9uaWNhbFF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQYXlsb2FkSGFzaCB9IGZyb20gXCIuL2dldFBheWxvYWRIYXNoXCI7XG5pbXBvcnQgeyBoYXNIZWFkZXIgfSBmcm9tIFwiLi9oZWFkZXJVdGlsXCI7XG5pbXBvcnQgeyBtb3ZlSGVhZGVyc1RvUXVlcnkgfSBmcm9tIFwiLi9tb3ZlSGVhZGVyc1RvUXVlcnlcIjtcbmltcG9ydCB7IHByZXBhcmVSZXF1ZXN0IH0gZnJvbSBcIi4vcHJlcGFyZVJlcXVlc3RcIjtcbmltcG9ydCB7IGlzbzg2MDEgfSBmcm9tIFwiLi91dGlsRGF0ZVwiO1xuZXhwb3J0IGNsYXNzIFNpZ25hdHVyZVY0IHtcbiAgICBjb25zdHJ1Y3Rvcih7IGFwcGx5Q2hlY2tzdW0sIGNyZWRlbnRpYWxzLCByZWdpb24sIHNlcnZpY2UsIHNoYTI1NiwgdXJpRXNjYXBlUGF0aCA9IHRydWUsIH0pIHtcbiAgICAgICAgdGhpcy5oZWFkZXJNYXJzaGFsbGVyID0gbmV3IEhlYWRlck1hcnNoYWxsZXIodG9VdGY4LCBmcm9tVXRmOCk7XG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XG4gICAgICAgIHRoaXMuc2hhMjU2ID0gc2hhMjU2O1xuICAgICAgICB0aGlzLnVyaUVzY2FwZVBhdGggPSB1cmlFc2NhcGVQYXRoO1xuICAgICAgICB0aGlzLmFwcGx5Q2hlY2tzdW0gPSB0eXBlb2YgYXBwbHlDaGVja3N1bSA9PT0gXCJib29sZWFuXCIgPyBhcHBseUNoZWNrc3VtIDogdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWdpb25Qcm92aWRlciA9IG5vcm1hbGl6ZVByb3ZpZGVyKHJlZ2lvbik7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbFByb3ZpZGVyID0gbm9ybWFsaXplUHJvdmlkZXIoY3JlZGVudGlhbHMpO1xuICAgIH1cbiAgICBhc3luYyBwcmVzaWduKG9yaWdpbmFsUmVxdWVzdCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLCBleHBpcmVzSW4gPSAzNjAwLCB1bnNpZ25hYmxlSGVhZGVycywgdW5ob2lzdGFibGVIZWFkZXJzLCBzaWduYWJsZUhlYWRlcnMsIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlLCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxQcm92aWRlcigpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlUmVzb2x2ZWRDcmVkZW50aWFscyhjcmVkZW50aWFscyk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgICAgIGNvbnN0IHsgbG9uZ0RhdGUsIHNob3J0RGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgICAgIGlmIChleHBpcmVzSW4gPiBNQVhfUFJFU0lHTkVEX1RUTCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiU2lnbmF0dXJlIHZlcnNpb24gNCBwcmVzaWduZWQgVVJMc1wiICsgXCIgbXVzdCBoYXZlIGFuIGV4cGlyYXRpb24gZGF0ZSBsZXNzIHRoYW4gb25lIHdlZWsgaW5cIiArIFwiIHRoZSBmdXR1cmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG1vdmVIZWFkZXJzVG9RdWVyeShwcmVwYXJlUmVxdWVzdChvcmlnaW5hbFJlcXVlc3QpLCB7IHVuaG9pc3RhYmxlSGVhZGVycyB9KTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbikge1xuICAgICAgICAgICAgcmVxdWVzdC5xdWVyeVtUT0tFTl9RVUVSWV9QQVJBTV0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdC5xdWVyeVtBTEdPUklUSE1fUVVFUllfUEFSQU1dID0gQUxHT1JJVEhNX0lERU5USUZJRVI7XG4gICAgICAgIHJlcXVlc3QucXVlcnlbQ1JFREVOVElBTF9RVUVSWV9QQVJBTV0gPSBgJHtjcmVkZW50aWFscy5hY2Nlc3NLZXlJZH0vJHtzY29wZX1gO1xuICAgICAgICByZXF1ZXN0LnF1ZXJ5W0FNWl9EQVRFX1FVRVJZX1BBUkFNXSA9IGxvbmdEYXRlO1xuICAgICAgICByZXF1ZXN0LnF1ZXJ5W0VYUElSRVNfUVVFUllfUEFSQU1dID0gZXhwaXJlc0luLnRvU3RyaW5nKDEwKTtcbiAgICAgICAgY29uc3QgY2Fub25pY2FsSGVhZGVycyA9IGdldENhbm9uaWNhbEhlYWRlcnMocmVxdWVzdCwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycyk7XG4gICAgICAgIHJlcXVlc3QucXVlcnlbU0lHTkVEX0hFQURFUlNfUVVFUllfUEFSQU1dID0gZ2V0Q2Fub25pY2FsSGVhZGVyTGlzdChjYW5vbmljYWxIZWFkZXJzKTtcbiAgICAgICAgcmVxdWVzdC5xdWVyeVtTSUdOQVRVUkVfUVVFUllfUEFSQU1dID0gYXdhaXQgdGhpcy5nZXRTaWduYXR1cmUobG9uZ0RhdGUsIHNjb3BlLCB0aGlzLmdldFNpZ25pbmdLZXkoY3JlZGVudGlhbHMsIHJlZ2lvbiwgc2hvcnREYXRlLCBzaWduaW5nU2VydmljZSksIHRoaXMuY3JlYXRlQ2Fub25pY2FsUmVxdWVzdChyZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzLCBhd2FpdCBnZXRQYXlsb2FkSGFzaChvcmlnaW5hbFJlcXVlc3QsIHRoaXMuc2hhMjU2KSkpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG4gICAgYXN5bmMgc2lnbih0b1NpZ24sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0b1NpZ24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25TdHJpbmcodG9TaWduLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b1NpZ24uaGVhZGVycyAmJiB0b1NpZ24ucGF5bG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2lnbkV2ZW50KHRvU2lnbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG9TaWduLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25NZXNzYWdlKHRvU2lnbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWduUmVxdWVzdCh0b1NpZ24sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNpZ25FdmVudCh7IGhlYWRlcnMsIHBheWxvYWQgfSwgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHByaW9yU2lnbmF0dXJlLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9KSB7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgICAgIGNvbnN0IHsgc2hvcnREYXRlLCBsb25nRGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoc2hvcnREYXRlLCByZWdpb24sIHNpZ25pbmdTZXJ2aWNlID8/IHRoaXMuc2VydmljZSk7XG4gICAgICAgIGNvbnN0IGhhc2hlZFBheWxvYWQgPSBhd2FpdCBnZXRQYXlsb2FkSGFzaCh7IGhlYWRlcnM6IHt9LCBib2R5OiBwYXlsb2FkIH0sIHRoaXMuc2hhMjU2KTtcbiAgICAgICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1NigpO1xuICAgICAgICBoYXNoLnVwZGF0ZShoZWFkZXJzKTtcbiAgICAgICAgY29uc3QgaGFzaGVkSGVhZGVycyA9IHRvSGV4KGF3YWl0IGhhc2guZGlnZXN0KCkpO1xuICAgICAgICBjb25zdCBzdHJpbmdUb1NpZ24gPSBbXG4gICAgICAgICAgICBFVkVOVF9BTEdPUklUSE1fSURFTlRJRklFUixcbiAgICAgICAgICAgIGxvbmdEYXRlLFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBwcmlvclNpZ25hdHVyZSxcbiAgICAgICAgICAgIGhhc2hlZEhlYWRlcnMsXG4gICAgICAgICAgICBoYXNoZWRQYXlsb2FkLFxuICAgICAgICBdLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ25TdHJpbmcoc3RyaW5nVG9TaWduLCB7IHNpZ25pbmdEYXRlLCBzaWduaW5nUmVnaW9uOiByZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0pO1xuICAgIH1cbiAgICBhc3luYyBzaWduTWVzc2FnZShzaWduYWJsZU1lc3NhZ2UsIHsgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9KSB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnNpZ25FdmVudCh7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlck1hcnNoYWxsZXIuZm9ybWF0KHNpZ25hYmxlTWVzc2FnZS5tZXNzYWdlLmhlYWRlcnMpLFxuICAgICAgICAgICAgcGF5bG9hZDogc2lnbmFibGVNZXNzYWdlLm1lc3NhZ2UuYm9keSxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgc2lnbmluZ0RhdGUsXG4gICAgICAgICAgICBzaWduaW5nUmVnaW9uLFxuICAgICAgICAgICAgc2lnbmluZ1NlcnZpY2UsXG4gICAgICAgICAgICBwcmlvclNpZ25hdHVyZTogc2lnbmFibGVNZXNzYWdlLnByaW9yU2lnbmF0dXJlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbigoc2lnbmF0dXJlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBzaWduYWJsZU1lc3NhZ2UubWVzc2FnZSwgc2lnbmF0dXJlIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBzaWduU3RyaW5nKHN0cmluZ1RvU2lnbiwgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFscyA9IGF3YWl0IHRoaXMuY3JlZGVudGlhbFByb3ZpZGVyKCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVSZXNvbHZlZENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKTtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gc2lnbmluZ1JlZ2lvbiA/PyAoYXdhaXQgdGhpcy5yZWdpb25Qcm92aWRlcigpKTtcbiAgICAgICAgY29uc3QgeyBzaG9ydERhdGUgfSA9IGZvcm1hdERhdGUoc2lnbmluZ0RhdGUpO1xuICAgICAgICBjb25zdCBoYXNoID0gbmV3IHRoaXMuc2hhMjU2KGF3YWl0IHRoaXMuZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNpZ25pbmdTZXJ2aWNlKSk7XG4gICAgICAgIGhhc2gudXBkYXRlKHRvVWludDhBcnJheShzdHJpbmdUb1NpZ24pKTtcbiAgICAgICAgcmV0dXJuIHRvSGV4KGF3YWl0IGhhc2guZGlnZXN0KCkpO1xuICAgIH1cbiAgICBhc3luYyBzaWduUmVxdWVzdChyZXF1ZXN0VG9TaWduLCB7IHNpZ25pbmdEYXRlID0gbmV3IERhdGUoKSwgc2lnbmFibGVIZWFkZXJzLCB1bnNpZ25hYmxlSGVhZGVycywgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFscyA9IGF3YWl0IHRoaXMuY3JlZGVudGlhbFByb3ZpZGVyKCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVSZXNvbHZlZENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKTtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gc2lnbmluZ1JlZ2lvbiA/PyAoYXdhaXQgdGhpcy5yZWdpb25Qcm92aWRlcigpKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHByZXBhcmVSZXF1ZXN0KHJlcXVlc3RUb1NpZ24pO1xuICAgICAgICBjb25zdCB7IGxvbmdEYXRlLCBzaG9ydERhdGUgfSA9IGZvcm1hdERhdGUoc2lnbmluZ0RhdGUpO1xuICAgICAgICBjb25zdCBzY29wZSA9IGNyZWF0ZVNjb3BlKHNob3J0RGF0ZSwgcmVnaW9uLCBzaWduaW5nU2VydmljZSA/PyB0aGlzLnNlcnZpY2UpO1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnNbQU1aX0RBVEVfSEVBREVSXSA9IGxvbmdEYXRlO1xuICAgICAgICBpZiAoY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbVE9LRU5fSEVBREVSXSA9IGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXlsb2FkSGFzaCA9IGF3YWl0IGdldFBheWxvYWRIYXNoKHJlcXVlc3QsIHRoaXMuc2hhMjU2KTtcbiAgICAgICAgaWYgKCFoYXNIZWFkZXIoU0hBMjU2X0hFQURFUiwgcmVxdWVzdC5oZWFkZXJzKSAmJiB0aGlzLmFwcGx5Q2hlY2tzdW0pIHtcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1tTSEEyNTZfSEVBREVSXSA9IHBheWxvYWRIYXNoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlcnMgPSBnZXRDYW5vbmljYWxIZWFkZXJzKHJlcXVlc3QsIHVuc2lnbmFibGVIZWFkZXJzLCBzaWduYWJsZUhlYWRlcnMpO1xuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCB0aGlzLmdldFNpZ25hdHVyZShsb25nRGF0ZSwgc2NvcGUsIHRoaXMuZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNpZ25pbmdTZXJ2aWNlKSwgdGhpcy5jcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3QsIGNhbm9uaWNhbEhlYWRlcnMsIHBheWxvYWRIYXNoKSk7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tBVVRIX0hFQURFUl0gPVxuICAgICAgICAgICAgYCR7QUxHT1JJVEhNX0lERU5USUZJRVJ9IGAgK1xuICAgICAgICAgICAgICAgIGBDcmVkZW50aWFsPSR7Y3JlZGVudGlhbHMuYWNjZXNzS2V5SWR9LyR7c2NvcGV9LCBgICtcbiAgICAgICAgICAgICAgICBgU2lnbmVkSGVhZGVycz0ke2dldENhbm9uaWNhbEhlYWRlckxpc3QoY2Fub25pY2FsSGVhZGVycyl9LCBgICtcbiAgICAgICAgICAgICAgICBgU2lnbmF0dXJlPSR7c2lnbmF0dXJlfWA7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbiAgICBjcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3QsIGNhbm9uaWNhbEhlYWRlcnMsIHBheWxvYWRIYXNoKSB7XG4gICAgICAgIGNvbnN0IHNvcnRlZEhlYWRlcnMgPSBPYmplY3Qua2V5cyhjYW5vbmljYWxIZWFkZXJzKS5zb3J0KCk7XG4gICAgICAgIHJldHVybiBgJHtyZXF1ZXN0Lm1ldGhvZH1cbiR7dGhpcy5nZXRDYW5vbmljYWxQYXRoKHJlcXVlc3QpfVxuJHtnZXRDYW5vbmljYWxRdWVyeShyZXF1ZXN0KX1cbiR7c29ydGVkSGVhZGVycy5tYXAoKG5hbWUpID0+IGAke25hbWV9OiR7Y2Fub25pY2FsSGVhZGVyc1tuYW1lXX1gKS5qb2luKFwiXFxuXCIpfVxuXG4ke3NvcnRlZEhlYWRlcnMuam9pbihcIjtcIil9XG4ke3BheWxvYWRIYXNofWA7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZVN0cmluZ1RvU2lnbihsb25nRGF0ZSwgY3JlZGVudGlhbFNjb3BlLCBjYW5vbmljYWxSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoKTtcbiAgICAgICAgaGFzaC51cGRhdGUodG9VaW50OEFycmF5KGNhbm9uaWNhbFJlcXVlc3QpKTtcbiAgICAgICAgY29uc3QgaGFzaGVkUmVxdWVzdCA9IGF3YWl0IGhhc2guZGlnZXN0KCk7XG4gICAgICAgIHJldHVybiBgJHtBTEdPUklUSE1fSURFTlRJRklFUn1cbiR7bG9uZ0RhdGV9XG4ke2NyZWRlbnRpYWxTY29wZX1cbiR7dG9IZXgoaGFzaGVkUmVxdWVzdCl9YDtcbiAgICB9XG4gICAgZ2V0Q2Fub25pY2FsUGF0aCh7IHBhdGggfSkge1xuICAgICAgICBpZiAodGhpcy51cmlFc2NhcGVQYXRoKSB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUGF0aFNlZ21lbnRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhdGhTZWdtZW50IG9mIHBhdGguc3BsaXQoXCIvXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50Py5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoU2VnbWVudCA9PT0gXCIuXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoU2VnbWVudCA9PT0gXCIuLlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoU2VnbWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aFNlZ21lbnRzLnB1c2gocGF0aFNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYCR7cGF0aD8uc3RhcnRzV2l0aChcIi9cIikgPyBcIi9cIiA6IFwiXCJ9JHtub3JtYWxpemVkUGF0aFNlZ21lbnRzLmpvaW4oXCIvXCIpfSR7bm9ybWFsaXplZFBhdGhTZWdtZW50cy5sZW5ndGggPiAwICYmIHBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IFwiL1wiIDogXCJcIn1gO1xuICAgICAgICAgICAgY29uc3QgZG91YmxlRW5jb2RlZCA9IGVuY29kZVVSSUNvbXBvbmVudChub3JtYWxpemVkUGF0aCk7XG4gICAgICAgICAgICByZXR1cm4gZG91YmxlRW5jb2RlZC5yZXBsYWNlKC8lMkYvZywgXCIvXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICBhc3luYyBnZXRTaWduYXR1cmUobG9uZ0RhdGUsIGNyZWRlbnRpYWxTY29wZSwga2V5UHJvbWlzZSwgY2Fub25pY2FsUmVxdWVzdCkge1xuICAgICAgICBjb25zdCBzdHJpbmdUb1NpZ24gPSBhd2FpdCB0aGlzLmNyZWF0ZVN0cmluZ1RvU2lnbihsb25nRGF0ZSwgY3JlZGVudGlhbFNjb3BlLCBjYW5vbmljYWxSZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1Nihhd2FpdCBrZXlQcm9taXNlKTtcbiAgICAgICAgaGFzaC51cGRhdGUodG9VaW50OEFycmF5KHN0cmluZ1RvU2lnbikpO1xuICAgICAgICByZXR1cm4gdG9IZXgoYXdhaXQgaGFzaC5kaWdlc3QoKSk7XG4gICAgfVxuICAgIGdldFNpZ25pbmdLZXkoY3JlZGVudGlhbHMsIHJlZ2lvbiwgc2hvcnREYXRlLCBzZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBnZXRTaWduaW5nS2V5KHRoaXMuc2hhMjU2LCBjcmVkZW50aWFscywgc2hvcnREYXRlLCByZWdpb24sIHNlcnZpY2UgfHwgdGhpcy5zZXJ2aWNlKTtcbiAgICB9XG4gICAgdmFsaWRhdGVSZXNvbHZlZENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbHMgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBjcmVkZW50aWFscy5hY2Nlc3NLZXlJZCAhPT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIGNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb2x2ZWQgY3JlZGVudGlhbCBvYmplY3QgaXMgbm90IHZhbGlkXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgZm9ybWF0RGF0ZSA9IChub3cpID0+IHtcbiAgICBjb25zdCBsb25nRGF0ZSA9IGlzbzg2MDEobm93KS5yZXBsYWNlKC9bXFwtOl0vZywgXCJcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9uZ0RhdGUsXG4gICAgICAgIHNob3J0RGF0ZTogbG9uZ0RhdGUuc2xpY2UoMCwgOCksXG4gICAgfTtcbn07XG5jb25zdCBnZXRDYW5vbmljYWxIZWFkZXJMaXN0ID0gKGhlYWRlcnMpID0+IE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKS5qb2luKFwiO1wiKTtcbiIsImltcG9ydCB7IGNsb25lUmVxdWVzdCB9IGZyb20gXCIuL2Nsb25lUmVxdWVzdFwiO1xuZXhwb3J0IGNvbnN0IG1vdmVIZWFkZXJzVG9RdWVyeSA9IChyZXF1ZXN0LCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7IGhlYWRlcnMsIHF1ZXJ5ID0ge30gfSA9IHR5cGVvZiByZXF1ZXN0LmNsb25lID09PSBcImZ1bmN0aW9uXCIgPyByZXF1ZXN0LmNsb25lKCkgOiBjbG9uZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgIGNvbnN0IGxuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobG5hbWUuc2xpY2UoMCwgNikgPT09IFwieC1hbXotXCIgJiYgIW9wdGlvbnMudW5ob2lzdGFibGVIZWFkZXJzPy5oYXMobG5hbWUpKSB7XG4gICAgICAgICAgICBxdWVyeVtuYW1lXSA9IGhlYWRlcnNbbmFtZV07XG4gICAgICAgICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBxdWVyeSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBjb25zdCBoYXNIZWFkZXIgPSAoc291Z2h0SGVhZGVyLCBoZWFkZXJzKSA9PiB7XG4gICAgc291Z2h0SGVhZGVyID0gc291Z2h0SGVhZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgIGlmIChzb3VnaHRIZWFkZXIgPT09IGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCBjb25zdCBnZXRIZWFkZXJWYWx1ZSA9IChzb3VnaHRIZWFkZXIsIGhlYWRlcnMpID0+IHtcbiAgICBzb3VnaHRIZWFkZXIgPSBzb3VnaHRIZWFkZXIudG9Mb3dlckNhc2UoKTtcbiAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKHNvdWdodEhlYWRlciA9PT0gaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVIZWFkZXIgPSAoc291Z2h0SGVhZGVyLCBoZWFkZXJzKSA9PiB7XG4gICAgc291Z2h0SGVhZGVyID0gc291Z2h0SGVhZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgIGlmIChzb3VnaHRIZWFkZXIgPT09IGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZXNjYXBlVXJpIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11cmktZXNjYXBlXCI7XG5pbXBvcnQgeyBTSUdOQVRVUkVfSEVBREVSIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgZ2V0Q2Fub25pY2FsUXVlcnkgPSAoeyBxdWVyeSA9IHt9IH0pID0+IHtcbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgY29uc3Qgc2VyaWFsaXplZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHF1ZXJ5KS5zb3J0KCkpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBTSUdOQVRVUkVfSEVBREVSKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVtrZXldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBgJHtlc2NhcGVVcmkoa2V5KX09JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICAgICAgLnNsaWNlKDApXG4gICAgICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGVuY29kZWQsIHZhbHVlKSA9PiBlbmNvZGVkLmNvbmNhdChbYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gXSksIFtdKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5c1xuICAgICAgICAubWFwKChrZXkpID0+IHNlcmlhbGl6ZWRba2V5XSlcbiAgICAgICAgLmZpbHRlcigoc2VyaWFsaXplZCkgPT4gc2VyaWFsaXplZClcbiAgICAgICAgLmpvaW4oXCImXCIpO1xufTtcbiIsImV4cG9ydCBjb25zdCBpc284NjAxID0gKHRpbWUpID0+IHRvRGF0ZSh0aW1lKVxuICAgIC50b0lTT1N0cmluZygpXG4gICAgLnJlcGxhY2UoL1xcLlxcZHszfVokLywgXCJaXCIpO1xuZXhwb3J0IGNvbnN0IHRvRGF0ZSA9ICh0aW1lKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0aW1lID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lICogMTAwMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGltZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoTnVtYmVyKHRpbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoTnVtYmVyKHRpbWUpICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGltZTtcbn07XG4iLCJpbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IFNpZ25hdHVyZVY0IH0gZnJvbSBcIkBzbWl0aHkvc2lnbmF0dXJlLXY0XCI7XG5pbXBvcnQgeyBub3JtYWxpemVQcm92aWRlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtbWlkZGxld2FyZVwiO1xuY29uc3QgQ1JFREVOVElBTF9FWFBJUkVfV0lORE9XID0gMzAwMDAwO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVBd3NBdXRoQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgICAgPyBub3JtYWxpemVDcmVkZW50aWFsUHJvdmlkZXIoaW5wdXQuY3JlZGVudGlhbHMpXG4gICAgICAgIDogaW5wdXQuY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihpbnB1dCk7XG4gICAgY29uc3QgeyBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsIHN5c3RlbUNsb2NrT2Zmc2V0ID0gaW5wdXQuc3lzdGVtQ2xvY2tPZmZzZXQgfHwgMCwgc2hhMjU2IH0gPSBpbnB1dDtcbiAgICBsZXQgc2lnbmVyO1xuICAgIGlmIChpbnB1dC5zaWduZXIpIHtcbiAgICAgICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQuc2lnbmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5wdXQucmVnaW9uSW5mb1Byb3ZpZGVyKSB7XG4gICAgICAgIHNpZ25lciA9ICgpID0+IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJlZ2lvbikoKVxuICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlZ2lvbikgPT4gW1xuICAgICAgICAgICAgKGF3YWl0IGlucHV0LnJlZ2lvbkluZm9Qcm92aWRlcihyZWdpb24sIHtcbiAgICAgICAgICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGF3YWl0IGlucHV0LnVzZUZpcHNFbmRwb2ludCgpLFxuICAgICAgICAgICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBhd2FpdCBpbnB1dC51c2VEdWFsc3RhY2tFbmRwb2ludCgpLFxuICAgICAgICAgICAgfSkpIHx8IHt9LFxuICAgICAgICAgICAgcmVnaW9uLFxuICAgICAgICBdKVxuICAgICAgICAgICAgLnRoZW4oKFtyZWdpb25JbmZvLCByZWdpb25dKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0gPSByZWdpb25JbmZvO1xuICAgICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbiB8fCByZWdpb247XG4gICAgICAgICAgICBpbnB1dC5zaWduaW5nTmFtZSA9IGlucHV0LnNpZ25pbmdOYW1lIHx8IHNpZ25pbmdTZXJ2aWNlIHx8IGlucHV0LnNlcnZpY2VJZDtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogbm9ybWFsaXplZENyZWRzLFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBpbnB1dC5zaWduaW5nTmFtZSxcbiAgICAgICAgICAgICAgICBzaGEyNTYsXG4gICAgICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgU2lnbmVyQ3RvciA9IGlucHV0LnNpZ25lckNvbnN0cnVjdG9yIHx8IFNpZ25hdHVyZVY0O1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduZXJDdG9yKHBhcmFtcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2lnbmVyID0gYXN5bmMgKGF1dGhTY2hlbWUpID0+IHtcbiAgICAgICAgICAgIGF1dGhTY2hlbWUgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWd2NFwiLFxuICAgICAgICAgICAgICAgIHNpZ25pbmdOYW1lOiBpbnB1dC5zaWduaW5nTmFtZSB8fCBpbnB1dC5kZWZhdWx0U2lnbmluZ05hbWUsXG4gICAgICAgICAgICAgICAgc2lnbmluZ1JlZ2lvbjogYXdhaXQgbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQucmVnaW9uKSgpLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgfSwgYXV0aFNjaGVtZSk7XG4gICAgICAgICAgICBjb25zdCBzaWduaW5nUmVnaW9uID0gYXV0aFNjaGVtZS5zaWduaW5nUmVnaW9uO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmluZ1NlcnZpY2UgPSBhdXRoU2NoZW1lLnNpZ25pbmdOYW1lO1xuICAgICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbjtcbiAgICAgICAgICAgIGlucHV0LnNpZ25pbmdOYW1lID0gaW5wdXQuc2lnbmluZ05hbWUgfHwgc2lnbmluZ1NlcnZpY2UgfHwgaW5wdXQuc2VydmljZUlkO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLmlucHV0LFxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgICAgICAgICAgcmVnaW9uOiBpbnB1dC5zaWduaW5nUmVnaW9uLFxuICAgICAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgICAgIHNoYTI1NixcbiAgICAgICAgICAgICAgICB1cmlFc2NhcGVQYXRoOiBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBTaWduZXJDdG9yID0gaW5wdXQuc2lnbmVyQ29uc3RydWN0b3IgfHwgU2lnbmF0dXJlVjQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ25lckN0b3IocGFyYW1zKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIHN5c3RlbUNsb2NrT2Zmc2V0LFxuICAgICAgICBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgc2lnbmVyLFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVTaWdWNEF1dGhDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkQ3JlZHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgICA/IG5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlcihpbnB1dC5jcmVkZW50aWFscylcbiAgICAgICAgOiBpbnB1dC5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKGlucHV0KTtcbiAgICBjb25zdCB7IHNpZ25pbmdFc2NhcGVQYXRoID0gdHJ1ZSwgc3lzdGVtQ2xvY2tPZmZzZXQgPSBpbnB1dC5zeXN0ZW1DbG9ja09mZnNldCB8fCAwLCBzaGEyNTYgfSA9IGlucHV0O1xuICAgIGxldCBzaWduZXI7XG4gICAgaWYgKGlucHV0LnNpZ25lcikge1xuICAgICAgICBzaWduZXIgPSBub3JtYWxpemVQcm92aWRlcihpbnB1dC5zaWduZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIobmV3IFNpZ25hdHVyZVY0KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgICAgICByZWdpb246IGlucHV0LnJlZ2lvbixcbiAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgc2hhMjU2LFxuICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIHN5c3RlbUNsb2NrT2Zmc2V0LFxuICAgICAgICBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgc2lnbmVyLFxuICAgIH07XG59O1xuY29uc3Qgbm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyID0gKGNyZWRlbnRpYWxzKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjcmVkZW50aWFscyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBtZW1vaXplKGNyZWRlbnRpYWxzLCAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgY3JlZGVudGlhbHMuZXhwaXJhdGlvbi5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIDwgQ1JFREVOVElBTF9FWFBJUkVfV0lORE9XLCAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVQcm92aWRlcihjcmVkZW50aWFscyk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFNrZXdDb3JyZWN0ZWREYXRlID0gKHN5c3RlbUNsb2NrT2Zmc2V0KSA9PiBuZXcgRGF0ZShEYXRlLm5vdygpICsgc3lzdGVtQ2xvY2tPZmZzZXQpO1xuIiwiaW1wb3J0IHsgaXNDbG9ja1NrZXdlZCB9IGZyb20gXCIuL2lzQ2xvY2tTa2V3ZWRcIjtcbmV4cG9ydCBjb25zdCBnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQgPSAoY2xvY2tUaW1lLCBjdXJyZW50U3lzdGVtQ2xvY2tPZmZzZXQpID0+IHtcbiAgICBjb25zdCBjbG9ja1RpbWVJbk1zID0gRGF0ZS5wYXJzZShjbG9ja1RpbWUpO1xuICAgIGlmIChpc0Nsb2NrU2tld2VkKGNsb2NrVGltZUluTXMsIGN1cnJlbnRTeXN0ZW1DbG9ja09mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGNsb2NrVGltZUluTXMgLSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0O1xufTtcbiIsImltcG9ydCB7IGdldFNrZXdDb3JyZWN0ZWREYXRlIH0gZnJvbSBcIi4vZ2V0U2tld0NvcnJlY3RlZERhdGVcIjtcbmV4cG9ydCBjb25zdCBpc0Nsb2NrU2tld2VkID0gKGNsb2NrVGltZSwgc3lzdGVtQ2xvY2tPZmZzZXQpID0+IE1hdGguYWJzKGdldFNrZXdDb3JyZWN0ZWREYXRlKHN5c3RlbUNsb2NrT2Zmc2V0KS5nZXRUaW1lKCkgLSBjbG9ja1RpbWUpID49IDMwMDAwMDtcbiIsImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBnZXRTa2V3Q29ycmVjdGVkRGF0ZSB9IGZyb20gXCIuL3V0aWxzL2dldFNrZXdDb3JyZWN0ZWREYXRlXCI7XG5pbXBvcnQgeyBnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQgfSBmcm9tIFwiLi91dGlscy9nZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXRcIjtcbmV4cG9ydCBjb25zdCBhd3NBdXRoTWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoYXJncy5yZXF1ZXN0KSlcbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgY29uc3QgYXV0aFNjaGVtZSA9IGNvbnRleHQuZW5kcG9pbnRWMj8ucHJvcGVydGllcz8uYXV0aFNjaGVtZXM/LlswXTtcbiAgICBjb25zdCBtdWx0aVJlZ2lvbk92ZXJyaWRlID0gYXV0aFNjaGVtZT8ubmFtZSA9PT0gXCJzaWd2NGFcIiA/IGF1dGhTY2hlbWU/LnNpZ25pbmdSZWdpb25TZXQ/LmpvaW4oXCIsXCIpIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IG9wdGlvbnMuc2lnbmVyKGF1dGhTY2hlbWUpO1xuICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IG5leHQoe1xuICAgICAgICAuLi5hcmdzLFxuICAgICAgICByZXF1ZXN0OiBhd2FpdCBzaWduZXIuc2lnbihhcmdzLnJlcXVlc3QsIHtcbiAgICAgICAgICAgIHNpZ25pbmdEYXRlOiBnZXRTa2V3Q29ycmVjdGVkRGF0ZShvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KSxcbiAgICAgICAgICAgIHNpZ25pbmdSZWdpb246IG11bHRpUmVnaW9uT3ZlcnJpZGUgfHwgY29udGV4dFtcInNpZ25pbmdfcmVnaW9uXCJdLFxuICAgICAgICAgICAgc2lnbmluZ1NlcnZpY2U6IGNvbnRleHRbXCJzaWduaW5nX3NlcnZpY2VcIl0sXG4gICAgICAgIH0pLFxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zdCBzZXJ2ZXJUaW1lID0gZXJyb3IuU2VydmVyVGltZSA/PyBnZXREYXRlSGVhZGVyKGVycm9yLiRyZXNwb25zZSk7XG4gICAgICAgIGlmIChzZXJ2ZXJUaW1lKSB7XG4gICAgICAgICAgICBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0ID0gZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0KHNlcnZlclRpbWUsIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuICAgIGNvbnN0IGRhdGVIZWFkZXIgPSBnZXREYXRlSGVhZGVyKG91dHB1dC5yZXNwb25zZSk7XG4gICAgaWYgKGRhdGVIZWFkZXIpIHtcbiAgICAgICAgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCA9IGdldFVwZGF0ZWRTeXN0ZW1DbG9ja09mZnNldChkYXRlSGVhZGVyLCBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn07XG5jb25zdCBnZXREYXRlSGVhZGVyID0gKHJlc3BvbnNlKSA9PiBIdHRwUmVzcG9uc2UuaXNJbnN0YW5jZShyZXNwb25zZSkgPyByZXNwb25zZS5oZWFkZXJzPy5kYXRlID8/IHJlc3BvbnNlLmhlYWRlcnM/LkRhdGUgOiB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgYXdzQXV0aE1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwiYXdzQXV0aE1pZGRsZXdhcmVcIixcbiAgICB0YWdzOiBbXCJTSUdOQVRVUkVcIiwgXCJBV1NBVVRIXCJdLFxuICAgIHJlbGF0aW9uOiBcImFmdGVyXCIsXG4gICAgdG9NaWRkbGV3YXJlOiBcInJldHJ5TWlkZGxld2FyZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRBd3NBdXRoUGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyhhd3NBdXRoTWlkZGxld2FyZShvcHRpb25zKSwgYXdzQXV0aE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG5leHBvcnQgY29uc3QgZ2V0U2lnVjRBdXRoUGx1Z2luID0gZ2V0QXdzQXV0aFBsdWdpbjtcbiIsImV4cG9ydCBmdW5jdGlvbiByZXNvbHZlVXNlckFnZW50Q29uZmlnKGlucHV0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIGN1c3RvbVVzZXJBZ2VudDogdHlwZW9mIGlucHV0LmN1c3RvbVVzZXJBZ2VudCA9PT0gXCJzdHJpbmdcIiA/IFtbaW5wdXQuY3VzdG9tVXNlckFnZW50XV0gOiBpbnB1dC5jdXN0b21Vc2VyQWdlbnQsXG4gICAgfTtcbn1cbiIsImltcG9ydCBwYXJ0aXRpb25zSW5mbyBmcm9tIFwiLi9wYXJ0aXRpb25zLmpzb25cIjtcbmxldCBzZWxlY3RlZFBhcnRpdGlvbnNJbmZvID0gcGFydGl0aW9uc0luZm87XG5sZXQgc2VsZWN0ZWRVc2VyQWdlbnRQcmVmaXggPSBcIlwiO1xuZXhwb3J0IGNvbnN0IHBhcnRpdGlvbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGl0aW9ucyB9ID0gc2VsZWN0ZWRQYXJ0aXRpb25zSW5mbztcbiAgICBmb3IgKGNvbnN0IHBhcnRpdGlvbiBvZiBwYXJ0aXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcmVnaW9ucywgb3V0cHV0cyB9ID0gcGFydGl0aW9uO1xuICAgICAgICBmb3IgKGNvbnN0IFtyZWdpb24sIHJlZ2lvbkRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHJlZ2lvbnMpKSB7XG4gICAgICAgICAgICBpZiAocmVnaW9uID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm91dHB1dHMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnJlZ2lvbkRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBhcnRpdGlvbiBvZiBwYXJ0aXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcmVnaW9uUmVnZXgsIG91dHB1dHMgfSA9IHBhcnRpdGlvbjtcbiAgICAgICAgaWYgKG5ldyBSZWdFeHAocmVnaW9uUmVnZXgpLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm91dHB1dHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IERFRkFVTFRfUEFSVElUSU9OID0gcGFydGl0aW9ucy5maW5kKChwYXJ0aXRpb24pID0+IHBhcnRpdGlvbi5pZCA9PT0gXCJhd3NcIik7XG4gICAgaWYgKCFERUZBVUxUX1BBUlRJVElPTikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlZCByZWdpb24gd2FzIG5vdCBmb3VuZCBpbiB0aGUgcGFydGl0aW9uIGFycmF5IG9yIHJlZ2V4LFwiICtcbiAgICAgICAgICAgIFwiIGFuZCBkZWZhdWx0IHBhcnRpdGlvbiB3aXRoIGlkICdhd3MnIGRvZXNuJ3QgZXhpc3QuXCIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5ERUZBVUxUX1BBUlRJVElPTi5vdXRwdXRzLFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IHNldFBhcnRpdGlvbkluZm8gPSAocGFydGl0aW9uc0luZm8sIHVzZXJBZ2VudFByZWZpeCA9IFwiXCIpID0+IHtcbiAgICBzZWxlY3RlZFBhcnRpdGlvbnNJbmZvID0gcGFydGl0aW9uc0luZm87XG4gICAgc2VsZWN0ZWRVc2VyQWdlbnRQcmVmaXggPSB1c2VyQWdlbnRQcmVmaXg7XG59O1xuZXhwb3J0IGNvbnN0IHVzZURlZmF1bHRQYXJ0aXRpb25JbmZvID0gKCkgPT4ge1xuICAgIHNldFBhcnRpdGlvbkluZm8ocGFydGl0aW9uc0luZm8sIFwiXCIpO1xufTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyQWdlbnRQcmVmaXggPSAoKSA9PiBzZWxlY3RlZFVzZXJBZ2VudFByZWZpeDtcbiIsImV4cG9ydCBjb25zdCBkZWJ1Z0lkID0gXCJlbmRwb2ludHNcIjtcbiIsImV4cG9ydCBmdW5jdGlvbiB0b0RlYnVnU3RyaW5nKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKFwicmVmXCIgaW4gaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGAkJHt0b0RlYnVnU3RyaW5nKGlucHV0LnJlZil9YDtcbiAgICB9XG4gICAgaWYgKFwiZm5cIiBpbiBpbnB1dCkge1xuICAgICAgICByZXR1cm4gYCR7aW5wdXQuZm59KCR7KGlucHV0LmFyZ3YgfHwgW10pLm1hcCh0b0RlYnVnU3RyaW5nKS5qb2luKFwiLCBcIil9KWA7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbnB1dCwgbnVsbCwgMik7XG59XG4iLCJleHBvcnQgY2xhc3MgRW5kcG9pbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkVuZHBvaW50RXJyb3JcIjtcbiAgICB9XG59XG4iLCJjb25zdCBJUF9WNF9SRUdFWCA9IG5ldyBSZWdFeHAoYF4oPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKD86XFxcXC4oPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKXszfSRgKTtcbmV4cG9ydCBjb25zdCBpc0lwQWRkcmVzcyA9ICh2YWx1ZSkgPT4gSVBfVjRfUkVHRVgudGVzdCh2YWx1ZSkgfHwgKHZhbHVlLnN0YXJ0c1dpdGgoXCJbXCIpICYmIHZhbHVlLmVuZHNXaXRoKFwiXVwiKSk7XG4iLCJjb25zdCBWQUxJRF9IT1NUX0xBQkVMX1JFR0VYID0gbmV3IFJlZ0V4cChgXig/IS4qLSQpKD8hLSlbYS16QS1aMC05LV17MSw2M30kYCk7XG5leHBvcnQgY29uc3QgaXNWYWxpZEhvc3RMYWJlbCA9ICh2YWx1ZSwgYWxsb3dTdWJEb21haW5zID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWFsbG93U3ViRG9tYWlucykge1xuICAgICAgICByZXR1cm4gVkFMSURfSE9TVF9MQUJFTF9SRUdFWC50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgbGFiZWxzID0gdmFsdWUuc3BsaXQoXCIuXCIpO1xuICAgIGZvciAoY29uc3QgbGFiZWwgb2YgbGFiZWxzKSB7XG4gICAgICAgIGlmICghaXNWYWxpZEhvc3RMYWJlbChsYWJlbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4iLCJpbXBvcnQgeyBpc0lwQWRkcmVzcyB9IGZyb20gXCIuLi9pc0lwQWRkcmVzc1wiO1xuaW1wb3J0IHsgaXNWYWxpZEhvc3RMYWJlbCB9IGZyb20gXCIuLi9pc1ZhbGlkSG9zdExhYmVsXCI7XG5leHBvcnQgY29uc3QgaXNWaXJ0dWFsSG9zdGFibGVTM0J1Y2tldCA9ICh2YWx1ZSwgYWxsb3dTdWJEb21haW5zID0gZmFsc2UpID0+IHtcbiAgICBpZiAoYWxsb3dTdWJEb21haW5zKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGFiZWwgb2YgdmFsdWUuc3BsaXQoXCIuXCIpKSB7XG4gICAgICAgICAgICBpZiAoIWlzVmlydHVhbEhvc3RhYmxlUzNCdWNrZXQobGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRIb3N0TGFiZWwodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA8IDMgfHwgdmFsdWUubGVuZ3RoID4gNjMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNJcEFkZHJlc3ModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHBhcnNlQXJuID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSB2YWx1ZS5zcGxpdChcIjpcIik7XG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA8IDYpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IFthcm4sIHBhcnRpdGlvbiwgc2VydmljZSwgcmVnaW9uLCBhY2NvdW50SWQsIC4uLnJlc291cmNlSWRdID0gc2VnbWVudHM7XG4gICAgaWYgKGFybiAhPT0gXCJhcm5cIiB8fCBwYXJ0aXRpb24gPT09IFwiXCIgfHwgc2VydmljZSA9PT0gXCJcIiB8fCByZXNvdXJjZUlkWzBdID09PSBcIlwiKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXJ0aXRpb24sXG4gICAgICAgIHNlcnZpY2UsXG4gICAgICAgIHJlZ2lvbixcbiAgICAgICAgYWNjb3VudElkLFxuICAgICAgICByZXNvdXJjZUlkOiByZXNvdXJjZUlkWzBdLmluY2x1ZGVzKFwiL1wiKSA/IHJlc291cmNlSWRbMF0uc3BsaXQoXCIvXCIpIDogcmVzb3VyY2VJZCxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBjb25zdCBib29sZWFuRXF1YWxzID0gKHZhbHVlMSwgdmFsdWUyKSA9PiB2YWx1ZTEgPT09IHZhbHVlMjtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldEF0dHJQYXRoTGlzdCB9IGZyb20gXCIuL2dldEF0dHJQYXRoTGlzdFwiO1xuZXhwb3J0IGNvbnN0IGdldEF0dHIgPSAodmFsdWUsIHBhdGgpID0+IGdldEF0dHJQYXRoTGlzdChwYXRoKS5yZWR1Y2UoKGFjYywgaW5kZXgpID0+IHtcbiAgICBpZiAodHlwZW9mIGFjYyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgSW5kZXggJyR7aW5kZXh9JyBpbiAnJHtwYXRofScgbm90IGZvdW5kIGluICcke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0nYCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYWNjKSkge1xuICAgICAgICByZXR1cm4gYWNjW3BhcnNlSW50KGluZGV4KV07XG4gICAgfVxuICAgIHJldHVybiBhY2NbaW5kZXhdO1xufSwgdmFsdWUpO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuZXhwb3J0IGNvbnN0IGdldEF0dHJQYXRoTGlzdCA9IChwYXRoKSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgICBjb25zdCBwYXRoTGlzdCA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICBjb25zdCBzcXVhcmVCcmFja2V0SW5kZXggPSBwYXJ0LmluZGV4T2YoXCJbXCIpO1xuICAgICAgICBpZiAoc3F1YXJlQnJhY2tldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKHBhcnQuaW5kZXhPZihcIl1cIikgIT09IHBhcnQubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBQYXRoOiAnJHtwYXRofScgZG9lcyBub3QgZW5kIHdpdGggJ10nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhcnJheUluZGV4ID0gcGFydC5zbGljZShzcXVhcmVCcmFja2V0SW5kZXggKyAxLCAtMSk7XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHBhcnNlSW50KGFycmF5SW5kZXgpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBJbnZhbGlkIGFycmF5IGluZGV4OiAnJHthcnJheUluZGV4fScgaW4gcGF0aDogJyR7cGF0aH0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3F1YXJlQnJhY2tldEluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcGF0aExpc3QucHVzaChwYXJ0LnNsaWNlKDAsIHNxdWFyZUJyYWNrZXRJbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aExpc3QucHVzaChhcnJheUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdGhMaXN0LnB1c2gocGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhdGhMaXN0O1xufTtcbiIsImV4cG9ydCBjb25zdCBpc1NldCA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbDtcbiIsImV4cG9ydCBjb25zdCBub3QgPSAodmFsdWUpID0+ICF2YWx1ZTtcbiIsImV4cG9ydCB2YXIgSHR0cEF1dGhMb2NhdGlvbjtcbihmdW5jdGlvbiAoSHR0cEF1dGhMb2NhdGlvbikge1xuICAgIEh0dHBBdXRoTG9jYXRpb25bXCJIRUFERVJcIl0gPSBcImhlYWRlclwiO1xuICAgIEh0dHBBdXRoTG9jYXRpb25bXCJRVUVSWVwiXSA9IFwicXVlcnlcIjtcbn0pKEh0dHBBdXRoTG9jYXRpb24gfHwgKEh0dHBBdXRoTG9jYXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IHZhciBFbmRwb2ludFVSTFNjaGVtZTtcbihmdW5jdGlvbiAoRW5kcG9pbnRVUkxTY2hlbWUpIHtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBcIl0gPSBcImh0dHBcIjtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBTXCJdID0gXCJodHRwc1wiO1xufSkoRW5kcG9pbnRVUkxTY2hlbWUgfHwgKEVuZHBvaW50VVJMU2NoZW1lID0ge30pKTtcbiIsImV4cG9ydCB2YXIgRmllbGRQb3NpdGlvbjtcbihmdW5jdGlvbiAoRmllbGRQb3NpdGlvbikge1xuICAgIEZpZWxkUG9zaXRpb25bRmllbGRQb3NpdGlvbltcIkhFQURFUlwiXSA9IDBdID0gXCJIRUFERVJcIjtcbiAgICBGaWVsZFBvc2l0aW9uW0ZpZWxkUG9zaXRpb25bXCJUUkFJTEVSXCJdID0gMV0gPSBcIlRSQUlMRVJcIjtcbn0pKEZpZWxkUG9zaXRpb24gfHwgKEZpZWxkUG9zaXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IHZhciBSZXF1ZXN0SGFuZGxlclByb3RvY29sO1xuKGZ1bmN0aW9uIChSZXF1ZXN0SGFuZGxlclByb3RvY29sKSB7XG4gICAgUmVxdWVzdEhhbmRsZXJQcm90b2NvbFtcIkhUVFBfMF85XCJdID0gXCJodHRwLzAuOVwiO1xuICAgIFJlcXVlc3RIYW5kbGVyUHJvdG9jb2xbXCJIVFRQXzFfMFwiXSA9IFwiaHR0cC8xLjBcIjtcbiAgICBSZXF1ZXN0SGFuZGxlclByb3RvY29sW1wiVERTXzhfMFwiXSA9IFwidGRzLzguMFwiO1xufSkoUmVxdWVzdEhhbmRsZXJQcm90b2NvbCB8fCAoUmVxdWVzdEhhbmRsZXJQcm90b2NvbCA9IHt9KSk7XG4iLCJleHBvcnQgdmFyIEhvc3RBZGRyZXNzVHlwZTtcbihmdW5jdGlvbiAoSG9zdEFkZHJlc3NUeXBlKSB7XG4gICAgSG9zdEFkZHJlc3NUeXBlW1wiQUFBQVwiXSA9IFwiQUFBQVwiO1xuICAgIEhvc3RBZGRyZXNzVHlwZVtcIkFcIl0gPSBcIkFcIjtcbn0pKEhvc3RBZGRyZXNzVHlwZSB8fCAoSG9zdEFkZHJlc3NUeXBlID0ge30pKTtcbiIsImltcG9ydCB7IEVuZHBvaW50VVJMU2NoZW1lIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBpc0lwQWRkcmVzcyB9IGZyb20gXCIuL2lzSXBBZGRyZXNzXCI7XG5jb25zdCBERUZBVUxUX1BPUlRTID0ge1xuICAgIFtFbmRwb2ludFVSTFNjaGVtZS5IVFRQXTogODAsXG4gICAgW0VuZHBvaW50VVJMU2NoZW1lLkhUVFBTXTogNDQzLFxufTtcbmV4cG9ydCBjb25zdCBwYXJzZVVSTCA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHdoYXR3Z1VSTCA9ICgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFwiaG9zdG5hbWVcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaG9zdG5hbWUsIHBvcnQsIHByb3RvY29sID0gXCJcIiwgcGF0aCA9IFwiXCIsIHF1ZXJ5ID0ge30gfSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfSR7cG9ydCA/IGA6JHtwb3J0fWAgOiBcIlwifSR7cGF0aH1gKTtcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoID0gT2JqZWN0LmVudHJpZXMocXVlcnkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKFtrLCB2XSkgPT4gYCR7a309JHt2fWApXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9KSgpO1xuICAgIGlmICghd2hhdHdnVVJMKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBwYXJzZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gYXMgYSB3aGF0d2cgVVJMLmApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdXJsU3RyaW5nID0gd2hhdHdnVVJMLmhyZWY7XG4gICAgY29uc3QgeyBob3N0LCBob3N0bmFtZSwgcGF0aG5hbWUsIHByb3RvY29sLCBzZWFyY2ggfSA9IHdoYXR3Z1VSTDtcbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzY2hlbWUgPSBwcm90b2NvbC5zbGljZSgwLCAtMSk7XG4gICAgaWYgKCFPYmplY3QudmFsdWVzKEVuZHBvaW50VVJMU2NoZW1lKS5pbmNsdWRlcyhzY2hlbWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBpc0lwID0gaXNJcEFkZHJlc3MoaG9zdG5hbWUpO1xuICAgIGNvbnN0IGlucHV0Q29udGFpbnNEZWZhdWx0UG9ydCA9IHVybFN0cmluZy5pbmNsdWRlcyhgJHtob3N0fToke0RFRkFVTFRfUE9SVFNbc2NoZW1lXX1gKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlLmluY2x1ZGVzKGAke2hvc3R9OiR7REVGQVVMVF9QT1JUU1tzY2hlbWVdfWApKTtcbiAgICBjb25zdCBhdXRob3JpdHkgPSBgJHtob3N0fSR7aW5wdXRDb250YWluc0RlZmF1bHRQb3J0ID8gYDoke0RFRkFVTFRfUE9SVFNbc2NoZW1lXX1gIDogYGB9YDtcbiAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWUsXG4gICAgICAgIGF1dGhvcml0eSxcbiAgICAgICAgcGF0aDogcGF0aG5hbWUsXG4gICAgICAgIG5vcm1hbGl6ZWRQYXRoOiBwYXRobmFtZS5lbmRzV2l0aChcIi9cIikgPyBwYXRobmFtZSA6IGAke3BhdGhuYW1lfS9gLFxuICAgICAgICBpc0lwLFxuICAgIH07XG59O1xuIiwiZXhwb3J0IGNvbnN0IHN0cmluZ0VxdWFscyA9ICh2YWx1ZTEsIHZhbHVlMikgPT4gdmFsdWUxID09PSB2YWx1ZTI7XG4iLCJleHBvcnQgY29uc3Qgc3Vic3RyaW5nID0gKGlucHV0LCBzdGFydCwgc3RvcCwgcmV2ZXJzZSkgPT4ge1xuICAgIGlmIChzdGFydCA+PSBzdG9wIHx8IGlucHV0Lmxlbmd0aCA8IHN0b3ApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghcmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHN0YXJ0LCBzdG9wKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhpbnB1dC5sZW5ndGggLSBzdG9wLCBpbnB1dC5sZW5ndGggLSBzdGFydCk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHVyaUVuY29kZSA9ICh2YWx1ZSkgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKC9bISonKCldL2csIChjKSA9PiBgJSR7Yy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWApO1xuIiwiaW1wb3J0IHsgZ2V0QXR0ciB9IGZyb20gXCIuLi9saWJcIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZVRlbXBsYXRlID0gKHRlbXBsYXRlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZXZhbHVhdGVkVGVtcGxhdGVBcnIgPSBbXTtcbiAgICBjb25zdCB0ZW1wbGF0ZUNvbnRleHQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLFxuICAgIH07XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gICAgd2hpbGUgKGN1cnJlbnRJbmRleCA8IHRlbXBsYXRlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBvcGVuaW5nQnJhY2VJbmRleCA9IHRlbXBsYXRlLmluZGV4T2YoXCJ7XCIsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGlmIChvcGVuaW5nQnJhY2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGV2YWx1YXRlZFRlbXBsYXRlQXJyLnB1c2godGVtcGxhdGUuc2xpY2UoY3VycmVudEluZGV4KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBldmFsdWF0ZWRUZW1wbGF0ZUFyci5wdXNoKHRlbXBsYXRlLnNsaWNlKGN1cnJlbnRJbmRleCwgb3BlbmluZ0JyYWNlSW5kZXgpKTtcbiAgICAgICAgY29uc3QgY2xvc2luZ0JyYWNlSW5kZXggPSB0ZW1wbGF0ZS5pbmRleE9mKFwifVwiLCBvcGVuaW5nQnJhY2VJbmRleCk7XG4gICAgICAgIGlmIChjbG9zaW5nQnJhY2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGV2YWx1YXRlZFRlbXBsYXRlQXJyLnB1c2godGVtcGxhdGUuc2xpY2Uob3BlbmluZ0JyYWNlSW5kZXgpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZW1wbGF0ZVtvcGVuaW5nQnJhY2VJbmRleCArIDFdID09PSBcIntcIiAmJiB0ZW1wbGF0ZVtjbG9zaW5nQnJhY2VJbmRleCArIDFdID09PSBcIn1cIikge1xuICAgICAgICAgICAgZXZhbHVhdGVkVGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZS5zbGljZShvcGVuaW5nQnJhY2VJbmRleCArIDEsIGNsb3NpbmdCcmFjZUluZGV4KSk7XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPSBjbG9zaW5nQnJhY2VJbmRleCArIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1ldGVyTmFtZSA9IHRlbXBsYXRlLnN1YnN0cmluZyhvcGVuaW5nQnJhY2VJbmRleCArIDEsIGNsb3NpbmdCcmFjZUluZGV4KTtcbiAgICAgICAgaWYgKHBhcmFtZXRlck5hbWUuaW5jbHVkZXMoXCIjXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBbcmVmTmFtZSwgYXR0ck5hbWVdID0gcGFyYW1ldGVyTmFtZS5zcGxpdChcIiNcIik7XG4gICAgICAgICAgICBldmFsdWF0ZWRUZW1wbGF0ZUFyci5wdXNoKGdldEF0dHIodGVtcGxhdGVDb250ZXh0W3JlZk5hbWVdLCBhdHRyTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZhbHVhdGVkVGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZUNvbnRleHRbcGFyYW1ldGVyTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRJbmRleCA9IGNsb3NpbmdCcmFjZUluZGV4ICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGV2YWx1YXRlZFRlbXBsYXRlQXJyLmpvaW4oXCJcIik7XG59O1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgY2FsbEZ1bmN0aW9uIH0gZnJvbSBcIi4vY2FsbEZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBldmFsdWF0ZVRlbXBsYXRlIH0gZnJvbSBcIi4vZXZhbHVhdGVUZW1wbGF0ZVwiO1xuaW1wb3J0IHsgZ2V0UmVmZXJlbmNlVmFsdWUgfSBmcm9tIFwiLi9nZXRSZWZlcmVuY2VWYWx1ZVwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlRXhwcmVzc2lvbiA9IChvYmosIGtleU5hbWUsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXZhbHVhdGVUZW1wbGF0ZShvYmosIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmpbXCJmblwiXSkge1xuICAgICAgICByZXR1cm4gY2FsbEZ1bmN0aW9uKG9iaiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9ialtcInJlZlwiXSkge1xuICAgICAgICByZXR1cm4gZ2V0UmVmZXJlbmNlVmFsdWUob2JqLCBvcHRpb25zKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYCcke2tleU5hbWV9JzogJHtTdHJpbmcob2JqKX0gaXMgbm90IGEgc3RyaW5nLCBmdW5jdGlvbiBvciByZWZlcmVuY2UuYCk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFJlZmVyZW5jZVZhbHVlID0gKHsgcmVmIH0sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCByZWZlcmVuY2VSZWNvcmQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLFxuICAgIH07XG4gICAgcmV0dXJuIHJlZmVyZW5jZVJlY29yZFtyZWZdO1xufTtcbiIsImltcG9ydCAqIGFzIGxpYiBmcm9tIFwiLi4vbGliXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9ldmFsdWF0ZUV4cHJlc3Npb25cIjtcbmV4cG9ydCBjb25zdCBjYWxsRnVuY3Rpb24gPSAoeyBmbiwgYXJndiB9LCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZXZhbHVhdGVkQXJncyA9IGFyZ3YubWFwKChhcmcpID0+IFtcImJvb2xlYW5cIiwgXCJudW1iZXJcIl0uaW5jbHVkZXModHlwZW9mIGFyZykgPyBhcmcgOiBldmFsdWF0ZUV4cHJlc3Npb24oYXJnLCBcImFyZ1wiLCBvcHRpb25zKSk7XG4gICAgcmV0dXJuIGZuLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2Nba2V5XSwgbGliKSguLi5ldmFsdWF0ZWRBcmdzKTtcbn07XG4iLCJpbXBvcnQgeyBkZWJ1Z0lkLCB0b0RlYnVnU3RyaW5nIH0gZnJvbSBcIi4uL2RlYnVnXCI7XG5pbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBjYWxsRnVuY3Rpb24gfSBmcm9tIFwiLi9jYWxsRnVuY3Rpb25cIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZUNvbmRpdGlvbiA9ICh7IGFzc2lnbiwgLi4uZm5BcmdzIH0sIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoYXNzaWduICYmIGFzc2lnbiBpbiBvcHRpb25zLnJlZmVyZW5jZVJlY29yZCkge1xuICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgJyR7YXNzaWdufScgaXMgYWxyZWFkeSBkZWZpbmVkIGluIFJlZmVyZW5jZSBSZWNvcmQuYCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gY2FsbEZ1bmN0aW9uKGZuQXJncywgb3B0aW9ucyk7XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnPy4oZGVidWdJZCwgYGV2YWx1YXRlQ29uZGl0aW9uOiAke3RvRGVidWdTdHJpbmcoZm5BcmdzKX0gPSAke3RvRGVidWdTdHJpbmcodmFsdWUpfWApO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogdmFsdWUgPT09IFwiXCIgPyB0cnVlIDogISF2YWx1ZSxcbiAgICAgICAgLi4uKGFzc2lnbiAhPSBudWxsICYmIHsgdG9Bc3NpZ246IHsgbmFtZTogYXNzaWduLCB2YWx1ZSB9IH0pLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgZGVidWdJZCwgdG9EZWJ1Z1N0cmluZyB9IGZyb20gXCIuLi9kZWJ1Z1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVDb25kaXRpb24gfSBmcm9tIFwiLi9ldmFsdWF0ZUNvbmRpdGlvblwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlQ29uZGl0aW9ucyA9IChjb25kaXRpb25zID0gW10sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjb25kaXRpb25zUmVmZXJlbmNlUmVjb3JkID0ge307XG4gICAgZm9yIChjb25zdCBjb25kaXRpb24gb2YgY29uZGl0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlc3VsdCwgdG9Bc3NpZ24gfSA9IGV2YWx1YXRlQ29uZGl0aW9uKGNvbmRpdGlvbiwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHJlZmVyZW5jZVJlY29yZDoge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLFxuICAgICAgICAgICAgICAgIC4uLmNvbmRpdGlvbnNSZWZlcmVuY2VSZWNvcmQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b0Fzc2lnbikge1xuICAgICAgICAgICAgY29uZGl0aW9uc1JlZmVyZW5jZVJlY29yZFt0b0Fzc2lnbi5uYW1lXSA9IHRvQXNzaWduLnZhbHVlO1xuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnPy4oZGVidWdJZCwgYGFzc2lnbjogJHt0b0Fzc2lnbi5uYW1lfSA6PSAke3RvRGVidWdTdHJpbmcodG9Bc3NpZ24udmFsdWUpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHJlc3VsdDogdHJ1ZSwgcmVmZXJlbmNlUmVjb3JkOiBjb25kaXRpb25zUmVmZXJlbmNlUmVjb3JkIH07XG59O1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXZhbHVhdGVFeHByZXNzaW9uXCI7XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRIZWFkZXJzID0gKGhlYWRlcnMsIG9wdGlvbnMpID0+IE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpLnJlZHVjZSgoYWNjLCBbaGVhZGVyS2V5LCBoZWFkZXJWYWxdKSA9PiAoe1xuICAgIC4uLmFjYyxcbiAgICBbaGVhZGVyS2V5XTogaGVhZGVyVmFsLm1hcCgoaGVhZGVyVmFsRW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkRXhwciA9IGV2YWx1YXRlRXhwcmVzc2lvbihoZWFkZXJWYWxFbnRyeSwgXCJIZWFkZXIgdmFsdWUgZW50cnlcIiwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2Vzc2VkRXhwciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYEhlYWRlciAnJHtoZWFkZXJLZXl9JyB2YWx1ZSAnJHtwcm9jZXNzZWRFeHByfScgaXMgbm90IGEgc3RyaW5nYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEV4cHI7XG4gICAgfSksXG59KSwge30pO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVUZW1wbGF0ZSB9IGZyb20gXCIuL2V2YWx1YXRlVGVtcGxhdGVcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50UHJvcGVydGllcyB9IGZyb20gXCIuL2dldEVuZHBvaW50UHJvcGVydGllc1wiO1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50UHJvcGVydHkgPSAocHJvcGVydHksIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5Lm1hcCgocHJvcGVydHlFbnRyeSkgPT4gZ2V0RW5kcG9pbnRQcm9wZXJ0eShwcm9wZXJ0eUVudHJ5LCBvcHRpb25zKSk7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5KSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0ZVRlbXBsYXRlKHByb3BlcnR5LCBvcHRpb25zKTtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYFVuZXhwZWN0ZWQgZW5kcG9pbnQgcHJvcGVydHk6ICR7cHJvcGVydHl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzKHByb3BlcnR5LCBvcHRpb25zKTtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBVbmV4cGVjdGVkIGVuZHBvaW50IHByb3BlcnR5IHR5cGU6ICR7dHlwZW9mIHByb3BlcnR5fWApO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFByb3BlcnR5IH0gZnJvbSBcIi4vZ2V0RW5kcG9pbnRQcm9wZXJ0eVwiO1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50UHJvcGVydGllcyA9IChwcm9wZXJ0aWVzLCBvcHRpb25zKSA9PiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKS5yZWR1Y2UoKGFjYywgW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbF0pID0+ICh7XG4gICAgLi4uYWNjLFxuICAgIFtwcm9wZXJ0eUtleV06IGdldEVuZHBvaW50UHJvcGVydHkocHJvcGVydHlWYWwsIG9wdGlvbnMpLFxufSksIHt9KTtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV2YWx1YXRlRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V2YWx1YXRlRXhwcmVzc2lvblwiO1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50VXJsID0gKGVuZHBvaW50VXJsLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZXhwcmVzc2lvbiA9IGV2YWx1YXRlRXhwcmVzc2lvbihlbmRwb2ludFVybCwgXCJFbmRwb2ludCBVUkxcIiwgb3B0aW9ucyk7XG4gICAgaWYgKHR5cGVvZiBleHByZXNzaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVSTChleHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjb25zdHJ1Y3QgVVJMIHdpdGggJHtleHByZXNzaW9ufWAsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBFbmRwb2ludCBVUkwgbXVzdCBiZSBhIHN0cmluZywgZ290ICR7dHlwZW9mIGV4cHJlc3Npb259YCk7XG59O1xuIiwiaW1wb3J0IHsgZGVidWdJZCwgdG9EZWJ1Z1N0cmluZyB9IGZyb20gXCIuLi9kZWJ1Z1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVDb25kaXRpb25zIH0gZnJvbSBcIi4vZXZhbHVhdGVDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludEhlYWRlcnMgfSBmcm9tIFwiLi9nZXRFbmRwb2ludEhlYWRlcnNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50UHJvcGVydGllcyB9IGZyb20gXCIuL2dldEVuZHBvaW50UHJvcGVydGllc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRVcmwgfSBmcm9tIFwiLi9nZXRFbmRwb2ludFVybFwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlRW5kcG9pbnRSdWxlID0gKGVuZHBvaW50UnVsZSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgY29uZGl0aW9ucywgZW5kcG9pbnQgfSA9IGVuZHBvaW50UnVsZTtcbiAgICBjb25zdCB7IHJlc3VsdCwgcmVmZXJlbmNlUmVjb3JkIH0gPSBldmFsdWF0ZUNvbmRpdGlvbnMoY29uZGl0aW9ucywgb3B0aW9ucyk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludFJ1bGVPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICByZWZlcmVuY2VSZWNvcmQ6IHsgLi4ub3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQsIC4uLnJlZmVyZW5jZVJlY29yZCB9LFxuICAgIH07XG4gICAgY29uc3QgeyB1cmwsIHByb3BlcnRpZXMsIGhlYWRlcnMgfSA9IGVuZHBvaW50O1xuICAgIG9wdGlvbnMubG9nZ2VyPy5kZWJ1Zz8uKGRlYnVnSWQsIGBSZXNvbHZpbmcgZW5kcG9pbnQgZnJvbSB0ZW1wbGF0ZTogJHt0b0RlYnVnU3RyaW5nKGVuZHBvaW50KX1gKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi4oaGVhZGVycyAhPSB1bmRlZmluZWQgJiYge1xuICAgICAgICAgICAgaGVhZGVyczogZ2V0RW5kcG9pbnRIZWFkZXJzKGhlYWRlcnMsIGVuZHBvaW50UnVsZU9wdGlvbnMpLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKHByb3BlcnRpZXMgIT0gdW5kZWZpbmVkICYmIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IGdldEVuZHBvaW50UHJvcGVydGllcyhwcm9wZXJ0aWVzLCBlbmRwb2ludFJ1bGVPcHRpb25zKSxcbiAgICAgICAgfSksXG4gICAgICAgIHVybDogZ2V0RW5kcG9pbnRVcmwodXJsLCBlbmRwb2ludFJ1bGVPcHRpb25zKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV2YWx1YXRlQ29uZGl0aW9ucyB9IGZyb20gXCIuL2V2YWx1YXRlQ29uZGl0aW9uc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXZhbHVhdGVFeHByZXNzaW9uXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVFcnJvclJ1bGUgPSAoZXJyb3JSdWxlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBjb25kaXRpb25zLCBlcnJvciB9ID0gZXJyb3JSdWxlO1xuICAgIGNvbnN0IHsgcmVzdWx0LCByZWZlcmVuY2VSZWNvcmQgfSA9IGV2YWx1YXRlQ29uZGl0aW9ucyhjb25kaXRpb25zLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGV2YWx1YXRlRXhwcmVzc2lvbihlcnJvciwgXCJFcnJvclwiLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHJlZmVyZW5jZVJlY29yZDogeyAuLi5vcHRpb25zLnJlZmVyZW5jZVJlY29yZCwgLi4ucmVmZXJlbmNlUmVjb3JkIH0sXG4gICAgfSkpO1xufTtcbiIsImltcG9ydCB7IGV2YWx1YXRlQ29uZGl0aW9ucyB9IGZyb20gXCIuL2V2YWx1YXRlQ29uZGl0aW9uc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVSdWxlcyB9IGZyb20gXCIuL2V2YWx1YXRlUnVsZXNcIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZVRyZWVSdWxlID0gKHRyZWVSdWxlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBjb25kaXRpb25zLCBydWxlcyB9ID0gdHJlZVJ1bGU7XG4gICAgY29uc3QgeyByZXN1bHQsIHJlZmVyZW5jZVJlY29yZCB9ID0gZXZhbHVhdGVDb25kaXRpb25zKGNvbmRpdGlvbnMsIG9wdGlvbnMpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGV2YWx1YXRlUnVsZXMocnVsZXMsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgcmVmZXJlbmNlUmVjb3JkOiB7IC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLCAuLi5yZWZlcmVuY2VSZWNvcmQgfSxcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUVuZHBvaW50UnVsZSB9IGZyb20gXCIuL2V2YWx1YXRlRW5kcG9pbnRSdWxlXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUVycm9yUnVsZSB9IGZyb20gXCIuL2V2YWx1YXRlRXJyb3JSdWxlXCI7XG5pbXBvcnQgeyBldmFsdWF0ZVRyZWVSdWxlIH0gZnJvbSBcIi4vZXZhbHVhdGVUcmVlUnVsZVwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlUnVsZXMgPSAocnVsZXMsIG9wdGlvbnMpID0+IHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcnVsZXMpIHtcbiAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gXCJlbmRwb2ludFwiKSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludE9yVW5kZWZpbmVkID0gZXZhbHVhdGVFbmRwb2ludFJ1bGUocnVsZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRPclVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmRwb2ludE9yVW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICBldmFsdWF0ZUVycm9yUnVsZShydWxlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChydWxlLnR5cGUgPT09IFwidHJlZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludE9yVW5kZWZpbmVkID0gZXZhbHVhdGVUcmVlUnVsZShydWxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludE9yVW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50T3JVbmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgVW5rbm93biBlbmRwb2ludCBydWxlOiAke3J1bGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYFJ1bGVzIGV2YWx1YXRpb24gZmFpbGVkYCk7XG59O1xuIiwiaW1wb3J0IHsgZGVidWdJZCwgdG9EZWJ1Z1N0cmluZyB9IGZyb20gXCIuL2RlYnVnXCI7XG5pbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGV2YWx1YXRlUnVsZXMgfSBmcm9tIFwiLi91dGlsc1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVFbmRwb2ludCA9IChydWxlU2V0T2JqZWN0LCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBlbmRwb2ludFBhcmFtcywgbG9nZ2VyIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgcGFyYW1ldGVycywgcnVsZXMgfSA9IHJ1bGVTZXRPYmplY3Q7XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnPy4oYCR7ZGVidWdJZH0gSW5pdGlhbCBFbmRwb2ludFBhcmFtczogJHt0b0RlYnVnU3RyaW5nKGVuZHBvaW50UGFyYW1zKX1gKTtcbiAgICBjb25zdCBwYXJhbXNXaXRoRGVmYXVsdCA9IE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpXG4gICAgICAgIC5maWx0ZXIoKFssIHZdKSA9PiB2LmRlZmF1bHQgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoW2ssIHZdKSA9PiBbaywgdi5kZWZhdWx0XSk7XG4gICAgaWYgKHBhcmFtc1dpdGhEZWZhdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBbcGFyYW1LZXksIHBhcmFtRGVmYXVsdFZhbHVlXSBvZiBwYXJhbXNXaXRoRGVmYXVsdCkge1xuICAgICAgICAgICAgZW5kcG9pbnRQYXJhbXNbcGFyYW1LZXldID0gZW5kcG9pbnRQYXJhbXNbcGFyYW1LZXldID8/IHBhcmFtRGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcXVpcmVkUGFyYW1zID0gT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycylcbiAgICAgICAgLmZpbHRlcigoWywgdl0pID0+IHYucmVxdWlyZWQpXG4gICAgICAgIC5tYXAoKFtrXSkgPT4gayk7XG4gICAgZm9yIChjb25zdCByZXF1aXJlZFBhcmFtIG9mIHJlcXVpcmVkUGFyYW1zKSB7XG4gICAgICAgIGlmIChlbmRwb2ludFBhcmFtc1tyZXF1aXJlZFBhcmFtXSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXI6ICcke3JlcXVpcmVkUGFyYW19J2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGVuZHBvaW50ID0gZXZhbHVhdGVSdWxlcyhydWxlcywgeyBlbmRwb2ludFBhcmFtcywgbG9nZ2VyLCByZWZlcmVuY2VSZWNvcmQ6IHt9IH0pO1xuICAgIGlmIChvcHRpb25zLmVuZHBvaW50UGFyYW1zPy5FbmRwb2ludCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZ2l2ZW5FbmRwb2ludCA9IG5ldyBVUkwob3B0aW9ucy5lbmRwb2ludFBhcmFtcy5FbmRwb2ludCk7XG4gICAgICAgICAgICBjb25zdCB7IHByb3RvY29sLCBwb3J0IH0gPSBnaXZlbkVuZHBvaW50O1xuICAgICAgICAgICAgZW5kcG9pbnQudXJsLnByb3RvY29sID0gcHJvdG9jb2w7XG4gICAgICAgICAgICBlbmRwb2ludC51cmwucG9ydCA9IHBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcHRpb25zLmxvZ2dlcj8uZGVidWc/LihgJHtkZWJ1Z0lkfSBSZXNvbHZlZCBlbmRwb2ludDogJHt0b0RlYnVnU3RyaW5nKGVuZHBvaW50KX1gKTtcbiAgICByZXR1cm4gZW5kcG9pbnQ7XG59O1xuIiwiZXhwb3J0IGNvbnN0IFVTRVJfQUdFTlQgPSBcInVzZXItYWdlbnRcIjtcbmV4cG9ydCBjb25zdCBYX0FNWl9VU0VSX0FHRU5UID0gXCJ4LWFtei11c2VyLWFnZW50XCI7XG5leHBvcnQgY29uc3QgU1BBQ0UgPSBcIiBcIjtcbmV4cG9ydCBjb25zdCBVQV9OQU1FX1NFUEFSQVRPUiA9IFwiL1wiO1xuZXhwb3J0IGNvbnN0IFVBX05BTUVfRVNDQVBFX1JFR0VYID0gL1teXFwhXFwkXFwlXFwmXFwnXFwqXFwrXFwtXFwuXFxeXFxfXFxgXFx8XFx+XFxkXFx3XS9nO1xuZXhwb3J0IGNvbnN0IFVBX1ZBTFVFX0VTQ0FQRV9SRUdFWCA9IC9bXlxcIVxcJFxcJVxcJlxcJ1xcKlxcK1xcLVxcLlxcXlxcX1xcYFxcfFxcflxcZFxcd1xcI10vZztcbmV4cG9ydCBjb25zdCBVQV9FU0NBUEVfQ0hBUiA9IFwiLVwiO1xuIiwiaW1wb3J0IHsgZ2V0VXNlckFnZW50UHJlZml4IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IFNQQUNFLCBVQV9FU0NBUEVfQ0hBUiwgVUFfTkFNRV9FU0NBUEVfUkVHRVgsIFVBX05BTUVfU0VQQVJBVE9SLCBVQV9WQUxVRV9FU0NBUEVfUkVHRVgsIFVTRVJfQUdFTlQsIFhfQU1aX1VTRVJfQUdFTlQsIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgdXNlckFnZW50TWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKVxuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICBjb25zdCB7IGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgdXNlckFnZW50ID0gY29udGV4dD8udXNlckFnZW50Py5tYXAoZXNjYXBlVXNlckFnZW50KSB8fCBbXTtcbiAgICBjb25zdCBkZWZhdWx0VXNlckFnZW50ID0gKGF3YWl0IG9wdGlvbnMuZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyKCkpLm1hcChlc2NhcGVVc2VyQWdlbnQpO1xuICAgIGNvbnN0IGN1c3RvbVVzZXJBZ2VudCA9IG9wdGlvbnM/LmN1c3RvbVVzZXJBZ2VudD8ubWFwKGVzY2FwZVVzZXJBZ2VudCkgfHwgW107XG4gICAgY29uc3QgcHJlZml4ID0gZ2V0VXNlckFnZW50UHJlZml4KCk7XG4gICAgY29uc3Qgc2RrVXNlckFnZW50VmFsdWUgPSAocHJlZml4ID8gW3ByZWZpeF0gOiBbXSlcbiAgICAgICAgLmNvbmNhdChbLi4uZGVmYXVsdFVzZXJBZ2VudCwgLi4udXNlckFnZW50LCAuLi5jdXN0b21Vc2VyQWdlbnRdKVxuICAgICAgICAuam9pbihTUEFDRSk7XG4gICAgY29uc3Qgbm9ybWFsVUFWYWx1ZSA9IFtcbiAgICAgICAgLi4uZGVmYXVsdFVzZXJBZ2VudC5maWx0ZXIoKHNlY3Rpb24pID0+IHNlY3Rpb24uc3RhcnRzV2l0aChcImF3cy1zZGstXCIpKSxcbiAgICAgICAgLi4uY3VzdG9tVXNlckFnZW50LFxuICAgIF0uam9pbihTUEFDRSk7XG4gICAgaWYgKG9wdGlvbnMucnVudGltZSAhPT0gXCJicm93c2VyXCIpIHtcbiAgICAgICAgaWYgKG5vcm1hbFVBVmFsdWUpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbWF9BTVpfVVNFUl9BR0VOVF0gPSBoZWFkZXJzW1hfQU1aX1VTRVJfQUdFTlRdXG4gICAgICAgICAgICAgICAgPyBgJHtoZWFkZXJzW1VTRVJfQUdFTlRdfSAke25vcm1hbFVBVmFsdWV9YFxuICAgICAgICAgICAgICAgIDogbm9ybWFsVUFWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJzW1VTRVJfQUdFTlRdID0gc2RrVXNlckFnZW50VmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBoZWFkZXJzW1hfQU1aX1VTRVJfQUdFTlRdID0gc2RrVXNlckFnZW50VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICB9KTtcbn07XG5jb25zdCBlc2NhcGVVc2VyQWdlbnQgPSAodXNlckFnZW50UGFpcikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSB1c2VyQWdlbnRQYWlyWzBdXG4gICAgICAgIC5zcGxpdChVQV9OQU1FX1NFUEFSQVRPUilcbiAgICAgICAgLm1hcCgocGFydCkgPT4gcGFydC5yZXBsYWNlKFVBX05BTUVfRVNDQVBFX1JFR0VYLCBVQV9FU0NBUEVfQ0hBUikpXG4gICAgICAgIC5qb2luKFVBX05BTUVfU0VQQVJBVE9SKTtcbiAgICBjb25zdCB2ZXJzaW9uID0gdXNlckFnZW50UGFpclsxXT8ucmVwbGFjZShVQV9WQUxVRV9FU0NBUEVfUkVHRVgsIFVBX0VTQ0FQRV9DSEFSKTtcbiAgICBjb25zdCBwcmVmaXhTZXBhcmF0b3JJbmRleCA9IG5hbWUuaW5kZXhPZihVQV9OQU1FX1NFUEFSQVRPUik7XG4gICAgY29uc3QgcHJlZml4ID0gbmFtZS5zdWJzdHJpbmcoMCwgcHJlZml4U2VwYXJhdG9ySW5kZXgpO1xuICAgIGxldCB1YU5hbWUgPSBuYW1lLnN1YnN0cmluZyhwcmVmaXhTZXBhcmF0b3JJbmRleCArIDEpO1xuICAgIGlmIChwcmVmaXggPT09IFwiYXBpXCIpIHtcbiAgICAgICAgdWFOYW1lID0gdWFOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBbcHJlZml4LCB1YU5hbWUsIHZlcnNpb25dXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKVxuICAgICAgICAucmVkdWNlKChhY2MsIGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaW5kZXgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7YWNjfS8ke2l0ZW19YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2FjY30jJHtpdGVtfWA7XG4gICAgICAgIH1cbiAgICB9LCBcIlwiKTtcbn07XG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJnZXRVc2VyQWdlbnRNaWRkbGV3YXJlXCIsXG4gICAgc3RlcDogXCJidWlsZFwiLFxuICAgIHByaW9yaXR5OiBcImxvd1wiLFxuICAgIHRhZ3M6IFtcIlNFVF9VU0VSX0FHRU5UXCIsIFwiVVNFUl9BR0VOVFwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UGx1Z2luID0gKGNvbmZpZykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGQodXNlckFnZW50TWlkZGxld2FyZShjb25maWcpLCBnZXRVc2VyQWdlbnRNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIiwiZXhwb3J0IHZhciBTZWxlY3RvclR5cGU7XG4oZnVuY3Rpb24gKFNlbGVjdG9yVHlwZSkge1xuICAgIFNlbGVjdG9yVHlwZVtcIkVOVlwiXSA9IFwiZW52XCI7XG4gICAgU2VsZWN0b3JUeXBlW1wiQ09ORklHXCJdID0gXCJzaGFyZWQgY29uZmlnIGVudHJ5XCI7XG59KShTZWxlY3RvclR5cGUgfHwgKFNlbGVjdG9yVHlwZSA9IHt9KSk7XG5leHBvcnQgY29uc3QgYm9vbGVhblNlbGVjdG9yID0gKG9iaiwga2V5LCB0eXBlKSA9PiB7XG4gICAgaWYgKCEoa2V5IGluIG9iaikpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKG9ialtrZXldID09PSBcInRydWVcIilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKG9ialtrZXldID09PSBcImZhbHNlXCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkICR7dHlwZX0gXCIke2tleX1cIi4gRXhwZWN0ZWQgXCJ0cnVlXCIgb3IgXCJmYWxzZVwiLCBnb3QgJHtvYmpba2V5XX0uYCk7XG59O1xuIiwiaW1wb3J0IHsgYm9vbGVhblNlbGVjdG9yLCBTZWxlY3RvclR5cGUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWNvbmZpZy1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9VU0VfRFVBTFNUQUNLX0VORFBPSU5UID0gXCJBV1NfVVNFX0RVQUxTVEFDS19FTkRQT0lOVFwiO1xuZXhwb3J0IGNvbnN0IENPTkZJR19VU0VfRFVBTFNUQUNLX0VORFBPSU5UID0gXCJ1c2VfZHVhbHN0YWNrX2VuZHBvaW50XCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9VU0VfRFVBTFNUQUNLX0VORFBPSU5UID0gZmFsc2U7XG5leHBvcnQgY29uc3QgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gYm9vbGVhblNlbGVjdG9yKGVudiwgRU5WX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQsIFNlbGVjdG9yVHlwZS5FTlYpLFxuICAgIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IGJvb2xlYW5TZWxlY3Rvcihwcm9maWxlLCBDT05GSUdfVVNFX0RVQUxTVEFDS19FTkRQT0lOVCwgU2VsZWN0b3JUeXBlLkNPTkZJRyksXG4gICAgZGVmYXVsdDogZmFsc2UsXG59O1xuIiwiaW1wb3J0IHsgYm9vbGVhblNlbGVjdG9yLCBTZWxlY3RvclR5cGUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWNvbmZpZy1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9VU0VfRklQU19FTkRQT0lOVCA9IFwiQVdTX1VTRV9GSVBTX0VORFBPSU5UXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX1VTRV9GSVBTX0VORFBPSU5UID0gXCJ1c2VfZmlwc19lbmRwb2ludFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVVNFX0ZJUFNfRU5EUE9JTlQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gYm9vbGVhblNlbGVjdG9yKGVudiwgRU5WX1VTRV9GSVBTX0VORFBPSU5ULCBTZWxlY3RvclR5cGUuRU5WKSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBib29sZWFuU2VsZWN0b3IocHJvZmlsZSwgQ09ORklHX1VTRV9GSVBTX0VORFBPSU5ULCBTZWxlY3RvclR5cGUuQ09ORklHKSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbn07XG4iLCJleHBvcnQgY29uc3QgUkVHSU9OX0VOVl9OQU1FID0gXCJBV1NfUkVHSU9OXCI7XG5leHBvcnQgY29uc3QgUkVHSU9OX0lOSV9OQU1FID0gXCJyZWdpb25cIjtcbmV4cG9ydCBjb25zdCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltSRUdJT05fRU5WX05BTUVdLFxuICAgIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHByb2ZpbGVbUkVHSU9OX0lOSV9OQU1FXSxcbiAgICBkZWZhdWx0OiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZ2lvbiBpcyBtaXNzaW5nXCIpO1xuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMgPSB7XG4gICAgcHJlZmVycmVkRmlsZTogXCJjcmVkZW50aWFsc1wiLFxufTtcbiIsImV4cG9ydCBjb25zdCBpc0ZpcHNSZWdpb24gPSAocmVnaW9uKSA9PiB0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiICYmIChyZWdpb24uc3RhcnRzV2l0aChcImZpcHMtXCIpIHx8IHJlZ2lvbi5lbmRzV2l0aChcIi1maXBzXCIpKTtcbiIsImltcG9ydCB7IGlzRmlwc1JlZ2lvbiB9IGZyb20gXCIuL2lzRmlwc1JlZ2lvblwiO1xuZXhwb3J0IGNvbnN0IGdldFJlYWxSZWdpb24gPSAocmVnaW9uKSA9PiBpc0ZpcHNSZWdpb24ocmVnaW9uKVxuICAgID8gW1wiZmlwcy1hd3MtZ2xvYmFsXCIsIFwiYXdzLWZpcHNcIl0uaW5jbHVkZXMocmVnaW9uKVxuICAgICAgICA/IFwidXMtZWFzdC0xXCJcbiAgICAgICAgOiByZWdpb24ucmVwbGFjZSgvZmlwcy0oZGtyLXxwcm9kLSk/fC1maXBzLywgXCJcIilcbiAgICA6IHJlZ2lvbjtcbiIsImltcG9ydCB7IGdldFJlYWxSZWdpb24gfSBmcm9tIFwiLi9nZXRSZWFsUmVnaW9uXCI7XG5pbXBvcnQgeyBpc0ZpcHNSZWdpb24gfSBmcm9tIFwiLi9pc0ZpcHNSZWdpb25cIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlUmVnaW9uQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgeyByZWdpb24sIHVzZUZpcHNFbmRwb2ludCB9ID0gaW5wdXQ7XG4gICAgaWYgKCFyZWdpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIGlzIG1pc3NpbmdcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICByZWdpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFJlYWxSZWdpb24ocmVnaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVkUmVnaW9uID0gYXdhaXQgcmVnaW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UmVhbFJlZ2lvbihwcm92aWRlZFJlZ2lvbik7XG4gICAgICAgIH0sXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZWRSZWdpb24gPSB0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiID8gcmVnaW9uIDogYXdhaXQgcmVnaW9uKCk7XG4gICAgICAgICAgICBpZiAoaXNGaXBzUmVnaW9uKHByb3ZpZGVkUmVnaW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB1c2VGaXBzRW5kcG9pbnQgIT09IFwiZnVuY3Rpb25cIiA/IFByb21pc2UucmVzb2x2ZSghIXVzZUZpcHNFbmRwb2ludCkgOiB1c2VGaXBzRW5kcG9pbnQoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuY29uc3QgQ09OVEVOVF9MRU5HVEhfSEVBREVSID0gXCJjb250ZW50LWxlbmd0aFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlKGJvZHlMZW5ndGhDaGVja2VyKSB7XG4gICAgcmV0dXJuIChuZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gYXJncy5yZXF1ZXN0O1xuICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICAgICAgY29uc3QgeyBib2R5LCBoZWFkZXJzIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgaWYgKGJvZHkgJiZcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChzdHIpID0+IHN0ci50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihDT05URU5UX0xFTkdUSF9IRUFERVIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGJvZHlMZW5ndGhDaGVja2VyKGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQ09OVEVOVF9MRU5HVEhfSEVBREVSXTogU3RyaW5nKGxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBjb250ZW50TGVuZ3RoTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgc3RlcDogXCJidWlsZFwiLFxuICAgIHRhZ3M6IFtcIlNFVF9DT05URU5UX0xFTkdUSFwiLCBcIkNPTlRFTlRfTEVOR1RIXCJdLFxuICAgIG5hbWU6IFwiY29udGVudExlbmd0aE1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0Q29udGVudExlbmd0aFBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChjb250ZW50TGVuZ3RoTWlkZGxld2FyZShvcHRpb25zLmJvZHlMZW5ndGhDaGVja2VyKSwgY29udGVudExlbmd0aE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJpbXBvcnQgeyBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlIH0gZnJvbSBcIi4vZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgc2VyaWFsaXplck1pZGRsZXdhcmUgfSBmcm9tIFwiLi9zZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuZXhwb3J0IGNvbnN0IGRlc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24gPSB7XG4gICAgbmFtZTogXCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCIsXG4gICAgc3RlcDogXCJkZXNlcmlhbGl6ZVwiLFxuICAgIHRhZ3M6IFtcIkRFU0VSSUFMSVpFUlwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3Qgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24gPSB7XG4gICAgbmFtZTogXCJzZXJpYWxpemVyTWlkZGxld2FyZVwiLFxuICAgIHN0ZXA6IFwic2VyaWFsaXplXCIsXG4gICAgdGFnczogW1wiU0VSSUFMSVpFUlwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyZGVQbHVnaW4oY29uZmlnLCBzZXJpYWxpemVyLCBkZXNlcmlhbGl6ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBseVRvU3RhY2s6IChjb21tYW5kU3RhY2spID0+IHtcbiAgICAgICAgICAgIGNvbW1hbmRTdGFjay5hZGQoZGVzZXJpYWxpemVyTWlkZGxld2FyZShjb25maWcsIGRlc2VyaWFsaXplciksIGRlc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24pO1xuICAgICAgICAgICAgY29tbWFuZFN0YWNrLmFkZChzZXJpYWxpemVyTWlkZGxld2FyZShjb25maWcsIHNlcmlhbGl6ZXIpLCBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbik7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlID0gKG9wdGlvbnMsIGRlc2VyaWFsaXplcikgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgY29uc3QgeyByZXNwb25zZSB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBkZXNlcmlhbGl6ZXIocmVzcG9uc2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICBvdXRwdXQ6IHBhcnNlZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCIkcmVzcG9uc2VcIiwge1xuICAgICAgICAgICAgdmFsdWU6IHJlc3BvbnNlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCEoXCIkbWV0YWRhdGFcIiBpbiBlcnJvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpbnQgPSBgRGVzZXJpYWxpemF0aW9uIGVycm9yOiB0byBzZWUgdGhlIHJhdyByZXNwb25zZSwgaW5zcGVjdCB0aGUgaGlkZGVuIGZpZWxkIHtlcnJvcn0uJHJlc3BvbnNlIG9uIHRoaXMgb2JqZWN0LmA7XG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlICs9IFwiXFxuICBcIiArIGhpbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBzZXJpYWxpemVyTWlkZGxld2FyZSA9IChvcHRpb25zLCBzZXJpYWxpemVyKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCBlbmRwb2ludCA9IGNvbnRleHQuZW5kcG9pbnRWMj8udXJsICYmIG9wdGlvbnMudXJsUGFyc2VyXG4gICAgICAgID8gYXN5bmMgKCkgPT4gb3B0aW9ucy51cmxQYXJzZXIoY29udGV4dC5lbmRwb2ludFYyLnVybClcbiAgICAgICAgOiBvcHRpb25zLmVuZHBvaW50O1xuICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsaWQgZW5kcG9pbnQgcHJvdmlkZXIgYXZhaWxhYmxlLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHNlcmlhbGl6ZXIoYXJncy5pbnB1dCwgeyAuLi5vcHRpb25zLCBlbmRwb2ludCB9KTtcbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgfSk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVQYXJhbXNGb3JTMyA9IGFzeW5jIChlbmRwb2ludFBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGJ1Y2tldCA9IGVuZHBvaW50UGFyYW1zPy5CdWNrZXQgfHwgXCJcIjtcbiAgICBpZiAodHlwZW9mIGVuZHBvaW50UGFyYW1zLkJ1Y2tldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBlbmRwb2ludFBhcmFtcy5CdWNrZXQgPSBidWNrZXQucmVwbGFjZSgvIy9nLCBlbmNvZGVVUklDb21wb25lbnQoXCIjXCIpKS5yZXBsYWNlKC9cXD8vZywgZW5jb2RlVVJJQ29tcG9uZW50KFwiP1wiKSk7XG4gICAgfVxuICAgIGlmIChpc0FybkJ1Y2tldE5hbWUoYnVja2V0KSkge1xuICAgICAgICBpZiAoZW5kcG9pbnRQYXJhbXMuRm9yY2VQYXRoU3R5bGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGgtc3R5bGUgYWRkcmVzc2luZyBjYW5ub3QgYmUgdXNlZCB3aXRoIEFSTiBidWNrZXRzXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc0Ruc0NvbXBhdGlibGVCdWNrZXROYW1lKGJ1Y2tldCkgfHxcbiAgICAgICAgKGJ1Y2tldC5pbmRleE9mKFwiLlwiKSAhPT0gLTEgJiYgIVN0cmluZyhlbmRwb2ludFBhcmFtcy5FbmRwb2ludCkuc3RhcnRzV2l0aChcImh0dHA6XCIpKSB8fFxuICAgICAgICBidWNrZXQudG9Mb3dlckNhc2UoKSAhPT0gYnVja2V0IHx8XG4gICAgICAgIGJ1Y2tldC5sZW5ndGggPCAzKSB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zLkZvcmNlUGF0aFN0eWxlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVuZHBvaW50UGFyYW1zLkRpc2FibGVNdWx0aVJlZ2lvbkFjY2Vzc1BvaW50cykge1xuICAgICAgICBlbmRwb2ludFBhcmFtcy5kaXNhYmxlTXVsdGlSZWdpb25BY2Nlc3NQb2ludHMgPSB0cnVlO1xuICAgICAgICBlbmRwb2ludFBhcmFtcy5EaXNhYmxlTVJBUCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBlbmRwb2ludFBhcmFtcztcbn07XG5jb25zdCBET01BSU5fUEFUVEVSTiA9IC9eW2EtejAtOV1bYS16MC05XFwuXFwtXXsxLDYxfVthLXowLTldJC87XG5jb25zdCBJUF9BRERSRVNTX1BBVFRFUk4gPSAvKFxcZCtcXC4pezN9XFxkKy87XG5jb25zdCBET1RTX1BBVFRFUk4gPSAvXFwuXFwuLztcbmV4cG9ydCBjb25zdCBET1RfUEFUVEVSTiA9IC9cXC4vO1xuZXhwb3J0IGNvbnN0IFMzX0hPU1ROQU1FX1BBVFRFUk4gPSAvXiguK1xcLik/czMoLWZpcHMpPyhcXC5kdWFsc3RhY2spP1suLV0oW2EtejAtOS1dKylcXC4vO1xuZXhwb3J0IGNvbnN0IGlzRG5zQ29tcGF0aWJsZUJ1Y2tldE5hbWUgPSAoYnVja2V0TmFtZSkgPT4gRE9NQUlOX1BBVFRFUk4udGVzdChidWNrZXROYW1lKSAmJiAhSVBfQUREUkVTU19QQVRURVJOLnRlc3QoYnVja2V0TmFtZSkgJiYgIURPVFNfUEFUVEVSTi50ZXN0KGJ1Y2tldE5hbWUpO1xuZXhwb3J0IGNvbnN0IGlzQXJuQnVja2V0TmFtZSA9IChidWNrZXROYW1lKSA9PiB7XG4gICAgY29uc3QgW2FybiwgcGFydGl0aW9uLCBzZXJ2aWNlLCByZWdpb24sIGFjY291bnQsIHR5cGVPcklkXSA9IGJ1Y2tldE5hbWUuc3BsaXQoXCI6XCIpO1xuICAgIGNvbnN0IGlzQXJuID0gYXJuID09PSBcImFyblwiICYmIGJ1Y2tldE5hbWUuc3BsaXQoXCI6XCIpLmxlbmd0aCA+PSA2O1xuICAgIGNvbnN0IGlzVmFsaWRBcm4gPSBbYXJuLCBwYXJ0aXRpb24sIHNlcnZpY2UsIGFjY291bnQsIHR5cGVPcklkXS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoID09PSA1O1xuICAgIGlmIChpc0FybiAmJiAhaXNWYWxpZEFybikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQVJOOiAke2J1Y2tldE5hbWV9IHdhcyBhbiBpbnZhbGlkIEFSTi5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGFybiA9PT0gXCJhcm5cIiAmJiAhIXBhcnRpdGlvbiAmJiAhIXNlcnZpY2UgJiYgISFhY2NvdW50ICYmICEhdHlwZU9ySWQ7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbmZpZ1ZhbHVlUHJvdmlkZXIgPSAoY29uZmlnS2V5LCBjYW5vbmljYWxFbmRwb2ludFBhcmFtS2V5LCBjb25maWcpID0+IHtcbiAgICBjb25zdCBjb25maWdQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY29uZmlnVmFsdWUgPSBjb25maWdbY29uZmlnS2V5XSA/PyBjb25maWdbY2Fub25pY2FsRW5kcG9pbnRQYXJhbUtleV07XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnVmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ1ZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmZpZ1ZhbHVlO1xuICAgIH07XG4gICAgaWYgKGNvbmZpZ0tleSA9PT0gXCJlbmRwb2ludFwiIHx8IGNhbm9uaWNhbEVuZHBvaW50UGFyYW1LZXkgPT09IFwiZW5kcG9pbnRcIikge1xuICAgICAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBhd2FpdCBjb25maWdQcm92aWRlcigpO1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50ICYmIHR5cGVvZiBlbmRwb2ludCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcInVybFwiIGluIGVuZHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmRwb2ludC51cmwuaHJlZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFwiaG9zdG5hbWVcIiBpbiBlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHByb3RvY29sLCBob3N0bmFtZSwgcG9ydCwgcGF0aCB9ID0gZW5kcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9JHtwb3J0ID8gXCI6XCIgKyBwb3J0IDogXCJcIn0ke3BhdGh9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjb25maWdQcm92aWRlcjtcbn07XG4iLCJpbXBvcnQgeyByZXNvbHZlUGFyYW1zRm9yUzMgfSBmcm9tIFwiLi4vc2VydmljZS1jdXN0b21pemF0aW9uc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29uZmlnVmFsdWVQcm92aWRlciB9IGZyb20gXCIuL2NyZWF0ZUNvbmZpZ1ZhbHVlUHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludEZyb21JbnN0cnVjdGlvbnMgPSBhc3luYyAoY29tbWFuZElucHV0LCBpbnN0cnVjdGlvbnNTdXBwbGllciwgY2xpZW50Q29uZmlnLCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnRQYXJhbXMgPSBhd2FpdCByZXNvbHZlUGFyYW1zKGNvbW1hbmRJbnB1dCwgaW5zdHJ1Y3Rpb25zU3VwcGxpZXIsIGNsaWVudENvbmZpZyk7XG4gICAgaWYgKHR5cGVvZiBjbGllbnRDb25maWcuZW5kcG9pbnRQcm92aWRlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvbmZpZy5lbmRwb2ludFByb3ZpZGVyIGlzIG5vdCBzZXQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGNsaWVudENvbmZpZy5lbmRwb2ludFByb3ZpZGVyKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW5kcG9pbnQ7XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQYXJhbXMgPSBhc3luYyAoY29tbWFuZElucHV0LCBpbnN0cnVjdGlvbnNTdXBwbGllciwgY2xpZW50Q29uZmlnKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnRQYXJhbXMgPSB7fTtcbiAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnNTdXBwbGllcj8uZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnM/LigpIHx8IHt9O1xuICAgIGZvciAoY29uc3QgW25hbWUsIGluc3RydWN0aW9uXSBvZiBPYmplY3QuZW50cmllcyhpbnN0cnVjdGlvbnMpKSB7XG4gICAgICAgIHN3aXRjaCAoaW5zdHJ1Y3Rpb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInN0YXRpY0NvbnRleHRQYXJhbXNcIjpcbiAgICAgICAgICAgICAgICBlbmRwb2ludFBhcmFtc1tuYW1lXSA9IGluc3RydWN0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRleHRQYXJhbXNcIjpcbiAgICAgICAgICAgICAgICBlbmRwb2ludFBhcmFtc1tuYW1lXSA9IGNvbW1hbmRJbnB1dFtpbnN0cnVjdGlvbi5uYW1lXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjbGllbnRDb250ZXh0UGFyYW1zXCI6XG4gICAgICAgICAgICBjYXNlIFwiYnVpbHRJblBhcmFtc1wiOlxuICAgICAgICAgICAgICAgIGVuZHBvaW50UGFyYW1zW25hbWVdID0gYXdhaXQgY3JlYXRlQ29uZmlnVmFsdWVQcm92aWRlcihpbnN0cnVjdGlvbi5uYW1lLCBuYW1lLCBjbGllbnRDb25maWcpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBlbmRwb2ludCBwYXJhbWV0ZXIgaW5zdHJ1Y3Rpb246IFwiICsgSlNPTi5zdHJpbmdpZnkoaW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMoaW5zdHJ1Y3Rpb25zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbmRwb2ludFBhcmFtcywgY2xpZW50Q29uZmlnKTtcbiAgICB9XG4gICAgaWYgKFN0cmluZyhjbGllbnRDb25maWcuc2VydmljZUlkKS50b0xvd2VyQ2FzZSgpID09PSBcInMzXCIpIHtcbiAgICAgICAgYXdhaXQgcmVzb2x2ZVBhcmFtc0ZvclMzKGVuZHBvaW50UGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZHBvaW50UGFyYW1zO1xufTtcbiIsImltcG9ydCB7IHNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgZW5kcG9pbnRNaWRkbGV3YXJlIH0gZnJvbSBcIi4vZW5kcG9pbnRNaWRkbGV3YXJlXCI7XG5leHBvcnQgY29uc3QgZW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBzdGVwOiBcInNlcmlhbGl6ZVwiLFxuICAgIHRhZ3M6IFtcIkVORFBPSU5UX1BBUkFNRVRFUlNcIiwgXCJFTkRQT0lOVF9WMlwiLCBcIkVORFBPSU5UXCJdLFxuICAgIG5hbWU6IFwiZW5kcG9pbnRWMk1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbiAgICByZWxhdGlvbjogXCJiZWZvcmVcIixcbiAgICB0b01pZGRsZXdhcmU6IHNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uLm5hbWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50UGx1Z2luID0gKGNvbmZpZywgaW5zdHJ1Y3Rpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oZW5kcG9pbnRNaWRkbGV3YXJlKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgfSksIGVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucyB9IGZyb20gXCIuL2FkYXB0b3JzL2dldEVuZHBvaW50RnJvbUluc3RydWN0aW9uc1wiO1xuZXhwb3J0IGNvbnN0IGVuZHBvaW50TWlkZGxld2FyZSA9ICh7IGNvbmZpZywgaW5zdHJ1Y3Rpb25zLCB9KSA9PiB7XG4gICAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucyhhcmdzLmlucHV0LCB7XG4gICAgICAgICAgICBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgeyAuLi5jb25maWcgfSwgY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuZW5kcG9pbnRWMiA9IGVuZHBvaW50O1xuICAgICAgICBjb250ZXh0LmF1dGhTY2hlbWVzID0gZW5kcG9pbnQucHJvcGVydGllcz8uYXV0aFNjaGVtZXM7XG4gICAgICAgIGNvbnN0IGF1dGhTY2hlbWUgPSBjb250ZXh0LmF1dGhTY2hlbWVzPy5bMF07XG4gICAgICAgIGlmIChhdXRoU2NoZW1lKSB7XG4gICAgICAgICAgICBjb250ZXh0W1wic2lnbmluZ19yZWdpb25cIl0gPSBhdXRoU2NoZW1lLnNpZ25pbmdSZWdpb247XG4gICAgICAgICAgICBjb250ZXh0W1wic2lnbmluZ19zZXJ2aWNlXCJdID0gYXV0aFNjaGVtZS5zaWduaW5nTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICB9KTtcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcgfSBmcm9tIFwiQHNtaXRoeS9xdWVyeXN0cmluZy1wYXJzZXJcIjtcbmV4cG9ydCBjb25zdCBwYXJzZVVybCA9ICh1cmwpID0+IHtcbiAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VVcmwobmV3IFVSTCh1cmwpKTtcbiAgICB9XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcGF0aG5hbWUsIHBvcnQsIHByb3RvY29sLCBzZWFyY2ggfSA9IHVybDtcbiAgICBsZXQgcXVlcnk7XG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgICBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcoc2VhcmNoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHBvcnQgPyBwYXJzZUludChwb3J0KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIHBhdGg6IHBhdGhuYW1lLFxuICAgICAgICBxdWVyeSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5c3RyaW5nKSB7XG4gICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICBxdWVyeXN0cmluZyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCBcIlwiKTtcbiAgICBpZiAocXVlcnlzdHJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHF1ZXJ5c3RyaW5nLnNwbGl0KFwiJlwiKSkge1xuICAgICAgICAgICAgbGV0IFtrZXksIHZhbHVlID0gbnVsbF0gPSBwYWlyLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocXVlcnlba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVtrZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVlcnlba2V5XSA9IFtxdWVyeVtrZXldLCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xufVxuIiwiaW1wb3J0IHsgbm9ybWFsaXplUHJvdmlkZXIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLW1pZGRsZXdhcmVcIjtcbmltcG9ydCB7IHRvRW5kcG9pbnRWMSB9IGZyb20gXCIuL2FkYXB0b3JzL3RvRW5kcG9pbnRWMVwiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVFbmRwb2ludENvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHRscyA9IGlucHV0LnRscyA/PyB0cnVlO1xuICAgIGNvbnN0IHsgZW5kcG9pbnQgfSA9IGlucHV0O1xuICAgIGNvbnN0IGN1c3RvbUVuZHBvaW50UHJvdmlkZXIgPSBlbmRwb2ludCAhPSBudWxsID8gYXN5bmMgKCkgPT4gdG9FbmRwb2ludFYxKGF3YWl0IG5vcm1hbGl6ZVByb3ZpZGVyKGVuZHBvaW50KSgpKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBpc0N1c3RvbUVuZHBvaW50ID0gISFlbmRwb2ludDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgZW5kcG9pbnQ6IGN1c3RvbUVuZHBvaW50UHJvdmlkZXIsXG4gICAgICAgIHRscyxcbiAgICAgICAgaXNDdXN0b21FbmRwb2ludCxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBub3JtYWxpemVQcm92aWRlcihpbnB1dC51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5leHBvcnQgY29uc3QgdG9FbmRwb2ludFYxID0gKGVuZHBvaW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBlbmRwb2ludCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoXCJ1cmxcIiBpbiBlbmRwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXJsKGVuZHBvaW50LnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZHBvaW50O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VVcmwoZW5kcG9pbnQpO1xufTtcbiIsImV4cG9ydCB2YXIgUkVUUllfTU9ERVM7XG4oZnVuY3Rpb24gKFJFVFJZX01PREVTKSB7XG4gICAgUkVUUllfTU9ERVNbXCJTVEFOREFSRFwiXSA9IFwic3RhbmRhcmRcIjtcbiAgICBSRVRSWV9NT0RFU1tcIkFEQVBUSVZFXCJdID0gXCJhZGFwdGl2ZVwiO1xufSkoUkVUUllfTU9ERVMgfHwgKFJFVFJZX01PREVTID0ge30pKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX01BWF9BVFRFTVBUUyA9IDM7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVRSWV9NT0RFID0gUkVUUllfTU9ERVMuU1RBTkRBUkQ7XG4iLCJleHBvcnQgY29uc3QgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUyA9IFtcbiAgICBcIkF1dGhGYWlsdXJlXCIsXG4gICAgXCJJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uXCIsXG4gICAgXCJSZXF1ZXN0RXhwaXJlZFwiLFxuICAgIFwiUmVxdWVzdEluVGhlRnV0dXJlXCIsXG4gICAgXCJSZXF1ZXN0VGltZVRvb1NrZXdlZFwiLFxuICAgIFwiU2lnbmF0dXJlRG9lc05vdE1hdGNoXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRIUk9UVExJTkdfRVJST1JfQ09ERVMgPSBbXG4gICAgXCJCYW5kd2lkdGhMaW1pdEV4Y2VlZGVkXCIsXG4gICAgXCJFQzJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICBcIlByaW9yUmVxdWVzdE5vdENvbXBsZXRlXCIsXG4gICAgXCJQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgIFwiUmVxdWVzdExpbWl0RXhjZWVkZWRcIixcbiAgICBcIlJlcXVlc3RUaHJvdHRsZWRcIixcbiAgICBcIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIlNsb3dEb3duXCIsXG4gICAgXCJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIlRocm90dGxpbmdcIixcbiAgICBcIlRocm90dGxpbmdFeGNlcHRpb25cIixcbiAgICBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiLFxuICAgIFwiVHJhbnNhY3Rpb25JblByb2dyZXNzRXhjZXB0aW9uXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9DT0RFUyA9IFtcIlRpbWVvdXRFcnJvclwiLCBcIlJlcXVlc3RUaW1lb3V0XCIsIFwiUmVxdWVzdFRpbWVvdXRFeGNlcHRpb25cIl07XG5leHBvcnQgY29uc3QgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUyA9IFs1MDAsIDUwMiwgNTAzLCA1MDRdO1xuZXhwb3J0IGNvbnN0IE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTID0gW1wiRUNPTk5SRVNFVFwiLCBcIkVDT05OUkVGVVNFRFwiLCBcIkVQSVBFXCIsIFwiRVRJTUVET1VUXCJdO1xuIiwiaW1wb3J0IHsgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUywgTk9ERUpTX1RJTUVPVVRfRVJST1JfQ09ERVMsIFRIUk9UVExJTkdfRVJST1JfQ09ERVMsIFRSQU5TSUVOVF9FUlJPUl9DT0RFUywgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUywgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBpc1JldHJ5YWJsZUJ5VHJhaXQgPSAoZXJyb3IpID0+IGVycm9yLiRyZXRyeWFibGUgIT09IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBpc0Nsb2NrU2tld0Vycm9yID0gKGVycm9yKSA9PiBDTE9DS19TS0VXX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpO1xuZXhwb3J0IGNvbnN0IGlzVGhyb3R0bGluZ0Vycm9yID0gKGVycm9yKSA9PiBlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlID09PSA0MjkgfHxcbiAgICBUSFJPVFRMSU5HX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpIHx8XG4gICAgZXJyb3IuJHJldHJ5YWJsZT8udGhyb3R0bGluZyA9PSB0cnVlO1xuZXhwb3J0IGNvbnN0IGlzVHJhbnNpZW50RXJyb3IgPSAoZXJyb3IpID0+IFRSQU5TSUVOVF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKSB8fFxuICAgIE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yPy5jb2RlIHx8IFwiXCIpIHx8XG4gICAgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUy5pbmNsdWRlcyhlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlIHx8IDApO1xuZXhwb3J0IGNvbnN0IGlzU2VydmVyRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IuJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSBlcnJvci4kbWV0YWRhdGEuaHR0cFN0YXR1c0NvZGU7XG4gICAgICAgIGlmICg1MDAgPD0gc3RhdHVzQ29kZSAmJiBzdGF0dXNDb2RlIDw9IDU5OSAmJiAhaXNUcmFuc2llbnRFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbiIsImltcG9ydCB7IGlzVGhyb3R0bGluZ0Vycm9yIH0gZnJvbSBcIkBzbWl0aHkvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuZXhwb3J0IGNsYXNzIERlZmF1bHRSYXRlTGltaXRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RNYXhSYXRlID0gMDtcbiAgICAgICAgdGhpcy5tZWFzdXJlZFR4UmF0ZSA9IDA7XG4gICAgICAgIHRoaXMucmVxdWVzdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5sYXN0VGltZXN0YW1wID0gMDtcbiAgICAgICAgdGhpcy50aW1lV2luZG93ID0gMDtcbiAgICAgICAgdGhpcy5iZXRhID0gb3B0aW9ucz8uYmV0YSA/PyAwLjc7XG4gICAgICAgIHRoaXMubWluQ2FwYWNpdHkgPSBvcHRpb25zPy5taW5DYXBhY2l0eSA/PyAxO1xuICAgICAgICB0aGlzLm1pbkZpbGxSYXRlID0gb3B0aW9ucz8ubWluRmlsbFJhdGUgPz8gMC41O1xuICAgICAgICB0aGlzLnNjYWxlQ29uc3RhbnQgPSBvcHRpb25zPy5zY2FsZUNvbnN0YW50ID8/IDAuNDtcbiAgICAgICAgdGhpcy5zbW9vdGggPSBvcHRpb25zPy5zbW9vdGggPz8gMC44O1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZUluU2Vjb25kcyA9IHRoaXMuZ2V0Q3VycmVudFRpbWVJblNlY29uZHMoKTtcbiAgICAgICAgdGhpcy5sYXN0VGhyb3R0bGVUaW1lID0gY3VycmVudFRpbWVJblNlY29uZHM7XG4gICAgICAgIHRoaXMubGFzdFR4UmF0ZUJ1Y2tldCA9IE1hdGguZmxvb3IodGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpKTtcbiAgICAgICAgdGhpcy5maWxsUmF0ZSA9IHRoaXMubWluRmlsbFJhdGU7XG4gICAgICAgIHRoaXMubWF4Q2FwYWNpdHkgPSB0aGlzLm1pbkNhcGFjaXR5O1xuICAgIH1cbiAgICBnZXRDdXJyZW50VGltZUluU2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLyAxMDAwO1xuICAgIH1cbiAgICBhc3luYyBnZXRTZW5kVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmVUb2tlbkJ1Y2tldCgxKTtcbiAgICB9XG4gICAgYXN5bmMgYWNxdWlyZVRva2VuQnVja2V0KGFtb3VudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmaWxsVG9rZW5CdWNrZXQoKTtcbiAgICAgICAgaWYgKGFtb3VudCA+IHRoaXMuY3VycmVudENhcGFjaXR5KSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9ICgoYW1vdW50IC0gdGhpcy5jdXJyZW50Q2FwYWNpdHkpIC8gdGhpcy5maWxsUmF0ZSkgKiAxMDAwO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IHRoaXMuY3VycmVudENhcGFjaXR5IC0gYW1vdW50O1xuICAgIH1cbiAgICByZWZpbGxUb2tlbkJ1Y2tldCgpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpO1xuICAgICAgICBpZiAoIXRoaXMubGFzdFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbGxBbW91bnQgPSAodGltZXN0YW1wIC0gdGhpcy5sYXN0VGltZXN0YW1wKSAqIHRoaXMuZmlsbFJhdGU7XG4gICAgICAgIHRoaXMuY3VycmVudENhcGFjaXR5ID0gTWF0aC5taW4odGhpcy5tYXhDYXBhY2l0eSwgdGhpcy5jdXJyZW50Q2FwYWNpdHkgKyBmaWxsQW1vdW50KTtcbiAgICAgICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgIH1cbiAgICB1cGRhdGVDbGllbnRTZW5kaW5nUmF0ZShyZXNwb25zZSkge1xuICAgICAgICBsZXQgY2FsY3VsYXRlZFJhdGU7XG4gICAgICAgIHRoaXMudXBkYXRlTWVhc3VyZWRSYXRlKCk7XG4gICAgICAgIGlmIChpc1Rocm90dGxpbmdFcnJvcihyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhdGVUb1VzZSA9ICF0aGlzLmVuYWJsZWQgPyB0aGlzLm1lYXN1cmVkVHhSYXRlIDogTWF0aC5taW4odGhpcy5tZWFzdXJlZFR4UmF0ZSwgdGhpcy5maWxsUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RNYXhSYXRlID0gcmF0ZVRvVXNlO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lV2luZG93KCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RUaHJvdHRsZVRpbWUgPSB0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCk7XG4gICAgICAgICAgICBjYWxjdWxhdGVkUmF0ZSA9IHRoaXMuY3ViaWNUaHJvdHRsZShyYXRlVG9Vc2UpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVUb2tlbkJ1Y2tldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lV2luZG93KCk7XG4gICAgICAgICAgICBjYWxjdWxhdGVkUmF0ZSA9IHRoaXMuY3ViaWNTdWNjZXNzKHRoaXMuZ2V0Q3VycmVudFRpbWVJblNlY29uZHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3UmF0ZSA9IE1hdGgubWluKGNhbGN1bGF0ZWRSYXRlLCAyICogdGhpcy5tZWFzdXJlZFR4UmF0ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlVG9rZW5CdWNrZXRSYXRlKG5ld1JhdGUpO1xuICAgIH1cbiAgICBjYWxjdWxhdGVUaW1lV2luZG93KCkge1xuICAgICAgICB0aGlzLnRpbWVXaW5kb3cgPSB0aGlzLmdldFByZWNpc2UoTWF0aC5wb3coKHRoaXMubGFzdE1heFJhdGUgKiAoMSAtIHRoaXMuYmV0YSkpIC8gdGhpcy5zY2FsZUNvbnN0YW50LCAxIC8gMykpO1xuICAgIH1cbiAgICBjdWJpY1Rocm90dGxlKHJhdGVUb1VzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcmVjaXNlKHJhdGVUb1VzZSAqIHRoaXMuYmV0YSk7XG4gICAgfVxuICAgIGN1YmljU3VjY2Vzcyh0aW1lc3RhbXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJlY2lzZSh0aGlzLnNjYWxlQ29uc3RhbnQgKiBNYXRoLnBvdyh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaHJvdHRsZVRpbWUgLSB0aGlzLnRpbWVXaW5kb3csIDMpICsgdGhpcy5sYXN0TWF4UmF0ZSk7XG4gICAgfVxuICAgIGVuYWJsZVRva2VuQnVja2V0KCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICB1cGRhdGVUb2tlbkJ1Y2tldFJhdGUobmV3UmF0ZSkge1xuICAgICAgICB0aGlzLnJlZmlsbFRva2VuQnVja2V0KCk7XG4gICAgICAgIHRoaXMuZmlsbFJhdGUgPSBNYXRoLm1heChuZXdSYXRlLCB0aGlzLm1pbkZpbGxSYXRlKTtcbiAgICAgICAgdGhpcy5tYXhDYXBhY2l0eSA9IE1hdGgubWF4KG5ld1JhdGUsIHRoaXMubWluQ2FwYWNpdHkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IE1hdGgubWluKHRoaXMuY3VycmVudENhcGFjaXR5LCB0aGlzLm1heENhcGFjaXR5KTtcbiAgICB9XG4gICAgdXBkYXRlTWVhc3VyZWRSYXRlKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpO1xuICAgICAgICBjb25zdCB0aW1lQnVja2V0ID0gTWF0aC5mbG9vcih0ICogMikgLyAyO1xuICAgICAgICB0aGlzLnJlcXVlc3RDb3VudCsrO1xuICAgICAgICBpZiAodGltZUJ1Y2tldCA+IHRoaXMubGFzdFR4UmF0ZUJ1Y2tldCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFJhdGUgPSB0aGlzLnJlcXVlc3RDb3VudCAvICh0aW1lQnVja2V0IC0gdGhpcy5sYXN0VHhSYXRlQnVja2V0KTtcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZWRUeFJhdGUgPSB0aGlzLmdldFByZWNpc2UoY3VycmVudFJhdGUgKiB0aGlzLnNtb290aCArIHRoaXMubWVhc3VyZWRUeFJhdGUgKiAoMSAtIHRoaXMuc21vb3RoKSk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLmxhc3RUeFJhdGVCdWNrZXQgPSB0aW1lQnVja2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFByZWNpc2UobnVtKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KG51bS50b0ZpeGVkKDgpKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFID0gMTAwO1xuZXhwb3J0IGNvbnN0IE1BWElNVU1fUkVUUllfREVMQVkgPSAyMCAqIDEwMDA7XG5leHBvcnQgY29uc3QgVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFID0gNTAwO1xuZXhwb3J0IGNvbnN0IElOSVRJQUxfUkVUUllfVE9LRU5TID0gNTAwO1xuZXhwb3J0IGNvbnN0IFJFVFJZX0NPU1QgPSA1O1xuZXhwb3J0IGNvbnN0IFRJTUVPVVRfUkVUUllfQ09TVCA9IDEwO1xuZXhwb3J0IGNvbnN0IE5PX1JFVFJZX0lOQ1JFTUVOVCA9IDE7XG5leHBvcnQgY29uc3QgSU5WT0NBVElPTl9JRF9IRUFERVIgPSBcImFtei1zZGstaW52b2NhdGlvbi1pZFwiO1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfSEVBREVSID0gXCJhbXotc2RrLXJlcXVlc3RcIjtcbiIsImltcG9ydCB7IE1BWElNVU1fUkVUUllfREVMQVkgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbiA9ICh7IHJldHJ5RGVsYXksIHJldHJ5Q291bnQsIHJldHJ5Q29zdCwgfSkgPT4ge1xuICAgIGNvbnN0IGdldFJldHJ5Q291bnQgPSAoKSA9PiByZXRyeUNvdW50O1xuICAgIGNvbnN0IGdldFJldHJ5RGVsYXkgPSAoKSA9PiBNYXRoLm1pbihNQVhJTVVNX1JFVFJZX0RFTEFZLCByZXRyeURlbGF5KTtcbiAgICBjb25zdCBnZXRSZXRyeUNvc3QgPSAoKSA9PiByZXRyeUNvc3Q7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0UmV0cnlDb3VudCxcbiAgICAgICAgZ2V0UmV0cnlEZWxheSxcbiAgICAgICAgZ2V0UmV0cnlDb3N0LFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgREVGQVVMVF9NQVhfQVRURU1QVFMsIFJFVFJZX01PREVTIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsIElOSVRJQUxfUkVUUllfVE9LRU5TLCBOT19SRVRSWV9JTkNSRU1FTlQsIFJFVFJZX0NPU1QsIFRIUk9UVExJTkdfUkVUUllfREVMQVlfQkFTRSwgVElNRU9VVF9SRVRSWV9DT1NULCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFJldHJ5QmFja29mZlN0cmF0ZWd5IH0gZnJvbSBcIi4vZGVmYXVsdFJldHJ5QmFja29mZlN0cmF0ZWd5XCI7XG5pbXBvcnQgeyBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbiB9IGZyb20gXCIuL2RlZmF1bHRSZXRyeVRva2VuXCI7XG5leHBvcnQgY2xhc3MgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihtYXhBdHRlbXB0cykge1xuICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gbWF4QXR0ZW1wdHM7XG4gICAgICAgIHRoaXMubW9kZSA9IFJFVFJZX01PREVTLlNUQU5EQVJEO1xuICAgICAgICB0aGlzLmNhcGFjaXR5ID0gSU5JVElBTF9SRVRSWV9UT0tFTlM7XG4gICAgICAgIHRoaXMucmV0cnlCYWNrb2ZmU3RyYXRlZ3kgPSBnZXREZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3koKTtcbiAgICAgICAgdGhpcy5tYXhBdHRlbXB0c1Byb3ZpZGVyID0gdHlwZW9mIG1heEF0dGVtcHRzID09PSBcImZ1bmN0aW9uXCIgPyBtYXhBdHRlbXB0cyA6IGFzeW5jICgpID0+IG1heEF0dGVtcHRzO1xuICAgIH1cbiAgICBhc3luYyBhY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4ocmV0cnlUb2tlblNjb3BlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbih7XG4gICAgICAgICAgICByZXRyeURlbGF5OiBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsXG4gICAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcmVmcmVzaFJldHJ5VG9rZW5Gb3JSZXRyeSh0b2tlbiwgZXJyb3JJbmZvKSB7XG4gICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gYXdhaXQgdGhpcy5nZXRNYXhBdHRlbXB0cygpO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRSZXRyeSh0b2tlbiwgZXJyb3JJbmZvLCBtYXhBdHRlbXB0cykpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVHlwZSA9IGVycm9ySW5mby5lcnJvclR5cGU7XG4gICAgICAgICAgICB0aGlzLnJldHJ5QmFja29mZlN0cmF0ZWd5LnNldERlbGF5QmFzZShlcnJvclR5cGUgPT09IFwiVEhST1RUTElOR1wiID8gVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFIDogREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RnJvbUVycm9yVHlwZSA9IHRoaXMucmV0cnlCYWNrb2ZmU3RyYXRlZ3kuY29tcHV0ZU5leHRCYWNrb2ZmRGVsYXkodG9rZW4uZ2V0UmV0cnlDb3VudCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5RGVsYXkgPSBlcnJvckluZm8ucmV0cnlBZnRlckhpbnRcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KGVycm9ySW5mby5yZXRyeUFmdGVySGludC5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIHx8IDAsIGRlbGF5RnJvbUVycm9yVHlwZSlcbiAgICAgICAgICAgICAgICA6IGRlbGF5RnJvbUVycm9yVHlwZTtcbiAgICAgICAgICAgIGNvbnN0IGNhcGFjaXR5Q29zdCA9IHRoaXMuZ2V0Q2FwYWNpdHlDb3N0KGVycm9yVHlwZSk7XG4gICAgICAgICAgICB0aGlzLmNhcGFjaXR5IC09IGNhcGFjaXR5Q29zdDtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbih7XG4gICAgICAgICAgICAgICAgcmV0cnlEZWxheSxcbiAgICAgICAgICAgICAgICByZXRyeUNvdW50OiB0b2tlbi5nZXRSZXRyeUNvdW50KCkgKyAxLFxuICAgICAgICAgICAgICAgIHJldHJ5Q29zdDogY2FwYWNpdHlDb3N0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cnkgdG9rZW4gYXZhaWxhYmxlXCIpO1xuICAgIH1cbiAgICByZWNvcmRTdWNjZXNzKHRva2VuKSB7XG4gICAgICAgIHRoaXMuY2FwYWNpdHkgPSBNYXRoLm1heChJTklUSUFMX1JFVFJZX1RPS0VOUywgdGhpcy5jYXBhY2l0eSArICh0b2tlbi5nZXRSZXRyeUNvc3QoKSA/PyBOT19SRVRSWV9JTkNSRU1FTlQpKTtcbiAgICB9XG4gICAgZ2V0Q2FwYWNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcGFjaXR5O1xuICAgIH1cbiAgICBhc3luYyBnZXRNYXhBdHRlbXB0cygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTWF4IGF0dGVtcHRzIHByb3ZpZGVyIGNvdWxkIG5vdCByZXNvbHZlLiBVc2luZyBkZWZhdWx0IG9mICR7REVGQVVMVF9NQVhfQVRURU1QVFN9YCk7XG4gICAgICAgICAgICByZXR1cm4gREVGQVVMVF9NQVhfQVRURU1QVFM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdWxkUmV0cnkodG9rZW5Ub1JlbmV3LCBlcnJvckluZm8sIG1heEF0dGVtcHRzKSB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHRzID0gdG9rZW5Ub1JlbmV3LmdldFJldHJ5Q291bnQoKSArIDE7XG4gICAgICAgIHJldHVybiAoYXR0ZW1wdHMgPCBtYXhBdHRlbXB0cyAmJlxuICAgICAgICAgICAgdGhpcy5jYXBhY2l0eSA+PSB0aGlzLmdldENhcGFjaXR5Q29zdChlcnJvckluZm8uZXJyb3JUeXBlKSAmJlxuICAgICAgICAgICAgdGhpcy5pc1JldHJ5YWJsZUVycm9yKGVycm9ySW5mby5lcnJvclR5cGUpKTtcbiAgICB9XG4gICAgZ2V0Q2FwYWNpdHlDb3N0KGVycm9yVHlwZSkge1xuICAgICAgICByZXR1cm4gZXJyb3JUeXBlID09PSBcIlRSQU5TSUVOVFwiID8gVElNRU9VVF9SRVRSWV9DT1NUIDogUkVUUllfQ09TVDtcbiAgICB9XG4gICAgaXNSZXRyeWFibGVFcnJvcihlcnJvclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yVHlwZSA9PT0gXCJUSFJPVFRMSU5HXCIgfHwgZXJyb3JUeXBlID09PSBcIlRSQU5TSUVOVFwiO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSwgTUFYSU1VTV9SRVRSWV9ERUxBWSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSZXRyeUJhY2tvZmZTdHJhdGVneSA9ICgpID0+IHtcbiAgICBsZXQgZGVsYXlCYXNlID0gREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFO1xuICAgIGNvbnN0IGNvbXB1dGVOZXh0QmFja29mZkRlbGF5ID0gKGF0dGVtcHRzKSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgubWluKE1BWElNVU1fUkVUUllfREVMQVksIE1hdGgucmFuZG9tKCkgKiAyICoqIGF0dGVtcHRzICogZGVsYXlCYXNlKSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXREZWxheUJhc2UgPSAoZGVsYXkpID0+IHtcbiAgICAgICAgZGVsYXlCYXNlID0gZGVsYXk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb21wdXRlTmV4dEJhY2tvZmZEZWxheSxcbiAgICAgICAgc2V0RGVsYXlCYXNlLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgUkVUUllfTU9ERVMgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IERlZmF1bHRSYXRlTGltaXRlciB9IGZyb20gXCIuL0RlZmF1bHRSYXRlTGltaXRlclwiO1xuaW1wb3J0IHsgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5IH0gZnJvbSBcIi4vU3RhbmRhcmRSZXRyeVN0cmF0ZWd5XCI7XG5leHBvcnQgY2xhc3MgQWRhcHRpdmVSZXRyeVN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihtYXhBdHRlbXB0c1Byb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWF4QXR0ZW1wdHNQcm92aWRlciA9IG1heEF0dGVtcHRzUHJvdmlkZXI7XG4gICAgICAgIHRoaXMubW9kZSA9IFJFVFJZX01PREVTLkFEQVBUSVZFO1xuICAgICAgICBjb25zdCB7IHJhdGVMaW1pdGVyIH0gPSBvcHRpb25zID8/IHt9O1xuICAgICAgICB0aGlzLnJhdGVMaW1pdGVyID0gcmF0ZUxpbWl0ZXIgPz8gbmV3IERlZmF1bHRSYXRlTGltaXRlcigpO1xuICAgICAgICB0aGlzLnN0YW5kYXJkUmV0cnlTdHJhdGVneSA9IG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHNQcm92aWRlcik7XG4gICAgfVxuICAgIGFzeW5jIGFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihyZXRyeVRva2VuU2NvcGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yYXRlTGltaXRlci5nZXRTZW5kVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhbmRhcmRSZXRyeVN0cmF0ZWd5LmFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihyZXRyeVRva2VuU2NvcGUpO1xuICAgIH1cbiAgICBhc3luYyByZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5KHRva2VuVG9SZW5ldywgZXJyb3JJbmZvKSB7XG4gICAgICAgIHRoaXMucmF0ZUxpbWl0ZXIudXBkYXRlQ2xpZW50U2VuZGluZ1JhdGUoZXJyb3JJbmZvKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhbmRhcmRSZXRyeVN0cmF0ZWd5LnJlZnJlc2hSZXRyeVRva2VuRm9yUmV0cnkodG9rZW5Ub1JlbmV3LCBlcnJvckluZm8pO1xuICAgIH1cbiAgICByZWNvcmRTdWNjZXNzKHRva2VuKSB7XG4gICAgICAgIHRoaXMucmF0ZUxpbWl0ZXIudXBkYXRlQ2xpZW50U2VuZGluZ1JhdGUoe30pO1xuICAgICAgICB0aGlzLnN0YW5kYXJkUmV0cnlTdHJhdGVneS5yZWNvcmRTdWNjZXNzKHRva2VuKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBub3JtYWxpemVQcm92aWRlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgQWRhcHRpdmVSZXRyeVN0cmF0ZWd5LCBERUZBVUxUX01BWF9BVFRFTVBUUywgREVGQVVMVF9SRVRSWV9NT0RFLCBSRVRSWV9NT0RFUywgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5LCB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmV4cG9ydCBjb25zdCBFTlZfTUFYX0FUVEVNUFRTID0gXCJBV1NfTUFYX0FUVEVNUFRTXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX01BWF9BVFRFTVBUUyA9IFwibWF4X2F0dGVtcHRzXCI7XG5leHBvcnQgY29uc3QgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbnZbRU5WX01BWF9BVFRFTVBUU107XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEF0dGVtcHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudmlyb25tZW50IHZhcmlhYmxlICR7RU5WX01BWF9BVFRFTVBUU30gbWFzdCBiZSBhIG51bWJlciwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXhBdHRlbXB0O1xuICAgIH0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX01BWF9BVFRFTVBUU107XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEF0dGVtcHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNoYXJlZCBjb25maWcgZmlsZSBlbnRyeSAke0NPTkZJR19NQVhfQVRURU1QVFN9IG1hc3QgYmUgYSBudW1iZXIsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4QXR0ZW1wdDtcbiAgICB9LFxuICAgIGRlZmF1bHQ6IERFRkFVTFRfTUFYX0FUVEVNUFRTLFxufTtcbmV4cG9ydCBjb25zdCByZXNvbHZlUmV0cnlDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IHJldHJ5U3RyYXRlZ3kgfSA9IGlucHV0O1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQubWF4QXR0ZW1wdHMgPz8gREVGQVVMVF9NQVhfQVRURU1QVFMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBtYXhBdHRlbXB0cyxcbiAgICAgICAgcmV0cnlTdHJhdGVneTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJldHJ5U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJhdGVneTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldHJ5TW9kZSA9IGF3YWl0IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJldHJ5TW9kZSkoKTtcbiAgICAgICAgICAgIGlmIChyZXRyeU1vZGUgPT09IFJFVFJZX01PREVTLkFEQVBUSVZFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZVJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IEVOVl9SRVRSWV9NT0RFID0gXCJBV1NfUkVUUllfTU9ERVwiO1xuZXhwb3J0IGNvbnN0IENPTkZJR19SRVRSWV9NT0RFID0gXCJyZXRyeV9tb2RlXCI7XG5leHBvcnQgY29uc3QgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gZW52W0VOVl9SRVRSWV9NT0RFXSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19SRVRSWV9NT0RFXSxcbiAgICBkZWZhdWx0OiBERUZBVUxUX1JFVFJZX01PREUsXG59O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjcnlwdG9cIik7IiwiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuY29uc3Qgcm5kczhQb29sID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTsgLy8gIyBvZiByYW5kb20gdmFsdWVzIHRvIHByZS1hbGxvY2F0ZVxuXG5sZXQgcG9vbFB0ciA9IHJuZHM4UG9vbC5sZW5ndGg7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmIChwb29sUHRyID4gcm5kczhQb29sLmxlbmd0aCAtIDE2KSB7XG4gICAgY3J5cHRvLnJhbmRvbUZpbGxTeW5jKHJuZHM4UG9vbCk7XG4gICAgcG9vbFB0ciA9IDA7XG4gIH1cblxuICByZXR1cm4gcm5kczhQb29sLnNsaWNlKHBvb2xQdHIsIHBvb2xQdHIgKz0gMTYpO1xufSIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIGNvbnN0IHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCwgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgaXNTZXJ2ZXJFcnJvciwgaXNUaHJvdHRsaW5nRXJyb3IsIGlzVHJhbnNpZW50RXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBJTlZPQ0FUSU9OX0lEX0hFQURFUiwgUkVRVUVTVF9IRUFERVIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBhc1Nka0Vycm9yIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNvbnN0IHJldHJ5TWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBsZXQgcmV0cnlTdHJhdGVneSA9IGF3YWl0IG9wdGlvbnMucmV0cnlTdHJhdGVneSgpO1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gYXdhaXQgb3B0aW9ucy5tYXhBdHRlbXB0cygpO1xuICAgIGlmIChpc1JldHJ5U3RyYXRlZ3lWMihyZXRyeVN0cmF0ZWd5KSkge1xuICAgICAgICByZXRyeVN0cmF0ZWd5ID0gcmV0cnlTdHJhdGVneTtcbiAgICAgICAgbGV0IHJldHJ5VG9rZW4gPSBhd2FpdCByZXRyeVN0cmF0ZWd5LmFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihjb250ZXh0W1wicGFydGl0aW9uX2lkXCJdKTtcbiAgICAgICAgbGV0IGxhc3RFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICBsZXQgdG90YWxSZXRyeURlbGF5ID0gMDtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW0lOVk9DQVRJT05fSURfSEVBREVSXSA9IHY0KCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1JFUVVFU1RfSEVBREVSXSA9IGBhdHRlbXB0PSR7YXR0ZW1wdHMgKyAxfTsgbWF4PSR7bWF4QXR0ZW1wdHN9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXNwb25zZSwgb3V0cHV0IH0gPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2VzcyhyZXRyeVRva2VuKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuJG1ldGFkYXRhLmF0dGVtcHRzID0gYXR0ZW1wdHMgKyAxO1xuICAgICAgICAgICAgICAgIG91dHB1dC4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBvdXRwdXQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlFcnJvckluZm8gPSBnZXRSZXRyeUVycm9ySW5mbyhlKTtcbiAgICAgICAgICAgICAgICBsYXN0RXJyb3IgPSBhc1Nka0Vycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5VG9rZW4gPSBhd2FpdCByZXRyeVN0cmF0ZWd5LnJlZnJlc2hSZXRyeVRva2VuRm9yUmV0cnkocmV0cnlUb2tlbiwgcmV0cnlFcnJvckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFzdEVycm9yLiRtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yLiRtZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvci4kbWV0YWRhdGEuYXR0ZW1wdHMgPSBhdHRlbXB0cyArIDE7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvci4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dGVtcHRzID0gcmV0cnlUb2tlbi5nZXRSZXRyeUNvdW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSByZXRyeVRva2VuLmdldFJldHJ5RGVsYXkoKTtcbiAgICAgICAgICAgICAgICB0b3RhbFJldHJ5RGVsYXkgKz0gZGVsYXk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0cnlTdHJhdGVneSA9IHJldHJ5U3RyYXRlZ3k7XG4gICAgICAgIGlmIChyZXRyeVN0cmF0ZWd5Py5tb2RlKVxuICAgICAgICAgICAgY29udGV4dC51c2VyQWdlbnQgPSBbLi4uKGNvbnRleHQudXNlckFnZW50IHx8IFtdKSwgW1wiY2ZnL3JldHJ5LW1vZGVcIiwgcmV0cnlTdHJhdGVneS5tb2RlXV07XG4gICAgICAgIHJldHVybiByZXRyeVN0cmF0ZWd5LnJldHJ5KG5leHQsIGFyZ3MpO1xuICAgIH1cbn07XG5jb25zdCBpc1JldHJ5U3RyYXRlZ3lWMiA9IChyZXRyeVN0cmF0ZWd5KSA9PiB0eXBlb2YgcmV0cnlTdHJhdGVneS5hY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2YgcmV0cnlTdHJhdGVneS5yZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2VzcyAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGdldFJldHJ5RXJyb3JJbmZvID0gKGVycm9yKSA9PiB7XG4gICAgY29uc3QgZXJyb3JJbmZvID0ge1xuICAgICAgICBlcnJvclR5cGU6IGdldFJldHJ5RXJyb3JUeXBlKGVycm9yKSxcbiAgICB9O1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJIaW50ID0gZ2V0UmV0cnlBZnRlckhpbnQoZXJyb3IuJHJlc3BvbnNlKTtcbiAgICBpZiAocmV0cnlBZnRlckhpbnQpIHtcbiAgICAgICAgZXJyb3JJbmZvLnJldHJ5QWZ0ZXJIaW50ID0gcmV0cnlBZnRlckhpbnQ7XG4gICAgfVxuICAgIHJldHVybiBlcnJvckluZm87XG59O1xuY29uc3QgZ2V0UmV0cnlFcnJvclR5cGUgPSAoZXJyb3IpID0+IHtcbiAgICBpZiAoaXNUaHJvdHRsaW5nRXJyb3IoZXJyb3IpKVxuICAgICAgICByZXR1cm4gXCJUSFJPVFRMSU5HXCI7XG4gICAgaWYgKGlzVHJhbnNpZW50RXJyb3IoZXJyb3IpKVxuICAgICAgICByZXR1cm4gXCJUUkFOU0lFTlRcIjtcbiAgICBpZiAoaXNTZXJ2ZXJFcnJvcihlcnJvcikpXG4gICAgICAgIHJldHVybiBcIlNFUlZFUl9FUlJPUlwiO1xuICAgIHJldHVybiBcIkNMSUVOVF9FUlJPUlwiO1xufTtcbmV4cG9ydCBjb25zdCByZXRyeU1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwicmV0cnlNaWRkbGV3YXJlXCIsXG4gICAgdGFnczogW1wiUkVUUllcIl0sXG4gICAgc3RlcDogXCJmaW5hbGl6ZVJlcXVlc3RcIixcbiAgICBwcmlvcml0eTogXCJoaWdoXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldFJldHJ5UGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKHJldHJ5TWlkZGxld2FyZShvcHRpb25zKSwgcmV0cnlNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGNvbnN0IGdldFJldHJ5QWZ0ZXJIaW50ID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKCFIdHRwUmVzcG9uc2UuaXNJbnN0YW5jZShyZXNwb25zZSkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCByZXRyeUFmdGVySGVhZGVyTmFtZSA9IE9iamVjdC5rZXlzKHJlc3BvbnNlLmhlYWRlcnMpLmZpbmQoKGtleSkgPT4ga2V5LnRvTG93ZXJDYXNlKCkgPT09IFwicmV0cnktYWZ0ZXJcIik7XG4gICAgaWYgKCFyZXRyeUFmdGVySGVhZGVyTmFtZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByZXNwb25zZS5oZWFkZXJzW3JldHJ5QWZ0ZXJIZWFkZXJOYW1lXTtcbiAgICBjb25zdCByZXRyeUFmdGVyU2Vjb25kcyA9IE51bWJlcihyZXRyeUFmdGVyKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihyZXRyeUFmdGVyU2Vjb25kcykpXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShyZXRyeUFmdGVyU2Vjb25kcyAqIDEwMDApO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJEYXRlID0gbmV3IERhdGUocmV0cnlBZnRlcik7XG4gICAgcmV0dXJuIHJldHJ5QWZ0ZXJEYXRlO1xufTtcbiIsImV4cG9ydCBjb25zdCBhc1Nka0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcigpLCBlcnJvcik7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgQVdTIFNESyBlcnJvciB3cmFwcGVyIGZvciAke2Vycm9yfWApO1xufTtcbiIsImV4cG9ydCBjbGFzcyBOb09wTG9nZ2VyIHtcbiAgICB0cmFjZSgpIHsgfVxuICAgIGRlYnVnKCkgeyB9XG4gICAgaW5mbygpIHsgfVxuICAgIHdhcm4oKSB7IH1cbiAgICBlcnJvcigpIHsgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbnN0cnVjdFN0YWNrID0gKCkgPT4ge1xuICAgIGxldCBhYnNvbHV0ZUVudHJpZXMgPSBbXTtcbiAgICBsZXQgcmVsYXRpdmVFbnRyaWVzID0gW107XG4gICAgY29uc3QgZW50cmllc05hbWVTZXQgPSBuZXcgU2V0KCk7XG4gICAgY29uc3Qgc29ydCA9IChlbnRyaWVzKSA9PiBlbnRyaWVzLnNvcnQoKGEsIGIpID0+IHN0ZXBXZWlnaHRzW2Iuc3RlcF0gLSBzdGVwV2VpZ2h0c1thLnN0ZXBdIHx8XG4gICAgICAgIHByaW9yaXR5V2VpZ2h0c1tiLnByaW9yaXR5IHx8IFwibm9ybWFsXCJdIC0gcHJpb3JpdHlXZWlnaHRzW2EucHJpb3JpdHkgfHwgXCJub3JtYWxcIl0pO1xuICAgIGNvbnN0IHJlbW92ZUJ5TmFtZSA9ICh0b1JlbW92ZSkgPT4ge1xuICAgICAgICBsZXQgaXNSZW1vdmVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGZpbHRlckNiID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkubmFtZSAmJiBlbnRyeS5uYW1lID09PSB0b1JlbW92ZSkge1xuICAgICAgICAgICAgICAgIGlzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZW50cmllc05hbWVTZXQuZGVsZXRlKHRvUmVtb3ZlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgYWJzb2x1dGVFbnRyaWVzID0gYWJzb2x1dGVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICAgIHJlbGF0aXZlRW50cmllcyA9IHJlbGF0aXZlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgICByZXR1cm4gaXNSZW1vdmVkO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQnlSZWZlcmVuY2UgPSAodG9SZW1vdmUpID0+IHtcbiAgICAgICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5Lm1pZGRsZXdhcmUgPT09IHRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgZW50cmllc05hbWVTZXQuZGVsZXRlKGVudHJ5Lm5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgICAgcmVsYXRpdmVFbnRyaWVzID0gcmVsYXRpdmVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgfTtcbiAgICBjb25zdCBjbG9uZVRvID0gKHRvU3RhY2spID0+IHtcbiAgICAgICAgYWJzb2x1dGVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICB0b1N0YWNrLmFkZChlbnRyeS5taWRkbGV3YXJlLCB7IC4uLmVudHJ5IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVsYXRpdmVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICB0b1N0YWNrLmFkZFJlbGF0aXZlVG8oZW50cnkubWlkZGxld2FyZSwgeyAuLi5lbnRyeSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b1N0YWNrO1xuICAgIH07XG4gICAgY29uc3QgZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdCA9IChmcm9tKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4cGFuZGVkTWlkZGxld2FyZUxpc3QgPSBbXTtcbiAgICAgICAgZnJvbS5iZWZvcmUuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5iZWZvcmUubGVuZ3RoID09PSAwICYmIGVudHJ5LmFmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goLi4uZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdChlbnRyeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKGZyb20pO1xuICAgICAgICBmcm9tLmFmdGVyLnJldmVyc2UoKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmJlZm9yZS5sZW5ndGggPT09IDAgJiYgZW50cnkuYWZ0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaCguLi5leHBhbmRSZWxhdGl2ZU1pZGRsZXdhcmVMaXN0KGVudHJ5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXhwYW5kZWRNaWRkbGV3YXJlTGlzdDtcbiAgICB9O1xuICAgIGNvbnN0IGdldE1pZGRsZXdhcmVMaXN0ID0gKGRlYnVnID0gZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEFic29sdXRlRW50cmllcyA9IFtdO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzID0gW107XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcCA9IHt9O1xuICAgICAgICBhYnNvbHV0ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICAgICAgICAgIGFmdGVyOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEVudHJ5Lm5hbWUpXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEVudHJpZXNOYW1lTWFwW25vcm1hbGl6ZWRFbnRyeS5uYW1lXSA9IG5vcm1hbGl6ZWRFbnRyeTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMucHVzaChub3JtYWxpemVkRW50cnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVsYXRpdmVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgYmVmb3JlOiBbXSxcbiAgICAgICAgICAgICAgICBhZnRlcjogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRFbnRyeS5uYW1lKVxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcFtub3JtYWxpemVkRW50cnkubmFtZV0gPSBub3JtYWxpemVkRW50cnk7XG4gICAgICAgICAgICBub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzLnB1c2gobm9ybWFsaXplZEVudHJ5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS50b01pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b01pZGRsZXdhcmUgPSBub3JtYWxpemVkRW50cmllc05hbWVNYXBbZW50cnkudG9NaWRkbGV3YXJlXTtcbiAgICAgICAgICAgICAgICBpZiAodG9NaWRkbGV3YXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2VudHJ5LnRvTWlkZGxld2FyZX0gaXMgbm90IGZvdW5kIHdoZW4gYWRkaW5nICR7ZW50cnkubmFtZSB8fCBcImFub255bW91c1wifSBtaWRkbGV3YXJlICR7ZW50cnkucmVsYXRpb259ICR7ZW50cnkudG9NaWRkbGV3YXJlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50cnkucmVsYXRpb24gPT09IFwiYWZ0ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICB0b01pZGRsZXdhcmUuYWZ0ZXIucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5yZWxhdGlvbiA9PT0gXCJiZWZvcmVcIikge1xuICAgICAgICAgICAgICAgICAgICB0b01pZGRsZXdhcmUuYmVmb3JlLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1haW5DaGFpbiA9IHNvcnQobm9ybWFsaXplZEFic29sdXRlRW50cmllcylcbiAgICAgICAgICAgIC5tYXAoZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdClcbiAgICAgICAgICAgIC5yZWR1Y2UoKHdob2xlTGlzdCwgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdCkgPT4ge1xuICAgICAgICAgICAgd2hvbGVMaXN0LnB1c2goLi4uZXhwYW5kZWRNaWRkbGV3YXJlTGlzdCk7XG4gICAgICAgICAgICByZXR1cm4gd2hvbGVMaXN0O1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBtYWluQ2hhaW47XG4gICAgfTtcbiAgICBjb25zdCBzdGFjayA9IHtcbiAgICAgICAgYWRkOiAobWlkZGxld2FyZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIG92ZXJyaWRlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgICAgICAgICAgc3RlcDogXCJpbml0aWFsaXplXCIsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgbWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXNOYW1lU2V0LmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbWlkZGxld2FyZSBuYW1lICcke25hbWV9J2ApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b092ZXJyaWRlSW5kZXggPSBhYnNvbHV0ZUVudHJpZXMuZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGUgPSBhYnNvbHV0ZUVudHJpZXNbdG9PdmVycmlkZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvT3ZlcnJpZGUuc3RlcCAhPT0gZW50cnkuc3RlcCB8fCB0b092ZXJyaWRlLnByaW9yaXR5ICE9PSBlbnRyeS5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7bmFtZX1cIiBtaWRkbGV3YXJlIHdpdGggJHt0b092ZXJyaWRlLnByaW9yaXR5fSBwcmlvcml0eSBpbiAke3RvT3ZlcnJpZGUuc3RlcH0gc3RlcCBjYW5ub3QgYmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYG92ZXJyaWRkZW4gYnkgc2FtZS1uYW1lIG1pZGRsZXdhcmUgd2l0aCAke2VudHJ5LnByaW9yaXR5fSBwcmlvcml0eSBpbiAke2VudHJ5LnN0ZXB9IHN0ZXAuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGVFbnRyaWVzLnNwbGljZSh0b092ZXJyaWRlSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRyaWVzTmFtZVNldC5hZGQobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhYnNvbHV0ZUVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFJlbGF0aXZlVG86IChtaWRkbGV3YXJlLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIG92ZXJyaWRlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgICAgICAgICAgbWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXNOYW1lU2V0LmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbWlkZGxld2FyZSBuYW1lICcke25hbWV9J2ApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b092ZXJyaWRlSW5kZXggPSByZWxhdGl2ZUVudHJpZXMuZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGUgPSByZWxhdGl2ZUVudHJpZXNbdG9PdmVycmlkZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvT3ZlcnJpZGUudG9NaWRkbGV3YXJlICE9PSBlbnRyeS50b01pZGRsZXdhcmUgfHwgdG9PdmVycmlkZS5yZWxhdGlvbiAhPT0gZW50cnkucmVsYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCIke25hbWV9XCIgbWlkZGxld2FyZSAke3RvT3ZlcnJpZGUucmVsYXRpb259IFwiJHt0b092ZXJyaWRlLnRvTWlkZGxld2FyZX1cIiBtaWRkbGV3YXJlIGNhbm5vdCBiZSBvdmVycmlkZGVuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBieSBzYW1lLW5hbWUgbWlkZGxld2FyZSAke2VudHJ5LnJlbGF0aW9ufSBcIiR7ZW50cnkudG9NaWRkbGV3YXJlfVwiIG1pZGRsZXdhcmUuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVFbnRyaWVzLnNwbGljZSh0b092ZXJyaWRlSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRyaWVzTmFtZVNldC5hZGQobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWxhdGl2ZUVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb25lOiAoKSA9PiBjbG9uZVRvKGNvbnN0cnVjdFN0YWNrKCkpLFxuICAgICAgICB1c2U6IChwbHVnaW4pID0+IHtcbiAgICAgICAgICAgIHBsdWdpbi5hcHBseVRvU3RhY2soc3RhY2spO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6ICh0b1JlbW92ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0b1JlbW92ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlQnlOYW1lKHRvUmVtb3ZlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlQnlSZWZlcmVuY2UodG9SZW1vdmUpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVCeVRhZzogKHRvUmVtb3ZlKSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNSZW1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFncywgbmFtZSB9ID0gZW50cnk7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ3MgJiYgdGFncy5pbmNsdWRlcyh0b1JlbW92ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyaWVzTmFtZVNldC5kZWxldGUobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYWJzb2x1dGVFbnRyaWVzID0gYWJzb2x1dGVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICAgICAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgICAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmNhdDogKGZyb20pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVG8oY29uc3RydWN0U3RhY2soKSk7XG4gICAgICAgICAgICBjbG9uZWQudXNlKGZyb20pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHlUb1N0YWNrOiBjbG9uZVRvLFxuICAgICAgICBpZGVudGlmeTogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGdldE1pZGRsZXdhcmVMaXN0KHRydWUpLm1hcCgobXcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbXcubmFtZSArIFwiOiBcIiArIChtdy50YWdzIHx8IFtdKS5qb2luKFwiLFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZXNvbHZlOiAoaGFuZGxlciwgY29udGV4dCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIGdldE1pZGRsZXdhcmVMaXN0KClcbiAgICAgICAgICAgICAgICAubWFwKChlbnRyeSkgPT4gZW50cnkubWlkZGxld2FyZSlcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IG1pZGRsZXdhcmUoaGFuZGxlciwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBzdGFjaztcbn07XG5jb25zdCBzdGVwV2VpZ2h0cyA9IHtcbiAgICBpbml0aWFsaXplOiA1LFxuICAgIHNlcmlhbGl6ZTogNCxcbiAgICBidWlsZDogMyxcbiAgICBmaW5hbGl6ZVJlcXVlc3Q6IDIsXG4gICAgZGVzZXJpYWxpemU6IDEsXG59O1xuY29uc3QgcHJpb3JpdHlXZWlnaHRzID0ge1xuICAgIGhpZ2g6IDMsXG4gICAgbm9ybWFsOiAyLFxuICAgIGxvdzogMSxcbn07XG4iLCJpbXBvcnQgeyBjb25zdHJ1Y3RTdGFjayB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc3RhY2tcIjtcbmV4cG9ydCBjbGFzcyBDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjayA9IGNvbnN0cnVjdFN0YWNrKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICBzZW5kKGNvbW1hbmQsIG9wdGlvbnNPckNiLCBjYikge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnNPckNiICE9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zT3JDYiA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0eXBlb2Ygb3B0aW9uc09yQ2IgPT09IFwiZnVuY3Rpb25cIiA/IG9wdGlvbnNPckNiIDogY2I7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjb21tYW5kLnJlc29sdmVNaWRkbGV3YXJlKHRoaXMubWlkZGxld2FyZVN0YWNrLCB0aGlzLmNvbmZpZywgb3B0aW9ucyk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgaGFuZGxlcihjb21tYW5kKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IGNhbGxiYWNrKG51bGwsIHJlc3VsdC5vdXRwdXQpLCAoZXJyKSA9PiBjYWxsYmFjayhlcnIpKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIoY29tbWFuZCkudGhlbigocmVzdWx0KSA9PiByZXN1bHQub3V0cHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jb25maWcucmVxdWVzdEhhbmRsZXIuZGVzdHJveSlcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBmcm9tU3RyaW5nIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1idWZmZXItZnJvbVwiO1xuY29uc3QgQkFTRTY0X1JFR0VYID0gL15bQS1aYS16MC05Ky9dKj17MCwyfSQvO1xuZXhwb3J0IGNvbnN0IGZyb21CYXNlNjQgPSAoaW5wdXQpID0+IHtcbiAgICBpZiAoKGlucHV0Lmxlbmd0aCAqIDMpICUgNCAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbmNvcnJlY3QgcGFkZGluZyBvbiBiYXNlNjQgc3RyaW5nLmApO1xuICAgIH1cbiAgICBpZiAoIUJBU0U2NF9SRUdFWC5leGVjKGlucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGJhc2U2NCBzdHJpbmcuYCk7XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlciA9IGZyb21TdHJpbmcoaW5wdXQsIFwiYmFzZTY0XCIpO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIuYnVmZmVyLCBidWZmZXIuYnl0ZU9mZnNldCwgYnVmZmVyLmJ5dGVMZW5ndGgpO1xufTtcbiIsImltcG9ydCB7IGZyb21BcnJheUJ1ZmZlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtYnVmZmVyLWZyb21cIjtcbmV4cG9ydCBjb25zdCB0b0Jhc2U2NCA9IChpbnB1dCkgPT4gZnJvbUFycmF5QnVmZmVyKGlucHV0LmJ1ZmZlciwgaW5wdXQuYnl0ZU9mZnNldCwgaW5wdXQuYnl0ZUxlbmd0aCkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4iLCJpbXBvcnQgeyB0cmFuc2Zvcm1Gcm9tU3RyaW5nLCB0cmFuc2Zvcm1Ub1N0cmluZyB9IGZyb20gXCIuL3RyYW5zZm9ybXNcIjtcbmV4cG9ydCBjbGFzcyBVaW50OEFycmF5QmxvYkFkYXB0ZXIgZXh0ZW5kcyBVaW50OEFycmF5IHtcbiAgICBzdGF0aWMgZnJvbVN0cmluZyhzb3VyY2UsIGVuY29kaW5nID0gXCJ1dGYtOFwiKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHNvdXJjZSkge1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1Gcm9tU3RyaW5nKHNvdXJjZSwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvbnZlcnNpb24gZnJvbSAke3R5cGVvZiBzb3VyY2V9IHRvIFVpbnQ4QXJyYXlCbG9iQWRhcHRlci5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgbXV0YXRlKHNvdXJjZSkge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc291cmNlLCBVaW50OEFycmF5QmxvYkFkYXB0ZXIucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgdHJhbnNmb3JtVG9TdHJpbmcoZW5jb2RpbmcgPSBcInV0Zi04XCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybVRvU3RyaW5nKHRoaXMsIGVuY29kaW5nKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBVaW50OEFycmF5QmxvYkFkYXB0ZXIgfSBmcm9tIFwiLi9VaW50OEFycmF5QmxvYkFkYXB0ZXJcIjtcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1Ub1N0cmluZyhwYXlsb2FkLCBlbmNvZGluZyA9IFwidXRmLThcIikge1xuICAgIGlmIChlbmNvZGluZyA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICByZXR1cm4gdG9CYXNlNjQocGF5bG9hZCk7XG4gICAgfVxuICAgIHJldHVybiB0b1V0ZjgocGF5bG9hZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtRnJvbVN0cmluZyhzdHIsIGVuY29kaW5nKSB7XG4gICAgaWYgKGVuY29kaW5nID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5QmxvYkFkYXB0ZXIubXV0YXRlKGZyb21CYXNlNjQoc3RyKSk7XG4gICAgfVxuICAgIHJldHVybiBVaW50OEFycmF5QmxvYkFkYXB0ZXIubXV0YXRlKGZyb21VdGY4KHN0cikpO1xufVxuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJzdHJlYW1cIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJodHRwXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiaHR0cHNcIik7IiwiZXhwb3J0IGNvbnN0IE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTID0gW1wiRUNPTk5SRVNFVFwiLCBcIkVQSVBFXCIsIFwiRVRJTUVET1VUXCJdO1xuIiwiY29uc3QgZ2V0VHJhbnNmb3JtZWRIZWFkZXJzID0gKGhlYWRlcnMpID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZEhlYWRlcnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyVmFsdWVzID0gaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgdHJhbnNmb3JtZWRIZWFkZXJzW25hbWVdID0gQXJyYXkuaXNBcnJheShoZWFkZXJWYWx1ZXMpID8gaGVhZGVyVmFsdWVzLmpvaW4oXCIsXCIpIDogaGVhZGVyVmFsdWVzO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRIZWFkZXJzO1xufTtcbmV4cG9ydCB7IGdldFRyYW5zZm9ybWVkSGVhZGVycyB9O1xuIiwiaW1wb3J0IHsgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gXCJAc21pdGh5L3F1ZXJ5c3RyaW5nLWJ1aWxkZXJcIjtcbmltcG9ydCB7IEFnZW50IGFzIGhBZ2VudCwgcmVxdWVzdCBhcyBoUmVxdWVzdCB9IGZyb20gXCJodHRwXCI7XG5pbXBvcnQgeyBBZ2VudCBhcyBoc0FnZW50LCByZXF1ZXN0IGFzIGhzUmVxdWVzdCB9IGZyb20gXCJodHRwc1wiO1xuaW1wb3J0IHsgTk9ERUpTX1RJTUVPVVRfRVJST1JfQ09ERVMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFRyYW5zZm9ybWVkSGVhZGVycyB9IGZyb20gXCIuL2dldC10cmFuc2Zvcm1lZC1oZWFkZXJzXCI7XG5pbXBvcnQgeyBzZXRDb25uZWN0aW9uVGltZW91dCB9IGZyb20gXCIuL3NldC1jb25uZWN0aW9uLXRpbWVvdXRcIjtcbmltcG9ydCB7IHNldFNvY2tldEtlZXBBbGl2ZSB9IGZyb20gXCIuL3NldC1zb2NrZXQta2VlcC1hbGl2ZVwiO1xuaW1wb3J0IHsgc2V0U29ja2V0VGltZW91dCB9IGZyb20gXCIuL3NldC1zb2NrZXQtdGltZW91dFwiO1xuaW1wb3J0IHsgd3JpdGVSZXF1ZXN0Qm9keSB9IGZyb20gXCIuL3dyaXRlLXJlcXVlc3QtYm9keVwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVRVUVTVF9USU1FT1VUID0gMDtcbmV4cG9ydCBjbGFzcyBOb2RlSHR0cEhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHsgaGFuZGxlclByb3RvY29sOiBcImh0dHAvMS4xXCIgfTtcbiAgICAgICAgdGhpcy5jb25maWdQcm92aWRlciA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucygpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChfb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzb2x2ZURlZmF1bHRDb25maWcoX29wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNvbHZlRGVmYXVsdENvbmZpZyhvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXNvbHZlRGVmYXVsdENvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdFRpbWVvdXQsIGNvbm5lY3Rpb25UaW1lb3V0LCBzb2NrZXRUaW1lb3V0LCBodHRwQWdlbnQsIGh0dHBzQWdlbnQgfSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGNvbnN0IGtlZXBBbGl2ZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IG1heFNvY2tldHMgPSA1MDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0LFxuICAgICAgICAgICAgcmVxdWVzdFRpbWVvdXQ6IHJlcXVlc3RUaW1lb3V0ID8/IHNvY2tldFRpbWVvdXQsXG4gICAgICAgICAgICBodHRwQWdlbnQ6IGh0dHBBZ2VudCB8fCBuZXcgaEFnZW50KHsga2VlcEFsaXZlLCBtYXhTb2NrZXRzIH0pLFxuICAgICAgICAgICAgaHR0cHNBZ2VudDogaHR0cHNBZ2VudCB8fCBuZXcgaHNBZ2VudCh7IGtlZXBBbGl2ZSwgbWF4U29ja2V0cyB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jb25maWc/Lmh0dHBBZ2VudD8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNvbmZpZz8uaHR0cHNBZ2VudD8uZGVzdHJveSgpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGUocmVxdWVzdCwgeyBhYm9ydFNpZ25hbCB9ID0ge30pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBhd2FpdCB0aGlzLmNvbmZpZ1Byb3ZpZGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoX3Jlc29sdmUsIF9yZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCB3cml0ZVJlcXVlc3RCb2R5UHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSBhc3luYyAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVSZXF1ZXN0Qm9keVByb21pc2U7XG4gICAgICAgICAgICAgICAgX3Jlc29sdmUoYXJnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZWplY3QgPSBhc3luYyAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVSZXF1ZXN0Qm9keVByb21pc2U7XG4gICAgICAgICAgICAgICAgX3JlamVjdChhcmcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jb25maWcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIEhUVFAgcmVxdWVzdCBoYW5kbGVyIGNvbmZpZyBpcyBub3QgcmVzb2x2ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWJvcnRTaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgICAgIGFib3J0RXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgICAgICAgICAgIHJlamVjdChhYm9ydEVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc1NTTCA9IHJlcXVlc3QucHJvdG9jb2wgPT09IFwiaHR0cHM6XCI7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IGJ1aWxkUXVlcnlTdHJpbmcocmVxdWVzdC5xdWVyeSB8fCB7fSk7XG4gICAgICAgICAgICBsZXQgYXV0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnVzZXJuYW1lICE9IG51bGwgfHwgcmVxdWVzdC5wYXNzd29yZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSByZXF1ZXN0LnVzZXJuYW1lID8/IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSByZXF1ZXN0LnBhc3N3b3JkID8/IFwiXCI7XG4gICAgICAgICAgICAgICAgYXV0aCA9IGAke3VzZXJuYW1lfToke3Bhc3N3b3JkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGF0aCA9IHJlcXVlc3QucGF0aDtcbiAgICAgICAgICAgIGlmIChxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgICAgIHBhdGggKz0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5mcmFnbWVudCkge1xuICAgICAgICAgICAgICAgIHBhdGggKz0gYCMke3JlcXVlc3QuZnJhZ21lbnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vZGVIdHRwc09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGhvc3Q6IHJlcXVlc3QuaG9zdG5hbWUsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgIHBvcnQ6IHJlcXVlc3QucG9ydCxcbiAgICAgICAgICAgICAgICBhZ2VudDogaXNTU0wgPyB0aGlzLmNvbmZpZy5odHRwc0FnZW50IDogdGhpcy5jb25maWcuaHR0cEFnZW50LFxuICAgICAgICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEZ1bmMgPSBpc1NTTCA/IGhzUmVxdWVzdCA6IGhSZXF1ZXN0O1xuICAgICAgICAgICAgY29uc3QgcmVxID0gcmVxdWVzdEZ1bmMobm9kZUh0dHBzT3B0aW9ucywgKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0dHBSZXNwb25zZSA9IG5ldyBIdHRwUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSB8fCAtMSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiByZXMuc3RhdHVzTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogZ2V0VHJhbnNmb3JtZWRIZWFkZXJzKHJlcy5oZWFkZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogcmVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyByZXNwb25zZTogaHR0cFJlc3BvbnNlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXEub24oXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVyci5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoT2JqZWN0LmFzc2lnbihlcnIsIHsgbmFtZTogXCJUaW1lb3V0RXJyb3JcIiB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldENvbm5lY3Rpb25UaW1lb3V0KHJlcSwgcmVqZWN0LCB0aGlzLmNvbmZpZy5jb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgICAgICBzZXRTb2NrZXRUaW1lb3V0KHJlcSwgcmVqZWN0LCB0aGlzLmNvbmZpZy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgICAgICBpZiAoYWJvcnRTaWduYWwpIHtcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbC5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXEuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIlJlcXVlc3QgYWJvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRFcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChhYm9ydEVycm9yKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaHR0cEFnZW50ID0gbm9kZUh0dHBzT3B0aW9ucy5hZ2VudDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaHR0cEFnZW50ID09PSBcIm9iamVjdFwiICYmIFwia2VlcEFsaXZlXCIgaW4gaHR0cEFnZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0U29ja2V0S2VlcEFsaXZlKHJlcSwge1xuICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmU6IGh0dHBBZ2VudC5rZWVwQWxpdmUsXG4gICAgICAgICAgICAgICAgICAgIGtlZXBBbGl2ZU1zZWNzOiBodHRwQWdlbnQua2VlcEFsaXZlTXNlY3MsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZVJlcXVlc3RCb2R5UHJvbWlzZSA9IHdyaXRlUmVxdWVzdEJvZHkocmVxLCByZXF1ZXN0LCB0aGlzLmNvbmZpZy5yZXF1ZXN0VGltZW91dCkuY2F0Y2goX3JlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGVzY2FwZVVyaSB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXJpLWVzY2FwZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUXVlcnlTdHJpbmcocXVlcnkpIHtcbiAgICBjb25zdCBwYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhxdWVyeSkuc29ydCgpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAga2V5ID0gZXNjYXBlVXJpKGtleSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlMZW4gPSB2YWx1ZS5sZW5ndGg7IGkgPCBpTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGAke2tleX09JHtlc2NhcGVVcmkodmFsdWVbaV0pfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHFzRW50cnkgPSBrZXk7XG4gICAgICAgICAgICBpZiAodmFsdWUgfHwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcXNFbnRyeSArPSBgPSR7ZXNjYXBlVXJpKHZhbHVlKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydHMucHVzaChxc0VudHJ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHMuam9pbihcIiZcIik7XG59XG4iLCJleHBvcnQgY29uc3Qgc2V0Q29ubmVjdGlvblRpbWVvdXQgPSAocmVxdWVzdCwgcmVqZWN0LCB0aW1lb3V0SW5NcyA9IDApID0+IHtcbiAgICBpZiAoIXRpbWVvdXRJbk1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlcXVlc3QuZGVzdHJveSgpO1xuICAgICAgICByZWplY3QoT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoYFNvY2tldCB0aW1lZCBvdXQgd2l0aG91dCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uIHdpdGhpbiAke3RpbWVvdXRJbk1zfSBtc2ApLCB7XG4gICAgICAgICAgICBuYW1lOiBcIlRpbWVvdXRFcnJvclwiLFxuICAgICAgICB9KSk7XG4gICAgfSwgdGltZW91dEluTXMpO1xuICAgIHJlcXVlc3Qub24oXCJzb2NrZXRcIiwgKHNvY2tldCkgPT4ge1xuICAgICAgICBpZiAoc29ja2V0LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbiIsImV4cG9ydCBjb25zdCBzZXRTb2NrZXRUaW1lb3V0ID0gKHJlcXVlc3QsIHJlamVjdCwgdGltZW91dEluTXMgPSAwKSA9PiB7XG4gICAgcmVxdWVzdC5zZXRUaW1lb3V0KHRpbWVvdXRJbk1zLCAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3QuZGVzdHJveSgpO1xuICAgICAgICByZWplY3QoT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoYENvbm5lY3Rpb24gdGltZWQgb3V0IGFmdGVyICR7dGltZW91dEluTXN9IG1zYCksIHsgbmFtZTogXCJUaW1lb3V0RXJyb3JcIiB9KSk7XG4gICAgfSk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHNldFNvY2tldEtlZXBBbGl2ZSA9IChyZXF1ZXN0LCB7IGtlZXBBbGl2ZSwga2VlcEFsaXZlTXNlY3MgfSkgPT4ge1xuICAgIGlmIChrZWVwQWxpdmUgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXF1ZXN0Lm9uKFwic29ja2V0XCIsIChzb2NrZXQpID0+IHtcbiAgICAgICAgc29ja2V0LnNldEtlZXBBbGl2ZShrZWVwQWxpdmUsIGtlZXBBbGl2ZU1zZWNzIHx8IDApO1xuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSBcInN0cmVhbVwiO1xuY29uc3QgTUlOX1dBSVRfVElNRSA9IDEwMDA7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JpdGVSZXF1ZXN0Qm9keShodHRwUmVxdWVzdCwgcmVxdWVzdCwgbWF4Q29udGludWVUaW1lb3V0TXMgPSBNSU5fV0FJVF9USU1FKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IHJlcXVlc3QuaGVhZGVycyA/PyB7fTtcbiAgICBjb25zdCBleHBlY3QgPSBoZWFkZXJzW1wiRXhwZWN0XCJdIHx8IGhlYWRlcnNbXCJleHBlY3RcIl07XG4gICAgbGV0IHRpbWVvdXRJZCA9IC0xO1xuICAgIGxldCBoYXNFcnJvciA9IGZhbHNlO1xuICAgIGlmIChleHBlY3QgPT09IFwiMTAwLWNvbnRpbnVlXCIpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGltZW91dElkID0gTnVtYmVyKHNldFRpbWVvdXQocmVzb2x2ZSwgTWF0aC5tYXgoTUlOX1dBSVRfVElNRSwgbWF4Q29udGludWVUaW1lb3V0TXMpKSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgaHR0cFJlcXVlc3Qub24oXCJjb250aW51ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaHR0cFJlcXVlc3Qub24oXCJlcnJvclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKTtcbiAgICB9XG4gICAgaWYgKCFoYXNFcnJvcikge1xuICAgICAgICB3cml0ZUJvZHkoaHR0cFJlcXVlc3QsIHJlcXVlc3QuYm9keSk7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JpdGVCb2R5KGh0dHBSZXF1ZXN0LCBib2R5KSB7XG4gICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBSZWFkYWJsZSkge1xuICAgICAgICBib2R5LnBpcGUoaHR0cFJlcXVlc3QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChib2R5KSB7XG4gICAgICAgIGh0dHBSZXF1ZXN0LmVuZChCdWZmZXIuZnJvbShib2R5KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBodHRwUmVxdWVzdC5lbmQoKTtcbiAgICB9XG59XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImh0dHAyXCIpOyIsImV4cG9ydCBjbGFzcyBOb2RlSHR0cDJDb25uZWN0aW9uUG9vbCB7XG4gICAgY29uc3RydWN0b3Ioc2Vzc2lvbnMpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnNlc3Npb25zID0gc2Vzc2lvbnMgPz8gW107XG4gICAgfVxuICAgIHBvbGwoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25zLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2ZmZXJMYXN0KHNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5zZXNzaW9ucy5wdXNoKHNlc3Npb24pO1xuICAgIH1cbiAgICBjb250YWlucyhzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25zLmluY2x1ZGVzKHNlc3Npb24pO1xuICAgIH1cbiAgICByZW1vdmUoc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb25zID0gdGhpcy5zZXNzaW9ucy5maWx0ZXIoKHMpID0+IHMgIT09IHNlc3Npb24pO1xuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH1cbiAgICBkZXN0cm95KGNvbm5lY3Rpb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBzZXNzaW9uIG9mIHRoaXMuc2Vzc2lvbnMpIHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBXcml0YWJsZSB9IGZyb20gXCJzdHJlYW1cIjtcbmV4cG9ydCBjbGFzcyBDb2xsZWN0b3IgZXh0ZW5kcyBXcml0YWJsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyZWRCeXRlcyA9IFtdO1xuICAgIH1cbiAgICBfd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmJ1ZmZlcmVkQnl0ZXMucHVzaChjaHVuayk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29sbGVjdG9yIH0gZnJvbSBcIi4vY29sbGVjdG9yXCI7XG5leHBvcnQgY29uc3Qgc3RyZWFtQ29sbGVjdG9yID0gKHN0cmVhbSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGNvbGxlY3RvciA9IG5ldyBDb2xsZWN0b3IoKTtcbiAgICBzdHJlYW0ucGlwZShjb2xsZWN0b3IpO1xuICAgIHN0cmVhbS5vbihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgICAgY29sbGVjdG9yLmVuZCgpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgICBjb2xsZWN0b3Iub24oXCJlcnJvclwiLCByZWplY3QpO1xuICAgIGNvbGxlY3Rvci5vbihcImZpbmlzaFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmNvbmNhdCh0aGlzLmJ1ZmZlcmVkQnl0ZXMpKTtcbiAgICAgICAgcmVzb2x2ZShieXRlcyk7XG4gICAgfSk7XG59KTtcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwidXRpbFwiKTsiLCJpbXBvcnQgeyBVaW50OEFycmF5QmxvYkFkYXB0ZXIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXN0cmVhbVwiO1xuZXhwb3J0IGNvbnN0IGNvbGxlY3RCb2R5ID0gYXN5bmMgKHN0cmVhbUJvZHkgPSBuZXcgVWludDhBcnJheSgpLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKHN0cmVhbUJvZHkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5QmxvYkFkYXB0ZXIubXV0YXRlKHN0cmVhbUJvZHkpO1xuICAgIH1cbiAgICBpZiAoIXN0cmVhbUJvZHkpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXlCbG9iQWRhcHRlci5tdXRhdGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfVxuICAgIGNvbnN0IGZyb21Db250ZXh0ID0gY29udGV4dC5zdHJlYW1Db2xsZWN0b3Ioc3RyZWFtQm9keSk7XG4gICAgcmV0dXJuIFVpbnQ4QXJyYXlCbG9iQWRhcHRlci5tdXRhdGUoYXdhaXQgZnJvbUNvbnRleHQpO1xufTtcbiIsImltcG9ydCB7IGNvbnN0cnVjdFN0YWNrIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zdGFja1wiO1xuZXhwb3J0IGNsYXNzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjayA9IGNvbnN0cnVjdFN0YWNrKCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFNFTlNJVElWRV9TVFJJTkcgPSBcIioqKlNlbnNpdGl2ZUluZm9ybWF0aW9uKioqXCI7XG4iLCJleHBvcnQgY29uc3QgcGFyc2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICBjYXNlIFwidHJ1ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcGFyc2UgYm9vbGVhbiB2YWx1ZSBcIiR7dmFsdWV9XCJgKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdEJvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMCB8fCB2YWx1ZSA9PT0gMSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oc3RhY2tUcmFjZVdhcm5pbmcoYEV4cGVjdGVkIGJvb2xlYW4sIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBsb3dlciA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChsb3dlciA9PT0gXCJmYWxzZVwiIHx8IGxvd2VyID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oc3RhY2tUcmFjZVdhcm5pbmcoYEV4cGVjdGVkIGJvb2xlYW4sIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBib29sZWFuLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApO1xufTtcbmV4cG9ydCBjb25zdCBleHBlY3ROdW1iZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWQpKSB7XG4gICAgICAgICAgICBpZiAoU3RyaW5nKHBhcnNlZCkgIT09IFN0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybihzdGFja1RyYWNlV2FybmluZyhgRXhwZWN0ZWQgbnVtYmVyIGJ1dCBvYnNlcnZlZCBzdHJpbmc6ICR7dmFsdWV9YCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgbnVtYmVyLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApO1xufTtcbmNvbnN0IE1BWF9GTE9BVCA9IE1hdGguY2VpbCgyICoqIDEyNyAqICgyIC0gMiAqKiAtMjMpKTtcbmV4cG9ydCBjb25zdCBleHBlY3RGbG9hdDMyID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBleHBlY3ROdW1iZXIodmFsdWUpO1xuICAgIGlmIChleHBlY3RlZCAhPT0gdW5kZWZpbmVkICYmICFOdW1iZXIuaXNOYU4oZXhwZWN0ZWQpICYmIGV4cGVjdGVkICE9PSBJbmZpbml0eSAmJiBleHBlY3RlZCAhPT0gLUluZmluaXR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhleHBlY3RlZCkgPiBNQVhfRkxPQVQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIDMyLWJpdCBmbG9hdCwgZ290ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdGVkO1xufTtcbmV4cG9ydCBjb25zdCBleHBlY3RMb25nID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIodmFsdWUpICYmICFOdW1iZXIuaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgaW50ZWdlciwgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKTtcbn07XG5leHBvcnQgY29uc3QgZXhwZWN0SW50ID0gZXhwZWN0TG9uZztcbmV4cG9ydCBjb25zdCBleHBlY3RJbnQzMiA9ICh2YWx1ZSkgPT4gZXhwZWN0U2l6ZWRJbnQodmFsdWUsIDMyKTtcbmV4cG9ydCBjb25zdCBleHBlY3RTaG9ydCA9ICh2YWx1ZSkgPT4gZXhwZWN0U2l6ZWRJbnQodmFsdWUsIDE2KTtcbmV4cG9ydCBjb25zdCBleHBlY3RCeXRlID0gKHZhbHVlKSA9PiBleHBlY3RTaXplZEludCh2YWx1ZSwgOCk7XG5jb25zdCBleHBlY3RTaXplZEludCA9ICh2YWx1ZSwgc2l6ZSkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZXhwZWN0TG9uZyh2YWx1ZSk7XG4gICAgaWYgKGV4cGVjdGVkICE9PSB1bmRlZmluZWQgJiYgY2FzdEludChleHBlY3RlZCwgc2l6ZSkgIT09IGV4cGVjdGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkICR7c2l6ZX0tYml0IGludGVnZXIsIGdvdCAke3ZhbHVlfWApO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0ZWQ7XG59O1xuY29uc3QgY2FzdEludCA9ICh2YWx1ZSwgc2l6ZSkgPT4ge1xuICAgIHN3aXRjaCAoc2l6ZSkge1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgcmV0dXJuIEludDMyQXJyYXkub2YodmFsdWUpWzBdO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgcmV0dXJuIEludDE2QXJyYXkub2YodmFsdWUpWzBdO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICByZXR1cm4gSW50OEFycmF5Lm9mKHZhbHVlKVswXTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdE5vbk51bGwgPSAodmFsdWUsIGxvY2F0aW9uKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBhIG5vbi1udWxsIHZhbHVlIGZvciAke2xvY2F0aW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIG5vbi1udWxsIHZhbHVlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdE9iamVjdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgcmVjZWl2ZWRUeXBlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBcImFycmF5XCIgOiB0eXBlb2YgdmFsdWU7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgb2JqZWN0LCBnb3QgJHtyZWNlaXZlZFR5cGV9OiAke3ZhbHVlfWApO1xufTtcbmV4cG9ydCBjb25zdCBleHBlY3RTdHJpbmcgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKFtcImJvb2xlYW5cIiwgXCJudW1iZXJcIiwgXCJiaWdpbnRcIl0uaW5jbHVkZXModHlwZW9mIHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIud2FybihzdGFja1RyYWNlV2FybmluZyhgRXhwZWN0ZWQgc3RyaW5nLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApKTtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIHN0cmluZywgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKTtcbn07XG5leHBvcnQgY29uc3QgZXhwZWN0VW5pb24gPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBhc09iamVjdCA9IGV4cGVjdE9iamVjdCh2YWx1ZSk7XG4gICAgY29uc3Qgc2V0S2V5cyA9IE9iamVjdC5lbnRyaWVzKGFzT2JqZWN0KVxuICAgICAgICAuZmlsdGVyKChbLCB2XSkgPT4gdiAhPSBudWxsKVxuICAgICAgICAubWFwKChba10pID0+IGspO1xuICAgIGlmIChzZXRLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbmlvbnMgbXVzdCBoYXZlIGV4YWN0bHkgb25lIG5vbi1udWxsIG1lbWJlci4gTm9uZSB3ZXJlIGZvdW5kLmApO1xuICAgIH1cbiAgICBpZiAoc2V0S2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVuaW9ucyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgbm9uLW51bGwgbWVtYmVyLiBLZXlzICR7c2V0S2V5c30gd2VyZSBub3QgbnVsbC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzT2JqZWN0O1xufTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZURvdWJsZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXhwZWN0TnVtYmVyKHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3ROdW1iZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZUZsb2F0ID0gc3RyaWN0UGFyc2VEb3VibGU7XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VGbG9hdDMyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RGbG9hdDMyKHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RGbG9hdDMyKHZhbHVlKTtcbn07XG5jb25zdCBOVU1CRVJfUkVHRVggPSAvKC0/KD86MHxbMS05XVxcZCopKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/KXwoLT9JbmZpbml0eSl8KE5hTikvZztcbmNvbnN0IHBhcnNlTnVtYmVyID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHZhbHVlLm1hdGNoKE5VTUJFUl9SRUdFWCk7XG4gICAgaWYgKG1hdGNoZXMgPT09IG51bGwgfHwgbWF0Y2hlc1swXS5sZW5ndGggIT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCByZWFsIG51bWJlciwgZ290IGltcGxpY2l0IE5hTmApO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IGxpbWl0ZWRQYXJzZURvdWJsZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3ROdW1iZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBoYW5kbGVGbG9hdCA9IGxpbWl0ZWRQYXJzZURvdWJsZTtcbmV4cG9ydCBjb25zdCBsaW1pdGVkUGFyc2VGbG9hdCA9IGxpbWl0ZWRQYXJzZURvdWJsZTtcbmV4cG9ydCBjb25zdCBsaW1pdGVkUGFyc2VGbG9hdDMyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0U3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdEZsb2F0MzIodmFsdWUpO1xufTtcbmNvbnN0IHBhcnNlRmxvYXRTdHJpbmcgPSAodmFsdWUpID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJOYU5cIjpcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIGNhc2UgXCJJbmZpbml0eVwiOlxuICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICBjYXNlIFwiLUluZmluaXR5XCI6XG4gICAgICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcGFyc2UgZmxvYXQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZUxvbmcgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RMb25nKHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RMb25nKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VJbnQgPSBzdHJpY3RQYXJzZUxvbmc7XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VJbnQzMiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdEludDMyKHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RJbnQzMih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlU2hvcnQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RTaG9ydChwYXJzZU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0U2hvcnQodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZUJ5dGUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RCeXRlKHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RCeXRlKHZhbHVlKTtcbn07XG5jb25zdCBzdGFja1RyYWNlV2FybmluZyA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIFN0cmluZyhuZXcgVHlwZUVycm9yKG1lc3NhZ2UpLnN0YWNrIHx8IG1lc3NhZ2UpXG4gICAgICAgIC5zcGxpdChcIlxcblwiKVxuICAgICAgICAuc2xpY2UoMCwgNSlcbiAgICAgICAgLmZpbHRlcigocykgPT4gIXMuaW5jbHVkZXMoXCJzdGFja1RyYWNlV2FybmluZ1wiKSlcbiAgICAgICAgLmpvaW4oXCJcXG5cIik7XG59O1xuZXhwb3J0IGNvbnN0IGxvZ2dlciA9IHtcbiAgICB3YXJuOiBjb25zb2xlLndhcm4sXG59O1xuIiwiaW1wb3J0IHsgc3RyaWN0UGFyc2VCeXRlLCBzdHJpY3RQYXJzZURvdWJsZSwgc3RyaWN0UGFyc2VGbG9hdDMyLCBzdHJpY3RQYXJzZVNob3J0IH0gZnJvbSBcIi4vcGFyc2UtdXRpbHNcIjtcbmNvbnN0IERBWVMgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XG5jb25zdCBNT05USFMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XG5leHBvcnQgZnVuY3Rpb24gZGF0ZVRvVXRjU3RyaW5nKGRhdGUpIHtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgY29uc3QgZGF5T2ZNb250aEludCA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgIGNvbnN0IGhvdXJzSW50ID0gZGF0ZS5nZXRVVENIb3VycygpO1xuICAgIGNvbnN0IG1pbnV0ZXNJbnQgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcbiAgICBjb25zdCBzZWNvbmRzSW50ID0gZGF0ZS5nZXRVVENTZWNvbmRzKCk7XG4gICAgY29uc3QgZGF5T2ZNb250aFN0cmluZyA9IGRheU9mTW9udGhJbnQgPCAxMCA/IGAwJHtkYXlPZk1vbnRoSW50fWAgOiBgJHtkYXlPZk1vbnRoSW50fWA7XG4gICAgY29uc3QgaG91cnNTdHJpbmcgPSBob3Vyc0ludCA8IDEwID8gYDAke2hvdXJzSW50fWAgOiBgJHtob3Vyc0ludH1gO1xuICAgIGNvbnN0IG1pbnV0ZXNTdHJpbmcgPSBtaW51dGVzSW50IDwgMTAgPyBgMCR7bWludXRlc0ludH1gIDogYCR7bWludXRlc0ludH1gO1xuICAgIGNvbnN0IHNlY29uZHNTdHJpbmcgPSBzZWNvbmRzSW50IDwgMTAgPyBgMCR7c2Vjb25kc0ludH1gIDogYCR7c2Vjb25kc0ludH1gO1xuICAgIHJldHVybiBgJHtEQVlTW2RheU9mV2Vla119LCAke2RheU9mTW9udGhTdHJpbmd9ICR7TU9OVEhTW21vbnRoXX0gJHt5ZWFyfSAke2hvdXJzU3RyaW5nfToke21pbnV0ZXNTdHJpbmd9OiR7c2Vjb25kc1N0cmluZ30gR01UYDtcbn1cbmNvbnN0IFJGQzMzMzkgPSBuZXcgUmVnRXhwKC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSlbdFRdKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoPzpcXC4oXFxkKykpP1t6Wl0kLyk7XG5leHBvcnQgY29uc3QgcGFyc2VSZmMzMzM5RGF0ZVRpbWUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJSRkMtMzMzOSBkYXRlLXRpbWVzIG11c3QgYmUgZXhwcmVzc2VkIGFzIHN0cmluZ3NcIik7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gUkZDMzMzOS5leGVjKHZhbHVlKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIFJGQy0zMzM5IGRhdGUtdGltZSB2YWx1ZVwiKTtcbiAgICB9XG4gICAgY29uc3QgW18sIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzXSA9IG1hdGNoO1xuICAgIGNvbnN0IHllYXIgPSBzdHJpY3RQYXJzZVNob3J0KHN0cmlwTGVhZGluZ1plcm9lcyh5ZWFyU3RyKSk7XG4gICAgY29uc3QgbW9udGggPSBwYXJzZURhdGVWYWx1ZShtb250aFN0ciwgXCJtb250aFwiLCAxLCAxMik7XG4gICAgY29uc3QgZGF5ID0gcGFyc2VEYXRlVmFsdWUoZGF5U3RyLCBcImRheVwiLCAxLCAzMSk7XG4gICAgcmV0dXJuIGJ1aWxkRGF0ZSh5ZWFyLCBtb250aCwgZGF5LCB7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzIH0pO1xufTtcbmNvbnN0IFJGQzMzMzlfV0lUSF9PRkZTRVQgPSBuZXcgUmVnRXhwKC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSlbdFRdKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoPzpcXC4oXFxkKykpPygoWy0rXVxcZHsyfVxcOlxcZHsyfSl8W3paXSkkLyk7XG5leHBvcnQgY29uc3QgcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUkZDLTMzMzkgZGF0ZS10aW1lcyBtdXN0IGJlIGV4cHJlc3NlZCBhcyBzdHJpbmdzXCIpO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IFJGQzMzMzlfV0lUSF9PRkZTRVQuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBSRkMtMzMzOSBkYXRlLXRpbWUgdmFsdWVcIik7XG4gICAgfVxuICAgIGNvbnN0IFtfLCB5ZWFyU3RyLCBtb250aFN0ciwgZGF5U3RyLCBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcywgb2Zmc2V0U3RyXSA9IG1hdGNoO1xuICAgIGNvbnN0IHllYXIgPSBzdHJpY3RQYXJzZVNob3J0KHN0cmlwTGVhZGluZ1plcm9lcyh5ZWFyU3RyKSk7XG4gICAgY29uc3QgbW9udGggPSBwYXJzZURhdGVWYWx1ZShtb250aFN0ciwgXCJtb250aFwiLCAxLCAxMik7XG4gICAgY29uc3QgZGF5ID0gcGFyc2VEYXRlVmFsdWUoZGF5U3RyLCBcImRheVwiLCAxLCAzMSk7XG4gICAgY29uc3QgZGF0ZSA9IGJ1aWxkRGF0ZSh5ZWFyLCBtb250aCwgZGF5LCB7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzIH0pO1xuICAgIGlmIChvZmZzZXRTdHIudG9VcHBlckNhc2UoKSAhPSBcIlpcIikge1xuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSBwYXJzZU9mZnNldFRvTWlsbGlzZWNvbmRzKG9mZnNldFN0cikpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn07XG5jb25zdCBJTUZfRklYREFURSA9IG5ldyBSZWdFeHAoL14oPzpNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLCAoXFxkezJ9KSAoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpIChcXGR7NH0pIChcXGR7MSwyfSk6KFxcZHsyfSk6KFxcZHsyfSkoPzpcXC4oXFxkKykpPyBHTVQkLyk7XG5jb25zdCBSRkNfODUwX0RBVEUgPSBuZXcgUmVnRXhwKC9eKD86TW9uZGF5fFR1ZXNkYXl8V2VkbmVzZGF5fFRodXJzZGF5fEZyaWRheXxTYXR1cmRheXxTdW5kYXkpLCAoXFxkezJ9KS0oSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpLShcXGR7Mn0pIChcXGR7MSwyfSk6KFxcZHsyfSk6KFxcZHsyfSkoPzpcXC4oXFxkKykpPyBHTVQkLyk7XG5jb25zdCBBU0NfVElNRSA9IG5ldyBSZWdFeHAoL14oPzpNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pIChKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYykgKCBbMS05XXxcXGR7Mn0pIChcXGR7MSwyfSk6KFxcZHsyfSk6KFxcZHsyfSkoPzpcXC4oXFxkKykpPyAoXFxkezR9KSQvKTtcbmV4cG9ydCBjb25zdCBwYXJzZVJmYzcyMzFEYXRlVGltZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJGQy03MjMxIGRhdGUtdGltZXMgbXVzdCBiZSBleHByZXNzZWQgYXMgc3RyaW5nc1wiKTtcbiAgICB9XG4gICAgbGV0IG1hdGNoID0gSU1GX0ZJWERBVEUuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IFtfLCBkYXlTdHIsIG1vbnRoU3RyLCB5ZWFyU3RyLCBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kc10gPSBtYXRjaDtcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGF0ZShzdHJpY3RQYXJzZVNob3J0KHN0cmlwTGVhZGluZ1plcm9lcyh5ZWFyU3RyKSksIHBhcnNlTW9udGhCeVNob3J0TmFtZShtb250aFN0ciksIHBhcnNlRGF0ZVZhbHVlKGRheVN0ciwgXCJkYXlcIiwgMSwgMzEpLCB7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzIH0pO1xuICAgIH1cbiAgICBtYXRjaCA9IFJGQ184NTBfREFURS5leGVjKHZhbHVlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgW18sIGRheVN0ciwgbW9udGhTdHIsIHllYXJTdHIsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzXSA9IG1hdGNoO1xuICAgICAgICByZXR1cm4gYWRqdXN0UmZjODUwWWVhcihidWlsZERhdGUocGFyc2VUd29EaWdpdFllYXIoeWVhclN0ciksIHBhcnNlTW9udGhCeVNob3J0TmFtZShtb250aFN0ciksIHBhcnNlRGF0ZVZhbHVlKGRheVN0ciwgXCJkYXlcIiwgMSwgMzEpLCB7XG4gICAgICAgICAgICBob3VycyxcbiAgICAgICAgICAgIG1pbnV0ZXMsXG4gICAgICAgICAgICBzZWNvbmRzLFxuICAgICAgICAgICAgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBtYXRjaCA9IEFTQ19USU1FLmV4ZWModmFsdWUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb25zdCBbXywgbW9udGhTdHIsIGRheVN0ciwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMsIHllYXJTdHJdID0gbWF0Y2g7XG4gICAgICAgIHJldHVybiBidWlsZERhdGUoc3RyaWN0UGFyc2VTaG9ydChzdHJpcExlYWRpbmdaZXJvZXMoeWVhclN0cikpLCBwYXJzZU1vbnRoQnlTaG9ydE5hbWUobW9udGhTdHIpLCBwYXJzZURhdGVWYWx1ZShkYXlTdHIudHJpbUxlZnQoKSwgXCJkYXlcIiwgMSwgMzEpLCB7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBSRkMtNzIzMSBkYXRlLXRpbWUgdmFsdWVcIik7XG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlRXBvY2hUaW1lc3RhbXAgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsZXQgdmFsdWVBc0RvdWJsZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHZhbHVlQXNEb3VibGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhbHVlQXNEb3VibGUgPSBzdHJpY3RQYXJzZURvdWJsZSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXBvY2ggdGltZXN0YW1wcyBtdXN0IGJlIGV4cHJlc3NlZCBhcyBmbG9hdGluZyBwb2ludCBudW1iZXJzIG9yIHRoZWlyIHN0cmluZyByZXByZXNlbnRhdGlvblwiKTtcbiAgICB9XG4gICAgaWYgKE51bWJlci5pc05hTih2YWx1ZUFzRG91YmxlKSB8fCB2YWx1ZUFzRG91YmxlID09PSBJbmZpbml0eSB8fCB2YWx1ZUFzRG91YmxlID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVwb2NoIHRpbWVzdGFtcHMgbXVzdCBiZSB2YWxpZCwgbm9uLUluZmluaXRlLCBub24tTmFOIG51bWVyaWNzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUoTWF0aC5yb3VuZCh2YWx1ZUFzRG91YmxlICogMTAwMCkpO1xufTtcbmNvbnN0IGJ1aWxkRGF0ZSA9ICh5ZWFyLCBtb250aCwgZGF5LCB0aW1lKSA9PiB7XG4gICAgY29uc3QgYWRqdXN0ZWRNb250aCA9IG1vbnRoIC0gMTtcbiAgICB2YWxpZGF0ZURheU9mTW9udGgoeWVhciwgYWRqdXN0ZWRNb250aCwgZGF5KTtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgYWRqdXN0ZWRNb250aCwgZGF5LCBwYXJzZURhdGVWYWx1ZSh0aW1lLmhvdXJzLCBcImhvdXJcIiwgMCwgMjMpLCBwYXJzZURhdGVWYWx1ZSh0aW1lLm1pbnV0ZXMsIFwibWludXRlXCIsIDAsIDU5KSwgcGFyc2VEYXRlVmFsdWUodGltZS5zZWNvbmRzLCBcInNlY29uZHNcIiwgMCwgNjApLCBwYXJzZU1pbGxpc2Vjb25kcyh0aW1lLmZyYWN0aW9uYWxNaWxsaXNlY29uZHMpKSk7XG59O1xuY29uc3QgcGFyc2VUd29EaWdpdFllYXIgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCB0aGlzWWVhciA9IG5ldyBEYXRlKCkuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICBjb25zdCB2YWx1ZUluVGhpc0NlbnR1cnkgPSBNYXRoLmZsb29yKHRoaXNZZWFyIC8gMTAwKSAqIDEwMCArIHN0cmljdFBhcnNlU2hvcnQoc3RyaXBMZWFkaW5nWmVyb2VzKHZhbHVlKSk7XG4gICAgaWYgKHZhbHVlSW5UaGlzQ2VudHVyeSA8IHRoaXNZZWFyKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZUluVGhpc0NlbnR1cnkgKyAxMDA7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZUluVGhpc0NlbnR1cnk7XG59O1xuY29uc3QgRklGVFlfWUVBUlNfSU5fTUlMTElTID0gNTAgKiAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuY29uc3QgYWRqdXN0UmZjODUwWWVhciA9IChpbnB1dCkgPT4ge1xuICAgIGlmIChpbnB1dC5nZXRUaW1lKCkgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKSA+IEZJRlRZX1lFQVJTX0lOX01JTExJUykge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoaW5wdXQuZ2V0VVRDRnVsbFllYXIoKSAtIDEwMCwgaW5wdXQuZ2V0VVRDTW9udGgoKSwgaW5wdXQuZ2V0VVRDRGF0ZSgpLCBpbnB1dC5nZXRVVENIb3VycygpLCBpbnB1dC5nZXRVVENNaW51dGVzKCksIGlucHV0LmdldFVUQ1NlY29uZHMoKSwgaW5wdXQuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0O1xufTtcbmNvbnN0IHBhcnNlTW9udGhCeVNob3J0TmFtZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IG1vbnRoSWR4ID0gTU9OVEhTLmluZGV4T2YodmFsdWUpO1xuICAgIGlmIChtb250aElkeCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBtb250aDogJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbnRoSWR4ICsgMTtcbn07XG5jb25zdCBEQVlTX0lOX01PTlRIID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuY29uc3QgdmFsaWRhdGVEYXlPZk1vbnRoID0gKHllYXIsIG1vbnRoLCBkYXkpID0+IHtcbiAgICBsZXQgbWF4RGF5cyA9IERBWVNfSU5fTU9OVEhbbW9udGhdO1xuICAgIGlmIChtb250aCA9PT0gMSAmJiBpc0xlYXBZZWFyKHllYXIpKSB7XG4gICAgICAgIG1heERheXMgPSAyOTtcbiAgICB9XG4gICAgaWYgKGRheSA+IG1heERheXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBkYXkgZm9yICR7TU9OVEhTW21vbnRoXX0gaW4gJHt5ZWFyfTogJHtkYXl9YCk7XG4gICAgfVxufTtcbmNvbnN0IGlzTGVhcFllYXIgPSAoeWVhcikgPT4ge1xuICAgIHJldHVybiB5ZWFyICUgNCA9PT0gMCAmJiAoeWVhciAlIDEwMCAhPT0gMCB8fCB5ZWFyICUgNDAwID09PSAwKTtcbn07XG5jb25zdCBwYXJzZURhdGVWYWx1ZSA9ICh2YWx1ZSwgdHlwZSwgbG93ZXIsIHVwcGVyKSA9PiB7XG4gICAgY29uc3QgZGF0ZVZhbCA9IHN0cmljdFBhcnNlQnl0ZShzdHJpcExlYWRpbmdaZXJvZXModmFsdWUpKTtcbiAgICBpZiAoZGF0ZVZhbCA8IGxvd2VyIHx8IGRhdGVWYWwgPiB1cHBlcikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R5cGV9IG11c3QgYmUgYmV0d2VlbiAke2xvd2VyfSBhbmQgJHt1cHBlcn0sIGluY2x1c2l2ZWApO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZVZhbDtcbn07XG5jb25zdCBwYXJzZU1pbGxpc2Vjb25kcyA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaWN0UGFyc2VGbG9hdDMyKFwiMC5cIiArIHZhbHVlKSAqIDEwMDA7XG59O1xuY29uc3QgcGFyc2VPZmZzZXRUb01pbGxpc2Vjb25kcyA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGRpcmVjdGlvblN0ciA9IHZhbHVlWzBdO1xuICAgIGxldCBkaXJlY3Rpb24gPSAxO1xuICAgIGlmIChkaXJlY3Rpb25TdHIgPT0gXCIrXCIpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGlyZWN0aW9uU3RyID09IFwiLVwiKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9IC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgT2Zmc2V0IGRpcmVjdGlvbiwgJHtkaXJlY3Rpb25TdHJ9LCBtdXN0IGJlIFwiK1wiIG9yIFwiLVwiYCk7XG4gICAgfVxuICAgIGNvbnN0IGhvdXIgPSBOdW1iZXIodmFsdWUuc3Vic3RyaW5nKDEsIDMpKTtcbiAgICBjb25zdCBtaW51dGUgPSBOdW1iZXIodmFsdWUuc3Vic3RyaW5nKDQsIDYpKTtcbiAgICByZXR1cm4gZGlyZWN0aW9uICogKGhvdXIgKiA2MCArIG1pbnV0ZSkgKiA2MCAqIDEwMDA7XG59O1xuY29uc3Qgc3RyaXBMZWFkaW5nWmVyb2VzID0gKHZhbHVlKSA9PiB7XG4gICAgbGV0IGlkeCA9IDA7XG4gICAgd2hpbGUgKGlkeCA8IHZhbHVlLmxlbmd0aCAtIDEgJiYgdmFsdWUuY2hhckF0KGlkeCkgPT09IFwiMFwiKSB7XG4gICAgICAgIGlkeCsrO1xuICAgIH1cbiAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnNsaWNlKGlkeCk7XG59O1xuIiwiZXhwb3J0IGNsYXNzIFNlcnZpY2VFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gb3B0aW9ucy4kZmF1bHQ7XG4gICAgICAgIHRoaXMuJG1ldGFkYXRhID0gb3B0aW9ucy4kbWV0YWRhdGE7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiA9IChleGNlcHRpb24sIGFkZGl0aW9ucyA9IHt9KSA9PiB7XG4gICAgT2JqZWN0LmVudHJpZXMoYWRkaXRpb25zKVxuICAgICAgICAuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAuZm9yRWFjaCgoW2ssIHZdKSA9PiB7XG4gICAgICAgIGlmIChleGNlcHRpb25ba10gPT0gdW5kZWZpbmVkIHx8IGV4Y2VwdGlvbltrXSA9PT0gXCJcIikge1xuICAgICAgICAgICAgZXhjZXB0aW9uW2tdID0gdjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBleGNlcHRpb24ubWVzc2FnZSB8fCBleGNlcHRpb24uTWVzc2FnZSB8fCBcIlVua25vd25FcnJvclwiO1xuICAgIGV4Y2VwdGlvbi5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICBkZWxldGUgZXhjZXB0aW9uLk1lc3NhZ2U7XG4gICAgcmV0dXJuIGV4Y2VwdGlvbjtcbn07XG4iLCJpbXBvcnQgeyBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gfSBmcm9tIFwiLi9leGNlcHRpb25zXCI7XG5leHBvcnQgY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSAoeyBvdXRwdXQsIHBhcnNlZEJvZHksIGV4Y2VwdGlvbkN0b3IsIGVycm9yQ29kZSB9KSA9PiB7XG4gICAgY29uc3QgJG1ldGFkYXRhID0gZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpO1xuICAgIGNvbnN0IHN0YXR1c0NvZGUgPSAkbWV0YWRhdGEuaHR0cFN0YXR1c0NvZGUgPyAkbWV0YWRhdGEuaHR0cFN0YXR1c0NvZGUgKyBcIlwiIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IGV4Y2VwdGlvbkN0b3Ioe1xuICAgICAgICBuYW1lOiBwYXJzZWRCb2R5Py5jb2RlIHx8IHBhcnNlZEJvZHk/LkNvZGUgfHwgZXJyb3JDb2RlIHx8IHN0YXR1c0NvZGUgfHwgXCJVbmtub3duRXJyb3JcIixcbiAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAkbWV0YWRhdGEsXG4gICAgfSk7XG4gICAgdGhyb3cgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKHJlc3BvbnNlLCBwYXJzZWRCb2R5KTtcbn07XG5leHBvcnQgY29uc3Qgd2l0aEJhc2VFeGNlcHRpb24gPSAoRXhjZXB0aW9uQ3RvcikgPT4ge1xuICAgIHJldHVybiAoeyBvdXRwdXQsIHBhcnNlZEJvZHksIGVycm9yQ29kZSB9KSA9PiB7XG4gICAgICAgIHRocm93RGVmYXVsdEVycm9yKHsgb3V0cHV0LCBwYXJzZWRCb2R5LCBleGNlcHRpb25DdG9yOiBFeGNlcHRpb25DdG9yLCBlcnJvckNvZGUgfSk7XG4gICAgfTtcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG4iLCJleHBvcnQgY29uc3QgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSA9IChtb2RlKSA9PiB7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgIGNhc2UgXCJzdGFuZGFyZFwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXRyeU1vZGU6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dDogMzEwMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJpbi1yZWdpb25cIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmV0cnlNb2RlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDExMDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiY3Jvc3MtcmVnaW9uXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJldHJ5TW9kZTogXCJzdGFuZGFyZFwiLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0OiAzMTAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXRyeU1vZGU6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dDogMzAwMDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbn07XG4iLCJsZXQgd2FybmluZ0VtaXR0ZWQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uID0gKHZlcnNpb24pID0+IHtcbiAgICBpZiAodmVyc2lvbiAmJiAhd2FybmluZ0VtaXR0ZWQgJiYgcGFyc2VJbnQodmVyc2lvbi5zdWJzdHJpbmcoMSwgdmVyc2lvbi5pbmRleE9mKFwiLlwiKSkpIDwgMTQpIHtcbiAgICAgICAgd2FybmluZ0VtaXR0ZWQgPSB0cnVlO1xuICAgIH1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQoc3RyKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIFwiJVwiICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGNvbnN0IGdldFZhbHVlRnJvbVRleHROb2RlID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IHRleHROb2RlTmFtZSA9IFwiI3RleHRcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG9ialtrZXldW3RleHROb2RlTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBvYmpba2V5XVt0ZXh0Tm9kZU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gXCJvYmplY3RcIiAmJiBvYmpba2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBnZXRWYWx1ZUZyb21UZXh0Tm9kZShvYmpba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn07XG4iLCJleHBvcnQgY29uc3QgU3RyaW5nV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcbiAgICBjb25zdCBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoU3RyaW5nLCBbbnVsbCwgLi4uYXJndW1lbnRzXSk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufTtcblN0cmluZ1dyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJpbmcucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IFN0cmluZ1dyYXBwZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0sXG59KTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTdHJpbmdXcmFwcGVyLCBTdHJpbmcpO1xuZXhwb3J0IGNsYXNzIExhenlKc29uU3RyaW5nIGV4dGVuZHMgU3RyaW5nV3JhcHBlciB7XG4gICAgZGVzZXJpYWxpemVKU09OKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdXBlci50b1N0cmluZygpKTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBMYXp5SnNvblN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIG9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTGF6eUpzb25TdHJpbmcoSlNPTi5zdHJpbmdpZnkob2JqZWN0KSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIG1hcChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICBsZXQgZmlsdGVyO1xuICAgIGxldCBpbnN0cnVjdGlvbnM7XG4gICAgaWYgKHR5cGVvZiBhcmcxID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBhcmcyID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHRhcmdldCA9IHt9O1xuICAgICAgICBpbnN0cnVjdGlvbnMgPSBhcmcwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0ID0gYXJnMDtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcxID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGZpbHRlciA9IGFyZzE7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSBhcmcyO1xuICAgICAgICAgICAgcmV0dXJuIG1hcFdpdGhGaWx0ZXIodGFyZ2V0LCBmaWx0ZXIsIGluc3RydWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSBhcmcxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGluc3RydWN0aW9ucykpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGluc3RydWN0aW9uc1trZXldKSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBpbnN0cnVjdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5SW5zdHJ1Y3Rpb24odGFyZ2V0LCBudWxsLCBpbnN0cnVjdGlvbnMsIGtleSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5leHBvcnQgY29uc3QgY29udmVydE1hcCA9ICh0YXJnZXQpID0+IHtcbiAgICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh0YXJnZXQgfHwge30pKSB7XG4gICAgICAgIG91dHB1dFtrXSA9IFssIHZdO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufTtcbmV4cG9ydCBjb25zdCB0YWtlID0gKHNvdXJjZSwgaW5zdHJ1Y3Rpb25zKSA9PiB7XG4gICAgY29uc3Qgb3V0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIGFwcGx5SW5zdHJ1Y3Rpb24ob3V0LCBzb3VyY2UsIGluc3RydWN0aW9ucywga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn07XG5jb25zdCBtYXBXaXRoRmlsdGVyID0gKHRhcmdldCwgZmlsdGVyLCBpbnN0cnVjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gbWFwKHRhcmdldCwgT2JqZWN0LmVudHJpZXMoaW5zdHJ1Y3Rpb25zKS5yZWR1Y2UoKF9pbnN0cnVjdGlvbnMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIF9pbnN0cnVjdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgX2luc3RydWN0aW9uc1trZXldID0gW2ZpbHRlciwgdmFsdWUoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfaW5zdHJ1Y3Rpb25zW2tleV0gPSBbZmlsdGVyLCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9pbnN0cnVjdGlvbnM7XG4gICAgfSwge30pKTtcbn07XG5jb25zdCBhcHBseUluc3RydWN0aW9uID0gKHRhcmdldCwgc291cmNlLCBpbnN0cnVjdGlvbnMsIHRhcmdldEtleSkgPT4ge1xuICAgIGlmIChzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW3RhcmdldEtleV07XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdHJ1Y3Rpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBbLCBpbnN0cnVjdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2ZpbHRlciA9IG5vbk51bGxpc2gsIHZhbHVlRm4gPSBwYXNzLCBzb3VyY2VLZXkgPSB0YXJnZXRLZXldID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgIGlmICgodHlwZW9mIGZpbHRlciA9PT0gXCJmdW5jdGlvblwiICYmIGZpbHRlcihzb3VyY2Vbc291cmNlS2V5XSkpIHx8ICh0eXBlb2YgZmlsdGVyICE9PSBcImZ1bmN0aW9uXCIgJiYgISFmaWx0ZXIpKSB7XG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0S2V5XSA9IHZhbHVlRm4oc291cmNlW3NvdXJjZUtleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IFtmaWx0ZXIsIHZhbHVlXSA9IGluc3RydWN0aW9uc1t0YXJnZXRLZXldO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBsZXQgX3ZhbHVlO1xuICAgICAgICBjb25zdCBkZWZhdWx0RmlsdGVyUGFzc2VkID0gZmlsdGVyID09PSB1bmRlZmluZWQgJiYgKF92YWx1ZSA9IHZhbHVlKCkpICE9IG51bGw7XG4gICAgICAgIGNvbnN0IGN1c3RvbUZpbHRlclBhc3NlZCA9ICh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgJiYgISFmaWx0ZXIodm9pZCAwKSkgfHwgKHR5cGVvZiBmaWx0ZXIgIT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcik7XG4gICAgICAgIGlmIChkZWZhdWx0RmlsdGVyUGFzc2VkKSB7XG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0S2V5XSA9IF92YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXN0b21GaWx0ZXJQYXNzZWQpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gdmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEZpbHRlclBhc3NlZCA9IGZpbHRlciA9PT0gdW5kZWZpbmVkICYmIHZhbHVlICE9IG51bGw7XG4gICAgICAgIGNvbnN0IGN1c3RvbUZpbHRlclBhc3NlZCA9ICh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgJiYgISFmaWx0ZXIodmFsdWUpKSB8fCAodHlwZW9mIGZpbHRlciAhPT0gXCJmdW5jdGlvblwiICYmICEhZmlsdGVyKTtcbiAgICAgICAgaWYgKGRlZmF1bHRGaWx0ZXJQYXNzZWQgfHwgY3VzdG9tRmlsdGVyUGFzc2VkKSB7XG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0S2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IG5vbk51bGxpc2ggPSAoXykgPT4gXyAhPSBudWxsO1xuY29uc3QgcGFzcyA9IChfKSA9PiBfO1xuIiwiaW1wb3J0IHsgZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQgfSBmcm9tIFwiLi9leHRlbmRlZC1lbmNvZGUtdXJpLWNvbXBvbmVudFwiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVkUGF0aCA9IChyZXNvbHZlZFBhdGgsIGlucHV0LCBtZW1iZXJOYW1lLCBsYWJlbFZhbHVlUHJvdmlkZXIsIHVyaUxhYmVsLCBpc0dyZWVkeUxhYmVsKSA9PiB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaW5wdXRbbWVtYmVyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBsYWJlbFZhbHVlID0gbGFiZWxWYWx1ZVByb3ZpZGVyKCk7XG4gICAgICAgIGlmIChsYWJlbFZhbHVlLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbXB0eSB2YWx1ZSBwcm92aWRlZCBmb3IgaW5wdXQgSFRUUCBsYWJlbDogXCIgKyBtZW1iZXJOYW1lICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmVkUGF0aCA9IHJlc29sdmVkUGF0aC5yZXBsYWNlKHVyaUxhYmVsLCBpc0dyZWVkeUxhYmVsXG4gICAgICAgICAgICA/IGxhYmVsVmFsdWVcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCIvXCIpXG4gICAgICAgICAgICAgICAgLm1hcCgoc2VnbWVudCkgPT4gZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQoc2VnbWVudCkpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIvXCIpXG4gICAgICAgICAgICA6IGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsVmFsdWUpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbHVlIHByb3ZpZGVkIGZvciBpbnB1dCBIVFRQIGxhYmVsOiBcIiArIG1lbWJlck5hbWUgKyBcIi5cIik7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZFBhdGg7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICB9XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICBjYXNlIEluZmluaXR5OlxuICAgICAgICAgICAgcmV0dXJuIFwiSW5maW5pdHlcIjtcbiAgICAgICAgY2FzZSAtSW5maW5pdHk6XG4gICAgICAgICAgICByZXR1cm4gXCItSW5maW5pdHlcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuIiwiZXhwb3J0IGNvbnN0IF9qc29uID0gKG9iaikgPT4ge1xuICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iai5maWx0ZXIoKF8pID0+IF8gIT0gbnVsbCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG4gICAgICAgICAgICBpZiAob2JqW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBfanNvbihvYmpba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn07XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBTVFNTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU1RTU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNFTlNJVElWRV9TVFJJTkcgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTVFNTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1NUU1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBFeHBpcmVkVG9rZW5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFeHBpcmVkVG9rZW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFeHBpcmVkVG9rZW5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIklEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIklEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIklEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IENyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TZWNyZXRBY2Nlc3NLZXkgJiYgeyBTZWNyZXRBY2Nlc3NLZXk6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBc3N1bWVSb2xlUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxzICYmIHsgQ3JlZGVudGlhbHM6IENyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DcmVkZW50aWFscykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBc3N1bWVSb2xlV2l0aFNBTUxSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TQU1MQXNzZXJ0aW9uICYmIHsgU0FNTEFzc2VydGlvbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc3VtZVJvbGVXaXRoU0FNTFJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLldlYklkZW50aXR5VG9rZW4gJiYgeyBXZWJJZGVudGl0eVRva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2V0RmVkZXJhdGlvblRva2VuUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxzICYmIHsgQ3JlZGVudGlhbHM6IENyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DcmVkZW50aWFscykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZXRTZXNzaW9uVG9rZW5SZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGNvbGxlY3RCb2R5LCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdE5vbk51bGwgYXMgX19leHBlY3ROb25OdWxsLCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50IGFzIF9fZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQsIGdldFZhbHVlRnJvbVRleHROb2RlIGFzIF9fZ2V0VmFsdWVGcm9tVGV4dE5vZGUsIHBhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldCBhcyBfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldCwgc3RyaWN0UGFyc2VJbnQzMiBhcyBfX3N0cmljdFBhcnNlSW50MzIsIHdpdGhCYXNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFhNTFBhcnNlciB9IGZyb20gXCJmYXN0LXhtbC1wYXJzZXJcIjtcbmltcG9ydCB7IEV4cGlyZWRUb2tlbkV4Y2VwdGlvbiwgSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uLCBJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uLCBJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24sIEludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uLCBNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbiwgUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24sIFJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IFNUU1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9TVFNTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY29uc3Qgc2VfQXNzdW1lUm9sZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9Bc3N1bWVSb2xlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJBc3N1bWVSb2xlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9Bc3N1bWVSb2xlV2l0aFNBTUxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQXNzdW1lUm9sZVdpdGhTQU1MUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJBc3N1bWVSb2xlV2l0aFNBTUxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlY29kZUF1dGhvcml6YXRpb25NZXNzYWdlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRBY2Nlc3NLZXlJbmZvQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldEFjY2Vzc0tleUluZm9SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldEFjY2Vzc0tleUluZm9cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldENhbGxlcklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldENhbGxlcklkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRDYWxsZXJJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0RmVkZXJhdGlvblRva2VuQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldEZlZGVyYXRpb25Ub2tlblJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0RmVkZXJhdGlvblRva2VuXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRTZXNzaW9uVG9rZW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0U2Vzc2lvblRva2VuUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRTZXNzaW9uVG9rZW5cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Fzc3VtZVJvbGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Fzc3VtZVJvbGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9Bc3N1bWVSb2xlUmVzcG9uc2UoZGF0YS5Bc3N1bWVSb2xlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Fzc3VtZVJvbGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUGFja2VkUG9saWN5VG9vTGFyZ2VcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Fzc3VtZVJvbGVXaXRoU0FNTENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQXNzdW1lUm9sZVdpdGhTQU1MQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQXNzdW1lUm9sZVdpdGhTQU1MUmVzcG9uc2UoZGF0YS5Bc3N1bWVSb2xlV2l0aFNBTUxSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQXNzdW1lUm9sZVdpdGhTQU1MQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIklEUFJlamVjdGVkQ2xhaW1cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJZGVudGl0eVRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1hbGZvcm1lZFBvbGljeURvY3VtZW50XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlBhY2tlZFBvbGljeVRvb0xhcmdlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3BvbnNlKGRhdGEuQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIklEUENvbW11bmljYXRpb25FcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIklEUFJlamVjdGVkQ2xhaW1cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJZGVudGl0eVRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1hbGZvcm1lZFBvbGljeURvY3VtZW50XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlBhY2tlZFBvbGljeVRvb0xhcmdlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlc3BvbnNlKGRhdGEuRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRBY2Nlc3NLZXlJbmZvUmVzcG9uc2UoZGF0YS5HZXRBY2Nlc3NLZXlJbmZvUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldENhbGxlcklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRDYWxsZXJJZGVudGl0eUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldENhbGxlcklkZW50aXR5UmVzcG9uc2UoZGF0YS5HZXRDYWxsZXJJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRDYWxsZXJJZGVudGl0eUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RmVkZXJhdGlvblRva2VuQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRGZWRlcmF0aW9uVG9rZW5Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRGZWRlcmF0aW9uVG9rZW5SZXNwb25zZShkYXRhLkdldEZlZGVyYXRpb25Ub2tlblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRGZWRlcmF0aW9uVG9rZW5Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUGFja2VkUG9saWN5VG9vTGFyZ2VcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFNlc3Npb25Ub2tlbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0U2Vzc2lvblRva2VuQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0U2Vzc2lvblRva2VuUmVzcG9uc2UoZGF0YS5HZXRTZXNzaW9uVG9rZW5SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0U2Vzc2lvblRva2VuQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFeHBpcmVkVG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0lEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IElEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IHNlX0Fzc3VtZVJvbGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Sb2xlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJvbGVBcm5cIl0gPSBpbnB1dC5Sb2xlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUm9sZVNlc3Npb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJvbGVTZXNzaW9uTmFtZVwiXSA9IGlucHV0LlJvbGVTZXNzaW9uTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeUFybnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlKGlucHV0LlBvbGljeUFybnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUG9saWN5QXJucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlBvbGljeUFybnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lBcm5zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRHVyYXRpb25TZWNvbmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkR1cmF0aW9uU2Vjb25kc1wiXSA9IGlucHV0LkR1cmF0aW9uU2Vjb25kcztcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfdGFnTGlzdFR5cGUoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRyYW5zaXRpdmVUYWdLZXlzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX3RhZ0tleUxpc3RUeXBlKGlucHV0LlRyYW5zaXRpdmVUYWdLZXlzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRyYW5zaXRpdmVUYWdLZXlzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVHJhbnNpdGl2ZVRhZ0tleXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUcmFuc2l0aXZlVGFnS2V5cy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZXJuYWxJZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFeHRlcm5hbElkXCJdID0gaW5wdXQuRXh0ZXJuYWxJZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNlcmlhbE51bWJlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTZXJpYWxOdW1iZXJcIl0gPSBpbnB1dC5TZXJpYWxOdW1iZXI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Ub2tlbkNvZGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9rZW5Db2RlXCJdID0gaW5wdXQuVG9rZW5Db2RlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU291cmNlSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlSWRlbnRpdHlcIl0gPSBpbnB1dC5Tb3VyY2VJZGVudGl0eTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQXNzdW1lUm9sZVdpdGhTQU1MUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlByaW5jaXBhbEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcmluY2lwYWxBcm5cIl0gPSBpbnB1dC5QcmluY2lwYWxBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TQU1MQXNzZXJ0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNBTUxBc3NlcnRpb25cIl0gPSBpbnB1dC5TQU1MQXNzZXJ0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lcIl0gPSBpbnB1dC5Qb2xpY3k7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EdXJhdGlvblNlY29uZHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRHVyYXRpb25TZWNvbmRzXCJdID0gaW5wdXQuRHVyYXRpb25TZWNvbmRzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJvbGVTZXNzaW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlU2Vzc2lvbk5hbWVcIl0gPSBpbnB1dC5Sb2xlU2Vzc2lvbk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5XZWJJZGVudGl0eVRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIldlYklkZW50aXR5VG9rZW5cIl0gPSBpbnB1dC5XZWJJZGVudGl0eVRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUHJvdmlkZXJJZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcm92aWRlcklkXCJdID0gaW5wdXQuUHJvdmlkZXJJZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeUFybnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlKGlucHV0LlBvbGljeUFybnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUG9saWN5QXJucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlBvbGljeUFybnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lBcm5zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRHVyYXRpb25TZWNvbmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkR1cmF0aW9uU2Vjb25kc1wiXSA9IGlucHV0LkR1cmF0aW9uU2Vjb25kcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbmNvZGVkTWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmNvZGVkTWVzc2FnZVwiXSA9IGlucHV0LkVuY29kZWRNZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRBY2Nlc3NLZXlJbmZvUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWNjZXNzS2V5SWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWNjZXNzS2V5SWRcIl0gPSBpbnB1dC5BY2Nlc3NLZXlJZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0Q2FsbGVySWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldEZlZGVyYXRpb25Ub2tlblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEdXJhdGlvblNlY29uZHNcIl0gPSBpbnB1dC5EdXJhdGlvblNlY29uZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX3RhZ0xpc3RUeXBlKGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldFNlc3Npb25Ub2tlblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEdXJhdGlvblNlY29uZHNcIl0gPSBpbnB1dC5EdXJhdGlvblNlY29uZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TZXJpYWxOdW1iZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2VyaWFsTnVtYmVyXCJdID0gaW5wdXQuU2VyaWFsTnVtYmVyO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVG9rZW5Db2RlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRva2VuQ29kZVwiXSA9IGlucHV0LlRva2VuQ29kZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1BvbGljeURlc2NyaXB0b3JUeXBlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Qb2xpY3lEZXNjcmlwdG9yVHlwZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuYXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcImFyblwiXSA9IGlucHV0LmFybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVGFnID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5LZXkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiS2V5XCJdID0gaW5wdXQuS2V5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfdGFnS2V5TGlzdFR5cGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfdGFnTGlzdFR5cGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBkZV9Bc3N1bWVkUm9sZVVzZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXNzdW1lZFJvbGVJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBc3N1bWVkUm9sZUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFyblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFzc3VtZWRSb2xlVXNlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlVXNlciA9IGRlX0Fzc3VtZWRSb2xlVXNlcihvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBhY2tlZFBvbGljeVNpemUgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNvdXJjZUlkZW50aXR5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU291cmNlSWRlbnRpdHlcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQXNzdW1lUm9sZVdpdGhTQU1MUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFzc3VtZWRSb2xlVXNlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlVXNlciA9IGRlX0Fzc3VtZWRSb2xlVXNlcihvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBhY2tlZFBvbGljeVNpemUgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWJqZWN0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3ViamVjdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3ViamVjdFR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWJqZWN0VHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RUeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIklzc3VlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLklzc3VlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklzc3VlclwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBdWRpZW5jZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkF1ZGllbmNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXVkaWVuY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZVF1YWxpZmllclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVRdWFsaWZpZXIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lUXVhbGlmaWVyXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNvdXJjZUlkZW50aXR5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU291cmNlSWRlbnRpdHkgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bc3N1bWVkUm9sZVVzZXIgPSBkZV9Bc3N1bWVkUm9sZVVzZXIob3V0cHV0W1wiQXNzdW1lZFJvbGVVc2VyXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlBhY2tlZFBvbGljeVNpemVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QYWNrZWRQb2xpY3lTaXplID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBhY2tlZFBvbGljeVNpemVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUHJvdmlkZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qcm92aWRlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlByb3ZpZGVyXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkF1ZGllbmNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXVkaWVuY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBdWRpZW5jZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNvdXJjZUlkZW50aXR5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU291cmNlSWRlbnRpdHlcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlZGVudGlhbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQWNjZXNzS2V5SWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY2Nlc3NLZXlJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY2Vzc0tleUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNlY3JldEFjY2Vzc0tleVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlY3JldEFjY2Vzc0tleSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNlY3JldEFjY2Vzc0tleVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTZXNzaW9uVG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZXNzaW9uVG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTZXNzaW9uVG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXhwaXJhdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4cGlyYXRpb24gPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiRXhwaXJhdGlvblwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEZWNvZGVkTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlY29kZWRNZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVjb2RlZE1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9GZWRlcmF0ZWRVc2VyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkZlZGVyYXRlZFVzZXJJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZlZGVyYXRlZFVzZXJJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZlZGVyYXRlZFVzZXJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0QWNjZXNzS2V5SW5mb1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFjY291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY2NvdW50ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWNjb3VudFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRDYWxsZXJJZGVudGl0eVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlVzZXJJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVzZXJJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlVzZXJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY2NvdW50XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWNjb3VudCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY291bnRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldEZlZGVyYXRpb25Ub2tlblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlZGVudGlhbHMgPSBkZV9DcmVkZW50aWFscyhvdXRwdXRbXCJDcmVkZW50aWFsc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGZWRlcmF0ZWRVc2VyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmVkZXJhdGVkVXNlciA9IGRlX0ZlZGVyYXRlZFVzZXIob3V0cHV0W1wiRmVkZXJhdGVkVXNlclwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQYWNrZWRQb2xpY3lTaXplXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGFja2VkUG9saWN5U2l6ZSA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJQYWNrZWRQb2xpY3lTaXplXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldFNlc3Npb25Ub2tlblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlZGVudGlhbHMgPSBkZV9DcmVkZW50aWFscyhvdXRwdXRbXCJDcmVkZW50aWFsc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlc2VyaWFsaXplTWV0YWRhdGEgPSAob3V0cHV0KSA9PiAoe1xuICAgIGh0dHBTdGF0dXNDb2RlOiBvdXRwdXQuc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3RpZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0LWlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXotcmVxdWVzdC1pZFwiXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1pZC0yXCJdLFxuICAgIGNmSWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotY2YtaWRcIl0sXG59KTtcbmNvbnN0IGNvbGxlY3RCb2R5U3RyaW5nID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5KHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGJvZHkpID0+IGNvbnRleHQudXRmOEVuY29kZXIoYm9keSkpO1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgYnVpbGRIdHRwUnBjUmVxdWVzdCA9IGFzeW5jIChjb250ZXh0LCBoZWFkZXJzLCBwYXRoLCByZXNvbHZlZEhvc3RuYW1lLCBib2R5KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgY29udGVudHMgPSB7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgcGF0aDogYmFzZVBhdGguZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpICsgcGF0aCA6IGJhc2VQYXRoICsgcGF0aCxcbiAgICAgICAgaGVhZGVycyxcbiAgICB9O1xuICAgIGlmIChyZXNvbHZlZEhvc3RuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuaG9zdG5hbWUgPSByZXNvbHZlZEhvc3RuYW1lO1xuICAgIH1cbiAgICBpZiAoYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3QoY29udGVudHMpO1xufTtcbmNvbnN0IFNIQVJFRF9IRUFERVJTID0ge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG59O1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFhNTFBhcnNlcih7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lUHJlZml4OiBcIlwiLFxuICAgICAgICAgICAgaHRtbEVudGl0aWVzOiB0cnVlLFxuICAgICAgICAgICAgaWdub3JlQXR0cmlidXRlczogZmFsc2UsXG4gICAgICAgICAgICBpZ25vcmVEZWNsYXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHBhcnNlVGFnVmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgdHJpbVZhbHVlczogZmFsc2UsXG4gICAgICAgICAgICB0YWdWYWx1ZVByb2Nlc3NvcjogKF8sIHZhbCkgPT4gKHZhbC50cmltKCkgPT09IFwiXCIgJiYgdmFsLmluY2x1ZGVzKFwiXFxuXCIpID8gXCJcIiA6IHVuZGVmaW5lZCksXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiI3hEXCIsIFwiXFxyXCIpO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiIzEwXCIsIFwiXFxuXCIpO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmogPSBwYXJzZXIucGFyc2UoZW5jb2RlZCk7XG4gICAgICAgIGNvbnN0IHRleHROb2RlTmFtZSA9IFwiI3RleHRcIjtcbiAgICAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMocGFyc2VkT2JqKVswXTtcbiAgICAgICAgY29uc3QgcGFyc2VkT2JqVG9SZXR1cm4gPSBwYXJzZWRPYmpba2V5XTtcbiAgICAgICAgaWYgKHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV0pIHtcbiAgICAgICAgICAgIHBhcnNlZE9ialRvUmV0dXJuW2tleV0gPSBwYXJzZWRPYmpUb1JldHVyblt0ZXh0Tm9kZU5hbWVdO1xuICAgICAgICAgICAgZGVsZXRlIHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fZ2V0VmFsdWVGcm9tVGV4dE5vZGUocGFyc2VkT2JqVG9SZXR1cm4pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgaWYgKHZhbHVlLkVycm9yKSB7XG4gICAgICAgIHZhbHVlLkVycm9yLm1lc3NhZ2UgPSB2YWx1ZS5FcnJvci5tZXNzYWdlID8/IHZhbHVlLkVycm9yLk1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nID0gKGZvcm1FbnRyaWVzKSA9PiBPYmplY3QuZW50cmllcyhmb3JtRW50cmllcylcbiAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IF9fZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgLmpvaW4oXCImXCIpO1xuY29uc3QgbG9hZFF1ZXJ5RXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLkVycm9yPy5Db2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuRXJyb3IuQ29kZTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID09IDQwNCkge1xuICAgICAgICByZXR1cm4gXCJOb3RGb3VuZFwiO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRBd3NBdXRoUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZ1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBBc3N1bWVSb2xlUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18wXCI7XG5pbXBvcnQgeyBkZV9Bc3N1bWVSb2xlQ29tbWFuZCwgc2VfQXNzdW1lUm9sZUNvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19xdWVyeVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBBc3N1bWVSb2xlQ29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VHbG9iYWxFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VHbG9iYWxFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBBc3N1bWVSb2xlQ29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKGNvbmZpZ3VyYXRpb24pKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiU1RTQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJBc3N1bWVSb2xlQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogQXNzdW1lUm9sZVJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9Bc3N1bWVSb2xlQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfQXNzdW1lUm9sZUNvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nLCBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQsIHNlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcXVlcnlcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlR2xvYmFsRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlR2xvYmFsRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTVFNDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFzc3VtZVJvbGVDb21tYW5kIH0gZnJvbSBcIi4vY29tbWFuZHMvQXNzdW1lUm9sZUNvbW1hbmRcIjtcbmltcG9ydCB7IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kLCB9IGZyb20gXCIuL2NvbW1hbmRzL0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kXCI7XG5jb25zdCBBU1NVTUVfUk9MRV9ERUZBVUxUX1JFR0lPTiA9IFwidXMtZWFzdC0xXCI7XG5jb25zdCBkZWNvcmF0ZURlZmF1bHRSZWdpb24gPSAocmVnaW9uKSA9PiB7XG4gICAgaWYgKHR5cGVvZiByZWdpb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gcmVnaW9uID09PSB1bmRlZmluZWQgPyBBU1NVTUVfUk9MRV9ERUZBVUxUX1JFR0lPTiA6IHJlZ2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZWdpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIEFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyID0gKHN0c09wdGlvbnMsIHN0c0NsaWVudEN0b3IpID0+IHtcbiAgICBsZXQgc3RzQ2xpZW50O1xuICAgIGxldCBjbG9zdXJlU291cmNlQ3JlZHM7XG4gICAgcmV0dXJuIGFzeW5jIChzb3VyY2VDcmVkcywgcGFyYW1zKSA9PiB7XG4gICAgICAgIGNsb3N1cmVTb3VyY2VDcmVkcyA9IHNvdXJjZUNyZWRzO1xuICAgICAgICBpZiAoIXN0c0NsaWVudCkge1xuICAgICAgICAgICAgY29uc3QgeyBsb2dnZXIsIHJlZ2lvbiwgcmVxdWVzdEhhbmRsZXIgfSA9IHN0c09wdGlvbnM7XG4gICAgICAgICAgICBzdHNDbGllbnQgPSBuZXcgc3RzQ2xpZW50Q3Rvcih7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6ICgpID0+IGFzeW5jICgpID0+IGNsb3N1cmVTb3VyY2VDcmVkcyxcbiAgICAgICAgICAgICAgICByZWdpb246IGRlY29yYXRlRGVmYXVsdFJlZ2lvbihyZWdpb24gfHwgc3RzT3B0aW9ucy5yZWdpb24pLFxuICAgICAgICAgICAgICAgIC4uLihyZXF1ZXN0SGFuZGxlciA/IHsgcmVxdWVzdEhhbmRsZXIgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgQ3JlZGVudGlhbHMgfSA9IGF3YWl0IHN0c0NsaWVudC5zZW5kKG5ldyBBc3N1bWVSb2xlQ29tbWFuZChwYXJhbXMpKTtcbiAgICAgICAgaWYgKCFDcmVkZW50aWFscyB8fCAhQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQgfHwgIUNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlIGZyb20gU1RTLmFzc3VtZVJvbGUgY2FsbCB3aXRoIHJvbGUgJHtwYXJhbXMuUm9sZUFybn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IENyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBDcmVkZW50aWFscy5TZWNyZXRBY2Nlc3NLZXksXG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IENyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIGV4cGlyYXRpb246IENyZWRlbnRpYWxzLkV4cGlyYXRpb24sXG4gICAgICAgIH07XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5ID0gKHN0c09wdGlvbnMsIHN0c0NsaWVudEN0b3IpID0+IHtcbiAgICBsZXQgc3RzQ2xpZW50O1xuICAgIHJldHVybiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgICAgIGlmICghc3RzQ2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGxvZ2dlciwgcmVnaW9uLCByZXF1ZXN0SGFuZGxlciB9ID0gc3RzT3B0aW9ucztcbiAgICAgICAgICAgIHN0c0NsaWVudCA9IG5ldyBzdHNDbGllbnRDdG9yKHtcbiAgICAgICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICAgICAgcmVnaW9uOiBkZWNvcmF0ZURlZmF1bHRSZWdpb24ocmVnaW9uIHx8IHN0c09wdGlvbnMucmVnaW9uKSxcbiAgICAgICAgICAgICAgICAuLi4ocmVxdWVzdEhhbmRsZXIgPyB7IHJlcXVlc3RIYW5kbGVyIH0gOiB7fSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IENyZWRlbnRpYWxzIH0gPSBhd2FpdCBzdHNDbGllbnQuc2VuZChuZXcgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQocGFyYW1zKSk7XG4gICAgICAgIGlmICghQ3JlZGVudGlhbHMgfHwgIUNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkIHx8ICFDcmVkZW50aWFscy5TZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZSBmcm9tIFNUUy5hc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5IGNhbGwgd2l0aCByb2xlICR7cGFyYW1zLlJvbGVBcm59YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkOiBDcmVkZW50aWFscy5BY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5LFxuICAgICAgICAgICAgc2Vzc2lvblRva2VuOiBDcmVkZW50aWFscy5TZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICBleHBpcmF0aW9uOiBDcmVkZW50aWFscy5FeHBpcmF0aW9uLFxuICAgICAgICB9O1xuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciA9IChwcm92aWRlcikgPT4gKGlucHV0KSA9PiBwcm92aWRlcih7XG4gICAgcm9sZUFzc3VtZXI6IGdldERlZmF1bHRSb2xlQXNzdW1lcihpbnB1dCwgaW5wdXQuc3RzQ2xpZW50Q3RvciksXG4gICAgcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHk6IGdldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eShpbnB1dCwgaW5wdXQuc3RzQ2xpZW50Q3RvciksXG4gICAgLi4uaW5wdXQsXG59KTtcbiIsImV4cG9ydCBjbGFzcyBQcm92aWRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRyeU5leHRMaW5rID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy50cnlOZXh0TGluayA9IHRyeU5leHRMaW5rO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlByb3ZpZGVyRXJyb3JcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFByb3ZpZGVyRXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb20oZXJyb3IsIHRyeU5leHRMaW5rID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcyhlcnJvci5tZXNzYWdlLCB0cnlOZXh0TGluayksIGVycm9yKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQcm92aWRlckVycm9yIH0gZnJvbSBcIi4vUHJvdmlkZXJFcnJvclwiO1xuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciBleHRlbmRzIFByb3ZpZGVyRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRyeU5leHRMaW5rID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB0cnlOZXh0TGluayk7XG4gICAgICAgIHRoaXMudHJ5TmV4dExpbmsgPSB0cnlOZXh0TGluaztcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3JcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgRU5WX0tFWSA9IFwiQVdTX0FDQ0VTU19LRVlfSURcIjtcbmV4cG9ydCBjb25zdCBFTlZfU0VDUkVUID0gXCJBV1NfU0VDUkVUX0FDQ0VTU19LRVlcIjtcbmV4cG9ydCBjb25zdCBFTlZfU0VTU0lPTiA9IFwiQVdTX1NFU1NJT05fVE9LRU5cIjtcbmV4cG9ydCBjb25zdCBFTlZfRVhQSVJBVElPTiA9IFwiQVdTX0NSRURFTlRJQUxfRVhQSVJBVElPTlwiO1xuZXhwb3J0IGNvbnN0IGZyb21FbnYgPSAoKSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYWNjZXNzS2V5SWQgPSBwcm9jZXNzLmVudltFTlZfS0VZXTtcbiAgICBjb25zdCBzZWNyZXRBY2Nlc3NLZXkgPSBwcm9jZXNzLmVudltFTlZfU0VDUkVUXTtcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBwcm9jZXNzLmVudltFTlZfU0VTU0lPTl07XG4gICAgY29uc3QgZXhwaXJ5ID0gcHJvY2Vzcy5lbnZbRU5WX0VYUElSQVRJT05dO1xuICAgIGlmIChhY2Nlc3NLZXlJZCAmJiBzZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgc2VjcmV0QWNjZXNzS2V5LFxuICAgICAgICAgICAgLi4uKHNlc3Npb25Ub2tlbiAmJiB7IHNlc3Npb25Ub2tlbiB9KSxcbiAgICAgICAgICAgIC4uLihleHBpcnkgJiYgeyBleHBpcmF0aW9uOiBuZXcgRGF0ZShleHBpcnkpIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiVW5hYmxlIHRvIGZpbmQgZW52aXJvbm1lbnQgdmFyaWFibGUgY3JlZGVudGlhbHMuXCIpO1xufTtcbiIsImltcG9ydCB7IGhvbWVkaXIgfSBmcm9tIFwib3NcIjtcbmltcG9ydCB7IHNlcCB9IGZyb20gXCJwYXRoXCI7XG5leHBvcnQgY29uc3QgZ2V0SG9tZURpciA9ICgpID0+IHtcbiAgICBjb25zdCB7IEhPTUUsIFVTRVJQUk9GSUxFLCBIT01FUEFUSCwgSE9NRURSSVZFID0gYEM6JHtzZXB9YCB9ID0gcHJvY2Vzcy5lbnY7XG4gICAgaWYgKEhPTUUpXG4gICAgICAgIHJldHVybiBIT01FO1xuICAgIGlmIChVU0VSUFJPRklMRSlcbiAgICAgICAgcmV0dXJuIFVTRVJQUk9GSUxFO1xuICAgIGlmIChIT01FUEFUSClcbiAgICAgICAgcmV0dXJuIGAke0hPTUVEUklWRX0ke0hPTUVQQVRIfWA7XG4gICAgcmV0dXJuIGhvbWVkaXIoKTtcbn07XG4iLCJleHBvcnQgY29uc3QgRU5WX1BST0ZJTEUgPSBcIkFXU19QUk9GSUxFXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QUk9GSUxFID0gXCJkZWZhdWx0XCI7XG5leHBvcnQgY29uc3QgZ2V0UHJvZmlsZU5hbWUgPSAoaW5pdCkgPT4gaW5pdC5wcm9maWxlIHx8IHByb2Nlc3MuZW52W0VOVl9QUk9GSUxFXSB8fCBERUZBVUxUX1BST0ZJTEU7XG4iLCJpbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZXRIb21lRGlyIH0gZnJvbSBcIi4vZ2V0SG9tZURpclwiO1xuZXhwb3J0IGNvbnN0IGdldFNTT1Rva2VuRmlsZXBhdGggPSAoaWQpID0+IHtcbiAgICBjb25zdCBoYXNoZXIgPSBjcmVhdGVIYXNoKFwic2hhMVwiKTtcbiAgICBjb25zdCBjYWNoZU5hbWUgPSBoYXNoZXIudXBkYXRlKGlkKS5kaWdlc3QoXCJoZXhcIik7XG4gICAgcmV0dXJuIGpvaW4oZ2V0SG9tZURpcigpLCBcIi5hd3NcIiwgXCJzc29cIiwgXCJjYWNoZVwiLCBgJHtjYWNoZU5hbWV9Lmpzb25gKTtcbn07XG4iLCJpbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBnZXRTU09Ub2tlbkZpbGVwYXRoIH0gZnJvbSBcIi4vZ2V0U1NPVG9rZW5GaWxlcGF0aFwiO1xuY29uc3QgeyByZWFkRmlsZSB9ID0gZnNQcm9taXNlcztcbmV4cG9ydCBjb25zdCBnZXRTU09Ub2tlbkZyb21GaWxlID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgY29uc3Qgc3NvVG9rZW5GaWxlcGF0aCA9IGdldFNTT1Rva2VuRmlsZXBhdGgoaWQpO1xuICAgIGNvbnN0IHNzb1Rva2VuVGV4dCA9IGF3YWl0IHJlYWRGaWxlKHNzb1Rva2VuRmlsZXBhdGgsIFwidXRmOFwiKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzc29Ub2tlblRleHQpO1xufTtcbiIsImltcG9ydCB7IGpvaW4gfSBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgZ2V0SG9tZURpciB9IGZyb20gXCIuL2dldEhvbWVEaXJcIjtcbmV4cG9ydCBjb25zdCBFTlZfQ09ORklHX1BBVEggPSBcIkFXU19DT05GSUdfRklMRVwiO1xuZXhwb3J0IGNvbnN0IGdldENvbmZpZ0ZpbGVwYXRoID0gKCkgPT4gcHJvY2Vzcy5lbnZbRU5WX0NPTkZJR19QQVRIXSB8fCBqb2luKGdldEhvbWVEaXIoKSwgXCIuYXdzXCIsIFwiY29uZmlnXCIpO1xuIiwiaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZXRIb21lRGlyIH0gZnJvbSBcIi4vZ2V0SG9tZURpclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9DUkVERU5USUFMU19QQVRIID0gXCJBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEVcIjtcbmV4cG9ydCBjb25zdCBnZXRDcmVkZW50aWFsc0ZpbGVwYXRoID0gKCkgPT4gcHJvY2Vzcy5lbnZbRU5WX0NSRURFTlRJQUxTX1BBVEhdIHx8IGpvaW4oZ2V0SG9tZURpcigpLCBcIi5hd3NcIiwgXCJjcmVkZW50aWFsc1wiKTtcbiIsImNvbnN0IHByb2ZpbGVLZXlSZWdleCA9IC9ecHJvZmlsZVxccyhbXCInXSk/KFteXFwxXSspXFwxJC87XG5leHBvcnQgY29uc3QgZ2V0UHJvZmlsZURhdGEgPSAoZGF0YSkgPT4gT2JqZWN0LmVudHJpZXMoZGF0YSlcbiAgICAuZmlsdGVyKChba2V5XSkgPT4gcHJvZmlsZUtleVJlZ2V4LnRlc3Qoa2V5KSlcbiAgICAucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKHsgLi4uYWNjLCBbcHJvZmlsZUtleVJlZ2V4LmV4ZWMoa2V5KVsyXV06IHZhbHVlIH0pLCB7XG4gICAgLi4uKGRhdGEuZGVmYXVsdCAmJiB7IGRlZmF1bHQ6IGRhdGEuZGVmYXVsdCB9KSxcbn0pO1xuIiwiY29uc3QgcHJvZmlsZU5hbWVCbG9ja0xpc3QgPSBbXCJfX3Byb3RvX19cIiwgXCJwcm9maWxlIF9fcHJvdG9fX1wiXTtcbmV4cG9ydCBjb25zdCBwYXJzZUluaSA9IChpbmlEYXRhKSA9PiB7XG4gICAgY29uc3QgbWFwID0ge307XG4gICAgbGV0IGN1cnJlbnRTZWN0aW9uO1xuICAgIGZvciAobGV0IGxpbmUgb2YgaW5pRGF0YS5zcGxpdCgvXFxyP1xcbi8pKSB7XG4gICAgICAgIGxpbmUgPSBsaW5lLnNwbGl0KC8oXnxcXHMpWzsjXS8pWzBdLnRyaW0oKTtcbiAgICAgICAgY29uc3QgaXNTZWN0aW9uID0gbGluZVswXSA9PT0gXCJbXCIgJiYgbGluZVtsaW5lLmxlbmd0aCAtIDFdID09PSBcIl1cIjtcbiAgICAgICAgaWYgKGlzU2VjdGlvbikge1xuICAgICAgICAgICAgY3VycmVudFNlY3Rpb24gPSBsaW5lLnN1YnN0cmluZygxLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgaWYgKHByb2ZpbGVOYW1lQmxvY2tMaXN0LmluY2x1ZGVzKGN1cnJlbnRTZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm91bmQgaW52YWxpZCBwcm9maWxlIG5hbWUgXCIke2N1cnJlbnRTZWN0aW9ufVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFNlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4T2ZFcXVhbHNTaWduID0gbGluZS5pbmRleE9mKFwiPVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXNzaWdubWVudCA9IGluZGV4T2ZFcXVhbHNTaWduICE9PSAtMSAmJiBpbmRleE9mRXF1YWxzU2lnbiAhPT0gc3RhcnQgJiYgaW5kZXhPZkVxdWFsc1NpZ24gIT09IGVuZDtcbiAgICAgICAgICAgIGlmIChpc0Fzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZSwgdmFsdWVdID0gW1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZygwLCBpbmRleE9mRXF1YWxzU2lnbikudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZyhpbmRleE9mRXF1YWxzU2lnbiArIDEpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl0gPSBtYXBbY3VycmVudFNlY3Rpb25dIHx8IHt9O1xuICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl1bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwO1xufTtcbiIsImltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tIFwiZnNcIjtcbmNvbnN0IHsgcmVhZEZpbGUgfSA9IGZzUHJvbWlzZXM7XG5jb25zdCBmaWxlUHJvbWlzZXNIYXNoID0ge307XG5leHBvcnQgY29uc3Qgc2x1cnBGaWxlID0gKHBhdGgsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIWZpbGVQcm9taXNlc0hhc2hbcGF0aF0gfHwgb3B0aW9ucz8uaWdub3JlQ2FjaGUpIHtcbiAgICAgICAgZmlsZVByb21pc2VzSGFzaFtwYXRoXSA9IHJlYWRGaWxlKHBhdGgsIFwidXRmOFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGVQcm9taXNlc0hhc2hbcGF0aF07XG59O1xuIiwiaW1wb3J0IHsgZ2V0Q29uZmlnRmlsZXBhdGggfSBmcm9tIFwiLi9nZXRDb25maWdGaWxlcGF0aFwiO1xuaW1wb3J0IHsgZ2V0Q3JlZGVudGlhbHNGaWxlcGF0aCB9IGZyb20gXCIuL2dldENyZWRlbnRpYWxzRmlsZXBhdGhcIjtcbmltcG9ydCB7IGdldFByb2ZpbGVEYXRhIH0gZnJvbSBcIi4vZ2V0UHJvZmlsZURhdGFcIjtcbmltcG9ydCB7IHBhcnNlSW5pIH0gZnJvbSBcIi4vcGFyc2VJbmlcIjtcbmltcG9ydCB7IHNsdXJwRmlsZSB9IGZyb20gXCIuL3NsdXJwRmlsZVwiO1xuY29uc3Qgc3dhbGxvd0Vycm9yID0gKCkgPT4gKHt9KTtcbmV4cG9ydCBjb25zdCBsb2FkU2hhcmVkQ29uZmlnRmlsZXMgPSBhc3luYyAoaW5pdCA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBmaWxlcGF0aCA9IGdldENyZWRlbnRpYWxzRmlsZXBhdGgoKSwgY29uZmlnRmlsZXBhdGggPSBnZXRDb25maWdGaWxlcGF0aCgpIH0gPSBpbml0O1xuICAgIGNvbnN0IHBhcnNlZEZpbGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzbHVycEZpbGUoY29uZmlnRmlsZXBhdGgsIHtcbiAgICAgICAgICAgIGlnbm9yZUNhY2hlOiBpbml0Lmlnbm9yZUNhY2hlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgICAgICAgICAudGhlbihnZXRQcm9maWxlRGF0YSlcbiAgICAgICAgICAgIC5jYXRjaChzd2FsbG93RXJyb3IpLFxuICAgICAgICBzbHVycEZpbGUoZmlsZXBhdGgsIHtcbiAgICAgICAgICAgIGlnbm9yZUNhY2hlOiBpbml0Lmlnbm9yZUNhY2hlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgICAgICAgICAuY2F0Y2goc3dhbGxvd0Vycm9yKSxcbiAgICBdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25maWdGaWxlOiBwYXJzZWRGaWxlc1swXSxcbiAgICAgICAgY3JlZGVudGlhbHNGaWxlOiBwYXJzZWRGaWxlc1sxXSxcbiAgICB9O1xufTtcbiIsImNvbnN0IHNzb1Nlc3Npb25LZXlSZWdleCA9IC9ec3NvLXNlc3Npb25cXHMoW1wiJ10pPyhbXlxcMV0rKVxcMSQvO1xuZXhwb3J0IGNvbnN0IGdldFNzb1Nlc3Npb25EYXRhID0gKGRhdGEpID0+IE9iamVjdC5lbnRyaWVzKGRhdGEpXG4gICAgLmZpbHRlcigoW2tleV0pID0+IHNzb1Nlc3Npb25LZXlSZWdleC50ZXN0KGtleSkpXG4gICAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW3Nzb1Nlc3Npb25LZXlSZWdleC5leGVjKGtleSlbMl1dOiB2YWx1ZSB9KSwge30pO1xuIiwiaW1wb3J0IHsgZ2V0Q29uZmlnRmlsZXBhdGggfSBmcm9tIFwiLi9nZXRDb25maWdGaWxlcGF0aFwiO1xuaW1wb3J0IHsgZ2V0U3NvU2Vzc2lvbkRhdGEgfSBmcm9tIFwiLi9nZXRTc29TZXNzaW9uRGF0YVwiO1xuaW1wb3J0IHsgcGFyc2VJbmkgfSBmcm9tIFwiLi9wYXJzZUluaVwiO1xuaW1wb3J0IHsgc2x1cnBGaWxlIH0gZnJvbSBcIi4vc2x1cnBGaWxlXCI7XG5jb25zdCBzd2FsbG93RXJyb3IgPSAoKSA9PiAoe30pO1xuZXhwb3J0IGNvbnN0IGxvYWRTc29TZXNzaW9uRGF0YSA9IGFzeW5jIChpbml0ID0ge30pID0+IHNsdXJwRmlsZShpbml0LmNvbmZpZ0ZpbGVwYXRoID8/IGdldENvbmZpZ0ZpbGVwYXRoKCkpXG4gICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgLnRoZW4oZ2V0U3NvU2Vzc2lvbkRhdGEpXG4gICAgLmNhdGNoKHN3YWxsb3dFcnJvcik7XG4iLCJpbXBvcnQgeyBsb2FkU2hhcmVkQ29uZmlnRmlsZXMgfSBmcm9tIFwiLi9sb2FkU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmltcG9ydCB7IG1lcmdlQ29uZmlnRmlsZXMgfSBmcm9tIFwiLi9tZXJnZUNvbmZpZ0ZpbGVzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VLbm93bkZpbGVzID0gYXN5bmMgKGluaXQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRGaWxlcyA9IGF3YWl0IGxvYWRTaGFyZWRDb25maWdGaWxlcyhpbml0KTtcbiAgICByZXR1cm4gbWVyZ2VDb25maWdGaWxlcyhwYXJzZWRGaWxlcy5jb25maWdGaWxlLCBwYXJzZWRGaWxlcy5jcmVkZW50aWFsc0ZpbGUpO1xufTtcbiIsImV4cG9ydCBjb25zdCBtZXJnZUNvbmZpZ0ZpbGVzID0gKC4uLmZpbGVzKSA9PiB7XG4gICAgY29uc3QgbWVyZ2VkID0ge307XG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhmaWxlKSkge1xuICAgICAgICAgICAgaWYgKG1lcmdlZFtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZFtrZXldLCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZDtcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInVybFwiKTsiLCJpbXBvcnQgeyBQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiaHR0cFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZXEgPSByZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBob3N0bmFtZTogb3B0aW9ucy5ob3N0bmFtZT8ucmVwbGFjZSgvXlxcWyguKylcXF0kLywgXCIkMVwiKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChPYmplY3QuYXNzaWduKG5ldyBQcm92aWRlckVycm9yKFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZVwiKSwgZXJyKSk7XG4gICAgICAgICAgICByZXEuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwidGltZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IFByb3ZpZGVyRXJyb3IoXCJUaW1lb3V0RXJyb3IgZnJvbSBpbnN0YW5jZSBtZXRhZGF0YSBzZXJ2aWNlXCIpKTtcbiAgICAgICAgICAgIHJlcS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXEub24oXCJyZXNwb25zZVwiLCAocmVzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXR1c0NvZGUgPSA0MDAgfSA9IHJlcztcbiAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlIDwgMjAwIHx8IDMwMCA8PSBzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24obmV3IFByb3ZpZGVyRXJyb3IoXCJFcnJvciByZXNwb25zZSByZWNlaXZlZCBmcm9tIGluc3RhbmNlIG1ldGFkYXRhIHNlcnZpY2VcIiksIHsgc3RhdHVzQ29kZSB9KSk7XG4gICAgICAgICAgICAgICAgcmVxLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgICAgICAgICAgcmVzLm9uKFwiZGF0YVwiLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KGNodW5rcykpO1xuICAgICAgICAgICAgICAgIHJlcS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5lbmQoKTtcbiAgICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBpc0ltZHNDcmVkZW50aWFscyA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJlxuICAgIHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgYXJnLkFjY2Vzc0tleUlkID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5TZWNyZXRBY2Nlc3NLZXkgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgYXJnLlRva2VuID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5FeHBpcmF0aW9uID09PSBcInN0cmluZ1wiO1xuZXhwb3J0IGNvbnN0IGZyb21JbWRzQ3JlZGVudGlhbHMgPSAoY3JlZHMpID0+ICh7XG4gICAgYWNjZXNzS2V5SWQ6IGNyZWRzLkFjY2Vzc0tleUlkLFxuICAgIHNlY3JldEFjY2Vzc0tleTogY3JlZHMuU2VjcmV0QWNjZXNzS2V5LFxuICAgIHNlc3Npb25Ub2tlbjogY3JlZHMuVG9rZW4sXG4gICAgZXhwaXJhdGlvbjogbmV3IERhdGUoY3JlZHMuRXhwaXJhdGlvbiksXG59KTtcbiIsImV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVQgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUFYX1JFVFJJRVMgPSAwO1xuZXhwb3J0IGNvbnN0IHByb3ZpZGVyQ29uZmlnRnJvbUluaXQgPSAoeyBtYXhSZXRyaWVzID0gREVGQVVMVF9NQVhfUkVUUklFUywgdGltZW91dCA9IERFRkFVTFRfVElNRU9VVCwgfSkgPT4gKHsgbWF4UmV0cmllcywgdGltZW91dCB9KTtcbiIsImV4cG9ydCBjb25zdCByZXRyeSA9ICh0b1JldHJ5LCBtYXhSZXRyaWVzKSA9PiB7XG4gICAgbGV0IHByb21pc2UgPSB0b1JldHJ5KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhSZXRyaWVzOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UuY2F0Y2godG9SZXRyeSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJ1cmxcIjtcbmltcG9ydCB7IGh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3RcIjtcbmltcG9ydCB7IGZyb21JbWRzQ3JlZGVudGlhbHMsIGlzSW1kc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBwcm92aWRlckNvbmZpZ0Zyb21Jbml0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvUmVtb3RlUHJvdmlkZXJJbml0XCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyL3JldHJ5XCI7XG5leHBvcnQgY29uc3QgRU5WX0NNRFNfRlVMTF9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfRlVMTF9VUklcIjtcbmV4cG9ydCBjb25zdCBFTlZfQ01EU19SRUxBVElWRV9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJXCI7XG5leHBvcnQgY29uc3QgRU5WX0NNRFNfQVVUSF9UT0tFTiA9IFwiQVdTX0NPTlRBSU5FUl9BVVRIT1JJWkFUSU9OX1RPS0VOXCI7XG5leHBvcnQgY29uc3QgZnJvbUNvbnRhaW5lck1ldGFkYXRhID0gKGluaXQgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgdGltZW91dCwgbWF4UmV0cmllcyB9ID0gcHJvdmlkZXJDb25maWdGcm9tSW5pdChpbml0KTtcbiAgICByZXR1cm4gKCkgPT4gcmV0cnkoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGF3YWl0IGdldENtZHNVcmkoKTtcbiAgICAgICAgY29uc3QgY3JlZHNSZXNwb25zZSA9IEpTT04ucGFyc2UoYXdhaXQgcmVxdWVzdEZyb21FY3NJbWRzKHRpbWVvdXQsIHJlcXVlc3RPcHRpb25zKSk7XG4gICAgICAgIGlmICghaXNJbWRzQ3JlZGVudGlhbHMoY3JlZHNSZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21JbWRzQ3JlZGVudGlhbHMoY3JlZHNSZXNwb25zZSk7XG4gICAgfSwgbWF4UmV0cmllcyk7XG59O1xuY29uc3QgcmVxdWVzdEZyb21FY3NJbWRzID0gYXN5bmMgKHRpbWVvdXQsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbRU5WX0NNRFNfQVVUSF9UT0tFTl0pIHtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogcHJvY2Vzcy5lbnZbRU5WX0NNRFNfQVVUSF9UT0tFTl0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdGltZW91dCxcbiAgICB9KTtcbiAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKCk7XG59O1xuY29uc3QgQ01EU19JUCA9IFwiMTY5LjI1NC4xNzAuMlwiO1xuY29uc3QgR1JFRU5HUkFTU19IT1NUUyA9IHtcbiAgICBsb2NhbGhvc3Q6IHRydWUsXG4gICAgXCIxMjcuMC4wLjFcIjogdHJ1ZSxcbn07XG5jb25zdCBHUkVFTkdSQVNTX1BST1RPQ09MUyA9IHtcbiAgICBcImh0dHA6XCI6IHRydWUsXG4gICAgXCJodHRwczpcIjogdHJ1ZSxcbn07XG5jb25zdCBnZXRDbWRzVXJpID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19SRUxBVElWRV9VUkldKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3N0bmFtZTogQ01EU19JUCxcbiAgICAgICAgICAgIHBhdGg6IHByb2Nlc3MuZW52W0VOVl9DTURTX1JFTEFUSVZFX1VSSV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19GVUxMX1VSSV0pIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2UocHJvY2Vzcy5lbnZbRU5WX0NNRFNfRlVMTF9VUkldKTtcbiAgICAgICAgaWYgKCFwYXJzZWQuaG9zdG5hbWUgfHwgIShwYXJzZWQuaG9zdG5hbWUgaW4gR1JFRU5HUkFTU19IT1NUUykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYCR7cGFyc2VkLmhvc3RuYW1lfSBpcyBub3QgYSB2YWxpZCBjb250YWluZXIgbWV0YWRhdGEgc2VydmljZSBob3N0bmFtZWAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcnNlZC5wcm90b2NvbCB8fCAhKHBhcnNlZC5wcm90b2NvbCBpbiBHUkVFTkdSQVNTX1BST1RPQ09MUykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYCR7cGFyc2VkLnByb3RvY29sfSBpcyBub3QgYSB2YWxpZCBjb250YWluZXIgbWV0YWRhdGEgc2VydmljZSBwcm90b2NvbGAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFyc2VkLFxuICAgICAgICAgICAgcG9ydDogcGFyc2VkLnBvcnQgPyBwYXJzZUludChwYXJzZWQucG9ydCwgMTApIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiVGhlIGNvbnRhaW5lciBtZXRhZGF0YSBjcmVkZW50aWFsIHByb3ZpZGVyIGNhbm5vdCBiZSB1c2VkIHVubGVzc1wiICtcbiAgICAgICAgYCB0aGUgJHtFTlZfQ01EU19SRUxBVElWRV9VUkl9IG9yICR7RU5WX0NNRFNfRlVMTF9VUkl9IGVudmlyb25tZW50YCArXG4gICAgICAgIFwiIHZhcmlhYmxlIGlzIHNldFwiLCBmYWxzZSk7XG59O1xuIiwiaW1wb3J0IHsgUHJvdmlkZXJFcnJvciB9IGZyb20gXCIuL1Byb3ZpZGVyRXJyb3JcIjtcbmV4cG9ydCBmdW5jdGlvbiBjaGFpbiguLi5wcm92aWRlcnMpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBQcm92aWRlckVycm9yKFwiTm8gcHJvdmlkZXJzIGluIGNoYWluXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm92aWRlciBvZiBwcm92aWRlcnMpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy50cnlOZXh0TGluaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbn1cbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgZnJvbUVudiA9IChlbnZWYXJTZWxlY3RvcikgPT4gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGVudlZhclNlbGVjdG9yKHByb2Nlc3MuZW52KTtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGUubWVzc2FnZSB8fCBgQ2Fubm90IGxvYWQgY29uZmlnIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzIHdpdGggZ2V0dGVyOiAke2VudlZhclNlbGVjdG9yfWApO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBjaGFpbiwgbWVtb2l6ZSB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBmcm9tRW52IH0gZnJvbSBcIi4vZnJvbUVudlwiO1xuaW1wb3J0IHsgZnJvbVNoYXJlZENvbmZpZ0ZpbGVzIH0gZnJvbSBcIi4vZnJvbVNoYXJlZENvbmZpZ0ZpbGVzXCI7XG5pbXBvcnQgeyBmcm9tU3RhdGljIH0gZnJvbSBcIi4vZnJvbVN0YXRpY1wiO1xuZXhwb3J0IGNvbnN0IGxvYWRDb25maWcgPSAoeyBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3IsIGNvbmZpZ0ZpbGVTZWxlY3RvciwgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH0sIGNvbmZpZ3VyYXRpb24gPSB7fSkgPT4gbWVtb2l6ZShjaGFpbihmcm9tRW52KGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvciksIGZyb21TaGFyZWRDb25maWdGaWxlcyhjb25maWdGaWxlU2VsZWN0b3IsIGNvbmZpZ3VyYXRpb24pLCBmcm9tU3RhdGljKGRlZmF1bHRWYWx1ZSkpKTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgbG9hZFNoYXJlZENvbmZpZ0ZpbGVzIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuZXhwb3J0IGNvbnN0IGZyb21TaGFyZWRDb25maWdGaWxlcyA9IChjb25maWdTZWxlY3RvciwgeyBwcmVmZXJyZWRGaWxlID0gXCJjb25maWdcIiwgLi4uaW5pdCB9ID0ge30pID0+IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9maWxlID0gZ2V0UHJvZmlsZU5hbWUoaW5pdCk7XG4gICAgY29uc3QgeyBjb25maWdGaWxlLCBjcmVkZW50aWFsc0ZpbGUgfSA9IGF3YWl0IGxvYWRTaGFyZWRDb25maWdGaWxlcyhpbml0KTtcbiAgICBjb25zdCBwcm9maWxlRnJvbUNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHNGaWxlW3Byb2ZpbGVdIHx8IHt9O1xuICAgIGNvbnN0IHByb2ZpbGVGcm9tQ29uZmlnID0gY29uZmlnRmlsZVtwcm9maWxlXSB8fCB7fTtcbiAgICBjb25zdCBtZXJnZWRQcm9maWxlID0gcHJlZmVycmVkRmlsZSA9PT0gXCJjb25maWdcIlxuICAgICAgICA/IHsgLi4ucHJvZmlsZUZyb21DcmVkZW50aWFscywgLi4ucHJvZmlsZUZyb21Db25maWcgfVxuICAgICAgICA6IHsgLi4ucHJvZmlsZUZyb21Db25maWcsIC4uLnByb2ZpbGVGcm9tQ3JlZGVudGlhbHMgfTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25maWdWYWx1ZSA9IGNvbmZpZ1NlbGVjdG9yKG1lcmdlZFByb2ZpbGUpO1xuICAgICAgICBpZiAoY29uZmlnVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmZpZ1ZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGUubWVzc2FnZSB8fCBgQ2Fubm90IGxvYWQgY29uZmlnIGZvciBwcm9maWxlICR7cHJvZmlsZX0gaW4gU0RLIGNvbmZpZ3VyYXRpb24gZmlsZXMgd2l0aCBnZXR0ZXI6ICR7Y29uZmlnU2VsZWN0b3J9YCk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGZyb21TdGF0aWMgYXMgY29udmVydFRvUHJvdmlkZXIgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuY29uc3QgaXNGdW5jdGlvbiA9IChmdW5jKSA9PiB0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiO1xuZXhwb3J0IGNvbnN0IGZyb21TdGF0aWMgPSAoZGVmYXVsdFZhbHVlKSA9PiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBhc3luYyAoKSA9PiBhd2FpdCBkZWZhdWx0VmFsdWUoKSA6IGNvbnZlcnRUb1Byb3ZpZGVyKGRlZmF1bHRWYWx1ZSk7XG4iLCJleHBvcnQgY29uc3QgZnJvbVN0YXRpYyA9IChzdGF0aWNWYWx1ZSkgPT4gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHN0YXRpY1ZhbHVlKTtcbiIsImV4cG9ydCB2YXIgRW5kcG9pbnQ7XG4oZnVuY3Rpb24gKEVuZHBvaW50KSB7XG4gICAgRW5kcG9pbnRbXCJJUHY0XCJdID0gXCJodHRwOi8vMTY5LjI1NC4xNjkuMjU0XCI7XG4gICAgRW5kcG9pbnRbXCJJUHY2XCJdID0gXCJodHRwOi8vW2ZkMDA6ZWMyOjoyNTRdXCI7XG59KShFbmRwb2ludCB8fCAoRW5kcG9pbnQgPSB7fSkpO1xuIiwiZXhwb3J0IGNvbnN0IEVOVl9FTkRQT0lOVF9OQU1FID0gXCJBV1NfRUMyX01FVEFEQVRBX1NFUlZJQ0VfRU5EUE9JTlRcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfRU5EUE9JTlRfTkFNRSA9IFwiZWMyX21ldGFkYXRhX3NlcnZpY2VfZW5kcG9pbnRcIjtcbmV4cG9ydCBjb25zdCBFTkRQT0lOVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltFTlZfRU5EUE9JTlRfTkFNRV0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtDT05GSUdfRU5EUE9JTlRfTkFNRV0sXG4gICAgZGVmYXVsdDogdW5kZWZpbmVkLFxufTtcbiIsImV4cG9ydCB2YXIgRW5kcG9pbnRNb2RlO1xuKGZ1bmN0aW9uIChFbmRwb2ludE1vZGUpIHtcbiAgICBFbmRwb2ludE1vZGVbXCJJUHY0XCJdID0gXCJJUHY0XCI7XG4gICAgRW5kcG9pbnRNb2RlW1wiSVB2NlwiXSA9IFwiSVB2NlwiO1xufSkoRW5kcG9pbnRNb2RlIHx8IChFbmRwb2ludE1vZGUgPSB7fSkpO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRNb2RlIH0gZnJvbSBcIi4vRW5kcG9pbnRNb2RlXCI7XG5leHBvcnQgY29uc3QgRU5WX0VORFBPSU5UX01PREVfTkFNRSA9IFwiQVdTX0VDMl9NRVRBREFUQV9TRVJWSUNFX0VORFBPSU5UX01PREVcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfRU5EUE9JTlRfTU9ERV9OQU1FID0gXCJlYzJfbWV0YWRhdGFfc2VydmljZV9lbmRwb2ludF9tb2RlXCI7XG5leHBvcnQgY29uc3QgRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltFTlZfRU5EUE9JTlRfTU9ERV9OQU1FXSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19FTkRQT0lOVF9NT0RFX05BTUVdLFxuICAgIGRlZmF1bHQ6IEVuZHBvaW50TW9kZS5JUHY0LFxufTtcbiIsImltcG9ydCB7IGxvYWRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBFbmRwb2ludCBhcyBJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgfSBmcm9tIFwiLi4vY29uZmlnL0VuZHBvaW50XCI7XG5pbXBvcnQgeyBFTkRQT0lOVF9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCIuLi9jb25maWcvRW5kcG9pbnRDb25maWdPcHRpb25zXCI7XG5pbXBvcnQgeyBFbmRwb2ludE1vZGUgfSBmcm9tIFwiLi4vY29uZmlnL0VuZHBvaW50TW9kZVwiO1xuaW1wb3J0IHsgRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiLi4vY29uZmlnL0VuZHBvaW50TW9kZUNvbmZpZ09wdGlvbnNcIjtcbmV4cG9ydCBjb25zdCBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgPSBhc3luYyAoKSA9PiBwYXJzZVVybCgoYXdhaXQgZ2V0RnJvbUVuZHBvaW50Q29uZmlnKCkpIHx8IChhd2FpdCBnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnKCkpKTtcbmNvbnN0IGdldEZyb21FbmRwb2ludENvbmZpZyA9IGFzeW5jICgpID0+IGxvYWRDb25maWcoRU5EUE9JTlRfQ09ORklHX09QVElPTlMpKCk7XG5jb25zdCBnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGVuZHBvaW50TW9kZSA9IGF3YWl0IGxvYWRDb25maWcoRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUykoKTtcbiAgICBzd2l0Y2ggKGVuZHBvaW50TW9kZSkge1xuICAgICAgICBjYXNlIEVuZHBvaW50TW9kZS5JUHY0OlxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludC5JUHY0O1xuICAgICAgICBjYXNlIEVuZHBvaW50TW9kZS5JUHY2OlxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludC5JUHY2O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBlbmRwb2ludCBtb2RlOiAke2VuZHBvaW50TW9kZX0uYCArIGAgU2VsZWN0IGZyb20gJHtPYmplY3QudmFsdWVzKEVuZHBvaW50TW9kZSl9YCk7XG4gICAgfVxufTtcbiIsImNvbnN0IFNUQVRJQ19TVEFCSUxJVFlfUkVGUkVTSF9JTlRFUlZBTF9TRUNPTkRTID0gNSAqIDYwO1xuY29uc3QgU1RBVElDX1NUQUJJTElUWV9SRUZSRVNIX0lOVEVSVkFMX0pJVFRFUl9XSU5ET1dfU0VDT05EUyA9IDUgKiA2MDtcbmNvbnN0IFNUQVRJQ19TVEFCSUxJVFlfRE9DX1VSTCA9IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3Nka3JlZi9sYXRlc3QvZ3VpZGUvZmVhdHVyZS1zdGF0aWMtY3JlZGVudGlhbHMuaHRtbFwiO1xuZXhwb3J0IGNvbnN0IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzID0gKGNyZWRlbnRpYWxzLCBsb2dnZXIpID0+IHtcbiAgICBjb25zdCByZWZyZXNoSW50ZXJ2YWwgPSBTVEFUSUNfU1RBQklMSVRZX1JFRlJFU0hfSU5URVJWQUxfU0VDT05EUyArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIFNUQVRJQ19TVEFCSUxJVFlfUkVGUkVTSF9JTlRFUlZBTF9KSVRURVJfV0lORE9XX1NFQ09ORFMpO1xuICAgIGNvbnN0IG5ld0V4cGlyYXRpb24gPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgcmVmcmVzaEludGVydmFsICogMTAwMCk7XG4gICAgbG9nZ2VyLndhcm4oXCJBdHRlbXB0aW5nIGNyZWRlbnRpYWwgZXhwaXJhdGlvbiBleHRlbnNpb24gZHVlIHRvIGEgY3JlZGVudGlhbCBzZXJ2aWNlIGF2YWlsYWJpbGl0eSBpc3N1ZS4gQSByZWZyZXNoIG9mIHRoZXNlIFwiICtcbiAgICAgICAgXCJjcmVkZW50aWFscyB3aWxsIGJlIGF0dGVtcHRlZCBhZnRlciAke25ldyBEYXRlKG5ld0V4cGlyYXRpb24pfS5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpc2l0OiBcIiArXG4gICAgICAgIFNUQVRJQ19TVEFCSUxJVFlfRE9DX1VSTCk7XG4gICAgY29uc3Qgb3JpZ2luYWxFeHBpcmF0aW9uID0gY3JlZGVudGlhbHMub3JpZ2luYWxFeHBpcmF0aW9uID8/IGNyZWRlbnRpYWxzLmV4cGlyYXRpb247XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY3JlZGVudGlhbHMsXG4gICAgICAgIC4uLihvcmlnaW5hbEV4cGlyYXRpb24gPyB7IG9yaWdpbmFsRXhwaXJhdGlvbiB9IDoge30pLFxuICAgICAgICBleHBpcmF0aW9uOiBuZXdFeHBpcmF0aW9uLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3RcIjtcbmltcG9ydCB7IGZyb21JbWRzQ3JlZGVudGlhbHMsIGlzSW1kc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBwcm92aWRlckNvbmZpZ0Zyb21Jbml0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvUmVtb3RlUHJvdmlkZXJJbml0XCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyL3JldHJ5XCI7XG5pbXBvcnQgeyBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgfSBmcm9tIFwiLi91dGlscy9nZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnRcIjtcbmltcG9ydCB7IHN0YXRpY1N0YWJpbGl0eVByb3ZpZGVyIH0gZnJvbSBcIi4vdXRpbHMvc3RhdGljU3RhYmlsaXR5UHJvdmlkZXJcIjtcbmNvbnN0IElNRFNfUEFUSCA9IFwiL2xhdGVzdC9tZXRhLWRhdGEvaWFtL3NlY3VyaXR5LWNyZWRlbnRpYWxzL1wiO1xuY29uc3QgSU1EU19UT0tFTl9QQVRIID0gXCIvbGF0ZXN0L2FwaS90b2tlblwiO1xuZXhwb3J0IGNvbnN0IGZyb21JbnN0YW5jZU1ldGFkYXRhID0gKGluaXQgPSB7fSkgPT4gc3RhdGljU3RhYmlsaXR5UHJvdmlkZXIoZ2V0SW5zdGFuY2VJbWRzUHJvdmlkZXIoaW5pdCksIHsgbG9nZ2VyOiBpbml0LmxvZ2dlciB9KTtcbmNvbnN0IGdldEluc3RhbmNlSW1kc1Byb3ZpZGVyID0gKGluaXQpID0+IHtcbiAgICBsZXQgZGlzYWJsZUZldGNoVG9rZW4gPSBmYWxzZTtcbiAgICBjb25zdCB7IHRpbWVvdXQsIG1heFJldHJpZXMgfSA9IHByb3ZpZGVyQ29uZmlnRnJvbUluaXQoaW5pdCk7XG4gICAgY29uc3QgZ2V0Q3JlZGVudGlhbHMgPSBhc3luYyAobWF4UmV0cmllcywgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBwcm9maWxlID0gKGF3YWl0IHJldHJ5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBwcm9maWxlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwcm9maWxlID0gYXdhaXQgZ2V0UHJvZmlsZShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLnN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRmV0Y2hUb2tlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvZmlsZTtcbiAgICAgICAgfSwgbWF4UmV0cmllcykpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHJldHJ5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjcmVkcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY3JlZHMgPSBhd2FpdCBnZXRDcmVkZW50aWFsc0Zyb21Qcm9maWxlKHByb2ZpbGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzQ29kZSA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVGZXRjaFRva2VuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVkcztcbiAgICAgICAgfSwgbWF4UmV0cmllcyk7XG4gICAgfTtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCgpO1xuICAgICAgICBpZiAoZGlzYWJsZUZldGNoVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhtYXhSZXRyaWVzLCB7IC4uLmVuZHBvaW50LCB0aW1lb3V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IChhd2FpdCBnZXRNZXRhZGF0YVRva2VuKHsgLi4uZW5kcG9pbnQsIHRpbWVvdXQgfSkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LnN0YXR1c0NvZGUgPT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuYXNzaWduKGVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVDMiBNZXRhZGF0YSB0b2tlbiByZXF1ZXN0IHJldHVybmVkIGVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSBcIlRpbWVvdXRFcnJvclwiIHx8IFs0MDMsIDQwNCwgNDA1XS5pbmNsdWRlcyhlcnJvci5zdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRmV0Y2hUb2tlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhtYXhSZXRyaWVzLCB7IC4uLmVuZHBvaW50LCB0aW1lb3V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldENyZWRlbnRpYWxzKG1heFJldHJpZXMsIHtcbiAgICAgICAgICAgICAgICAuLi5lbmRwb2ludCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwieC1hd3MtZWMyLW1ldGFkYXRhLXRva2VuXCI6IHRva2VuLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5jb25zdCBnZXRNZXRhZGF0YVRva2VuID0gYXN5bmMgKG9wdGlvbnMpID0+IGh0dHBSZXF1ZXN0KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHBhdGg6IElNRFNfVE9LRU5fUEFUSCxcbiAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBcIngtYXdzLWVjMi1tZXRhZGF0YS10b2tlbi10dGwtc2Vjb25kc1wiOiBcIjIxNjAwXCIsXG4gICAgfSxcbn0pO1xuY29uc3QgZ2V0UHJvZmlsZSA9IGFzeW5jIChvcHRpb25zKSA9PiAoYXdhaXQgaHR0cFJlcXVlc3QoeyAuLi5vcHRpb25zLCBwYXRoOiBJTURTX1BBVEggfSkpLnRvU3RyaW5nKCk7XG5jb25zdCBnZXRDcmVkZW50aWFsc0Zyb21Qcm9maWxlID0gYXN5bmMgKHByb2ZpbGUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjcmVkc1Jlc3BvbnNlID0gSlNPTi5wYXJzZSgoYXdhaXQgaHR0cFJlcXVlc3Qoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBwYXRoOiBJTURTX1BBVEggKyBwcm9maWxlLFxuICAgIH0pKS50b1N0cmluZygpKTtcbiAgICBpZiAoIWlzSW1kc0NyZWRlbnRpYWxzKGNyZWRzUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZS5cIik7XG4gICAgfVxuICAgIHJldHVybiBmcm9tSW1kc0NyZWRlbnRpYWxzKGNyZWRzUmVzcG9uc2UpO1xufTtcbiIsImltcG9ydCB7IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vZ2V0RXh0ZW5kZWRJbnN0YW5jZU1ldGFkYXRhQ3JlZGVudGlhbHNcIjtcbmV4cG9ydCBjb25zdCBzdGF0aWNTdGFiaWxpdHlQcm92aWRlciA9IChwcm92aWRlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gb3B0aW9ucz8ubG9nZ2VyIHx8IGNvbnNvbGU7XG4gICAgbGV0IHBhc3RDcmVkZW50aWFscztcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgY3JlZGVudGlhbHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjcmVkZW50aWFscyA9IGF3YWl0IHByb3ZpZGVyKCk7XG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMuZXhwaXJhdGlvbiAmJiBjcmVkZW50aWFscy5leHBpcmF0aW9uLmdldFRpbWUoKSA8IERhdGUubm93KCkpIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyA9IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzKGNyZWRlbnRpYWxzLCBsb2dnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAocGFzdENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJDcmVkZW50aWFsIHJlbmV3IGZhaWxlZDogXCIsIGUpO1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gZ2V0RXh0ZW5kZWRJbnN0YW5jZU1ldGFkYXRhQ3JlZGVudGlhbHMocGFzdENyZWRlbnRpYWxzLCBsb2dnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXN0Q3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWxzO1xuICAgIH07XG59O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpOyIsImltcG9ydCB7IGdldFByb2ZpbGVOYW1lLCBwYXJzZUtub3duRmlsZXMgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFsc1wiO1xuZXhwb3J0IGNvbnN0IGZyb21Qcm9jZXNzID0gKGluaXQgPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGVzID0gYXdhaXQgcGFyc2VLbm93bkZpbGVzKGluaXQpO1xuICAgIHJldHVybiByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzKGdldFByb2ZpbGVOYW1lKGluaXQpLCBwcm9maWxlcyk7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGV4ZWMgfSBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSBcInV0aWxcIjtcbmltcG9ydCB7IGdldFZhbGlkYXRlZFByb2Nlc3NDcmVkZW50aWFscyB9IGZyb20gXCIuL2dldFZhbGlkYXRlZFByb2Nlc3NDcmVkZW50aWFsc1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMgPSBhc3luYyAocHJvZmlsZU5hbWUsIHByb2ZpbGVzKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICBpZiAocHJvZmlsZXNbcHJvZmlsZU5hbWVdKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxQcm9jZXNzID0gcHJvZmlsZVtcImNyZWRlbnRpYWxfcHJvY2Vzc1wiXTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxQcm9jZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWNQcm9taXNlID0gcHJvbWlzaWZ5KGV4ZWMpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY1Byb21pc2UoY3JlZGVudGlhbFByb2Nlc3MpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHN0ZG91dC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGNyZWRlbnRpYWxfcHJvY2VzcyByZXR1cm5lZCBpbnZhbGlkIEpTT04uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMocHJvZmlsZU5hbWUsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gZGlkIG5vdCBjb250YWluIGNyZWRlbnRpYWxfcHJvY2Vzcy5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjb3VsZCBub3QgYmUgZm91bmQgaW4gc2hhcmVkIGNyZWRlbnRpYWxzIGZpbGUuYCk7XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMgPSAocHJvZmlsZU5hbWUsIGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS5WZXJzaW9uICE9PSAxKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGNyZWRlbnRpYWxfcHJvY2VzcyBkaWQgbm90IHJldHVybiBWZXJzaW9uIDEuYCk7XG4gICAgfVxuICAgIGlmIChkYXRhLkFjY2Vzc0tleUlkID09PSB1bmRlZmluZWQgfHwgZGF0YS5TZWNyZXRBY2Nlc3NLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjcmVkZW50aWFsX3Byb2Nlc3MgcmV0dXJuZWQgaW52YWxpZCBjcmVkZW50aWFscy5gKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuRXhwaXJhdGlvbikge1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGV4cGlyZVRpbWUgPSBuZXcgRGF0ZShkYXRhLkV4cGlyYXRpb24pO1xuICAgICAgICBpZiAoZXhwaXJlVGltZSA8IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjcmVkZW50aWFsX3Byb2Nlc3MgcmV0dXJuZWQgZXhwaXJlZCBjcmVkZW50aWFscy5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhY2Nlc3NLZXlJZDogZGF0YS5BY2Nlc3NLZXlJZCxcbiAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBkYXRhLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgLi4uKGRhdGEuU2Vzc2lvblRva2VuICYmIHsgc2Vzc2lvblRva2VuOiBkYXRhLlNlc3Npb25Ub2tlbiB9KSxcbiAgICAgICAgLi4uKGRhdGEuRXhwaXJhdGlvbiAmJiB7IGV4cGlyYXRpb246IG5ldyBEYXRlKGRhdGEuRXhwaXJhdGlvbikgfSksXG4gICAgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgaXNTc29Qcm9maWxlID0gKGFyZykgPT4gYXJnICYmXG4gICAgKHR5cGVvZiBhcmcuc3NvX3N0YXJ0X3VybCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgYXJnLnNzb19hY2NvdW50X2lkID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3Nlc3Npb24gPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgdHlwZW9mIGFyZy5zc29fcmVnaW9uID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3JvbGVfbmFtZSA9PT0gXCJzdHJpbmdcIik7XG4iLCJleHBvcnQgY29uc3QgaXNDcnRBdmFpbGFibGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1aXJlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXF1aXJlKFwiYXdzLWNydFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcIm1kL2NydC1hdmFpbFwiXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGxvYWRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgcGxhdGZvcm0sIHJlbGVhc2UgfSBmcm9tIFwib3NcIjtcbmltcG9ydCB7IGVudiwgdmVyc2lvbnMgfSBmcm9tIFwicHJvY2Vzc1wiO1xuaW1wb3J0IHsgaXNDcnRBdmFpbGFibGUgfSBmcm9tIFwiLi9pcy1jcnQtYXZhaWxhYmxlXCI7XG5leHBvcnQgY29uc3QgVUFfQVBQX0lEX0VOVl9OQU1FID0gXCJBV1NfU0RLX1VBX0FQUF9JRFwiO1xuZXhwb3J0IGNvbnN0IFVBX0FQUF9JRF9JTklfTkFNRSA9IFwic2RrLXVhLWFwcC1pZFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRVc2VyQWdlbnQgPSAoeyBzZXJ2aWNlSWQsIGNsaWVudFZlcnNpb24gfSkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gW1xuICAgICAgICBbXCJhd3Mtc2RrLWpzXCIsIGNsaWVudFZlcnNpb25dLFxuICAgICAgICBbXCJ1YVwiLCBcIjIuMFwiXSxcbiAgICAgICAgW2Bvcy8ke3BsYXRmb3JtKCl9YCwgcmVsZWFzZSgpXSxcbiAgICAgICAgW1wibGFuZy9qc1wiXSxcbiAgICAgICAgW1wibWQvbm9kZWpzXCIsIGAke3ZlcnNpb25zLm5vZGV9YF0sXG4gICAgXTtcbiAgICBjb25zdCBjcnRBdmFpbGFibGUgPSBpc0NydEF2YWlsYWJsZSgpO1xuICAgIGlmIChjcnRBdmFpbGFibGUpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaChjcnRBdmFpbGFibGUpO1xuICAgIH1cbiAgICBpZiAoc2VydmljZUlkKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goW2BhcGkvJHtzZXJ2aWNlSWR9YCwgY2xpZW50VmVyc2lvbl0pO1xuICAgIH1cbiAgICBpZiAoZW52LkFXU19FWEVDVVRJT05fRU5WKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goW2BleGVjLWVudi8ke2Vudi5BV1NfRVhFQ1VUSU9OX0VOVn1gXSk7XG4gICAgfVxuICAgIGNvbnN0IGFwcElkUHJvbWlzZSA9IGxvYWRDb25maWcoe1xuICAgICAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltVQV9BUFBfSURfRU5WX05BTUVdLFxuICAgICAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW1VBX0FQUF9JRF9JTklfTkFNRV0sXG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgICB9KSgpO1xuICAgIGxldCByZXNvbHZlZFVzZXJBZ2VudCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXJlc29sdmVkVXNlckFnZW50KSB7XG4gICAgICAgICAgICBjb25zdCBhcHBJZCA9IGF3YWl0IGFwcElkUHJvbWlzZTtcbiAgICAgICAgICAgIHJlc29sdmVkVXNlckFnZW50ID0gYXBwSWQgPyBbLi4uc2VjdGlvbnMsIFtgYXBwLyR7YXBwSWR9YF1dIDogWy4uLnNlY3Rpb25zXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRVc2VyQWdlbnQ7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tQXJyYXlCdWZmZXIsIGZyb21TdHJpbmcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJ1ZmZlci1mcm9tXCI7XG5pbXBvcnQgeyB0b1VpbnQ4QXJyYXkgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUhhc2gsIGNyZWF0ZUhtYWMgfSBmcm9tIFwiY3J5cHRvXCI7XG5leHBvcnQgY2xhc3MgSGFzaCB7XG4gICAgY29uc3RydWN0b3IoYWxnb3JpdGhtSWRlbnRpZmllciwgc2VjcmV0KSB7XG4gICAgICAgIHRoaXMuYWxnb3JpdGhtSWRlbnRpZmllciA9IGFsZ29yaXRobUlkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIHVwZGF0ZSh0b0hhc2gsIGVuY29kaW5nKSB7XG4gICAgICAgIHRoaXMuaGFzaC51cGRhdGUodG9VaW50OEFycmF5KGNhc3RTb3VyY2VEYXRhKHRvSGFzaCwgZW5jb2RpbmcpKSk7XG4gICAgfVxuICAgIGRpZ2VzdCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmhhc2guZGlnZXN0KCkpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5oYXNoID0gdGhpcy5zZWNyZXRcbiAgICAgICAgICAgID8gY3JlYXRlSG1hYyh0aGlzLmFsZ29yaXRobUlkZW50aWZpZXIsIGNhc3RTb3VyY2VEYXRhKHRoaXMuc2VjcmV0KSlcbiAgICAgICAgICAgIDogY3JlYXRlSGFzaCh0aGlzLmFsZ29yaXRobUlkZW50aWZpZXIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhc3RTb3VyY2VEYXRhKHRvQ2FzdCwgZW5jb2RpbmcpIHtcbiAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHRvQ2FzdCkpIHtcbiAgICAgICAgcmV0dXJuIHRvQ2FzdDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0b0Nhc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcodG9DYXN0LCBlbmNvZGluZyk7XG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodG9DYXN0KSkge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRvQ2FzdC5idWZmZXIsIHRvQ2FzdC5ieXRlT2Zmc2V0LCB0b0Nhc3QuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodG9DYXN0KTtcbn1cbiIsImltcG9ydCB7IGZzdGF0U3luYywgbHN0YXRTeW5jIH0gZnJvbSBcImZzXCI7XG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQm9keUxlbmd0aCA9IChib2R5KSA9PiB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJvZHkpLmxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkuYnl0ZUxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYm9keS5zaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBib2R5LnNpemU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBib2R5LnBhdGggPT09IFwic3RyaW5nXCIgfHwgQnVmZmVyLmlzQnVmZmVyKGJvZHkucGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIGxzdGF0U3luYyhib2R5LnBhdGgpLnNpemU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBib2R5LmZkID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBmc3RhdFN5bmMoYm9keS5mZCkuc2l6ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBCb2R5IExlbmd0aCBjb21wdXRhdGlvbiBmYWlsZWQgZm9yICR7Ym9keX1gKTtcbn07XG4iLCJjb25zdCBwID0gXCJyZXF1aXJlZFwiLCBxID0gXCJmblwiLCByID0gXCJhcmd2XCIsIHMgPSBcInJlZlwiO1xuY29uc3QgYSA9IFwiUGFydGl0aW9uUmVzdWx0XCIsIGIgPSBcInRyZWVcIiwgYyA9IFwiZXJyb3JcIiwgZCA9IFwiZW5kcG9pbnRcIiwgZSA9IHsgW3BdOiBmYWxzZSwgXCJ0eXBlXCI6IFwiU3RyaW5nXCIgfSwgZiA9IHsgW3BdOiB0cnVlLCBcImRlZmF1bHRcIjogZmFsc2UsIFwidHlwZVwiOiBcIkJvb2xlYW5cIiB9LCBnID0geyBbc106IFwiRW5kcG9pbnRcIiB9LCBoID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt7IFtzXTogXCJVc2VGSVBTXCIgfSwgdHJ1ZV0gfSwgaSA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbeyBbc106IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfSwgaiA9IHt9LCBrID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt0cnVlLCB7IFtxXTogXCJnZXRBdHRyXCIsIFtyXTogW3sgW3NdOiBhIH0sIFwic3VwcG9ydHNGSVBTXCJdIH1dIH0sIGwgPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3RydWUsIHsgW3FdOiBcImdldEF0dHJcIiwgW3JdOiBbeyBbc106IGEgfSwgXCJzdXBwb3J0c0R1YWxTdGFja1wiXSB9XSB9LCBtID0gW2ddLCBuID0gW2hdLCBvID0gW2ldO1xuY29uc3QgX2RhdGEgPSB7IHZlcnNpb246IFwiMS4wXCIsIHBhcmFtZXRlcnM6IHsgUmVnaW9uOiBlLCBVc2VEdWFsU3RhY2s6IGYsIFVzZUZJUFM6IGYsIEVuZHBvaW50OiBlIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbcV06IFwiYXdzLnBhcnRpdGlvblwiLCBbcl06IFt7IFtzXTogXCJSZWdpb25cIiB9XSwgYXNzaWduOiBhIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3FdOiBcImlzU2V0XCIsIFtyXTogbSB9LCB7IFtxXTogXCJwYXJzZVVSTFwiLCBbcl06IG0sIGFzc2lnbjogXCJ1cmxcIiB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IG4sIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogbywgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBEdWFsc3RhY2sgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBnLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBjb25kaXRpb25zOiBbaCwgaV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbaywgbF0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9wb3J0YWwuc3NvLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9LCB7IGVycm9yOiBcIkZJUFMgYW5kIER1YWxTdGFjayBhcmUgZW5hYmxlZCwgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgb25lIG9yIGJvdGhcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IG4sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBba10sIHR5cGU6IGIsIHJ1bGVzOiBbeyB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcG9ydGFsLnNzby1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogbywgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtsXSwgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3BvcnRhbC5zc28ue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9LCB7IGVycm9yOiBcIkR1YWxTdGFjayBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IER1YWxTdGFja1wiLCB0eXBlOiBjIH1dIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcG9ydGFsLnNzby57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH1dIH07XG5leHBvcnQgY29uc3QgcnVsZVNldCA9IF9kYXRhO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBydWxlU2V0IH0gZnJvbSBcIi4vcnVsZXNldFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVzb2x2ZUVuZHBvaW50KHJ1bGVTZXQsIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXM6IGVuZHBvaW50UGFyYW1zLFxuICAgICAgICBsb2dnZXI6IGNvbnRleHQubG9nZ2VyLFxuICAgIH0pO1xufTtcbiIsImV4cG9ydCBjb25zdCBBV1NfRVhFQ1VUSU9OX0VOViA9IFwiQVdTX0VYRUNVVElPTl9FTlZcIjtcbmV4cG9ydCBjb25zdCBBV1NfUkVHSU9OX0VOViA9IFwiQVdTX1JFR0lPTlwiO1xuZXhwb3J0IGNvbnN0IEFXU19ERUZBVUxUX1JFR0lPTl9FTlYgPSBcIkFXU19ERUZBVUxUX1JFR0lPTlwiO1xuZXhwb3J0IGNvbnN0IEVOVl9JTURTX0RJU0FCTEVEID0gXCJBV1NfRUMyX01FVEFEQVRBX0RJU0FCTEVEXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVFNfTU9ERV9PUFRJT05TID0gW1wiaW4tcmVnaW9uXCIsIFwiY3Jvc3MtcmVnaW9uXCIsIFwibW9iaWxlXCIsIFwic3RhbmRhcmRcIiwgXCJsZWdhY3lcIl07XG5leHBvcnQgY29uc3QgSU1EU19SRUdJT05fUEFUSCA9IFwiL2xhdGVzdC9tZXRhLWRhdGEvcGxhY2VtZW50L3JlZ2lvblwiO1xuIiwiY29uc3QgQVdTX0RFRkFVTFRTX01PREVfRU5WID0gXCJBV1NfREVGQVVMVFNfTU9ERVwiO1xuY29uc3QgQVdTX0RFRkFVTFRTX01PREVfQ09ORklHID0gXCJkZWZhdWx0c19tb2RlXCI7XG5leHBvcnQgY29uc3QgTk9ERV9ERUZBVUxUU19NT0RFX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4ge1xuICAgICAgICByZXR1cm4gZW52W0FXU19ERUZBVUxUU19NT0RFX0VOVl07XG4gICAgfSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9maWxlW0FXU19ERUZBVUxUU19NT0RFX0NPTkZJR107XG4gICAgfSxcbiAgICBkZWZhdWx0OiBcImxlZ2FjeVwiLFxufTtcbiIsImltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQsIGh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IG1lbW9pemUgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgQVdTX0RFRkFVTFRfUkVHSU9OX0VOViwgQVdTX0VYRUNVVElPTl9FTlYsIEFXU19SRUdJT05fRU5WLCBERUZBVUxUU19NT0RFX09QVElPTlMsIEVOVl9JTURTX0RJU0FCTEVELCBJTURTX1JFR0lPTl9QQVRILCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTk9ERV9ERUZBVUxUU19NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIi4vZGVmYXVsdHNNb2RlQ29uZmlnXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyA9ICh7IHJlZ2lvbiA9IGxvYWRDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMpLCBkZWZhdWx0c01vZGUgPSBsb2FkQ29uZmlnKE5PREVfREVGQVVMVFNfTU9ERV9DT05GSUdfT1BUSU9OUyksIH0gPSB7fSkgPT4gbWVtb2l6ZShhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9kZSA9IHR5cGVvZiBkZWZhdWx0c01vZGUgPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IGRlZmF1bHRzTW9kZSgpIDogZGVmYXVsdHNNb2RlO1xuICAgIHN3aXRjaCAobW9kZT8udG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlIFwiYXV0b1wiOlxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlRGVmYXVsdHNNb2RlQXV0byhyZWdpb24pO1xuICAgICAgICBjYXNlIFwiaW4tcmVnaW9uXCI6XG4gICAgICAgIGNhc2UgXCJjcm9zcy1yZWdpb25cIjpcbiAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxuICAgICAgICBjYXNlIFwic3RhbmRhcmRcIjpcbiAgICAgICAgY2FzZSBcImxlZ2FjeVwiOlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2RlPy50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwibGVnYWN5XCIpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBhcmFtZXRlciBmb3IgXCJkZWZhdWx0c01vZGVcIiwgZXhwZWN0ICR7REVGQVVMVFNfTU9ERV9PUFRJT05TLmpvaW4oXCIsIFwiKX0sIGdvdCAke21vZGV9YCk7XG4gICAgfVxufSk7XG5jb25zdCByZXNvbHZlTm9kZURlZmF1bHRzTW9kZUF1dG8gPSBhc3luYyAoY2xpZW50UmVnaW9uKSA9PiB7XG4gICAgaWYgKGNsaWVudFJlZ2lvbikge1xuICAgICAgICBjb25zdCByZXNvbHZlZFJlZ2lvbiA9IHR5cGVvZiBjbGllbnRSZWdpb24gPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IGNsaWVudFJlZ2lvbigpIDogY2xpZW50UmVnaW9uO1xuICAgICAgICBjb25zdCBpbmZlcnJlZFJlZ2lvbiA9IGF3YWl0IGluZmVyUGh5c2ljYWxSZWdpb24oKTtcbiAgICAgICAgaWYgKCFpbmZlcnJlZFJlZ2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIFwic3RhbmRhcmRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzb2x2ZWRSZWdpb24gPT09IGluZmVycmVkUmVnaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJpbi1yZWdpb25cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImNyb3NzLXJlZ2lvblwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcInN0YW5kYXJkXCI7XG59O1xuY29uc3QgaW5mZXJQaHlzaWNhbFJlZ2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbQVdTX0VYRUNVVElPTl9FTlZdICYmIChwcm9jZXNzLmVudltBV1NfUkVHSU9OX0VOVl0gfHwgcHJvY2Vzcy5lbnZbQVdTX0RFRkFVTFRfUkVHSU9OX0VOVl0pKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudltBV1NfUkVHSU9OX0VOVl0gPz8gcHJvY2Vzcy5lbnZbQVdTX0RFRkFVTFRfUkVHSU9OX0VOVl07XG4gICAgfVxuICAgIGlmICghcHJvY2Vzcy5lbnZbRU5WX0lNRFNfRElTQUJMRURdKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCgpO1xuICAgICAgICAgICAgcmV0dXJuIChhd2FpdCBodHRwUmVxdWVzdCh7IC4uLmVuZHBvaW50LCBwYXRoOiBJTURTX1JFR0lPTl9QQVRIIH0pKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgU1NPQ2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNSk7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNik7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ182O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcImF3c3Nzb3BvcnRhbFwiLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBzbWl0aHkvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBzbWl0aHkvdXJsLXBhcnNlclwiO1xuaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyXCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+ICh7XG4gICAgYXBpVmVyc2lvbjogXCIyMDE5LTA2LTEwXCIsXG4gICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgYmFzZTY0RW5jb2RlcjogY29uZmlnPy5iYXNlNjRFbmNvZGVyID8/IHRvQmFzZTY0LFxuICAgIGRpc2FibGVIb3N0UHJlZml4OiBjb25maWc/LmRpc2FibGVIb3N0UHJlZml4ID8/IGZhbHNlLFxuICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICBsb2dnZXI6IGNvbmZpZz8ubG9nZ2VyID8/IG5ldyBOb09wTG9nZ2VyKCksXG4gICAgc2VydmljZUlkOiBjb25maWc/LnNlcnZpY2VJZCA/PyBcIlNTT1wiLFxuICAgIHVybFBhcnNlcjogY29uZmlnPy51cmxQYXJzZXIgPz8gcGFyc2VVcmwsXG4gICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxufSk7XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBTU09TZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU1NPU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNFTlNJVElWRV9TVFJJTkcgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTU09TZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1NTT1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbmF1dGhvcml6ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJVbmF1dGhvcml6ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmF1dGhvcml6ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgR2V0Um9sZUNyZWRlbnRpYWxzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouYWNjZXNzVG9rZW4gJiYgeyBhY2Nlc3NUb2tlbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJvbGVDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouc2VjcmV0QWNjZXNzS2V5ICYmIHsgc2VjcmV0QWNjZXNzS2V5OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouc2Vzc2lvblRva2VuICYmIHsgc2Vzc2lvblRva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2V0Um9sZUNyZWRlbnRpYWxzUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLnJvbGVDcmVkZW50aWFscyAmJiB7IHJvbGVDcmVkZW50aWFsczogUm9sZUNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5yb2xlQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTGlzdEFjY291bnRSb2xlc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLmFjY2Vzc1Rva2VuICYmIHsgYWNjZXNzVG9rZW46IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBMaXN0QWNjb3VudHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5hY2Nlc3NUb2tlbiAmJiB7IGFjY2Vzc1Rva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTG9nb3V0UmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouYWNjZXNzVG9rZW4gJiYgeyBhY2Nlc3NUb2tlbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IF9qc29uLCBjb2xsZWN0Qm9keSwgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0T2JqZWN0IGFzIF9fZXhwZWN0T2JqZWN0LCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIG1hcCwgdGFrZSwgd2l0aEJhc2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24sIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24sIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiwgVW5hdXRob3JpemVkRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IFNTT1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9TU09TZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY29uc3Qgc2VfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBtYXAoe30sIGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUsIHtcbiAgICAgICAgXCJ4LWFtei1zc29fYmVhcmVyX3Rva2VuXCI6IGlucHV0LmFjY2Vzc1Rva2VuLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9mZWRlcmF0aW9uL2NyZWRlbnRpYWxzXCI7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICByb2xlX25hbWU6IFssIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5yb2xlTmFtZSwgYHJvbGVOYW1lYCldLFxuICAgICAgICBhY2NvdW50X2lkOiBbLCBfX2V4cGVjdE5vbk51bGwoaW5wdXQuYWNjb3VudElkLCBgYWNjb3VudElkYCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QWNjb3VudFJvbGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBtYXAoe30sIGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUsIHtcbiAgICAgICAgXCJ4LWFtei1zc29fYmVhcmVyX3Rva2VuXCI6IGlucHV0LmFjY2Vzc1Rva2VuLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hc3NpZ25tZW50L3JvbGVzXCI7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuZXh0X3Rva2VuOiBbLCBpbnB1dC5uZXh0VG9rZW5dLFxuICAgICAgICBtYXhfcmVzdWx0OiBbKCkgPT4gaW5wdXQubWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5tYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgICAgICBhY2NvdW50X2lkOiBbLCBfX2V4cGVjdE5vbk51bGwoaW5wdXQuYWNjb3VudElkLCBgYWNjb3VudElkYCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QWNjb3VudHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IG1hcCh7fSwgaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSwge1xuICAgICAgICBcIngtYW16LXNzb19iZWFyZXJfdG9rZW5cIjogaW5wdXQuYWNjZXNzVG9rZW4sXG4gICAgfSk7XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2Fzc2lnbm1lbnQvYWNjb3VudHNcIjtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIG5leHRfdG9rZW46IFssIGlucHV0Lm5leHRUb2tlbl0sXG4gICAgICAgIG1heF9yZXN1bHQ6IFsoKSA9PiBpbnB1dC5tYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lm1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xvZ291dENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0gbWFwKHt9LCBpc1NlcmlhbGl6YWJsZUhlYWRlclZhbHVlLCB7XG4gICAgICAgIFwieC1hbXotc3NvX2JlYXJlcl90b2tlblwiOiBpbnB1dC5hY2Nlc3NUb2tlbixcbiAgICB9KTtcbiAgICBjb25zdCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvbG9nb3V0XCI7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIHJvbGVDcmVkZW50aWFsczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0QWNjb3VudFJvbGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RBY2NvdW50Um9sZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIG5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIHJvbGVMaXN0OiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0QWNjb3VudFJvbGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0QWNjb3VudHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEFjY291bnRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBhY2NvdW50TGlzdDogX2pzb24sXG4gICAgICAgIG5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEFjY291bnRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9Mb2dvdXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTG9nb3V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Mb2dvdXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNVbmF1dGhvcml6ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIG1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVW5hdXRob3JpemVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIG1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuYXV0aG9yaXplZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCBpc1NlcmlhbGl6YWJsZUhlYWRlclZhbHVlID0gKHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICB2YWx1ZSAhPT0gXCJcIiAmJlxuICAgICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmluY2x1ZGVzKFwibGVuZ3RoXCIpIHx8IHZhbHVlLmxlbmd0aCAhPSAwKSAmJlxuICAgICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmluY2x1ZGVzKFwic2l6ZVwiKSB8fCB2YWx1ZS5zaXplICE9IDApO1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZW5jb2RlZCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICB2YWx1ZS5tZXNzYWdlID0gdmFsdWUubWVzc2FnZSA/PyB2YWx1ZS5NZXNzYWdlO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBsb2FkUmVzdEpzb25FcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgZmluZEtleSA9IChvYmplY3QsIGtleSkgPT4gT2JqZWN0LmtleXMob2JqZWN0KS5maW5kKChrKSA9PiBrLnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICBjb25zdCBzYW5pdGl6ZUVycm9yQ29kZSA9IChyYXdWYWx1ZSkgPT4ge1xuICAgICAgICBsZXQgY2xlYW5WYWx1ZSA9IHJhd1ZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFuVmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCI6XCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiI1wiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIiNcIilbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsZWFuVmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJLZXkgPSBmaW5kS2V5KG91dHB1dC5oZWFkZXJzLCBcIngtYW16bi1lcnJvcnR5cGVcIik7XG4gICAgaWYgKGhlYWRlcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShvdXRwdXQuaGVhZGVyc1toZWFkZXJLZXldKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhLmNvZGUpO1xuICAgIH1cbiAgICBpZiAoZGF0YVtcIl9fdHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhW1wiX190eXBlXCJdKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBHZXRSb2xlQ3JlZGVudGlhbHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nLCBHZXRSb2xlQ3JlZGVudGlhbHNSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZywgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18wXCI7XG5pbXBvcnQgeyBkZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kLCBzZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xXCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIEdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY2xpZW50U3RhY2suY29uY2F0KHRoaXMubWlkZGxld2FyZVN0YWNrKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBcIlNTT0NsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiBHZXRSb2xlQ3JlZGVudGlhbHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiBHZXRSb2xlQ3JlZGVudGlhbHNSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiLi9Qcm92aWRlckVycm9yXCI7XG5leHBvcnQgY2xhc3MgVG9rZW5Qcm92aWRlckVycm9yIGV4dGVuZHMgUHJvdmlkZXJFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgdHJ5TmV4dExpbmsgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHRyeU5leHRMaW5rKTtcbiAgICAgICAgdGhpcy50cnlOZXh0TGluayA9IHRyeU5leHRMaW5rO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRva2VuUHJvdmlkZXJFcnJvclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVG9rZW5Qcm92aWRlckVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEVYUElSRV9XSU5ET1dfTVMgPSA1ICogNjAgKiAxMDAwO1xuZXhwb3J0IGNvbnN0IFJFRlJFU0hfTUVTU0FHRSA9IGBUbyByZWZyZXNoIHRoaXMgU1NPIHNlc3Npb24gcnVuICdhd3Mgc3NvIGxvZ2luJyB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb2ZpbGUuYDtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTU09PSURDU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9TU09PSURDU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQXV0aG9yaXphdGlvblBlbmRpbmdFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXhwaXJlZFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXhwaXJlZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcInNlcnZlclwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ2xpZW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkQ2xpZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEdyYW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEdyYW50RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkR3JhbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEdyYW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU2NvcGVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkU2NvcGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRTY29wZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkU2NvcGVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTbG93RG93bkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlNsb3dEb3duRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTbG93RG93bkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTbG93RG93bkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgX2pzb24sIGNvbGxlY3RCb2R5LCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdEludDMyIGFzIF9fZXhwZWN0SW50MzIsIGV4cGVjdExvbmcgYXMgX19leHBlY3RMb25nLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0T2JqZWN0IGFzIF9fZXhwZWN0T2JqZWN0LCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIG1hcCwgdGFrZSwgd2l0aEJhc2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgQWNjZXNzRGVuaWVkRXhjZXB0aW9uLCBBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbiwgRXhwaXJlZFRva2VuRXhjZXB0aW9uLCBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbiwgSW52YWxpZENsaWVudEV4Y2VwdGlvbiwgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uLCBJbnZhbGlkR3JhbnRFeGNlcHRpb24sIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uLCBJbnZhbGlkU2NvcGVFeGNlcHRpb24sIFNsb3dEb3duRXhjZXB0aW9uLCBVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb24sIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUb2tlbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi90b2tlblwiO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIGNsaWVudElkOiBbXSxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBbXSxcbiAgICAgICAgY29kZTogW10sXG4gICAgICAgIGRldmljZUNvZGU6IFtdLFxuICAgICAgICBncmFudFR5cGU6IFtdLFxuICAgICAgICByZWRpcmVjdFVyaTogW10sXG4gICAgICAgIHJlZnJlc2hUb2tlbjogW10sXG4gICAgICAgIHNjb3BlOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9SZWdpc3RlckNsaWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9jbGllbnQvcmVnaXN0ZXJcIjtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBjbGllbnROYW1lOiBbXSxcbiAgICAgICAgY2xpZW50VHlwZTogW10sXG4gICAgICAgIHNjb3BlczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2RldmljZV9hdXRob3JpemF0aW9uXCI7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgY2xpZW50SWQ6IFtdLFxuICAgICAgICBjbGllbnRTZWNyZXQ6IFtdLFxuICAgICAgICBzdGFydFVybDogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUb2tlbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUb2tlbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgYWNjZXNzVG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBleHBpcmVzSW46IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIGlkVG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICByZWZyZXNoVG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICB0b2tlblR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRva2VuQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0F1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEdyYW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZEdyYW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTY29wZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiU2xvd0Rvd25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNTbG93RG93bkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2xvd0Rvd25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1Vuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBhdXRob3JpemF0aW9uRW5kcG9pbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBjbGllbnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGNsaWVudElkSXNzdWVkQXQ6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgY2xpZW50U2VjcmV0RXhwaXJlc0F0OiBfX2V4cGVjdExvbmcsXG4gICAgICAgIHRva2VuRW5kcG9pbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbGllbnRNZXRhZGF0YUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTY29wZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludmFsaWRTY29wZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNjb3BlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZGV2aWNlQ29kZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGV4cGlyZXNJbjogX19leHBlY3RJbnQzMixcbiAgICAgICAgaW50ZXJ2YWw6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIHVzZXJDb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgdmVyaWZpY2F0aW9uVXJpOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgdmVyaWZpY2F0aW9uVXJpQ29tcGxldGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludmFsaWRDbGllbnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbGllbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTbG93RG93bkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1Nsb3dEb3duRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TbG93RG93bkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IHRocm93RGVmYXVsdEVycm9yID0gd2l0aEJhc2VFeGNlcHRpb24oX19CYXNlRXhjZXB0aW9uKTtcbmNvbnN0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0F1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXhwaXJlZFRva2VuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ2xpZW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEdyYW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNjb3BlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTY29wZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfU2xvd0Rvd25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgU2xvd0Rvd25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Vuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG5jb25zdCBjb2xsZWN0Qm9keVN0cmluZyA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keShzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChib2R5KSA9PiBjb250ZXh0LnV0ZjhFbmNvZGVyKGJvZHkpKTtcbmNvbnN0IGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHZhbHVlICE9PSBcIlwiICYmXG4gICAgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuaW5jbHVkZXMoXCJsZW5ndGhcIikgfHwgdmFsdWUubGVuZ3RoICE9IDApICYmXG4gICAgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuaW5jbHVkZXMoXCJzaXplXCIpIHx8IHZhbHVlLnNpemUgIT0gMCk7XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShlbmNvZGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufSk7XG5jb25zdCBwYXJzZUVycm9yQm9keSA9IGFzeW5jIChlcnJvckJvZHksIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhcnNlQm9keShlcnJvckJvZHksIGNvbnRleHQpO1xuICAgIHZhbHVlLm1lc3NhZ2UgPSB2YWx1ZS5tZXNzYWdlID8/IHZhbHVlLk1lc3NhZ2U7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGxvYWRSZXN0SnNvbkVycm9yQ29kZSA9IChvdXRwdXQsIGRhdGEpID0+IHtcbiAgICBjb25zdCBmaW5kS2V5ID0gKG9iamVjdCwga2V5KSA9PiBPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoKGspID0+IGsudG9Mb3dlckNhc2UoKSA9PT0ga2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgIGNvbnN0IHNhbml0aXplRXJyb3JDb2RlID0gKHJhd1ZhbHVlKSA9PiB7XG4gICAgICAgIGxldCBjbGVhblZhbHVlID0gcmF3VmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYW5WYWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiLFwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIixcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIjpcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCI6XCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIjXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiI1wiKVsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xlYW5WYWx1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlcktleSA9IGZpbmRLZXkob3V0cHV0LmhlYWRlcnMsIFwieC1hbXpuLWVycm9ydHlwZVwiKTtcbiAgICBpZiAoaGVhZGVyS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKG91dHB1dC5oZWFkZXJzW2hlYWRlcktleV0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKGRhdGEuY29kZSk7XG4gICAgfVxuICAgIGlmIChkYXRhW1wiX190eXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKGRhdGFbXCJfX3R5cGVcIl0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IGRlX0NyZWF0ZVRva2VuQ29tbWFuZCwgc2VfQ3JlYXRlVG9rZW5Db21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xXCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIENyZWF0ZVRva2VuQ29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBDcmVhdGVUb2tlbkNvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTU09PSURDQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJDcmVhdGVUb2tlbkNvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9DcmVhdGVUb2tlbkNvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRva2VuQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcImF3c3Nzb29pZGNcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHAgPSBcInJlcXVpcmVkXCIsIHEgPSBcImZuXCIsIHIgPSBcImFyZ3ZcIiwgcyA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJQYXJ0aXRpb25SZXN1bHRcIiwgYiA9IFwidHJlZVwiLCBjID0gXCJlcnJvclwiLCBkID0gXCJlbmRwb2ludFwiLCBlID0geyBbcF06IGZhbHNlLCBcInR5cGVcIjogXCJTdHJpbmdcIiB9LCBmID0geyBbcF06IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgXCJ0eXBlXCI6IFwiQm9vbGVhblwiIH0sIGcgPSB7IFtzXTogXCJFbmRwb2ludFwiIH0sIGggPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3sgW3NdOiBcIlVzZUZJUFNcIiB9LCB0cnVlXSB9LCBpID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt7IFtzXTogXCJVc2VEdWFsU3RhY2tcIiB9LCB0cnVlXSB9LCBqID0ge30sIGsgPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3RydWUsIHsgW3FdOiBcImdldEF0dHJcIiwgW3JdOiBbeyBbc106IGEgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfV0gfSwgbCA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbdHJ1ZSwgeyBbcV06IFwiZ2V0QXR0clwiLCBbcl06IFt7IFtzXTogYSB9LCBcInN1cHBvcnRzRHVhbFN0YWNrXCJdIH1dIH0sIG0gPSBbZ10sIG4gPSBbaF0sIG8gPSBbaV07XG5jb25zdCBfZGF0YSA9IHsgdmVyc2lvbjogXCIxLjBcIiwgcGFyYW1ldGVyczogeyBSZWdpb246IGUsIFVzZUR1YWxTdGFjazogZiwgVXNlRklQUzogZiwgRW5kcG9pbnQ6IGUgfSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtxXTogXCJhd3MucGFydGl0aW9uXCIsIFtyXTogW3sgW3NdOiBcIlJlZ2lvblwiIH1dLCBhc3NpZ246IGEgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbcV06IFwiaXNTZXRcIiwgW3JdOiBtIH0sIHsgW3FdOiBcInBhcnNlVVJMXCIsIFtyXTogbSwgYXNzaWduOiBcInVybFwiIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogbiwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBvLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyBlbmRwb2ludDogeyB1cmw6IGcsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9XSB9LCB7IGNvbmRpdGlvbnM6IFtoLCBpXSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrLCBsXSwgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL29pZGMtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogbiwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9vaWRjLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBvLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2xdLCB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vb2lkYy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIHR5cGU6IGMgfV0gfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9vaWRjLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgU1NPT0lEQ0NsaWVudCBleHRlbmRzIF9fQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBzdXBlcihfY29uZmlnXzYpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9jb25maWdfNjtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJldHJ5UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRDb250ZW50TGVuZ3RoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRIb3N0SGVhZGVyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRMb2dnZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0VXNlckFnZW50UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgZGVmYXVsdFVzZXJBZ2VudCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IEhhc2ggfSBmcm9tIFwiQHNtaXRoeS9oYXNoLW5vZGVcIjtcbmltcG9ydCB7IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMsIE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgTm9kZUh0dHBIYW5kbGVyIGFzIFJlcXVlc3RIYW5kbGVyLCBzdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWh0dHAtaGFuZGxlclwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm9keUxlbmd0aCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1yZXRyeVwiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBnZXRTaGFyZWRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZy5zaGFyZWRcIjtcbmltcG9ydCB7IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgY29uc3QgZGVmYXVsdHNNb2RlID0gcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWdQcm92aWRlciA9ICgpID0+IGRlZmF1bHRzTW9kZSgpLnRoZW4obG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSk7XG4gICAgY29uc3QgY2xpZW50U2hhcmVkVmFsdWVzID0gZ2V0U2hhcmVkUnVudGltZUNvbmZpZyhjb25maWcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNsaWVudFNoYXJlZFZhbHVlcyxcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBydW50aW1lOiBcIm5vZGVcIixcbiAgICAgICAgZGVmYXVsdHNNb2RlLFxuICAgICAgICBib2R5TGVuZ3RoQ2hlY2tlcjogY29uZmlnPy5ib2R5TGVuZ3RoQ2hlY2tlciA/PyBjYWxjdWxhdGVCb2R5TGVuZ3RoLFxuICAgICAgICBkZWZhdWx0VXNlckFnZW50UHJvdmlkZXI6IGNvbmZpZz8uZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyID8/XG4gICAgICAgICAgICBkZWZhdWx0VXNlckFnZW50KHsgc2VydmljZUlkOiBjbGllbnRTaGFyZWRWYWx1ZXMuc2VydmljZUlkLCBjbGllbnRWZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciB9IGZyb20gXCIuL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4gKHtcbiAgICBhcGlWZXJzaW9uOiBcIjIwMTktMDYtMTBcIixcbiAgICBiYXNlNjREZWNvZGVyOiBjb25maWc/LmJhc2U2NERlY29kZXIgPz8gZnJvbUJhc2U2NCxcbiAgICBiYXNlNjRFbmNvZGVyOiBjb25maWc/LmJhc2U2NEVuY29kZXIgPz8gdG9CYXNlNjQsXG4gICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgZW5kcG9pbnRQcm92aWRlcjogY29uZmlnPy5lbmRwb2ludFByb3ZpZGVyID8/IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyLFxuICAgIGxvZ2dlcjogY29uZmlnPy5sb2dnZXIgPz8gbmV3IE5vT3BMb2dnZXIoKSxcbiAgICBzZXJ2aWNlSWQ6IGNvbmZpZz8uc2VydmljZUlkID8/IFwiU1NPIE9JRENcIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgU1NPT0lEQ0NsaWVudCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3NvLW9pZGNcIjtcbmNvbnN0IHNzb09pZGNDbGllbnRzSGFzaCA9IHt9O1xuZXhwb3J0IGNvbnN0IGdldFNzb09pZGNDbGllbnQgPSAoc3NvUmVnaW9uKSA9PiB7XG4gICAgaWYgKHNzb09pZGNDbGllbnRzSGFzaFtzc29SZWdpb25dKSB7XG4gICAgICAgIHJldHVybiBzc29PaWRjQ2xpZW50c0hhc2hbc3NvUmVnaW9uXTtcbiAgICB9XG4gICAgY29uc3Qgc3NvT2lkY0NsaWVudCA9IG5ldyBTU09PSURDQ2xpZW50KHsgcmVnaW9uOiBzc29SZWdpb24gfSk7XG4gICAgc3NvT2lkY0NsaWVudHNIYXNoW3Nzb1JlZ2lvbl0gPSBzc29PaWRjQ2xpZW50O1xuICAgIHJldHVybiBzc29PaWRjQ2xpZW50O1xufTtcbiIsImltcG9ydCB7IFRva2VuUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBSRUZSRVNIX01FU1NBR0UgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVRva2VuRXhwaXJ5ID0gKHRva2VuKSA9PiB7XG4gICAgaWYgKHRva2VuLmV4cGlyYXRpb24gJiYgdG9rZW4uZXhwaXJhdGlvbi5nZXRUaW1lKCkgPCBEYXRlLm5vdygpKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFRva2VuIGlzIGV4cGlyZWQuICR7UkVGUkVTSF9NRVNTQUdFfWAsIGZhbHNlKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgVG9rZW5Qcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IFJFRlJFU0hfTUVTU0FHRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVG9rZW5LZXkgPSAoa2V5LCB2YWx1ZSwgZm9yUmVmcmVzaCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBWYWx1ZSBub3QgcHJlc2VudCBmb3IgJyR7a2V5fScgaW4gU1NPIFRva2VuJHtmb3JSZWZyZXNoID8gXCIuIENhbm5vdCByZWZyZXNoXCIgOiBcIlwifS4gJHtSRUZSRVNIX01FU1NBR0V9YCwgZmFsc2UpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRTU09Ub2tlbkZpbGVwYXRoIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gXCJmc1wiO1xuY29uc3QgeyB3cml0ZUZpbGUgfSA9IGZzUHJvbWlzZXM7XG5leHBvcnQgY29uc3Qgd3JpdGVTU09Ub2tlblRvRmlsZSA9IChpZCwgc3NvVG9rZW4pID0+IHtcbiAgICBjb25zdCB0b2tlbkZpbGVwYXRoID0gZ2V0U1NPVG9rZW5GaWxlcGF0aChpZCk7XG4gICAgY29uc3QgdG9rZW5TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShzc29Ub2tlbiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIHdyaXRlRmlsZSh0b2tlbkZpbGVwYXRoLCB0b2tlblN0cmluZyk7XG59O1xuIiwiaW1wb3J0IHsgVG9rZW5Qcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGdldFByb2ZpbGVOYW1lLCBnZXRTU09Ub2tlbkZyb21GaWxlLCBsb2FkU3NvU2Vzc2lvbkRhdGEsIHBhcnNlS25vd25GaWxlcywgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyBFWFBJUkVfV0lORE9XX01TLCBSRUZSRVNIX01FU1NBR0UgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldE5ld1Nzb09pZGNUb2tlbiB9IGZyb20gXCIuL2dldE5ld1Nzb09pZGNUb2tlblwiO1xuaW1wb3J0IHsgdmFsaWRhdGVUb2tlbkV4cGlyeSB9IGZyb20gXCIuL3ZhbGlkYXRlVG9rZW5FeHBpcnlcIjtcbmltcG9ydCB7IHZhbGlkYXRlVG9rZW5LZXkgfSBmcm9tIFwiLi92YWxpZGF0ZVRva2VuS2V5XCI7XG5pbXBvcnQgeyB3cml0ZVNTT1Rva2VuVG9GaWxlIH0gZnJvbSBcIi4vd3JpdGVTU09Ub2tlblRvRmlsZVwiO1xuY29uc3QgbGFzdFJlZnJlc2hBdHRlbXB0VGltZSA9IG5ldyBEYXRlKDApO1xuZXhwb3J0IGNvbnN0IGZyb21Tc28gPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgY29uc3QgcHJvZmlsZU5hbWUgPSBnZXRQcm9maWxlTmFtZShpbml0KTtcbiAgICBjb25zdCBwcm9maWxlID0gcHJvZmlsZXNbcHJvZmlsZU5hbWVdO1xuICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBQcm9maWxlICcke3Byb2ZpbGVOYW1lfScgY291bGQgbm90IGJlIGZvdW5kIGluIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlLmAsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXByb2ZpbGVbXCJzc29fc2Vzc2lvblwiXSkge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBQcm9maWxlICcke3Byb2ZpbGVOYW1lfScgaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAnc3NvX3Nlc3Npb24nLmApO1xuICAgIH1cbiAgICBjb25zdCBzc29TZXNzaW9uTmFtZSA9IHByb2ZpbGVbXCJzc29fc2Vzc2lvblwiXTtcbiAgICBjb25zdCBzc29TZXNzaW9ucyA9IGF3YWl0IGxvYWRTc29TZXNzaW9uRGF0YShpbml0KTtcbiAgICBjb25zdCBzc29TZXNzaW9uID0gc3NvU2Vzc2lvbnNbc3NvU2Vzc2lvbk5hbWVdO1xuICAgIGlmICghc3NvU2Vzc2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBTc28gc2Vzc2lvbiAnJHtzc29TZXNzaW9uTmFtZX0nIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBzaGFyZWQgY3JlZGVudGlhbHMgZmlsZS5gLCBmYWxzZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc3NvU2Vzc2lvblJlcXVpcmVkS2V5IG9mIFtcInNzb19zdGFydF91cmxcIiwgXCJzc29fcmVnaW9uXCJdKSB7XG4gICAgICAgIGlmICghc3NvU2Vzc2lvbltzc29TZXNzaW9uUmVxdWlyZWRLZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBTc28gc2Vzc2lvbiAnJHtzc29TZXNzaW9uTmFtZX0nIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgJyR7c3NvU2Vzc2lvblJlcXVpcmVkS2V5fScuYCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNzb1N0YXJ0VXJsID0gc3NvU2Vzc2lvbltcInNzb19zdGFydF91cmxcIl07XG4gICAgY29uc3Qgc3NvUmVnaW9uID0gc3NvU2Vzc2lvbltcInNzb19yZWdpb25cIl07XG4gICAgbGV0IHNzb1Rva2VuO1xuICAgIHRyeSB7XG4gICAgICAgIHNzb1Rva2VuID0gYXdhaXQgZ2V0U1NPVG9rZW5Gcm9tRmlsZShzc29TZXNzaW9uTmFtZSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFRoZSBTU08gc2Vzc2lvbiB0b2tlbiBhc3NvY2lhdGVkIHdpdGggcHJvZmlsZT0ke3Byb2ZpbGVOYW1lfSB3YXMgbm90IGZvdW5kIG9yIGlzIGludmFsaWQuICR7UkVGUkVTSF9NRVNTQUdFfWAsIGZhbHNlKTtcbiAgICB9XG4gICAgdmFsaWRhdGVUb2tlbktleShcImFjY2Vzc1Rva2VuXCIsIHNzb1Rva2VuLmFjY2Vzc1Rva2VuKTtcbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwiZXhwaXJlc0F0XCIsIHNzb1Rva2VuLmV4cGlyZXNBdCk7XG4gICAgY29uc3QgeyBhY2Nlc3NUb2tlbiwgZXhwaXJlc0F0IH0gPSBzc29Ub2tlbjtcbiAgICBjb25zdCBleGlzdGluZ1Rva2VuID0geyB0b2tlbjogYWNjZXNzVG9rZW4sIGV4cGlyYXRpb246IG5ldyBEYXRlKGV4cGlyZXNBdCkgfTtcbiAgICBpZiAoZXhpc3RpbmdUb2tlbi5leHBpcmF0aW9uLmdldFRpbWUoKSAtIERhdGUubm93KCkgPiBFWFBJUkVfV0lORE9XX01TKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rva2VuO1xuICAgIH1cbiAgICBpZiAoRGF0ZS5ub3coKSAtIGxhc3RSZWZyZXNoQXR0ZW1wdFRpbWUuZ2V0VGltZSgpIDwgMzAgKiAxMDAwKSB7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5FeHBpcnkoZXhpc3RpbmdUb2tlbik7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rva2VuO1xuICAgIH1cbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwiY2xpZW50SWRcIiwgc3NvVG9rZW4uY2xpZW50SWQsIHRydWUpO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJjbGllbnRTZWNyZXRcIiwgc3NvVG9rZW4uY2xpZW50U2VjcmV0LCB0cnVlKTtcbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwicmVmcmVzaFRva2VuXCIsIHNzb1Rva2VuLnJlZnJlc2hUb2tlbiwgdHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgbGFzdFJlZnJlc2hBdHRlbXB0VGltZS5zZXRUaW1lKERhdGUubm93KCkpO1xuICAgICAgICBjb25zdCBuZXdTc29PaWRjVG9rZW4gPSBhd2FpdCBnZXROZXdTc29PaWRjVG9rZW4oc3NvVG9rZW4sIHNzb1JlZ2lvbik7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJhY2Nlc3NUb2tlblwiLCBuZXdTc29PaWRjVG9rZW4uYWNjZXNzVG9rZW4pO1xuICAgICAgICB2YWxpZGF0ZVRva2VuS2V5KFwiZXhwaXJlc0luXCIsIG5ld1Nzb09pZGNUb2tlbi5leHBpcmVzSW4pO1xuICAgICAgICBjb25zdCBuZXdUb2tlbkV4cGlyYXRpb24gPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgbmV3U3NvT2lkY1Rva2VuLmV4cGlyZXNJbiAqIDEwMDApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgd3JpdGVTU09Ub2tlblRvRmlsZShzc29TZXNzaW9uTmFtZSwge1xuICAgICAgICAgICAgICAgIC4uLnNzb1Rva2VuLFxuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBuZXdTc29PaWRjVG9rZW4uYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0OiBuZXdUb2tlbkV4cGlyYXRpb24udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IG5ld1Nzb09pZGNUb2tlbi5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW46IG5ld1Nzb09pZGNUb2tlbi5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGV4cGlyYXRpb246IG5ld1Rva2VuRXhwaXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5FeHBpcnkoZXhpc3RpbmdUb2tlbik7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Rva2VuO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBDcmVhdGVUb2tlbkNvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXNzby1vaWRjXCI7XG5pbXBvcnQgeyBnZXRTc29PaWRjQ2xpZW50IH0gZnJvbSBcIi4vZ2V0U3NvT2lkY0NsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldE5ld1Nzb09pZGNUb2tlbiA9IChzc29Ub2tlbiwgc3NvUmVnaW9uKSA9PiB7XG4gICAgY29uc3Qgc3NvT2lkY0NsaWVudCA9IGdldFNzb09pZGNDbGllbnQoc3NvUmVnaW9uKTtcbiAgICByZXR1cm4gc3NvT2lkY0NsaWVudC5zZW5kKG5ldyBDcmVhdGVUb2tlbkNvbW1hbmQoe1xuICAgICAgICBjbGllbnRJZDogc3NvVG9rZW4uY2xpZW50SWQsXG4gICAgICAgIGNsaWVudFNlY3JldDogc3NvVG9rZW4uY2xpZW50U2VjcmV0LFxuICAgICAgICByZWZyZXNoVG9rZW46IHNzb1Rva2VuLnJlZnJlc2hUb2tlbixcbiAgICAgICAgZ3JhbnRUeXBlOiBcInJlZnJlc2hfdG9rZW5cIixcbiAgICB9KSk7XG59O1xuIiwiaW1wb3J0IHsgR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCwgU1NPQ2xpZW50IH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zc29cIjtcbmltcG9ydCB7IGZyb21Tc28gYXMgZ2V0U3NvVG9rZW5Qcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90b2tlbi1wcm92aWRlcnNcIjtcbmltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRTU09Ub2tlbkZyb21GaWxlIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuY29uc3QgRVhQSVJFX1dJTkRPV19NUyA9IDE1ICogNjAgKiAxMDAwO1xuY29uc3QgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTiA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVTU09DcmVkZW50aWFscyA9IGFzeW5jICh7IHNzb1N0YXJ0VXJsLCBzc29TZXNzaW9uLCBzc29BY2NvdW50SWQsIHNzb1JlZ2lvbiwgc3NvUm9sZU5hbWUsIHNzb0NsaWVudCwgcHJvZmlsZSwgfSkgPT4ge1xuICAgIGxldCB0b2tlbjtcbiAgICBjb25zdCByZWZyZXNoTWVzc2FnZSA9IGBUbyByZWZyZXNoIHRoaXMgU1NPIHNlc3Npb24gcnVuIGF3cyBzc28gbG9naW4gd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9maWxlLmA7XG4gICAgaWYgKHNzb1Nlc3Npb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IF90b2tlbiA9IGF3YWl0IGdldFNzb1Rva2VuUHJvdmlkZXIoeyBwcm9maWxlIH0pKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogX3Rva2VuLnRva2VuLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoX3Rva2VuLmV4cGlyYXRpb24pLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGUubWVzc2FnZSwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0b2tlbiA9IGF3YWl0IGdldFNTT1Rva2VuRnJvbUZpbGUoc3NvU3RhcnRVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBUaGUgU1NPIHNlc3Npb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcHJvZmlsZSBpcyBpbnZhbGlkLiAke3JlZnJlc2hNZXNzYWdlfWAsIFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChuZXcgRGF0ZSh0b2tlbi5leHBpcmVzQXQpLmdldFRpbWUoKSAtIERhdGUubm93KCkgPD0gRVhQSVJFX1dJTkRPV19NUykge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBUaGUgU1NPIHNlc3Npb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcHJvZmlsZSBoYXMgZXhwaXJlZC4gJHtyZWZyZXNoTWVzc2FnZX1gLCBTSE9VTERfRkFJTF9DUkVERU5USUFMX0NIQUlOKTtcbiAgICB9XG4gICAgY29uc3QgeyBhY2Nlc3NUb2tlbiB9ID0gdG9rZW47XG4gICAgY29uc3Qgc3NvID0gc3NvQ2xpZW50IHx8IG5ldyBTU09DbGllbnQoeyByZWdpb246IHNzb1JlZ2lvbiB9KTtcbiAgICBsZXQgc3NvUmVzcDtcbiAgICB0cnkge1xuICAgICAgICBzc29SZXNwID0gYXdhaXQgc3NvLnNlbmQobmV3IEdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQoe1xuICAgICAgICAgICAgYWNjb3VudElkOiBzc29BY2NvdW50SWQsXG4gICAgICAgICAgICByb2xlTmFtZTogc3NvUm9sZU5hbWUsXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IuZnJvbShlLCBTSE9VTERfRkFJTF9DUkVERU5USUFMX0NIQUlOKTtcbiAgICB9XG4gICAgY29uc3QgeyByb2xlQ3JlZGVudGlhbHM6IHsgYWNjZXNzS2V5SWQsIHNlY3JldEFjY2Vzc0tleSwgc2Vzc2lvblRva2VuLCBleHBpcmF0aW9uIH0gPSB7fSB9ID0gc3NvUmVzcDtcbiAgICBpZiAoIWFjY2Vzc0tleUlkIHx8ICFzZWNyZXRBY2Nlc3NLZXkgfHwgIXNlc3Npb25Ub2tlbiB8fCAhZXhwaXJhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiU1NPIHJldHVybnMgYW4gaW52YWxpZCB0ZW1wb3JhcnkgY3JlZGVudGlhbC5cIiwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIHJldHVybiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIHNlc3Npb25Ub2tlbiwgZXhwaXJhdGlvbjogbmV3IERhdGUoZXhwaXJhdGlvbikgfTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlU3NvUHJvZmlsZSA9IChwcm9maWxlKSA9PiB7XG4gICAgY29uc3QgeyBzc29fc3RhcnRfdXJsLCBzc29fYWNjb3VudF9pZCwgc3NvX3JlZ2lvbiwgc3NvX3JvbGVfbmFtZSB9ID0gcHJvZmlsZTtcbiAgICBpZiAoIXNzb19zdGFydF91cmwgfHwgIXNzb19hY2NvdW50X2lkIHx8ICFzc29fcmVnaW9uIHx8ICFzc29fcm9sZV9uYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgaXMgY29uZmlndXJlZCB3aXRoIGludmFsaWQgU1NPIGNyZWRlbnRpYWxzLiBSZXF1aXJlZCBwYXJhbWV0ZXJzIFwic3NvX2FjY291bnRfaWRcIiwgYCArXG4gICAgICAgICAgICBgXCJzc29fcmVnaW9uXCIsIFwic3NvX3JvbGVfbmFtZVwiLCBcInNzb19zdGFydF91cmxcIi4gR290ICR7T2JqZWN0LmtleXMocHJvZmlsZSkuam9pbihcIiwgXCIpfVxcblJlZmVyZW5jZTogaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NsaS9sYXRlc3QvdXNlcmd1aWRlL2NsaS1jb25maWd1cmUtc3NvLmh0bWxgLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9maWxlO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgbG9hZFNzb1Nlc3Npb25EYXRhLCBwYXJzZUtub3duRmlsZXMgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyBpc1Nzb1Byb2ZpbGUgfSBmcm9tIFwiLi9pc1Nzb1Byb2ZpbGVcIjtcbmltcG9ydCB7IHJlc29sdmVTU09DcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVTU09DcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVTc29Qcm9maWxlIH0gZnJvbSBcIi4vdmFsaWRhdGVTc29Qcm9maWxlXCI7XG5leHBvcnQgY29uc3QgZnJvbVNTTyA9IChpbml0ID0ge30pID0+IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHNzb1N0YXJ0VXJsLCBzc29BY2NvdW50SWQsIHNzb1JlZ2lvbiwgc3NvUm9sZU5hbWUsIHNzb0NsaWVudCwgc3NvU2Vzc2lvbiB9ID0gaW5pdDtcbiAgICBjb25zdCBwcm9maWxlTmFtZSA9IGdldFByb2ZpbGVOYW1lKGluaXQpO1xuICAgIGlmICghc3NvU3RhcnRVcmwgJiYgIXNzb0FjY291bnRJZCAmJiAhc3NvUmVnaW9uICYmICFzc29Sb2xlTmFtZSAmJiAhc3NvU2Vzc2lvbikge1xuICAgICAgICBjb25zdCBwcm9maWxlcyA9IGF3YWl0IHBhcnNlS25vd25GaWxlcyhpbml0KTtcbiAgICAgICAgY29uc3QgcHJvZmlsZSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICAgICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IHdhcyBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1Nzb1Byb2ZpbGUocHJvZmlsZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gaXMgbm90IGNvbmZpZ3VyZWQgd2l0aCBTU08gY3JlZGVudGlhbHMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2ZpbGU/LnNzb19zZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCBzc29TZXNzaW9ucyA9IGF3YWl0IGxvYWRTc29TZXNzaW9uRGF0YShpbml0KTtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBzc29TZXNzaW9uc1twcm9maWxlLnNzb19zZXNzaW9uXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZsaWN0TXNnID0gYCBjb25maWd1cmF0aW9ucyBpbiBwcm9maWxlICR7cHJvZmlsZU5hbWV9IGFuZCBzc28tc2Vzc2lvbiAke3Byb2ZpbGUuc3NvX3Nlc3Npb259YDtcbiAgICAgICAgICAgIGlmIChzc29SZWdpb24gJiYgc3NvUmVnaW9uICE9PSBzZXNzaW9uLnNzb19yZWdpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBDb25mbGljdGluZyBTU08gcmVnaW9uYCArIGNvbmZsaWN0TXNnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3NvU3RhcnRVcmwgJiYgc3NvU3RhcnRVcmwgIT09IHNlc3Npb24uc3NvX3N0YXJ0X3VybCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYENvbmZsaWN0aW5nIFNTTyBzdGFydF91cmxgICsgY29uZmxpY3RNc2csIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2ZpbGUuc3NvX3JlZ2lvbiA9IHNlc3Npb24uc3NvX3JlZ2lvbjtcbiAgICAgICAgICAgIHByb2ZpbGUuc3NvX3N0YXJ0X3VybCA9IHNlc3Npb24uc3NvX3N0YXJ0X3VybDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHNzb19zdGFydF91cmwsIHNzb19hY2NvdW50X2lkLCBzc29fcmVnaW9uLCBzc29fcm9sZV9uYW1lLCBzc29fc2Vzc2lvbiB9ID0gdmFsaWRhdGVTc29Qcm9maWxlKHByb2ZpbGUpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVNTT0NyZWRlbnRpYWxzKHtcbiAgICAgICAgICAgIHNzb1N0YXJ0VXJsOiBzc29fc3RhcnRfdXJsLFxuICAgICAgICAgICAgc3NvU2Vzc2lvbjogc3NvX3Nlc3Npb24sXG4gICAgICAgICAgICBzc29BY2NvdW50SWQ6IHNzb19hY2NvdW50X2lkLFxuICAgICAgICAgICAgc3NvUmVnaW9uOiBzc29fcmVnaW9uLFxuICAgICAgICAgICAgc3NvUm9sZU5hbWU6IHNzb19yb2xlX25hbWUsXG4gICAgICAgICAgICBzc29DbGllbnQ6IHNzb0NsaWVudCxcbiAgICAgICAgICAgIHByb2ZpbGU6IHByb2ZpbGVOYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXNzb1N0YXJ0VXJsIHx8ICFzc29BY2NvdW50SWQgfHwgIXNzb1JlZ2lvbiB8fCAhc3NvUm9sZU5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIkluY29tcGxldGUgY29uZmlndXJhdGlvbi4gVGhlIGZyb21TU08oKSBhcmd1bWVudCBoYXNoIG11c3QgaW5jbHVkZSBcIiArXG4gICAgICAgICAgICAnXCJzc29TdGFydFVybFwiLCBcInNzb0FjY291bnRJZFwiLCBcInNzb1JlZ2lvblwiLCBcInNzb1JvbGVOYW1lXCInKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlU1NPQ3JlZGVudGlhbHMoe1xuICAgICAgICAgICAgc3NvU3RhcnRVcmwsXG4gICAgICAgICAgICBzc29TZXNzaW9uLFxuICAgICAgICAgICAgc3NvQWNjb3VudElkLFxuICAgICAgICAgICAgc3NvUmVnaW9uLFxuICAgICAgICAgICAgc3NvUm9sZU5hbWUsXG4gICAgICAgICAgICBzc29DbGllbnQsXG4gICAgICAgICAgICBwcm9maWxlOiBwcm9maWxlTmFtZSxcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBpc1N0YXRpY0NyZWRzUHJvZmlsZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJlxuICAgIHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgYXJnLmF3c19hY2Nlc3Nfa2V5X2lkID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5hd3Nfc2VjcmV0X2FjY2Vzc19rZXkgPT09IFwic3RyaW5nXCIgJiZcbiAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLmF3c19zZXNzaW9uX3Rva2VuKSA+IC0xO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVTdGF0aWNDcmVkZW50aWFscyA9IChwcm9maWxlKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgIGFjY2Vzc0tleUlkOiBwcm9maWxlLmF3c19hY2Nlc3Nfa2V5X2lkLFxuICAgIHNlY3JldEFjY2Vzc0tleTogcHJvZmlsZS5hd3Nfc2VjcmV0X2FjY2Vzc19rZXksXG4gICAgc2Vzc2lvblRva2VuOiBwcm9maWxlLmF3c19zZXNzaW9uX3Rva2VuLFxufSk7XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBmcm9tV2ViVG9rZW4gfSBmcm9tIFwiLi9mcm9tV2ViVG9rZW5cIjtcbmNvbnN0IEVOVl9UT0tFTl9GSUxFID0gXCJBV1NfV0VCX0lERU5USVRZX1RPS0VOX0ZJTEVcIjtcbmNvbnN0IEVOVl9ST0xFX0FSTiA9IFwiQVdTX1JPTEVfQVJOXCI7XG5jb25zdCBFTlZfUk9MRV9TRVNTSU9OX05BTUUgPSBcIkFXU19ST0xFX1NFU1NJT05fTkFNRVwiO1xuZXhwb3J0IGNvbnN0IGZyb21Ub2tlbkZpbGUgPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgd2ViSWRlbnRpdHlUb2tlbkZpbGUgPSBpbml0Py53ZWJJZGVudGl0eVRva2VuRmlsZSA/PyBwcm9jZXNzLmVudltFTlZfVE9LRU5fRklMRV07XG4gICAgY29uc3Qgcm9sZUFybiA9IGluaXQ/LnJvbGVBcm4gPz8gcHJvY2Vzcy5lbnZbRU5WX1JPTEVfQVJOXTtcbiAgICBjb25zdCByb2xlU2Vzc2lvbk5hbWUgPSBpbml0Py5yb2xlU2Vzc2lvbk5hbWUgPz8gcHJvY2Vzcy5lbnZbRU5WX1JPTEVfU0VTU0lPTl9OQU1FXTtcbiAgICBpZiAoIXdlYklkZW50aXR5VG9rZW5GaWxlIHx8ICFyb2xlQXJuKSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJXZWIgaWRlbnRpdHkgY29uZmlndXJhdGlvbiBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbVdlYlRva2VuKHtcbiAgICAgICAgLi4uaW5pdCxcbiAgICAgICAgd2ViSWRlbnRpdHlUb2tlbjogcmVhZEZpbGVTeW5jKHdlYklkZW50aXR5VG9rZW5GaWxlLCB7IGVuY29kaW5nOiBcImFzY2lpXCIgfSksXG4gICAgICAgIHJvbGVBcm4sXG4gICAgICAgIHJvbGVTZXNzaW9uTmFtZSxcbiAgICB9KSgpO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgZnJvbVdlYlRva2VuID0gKGluaXQpID0+ICgpID0+IHtcbiAgICBjb25zdCB7IHJvbGVBcm4sIHJvbGVTZXNzaW9uTmFtZSwgd2ViSWRlbnRpdHlUb2tlbiwgcHJvdmlkZXJJZCwgcG9saWN5QXJucywgcG9saWN5LCBkdXJhdGlvblNlY29uZHMsIHJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5LCB9ID0gaW5pdDtcbiAgICBpZiAoIXJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5KSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFJvbGUgQXJuICcke3JvbGVBcm59JyBuZWVkcyB0byBiZSBhc3N1bWVkIHdpdGggd2ViIGlkZW50aXR5LGAgK1xuICAgICAgICAgICAgYCBidXQgbm8gcm9sZSBhc3N1bXB0aW9uIGNhbGxiYWNrIHdhcyBwcm92aWRlZC5gLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSh7XG4gICAgICAgIFJvbGVBcm46IHJvbGVBcm4sXG4gICAgICAgIFJvbGVTZXNzaW9uTmFtZTogcm9sZVNlc3Npb25OYW1lID8/IGBhd3Mtc2RrLWpzLXNlc3Npb24tJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIFdlYklkZW50aXR5VG9rZW46IHdlYklkZW50aXR5VG9rZW4sXG4gICAgICAgIFByb3ZpZGVySWQ6IHByb3ZpZGVySWQsXG4gICAgICAgIFBvbGljeUFybnM6IHBvbGljeUFybnMsXG4gICAgICAgIFBvbGljeTogcG9saWN5LFxuICAgICAgICBEdXJhdGlvblNlY29uZHM6IGR1cmF0aW9uU2Vjb25kcyxcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgaXNBc3N1bWVSb2xlUHJvZmlsZSwgcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVBc3N1bWVSb2xlQ3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IGlzUHJvY2Vzc1Byb2ZpbGUsIHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBpc1Nzb1Byb2ZpbGUsIHJlc29sdmVTc29DcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVTc29DcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgaXNTdGF0aWNDcmVkc1Byb2ZpbGUsIHJlc29sdmVTdGF0aWNDcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVTdGF0aWNDcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgaXNXZWJJZGVudGl0eVByb2ZpbGUsIHJlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHNcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlUHJvZmlsZURhdGEgPSBhc3luYyAocHJvZmlsZU5hbWUsIHByb2ZpbGVzLCBvcHRpb25zLCB2aXNpdGVkUHJvZmlsZXMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgaWYgKE9iamVjdC5rZXlzKHZpc2l0ZWRQcm9maWxlcykubGVuZ3RoID4gMCAmJiBpc1N0YXRpY0NyZWRzUHJvZmlsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzKGRhdGEpO1xuICAgIH1cbiAgICBpZiAoaXNBc3N1bWVSb2xlUHJvZmlsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyhwcm9maWxlTmFtZSwgcHJvZmlsZXMsIG9wdGlvbnMsIHZpc2l0ZWRQcm9maWxlcyk7XG4gICAgfVxuICAgIGlmIChpc1N0YXRpY0NyZWRzUHJvZmlsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzKGRhdGEpO1xuICAgIH1cbiAgICBpZiAoaXNXZWJJZGVudGl0eVByb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzKGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9jZXNzUHJvZmlsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFscyhvcHRpb25zLCBwcm9maWxlTmFtZSk7XG4gICAgfVxuICAgIGlmIChpc1Nzb1Byb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTc29DcmVkZW50aWFscyhkYXRhKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjb3VsZCBub3QgYmUgZm91bmQgb3IgcGFyc2VkIGluIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlLmApO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHJlc29sdmVDcmVkZW50aWFsU291cmNlIH0gZnJvbSBcIi4vcmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2VcIjtcbmltcG9ydCB7IHJlc29sdmVQcm9maWxlRGF0YSB9IGZyb20gXCIuL3Jlc29sdmVQcm9maWxlRGF0YVwiO1xuZXhwb3J0IGNvbnN0IGlzQXNzdW1lUm9sZVByb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiZcbiAgICB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGFyZy5yb2xlX2FybiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcucm9sZV9zZXNzaW9uX25hbWUpID4gLTEgJiZcbiAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLmV4dGVybmFsX2lkKSA+IC0xICYmXG4gICAgW1widW5kZWZpbmVkXCIsIFwic3RyaW5nXCJdLmluZGV4T2YodHlwZW9mIGFyZy5tZmFfc2VyaWFsKSA+IC0xICYmXG4gICAgKGlzQXNzdW1lUm9sZVdpdGhTb3VyY2VQcm9maWxlKGFyZykgfHwgaXNBc3N1bWVSb2xlV2l0aFByb3ZpZGVyUHJvZmlsZShhcmcpKTtcbmNvbnN0IGlzQXNzdW1lUm9sZVdpdGhTb3VyY2VQcm9maWxlID0gKGFyZykgPT4gdHlwZW9mIGFyZy5zb3VyY2VfcHJvZmlsZSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgYXJnLmNyZWRlbnRpYWxfc291cmNlID09PSBcInVuZGVmaW5lZFwiO1xuY29uc3QgaXNBc3N1bWVSb2xlV2l0aFByb3ZpZGVyUHJvZmlsZSA9IChhcmcpID0+IHR5cGVvZiBhcmcuY3JlZGVudGlhbF9zb3VyY2UgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGFyZy5zb3VyY2VfcHJvZmlsZSA9PT0gXCJ1bmRlZmluZWRcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzID0gYXN5bmMgKHByb2ZpbGVOYW1lLCBwcm9maWxlcywgb3B0aW9ucywgdmlzaXRlZFByb2ZpbGVzID0ge30pID0+IHtcbiAgICBjb25zdCBkYXRhID0gcHJvZmlsZXNbcHJvZmlsZU5hbWVdO1xuICAgIGlmICghb3B0aW9ucy5yb2xlQXNzdW1lcikge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IHJlcXVpcmVzIGEgcm9sZSB0byBiZSBhc3N1bWVkLCBidXQgbm8gcm9sZSBhc3N1bXB0aW9uIGNhbGxiYWNrIHdhcyBwcm92aWRlZC5gLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IHsgc291cmNlX3Byb2ZpbGUgfSA9IGRhdGE7XG4gICAgaWYgKHNvdXJjZV9wcm9maWxlICYmIHNvdXJjZV9wcm9maWxlIGluIHZpc2l0ZWRQcm9maWxlcykge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBEZXRlY3RlZCBhIGN5Y2xlIGF0dGVtcHRpbmcgdG8gcmVzb2x2ZSBjcmVkZW50aWFscyBmb3IgcHJvZmlsZWAgK1xuICAgICAgICAgICAgYCAke2dldFByb2ZpbGVOYW1lKG9wdGlvbnMpfS4gUHJvZmlsZXMgdmlzaXRlZDogYCArXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh2aXNpdGVkUHJvZmlsZXMpLmpvaW4oXCIsIFwiKSwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VDcmVkc1Byb3ZpZGVyID0gc291cmNlX3Byb2ZpbGVcbiAgICAgICAgPyByZXNvbHZlUHJvZmlsZURhdGEoc291cmNlX3Byb2ZpbGUsIHByb2ZpbGVzLCBvcHRpb25zLCB7XG4gICAgICAgICAgICAuLi52aXNpdGVkUHJvZmlsZXMsXG4gICAgICAgICAgICBbc291cmNlX3Byb2ZpbGVdOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICA6IHJlc29sdmVDcmVkZW50aWFsU291cmNlKGRhdGEuY3JlZGVudGlhbF9zb3VyY2UsIHByb2ZpbGVOYW1lKSgpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgUm9sZUFybjogZGF0YS5yb2xlX2FybixcbiAgICAgICAgUm9sZVNlc3Npb25OYW1lOiBkYXRhLnJvbGVfc2Vzc2lvbl9uYW1lIHx8IGBhd3Mtc2RrLWpzLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBFeHRlcm5hbElkOiBkYXRhLmV4dGVybmFsX2lkLFxuICAgIH07XG4gICAgY29uc3QgeyBtZmFfc2VyaWFsIH0gPSBkYXRhO1xuICAgIGlmIChtZmFfc2VyaWFsKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5tZmFDb2RlUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gcmVxdWlyZXMgbXVsdGktZmFjdG9yIGF1dGhlbnRpY2F0aW9uLCBidXQgbm8gTUZBIGNvZGUgY2FsbGJhY2sgd2FzIHByb3ZpZGVkLmAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuU2VyaWFsTnVtYmVyID0gbWZhX3NlcmlhbDtcbiAgICAgICAgcGFyYW1zLlRva2VuQ29kZSA9IGF3YWl0IG9wdGlvbnMubWZhQ29kZVByb3ZpZGVyKG1mYV9zZXJpYWwpO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VDcmVkcyA9IGF3YWl0IHNvdXJjZUNyZWRzUHJvdmlkZXI7XG4gICAgcmV0dXJuIG9wdGlvbnMucm9sZUFzc3VtZXIoc291cmNlQ3JlZHMsIHBhcmFtcyk7XG59O1xuIiwiaW1wb3J0IHsgZnJvbUVudiB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWVudlwiO1xuaW1wb3J0IHsgZnJvbUNvbnRhaW5lck1ldGFkYXRhLCBmcm9tSW5zdGFuY2VNZXRhZGF0YSB9IGZyb20gXCJAc21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kc1wiO1xuaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZSA9IChjcmVkZW50aWFsU291cmNlLCBwcm9maWxlTmFtZSkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZVByb3ZpZGVyc01hcCA9IHtcbiAgICAgICAgRWNzQ29udGFpbmVyOiBmcm9tQ29udGFpbmVyTWV0YWRhdGEsXG4gICAgICAgIEVjMkluc3RhbmNlTWV0YWRhdGE6IGZyb21JbnN0YW5jZU1ldGFkYXRhLFxuICAgICAgICBFbnZpcm9ubWVudDogZnJvbUVudixcbiAgICB9O1xuICAgIGlmIChjcmVkZW50aWFsU291cmNlIGluIHNvdXJjZVByb3ZpZGVyc01hcCkge1xuICAgICAgICByZXR1cm4gc291cmNlUHJvdmlkZXJzTWFwW2NyZWRlbnRpYWxTb3VyY2VdKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBVbnN1cHBvcnRlZCBjcmVkZW50aWFsIHNvdXJjZSBpbiBwcm9maWxlICR7cHJvZmlsZU5hbWV9LiBHb3QgJHtjcmVkZW50aWFsU291cmNlfSwgYCArXG4gICAgICAgICAgICBgZXhwZWN0ZWQgRWNzQ29udGFpbmVyIG9yIEVjMkluc3RhbmNlTWV0YWRhdGEgb3IgRW52aXJvbm1lbnQuYCk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGZyb21Ub2tlbkZpbGUgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci13ZWItaWRlbnRpdHlcIjtcbmV4cG9ydCBjb25zdCBpc1dlYklkZW50aXR5UHJvZmlsZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJlxuICAgIHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgYXJnLndlYl9pZGVudGl0eV90b2tlbl9maWxlID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5yb2xlX2FybiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcucm9sZV9zZXNzaW9uX25hbWUpID4gLTE7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMgPSBhc3luYyAocHJvZmlsZSwgb3B0aW9ucykgPT4gZnJvbVRva2VuRmlsZSh7XG4gICAgd2ViSWRlbnRpdHlUb2tlbkZpbGU6IHByb2ZpbGUud2ViX2lkZW50aXR5X3Rva2VuX2ZpbGUsXG4gICAgcm9sZUFybjogcHJvZmlsZS5yb2xlX2FybixcbiAgICByb2xlU2Vzc2lvbk5hbWU6IHByb2ZpbGUucm9sZV9zZXNzaW9uX25hbWUsXG4gICAgcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHk6IG9wdGlvbnMucm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHksXG59KSgpO1xuIiwiaW1wb3J0IHsgZnJvbVByb2Nlc3MgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzXCI7XG5leHBvcnQgY29uc3QgaXNQcm9jZXNzUHJvZmlsZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJiB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBhcmcuY3JlZGVudGlhbF9wcm9jZXNzID09PSBcInN0cmluZ1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMgPSBhc3luYyAob3B0aW9ucywgcHJvZmlsZSkgPT4gZnJvbVByb2Nlc3Moe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcHJvZmlsZSxcbn0pKCk7XG4iLCJpbXBvcnQgeyBmcm9tU1NPLCB2YWxpZGF0ZVNzb1Byb2ZpbGUgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc29cIjtcbmV4cG9ydCB7IGlzU3NvUHJvZmlsZSB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzb1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVTc29DcmVkZW50aWFscyA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgeyBzc29fc3RhcnRfdXJsLCBzc29fYWNjb3VudF9pZCwgc3NvX3Nlc3Npb24sIHNzb19yZWdpb24sIHNzb19yb2xlX25hbWUgfSA9IHZhbGlkYXRlU3NvUHJvZmlsZShkYXRhKTtcbiAgICByZXR1cm4gZnJvbVNTTyh7XG4gICAgICAgIHNzb1N0YXJ0VXJsOiBzc29fc3RhcnRfdXJsLFxuICAgICAgICBzc29BY2NvdW50SWQ6IHNzb19hY2NvdW50X2lkLFxuICAgICAgICBzc29TZXNzaW9uOiBzc29fc2Vzc2lvbixcbiAgICAgICAgc3NvUmVnaW9uOiBzc29fcmVnaW9uLFxuICAgICAgICBzc29Sb2xlTmFtZTogc3NvX3JvbGVfbmFtZSxcbiAgICB9KSgpO1xufTtcbiIsImltcG9ydCB7IGZyb21FbnYgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1lbnZcIjtcbmltcG9ydCB7IGZyb21JbmkgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmlcIjtcbmltcG9ydCB7IGZyb21Qcm9jZXNzIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItcHJvY2Vzc1wiO1xuaW1wb3J0IHsgZnJvbVNTTyB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzb1wiO1xuaW1wb3J0IHsgZnJvbVRva2VuRmlsZSB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXdlYi1pZGVudGl0eVwiO1xuaW1wb3J0IHsgY2hhaW4sIENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciwgbWVtb2l6ZSB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBFTlZfUFJPRklMRSB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHJlbW90ZVByb3ZpZGVyIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJvdmlkZXIgPSAoaW5pdCA9IHt9KSA9PiBtZW1vaXplKGNoYWluKC4uLihpbml0LnByb2ZpbGUgfHwgcHJvY2Vzcy5lbnZbRU5WX1BST0ZJTEVdID8gW10gOiBbZnJvbUVudigpXSksIGZyb21TU08oaW5pdCksIGZyb21JbmkoaW5pdCksIGZyb21Qcm9jZXNzKGluaXQpLCBmcm9tVG9rZW5GaWxlKGluaXQpLCByZW1vdGVQcm92aWRlcihpbml0KSwgYXN5bmMgKCkgPT4ge1xuICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJDb3VsZCBub3QgbG9hZCBjcmVkZW50aWFscyBmcm9tIGFueSBwcm92aWRlcnNcIiwgZmFsc2UpO1xufSksIChjcmVkZW50aWFscykgPT4gY3JlZGVudGlhbHMuZXhwaXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIGNyZWRlbnRpYWxzLmV4cGlyYXRpb24uZ2V0VGltZSgpIC0gRGF0ZS5ub3coKSA8IDMwMDAwMCwgKGNyZWRlbnRpYWxzKSA9PiBjcmVkZW50aWFscy5leHBpcmF0aW9uICE9PSB1bmRlZmluZWQpO1xuIiwiaW1wb3J0IHsgZ2V0UHJvZmlsZU5hbWUsIHBhcnNlS25vd25GaWxlcyB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHJlc29sdmVQcm9maWxlRGF0YSB9IGZyb20gXCIuL3Jlc29sdmVQcm9maWxlRGF0YVwiO1xuZXhwb3J0IGNvbnN0IGZyb21JbmkgPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgcmV0dXJuIHJlc29sdmVQcm9maWxlRGF0YShnZXRQcm9maWxlTmFtZShpbml0KSwgcHJvZmlsZXMsIGluaXQpO1xufTtcbiIsImltcG9ydCB7IEVOVl9DTURTX0ZVTExfVVJJLCBFTlZfQ01EU19SRUxBVElWRV9VUkksIGZyb21Db250YWluZXJNZXRhZGF0YSwgZnJvbUluc3RhbmNlTWV0YWRhdGEsIH0gZnJvbSBcIkBzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9JTURTX0RJU0FCTEVEID0gXCJBV1NfRUMyX01FVEFEQVRBX0RJU0FCTEVEXCI7XG5leHBvcnQgY29uc3QgcmVtb3RlUHJvdmlkZXIgPSAoaW5pdCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19SRUxBVElWRV9VUkldIHx8IHByb2Nlc3MuZW52W0VOVl9DTURTX0ZVTExfVVJJXSkge1xuICAgICAgICByZXR1cm4gZnJvbUNvbnRhaW5lck1ldGFkYXRhKGluaXQpO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnZbRU5WX0lNRFNfRElTQUJMRURdKSB7XG4gICAgICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiRUMyIEluc3RhbmNlIE1ldGFkYXRhIFNlcnZpY2UgYWNjZXNzIGRpc2FibGVkXCIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnJvbUluc3RhbmNlTWV0YWRhdGEoaW5pdCk7XG59O1xuIiwiY29uc3QgRiA9IFwicmVxdWlyZWRcIiwgRyA9IFwidHlwZVwiLCBIID0gXCJmblwiLCBJID0gXCJhcmd2XCIsIEogPSBcInJlZlwiO1xuY29uc3QgYSA9IGZhbHNlLCBiID0gdHJ1ZSwgYyA9IFwiYm9vbGVhbkVxdWFsc1wiLCBkID0gXCJ0cmVlXCIsIGUgPSBcInN0cmluZ0VxdWFsc1wiLCBmID0gXCJzaWd2NFwiLCBnID0gXCJzdHNcIiwgaCA9IFwidXMtZWFzdC0xXCIsIGkgPSBcImVuZHBvaW50XCIsIGogPSBcImh0dHBzOi8vc3RzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBrID0gXCJlcnJvclwiLCBsID0gXCJnZXRBdHRyXCIsIG0gPSB7IFtGXTogZmFsc2UsIFtHXTogXCJTdHJpbmdcIiB9LCBuID0geyBbRl06IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgW0ddOiBcIkJvb2xlYW5cIiB9LCBvID0geyBbSl06IFwiRW5kcG9pbnRcIiB9LCBwID0geyBbSF06IFwiaXNTZXRcIiwgW0ldOiBbeyBbSl06IFwiUmVnaW9uXCIgfV0gfSwgcSA9IHsgW0pdOiBcIlJlZ2lvblwiIH0sIHIgPSB7IFtIXTogXCJhd3MucGFydGl0aW9uXCIsIFtJXTogW3FdLCBcImFzc2lnblwiOiBcIlBhcnRpdGlvblJlc3VsdFwiIH0sIHMgPSB7IFtKXTogXCJVc2VGSVBTXCIgfSwgdCA9IHsgW0pdOiBcIlVzZUR1YWxTdGFja1wiIH0sIHUgPSB7IFwidXJsXCI6IFwiaHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbVwiLCBcInByb3BlcnRpZXNcIjogeyBcImF1dGhTY2hlbWVzXCI6IFt7IFwibmFtZVwiOiBmLCBcInNpZ25pbmdOYW1lXCI6IGcsIFwic2lnbmluZ1JlZ2lvblwiOiBoIH1dIH0sIFwiaGVhZGVyc1wiOiB7fSB9LCB2ID0ge30sIHcgPSB7IFwiY29uZGl0aW9uc1wiOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiYXdzLWdsb2JhbFwiXSB9XSwgW2ldOiB1LCBbR106IGkgfSwgeCA9IHsgW0hdOiBjLCBbSV06IFtzLCB0cnVlXSB9LCB5ID0geyBbSF06IGMsIFtJXTogW3QsIHRydWVdIH0sIHogPSB7IFtIXTogYywgW0ldOiBbdHJ1ZSwgeyBbSF06IGwsIFtJXTogW3sgW0pdOiBcIlBhcnRpdGlvblJlc3VsdFwiIH0sIFwic3VwcG9ydHNGSVBTXCJdIH1dIH0sIEEgPSB7IFtKXTogXCJQYXJ0aXRpb25SZXN1bHRcIiB9LCBCID0geyBbSF06IGMsIFtJXTogW3RydWUsIHsgW0hdOiBsLCBbSV06IFtBLCBcInN1cHBvcnRzRHVhbFN0YWNrXCJdIH1dIH0sIEMgPSBbeyBbSF06IFwiaXNTZXRcIiwgW0ldOiBbb10gfV0sIEQgPSBbeF0sIEUgPSBbeV07XG5jb25zdCBfZGF0YSA9IHsgdmVyc2lvbjogXCIxLjBcIiwgcGFyYW1ldGVyczogeyBSZWdpb246IG0sIFVzZUR1YWxTdGFjazogbiwgVXNlRklQUzogbiwgRW5kcG9pbnQ6IG0sIFVzZUdsb2JhbEVuZHBvaW50OiBuIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbSF06IGMsIFtJXTogW3sgW0pdOiBcIlVzZUdsb2JhbEVuZHBvaW50XCIgfSwgYl0gfSwgeyBbSF06IFwibm90XCIsIFtJXTogQyB9LCBwLCByLCB7IFtIXTogYywgW0ldOiBbcywgYV0gfSwgeyBbSF06IGMsIFtJXTogW3QsIGFdIH1dLCBbR106IGQsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiYXAtbm9ydGhlYXN0LTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiYXAtc291dGgtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJhcC1zb3V0aGVhc3QtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJhcC1zb3V0aGVhc3QtMlwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB3LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJjYS1jZW50cmFsLTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiZXUtY2VudHJhbC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcImV1LW5vcnRoLTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiZXUtd2VzdC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcImV1LXdlc3QtMlwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJldS13ZXN0LTNcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwic2EtZWFzdC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBoXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJ1cy1lYXN0LTJcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwidXMtd2VzdC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcInVzLXdlc3QtMlwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGVuZHBvaW50OiB7IHVybDogaiwgcHJvcGVydGllczogeyBhdXRoU2NoZW1lczogW3sgbmFtZTogZiwgc2lnbmluZ05hbWU6IGcsIHNpZ25pbmdSZWdpb246IFwie1JlZ2lvbn1cIiB9XSB9LCBoZWFkZXJzOiB2IH0sIFtHXTogaSB9XSB9LCB7IGNvbmRpdGlvbnM6IEMsIFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IEQsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIFtHXTogayB9LCB7IFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IEUsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRHVhbHN0YWNrIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgW0ddOiBrIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBvLCBwcm9wZXJ0aWVzOiB2LCBoZWFkZXJzOiB2IH0sIFtHXTogaSB9XSB9XSB9LCB7IFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtwXSwgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogW3JdLCBbR106IGQsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeCwgeV0sIFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt6LCBCXSwgW0ddOiBkLCBydWxlczogW3sgW0ddOiBkLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vc3RzLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBpIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCBbR106IGsgfV0gfSwgeyBjb25kaXRpb25zOiBELCBbR106IGQsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbel0sIFtHXTogZCwgcnVsZXM6IFt7IFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbXCJhd3MtdXMtZ292XCIsIHsgW0hdOiBsLCBbSV06IFtBLCBcIm5hbWVcIl0gfV0gfV0sIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3N0cy57UmVnaW9ufS5hbWF6b25hd3MuY29tXCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBpIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vc3RzLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBpIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IEZJUFNcIiwgW0ddOiBrIH1dIH0sIHsgY29uZGl0aW9uczogRSwgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogW0JdLCBbR106IGQsIHJ1bGVzOiBbeyBbR106IGQsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9zdHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBpIH1dIH1dIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIFtHXTogayB9XSB9LCB7IFtHXTogZCwgcnVsZXM6IFt3LCB7IGVuZHBvaW50OiB7IHVybDogaiwgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGkgfV0gfV0gfV0gfSwgeyBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IE1pc3NpbmcgUmVnaW9uXCIsIFtHXTogayB9XSB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyByZXNvbHZlU3RzQXV0aENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNkay1zdHNcIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlUmVnaW9uQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0UmV0cnlQbHVnaW4sIHJlc29sdmVSZXRyeUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzLCB9IGZyb20gXCIuL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBfX2dldFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnXCI7XG5leHBvcnQgeyBfX0NsaWVudCB9O1xuZXhwb3J0IGNsYXNzIFNUU0NsaWVudCBleHRlbmRzIF9fQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZVN0c0F1dGhDb25maWcoX2NvbmZpZ181LCB7IHN0c0NsaWVudEN0b3I6IFNUU0NsaWVudCB9KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ183ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzYpO1xuICAgICAgICBzdXBlcihfY29uZmlnXzcpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9jb25maWdfNztcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJldHJ5UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRDb250ZW50TGVuZ3RoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRIb3N0SGVhZGVyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRMb2dnZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0VXNlckFnZW50UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyA9IChvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG9wdGlvbnMudXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogb3B0aW9ucy51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIHVzZUdsb2JhbEVuZHBvaW50OiBvcHRpb25zLnVzZUdsb2JhbEVuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwic3RzXCIsXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyIH0gZnJvbSBcIi4vZGVmYXVsdFN0c1JvbGVBc3N1bWVyc1wiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAc21pdGh5L2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAc21pdGh5L25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZz8uY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciA/PyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIoY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciksXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAc21pdGh5L3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTVFNcIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUF3c0F1dGhDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVN0c0F1dGhDb25maWcgPSAoaW5wdXQsIHsgc3RzQ2xpZW50Q3RvciB9KSA9PiByZXNvbHZlQXdzQXV0aENvbmZpZyh7XG4gICAgLi4uaW5wdXQsXG4gICAgc3RzQ2xpZW50Q3Rvcixcbn0pO1xuIiwiaW1wb3J0IHsgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyIGFzIFN0c0dldERlZmF1bHRSb2xlQXNzdW1lciwgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5IGFzIFN0c0dldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSwgfSBmcm9tIFwiLi9kZWZhdWx0U3RzUm9sZUFzc3VtZXJzXCI7XG5pbXBvcnQgeyBTVFNDbGllbnQgfSBmcm9tIFwiLi9TVFNDbGllbnRcIjtcbmNvbnN0IGdldEN1c3RvbWl6YWJsZVN0c0NsaWVudEN0b3IgPSAoYmFzZUN0b3IsIGN1c3RvbWl6YXRpb25zKSA9PiB7XG4gICAgaWYgKCFjdXN0b21pemF0aW9ucylcbiAgICAgICAgcmV0dXJuIGJhc2VDdG9yO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGNsYXNzIEN1c3RvbWl6YWJsZVNUU0NsaWVudCBleHRlbmRzIGJhc2VDdG9yIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAgICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjdXN0b21pemF0aW9uIG9mIGN1c3RvbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShjdXN0b21pemF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSb2xlQXNzdW1lciA9IChzdHNPcHRpb25zID0ge30sIHN0c1BsdWdpbnMpID0+IFN0c0dldERlZmF1bHRSb2xlQXNzdW1lcihzdHNPcHRpb25zLCBnZXRDdXN0b21pemFibGVTdHNDbGllbnRDdG9yKFNUU0NsaWVudCwgc3RzUGx1Z2lucykpO1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSA9IChzdHNPcHRpb25zID0ge30sIHN0c1BsdWdpbnMpID0+IFN0c0dldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eShzdHNPcHRpb25zLCBnZXRDdXN0b21pemFibGVTdHNDbGllbnRDdG9yKFNUU0NsaWVudCwgc3RzUGx1Z2lucykpO1xuZXhwb3J0IGNvbnN0IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciA9IChwcm92aWRlcikgPT4gKGlucHV0KSA9PiBwcm92aWRlcih7XG4gICAgcm9sZUFzc3VtZXI6IGdldERlZmF1bHRSb2xlQXNzdW1lcihpbnB1dCksXG4gICAgcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHk6IGdldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eShpbnB1dCksXG4gICAgLi4uaW5wdXQsXG59KTtcbiIsImNvbnN0IHMgPSBcInJlcXVpcmVkXCIsIHQgPSBcImZuXCIsIHUgPSBcImFyZ3ZcIiwgdiA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJpc1NldFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBmID0gXCJzdHJpbmdFcXVhbHNcIiwgZyA9IHsgW3NdOiBmYWxzZSwgXCJ0eXBlXCI6IFwiU3RyaW5nXCIgfSwgaCA9IHsgW3NdOiB0cnVlLCBcImRlZmF1bHRcIjogZmFsc2UsIFwidHlwZVwiOiBcIkJvb2xlYW5cIiB9LCBpID0geyBbdl06IFwiRW5kcG9pbnRcIiB9LCBqID0geyBbdF06IFwiYm9vbGVhbkVxdWFsc1wiLCBbdV06IFt7IFt2XTogXCJVc2VGSVBTXCIgfSwgdHJ1ZV0gfSwgayA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbeyBbdl06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfSwgbCA9IHt9LCBtID0geyBbdl06IFwiUmVnaW9uXCIgfSwgbiA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbdHJ1ZSwgeyBbdF06IFwiZ2V0QXR0clwiLCBbdV06IFt7IFt2XTogZSB9LCBcInN1cHBvcnRzRklQU1wiXSB9XSB9LCBvID0geyBbdF06IFwiYm9vbGVhbkVxdWFsc1wiLCBbdV06IFt0cnVlLCB7IFt0XTogXCJnZXRBdHRyXCIsIFt1XTogW3sgW3ZdOiBlIH0sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgcCA9IFtqXSwgcSA9IFtrXSwgciA9IFttXTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogZywgVXNlRHVhbFN0YWNrOiBoLCBVc2VGSVBTOiBoLCBFbmRwb2ludDogZyB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBhLCBbdV06IFtpXSB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IHAsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogcSwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBEdWFsc3RhY2sgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBpLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBhLCBbdV06IHIgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IFwiYXdzLnBhcnRpdGlvblwiLCBbdV06IHIsIGFzc2lnbjogZSB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtqLCBrXSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtuLCBvXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgYW5kIER1YWxTdGFjayBhcmUgZW5hYmxlZCwgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgb25lIG9yIGJvdGhcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IHAsIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbl0sIHR5cGU6IGIsIHJ1bGVzOiBbeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBmLCBbdV06IFttLCBcInVzLWdvdi1lYXN0LTFcIl0gfV0sIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwudXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9LCB7IGNvbmRpdGlvbnM6IFt7IFt0XTogZiwgW3VdOiBbbSwgXCJ1cy1nb3Ytd2VzdC0xXCJdIH1dLCBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLnVzLWdvdi13ZXN0LTEuYW1hem9uYXdzLmNvbVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBxLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW29dLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkR1YWxTdGFjayBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IER1YWxTdGFja1wiLCB0eXBlOiBjIH1dIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9XSB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgdHlwZTogYyB9XSB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRBd3NBdXRoUGx1Z2luLCByZXNvbHZlQXdzQXV0aENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQbHVnaW4sIHJlc29sdmVVc2VyQWdlbnRDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZVJlZ2lvbkNvbmZpZyB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0Q29udGVudExlbmd0aFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFJldHJ5UGx1Z2luLCByZXNvbHZlUmV0cnlDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBDbGllbnQgYXMgX19DbGllbnQsIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsQ2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlQXdzQXV0aENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNik7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ183O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcImNsb3VkdHJhaWxcIixcbiAgICB9O1xufTtcbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAc21pdGh5L2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAc21pdGh5L25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZz8uY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciA/PyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIoY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciksXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAc21pdGh5L3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxMy0xMS0wMVwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJDbG91ZFRyYWlsXCIsXG4gICAgdXJsUGFyc2VyOiBjb25maWc/LnVybFBhcnNlciA/PyBwYXJzZVVybCxcbiAgICB1dGY4RGVjb2RlcjogY29uZmlnPy51dGY4RGVjb2RlciA/PyBmcm9tVXRmOCxcbiAgICB1dGY4RW5jb2RlcjogY29uZmlnPy51dGY4RW5jb2RlciA/PyB0b1V0ZjgsXG59KTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIENsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbG91ZFRyYWlsU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9DbG91ZFRyYWlsU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEFjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2NvdW50Tm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb25mbGljdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNvbmZsaWN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDb25mbGljdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25mbGljdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRUcmFpbE5hbWVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRUcmFpbE5hbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgUXVlcnlTdGF0dXMgPSB7XG4gICAgQ0FOQ0VMTEVEOiBcIkNBTkNFTExFRFwiLFxuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBGSU5JU0hFRDogXCJGSU5JU0hFRFwiLFxuICAgIFFVRVVFRDogXCJRVUVVRURcIixcbiAgICBSVU5OSU5HOiBcIlJVTk5JTkdcIixcbiAgICBUSU1FRF9PVVQ6IFwiVElNRURfT1VUXCIsXG59O1xuZXhwb3J0IGNsYXNzIEluYWN0aXZlUXVlcnlFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbmFjdGl2ZVF1ZXJ5RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbmFjdGl2ZVF1ZXJ5RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluYWN0aXZlUXVlcnlFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNoYW5uZWxFeGlzdHNGb3JFRFNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYW5uZWxFeGlzdHNGb3JFRFNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRGVzdGluYXRpb25UeXBlID0ge1xuICAgIEFXU19TRVJWSUNFOiBcIkFXU19TRVJWSUNFXCIsXG4gICAgRVZFTlRfREFUQV9TVE9SRTogXCJFVkVOVF9EQVRBX1NUT1JFXCIsXG59O1xuZXhwb3J0IGNsYXNzIEludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFNvdXJjZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRTb3VyY2VFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRTb3VyY2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFNvdXJjZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRXZlbnREYXRhU3RvcmVTdGF0dXMgPSB7XG4gICAgQ1JFQVRFRDogXCJDUkVBVEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG4gICAgUEVORElOR19ERUxFVElPTjogXCJQRU5ESU5HX0RFTEVUSU9OXCIsXG4gICAgU1RBUlRJTkdfSU5HRVNUSU9OOiBcIlNUQVJUSU5HX0lOR0VTVElPTlwiLFxuICAgIFNUT1BQRURfSU5HRVNUSU9OOiBcIlNUT1BQRURfSU5HRVNUSU9OXCIsXG4gICAgU1RPUFBJTkdfSU5HRVNUSU9OOiBcIlNUT1BQSU5HX0lOR0VTVElPTlwiLFxufTtcbmV4cG9ydCBjbGFzcyBFdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEttc0tleUlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEttc0tleUlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgS21zRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiS21zRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJLbXNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgS21zRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgS21zS2V5Tm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgS21zS2V5Tm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEttc0tleURpc2FibGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkttc0tleURpc2FibGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEttc0tleURpc2FibGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWlsTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWlsTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IERlbGl2ZXJ5U3RhdHVzID0ge1xuICAgIEFDQ0VTU19ERU5JRUQ6IFwiQUNDRVNTX0RFTklFRFwiLFxuICAgIEFDQ0VTU19ERU5JRURfU0lHTklOR19GSUxFOiBcIkFDQ0VTU19ERU5JRURfU0lHTklOR19GSUxFXCIsXG4gICAgQ0FOQ0VMTEVEOiBcIkNBTkNFTExFRFwiLFxuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBGQUlMRURfU0lHTklOR19GSUxFOiBcIkZBSUxFRF9TSUdOSU5HX0ZJTEVcIixcbiAgICBQRU5ESU5HOiBcIlBFTkRJTkdcIixcbiAgICBSRVNPVVJDRV9OT1RfRk9VTkQ6IFwiUkVTT1VSQ0VfTk9UX0ZPVU5EXCIsXG4gICAgU1VDQ0VTUzogXCJTVUNDRVNTXCIsXG4gICAgVU5LTk9XTjogXCJVTktOT1dOXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlYWRXcml0ZVR5cGUgPSB7XG4gICAgQWxsOiBcIkFsbFwiLFxuICAgIFJlYWRPbmx5OiBcIlJlYWRPbmx5XCIsXG4gICAgV3JpdGVPbmx5OiBcIldyaXRlT25seVwiLFxufTtcbmV4cG9ydCBjb25zdCBJbXBvcnRTdGF0dXMgPSB7XG4gICAgQ09NUExFVEVEOiBcIkNPTVBMRVRFRFwiLFxuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBJTklUSUFMSVpJTkc6IFwiSU5JVElBTElaSU5HXCIsXG4gICAgSU5fUFJPR1JFU1M6IFwiSU5fUFJPR1JFU1NcIixcbiAgICBTVE9QUEVEOiBcIlNUT1BQRURcIixcbn07XG5leHBvcnQgY2xhc3MgSW1wb3J0Tm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW1wb3J0Tm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJbnNpZ2h0VHlwZSA9IHtcbiAgICBBcGlDYWxsUmF0ZUluc2lnaHQ6IFwiQXBpQ2FsbFJhdGVJbnNpZ2h0XCIsXG4gICAgQXBpRXJyb3JSYXRlSW5zaWdodDogXCJBcGlFcnJvclJhdGVJbnNpZ2h0XCIsXG59O1xuZXhwb3J0IGNsYXNzIEluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSW1wb3J0RmFpbHVyZVN0YXR1cyA9IHtcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgUkVUUlk6IFwiUkVUUllcIixcbiAgICBTVUNDRUVERUQ6IFwiU1VDQ0VFREVEXCIsXG59O1xuZXhwb3J0IGNsYXNzIEludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkVG9rZW5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkVG9rZW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRUb2tlbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkVG9rZW5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEV2ZW50Q2F0ZWdvcnkgPSB7XG4gICAgSW5zaWdodDogXCJpbnNpZ2h0XCIsXG59O1xuZXhwb3J0IGNvbnN0IExvb2t1cEF0dHJpYnV0ZUtleSA9IHtcbiAgICBBQ0NFU1NfS0VZX0lEOiBcIkFjY2Vzc0tleUlkXCIsXG4gICAgRVZFTlRfSUQ6IFwiRXZlbnRJZFwiLFxuICAgIEVWRU5UX05BTUU6IFwiRXZlbnROYW1lXCIsXG4gICAgRVZFTlRfU09VUkNFOiBcIkV2ZW50U291cmNlXCIsXG4gICAgUkVBRF9PTkxZOiBcIlJlYWRPbmx5XCIsXG4gICAgUkVTT1VSQ0VfTkFNRTogXCJSZXNvdXJjZU5hbWVcIixcbiAgICBSRVNPVVJDRV9UWVBFOiBcIlJlc291cmNlVHlwZVwiLFxuICAgIFVTRVJOQU1FOiBcIlVzZXJuYW1lXCIsXG59O1xuZXhwb3J0IGNsYXNzIEludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIERlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJEZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJEZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIERlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEh0dHBSZXF1ZXN0IGFzIF9fSHR0cFJlcXVlc3QgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBfanNvbiwgY29sbGVjdEJvZHksIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Qm9vbGVhbiBhcyBfX2V4cGVjdEJvb2xlYW4sIGV4cGVjdEludDMyIGFzIF9fZXhwZWN0SW50MzIsIGV4cGVjdExvbmcgYXMgX19leHBlY3RMb25nLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0TnVtYmVyIGFzIF9fZXhwZWN0TnVtYmVyLCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIHBhcnNlRXBvY2hUaW1lc3RhbXAgYXMgX19wYXJzZUVwb2NoVGltZXN0YW1wLCB0YWtlLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBDbG91ZFRyYWlsU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL0Nsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uXCI7XG5pbXBvcnQgeyBBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbiwgQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uLCBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbiwgQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb24sIENhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24sIENoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLCBDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvbiwgQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvbiwgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIENoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvbiwgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24sIENsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uLCBDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb24sIENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvbiwgQ29uZmxpY3RFeGNlcHRpb24sIERlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uLCBFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24sIEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvbiwgSW1wb3J0Tm90Rm91bmRFeGNlcHRpb24sIEluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb24sIEluYWN0aXZlUXVlcnlFeGNlcHRpb24sIEluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uLCBJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb24sIEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24sIEluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uLCBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbiwgSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb24sIEludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb24sIEludmFsaWREYXRlUmFuZ2VFeGNlcHRpb24sIEludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uLCBJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvbiwgSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uLCBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24sIEludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uLCBJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uLCBJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvbiwgSW52YWxpZEttc0tleUlkRXhjZXB0aW9uLCBJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbiwgSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb24sIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24sIEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbiwgSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvbiwgSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uLCBJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb24sIEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24sIEludmFsaWRTM1ByZWZpeEV4Y2VwdGlvbiwgSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvbiwgSW52YWxpZFNvdXJjZUV4Y2VwdGlvbiwgSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvbiwgSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvbiwgSW52YWxpZFRva2VuRXhjZXB0aW9uLCBJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uLCBLbXNFeGNlcHRpb24sIEttc0tleURpc2FibGVkRXhjZXB0aW9uLCBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbiwgTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb24sIE1heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uLCBOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uLCBOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbiwgTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvbiwgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uLCBPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvbiwgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uLCBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb24sIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb24sIFJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiwgUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb24sIFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLCBUcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIFRyYWlsTm90Rm91bmRFeGNlcHRpb24sIFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24sIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmV4cG9ydCBjb25zdCBzZV9BZGRUYWdzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQWRkVGFnc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ2FuY2VsUXVlcnlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJDYW5jZWxRdWVyeVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkNyZWF0ZUNoYW5uZWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQ3JlYXRlRXZlbnREYXRhU3RvcmVcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQ3JlYXRlVHJhaWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUNoYW5uZWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJEZWxldGVDaGFubmVsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZUV2ZW50RGF0YVN0b3JlXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZVJlc291cmNlUG9saWN5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUcmFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZVRyYWlsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJEZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5cIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlUXVlcnlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJEZXNjcmliZVF1ZXJ5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRyYWlsc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlc2NyaWJlVHJhaWxzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0Q2hhbm5lbFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0RXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRFdmVudERhdGFTdG9yZVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0RXZlbnRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRFdmVudFNlbGVjdG9yc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0SW1wb3J0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0SW1wb3J0XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0SW5zaWdodFNlbGVjdG9yc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0UXVlcnlSZXN1bHRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0UXVlcnlSZXN1bHRzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldFJlc291cmNlUG9saWN5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRUcmFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldFRyYWlsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRUcmFpbFN0YXR1c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldFRyYWlsU3RhdHVzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0Q2hhbm5lbHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0Q2hhbm5lbHNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RFdmVudERhdGFTdG9yZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0RXZlbnREYXRhU3RvcmVzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SW1wb3J0RmFpbHVyZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0SW1wb3J0RmFpbHVyZXNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RJbXBvcnRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdEltcG9ydHNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RQdWJsaWNLZXlzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdFB1YmxpY0tleXNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNlX0xpc3RQdWJsaWNLZXlzUmVxdWVzdChpbnB1dCwgY29udGV4dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0UXVlcmllc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RRdWVyaWVzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzZV9MaXN0UXVlcmllc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRhZ3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0VGFnc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRyYWlsc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RUcmFpbHNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xvb2t1cEV2ZW50c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxvb2t1cEV2ZW50c1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc2VfTG9va3VwRXZlbnRzUmVxdWVzdChpbnB1dCwgY29udGV4dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRFdmVudFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlB1dEV2ZW50U2VsZWN0b3JzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiUHV0SW5zaWdodFNlbGVjdG9yc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUHV0UmVzb3VyY2VQb2xpY3lDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJQdXRSZXNvdXJjZVBvbGljeVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5cIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1JlbW92ZVRhZ3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJSZW1vdmVUYWdzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJSZXN0b3JlRXZlbnREYXRhU3RvcmVcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0RXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdGFydEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydEltcG9ydENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0YXJ0SW1wb3J0XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzZV9TdGFydEltcG9ydFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnRMb2dnaW5nQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RhcnRMb2dnaW5nXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydFF1ZXJ5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RhcnRRdWVyeVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RvcEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RvcEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdG9wSW1wb3J0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RvcEltcG9ydFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RvcExvZ2dpbmdDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdG9wTG9nZ2luZ1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlVwZGF0ZUNoYW5uZWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiVXBkYXRlRXZlbnREYXRhU3RvcmVcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiVXBkYXRlVHJhaWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0FkZFRhZ3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0FkZFRhZ3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0FkZFRhZ3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DYW5jZWxRdWVyeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ2FuY2VsUXVlcnlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NhbmNlbFF1ZXJ5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZVF1ZXJ5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVRdWVyeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVRdWVyeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9RdWVyeUlkTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQ2hhbm5lbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ2hhbm5lbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFNvdXJjZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTb3VyY2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTb3VyY2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQ3JlYXRlRXZlbnREYXRhU3RvcmVSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zS2V5Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUcmFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVHJhaWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRyYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0tleURpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0tleURpc2FibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQ2hhbm5lbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQ2hhbm5lbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlRXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxFeGlzdHNGb3JFRFNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxFeGlzdHNGb3JFRFNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlc291cmNlUG9saWN5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZXNvdXJjZVBvbGljeUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlUmVzb3VyY2VQb2xpY3lDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUcmFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlVHJhaWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlcmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVyZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUXVlcnlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlUXVlcnlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZVF1ZXJ5UmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZVF1ZXJ5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlF1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1F1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVHJhaWxzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRyYWlsc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUcmFpbHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRDaGFubmVsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0Q2hhbm5lbFJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0Q2hhbm5lbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldEV2ZW50RGF0YVN0b3JlUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RXZlbnRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEV2ZW50U2VsZWN0b3JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRFdmVudFNlbGVjdG9yc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0SW1wb3J0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJbXBvcnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJbXBvcnRSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEltcG9ydENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEluc2lnaHRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEluc2lnaHRTZWxlY3RvcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEluc2lnaHRTZWxlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRRdWVyeVJlc3VsdHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFF1ZXJ5UmVzdWx0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0UXVlcnlSZXN1bHRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlF1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1F1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFJlc291cmNlUG9saWN5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRSZXNvdXJjZVBvbGljeUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0UmVzb3VyY2VQb2xpY3lDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFRyYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRUcmFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0VHJhaWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0VHJhaWxTdGF0dXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFRyYWlsU3RhdHVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0VHJhaWxTdGF0dXNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFRyYWlsU3RhdHVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RDaGFubmVsc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdENoYW5uZWxzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0Q2hhbm5lbHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RFdmVudERhdGFTdG9yZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RFdmVudERhdGFTdG9yZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0RXZlbnREYXRhU3RvcmVzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0RXZlbnREYXRhU3RvcmVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RJbXBvcnRGYWlsdXJlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEltcG9ydEZhaWx1cmVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdEltcG9ydEZhaWx1cmVzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0SW1wb3J0RmFpbHVyZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RJbXBvcnRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SW1wb3J0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RJbXBvcnRzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0SW1wb3J0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UHVibGljS2V5c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFB1YmxpY0tleXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0UHVibGljS2V5c1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFB1YmxpY0tleXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UXVlcmllc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFF1ZXJpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0UXVlcmllc1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFF1ZXJpZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWREYXRlUmFuZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWREYXRlUmFuZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRhZ3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUYWdzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0VGFnc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRyYWlsc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRyYWlsc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFRyYWlsc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9Mb29rdXBFdmVudHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xvb2t1cEV2ZW50c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xvb2t1cEV2ZW50c1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTG9va3VwRXZlbnRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0RXZlbnRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dEV2ZW50U2VsZWN0b3JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRFdmVudFNlbGVjdG9yc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0UmVzb3VyY2VQb2xpY3lDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dFJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRSZXNvdXJjZVBvbGljeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNBY2NvdW50Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY291bnROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkRlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNEZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9EZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1JlbW92ZVRhZ3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1JlbW92ZVRhZ3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1JlbW92ZVRhZ3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVzdG9yZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1Jlc3RvcmVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0RXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0RXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1N0YXJ0RXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydEltcG9ydENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnRJbXBvcnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TdGFydEltcG9ydFJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RhcnRJbXBvcnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0TG9nZ2luZ0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnRMb2dnaW5nQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdGFydExvZ2dpbmdDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydFF1ZXJ5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydFF1ZXJ5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdGFydFF1ZXJ5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0b3BFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RvcEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdG9wRXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdG9wSW1wb3J0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdG9wSW1wb3J0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU3RvcEltcG9ydFJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RvcEltcG9ydENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0b3BMb2dnaW5nQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdG9wTG9nZ2luZ0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RvcExvZ2dpbmdDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVDaGFubmVsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVDaGFubmVsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVXBkYXRlRXZlbnREYXRhU3RvcmVSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEttc0tleUlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVHJhaWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRyYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVUcmFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkS21zS2V5SWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0tleURpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zS2V5Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGRlX0FjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0FjY291bnROb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY291bnROb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NoYW5uZWxFeGlzdHNGb3JFRFNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDaGFubmVsTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENvbmZsaWN0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9EZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW1wb3J0Tm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbmFjdGl2ZVF1ZXJ5RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5hY3RpdmVRdWVyeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWREYXRlUmFuZ2VFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRLbXNLZXlJZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNvdXJjZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTb3VyY2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRva2VuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFRva2VuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfS21zRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgS21zRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9LbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEttc0tleURpc2FibGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9LbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEttc0tleU5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9NYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9NYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9RdWVyeUlkTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRyYWlsTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBzZV9MaXN0UHVibGljS2V5c1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBFbmRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgICAgICBTdGFydFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGlzdFF1ZXJpZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRW5kVGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgRXZlbnREYXRhU3RvcmU6IFtdLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICAgICAgUXVlcnlTdGF0dXM6IFtdLFxuICAgICAgICBTdGFydFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTG9va3VwRXZlbnRzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEVuZFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIEV2ZW50Q2F0ZWdvcnk6IFtdLFxuICAgICAgICBMb29rdXBBdHRyaWJ1dGVzOiBfanNvbixcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgICAgIFN0YXJ0VGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TdGFydEltcG9ydFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEZXN0aW5hdGlvbnM6IF9qc29uLFxuICAgICAgICBFbmRFdmVudFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIEltcG9ydElkOiBbXSxcbiAgICAgICAgSW1wb3J0U291cmNlOiBfanNvbixcbiAgICAgICAgU3RhcnRFdmVudFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ3JlYXRlRXZlbnREYXRhU3RvcmVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgS21zS2V5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNdWx0aVJlZ2lvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE9yZ2FuaXphdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmV0ZW50aW9uUGVyaW9kOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUYWdzTGlzdDogX2pzb24sXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZXNjcmliZVF1ZXJ5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlbGl2ZXJ5UzNVcmk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEZWxpdmVyeVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEVycm9yTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFF1ZXJ5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeVN0YXRpc3RpY3M6IChfKSA9PiBkZV9RdWVyeVN0YXRpc3RpY3NGb3JEZXNjcmliZVF1ZXJ5KF8sIGNvbnRleHQpLFxuICAgICAgICBRdWVyeVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFF1ZXJ5U3RyaW5nOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9FdmVudCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWNjZXNzS2V5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDbG91ZFRyYWlsRXZlbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFdmVudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXZlbnROYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXZlbnRTb3VyY2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFdmVudFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFJlYWRPbmx5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VzOiBfanNvbixcbiAgICAgICAgVXNlcm5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZHZhbmNlZEV2ZW50U2VsZWN0b3JzOiBfanNvbixcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnREYXRhU3RvcmVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNdWx0aVJlZ2lvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE9yZ2FuaXphdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmV0ZW50aW9uUGVyaW9kOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0V2ZW50RGF0YVN0b3JlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0V2ZW50c0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRXZlbnQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfR2V0Q2hhbm5lbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDaGFubmVsQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgSW5nZXN0aW9uU3RhdHVzOiAoXykgPT4gZGVfSW5nZXN0aW9uU3RhdHVzKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlQ29uZmlnOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZXRFdmVudERhdGFTdG9yZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZHZhbmNlZEV2ZW50U2VsZWN0b3JzOiBfanNvbixcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnREYXRhU3RvcmVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBLbXNLZXlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE11bHRpUmVnaW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3JnYW5pemF0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBSZXRlbnRpb25QZXJpb2Q6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZXRJbXBvcnRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgRW5kRXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBJbXBvcnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIEltcG9ydFN0YXRpc3RpY3M6IF9qc29uLFxuICAgICAgICBJbXBvcnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZXRUcmFpbFN0YXR1c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBJc0xvZ2dpbmc6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTGF0ZXN0Q2xvdWRXYXRjaExvZ3NEZWxpdmVyeUVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0Q2xvdWRXYXRjaExvZ3NEZWxpdmVyeVRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhdGVzdERlbGl2ZXJ5QXR0ZW1wdFN1Y2NlZWRlZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdERlbGl2ZXJ5QXR0ZW1wdFRpbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3REZWxpdmVyeUVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0RGVsaXZlcnlUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3REaWdlc3REZWxpdmVyeUVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0RGlnZXN0RGVsaXZlcnlUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3ROb3RpZmljYXRpb25BdHRlbXB0U3VjY2VlZGVkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0Tm90aWZpY2F0aW9uQXR0ZW1wdFRpbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3ROb3RpZmljYXRpb25FcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdE5vdGlmaWNhdGlvblRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFN0YXJ0TG9nZ2luZ1RpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFN0b3BMb2dnaW5nVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVGltZUxvZ2dpbmdTdGFydGVkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUxvZ2dpbmdTdG9wcGVkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbXBvcnRGYWlsdXJlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbXBvcnRGYWlsdXJlTGlzdEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfSW1wb3J0RmFpbHVyZUxpc3RJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBFcnJvck1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvclR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExvY2F0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbXBvcnRzTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbXBvcnRzTGlzdEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfSW1wb3J0c0xpc3RJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXN0aW5hdGlvbnM6IF9qc29uLFxuICAgICAgICBJbXBvcnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5nZXN0aW9uU3RhdHVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBMYXRlc3RJbmdlc3Rpb25BdHRlbXB0RXZlbnRJRDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdEluZ2VzdGlvbkF0dGVtcHRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3RJbmdlc3Rpb25FcnJvckNvZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3RJbmdlc3Rpb25TdWNjZXNzRXZlbnRJRDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdEluZ2VzdGlvblN1Y2Nlc3NUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpc3RFdmVudERhdGFTdG9yZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRXZlbnREYXRhU3RvcmVzOiAoXykgPT4gZGVfRXZlbnREYXRhU3RvcmVzKF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpc3RJbXBvcnRGYWlsdXJlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGYWlsdXJlczogKF8pID0+IGRlX0ltcG9ydEZhaWx1cmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpc3RJbXBvcnRzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEltcG9ydHM6IChfKSA9PiBkZV9JbXBvcnRzTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0UHVibGljS2V5c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQdWJsaWNLZXlMaXN0OiAoXykgPT4gZGVfUHVibGljS2V5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0UXVlcmllc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyaWVzOiAoXykgPT4gZGVfUXVlcmllcyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Mb29rdXBFdmVudHNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRXZlbnRzOiAoXykgPT4gZGVfRXZlbnRzTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QdWJsaWNLZXkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpbmdlcnByaW50OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsaWRpdHlFbmRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBWYWxpZGl0eVN0YXJ0VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVmFsdWU6IGNvbnRleHQuYmFzZTY0RGVjb2RlcixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QdWJsaWNLZXlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1B1YmxpY0tleShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9RdWVyaWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1F1ZXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1F1ZXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGlvblRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFF1ZXJ5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUXVlcnlTdGF0aXN0aWNzRm9yRGVzY3JpYmVRdWVyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQnl0ZXNTY2FubmVkOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIENyZWF0aW9uVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnRzTWF0Y2hlZDogX19leHBlY3RMb25nLFxuICAgICAgICBFdmVudHNTY2FubmVkOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIEV4ZWN1dGlvblRpbWVJbk1pbGxpczogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgS21zS2V5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNdWx0aVJlZ2lvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE9yZ2FuaXphdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmV0ZW50aW9uUGVyaW9kOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU3RhcnRJbXBvcnRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgRW5kRXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBJbXBvcnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIEltcG9ydFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXJ0RXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBVcGRhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1N0b3BJbXBvcnRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgRW5kRXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBJbXBvcnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIEltcG9ydFN0YXRpc3RpY3M6IF9qc29uLFxuICAgICAgICBJbXBvcnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9VcGRhdGVFdmVudERhdGFTdG9yZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZHZhbmNlZEV2ZW50U2VsZWN0b3JzOiBfanNvbixcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnREYXRhU3RvcmVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBLbXNLZXlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE11bHRpUmVnaW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3JnYW5pemF0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBSZXRlbnRpb25QZXJpb2Q6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG5jb25zdCBjb2xsZWN0Qm9keVN0cmluZyA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keShzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChib2R5KSA9PiBjb250ZXh0LnV0ZjhFbmNvZGVyKGJvZHkpKTtcbmNvbnN0IHRocm93RGVmYXVsdEVycm9yID0gd2l0aEJhc2VFeGNlcHRpb24oX19CYXNlRXhjZXB0aW9uKTtcbmNvbnN0IGJ1aWxkSHR0cFJwY1JlcXVlc3QgPSBhc3luYyAoY29udGV4dCwgaGVhZGVycywgcGF0aCwgcmVzb2x2ZWRIb3N0bmFtZSwgYm9keSkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIHBhdGg6IGJhc2VQYXRoLmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSArIHBhdGggOiBiYXNlUGF0aCArIHBhdGgsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgfTtcbiAgICBpZiAocmVzb2x2ZWRIb3N0bmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmhvc3RuYW1lID0gcmVzb2x2ZWRIb3N0bmFtZTtcbiAgICB9XG4gICAgaWYgKGJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ib2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KGNvbnRlbnRzKTtcbn07XG5mdW5jdGlvbiBzaGFyZWRIZWFkZXJzKG9wZXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC1hbXotanNvbi0xLjFcIixcbiAgICAgICAgXCJ4LWFtei10YXJnZXRcIjogYENsb3VkVHJhaWxfMjAxMzExMDEuJHtvcGVyYXRpb259YCxcbiAgICB9O1xufVxuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZW5jb2RlZCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICB2YWx1ZS5tZXNzYWdlID0gdmFsdWUubWVzc2FnZSA/PyB2YWx1ZS5NZXNzYWdlO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBsb2FkUmVzdEpzb25FcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgZmluZEtleSA9IChvYmplY3QsIGtleSkgPT4gT2JqZWN0LmtleXMob2JqZWN0KS5maW5kKChrKSA9PiBrLnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICBjb25zdCBzYW5pdGl6ZUVycm9yQ29kZSA9IChyYXdWYWx1ZSkgPT4ge1xuICAgICAgICBsZXQgY2xlYW5WYWx1ZSA9IHJhd1ZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFuVmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCI6XCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiI1wiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIiNcIilbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsZWFuVmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJLZXkgPSBmaW5kS2V5KG91dHB1dC5oZWFkZXJzLCBcIngtYW16bi1lcnJvcnR5cGVcIik7XG4gICAgaWYgKGhlYWRlcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShvdXRwdXQuaGVhZGVyc1toZWFkZXJLZXldKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhLmNvZGUpO1xuICAgIH1cbiAgICBpZiAoZGF0YVtcIl9fdHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhW1wiX190eXBlXCJdKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBkZV9Mb29rdXBFdmVudHNDb21tYW5kLCBzZV9Mb29rdXBFdmVudHNDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfanNvbjFfMVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBMb29rdXBFdmVudHNDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIExvb2t1cEV2ZW50c0NvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJDbG91ZFRyYWlsQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJMb29rdXBFdmVudHNDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfTG9va3VwRXZlbnRzQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfTG9va3VwRXZlbnRzQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50IH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwnXG5cbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsVXNlckV2ZW50IHtcblx0aWFtUm9sZTogc3RyaW5nIFxuXHRzdHNTZXNzaW9uOiBzdHJpbmcgXG5cdGV2ZW50VGltZTogRGF0ZVxuXG5cdGNvbnN0cnVjdG9yKGV2ZW50OiBFdmVudCkge1xuXHRcdGNvbnN0IGNsb3VkVHJhaWxFdmVudCA9IEpTT04ucGFyc2UoZXZlbnQuQ2xvdWRUcmFpbEV2ZW50KVxuXHRcdGNvbnN0IFtyb2xlLCBzZXNzaW9uXSA9ICBjbG91ZFRyYWlsRXZlbnQudXNlcklkZW50aXR5LmFybi5zcGxpdCgnLycpLnNsaWNlKDEpIC8vIGFybjphd3M6c3RzOjphY2NvdW50OmFzc3VtZWQtcm9sZS9ST0xFX05BTUUvU0VTU0lPTl9OQU1FIC0gbWF5IGhhdmUgdW5kZWZpbmVkIHNlc3Npb24gaWYgSUFNIHVzZXIgaXMgdXNlZCB0byBsb2dpblxuXHRcdFxuXHRcdHRoaXMuaWFtUm9sZSA9IHJvbGVcblx0XHR0aGlzLnN0c1Nlc3Npb24gPSBzZXNzaW9uXG5cdFx0dGhpcy5ldmVudFRpbWUgPSBldmVudC5FdmVudFRpbWVcblx0fVxufSIsImltcG9ydCB7IENsb3VkVHJhaWxDbGllbnQsIExvb2t1cEV2ZW50c0NvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbCdcbmltcG9ydCB7IENsb3VkVHJhaWxVc2VyRXZlbnQgfSBmcm9tICcuL0Nsb3VkVHJhaWxVc2VyRXZlbnQnXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlciB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXG5cbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciB7XG5cdHByaXZhdGUgY2xvdWRUcmFpbENsaWVudCA9IG5ldyBDbG91ZFRyYWlsQ2xpZW50KHt9KVxuXG5cdC8vIEZpbHRlcnMgb3V0IGV2ZW50cyB0aGF0IGRvIG5vdCBvcmlnaW5hdGUgd2l0aCBzb21lb25lJ3MgZS1tYWlsIGFkZHJlc3Ncblx0Ly8gc3VjaCBhcyBhbnkgYXV0b21hdGVkIHByb2Nlc3Mgd2hpY2ggdG91Y2hlcyBRdWlja1NpZ2h0LCBpbmNsdWRpbmcgdGhpcyBvbmVcblx0cHVibGljIGFzeW5jIHJldHJpZXZlUXVpY2tTaWdodFVzZXJFdmVudHMoc3RhcnREYXRlOiBEYXRlKTogUHJvbWlzZTxDbG91ZFRyYWlsVXNlckV2ZW50W10+IHtcblx0XHRjb25zdCBldmVudHM6IENsb3VkVHJhaWxVc2VyRXZlbnRbXSA9IFtdXG5cblx0XHRsZXQgbmV4dFRva2VuOiBzdHJpbmcgPSBudWxsIC8vIFRoaXMgaXMgYW5ub3lpbmc7IG51bGwgZG9lc24ndCB3b3JrIGluIHRoZSBRdWlja1NpZ2h0IEFQSSBidXQgZW1wdHkgc3RyaW5nIGRvZXNuJ3Qgd29yayBpbiB0aGUgQ2xvdWRUcmFpbCBBUElcblx0XHRkbyB7XG5cdFx0XHRjb25zdCBsb29rdXBFdmVudHNDb21tYW5kID0gbmV3IExvb2t1cEV2ZW50c0NvbW1hbmQoe1xuXHRcdFx0XHRMb29rdXBBdHRyaWJ1dGVzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0QXR0cmlidXRlS2V5OiAnRXZlbnRTb3VyY2UnLFxuXHRcdFx0XHRcdFx0QXR0cmlidXRlVmFsdWU6ICdxdWlja3NpZ2h0LmFtYXpvbmF3cy5jb20nLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHRcdFN0YXJ0VGltZTogc3RhcnREYXRlLFxuXHRcdFx0XHROZXh0VG9rZW46IG5leHRUb2tlbixcblx0XHRcdH0pXG5cblx0XHRcdGNvbnN0IGxvb2t1cEV2ZW50c1Jlc3VsdCA9IGF3YWl0IHRoaXMuY2xvdWRUcmFpbENsaWVudC5zZW5kKGxvb2t1cEV2ZW50c0NvbW1hbmQpXG5cblx0XHRcdG5leHRUb2tlbiA9IGxvb2t1cEV2ZW50c1Jlc3VsdC5OZXh0VG9rZW5cblxuXHRcdFx0bG9va3VwRXZlbnRzUmVzdWx0LkV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gZXZlbnRzLnB1c2gobmV3IENsb3VkVHJhaWxVc2VyRXZlbnQoZXZlbnQpKSlcblx0XHR9IHdoaWxlIChuZXh0VG9rZW4pXG5cblx0XHRyZXR1cm4gZXZlbnRzXG5cdH1cblxuXHRwdWJsaWMgZ2V0TGFzdEFjY2Vzc0RhdGUodXNlcjogUXVpY2tTaWdodFVzZXIsIGV2ZW50czogQ2xvdWRUcmFpbFVzZXJFdmVudFtdKTogRGF0ZSB7XG5cdFx0Y29uc3QgdGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzID0gZXZlbnRzLmZpbHRlcigoZXZlbnQpID0+IHVzZXIuaWFtUm9sZSA9PT0gZXZlbnQuaWFtUm9sZSAmJiB1c2VyLnN0c1Nlc3Npb24gPT09IGV2ZW50LnN0c1Nlc3Npb24pXG5cblx0XHRpZiAodGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXG5cdFx0XHRjb25zb2xlLmRlYnVnKGAke3VzZXIuaWFtUm9sZX0vJHt1c2VyLnN0c1Nlc3Npb259IG5vIENsb3VkVHJhaWwgZXZlbnRzIGZvdW5kYClcblx0XHRcdHJldHVybiBuZXcgRGF0ZSgwKSAvLyBSZXR1cm4gMTk3MCBhcyBsYXN0IGFjY2VzcyBkYXRlIHRvIG1ha2UgbG9naWMgZWFzaWVyIGRvd24gdGhlIHJvYWRcblx0XHR9XG5cblx0XHQvLyBTb3J0IG5ld2VzdCB0byBvbGRlc3Rcblx0XHRjb25zdCBuZXdlc3RFdmVudCA9IHRoaXNQYXJ0aWN1bGFyVXNlckV2ZW50cy5zb3J0KChhLCBiKSA9PiBhLmV2ZW50VGltZSA8PSBiLmV2ZW50VGltZSA/IDEgOiAtMSlbMF1cblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRjb25zb2xlLmRlYnVnKGAke3VzZXIuaWFtUm9sZX0vJHt1c2VyLnN0c1Nlc3Npb259IGxhdGVzdCBldmVudDogJHtKU09OLnN0cmluZ2lmeShuZXdlc3RFdmVudCwgbnVsbCwgMSl9YClcblxuXHRcdHJldHVybiBuZXdlc3RFdmVudC5ldmVudFRpbWVcblx0fVxufSIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcIm1vbml0b3JpbmdcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHMgPSBcInJlcXVpcmVkXCIsIHQgPSBcImZuXCIsIHUgPSBcImFyZ3ZcIiwgdiA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJpc1NldFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBmID0gXCJnZXRBdHRyXCIsIGcgPSB7IFtzXTogZmFsc2UsIFwidHlwZVwiOiBcIlN0cmluZ1wiIH0sIGggPSB7IFtzXTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBcInR5cGVcIjogXCJCb29sZWFuXCIgfSwgaSA9IHsgW3ZdOiBcIkVuZHBvaW50XCIgfSwgaiA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbeyBbdl06IFwiVXNlRklQU1wiIH0sIHRydWVdIH0sIGsgPSB7IFt0XTogXCJib29sZWFuRXF1YWxzXCIsIFt1XTogW3sgW3ZdOiBcIlVzZUR1YWxTdGFja1wiIH0sIHRydWVdIH0sIGwgPSB7fSwgbSA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbdHJ1ZSwgeyBbdF06IGYsIFt1XTogW3sgW3ZdOiBlIH0sIFwic3VwcG9ydHNGSVBTXCJdIH1dIH0sIG4gPSB7IFt2XTogZSB9LCBvID0geyBbdF06IFwiYm9vbGVhbkVxdWFsc1wiLCBbdV06IFt0cnVlLCB7IFt0XTogZiwgW3VdOiBbbiwgXCJzdXBwb3J0c0R1YWxTdGFja1wiXSB9XSB9LCBwID0gW2pdLCBxID0gW2tdLCByID0gW3sgW3ZdOiBcIlJlZ2lvblwiIH1dO1xuY29uc3QgX2RhdGEgPSB7IHZlcnNpb246IFwiMS4wXCIsIHBhcmFtZXRlcnM6IHsgUmVnaW9uOiBnLCBVc2VEdWFsU3RhY2s6IGgsIFVzZUZJUFM6IGgsIEVuZHBvaW50OiBnIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IGEsIFt1XTogW2ldIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogcCwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBxLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyBlbmRwb2ludDogeyB1cmw6IGksIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IGEsIFt1XTogciB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFt0XTogXCJhd3MucGFydGl0aW9uXCIsIFt1XTogciwgYXNzaWduOiBlIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2osIGtdLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW20sIG9dLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL21vbml0b3JpbmctZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogbCwgaGVhZGVyczogbCB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogcCwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFttXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IFwic3RyaW5nRXF1YWxzXCIsIFt1XTogW1wiYXdzLXVzLWdvdlwiLCB7IFt0XTogZiwgW3VdOiBbbiwgXCJuYW1lXCJdIH1dIH1dLCBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LmFtYXpvbmF3cy5jb21cIiwgcHJvcGVydGllczogbCwgaGVhZGVyczogbCB9LCB0eXBlOiBkIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vbW9uaXRvcmluZy1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogcSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtvXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgdHlwZTogYyB9XSB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfV0gfSwgeyBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IE1pc3NpbmcgUmVnaW9uXCIsIHR5cGU6IGMgfV0gfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0QXdzQXV0aFBsdWdpbiwgcmVzb2x2ZUF3c0F1dGhDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZ1wiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgQ2xvdWRXYXRjaENsaWVudCBleHRlbmRzIF9fQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZUF3c0F1dGhDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ183ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzYpO1xuICAgICAgICBzdXBlcihfY29uZmlnXzcpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9jb25maWdfNztcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJldHJ5UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRDb250ZW50TGVuZ3RoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRIb3N0SGVhZGVyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRMb2dnZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0QXdzQXV0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0VXNlckFnZW50UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIjtcbmltcG9ydCB7IGRlZmF1bHRQcm92aWRlciBhcyBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZVwiO1xuaW1wb3J0IHsgZGVmYXVsdFVzZXJBZ2VudCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IEhhc2ggfSBmcm9tIFwiQHNtaXRoeS9oYXNoLW5vZGVcIjtcbmltcG9ydCB7IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMsIE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgTm9kZUh0dHBIYW5kbGVyIGFzIFJlcXVlc3RIYW5kbGVyLCBzdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWh0dHAtaGFuZGxlclwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm9keUxlbmd0aCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1yZXRyeVwiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBnZXRTaGFyZWRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZy5zaGFyZWRcIjtcbmltcG9ydCB7IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgY29uc3QgZGVmYXVsdHNNb2RlID0gcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWdQcm92aWRlciA9ICgpID0+IGRlZmF1bHRzTW9kZSgpLnRoZW4obG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSk7XG4gICAgY29uc3QgY2xpZW50U2hhcmVkVmFsdWVzID0gZ2V0U2hhcmVkUnVudGltZUNvbmZpZyhjb25maWcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNsaWVudFNoYXJlZFZhbHVlcyxcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBydW50aW1lOiBcIm5vZGVcIixcbiAgICAgICAgZGVmYXVsdHNNb2RlLFxuICAgICAgICBib2R5TGVuZ3RoQ2hlY2tlcjogY29uZmlnPy5ib2R5TGVuZ3RoQ2hlY2tlciA/PyBjYWxjdWxhdGVCb2R5TGVuZ3RoLFxuICAgICAgICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyOiBjb25maWc/LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgPz8gZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyKGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIpLFxuICAgICAgICBkZWZhdWx0VXNlckFnZW50UHJvdmlkZXI6IGNvbmZpZz8uZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyID8/XG4gICAgICAgICAgICBkZWZhdWx0VXNlckFnZW50KHsgc2VydmljZUlkOiBjbGllbnRTaGFyZWRWYWx1ZXMuc2VydmljZUlkLCBjbGllbnRWZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciB9IGZyb20gXCIuL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4gKHtcbiAgICBhcGlWZXJzaW9uOiBcIjIwMTAtMDgtMDFcIixcbiAgICBiYXNlNjREZWNvZGVyOiBjb25maWc/LmJhc2U2NERlY29kZXIgPz8gZnJvbUJhc2U2NCxcbiAgICBiYXNlNjRFbmNvZGVyOiBjb25maWc/LmJhc2U2NEVuY29kZXIgPz8gdG9CYXNlNjQsXG4gICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgZW5kcG9pbnRQcm92aWRlcjogY29uZmlnPy5lbmRwb2ludFByb3ZpZGVyID8/IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyLFxuICAgIGxvZ2dlcjogY29uZmlnPy5sb2dnZXIgPz8gbmV3IE5vT3BMb2dnZXIoKSxcbiAgICBzZXJ2aWNlSWQ6IGNvbmZpZz8uc2VydmljZUlkID8/IFwiQ2xvdWRXYXRjaFwiLFxuICAgIHVybFBhcnNlcjogY29uZmlnPy51cmxQYXJzZXIgPz8gcGFyc2VVcmwsXG4gICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxufSk7XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBDbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIF9fU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBBY3Rpb25zU3VwcHJlc3NlZEJ5ID0ge1xuICAgIEFsYXJtOiBcIkFsYXJtXCIsXG4gICAgRXh0ZW5zaW9uUGVyaW9kOiBcIkV4dGVuc2lvblBlcmlvZFwiLFxuICAgIFdhaXRQZXJpb2Q6IFwiV2FpdFBlcmlvZFwiLFxufTtcbmV4cG9ydCBjb25zdCBBbGFybVR5cGUgPSB7XG4gICAgQ29tcG9zaXRlQWxhcm06IFwiQ29tcG9zaXRlQWxhcm1cIixcbiAgICBNZXRyaWNBbGFybTogXCJNZXRyaWNBbGFybVwiLFxufTtcbmV4cG9ydCBjb25zdCBIaXN0b3J5SXRlbVR5cGUgPSB7XG4gICAgQWN0aW9uOiBcIkFjdGlvblwiLFxuICAgIENvbmZpZ3VyYXRpb25VcGRhdGU6IFwiQ29uZmlndXJhdGlvblVwZGF0ZVwiLFxuICAgIFN0YXRlVXBkYXRlOiBcIlN0YXRlVXBkYXRlXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YW5kYXJkVW5pdCA9IHtcbiAgICBCaXRzOiBcIkJpdHNcIixcbiAgICBCaXRzX1NlY29uZDogXCJCaXRzL1NlY29uZFwiLFxuICAgIEJ5dGVzOiBcIkJ5dGVzXCIsXG4gICAgQnl0ZXNfU2Vjb25kOiBcIkJ5dGVzL1NlY29uZFwiLFxuICAgIENvdW50OiBcIkNvdW50XCIsXG4gICAgQ291bnRfU2Vjb25kOiBcIkNvdW50L1NlY29uZFwiLFxuICAgIEdpZ2FiaXRzOiBcIkdpZ2FiaXRzXCIsXG4gICAgR2lnYWJpdHNfU2Vjb25kOiBcIkdpZ2FiaXRzL1NlY29uZFwiLFxuICAgIEdpZ2FieXRlczogXCJHaWdhYnl0ZXNcIixcbiAgICBHaWdhYnl0ZXNfU2Vjb25kOiBcIkdpZ2FieXRlcy9TZWNvbmRcIixcbiAgICBLaWxvYml0czogXCJLaWxvYml0c1wiLFxuICAgIEtpbG9iaXRzX1NlY29uZDogXCJLaWxvYml0cy9TZWNvbmRcIixcbiAgICBLaWxvYnl0ZXM6IFwiS2lsb2J5dGVzXCIsXG4gICAgS2lsb2J5dGVzX1NlY29uZDogXCJLaWxvYnl0ZXMvU2Vjb25kXCIsXG4gICAgTWVnYWJpdHM6IFwiTWVnYWJpdHNcIixcbiAgICBNZWdhYml0c19TZWNvbmQ6IFwiTWVnYWJpdHMvU2Vjb25kXCIsXG4gICAgTWVnYWJ5dGVzOiBcIk1lZ2FieXRlc1wiLFxuICAgIE1lZ2FieXRlc19TZWNvbmQ6IFwiTWVnYWJ5dGVzL1NlY29uZFwiLFxuICAgIE1pY3Jvc2Vjb25kczogXCJNaWNyb3NlY29uZHNcIixcbiAgICBNaWxsaXNlY29uZHM6IFwiTWlsbGlzZWNvbmRzXCIsXG4gICAgTm9uZTogXCJOb25lXCIsXG4gICAgUGVyY2VudDogXCJQZXJjZW50XCIsXG4gICAgU2Vjb25kczogXCJTZWNvbmRzXCIsXG4gICAgVGVyYWJpdHM6IFwiVGVyYWJpdHNcIixcbiAgICBUZXJhYml0c19TZWNvbmQ6IFwiVGVyYWJpdHMvU2Vjb25kXCIsXG4gICAgVGVyYWJ5dGVzOiBcIlRlcmFieXRlc1wiLFxuICAgIFRlcmFieXRlc19TZWNvbmQ6IFwiVGVyYWJ5dGVzL1NlY29uZFwiLFxufTtcbmV4cG9ydCBjb25zdCBBbm9tYWx5RGV0ZWN0b3JTdGF0ZVZhbHVlID0ge1xuICAgIFBFTkRJTkdfVFJBSU5JTkc6IFwiUEVORElOR19UUkFJTklOR1wiLFxuICAgIFRSQUlORUQ6IFwiVFJBSU5FRFwiLFxuICAgIFRSQUlORURfSU5TVUZGSUNJRU5UX0RBVEE6IFwiVFJBSU5FRF9JTlNVRkZJQ0lFTlRfREFUQVwiLFxufTtcbmV4cG9ydCBjb25zdCBBbm9tYWx5RGV0ZWN0b3JUeXBlID0ge1xuICAgIE1FVFJJQ19NQVRIOiBcIk1FVFJJQ19NQVRIXCIsXG4gICAgU0lOR0xFX01FVFJJQzogXCJTSU5HTEVfTUVUUklDXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbXBhcmlzb25PcGVyYXRvciA9IHtcbiAgICBHcmVhdGVyVGhhbk9yRXF1YWxUb1RocmVzaG9sZDogXCJHcmVhdGVyVGhhbk9yRXF1YWxUb1RocmVzaG9sZFwiLFxuICAgIEdyZWF0ZXJUaGFuVGhyZXNob2xkOiBcIkdyZWF0ZXJUaGFuVGhyZXNob2xkXCIsXG4gICAgR3JlYXRlclRoYW5VcHBlclRocmVzaG9sZDogXCJHcmVhdGVyVGhhblVwcGVyVGhyZXNob2xkXCIsXG4gICAgTGVzc1RoYW5Mb3dlck9yR3JlYXRlclRoYW5VcHBlclRocmVzaG9sZDogXCJMZXNzVGhhbkxvd2VyT3JHcmVhdGVyVGhhblVwcGVyVGhyZXNob2xkXCIsXG4gICAgTGVzc1RoYW5Mb3dlclRocmVzaG9sZDogXCJMZXNzVGhhbkxvd2VyVGhyZXNob2xkXCIsXG4gICAgTGVzc1RoYW5PckVxdWFsVG9UaHJlc2hvbGQ6IFwiTGVzc1RoYW5PckVxdWFsVG9UaHJlc2hvbGRcIixcbiAgICBMZXNzVGhhblRocmVzaG9sZDogXCJMZXNzVGhhblRocmVzaG9sZFwiLFxufTtcbmV4cG9ydCBjb25zdCBTdGF0ZVZhbHVlID0ge1xuICAgIEFMQVJNOiBcIkFMQVJNXCIsXG4gICAgSU5TVUZGSUNJRU5UX0RBVEE6IFwiSU5TVUZGSUNJRU5UX0RBVEFcIixcbiAgICBPSzogXCJPS1wiLFxufTtcbmV4cG9ydCBjbGFzcyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvclwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3JcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5kYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPSBvcHRzLmRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRGFzaGJvYXJkTm90Rm91bmRFcnJvciBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkRhc2hib2FyZE5vdEZvdW5kRXJyb3JcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkRhc2hib2FyZE5vdEZvdW5kRXJyb3JcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRGFzaGJvYXJkTm90Rm91bmRFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZU5vdEZvdW5kIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VOb3RGb3VuZFwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VOb3RGb3VuZFwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZU5vdEZvdW5kLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludGVybmFsU2VydmljZUZhdWx0IGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJzZXJ2ZXJcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludGVybmFsU2VydmljZUZhdWx0XCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJzZXJ2ZXJcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludGVybmFsU2VydmljZUZhdWx0LnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLlJlc291cmNlVHlwZSA9IG9wdHMuUmVzb3VyY2VUeXBlO1xuICAgICAgICB0aGlzLlJlc291cmNlSWQgPSBvcHRzLlJlc291cmNlSWQ7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgU2NhbkJ5ID0ge1xuICAgIFRJTUVTVEFNUF9BU0NFTkRJTkc6IFwiVGltZXN0YW1wQXNjZW5kaW5nXCIsXG4gICAgVElNRVNUQU1QX0RFU0NFTkRJTkc6IFwiVGltZXN0YW1wRGVzY2VuZGluZ1wiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkTmV4dFRva2VuIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZE5leHRUb2tlblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZE5leHRUb2tlblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTmV4dFRva2VuLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEV2YWx1YXRpb25TdGF0ZSA9IHtcbiAgICBQQVJUSUFMX0RBVEE6IFwiUEFSVElBTF9EQVRBXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpYyA9IHtcbiAgICBBdmVyYWdlOiBcIkF2ZXJhZ2VcIixcbiAgICBNYXhpbXVtOiBcIk1heGltdW1cIixcbiAgICBNaW5pbXVtOiBcIk1pbmltdW1cIixcbiAgICBTYW1wbGVDb3VudDogXCJTYW1wbGVDb3VudFwiLFxuICAgIFN1bTogXCJTdW1cIixcbn07XG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IFN0YXR1c0NvZGUgPSB7XG4gICAgQ09NUExFVEU6IFwiQ29tcGxldGVcIixcbiAgICBGT1JCSURERU46IFwiRm9yYmlkZGVuXCIsXG4gICAgSU5URVJOQUxfRVJST1I6IFwiSW50ZXJuYWxFcnJvclwiLFxuICAgIFBBUlRJQUxfREFUQTogXCJQYXJ0aWFsRGF0YVwiLFxufTtcbmV4cG9ydCBjb25zdCBNZXRyaWNTdHJlYW1PdXRwdXRGb3JtYXQgPSB7XG4gICAgSlNPTjogXCJqc29uXCIsXG4gICAgT1BFTl9URUxFTUVUUllfMF83OiBcIm9wZW50ZWxlbWV0cnkwLjdcIixcbn07XG5leHBvcnQgY29uc3QgUmVjZW50bHlBY3RpdmUgPSB7XG4gICAgUFQzSDogXCJQVDNIXCIsXG59O1xuZXhwb3J0IGNsYXNzIExpbWl0RXhjZWVkZWRGYXVsdCBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRGYXVsdFwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTGltaXRFeGNlZWRlZEZhdWx0XCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIExpbWl0RXhjZWVkZWRGYXVsdC5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRm9ybWF0RmF1bHQgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRm9ybWF0RmF1bHRcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRGb3JtYXRGYXVsdFwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRm9ybWF0RmF1bHQucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgY29sbGVjdEJvZHksIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQgYXMgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCwgZ2V0QXJyYXlJZlNpbmdsZUl0ZW0gYXMgX19nZXRBcnJheUlmU2luZ2xlSXRlbSwgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgYXMgX19nZXRWYWx1ZUZyb21UZXh0Tm9kZSwgcGFyc2VCb29sZWFuIGFzIF9fcGFyc2VCb29sZWFuLCBwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQgYXMgX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQsIHNlcmlhbGl6ZUZsb2F0IGFzIF9fc2VyaWFsaXplRmxvYXQsIHN0cmljdFBhcnNlRmxvYXQgYXMgX19zdHJpY3RQYXJzZUZsb2F0LCBzdHJpY3RQYXJzZUludDMyIGFzIF9fc3RyaWN0UGFyc2VJbnQzMiwgc3RyaWN0UGFyc2VMb25nIGFzIF9fc3RyaWN0UGFyc2VMb25nLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBYTUxQYXJzZXIgfSBmcm9tIFwiZmFzdC14bWwtcGFyc2VyXCI7XG5pbXBvcnQgeyBDbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL0Nsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uXCI7XG5pbXBvcnQgeyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uLCBEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvciwgRGFzaGJvYXJkTm90Rm91bmRFcnJvciwgSW50ZXJuYWxTZXJ2aWNlRmF1bHQsIEludmFsaWRGb3JtYXRGYXVsdCwgSW52YWxpZE5leHRUb2tlbiwgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRGYXVsdCwgTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uLCBSZXNvdXJjZU5vdEZvdW5kLCBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBbGFybXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQWxhcm1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlQWxhcm1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQW5vbWFseURldGVjdG9ySW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlQW5vbWFseURldGVjdG9yXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVEYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZURhc2hib2FyZHNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVEYXNoYm9hcmRzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlSW5zaWdodFJ1bGVzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlTWV0cmljU3RyZWFtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlTWV0cmljU3RyZWFtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFsYXJtSGlzdG9yeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFsYXJtSGlzdG9yeUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWxhcm1IaXN0b3J5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFsYXJtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFsYXJtc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWxhcm1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWxhcm1zRm9yTWV0cmljXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUluc2lnaHRSdWxlc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EaXNhYmxlQWxhcm1BY3Rpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rpc2FibGVBbGFybUFjdGlvbnNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEaXNhYmxlQWxhcm1BY3Rpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EaXNhYmxlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rpc2FibGVJbnNpZ2h0UnVsZXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEaXNhYmxlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9FbmFibGVBbGFybUFjdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRW5hYmxlQWxhcm1BY3Rpb25zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRW5hYmxlQWxhcm1BY3Rpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9FbmFibGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRW5hYmxlSW5zaWdodFJ1bGVzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRW5hYmxlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0RGFzaGJvYXJkSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0RGFzaGJvYXJkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydElucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldEluc2lnaHRSdWxlUmVwb3J0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNEYXRhQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldE1ldHJpY0RhdGFJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRNZXRyaWNEYXRhXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldE1ldHJpY1N0YXRpc3RpY3NJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRNZXRyaWNTdGF0aXN0aWNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0TWV0cmljU3RyZWFtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0TWV0cmljU3RyZWFtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldE1ldHJpY1dpZGdldEltYWdlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0RGFzaGJvYXJkc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3REYXNoYm9hcmRzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TWV0cmljc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0TWV0cmljc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RNZXRyaWNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0TWV0cmljU3RyZWFtc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RNZXRyaWNTdHJlYW1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RUYWdzRm9yUmVzb3VyY2VJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0VGFnc0ZvclJlc291cmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRBbm9tYWx5RGV0ZWN0b3JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0QW5vbWFseURldGVjdG9ySW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0QW5vbWFseURldGVjdG9yXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRDb21wb3NpdGVBbGFybUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dENvbXBvc2l0ZUFsYXJtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0RGFzaGJvYXJkSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0RGFzaGJvYXJkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRJbnNpZ2h0UnVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRJbnNpZ2h0UnVsZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dEluc2lnaHRSdWxlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dE1hbmFnZWRJbnNpZ2h0UnVsZXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRNYW5hZ2VkSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNZXRyaWNBbGFybUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRNZXRyaWNBbGFybUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dE1ldHJpY0FsYXJtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dE1ldHJpY0RhdGFJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRNZXRyaWNEYXRhXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0TWV0cmljU3RyZWFtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0TWV0cmljU3RyZWFtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRBbGFybVN0YXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldEFsYXJtU3RhdGVJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRBbGFybVN0YXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU3RhcnRNZXRyaWNTdHJlYW1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU3RhcnRNZXRyaWNTdHJlYW1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdG9wTWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TdG9wTWV0cmljU3RyZWFtc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlN0b3BNZXRyaWNTdHJlYW1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9UYWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9UYWdSZXNvdXJjZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlRhZ1Jlc291cmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VbnRhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VudGFnUmVzb3VyY2VJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJVbnRhZ1Jlc291cmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVBbGFybXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUFsYXJtc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFsYXJtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUFub21hbHlEZXRlY3RvckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQW5vbWFseURldGVjdG9yQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlQW5vbWFseURldGVjdG9yT3V0cHV0KGRhdGEuRGVsZXRlQW5vbWFseURldGVjdG9yUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFub21hbHlEZXRlY3RvckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZURhc2hib2FyZHNPdXRwdXQoZGF0YS5EZWxldGVEYXNoYm9hcmRzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjRGFzaGJvYXJkTm90Rm91bmRFcnJvclwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvclJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlSW5zaWdodFJ1bGVzT3V0cHV0KGRhdGEuRGVsZXRlSW5zaWdodFJ1bGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUluc2lnaHRSdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlTWV0cmljU3RyZWFtQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVNZXRyaWNTdHJlYW1PdXRwdXQoZGF0YS5EZWxldGVNZXRyaWNTdHJlYW1SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlTWV0cmljU3RyZWFtQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBbGFybUhpc3RvcnlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVzY3JpYmVBbGFybUhpc3RvcnlPdXRwdXQoZGF0YS5EZXNjcmliZUFsYXJtSGlzdG9yeVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUFsYXJtSGlzdG9yeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFsYXJtc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQWxhcm1zT3V0cHV0KGRhdGEuRGVzY3JpYmVBbGFybXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbGFybXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbGFybXNGb3JNZXRyaWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY091dHB1dChkYXRhLkRlc2NyaWJlQWxhcm1zRm9yTWV0cmljUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc091dHB1dChkYXRhLkRlc2NyaWJlQW5vbWFseURldGVjdG9yc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUluc2lnaHRSdWxlc091dHB1dChkYXRhLkRlc2NyaWJlSW5zaWdodFJ1bGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGlzYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGlzYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rpc2FibGVBbGFybUFjdGlvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rpc2FibGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rpc2FibGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EaXNhYmxlSW5zaWdodFJ1bGVzT3V0cHV0KGRhdGEuRGlzYWJsZUluc2lnaHRSdWxlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EaXNhYmxlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9FbmFibGVBbGFybUFjdGlvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0VuYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0VuYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRW5hYmxlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9FbmFibGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9FbmFibGVJbnNpZ2h0UnVsZXNPdXRwdXQoZGF0YS5FbmFibGVJbnNpZ2h0UnVsZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRW5hYmxlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXREYXNoYm9hcmRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXREYXNoYm9hcmRPdXRwdXQoZGF0YS5HZXREYXNoYm9hcmRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0RGFzaGJvYXJkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0Rhc2hib2FyZE5vdEZvdW5kRXJyb3JcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Rhc2hib2FyZE5vdEZvdW5kRXJyb3JSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SW5zaWdodFJ1bGVSZXBvcnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydE91dHB1dChkYXRhLkdldEluc2lnaHRSdWxlUmVwb3J0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEluc2lnaHRSdWxlUmVwb3J0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0TWV0cmljRGF0YUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0TWV0cmljRGF0YUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldE1ldHJpY0RhdGFPdXRwdXQoZGF0YS5HZXRNZXRyaWNEYXRhUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldE1ldHJpY0RhdGFDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0TWV0cmljU3RhdGlzdGljc091dHB1dChkYXRhLkdldE1ldHJpY1N0YXRpc3RpY3NSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljU3RhdGlzdGljc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldE1ldHJpY1N0cmVhbUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldE1ldHJpY1N0cmVhbU91dHB1dChkYXRhLkdldE1ldHJpY1N0cmVhbVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldE1ldHJpY1dpZGdldEltYWdlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldE1ldHJpY1dpZGdldEltYWdlT3V0cHV0KGRhdGEuR2V0TWV0cmljV2lkZ2V0SW1hZ2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljV2lkZ2V0SW1hZ2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3REYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3REYXNoYm9hcmRzT3V0cHV0KGRhdGEuTGlzdERhc2hib2FyZHNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNPdXRwdXQoZGF0YS5MaXN0TWFuYWdlZEluc2lnaHRSdWxlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RNZXRyaWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0TWV0cmljc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RNZXRyaWNzT3V0cHV0KGRhdGEuTGlzdE1ldHJpY3NSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdE1ldHJpY3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdE1ldHJpY1N0cmVhbXNPdXRwdXQoZGF0YS5MaXN0TWV0cmljU3RyZWFtc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0TWV0cmljU3RyZWFtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZU91dHB1dChkYXRhLkxpc3RUYWdzRm9yUmVzb3VyY2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0QW5vbWFseURldGVjdG9yQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JPdXRwdXQoZGF0YS5QdXRBbm9tYWx5RGV0ZWN0b3JSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0QW5vbWFseURldGVjdG9yQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0Q29tcG9zaXRlQWxhcm1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTGltaXRFeGNlZWRlZEZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dERhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dERhc2hib2FyZE91dHB1dChkYXRhLlB1dERhc2hib2FyZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXREYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJJbnB1dFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0Rhc2hib2FyZEludmFsaWRJbnB1dEVycm9yXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9EYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvclJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dEluc2lnaHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRJbnNpZ2h0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dEluc2lnaHRSdWxlT3V0cHV0KGRhdGEuUHV0SW5zaWdodFJ1bGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0SW5zaWdodFJ1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUHV0TWFuYWdlZEluc2lnaHRSdWxlc091dHB1dChkYXRhLlB1dE1hbmFnZWRJbnNpZ2h0UnVsZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0TWV0cmljQWxhcm1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dE1ldHJpY0FsYXJtQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWV0cmljQWxhcm1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0xpbWl0RXhjZWVkZWRGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0TWV0cmljRGF0YUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0TWV0cmljRGF0YUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dE1ldHJpY0RhdGFDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0TWV0cmljU3RyZWFtQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRNZXRyaWNTdHJlYW1PdXRwdXQoZGF0YS5QdXRNZXRyaWNTdHJlYW1SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWV0cmljU3RyZWFtQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRBbGFybVN0YXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRBbGFybVN0YXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0QWxhcm1TdGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRm9ybWF0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZEZvcm1hdEZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRm9ybWF0RmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRNZXRyaWNTdHJlYW1zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydE1ldHJpY1N0cmVhbXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TdGFydE1ldHJpY1N0cmVhbXNPdXRwdXQoZGF0YS5TdGFydE1ldHJpY1N0cmVhbXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RhcnRNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RvcE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0b3BNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU3RvcE1ldHJpY1N0cmVhbXNPdXRwdXQoZGF0YS5TdG9wTWV0cmljU3RyZWFtc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdG9wTWV0cmljU3RyZWFtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1RhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9UYWdSZXNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1RhZ1Jlc291cmNlT3V0cHV0KGRhdGEuVGFnUmVzb3VyY2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVGFnUmVzb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVW50YWdSZXNvdXJjZU91dHB1dChkYXRhLlVudGFnUmVzb3VyY2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVW50YWdSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3JSZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0Rhc2hib2FyZEludmFsaWRJbnB1dEVycm9yKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvcih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvclJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvcihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRGFzaGJvYXJkTm90Rm91bmRFcnJvcih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludGVybmFsU2VydmljZUZhdWx0KGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnRlcm5hbFNlcnZpY2VGYXVsdCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEZvcm1hdEZhdWx0UmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkRm9ybWF0RmF1bHQoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRGb3JtYXRGYXVsdCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZE5leHRUb2tlblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZE5leHRUb2tlbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZE5leHRUb2tlbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEZhdWx0UmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9MaW1pdEV4Y2VlZGVkRmF1bHQoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IExpbWl0RXhjZWVkZWRGYXVsdCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZFJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfUmVzb3VyY2VOb3RGb3VuZChib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3Qgc2VfQWxhcm1OYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9BbGFybVR5cGVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Fub21hbHlEZXRlY3RvckNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkV4Y2x1ZGVkVGltZVJhbmdlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMoaW5wdXQuRXhjbHVkZWRUaW1lUmFuZ2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4Y2x1ZGVkVGltZVJhbmdlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkV4Y2x1ZGVkVGltZVJhbmdlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4Y2x1ZGVkVGltZVJhbmdlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljVGltZXpvbmUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljVGltZXpvbmVcIl0gPSBpbnB1dC5NZXRyaWNUaW1lem9uZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQW5vbWFseURldGVjdG9yRXhjbHVkZWRUaW1lUmFuZ2VzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1JhbmdlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Bbm9tYWx5RGV0ZWN0b3JUeXBlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Db3VudHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGFzaGJvYXJkTmFtZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQWxhcm1zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWxhcm1OYW1lcyhpbnB1dC5BbGFybU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFsYXJtTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5BbGFybU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1OYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdFwiXSA9IGlucHV0LlN0YXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yKGlucHV0LlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3Rvci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yKGlucHV0Lk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNNYXRoQW5vbWFseURldGVjdG9yLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZURhc2hib2FyZHNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGFzaGJvYXJkTmFtZXMoaW5wdXQuRGFzaGJvYXJkTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EYXNoYm9hcmROYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERhc2hib2FyZE5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZUluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSW5zaWdodFJ1bGVOYW1lcyhpbnB1dC5SdWxlTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUnVsZU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUnVsZU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUnVsZU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZU1ldHJpY1N0cmVhbUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFsYXJtSGlzdG9yeUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lXCJdID0gaW5wdXQuQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybVR5cGVzKGlucHV0LkFsYXJtVHlwZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtVHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybVR5cGVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5IaXN0b3J5SXRlbVR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSGlzdG9yeUl0ZW1UeXBlXCJdID0gaW5wdXQuSGlzdG9yeUl0ZW1UeXBlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhcnREYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXJ0RGF0ZVwiXSA9IGlucHV0LlN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5kRGF0ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmREYXRlXCJdID0gaW5wdXQuRW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVjb3JkcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZWNvcmRzXCJdID0gaW5wdXQuTWF4UmVjb3JkcztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TY2FuQnkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2NhbkJ5XCJdID0gaW5wdXQuU2NhbkJ5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRpc3RpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0aXN0aWNcIl0gPSBpbnB1dC5TdGF0aXN0aWM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHRlbmRlZFN0YXRpc3RpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFeHRlbmRlZFN0YXRpc3RpY1wiXSA9IGlucHV0LkV4dGVuZGVkU3RhdGlzdGljO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QZXJpb2QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGVyaW9kXCJdID0gaW5wdXQuUGVyaW9kO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVBbGFybXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWxhcm1OYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybU5hbWVzKGlucHV0LkFsYXJtTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1OYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybU5hbWVQcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lUHJlZml4XCJdID0gaW5wdXQuQWxhcm1OYW1lUHJlZml4O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybVR5cGVzKGlucHV0LkFsYXJtVHlwZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtVHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybVR5cGVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5DaGlsZHJlbk9mQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNoaWxkcmVuT2ZBbGFybU5hbWVcIl0gPSBpbnB1dC5DaGlsZHJlbk9mQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGFyZW50c09mQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBhcmVudHNPZkFsYXJtTmFtZVwiXSA9IGlucHV0LlBhcmVudHNPZkFsYXJtTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGVWYWx1ZVwiXSA9IGlucHV0LlN0YXRlVmFsdWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb25QcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uUHJlZml4XCJdID0gaW5wdXQuQWN0aW9uUHJlZml4O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVjb3JkcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZWNvcmRzXCJdID0gaW5wdXQuTWF4UmVjb3JkcztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Bbm9tYWx5RGV0ZWN0b3JUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Bbm9tYWx5RGV0ZWN0b3JUeXBlcyhpbnB1dC5Bbm9tYWx5RGV0ZWN0b3JUeXBlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Bbm9tYWx5RGV0ZWN0b3JUeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFub21hbHlEZXRlY3RvclR5cGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQW5vbWFseURldGVjdG9yVHlwZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVJbnNpZ2h0UnVsZXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heFJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4UmVzdWx0c1wiXSA9IGlucHV0Lk1heFJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gaW5wdXQuVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbkZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gaW5wdXQuVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbkZpbHRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9uRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EaW1lbnNpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbihlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGlzYWJsZUFsYXJtQWN0aW9uc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtTmFtZXMoaW5wdXQuQWxhcm1OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1OYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGlzYWJsZUluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSW5zaWdodFJ1bGVOYW1lcyhpbnB1dC5SdWxlTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUnVsZU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUnVsZU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUnVsZU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0VuYWJsZUFsYXJtQWN0aW9uc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtTmFtZXMoaW5wdXQuQWxhcm1OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1OYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRW5hYmxlSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9JbnNpZ2h0UnVsZU5hbWVzKGlucHV0LlJ1bGVOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SdWxlTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SdWxlTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSdWxlTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRXh0ZW5kZWRTdGF0aXN0aWNzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldERhc2hib2FyZElucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EYXNoYm9hcmROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRhc2hib2FyZE5hbWVcIl0gPSBpbnB1dC5EYXNoYm9hcmROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydElucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlTmFtZVwiXSA9IGlucHV0LlJ1bGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhcnRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXJ0VGltZVwiXSA9IGlucHV0LlN0YXJ0VGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5kVGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmRUaW1lXCJdID0gaW5wdXQuRW5kVGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBlcmlvZFwiXSA9IGlucHV0LlBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heENvbnRyaWJ1dG9yQ291bnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4Q29udHJpYnV0b3JDb3VudFwiXSA9IGlucHV0Lk1heENvbnRyaWJ1dG9yQ291bnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0luc2lnaHRSdWxlTWV0cmljTGlzdChpbnB1dC5NZXRyaWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1ldHJpY3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NZXRyaWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuT3JkZXJCeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPcmRlckJ5XCJdID0gaW5wdXQuT3JkZXJCeTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0TWV0cmljRGF0YUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNEYXRhUXVlcmllcyhpbnB1dC5NZXRyaWNEYXRhUXVlcmllcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY0RhdGFRdWVyaWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljRGF0YVF1ZXJpZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXJ0VGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGFydFRpbWVcIl0gPSBpbnB1dC5TdGFydFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuZFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5kVGltZVwiXSA9IGlucHV0LkVuZFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TY2FuQnkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2NhbkJ5XCJdID0gaW5wdXQuU2NhbkJ5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4RGF0YXBvaW50cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhEYXRhcG9pbnRzXCJdID0gaW5wdXQuTWF4RGF0YXBvaW50cztcbiAgICB9XG4gICAgaWYgKGlucHV0LkxhYmVsT3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9MYWJlbE9wdGlvbnMoaW5wdXQuTGFiZWxPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTGFiZWxPcHRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldE1ldHJpY1N0YXRpc3RpY3NJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXJ0VGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGFydFRpbWVcIl0gPSBpbnB1dC5TdGFydFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuZFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5kVGltZVwiXSA9IGlucHV0LkVuZFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQZXJpb2RcIl0gPSBpbnB1dC5QZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1N0YXRpc3RpY3MoaW5wdXQuU3RhdGlzdGljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuU3RhdGlzdGljcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFN0YXRpc3RpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4dGVuZGVkU3RhdGlzdGljcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FeHRlbmRlZFN0YXRpc3RpY3MoaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4dGVuZGVkU3RhdGlzdGljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkV4dGVuZGVkU3RhdGlzdGljcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4dGVuZGVkU3RhdGlzdGljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0TWV0cmljU3RyZWFtSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldE1ldHJpY1dpZGdldEltYWdlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY1dpZGdldCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNXaWRnZXRcIl0gPSBpbnB1dC5NZXRyaWNXaWRnZXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PdXRwdXRGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3V0cHV0Rm9ybWF0XCJdID0gaW5wdXQuT3V0cHV0Rm9ybWF0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9JbnNpZ2h0UnVsZU1ldHJpY0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfSW5zaWdodFJ1bGVOYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MYWJlbE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRpbWV6b25lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRpbWV6b25lXCJdID0gaW5wdXQuVGltZXpvbmU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3REYXNoYm9hcmRzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRhc2hib2FyZE5hbWVQcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGFzaGJvYXJkTmFtZVByZWZpeFwiXSA9IGlucHV0LkRhc2hib2FyZE5hbWVQcmVmaXg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heFJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4UmVzdWx0c1wiXSA9IGlucHV0Lk1heFJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RNZXRyaWNzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25GaWx0ZXJzKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVjZW50bHlBY3RpdmUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVjZW50bHlBY3RpdmVcIl0gPSBpbnB1dC5SZWNlbnRseUFjdGl2ZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJbmNsdWRlTGlua2VkQWNjb3VudHNcIl0gPSBpbnB1dC5JbmNsdWRlTGlua2VkQWNjb3VudHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Pd25pbmdBY2NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk93bmluZ0FjY291bnRcIl0gPSBpbnB1dC5Pd25pbmdBY2NvdW50O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0TWV0cmljU3RyZWFtc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdFRhZ3NGb3JSZXNvdXJjZUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NYW5hZ2VkUnVsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlc291cmNlQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlc291cmNlQVJOXCJdID0gaW5wdXQuUmVzb3VyY2VBUk47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWFuYWdlZFJ1bGVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01hbmFnZWRSdWxlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY0RhdGEgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljRGF0dW0oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY0RhdGFRdWVyaWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY0RhdGFRdWVyeShlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljRGF0YVF1ZXJ5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZFwiXSA9IGlucHV0LklkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljU3RhdCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdGF0KGlucHV0Lk1ldHJpY1N0YXQsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNTdGF0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHByZXNzaW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV4cHJlc3Npb25cIl0gPSBpbnB1dC5FeHByZXNzaW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFiZWwgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTGFiZWxcIl0gPSBpbnB1dC5MYWJlbDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVybkRhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuRGF0YVwiXSA9IGlucHV0LlJldHVybkRhdGE7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QZXJpb2QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGVyaW9kXCJdID0gaW5wdXQuUGVyaW9kO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWNjb3VudElkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjY291bnRJZFwiXSA9IGlucHV0LkFjY291bnRJZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljRGF0dW0gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUaW1lc3RhbXBcIl0gPSBpbnB1dC5UaW1lc3RhbXAudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5WYWx1ZSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWNWYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU3RhdGlzdGljU2V0KGlucHV0LlN0YXRpc3RpY1ZhbHVlcywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFN0YXRpc3RpY1ZhbHVlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1ZhbHVlcyhpbnB1dC5WYWx1ZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVmFsdWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVmFsdWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVmFsdWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db3VudHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ291bnRzKGlucHV0LkNvdW50cywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Db3VudHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Db3VudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDb3VudHMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlVuaXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVW5pdFwiXSA9IGlucHV0LlVuaXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdG9yYWdlUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdG9yYWdlUmVzb2x1dGlvblwiXSA9IGlucHV0LlN0b3JhZ2VSZXNvbHV0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNEYXRhUXVlcmllcyhpbnB1dC5NZXRyaWNEYXRhUXVlcmllcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY0RhdGFRdWVyaWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljRGF0YVF1ZXJpZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RhdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTWV0cmljICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpYyhpbnB1dC5NZXRyaWMsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQZXJpb2RcIl0gPSBpbnB1dC5QZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRcIl0gPSBpbnB1dC5TdGF0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtRmlsdGVyTWV0cmljTmFtZXMoaW5wdXQuTWV0cmljTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWV0cmljTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NZXRyaWNOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1ldHJpY05hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbUZpbHRlck1ldHJpY05hbWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbUZpbHRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1OYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQWRkaXRpb25hbFN0YXRpc3RpY3MgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkluY2x1ZGVNZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NJbmNsdWRlTWV0cmljcyhpbnB1dC5JbmNsdWRlTWV0cmljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5JbmNsdWRlTWV0cmljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkluY2x1ZGVNZXRyaWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSW5jbHVkZU1ldHJpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFkZGl0aW9uYWxTdGF0aXN0aWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NBZGRpdGlvbmFsU3RhdGlzdGljcyhpbnB1dC5BZGRpdGlvbmFsU3RhdGlzdGljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BZGRpdGlvbmFsU3RhdGlzdGljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFkZGl0aW9uYWxTdGF0aXN0aWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWRkaXRpb25hbFN0YXRpc3RpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzSW5jbHVkZU1ldHJpY3MgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc01ldHJpYyhlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc01ldHJpYyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dEFub21hbHlEZXRlY3RvcklucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0XCJdID0gaW5wdXQuU3RhdDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQW5vbWFseURldGVjdG9yQ29uZmlndXJhdGlvbihpbnB1dC5Db25maWd1cmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ29uZmlndXJhdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1NpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvcihpbnB1dC5TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljTWF0aEFub21hbHlEZXRlY3RvcihpbnB1dC5NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljTWF0aEFub21hbHlEZXRlY3Rvci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRDb21wb3NpdGVBbGFybUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BY3Rpb25zRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zRW5hYmxlZFwiXSA9IGlucHV0LkFjdGlvbnNFbmFibGVkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1BY3Rpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1Jlc291cmNlTGlzdChpbnB1dC5BbGFybUFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1BY3Rpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1BY3Rpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1BY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtRGVzY3JpcHRpb25cIl0gPSBpbnB1dC5BbGFybURlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtTmFtZVwiXSA9IGlucHV0LkFsYXJtTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFsYXJtUnVsZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybVJ1bGVcIl0gPSBpbnB1dC5BbGFybVJ1bGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEluc3VmZmljaWVudERhdGFBY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PS0FjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0Lk9LQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5PS0FjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5PS0FjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBPS0FjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWN0aW9uc1N1cHByZXNzb3IgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uc1N1cHByZXNzb3JcIl0gPSBpbnB1dC5BY3Rpb25zU3VwcHJlc3NvcjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zU3VwcHJlc3NvcldhaXRQZXJpb2RcIl0gPSBpbnB1dC5BY3Rpb25zU3VwcHJlc3NvcldhaXRQZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZFwiXSA9IGlucHV0LkFjdGlvbnNTdXBwcmVzc29yRXh0ZW5zaW9uUGVyaW9kO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXREYXNoYm9hcmRJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXNoYm9hcmROYW1lXCJdID0gaW5wdXQuRGFzaGJvYXJkTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRhc2hib2FyZEJvZHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGFzaGJvYXJkQm9keVwiXSA9IGlucHV0LkRhc2hib2FyZEJvZHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dEluc2lnaHRSdWxlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVOYW1lXCJdID0gaW5wdXQuUnVsZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVN0YXRlXCJdID0gaW5wdXQuUnVsZVN0YXRlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUnVsZURlZmluaXRpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZURlZmluaXRpb25cIl0gPSBpbnB1dC5SdWxlRGVmaW5pdGlvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1hbmFnZWRSdWxlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NYW5hZ2VkUnVsZXMoaW5wdXQuTWFuYWdlZFJ1bGVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1hbmFnZWRSdWxlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1hbmFnZWRSdWxlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1hbmFnZWRSdWxlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRNZXRyaWNBbGFybUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lXCJdID0gaW5wdXQuQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybURlc2NyaXB0aW9uXCJdID0gaW5wdXQuQWxhcm1EZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnNFbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjdGlvbnNFbmFibGVkXCJdID0gaW5wdXQuQWN0aW9uc0VuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PS0FjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0Lk9LQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5PS0FjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5PS0FjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBPS0FjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFsYXJtQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuQWxhcm1BY3Rpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFsYXJtQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtQWN0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJbnN1ZmZpY2llbnREYXRhQWN0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGlzdGljXCJdID0gaW5wdXQuU3RhdGlzdGljO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXh0ZW5kZWRTdGF0aXN0aWNcIl0gPSBpbnB1dC5FeHRlbmRlZFN0YXRpc3RpYztcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBlcmlvZFwiXSA9IGlucHV0LlBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlVuaXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVW5pdFwiXSA9IGlucHV0LlVuaXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmFsdWF0aW9uUGVyaW9kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFdmFsdWF0aW9uUGVyaW9kc1wiXSA9IGlucHV0LkV2YWx1YXRpb25QZXJpb2RzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGF0YXBvaW50c1RvQWxhcm0gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGF0YXBvaW50c1RvQWxhcm1cIl0gPSBpbnB1dC5EYXRhcG9pbnRzVG9BbGFybTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUaHJlc2hvbGRcIl0gPSBfX3NlcmlhbGl6ZUZsb2F0KGlucHV0LlRocmVzaG9sZCk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db21wYXJpc29uT3BlcmF0b3IgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29tcGFyaXNvbk9wZXJhdG9yXCJdID0gaW5wdXQuQ29tcGFyaXNvbk9wZXJhdG9yO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVHJlYXRNaXNzaW5nRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUcmVhdE1pc3NpbmdEYXRhXCJdID0gaW5wdXQuVHJlYXRNaXNzaW5nRGF0YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlXCJdID0gaW5wdXQuRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY0RhdGFRdWVyaWVzKGlucHV0Lk1ldHJpY3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWV0cmljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRocmVzaG9sZE1ldHJpY0lkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRocmVzaG9sZE1ldHJpY0lkXCJdID0gaW5wdXQuVGhyZXNob2xkTWV0cmljSWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dE1ldHJpY0RhdGFJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY0RhdGEgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljRGF0YShpbnB1dC5NZXRyaWNEYXRhLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1ldHJpY0RhdGE/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NZXRyaWNEYXRhID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljRGF0YS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRNZXRyaWNTdHJlYW1JbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkluY2x1ZGVGaWx0ZXJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbUZpbHRlcnMoaW5wdXQuSW5jbHVkZUZpbHRlcnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSW5jbHVkZUZpbHRlcnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JbmNsdWRlRmlsdGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEluY2x1ZGVGaWx0ZXJzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeGNsdWRlRmlsdGVycyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1GaWx0ZXJzKGlucHV0LkV4Y2x1ZGVGaWx0ZXJzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4Y2x1ZGVGaWx0ZXJzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXhjbHVkZUZpbHRlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBFeGNsdWRlRmlsdGVycy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRmlyZWhvc2VBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRmlyZWhvc2VBcm5cIl0gPSBpbnB1dC5GaXJlaG9zZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJvbGVBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUm9sZUFyblwiXSA9IGlucHV0LlJvbGVBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5PdXRwdXRGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3V0cHV0Rm9ybWF0XCJdID0gaW5wdXQuT3V0cHV0Rm9ybWF0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zKGlucHV0LlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljc1wiXSA9IGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3M7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JhbmdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5TdGFydFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhcnRUaW1lXCJdID0gaW5wdXQuU3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuZFRpbWVcIl0gPSBpbnB1dC5FbmRUaW1lLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1Jlc291cmNlTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRBbGFybVN0YXRlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybU5hbWVcIl0gPSBpbnB1dC5BbGFybU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0ZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRlVmFsdWVcIl0gPSBpbnB1dC5TdGF0ZVZhbHVlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdGVSZWFzb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGVSZWFzb25cIl0gPSBpbnB1dC5TdGF0ZVJlYXNvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRlUmVhc29uRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0ZVJlYXNvbkRhdGFcIl0gPSBpbnB1dC5TdGF0ZVJlYXNvbkRhdGE7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdFwiXSA9IGlucHV0LlN0YXQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1N0YXJ0TWV0cmljU3RyZWFtc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1OYW1lcyhpbnB1dC5OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5OYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU3RhdGlzdGljcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TdGF0aXN0aWNTZXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNhbXBsZUNvdW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNhbXBsZUNvdW50XCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5TYW1wbGVDb3VudCk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdW0gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3VtXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5TdW0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWluaW11bSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNaW5pbXVtXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5NaW5pbXVtKTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heGltdW0gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4aW11bVwiXSA9IF9fc2VyaWFsaXplRmxvYXQoaW5wdXQuTWF4aW11bSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1N0b3BNZXRyaWNTdHJlYW1zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbU5hbWVzKGlucHV0Lk5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UYWcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LktleSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJLZXlcIl0gPSBpbnB1dC5LZXk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5WYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJWYWx1ZVwiXSA9IGlucHV0LlZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UYWdLZXlMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RhZ0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UYWdSZXNvdXJjZUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VudGFnUmVzb3VyY2VJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUmVzb3VyY2VBUk4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVzb3VyY2VBUk5cIl0gPSBpbnB1dC5SZXNvdXJjZUFSTjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ0tleXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnS2V5TGlzdChpbnB1dC5UYWdLZXlzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ0tleXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdLZXlzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFnS2V5cy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3QgZGVfQWxhcm1IaXN0b3J5SXRlbSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBbGFybU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1UeXBlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1UeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhpc3RvcnlJdGVtVHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhpc3RvcnlJdGVtVHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkhpc3RvcnlJdGVtVHlwZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIaXN0b3J5U3VtbWFyeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhpc3RvcnlTdW1tYXJ5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGlzdG9yeVN1bW1hcnlcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSGlzdG9yeURhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IaXN0b3J5RGF0YSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkhpc3RvcnlEYXRhXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0FsYXJtSGlzdG9yeUl0ZW1zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9BbGFybUhpc3RvcnlJdGVtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZXNwYWNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZXNwYWNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZXNwYWNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWV0cmljTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGltZW5zaW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRpbWVuc2lvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IGRlX0RpbWVuc2lvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb24gPSBkZV9Bbm9tYWx5RGV0ZWN0b3JDb25maWd1cmF0aW9uKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciA9IGRlX1NpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvcihvdXRwdXRbXCJTaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3JcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWV0cmljTWF0aEFub21hbHlEZXRlY3RvclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IgPSBkZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yKG91dHB1dFtcIk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3JcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQW5vbWFseURldGVjdG9yQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRXhjbHVkZWRUaW1lUmFuZ2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4Y2x1ZGVkVGltZVJhbmdlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFeGNsdWRlZFRpbWVSYW5nZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFeGNsdWRlZFRpbWVSYW5nZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FeGNsdWRlZFRpbWVSYW5nZXMgPSBkZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJFeGNsdWRlZFRpbWVSYW5nZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY1RpbWV6b25lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljVGltZXpvbmUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXRyaWNUaW1lem9uZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1JhbmdlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3JzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Bbm9tYWx5RGV0ZWN0b3IoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JhdGNoRmFpbHVyZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1BhcnRpYWxGYWlsdXJlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21wb3NpdGVBbGFybSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBY3Rpb25zRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiQWN0aW9uc0VuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkFsYXJtQWN0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BbGFybUFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1BY3Rpb25zID0gZGVfUmVzb3VyY2VMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1Bcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1EZXNjcmlwdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtRGVzY3JpcHRpb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybURlc2NyaXB0aW9uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybVJ1bGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybVJ1bGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybVJ1bGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuT0tBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk9LQWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJPS0FjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PS0FjdGlvbnMgPSBkZV9SZXNvdXJjZUxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlUmVhc29uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVSZWFzb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVJlYXNvblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVJlYXNvbkRhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVJlYXNvbkRhdGEgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVJlYXNvbkRhdGFcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVVcGRhdGVkVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlN0YXRlVXBkYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlVHJhbnNpdGlvbmVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc2VkQnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zU3VwcHJlc3NlZEJ5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzZWRCeVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NlZFJlYXNvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc2VkUmVhc29uID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzZWRSZWFzb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzb3JcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zU3VwcHJlc3NvciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc29yXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZCA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NvcldhaXRQZXJpb2RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzb3JFeHRlbnNpb25QZXJpb2RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZCA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Db21wb3NpdGVBbGFybXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0NvbXBvc2l0ZUFsYXJtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRFbnRyaWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXNoYm9hcmRFbnRyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkRW50cnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRGFzaGJvYXJkTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEYXNoYm9hcmROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZEFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0TW9kaWZpZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYXN0TW9kaWZpZWQgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiTGFzdE1vZGlmaWVkXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTaXplXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2l6ZSA9IF9fc3RyaWN0UGFyc2VMb25nKG91dHB1dFtcIlNpemVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5kYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcImRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcImRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9IGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcImRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRGF0YVBhdGhcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EYXRhUGF0aCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhdGFQYXRoXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhcG9pbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU2FtcGxlQ291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TYW1wbGVDb3VudCA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJTYW1wbGVDb3VudFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBdmVyYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXZlcmFnZSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJBdmVyYWdlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1bVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJTdW1cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWluaW11bVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1pbmltdW0gPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWluaW11bVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNYXhpbXVtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF4aW11bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNYXhpbXVtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlVuaXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Vbml0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVW5pdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRXh0ZW5kZWRTdGF0aXN0aWNzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4dGVuZGVkU3RhdGlzdGljcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY3NcIl1bXCJlbnRyeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4dGVuZGVkU3RhdGlzdGljcyA9IGRlX0RhdGFwb2ludFZhbHVlTWFwKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRXh0ZW5kZWRTdGF0aXN0aWNzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RhdGFwb2ludHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RhdGFwb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YXBvaW50VmFsdWVNYXAgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIG91dHB1dC5yZWR1Y2UoKGFjYywgcGFpcikgPT4ge1xuICAgICAgICBpZiAocGFpcltcInZhbHVlXCJdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1twYWlyW1wia2V5XCJdXSA9IF9fc3RyaWN0UGFyc2VGbG9hdChwYWlyW1widmFsdWVcIl0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9EYXRhcG9pbnRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc3RyaWN0UGFyc2VGbG9hdChlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVsZXRlQW5vbWFseURldGVjdG9yT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhc2hib2FyZHNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5GYWlsdXJlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJGYWlsdXJlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBkZV9CYXRjaEZhaWx1cmVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZU1ldHJpY1N0cmVhbU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFsYXJtSGlzdG9yeU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuQWxhcm1IaXN0b3J5SXRlbXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1IaXN0b3J5SXRlbXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQWxhcm1IaXN0b3J5SXRlbXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJBbGFybUhpc3RvcnlJdGVtc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtSGlzdG9yeUl0ZW1zID0gZGVfQWxhcm1IaXN0b3J5SXRlbXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJBbGFybUhpc3RvcnlJdGVtc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NZXRyaWNBbGFybXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljQWxhcm1zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0FsYXJtcyA9IGRlX01ldHJpY0FsYXJtcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbGFybXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkNvbXBvc2l0ZUFsYXJtcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Db21wb3NpdGVBbGFybXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQ29tcG9zaXRlQWxhcm1zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQ29tcG9zaXRlQWxhcm1zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29tcG9zaXRlQWxhcm1zID0gZGVfQ29tcG9zaXRlQWxhcm1zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQ29tcG9zaXRlQWxhcm1zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWV0cmljQWxhcm1zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0FsYXJtcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNBbGFybXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNBbGFybXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNBbGFybXMgPSBkZV9NZXRyaWNBbGFybXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNBbGFybXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkFub21hbHlEZXRlY3RvcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQW5vbWFseURldGVjdG9ycyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJBbm9tYWx5RGV0ZWN0b3JzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQW5vbWFseURldGVjdG9yc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFub21hbHlEZXRlY3RvcnMgPSBkZV9Bbm9tYWx5RGV0ZWN0b3JzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQW5vbWFseURldGVjdG9yc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuSW5zaWdodFJ1bGVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc2lnaHRSdWxlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJJbnNpZ2h0UnVsZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJbnNpZ2h0UnVsZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnNpZ2h0UnVsZXMgPSBkZV9JbnNpZ2h0UnVsZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJJbnNpZ2h0UnVsZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RpbWVuc2lvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RpbWVuc2lvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RpbWVuc2lvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGlzYWJsZUluc2lnaHRSdWxlc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmFpbHVyZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRmFpbHVyZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gZGVfQmF0Y2hGYWlsdXJlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9FbmFibGVJbnNpZ2h0UnVsZXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkZhaWx1cmVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkZhaWx1cmVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IGRlX0JhdGNoRmFpbHVyZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0RGFzaGJvYXJkT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZEFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEYXNoYm9hcmRCb2R5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkQm9keSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZEJvZHlcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGFzaGJvYXJkTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEYXNoYm9hcmROYW1lXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldEluc2lnaHRSdWxlUmVwb3J0T3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5LZXlMYWJlbHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuS2V5TGFiZWxzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIktleUxhYmVsc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIktleUxhYmVsc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLktleUxhYmVscyA9IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JLZXlMYWJlbHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJLZXlMYWJlbHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFnZ3JlZ2F0aW9uU3RhdGlzdGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWdncmVnYXRpb25TdGF0aXN0aWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBZ2dyZWdhdGlvblN0YXRpc3RpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBZ2dyZWdhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFnZ3JlZ2F0ZVZhbHVlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkFnZ3JlZ2F0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFwcHJveGltYXRlVW5pcXVlQ291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BcHByb3hpbWF0ZVVuaXF1ZUNvdW50ID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiQXBwcm94aW1hdGVVbmlxdWVDb3VudFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuQ29udHJpYnV0b3JzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbnRyaWJ1dG9ycyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJDb250cmlidXRvcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJDb250cmlidXRvcnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db250cmlidXRvcnMgPSBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9ycyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkNvbnRyaWJ1dG9yc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1ldHJpY0RhdGFwb2ludHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YXBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNEYXRhcG9pbnRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljRGF0YXBvaW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0RhdGFwb2ludHMgPSBkZV9JbnNpZ2h0UnVsZU1ldHJpY0RhdGFwb2ludHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNEYXRhT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NZXRyaWNEYXRhUmVzdWx0cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNEYXRhUmVzdWx0cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNEYXRhUmVzdWx0c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1ldHJpY0RhdGFSZXN1bHRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YVJlc3VsdHMgPSBkZV9NZXRyaWNEYXRhUmVzdWx0cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0RhdGFSZXN1bHRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1lc3NhZ2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1lc3NhZ2VzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWVzc2FnZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlcyA9IGRlX01ldHJpY0RhdGFSZXN1bHRNZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkxhYmVsXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTGFiZWwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJMYWJlbFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGF0YXBvaW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EYXRhcG9pbnRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRhdGFwb2ludHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGF0YXBvaW50cyA9IGRlX0RhdGFwb2ludHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdHJlYW1PdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuSW5jbHVkZUZpbHRlcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZUZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSW5jbHVkZUZpbHRlcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJbmNsdWRlRmlsdGVyc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluY2x1ZGVGaWx0ZXJzID0gZGVfTWV0cmljU3RyZWFtRmlsdGVycyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluY2x1ZGVGaWx0ZXJzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRXhjbHVkZUZpbHRlcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRXhjbHVkZUZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRXhjbHVkZUZpbHRlcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFeGNsdWRlRmlsdGVyc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4Y2x1ZGVGaWx0ZXJzID0gZGVfTWV0cmljU3RyZWFtRmlsdGVycyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkV4Y2x1ZGVGaWx0ZXJzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGaXJlaG9zZUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZpcmVob3NlQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmlyZWhvc2VBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUm9sZUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJvbGVBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJSb2xlQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDcmVhdGlvbkRhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVhdGlvbkRhdGUgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQ3JlYXRpb25EYXRlXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0VXBkYXRlRGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhc3RVcGRhdGVEYXRlID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkxhc3RVcGRhdGVEYXRlXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJPdXRwdXRGb3JtYXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PdXRwdXRGb3JtYXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJPdXRwdXRGb3JtYXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID0gZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJJbmNsdWRlTGlua2VkQWNjb3VudHNNZXRyaWNzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljcyA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3NcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljV2lkZ2V0SW1hZ2VPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWV0cmljV2lkZ2V0SW1hZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNXaWRnZXRJbWFnZSA9IGNvbnRleHQuYmFzZTY0RGVjb2RlcihvdXRwdXRbXCJNZXRyaWNXaWRnZXRJbWFnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNjaGVtYVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNjaGVtYSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNjaGVtYVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWZpbml0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGVmaW5pdGlvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRlZmluaXRpb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWFuYWdlZFJ1bGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYW5hZ2VkUnVsZSA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIk1hbmFnZWRSdWxlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LktleXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuS2V5cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJLZXlzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiS2V5c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLktleXMgPSBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yS2V5cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIktleXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFwcHJveGltYXRlQWdncmVnYXRlVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BcHByb3hpbWF0ZUFnZ3JlZ2F0ZVZhbHVlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkFwcHJveGltYXRlQWdncmVnYXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRhdGFwb2ludHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGF0YXBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEYXRhcG9pbnRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGF0YXBvaW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhdGFwb2ludHMgPSBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yRGF0YXBvaW50cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRhdGFwb2ludHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JEYXRhcG9pbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXBwcm94aW1hdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFwcHJveGltYXRlVmFsdWUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiQXBwcm94aW1hdGVWYWx1ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yRGF0YXBvaW50cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfSW5zaWdodFJ1bGVDb250cmlidXRvckRhdGFwb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcktleUxhYmVscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JLZXlzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3IoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlTWV0cmljRGF0YXBvaW50ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlVuaXF1ZUNvbnRyaWJ1dG9yc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVuaXF1ZUNvbnRyaWJ1dG9ycyA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJVbmlxdWVDb250cmlidXRvcnNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWF4Q29udHJpYnV0b3JWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heENvbnRyaWJ1dG9yVmFsdWUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWF4Q29udHJpYnV0b3JWYWx1ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTYW1wbGVDb3VudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNhbXBsZUNvdW50ID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlNhbXBsZUNvdW50XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkF2ZXJhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BdmVyYWdlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkF2ZXJhZ2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3VtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3VtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlN1bVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNaW5pbXVtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWluaW11bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNaW5pbXVtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1heGltdW1cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYXhpbXVtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIk1heGltdW1cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVNZXRyaWNEYXRhcG9pbnRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbnNpZ2h0UnVsZU1ldHJpY0RhdGFwb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbnNpZ2h0UnVsZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRGb3JtYXRGYXVsdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZE5leHRUb2tlbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRGYXVsdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZHNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkRhc2hib2FyZEVudHJpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkRW50cmllcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEYXNoYm9hcmRFbnRyaWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGFzaGJvYXJkRW50cmllc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZEVudHJpZXMgPSBkZV9EYXNoYm9hcmRFbnRyaWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGFzaGJvYXJkRW50cmllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NYW5hZ2VkUnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWFuYWdlZFJ1bGVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1hbmFnZWRSdWxlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1hbmFnZWRSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1hbmFnZWRSdWxlcyA9IGRlX01hbmFnZWRSdWxlRGVzY3JpcHRpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWFuYWdlZFJ1bGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdE1ldHJpY3NPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1ldHJpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY3MgPSBkZV9NZXRyaWNzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Pd25pbmdBY2NvdW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Pd25pbmdBY2NvdW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJPd25pbmdBY2NvdW50c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk93bmluZ0FjY291bnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT3duaW5nQWNjb3VudHMgPSBkZV9Pd25pbmdBY2NvdW50cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk93bmluZ0FjY291bnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0TWV0cmljU3RyZWFtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkVudHJpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRW50cmllcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFbnRyaWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRW50cmllc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkVudHJpZXMgPSBkZV9NZXRyaWNTdHJlYW1FbnRyaWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRW50cmllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuVGFncyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5UYWdzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlRhZ3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJUYWdzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGFncyA9IGRlX1RhZ0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJUYWdzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NYW5hZ2VkUnVsZURlc2NyaXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJSZXNvdXJjZUFSTlwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlc291cmNlQVJOID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVzb3VyY2VBUk5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUnVsZVN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZVN0YXRlID0gZGVfTWFuYWdlZFJ1bGVTdGF0ZShvdXRwdXRbXCJSdWxlU3RhdGVcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWFuYWdlZFJ1bGVEZXNjcmlwdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01hbmFnZWRSdWxlRGVzY3JpcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01hbmFnZWRSdWxlU3RhdGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUnVsZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SdWxlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlJ1bGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXNzYWdlRGF0YSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpYyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lc3BhY2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lc3BhY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lc3BhY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWV0cmljTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY05hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXRyaWNOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5EaW1lbnNpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGltZW5zaW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRpbWVuc2lvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gZGVfRGltZW5zaW9ucyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRpbWVuc2lvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY0FsYXJtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1Bcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1EZXNjcmlwdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtRGVzY3JpcHRpb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybURlc2NyaXB0aW9uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybUNvbmZpZ3VyYXRpb25VcGRhdGVkVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9uc0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJBY3Rpb25zRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuT0tBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk9LQWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJPS0FjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PS0FjdGlvbnMgPSBkZV9SZXNvdXJjZUxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5BbGFybUFjdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1BY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkFsYXJtQWN0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkFsYXJtQWN0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkFsYXJtQWN0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVWYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVSZWFzb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVJlYXNvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlUmVhc29uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlUmVhc29uRGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlUmVhc29uRGF0YSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlUmVhc29uRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVVwZGF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZXNwYWNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZXNwYWNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZXNwYWNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRpc3RpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRpc3RpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRpc3RpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4dGVuZGVkU3RhdGlzdGljID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXh0ZW5kZWRTdGF0aXN0aWNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRpbWVuc2lvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEaW1lbnNpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBkZV9EaW1lbnNpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGVyaW9kXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGVyaW9kID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBlcmlvZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJVbml0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVW5pdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlVuaXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZhbHVhdGlvblBlcmlvZHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmFsdWF0aW9uUGVyaW9kcyA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJFdmFsdWF0aW9uUGVyaW9kc1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEYXRhcG9pbnRzVG9BbGFybVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhdGFwb2ludHNUb0FsYXJtID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIkRhdGFwb2ludHNUb0FsYXJtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRocmVzaG9sZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRocmVzaG9sZCA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJUaHJlc2hvbGRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ29tcGFyaXNvbk9wZXJhdG9yXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29tcGFyaXNvbk9wZXJhdG9yID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29tcGFyaXNvbk9wZXJhdG9yXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRyZWF0TWlzc2luZ0RhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UcmVhdE1pc3NpbmdEYXRhID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVHJlYXRNaXNzaW5nRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmFsdWF0ZUxvd1NhbXBsZUNvdW50UGVyY2VudGlsZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1ldHJpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY3MgPSBkZV9NZXRyaWNEYXRhUXVlcmllcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY3NcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRocmVzaG9sZE1ldHJpY0lkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGhyZXNob2xkTWV0cmljSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUaHJlc2hvbGRNZXRyaWNJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmFsdWF0aW9uU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmFsdWF0aW9uU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmFsdWF0aW9uU3RhdGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJTdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljQWxhcm1zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNBbGFybShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljRGF0YVF1ZXJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY0RhdGFRdWVyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljRGF0YVF1ZXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIklkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljU3RhdCA9IGRlX01ldHJpY1N0YXQob3V0cHV0W1wiTWV0cmljU3RhdFwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFeHByZXNzaW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXhwcmVzc2lvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV4cHJlc3Npb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTGFiZWxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYWJlbCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkxhYmVsXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJldHVybkRhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZXR1cm5EYXRhID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiUmV0dXJuRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQZXJpb2RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QZXJpb2QgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGVyaW9kXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjY291bnRJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjY291bnRJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY291bnRJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUmVzdWx0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIklkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYWJlbFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhYmVsID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTGFiZWxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlRpbWVzdGFtcHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJUaW1lc3RhbXBzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiVGltZXN0YW1wc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcHMgPSBkZV9UaW1lc3RhbXBzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVGltZXN0YW1wc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlZhbHVlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5WYWx1ZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiVmFsdWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiVmFsdWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmFsdWVzID0gZGVfRGF0YXBvaW50VmFsdWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVmFsdWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0dXNDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdHVzQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXR1c0NvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1lc3NhZ2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1lc3NhZ2VzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWVzc2FnZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlcyA9IGRlX01ldHJpY0RhdGFSZXN1bHRNZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUmVzdWx0TWVzc2FnZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lc3NhZ2VEYXRhKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUmVzdWx0cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljRGF0YVJlc3VsdChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuTWV0cmljRGF0YVF1ZXJpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YVF1ZXJpZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWV0cmljRGF0YVF1ZXJpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNEYXRhUXVlcmllc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0RhdGFRdWVyaWVzID0gZGVfTWV0cmljRGF0YVF1ZXJpZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNEYXRhUXVlcmllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdGF0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpYyA9IGRlX01ldHJpYyhvdXRwdXRbXCJNZXRyaWNcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGVyaW9kXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGVyaW9kID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBlcmlvZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVW5pdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVuaXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJVbml0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUVudHJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY1N0cmVhbUVudHJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1FbnRyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ3JlYXRpb25EYXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlYXRpb25EYXRlID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkNyZWF0aW9uRGF0ZVwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTGFzdFVwZGF0ZURhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYXN0VXBkYXRlRGF0ZSA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJMYXN0VXBkYXRlRGF0ZVwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZpcmVob3NlQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmlyZWhvc2VBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGaXJlaG9zZUFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiT3V0cHV0Rm9ybWF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT3V0cHV0Rm9ybWF0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiT3V0cHV0Rm9ybWF0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lc3BhY2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lc3BhY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lc3BhY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1ldHJpY05hbWVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY05hbWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljTmFtZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lcyA9IGRlX01ldHJpY1N0cmVhbUZpbHRlck1ldHJpY05hbWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljTmFtZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUZpbHRlck1ldHJpY05hbWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtRmlsdGVycyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljU3RyZWFtRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQWRkaXRpb25hbFN0YXRpc3RpY3MgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuSW5jbHVkZU1ldHJpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZU1ldHJpY3MgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSW5jbHVkZU1ldHJpY3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJbmNsdWRlTWV0cmljc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluY2x1ZGVNZXRyaWNzID0gZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0luY2x1ZGVNZXRyaWNzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiSW5jbHVkZU1ldHJpY3NcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5BZGRpdGlvbmFsU3RhdGlzdGljcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BZGRpdGlvbmFsU3RhdGlzdGljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJBZGRpdGlvbmFsU3RhdGlzdGljc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkFkZGl0aW9uYWxTdGF0aXN0aWNzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWRkaXRpb25hbFN0YXRpc3RpY3MgPSBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQWRkaXRpb25hbFN0YXRpc3RpY3MoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJBZGRpdGlvbmFsU3RhdGlzdGljc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0luY2x1ZGVNZXRyaWNzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzTWV0cmljKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzTWV0cmljID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVzcGFjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVzcGFjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVzcGFjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Pd25pbmdBY2NvdW50cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BhcnRpYWxGYWlsdXJlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkZhaWx1cmVSZXNvdXJjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVSZXNvdXJjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZhaWx1cmVSZXNvdXJjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFeGNlcHRpb25UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXhjZXB0aW9uVHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV4Y2VwdGlvblR5cGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZUNvZGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZhaWx1cmVDb2RlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZhaWx1cmVEZXNjcmlwdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVEZXNjcmlwdGlvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZhaWx1cmVEZXNjcmlwdGlvblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0RGFzaGJvYXJkT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5EYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9IGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0SW5zaWdodFJ1bGVPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0TWFuYWdlZEluc2lnaHRSdWxlc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmFpbHVyZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRmFpbHVyZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gZGVfQmF0Y2hGYWlsdXJlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRNZXRyaWNTdHJlYW1PdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlN0YXJ0VGltZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXJ0VGltZSA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJTdGFydFRpbWVcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkVuZFRpbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmRUaW1lID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkVuZFRpbWVcIl0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUmVzb3VyY2VUeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUmVzb3VyY2VUeXBlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVzb3VyY2VUeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlc291cmNlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZXNvdXJjZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVzb3VyY2VJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVzcGFjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVzcGFjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVzcGFjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRpbWVuc2lvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEaW1lbnNpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBkZV9EaW1lbnNpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0YXJ0TWV0cmljU3RyZWFtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdG9wTWV0cmljU3RyZWFtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UYWcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiS2V5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuS2V5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiS2V5XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJWYWx1ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UYWdMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UYWcoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhZ1Jlc291cmNlT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RpbWVzdGFtcHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChlbnRyeSkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1VudGFnUmVzb3VyY2VPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gYXN5bmMgKGNvbnRleHQsIGhlYWRlcnMsIHBhdGgsIHJlc29sdmVkSG9zdG5hbWUsIGJvZHkpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBjb250ZW50cyA9IHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBwYXRoOiBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgKyBwYXRoIDogYmFzZVBhdGggKyBwYXRoLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH07XG4gICAgaWYgKHJlc29sdmVkSG9zdG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ob3N0bmFtZSA9IHJlc29sdmVkSG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdChjb250ZW50cyk7XG59O1xuY29uc3QgU0hBUkVEX0hFQURFUlMgPSB7XG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbn07XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVQcmVmaXg6IFwiXCIsXG4gICAgICAgICAgICBodG1sRW50aXRpZXM6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZURlY2xhcmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcGFyc2VUYWdWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICB0cmltVmFsdWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiAoXywgdmFsKSA9PiAodmFsLnRyaW0oKSA9PT0gXCJcIiAmJiB2YWwuaW5jbHVkZXMoXCJcXG5cIikgPyBcIlwiIDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjeERcIiwgXCJcXHJcIik7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjMTBcIiwgXCJcXG5cIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZE9iaiA9IHBhcnNlci5wYXJzZShlbmNvZGVkKTtcbiAgICAgICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwYXJzZWRPYmopWzBdO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmpUb1JldHVybiA9IHBhcnNlZE9ialtrZXldO1xuICAgICAgICBpZiAocGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXSkge1xuICAgICAgICAgICAgcGFyc2VkT2JqVG9SZXR1cm5ba2V5XSA9IHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgcGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19nZXRWYWx1ZUZyb21UZXh0Tm9kZShwYXJzZWRPYmpUb1JldHVybik7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUuRXJyb3IpIHtcbiAgICAgICAgdmFsdWUuRXJyb3IubWVzc2FnZSA9IHZhbHVlLkVycm9yLm1lc3NhZ2UgPz8gdmFsdWUuRXJyb3IuTWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcgPSAoZm9ybUVudHJpZXMpID0+IE9iamVjdC5lbnRyaWVzKGZvcm1FbnRyaWVzKVxuICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAuam9pbihcIiZcIik7XG5jb25zdCBsb2FkUXVlcnlFcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuRXJyb3I/LkNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGF0YS5FcnJvci5Db2RlO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBcIk5vdEZvdW5kXCI7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0U2VyZGVQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgZGVfUHV0TWV0cmljRGF0YUNvbW1hbmQsIHNlX1B1dE1ldHJpY0RhdGFDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcXVlcnlcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgUHV0TWV0cmljRGF0YUNvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgUHV0TWV0cmljRGF0YUNvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJDbG91ZFdhdGNoQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJQdXRNZXRyaWNEYXRhQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX1B1dE1ldHJpY0RhdGFDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRNZXRyaWNEYXRhQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENsb3VkV2F0Y2hDbGllbnQsIE1ldHJpY0RhdHVtLCBQdXRNZXRyaWNEYXRhQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoJ1xuXG5leHBvcnQgY2xhc3MgQ2xvdWRXYXRjaE1ldHJpY0NsaWVudCB7XG5cdHByaXZhdGUgbWV0cmljRGF0YTogTWV0cmljRGF0dW1bXSA9IFtdXG5cdHByaXZhdGUgY2xvdWRXYXRjaENsaWVudCA9IG5ldyBDbG91ZFdhdGNoQ2xpZW50KHt9KVxuXG5cdC8vIE5vcm1hbGx5IHdlJ2Qgd29ycnkgYWJvdXQgbWF4IG1ldHJpYyBkYXRhIHBlciByZXF1ZXN0IGJ1dCB0aGUgbWF4IGlzIGN1cnJlbnRseSAyMCBhbmQgd2Ugd29uJ3QgYmUgcHVibGlzaGluZyB0aGF0IG1hbnkgbWV0cmljc1xuXHRwdWJsaWMgcXVldWVNZXRyaWMobWV0cmljRGF0dW06IE1ldHJpY0RhdHVtKSB7XG5cdFx0dGhpcy5tZXRyaWNEYXRhLnB1c2gobWV0cmljRGF0dW0pXG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgZW1pdFF1ZXVlZE1ldHJpY3MoKSB7XG5cdFx0Y29uc3QgcHV0TWV0cmljRGF0YUNvbW1hbmQgPSBuZXcgUHV0TWV0cmljRGF0YUNvbW1hbmQoe1xuXHRcdFx0TmFtZXNwYWNlOiBwcm9jZXNzLmVudi5BV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUUsXG5cdFx0XHRNZXRyaWNEYXRhOiB0aGlzLm1ldHJpY0RhdGEsXG5cdFx0fSlcblxuXHRcdC8vIFN0cnlrZXIgZGlzYWJsZSBuZXh0LWxpbmUgYWxsIFwiSSBkbyBub3QgY2FyZSBhYm91dCBtdXRhdGluZyBjb25zb2xlIHN0YXRlbWVudHNcIlxuXHRcdGNvbnNvbGUuZGVidWcoYEVtaXR0aW5nIG1ldHJpY3M6XFxuJHtKU09OLnN0cmluZ2lmeShwdXRNZXRyaWNEYXRhQ29tbWFuZC5pbnB1dCwgbnVsbCwgMil9YClcblxuXHRcdGF3YWl0IHRoaXMuY2xvdWRXYXRjaENsaWVudC5zZW5kKHB1dE1ldHJpY0RhdGFDb21tYW5kKVxuXG5cdFx0dGhpcy5tZXRyaWNEYXRhID0gW11cblx0fVxufSIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcInNlc1wiLFxuICAgIH07XG59O1xuIiwiY29uc3QgcCA9IFwicmVxdWlyZWRcIiwgcSA9IFwiZm5cIiwgciA9IFwiYXJndlwiLCBzID0gXCJyZWZcIjtcbmNvbnN0IGEgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSB7IFtwXTogZmFsc2UsIFwidHlwZVwiOiBcIlN0cmluZ1wiIH0sIGYgPSB7IFtwXTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBcInR5cGVcIjogXCJCb29sZWFuXCIgfSwgZyA9IHsgW3NdOiBcIkVuZHBvaW50XCIgfSwgaCA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbeyBbc106IFwiVXNlRklQU1wiIH0sIHRydWVdIH0sIGkgPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3sgW3NdOiBcIlVzZUR1YWxTdGFja1wiIH0sIHRydWVdIH0sIGogPSB7fSwgayA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbdHJ1ZSwgeyBbcV06IFwiZ2V0QXR0clwiLCBbcl06IFt7IFtzXTogYSB9LCBcInN1cHBvcnRzRklQU1wiXSB9XSB9LCBsID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt0cnVlLCB7IFtxXTogXCJnZXRBdHRyXCIsIFtyXTogW3sgW3NdOiBhIH0sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgbSA9IFtnXSwgbiA9IFtoXSwgbyA9IFtpXTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogZSwgVXNlRHVhbFN0YWNrOiBmLCBVc2VGSVBTOiBmLCBFbmRwb2ludDogZSB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3FdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3JdOiBbeyBbc106IFwiUmVnaW9uXCIgfV0sIGFzc2lnbjogYSB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtxXTogXCJpc1NldFwiLCBbcl06IG0gfSwgeyBbcV06IFwicGFyc2VVUkxcIiwgW3JdOiBtLCBhc3NpZ246IFwidXJsXCIgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBuLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IEZJUFMgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IG8sIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRHVhbHN0YWNrIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IGVuZHBvaW50OiB7IHVybDogZywgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgY29uZGl0aW9uczogW2gsIGldLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2ssIGxdLCB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vZW1haWwtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogbiwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9lbWFpbC1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogbywgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtsXSwgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2VtYWlsLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgdHlwZTogYyB9XSB9LCB7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2VtYWlsLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0QXdzQXV0aFBsdWdpbiwgcmVzb2x2ZUF3c0F1dGhDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZ1wiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgU0VTQ2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlQXdzQXV0aENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNik7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ183O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAc21pdGh5L2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAc21pdGh5L25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZz8uY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciA/PyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIoY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciksXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAc21pdGh5L3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTRVNcIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgU2VydmljZUV4Y2VwdGlvbiBhcyBfX1NlcnZpY2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IHsgX19TZXJ2aWNlRXhjZXB0aW9uIH07XG5leHBvcnQgY2xhc3MgU0VTU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIF9fU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFNFU1NlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTRVNTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1NFU1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQmVoYXZpb3JPbk1YRmFpbHVyZSA9IHtcbiAgICBSZWplY3RNZXNzYWdlOiBcIlJlamVjdE1lc3NhZ2VcIixcbiAgICBVc2VEZWZhdWx0VmFsdWU6IFwiVXNlRGVmYXVsdFZhbHVlXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJvdW5jZVR5cGUgPSB7XG4gICAgQ29udGVudFJlamVjdGVkOiBcIkNvbnRlbnRSZWplY3RlZFwiLFxuICAgIERvZXNOb3RFeGlzdDogXCJEb2VzTm90RXhpc3RcIixcbiAgICBFeGNlZWRlZFF1b3RhOiBcIkV4Y2VlZGVkUXVvdGFcIixcbiAgICBNZXNzYWdlVG9vTGFyZ2U6IFwiTWVzc2FnZVRvb0xhcmdlXCIsXG4gICAgVGVtcG9yYXJ5RmFpbHVyZTogXCJUZW1wb3JhcnlGYWlsdXJlXCIsXG4gICAgVW5kZWZpbmVkOiBcIlVuZGVmaW5lZFwiLFxufTtcbmV4cG9ydCBjb25zdCBEc25BY3Rpb24gPSB7XG4gICAgREVMQVlFRDogXCJkZWxheWVkXCIsXG4gICAgREVMSVZFUkVEOiBcImRlbGl2ZXJlZFwiLFxuICAgIEVYUEFOREVEOiBcImV4cGFuZGVkXCIsXG4gICAgRkFJTEVEOiBcImZhaWxlZFwiLFxuICAgIFJFTEFZRUQ6IFwicmVsYXllZFwiLFxufTtcbmV4cG9ydCBjb25zdCBCdWxrRW1haWxTdGF0dXMgPSB7XG4gICAgQWNjb3VudERhaWx5UXVvdGFFeGNlZWRlZDogXCJBY2NvdW50RGFpbHlRdW90YUV4Y2VlZGVkXCIsXG4gICAgQWNjb3VudFNlbmRpbmdQYXVzZWQ6IFwiQWNjb3VudFNlbmRpbmdQYXVzZWRcIixcbiAgICBBY2NvdW50U3VzcGVuZGVkOiBcIkFjY291bnRTdXNwZW5kZWRcIixcbiAgICBBY2NvdW50VGhyb3R0bGVkOiBcIkFjY291bnRUaHJvdHRsZWRcIixcbiAgICBDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0OiBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIixcbiAgICBDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZDogXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZFwiLFxuICAgIEZhaWxlZDogXCJGYWlsZWRcIixcbiAgICBJbnZhbGlkUGFyYW1ldGVyVmFsdWU6IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCIsXG4gICAgSW52YWxpZFNlbmRpbmdQb29sTmFtZTogXCJJbnZhbGlkU2VuZGluZ1Bvb2xOYW1lXCIsXG4gICAgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZDogXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkXCIsXG4gICAgTWVzc2FnZVJlamVjdGVkOiBcIk1lc3NhZ2VSZWplY3RlZFwiLFxuICAgIFN1Y2Nlc3M6IFwiU3VjY2Vzc1wiLFxuICAgIFRlbXBsYXRlRG9lc05vdEV4aXN0OiBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCIsXG4gICAgVHJhbnNpZW50RmFpbHVyZTogXCJUcmFuc2llbnRGYWlsdXJlXCIsXG59O1xuZXhwb3J0IGNsYXNzIENhbm5vdERlbGV0ZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNhbm5vdERlbGV0ZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2Fubm90RGVsZXRlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENhbm5vdERlbGV0ZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk5hbWUgPSBvcHRzLk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIExpbWl0RXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIExpbWl0RXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk5hbWUgPSBvcHRzLk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IERpbWVuc2lvblZhbHVlU291cmNlID0ge1xuICAgIEVNQUlMX0hFQURFUjogXCJlbWFpbEhlYWRlclwiLFxuICAgIExJTktfVEFHOiBcImxpbmtUYWdcIixcbiAgICBNRVNTQUdFX1RBRzogXCJtZXNzYWdlVGFnXCIsXG59O1xuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBDb25maWd1cmF0aW9uU2V0QXR0cmlidXRlID0ge1xuICAgIERFTElWRVJZX09QVElPTlM6IFwiZGVsaXZlcnlPcHRpb25zXCIsXG4gICAgRVZFTlRfREVTVElOQVRJT05TOiBcImV2ZW50RGVzdGluYXRpb25zXCIsXG4gICAgUkVQVVRBVElPTl9PUFRJT05TOiBcInJlcHV0YXRpb25PcHRpb25zXCIsXG4gICAgVFJBQ0tJTkdfT1BUSU9OUzogXCJ0cmFja2luZ09wdGlvbnNcIixcbn07XG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IG9wdHMuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEV2ZW50VHlwZSA9IHtcbiAgICBCT1VOQ0U6IFwiYm91bmNlXCIsXG4gICAgQ0xJQ0s6IFwiY2xpY2tcIixcbiAgICBDT01QTEFJTlQ6IFwiY29tcGxhaW50XCIsXG4gICAgREVMSVZFUlk6IFwiZGVsaXZlcnlcIixcbiAgICBPUEVOOiBcIm9wZW5cIixcbiAgICBSRUpFQ1Q6IFwicmVqZWN0XCIsXG4gICAgUkVOREVSSU5HX0ZBSUxVUkU6IFwicmVuZGVyaW5nRmFpbHVyZVwiLFxuICAgIFNFTkQ6IFwic2VuZFwiLFxufTtcbmV4cG9ydCBjbGFzcyBFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IG9wdHMuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgICAgIHRoaXMuRXZlbnREZXN0aW5hdGlvbk5hbWUgPSBvcHRzLkV2ZW50RGVzdGluYXRpb25OYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gb3B0cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuRnJvbUVtYWlsQWRkcmVzcyA9IG9wdHMuRnJvbUVtYWlsQWRkcmVzcztcbiAgICB9XG59XG5leHBvcnQgY29uc3QgUmVjZWlwdEZpbHRlclBvbGljeSA9IHtcbiAgICBBbGxvdzogXCJBbGxvd1wiLFxuICAgIEJsb2NrOiBcIkJsb2NrXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNOU0FjdGlvbkVuY29kaW5nID0ge1xuICAgIEJhc2U2NDogXCJCYXNlNjRcIixcbiAgICBVVEY4OiBcIlVURi04XCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0b3BTY29wZSA9IHtcbiAgICBSVUxFX1NFVDogXCJSdWxlU2V0XCIsXG59O1xuZXhwb3J0IGNvbnN0IFRsc1BvbGljeSA9IHtcbiAgICBPcHRpb25hbDogXCJPcHRpb25hbFwiLFxuICAgIFJlcXVpcmU6IFwiUmVxdWlyZVwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5GdW5jdGlvbkFybiA9IG9wdHMuRnVuY3Rpb25Bcm47XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5CdWNrZXQgPSBvcHRzLkJ1Y2tldDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkU25zVG9waWNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVG9waWMgPSBvcHRzLlRvcGljO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVGVtcGxhdGVOYW1lID0gb3B0cy5UZW1wbGF0ZU5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEN1c3RvbU1haWxGcm9tU3RhdHVzID0ge1xuICAgIEZhaWxlZDogXCJGYWlsZWRcIixcbiAgICBQZW5kaW5nOiBcIlBlbmRpbmdcIixcbiAgICBTdWNjZXNzOiBcIlN1Y2Nlc3NcIixcbiAgICBUZW1wb3JhcnlGYWlsdXJlOiBcIlRlbXBvcmFyeUZhaWx1cmVcIixcbn07XG5leHBvcnQgY2xhc3MgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gb3B0cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5UZW1wbGF0ZU5hbWUgPSBvcHRzLlRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUG9saWN5RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBvbGljeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBvbGljeUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUG9saWN5RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5UZW1wbGF0ZU5hbWUgPSBvcHRzLlRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZXNzYWdlUmVqZWN0ZWQgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNZXNzYWdlUmVqZWN0ZWRcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1lc3NhZ2VSZWplY3RlZFwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNZXNzYWdlUmVqZWN0ZWQucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLlRlbXBsYXRlTmFtZSA9IG9wdHMuVGVtcGxhdGVOYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlByb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEh0dHBSZXF1ZXN0IGFzIF9fSHR0cFJlcXVlc3QgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBjb2xsZWN0Qm9keSwgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0U3RyaW5nIGFzIF9fZXhwZWN0U3RyaW5nLCBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCBhcyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50LCBnZXRBcnJheUlmU2luZ2xlSXRlbSBhcyBfX2dldEFycmF5SWZTaW5nbGVJdGVtLCBnZXRWYWx1ZUZyb21UZXh0Tm9kZSBhcyBfX2dldFZhbHVlRnJvbVRleHROb2RlLCBwYXJzZUJvb2xlYW4gYXMgX19wYXJzZUJvb2xlYW4sIHBhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldCBhcyBfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldCwgc3RyaWN0UGFyc2VGbG9hdCBhcyBfX3N0cmljdFBhcnNlRmxvYXQsIHN0cmljdFBhcnNlTG9uZyBhcyBfX3N0cmljdFBhcnNlTG9uZywgd2l0aEJhc2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgWE1MUGFyc2VyIH0gZnJvbSBcImZhc3QteG1sLXBhcnNlclwiO1xuaW1wb3J0IHsgQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24sIEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIENhbm5vdERlbGV0ZUV4Y2VwdGlvbiwgQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIENvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24sIENvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb24sIEV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24sIEZyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvbiwgSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvbiwgSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24sIEludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24sIEludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24sIEludmFsaWRQb2xpY3lFeGNlcHRpb24sIEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24sIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24sIEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbiwgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uLCBJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24sIEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIE1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24sIE1lc3NhZ2VSZWplY3RlZCwgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbiwgUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb24sIFJ1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24sIFJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb24sIFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uLCBUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLCBUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgU0VTU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL1NFU1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9DbG9uZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Nsb25lUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNsb25lUmVjZWlwdFJ1bGVTZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlQ29uZmlndXJhdGlvblNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdEZpbHRlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVSZWNlaXB0RmlsdGVyUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVSZWNlaXB0RmlsdGVyXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVSZWNlaXB0UnVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVSZWNlaXB0UnVsZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlUmVjZWlwdFJ1bGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVSZWNlaXB0UnVsZVNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZVRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVDb25maWd1cmF0aW9uU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUlkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUlkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlQb2xpY3lDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUlkZW50aXR5UG9saWN5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZVJlY2VpcHRGaWx0ZXJcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVJlY2VpcHRSdWxlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVzY3JpYmVDb25maWd1cmF0aW9uU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVzY3JpYmVSZWNlaXB0UnVsZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGNvbnN0IGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgQWN0aW9uOiBcIkdldEFjY291bnRTZW5kaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5UG9saWNpZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5UG9saWNpZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0U2VuZFF1b3RhQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBjb25zdCBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIEFjdGlvbjogXCJHZXRTZW5kUXVvdGFcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFNlbmRTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBjb25zdCBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIEFjdGlvbjogXCJHZXRTZW5kU3RhdGlzdGljc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0VGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0VGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldFRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0Q29uZmlndXJhdGlvblNldHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfTGlzdENvbmZpZ3VyYXRpb25TZXRzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0Q29uZmlndXJhdGlvblNldHNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdElkZW50aXRpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfTGlzdElkZW50aXRpZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RJZGVudGl0aWVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SWRlbnRpdHlQb2xpY2llc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0SWRlbnRpdHlQb2xpY2llc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdElkZW50aXR5UG9saWNpZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0UmVjZWlwdEZpbHRlcnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RSZWNlaXB0RmlsdGVyc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0UmVjZWlwdFJ1bGVTZXRzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0UmVjZWlwdFJ1bGVTZXRzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RUZW1wbGF0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RUZW1wbGF0ZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBjb25zdCBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIEFjdGlvbjogXCJMaXN0VmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRJZGVudGl0eVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRJZGVudGl0eVBvbGljeVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0SWRlbnRpdHlQb2xpY3lcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9SZW9yZGVyUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlJlb3JkZXJSZWNlaXB0UnVsZVNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VuZEJvdW5jZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kQm91bmNlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZW5kQm91bmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRCdWxrVGVtcGxhdGVkRW1haWxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VuZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRFbWFpbFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2VuZEVtYWlsXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZW5kUmF3RW1haWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2VuZFJhd0VtYWlsUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZW5kUmF3RW1haWxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kVGVtcGxhdGVkRW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRUZW1wbGF0ZWRFbWFpbFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldEFjdGl2ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldElkZW50aXR5RGtpbUVuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5RGtpbUVuYWJsZWRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRJZGVudGl0eUZlZWRiYWNrRm9yd2FyZGluZ0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5TWFpbEZyb21Eb21haW5cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRSZWNlaXB0UnVsZVBvc2l0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVGVzdFJlbmRlclRlbXBsYXRlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJUZXN0UmVuZGVyVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0UmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0U2VuZGluZ0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJVcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZVJlY2VpcHRSdWxlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJVcGRhdGVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZVRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeURvbWFpbkRraW1SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlZlcmlmeURvbWFpbkRraW1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1ZlcmlmeURvbWFpbklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeURvbWFpbklkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJWZXJpZnlEb21haW5JZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeUVtYWlsQWRkcmVzc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVmVyaWZ5RW1haWxBZGRyZXNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeUVtYWlsSWRlbnRpdHlSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlZlcmlmeUVtYWlsSWRlbnRpdHlcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DbG9uZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5DbG9uZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVzcG9uc2UoZGF0YS5DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENvbmZpZ3VyYXRpb25TZXRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UoZGF0YS5DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU05TRGVzdGluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZShkYXRhLkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVSZWNlaXB0RmlsdGVyUmVzcG9uc2UoZGF0YS5DcmVhdGVSZWNlaXB0RmlsdGVyUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5DcmVhdGVSZWNlaXB0UnVsZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBbHJlYWR5RXhpc3RzXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU25zVG9waWNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkNyZWF0ZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuQ3JlYXRlVGVtcGxhdGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRlbXBsYXRlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0UmVzcG9uc2UoZGF0YS5EZWxldGVDb25maWd1cmF0aW9uU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UoZGF0YS5EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNFdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZShkYXRhLkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUlkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVJZGVudGl0eUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUlkZW50aXR5UmVzcG9uc2UoZGF0YS5EZWxldGVJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVJZGVudGl0eUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUlkZW50aXR5UG9saWN5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXNwb25zZShkYXRhLkRlbGV0ZUlkZW50aXR5UG9saWN5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUlkZW50aXR5UG9saWN5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlUmVjZWlwdEZpbHRlclJlc3BvbnNlKGRhdGEuRGVsZXRlUmVjZWlwdEZpbHRlclJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVSZWNlaXB0UnVsZVJlc3BvbnNlKGRhdGEuRGVsZXRlUmVjZWlwdFJ1bGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5EZWxldGVSZWNlaXB0UnVsZVNldFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDYW5ub3REZWxldGVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0Nhbm5vdERlbGV0ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlVGVtcGxhdGVSZXNwb25zZShkYXRhLkRlbGV0ZVRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVmVyaWZpZWRFbWFpbEFkZHJlc3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkRlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVDb25maWd1cmF0aW9uU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZShkYXRhLkRlc2NyaWJlQ29uZmlndXJhdGlvblNldFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5EZXNjcmliZVJlY2VpcHRSdWxlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkUmVzcG9uc2UoZGF0YS5HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldElkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzUmVzcG9uc2UoZGF0YS5HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlQb2xpY2llc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlQb2xpY2llc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0U2VuZFF1b3RhQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRTZW5kUXVvdGFDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRTZW5kUXVvdGFSZXNwb25zZShkYXRhLkdldFNlbmRRdW90YVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRTZW5kUXVvdGFDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFNlbmRTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRTZW5kU3RhdGlzdGljc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldFNlbmRTdGF0aXN0aWNzUmVzcG9uc2UoZGF0YS5HZXRTZW5kU3RhdGlzdGljc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRTZW5kU3RhdGlzdGljc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0VGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0VGVtcGxhdGVSZXNwb25zZShkYXRhLkdldFRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Q29uZmlndXJhdGlvblNldHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c1Jlc3BvbnNlKGRhdGEuTGlzdENvbmZpZ3VyYXRpb25TZXRzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNSZXNwb25zZShkYXRhLkxpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RJZGVudGl0aWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SWRlbnRpdGllc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RJZGVudGl0aWVzUmVzcG9uc2UoZGF0YS5MaXN0SWRlbnRpdGllc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0SWRlbnRpdGllc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdElkZW50aXR5UG9saWNpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdElkZW50aXR5UG9saWNpZXNSZXNwb25zZShkYXRhLkxpc3RJZGVudGl0eVBvbGljaWVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UmVjZWlwdEZpbHRlcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RSZWNlaXB0RmlsdGVyc1Jlc3BvbnNlKGRhdGEuTGlzdFJlY2VpcHRGaWx0ZXJzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RSZWNlaXB0UnVsZVNldHNSZXNwb25zZShkYXRhLkxpc3RSZWNlaXB0UnVsZVNldHNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RUZW1wbGF0ZXNSZXNwb25zZShkYXRhLkxpc3RUZW1wbGF0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNSZXNwb25zZShkYXRhLkxpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc1Jlc3BvbnNlKGRhdGEuUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWREZWxpdmVyeU9wdGlvbnNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRJZGVudGl0eVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0SWRlbnRpdHlQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRJZGVudGl0eVBvbGljeVJlc3BvbnNlKGRhdGEuUHV0SWRlbnRpdHlQb2xpY3lSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0SWRlbnRpdHlQb2xpY3lDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBvbGljeVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5SZW9yZGVyUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJ1bGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kQm91bmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kQm91bmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZEJvdW5jZVJlc3BvbnNlKGRhdGEuU2VuZEJvdW5jZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kQm91bmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFJlc3BvbnNlKGRhdGEuU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlKGRhdGEuU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWVzc2FnZVJlamVjdGVkUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VuZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kRW1haWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZW5kRW1haWxSZXNwb25zZShkYXRhLlNlbmRFbWFpbFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kRW1haWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlbmRSYXdFbWFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VuZFJhd0VtYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZFJhd0VtYWlsUmVzcG9uc2UoZGF0YS5TZW5kUmF3RW1haWxSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2VuZFJhd0VtYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kVGVtcGxhdGVkRW1haWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NlbmRUZW1wbGF0ZWRFbWFpbFJlc3BvbnNlKGRhdGEuU2VuZFRlbXBsYXRlZEVtYWlsUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWVzc2FnZVJlamVjdGVkUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUZW1wbGF0ZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NldEFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLlNldEFjdGl2ZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NldEFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0SWRlbnRpdHlEa2ltRW5hYmxlZFJlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlEa2ltRW5hYmxlZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eUZlZWRiYWNrRm9yd2FyZGluZ0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFJlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRSZXNwb25zZShkYXRhLlNldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXNwb25zZShkYXRhLlNldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNSZXNwb25zZShkYXRhLlNldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldFJlY2VpcHRSdWxlUG9zaXRpb25SZXNwb25zZShkYXRhLlNldFJlY2VpcHRSdWxlUG9zaXRpb25SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVGVzdFJlbmRlclRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9UZXN0UmVuZGVyVGVtcGxhdGVSZXNwb25zZShkYXRhLlRlc3RSZW5kZXJUZW1wbGF0ZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3BvbnNlKGRhdGEuVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFNOU0Rlc3RpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0UmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0U2VuZGluZ0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZShkYXRhLlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1VwZGF0ZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5VcGRhdGVSZWNlaXB0UnVsZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU25zVG9waWNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVXBkYXRlVGVtcGxhdGVSZXNwb25zZShkYXRhLlVwZGF0ZVRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUZW1wbGF0ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVmVyaWZ5RG9tYWluRGtpbVJlc3BvbnNlKGRhdGEuVmVyaWZ5RG9tYWluRGtpbVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9WZXJpZnlEb21haW5JZGVudGl0eUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVmVyaWZ5RG9tYWluSWRlbnRpdHlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9WZXJpZnlEb21haW5JZGVudGl0eVJlc3BvbnNlKGRhdGEuVmVyaWZ5RG9tYWluSWRlbnRpdHlSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVmVyaWZ5RG9tYWluSWRlbnRpdHlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1ZlcmlmeUVtYWlsQWRkcmVzc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVmVyaWZ5RW1haWxJZGVudGl0eVJlc3BvbnNlKGRhdGEuVmVyaWZ5RW1haWxJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nhbm5vdERlbGV0ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDYW5ub3REZWxldGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Db25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9FdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQb2xpY3lFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRQb2xpY3lFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkU25zVG9waWNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IExpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTWVzc2FnZVJlamVjdGVkKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNZXNzYWdlUmVqZWN0ZWQoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX01pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Qcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJ1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IHNlX0FkZEhlYWRlckFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSGVhZGVyTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJIZWFkZXJOYW1lXCJdID0gaW5wdXQuSGVhZGVyTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkhlYWRlclZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkhlYWRlclZhbHVlXCJdID0gaW5wdXQuSGVhZGVyVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0FkZHJlc3NMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvZHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRleHQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ29udGVudChpbnB1dC5UZXh0LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGV4dC4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSHRtbCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db250ZW50KGlucHV0Lkh0bWwsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBIdG1sLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvdW5jZUFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNtdHBSZXBseUNvZGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU210cFJlcGx5Q29kZVwiXSA9IGlucHV0LlNtdHBSZXBseUNvZGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0dXNDb2RlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXR1c0NvZGVcIl0gPSBpbnB1dC5TdGF0dXNDb2RlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXNzYWdlXCJdID0gaW5wdXQuTWVzc2FnZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNlbmRlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTZW5kZXJcIl0gPSBpbnB1dC5TZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvdW5jZWRSZWNpcGllbnRJbmZvID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZWNpcGllbnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVjaXBpZW50XCJdID0gaW5wdXQuUmVjaXBpZW50O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVjaXBpZW50QXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlY2lwaWVudEFyblwiXSA9IGlucHV0LlJlY2lwaWVudEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJvdW5jZVR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQm91bmNlVHlwZVwiXSA9IGlucHV0LkJvdW5jZVR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZWNpcGllbnREc25GaWVsZHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjaXBpZW50RHNuRmllbGRzKGlucHV0LlJlY2lwaWVudERzbkZpZWxkcywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlY2lwaWVudERzbkZpZWxkcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQm91bmNlZFJlY2lwaWVudEluZm8oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0J1bGtFbWFpbERlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EZXN0aW5hdGlvbihpbnB1dC5EZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXBsYWNlbWVudFRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZ0xpc3QoaW5wdXQuUmVwbGFjZW1lbnRUYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJlcGxhY2VtZW50VGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJlcGxhY2VtZW50VGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlcGxhY2VtZW50VGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVwbGFjZW1lbnRUZW1wbGF0ZURhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVwbGFjZW1lbnRUZW1wbGF0ZURhdGFcIl0gPSBpbnB1dC5SZXBsYWNlbWVudFRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQnVsa0VtYWlsRGVzdGluYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0J1bGtFbWFpbERlc3RpbmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DbG9uZVJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk9yaWdpbmFsUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3JpZ2luYWxSdWxlU2V0TmFtZVwiXSA9IGlucHV0Lk9yaWdpbmFsUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb25zKGlucHV0LkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25Db25maWd1cmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGltZW5zaW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEaW1lbnNpb25OYW1lXCJdID0gaW5wdXQuRGltZW5zaW9uTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvblZhbHVlU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRpbWVuc2lvblZhbHVlU291cmNlXCJdID0gaW5wdXQuRGltZW5zaW9uVmFsdWVTb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWZhdWx0RGltZW5zaW9uVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGVmYXVsdERpbWVuc2lvblZhbHVlXCJdID0gaW5wdXQuRGVmYXVsdERpbWVuc2lvblZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvbmZpZ3VyYXRpb25TZXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvbnRlbnQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGF0YVwiXSA9IGlucHV0LkRhdGE7XG4gICAgfVxuICAgIGlmIChpbnB1dC5DaGFyc2V0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNoYXJzZXRcIl0gPSBpbnB1dC5DaGFyc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmVudERlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V2ZW50RGVzdGluYXRpb24oaW5wdXQuRXZlbnREZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV2ZW50RGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ29uZmlndXJhdGlvblNldChpbnB1dC5Db25maWd1cmF0aW9uU2V0LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ29uZmlndXJhdGlvblNldC4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRyYWNraW5nT3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UcmFja2luZ09wdGlvbnMoaW5wdXQuVHJhY2tpbmdPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVHJhY2tpbmdPcHRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRnJvbUVtYWlsQWRkcmVzcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGcm9tRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRnJvbUVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlU3ViamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZVN1YmplY3RcIl0gPSBpbnB1dC5UZW1wbGF0ZVN1YmplY3Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVDb250ZW50XCJdID0gaW5wdXQuVGVtcGxhdGVDb250ZW50O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3VjY2Vzc1JlZGlyZWN0aW9uVVJMICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSA9IGlucHV0LlN1Y2Nlc3NSZWRpcmVjdGlvblVSTDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZhaWx1cmVSZWRpcmVjdGlvblVSTCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0gPSBpbnB1dC5GYWlsdXJlUmVkaXJlY3Rpb25VUkw7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5GaWx0ZXIgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdEZpbHRlcihpbnB1dC5GaWx0ZXIsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBGaWx0ZXIuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdFJ1bGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWZ0ZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWZ0ZXJcIl0gPSBpbnB1dC5BZnRlcjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdFJ1bGUoaW5wdXQuUnVsZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJ1bGUuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RlbXBsYXRlKGlucHV0LlRlbXBsYXRlLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGVtcGxhdGUuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXZlbnREZXN0aW5hdGlvbk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gPSBpbnB1dC5FdmVudERlc3RpbmF0aW9uTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lOYW1lXCJdID0gaW5wdXQuUG9saWN5TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVSZWNlaXB0RmlsdGVyUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRmlsdGVyTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGaWx0ZXJOYW1lXCJdID0gaW5wdXQuRmlsdGVyTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUnVsZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZU5hbWVcIl0gPSBpbnB1dC5SdWxlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRW1haWxBZGRyZXNzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVtYWlsQWRkcmVzc1wiXSA9IGlucHV0LkVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsaXZlcnlPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UbHNQb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGxzUG9saWN5XCJdID0gaW5wdXQuVGxzUG9saWN5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldEF0dHJpYnV0ZU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0NvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVMaXN0KGlucHV0LkNvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Db25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDb25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVSZWNlaXB0UnVsZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlTmFtZVwiXSA9IGlucHV0LlJ1bGVOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzdGluYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRvQWRkcmVzc2VzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZHJlc3NMaXN0KGlucHV0LlRvQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRvQWRkcmVzc2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVG9BZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUb0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ2NBZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuQ2NBZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQ2NBZGRyZXNzZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5DY0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYENjQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5CY2NBZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuQmNjQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkJjY0FkZHJlc3Nlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkJjY0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEJjY0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FdmVudERlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmFibGVkXCJdID0gaW5wdXQuRW5hYmxlZDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1hdGNoaW5nRXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FdmVudFR5cGVzKGlucHV0Lk1hdGNoaW5nRXZlbnRUeXBlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NYXRjaGluZ0V2ZW50VHlwZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NYXRjaGluZ0V2ZW50VHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNYXRjaGluZ0V2ZW50VHlwZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0tpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uKGlucHV0LktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNsb3VkV2F0Y2hEZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9DbG91ZFdhdGNoRGVzdGluYXRpb24oaW5wdXQuQ2xvdWRXYXRjaERlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ2xvdWRXYXRjaERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TTlNEZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TTlNEZXN0aW5hdGlvbihpbnB1dC5TTlNEZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFNOU0Rlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0V2ZW50VHlwZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRXh0ZW5zaW9uRmllbGQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5WYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJWYWx1ZVwiXSA9IGlucHV0LlZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FeHRlbnNpb25GaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRXh0ZW5zaW9uRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdGllcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9JZGVudGl0eUxpc3QoaW5wdXQuSWRlbnRpdGllcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5JZGVudGl0aWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuSWRlbnRpdGllcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYElkZW50aXRpZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eVBvbGljaWVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1BvbGljeU5hbWVMaXN0KGlucHV0LlBvbGljeU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlBvbGljeU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5TmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0lkZW50aXR5TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9LaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSUFNUm9sZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJQU1Sb2xlQVJOXCJdID0gaW5wdXQuSUFNUm9sZUFSTjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlbGl2ZXJ5U3RyZWFtQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRlbGl2ZXJ5U3RyZWFtQVJOXCJdID0gaW5wdXQuRGVsaXZlcnlTdHJlYW1BUk47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xhbWJkYUFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZ1bmN0aW9uQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZ1bmN0aW9uQXJuXCJdID0gaW5wdXQuRnVuY3Rpb25Bcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5JbnZvY2F0aW9uVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJbnZvY2F0aW9uVHlwZVwiXSA9IGlucHV0Lkludm9jYXRpb25UeXBlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0Q29uZmlndXJhdGlvblNldHNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4SXRlbXNcIl0gPSBpbnB1dC5NYXhJdGVtcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heFJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4UmVzdWx0c1wiXSA9IGlucHV0Lk1heFJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RJZGVudGl0aWVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHlUeXBlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5VHlwZVwiXSA9IGlucHV0LklkZW50aXR5VHlwZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhJdGVtcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhJdGVtc1wiXSA9IGlucHV0Lk1heEl0ZW1zO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0SWRlbnRpdHlQb2xpY2llc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RSZWNlaXB0RmlsdGVyc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdFJlY2VpcHRSdWxlU2V0c1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RUZW1wbGF0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4SXRlbXNcIl0gPSBpbnB1dC5NYXhJdGVtcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWVzc2FnZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU3ViamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db250ZW50KGlucHV0LlN1YmplY3QsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTdWJqZWN0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb2R5ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0JvZHkoaW5wdXQuQm9keSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEJvZHkuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWVzc2FnZURzbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUmVwb3J0aW5nTXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlcG9ydGluZ010YVwiXSA9IGlucHV0LlJlcG9ydGluZ010YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFycml2YWxEYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFycml2YWxEYXRlXCJdID0gaW5wdXQuQXJyaXZhbERhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4dGVuc2lvbkZpZWxkcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FeHRlbnNpb25GaWVsZExpc3QoaW5wdXQuRXh0ZW5zaW9uRmllbGRzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4dGVuc2lvbkZpZWxkcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkV4dGVuc2lvbkZpZWxkcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4dGVuc2lvbkZpZWxkcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXNzYWdlVGFnID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWVzc2FnZVRhZ0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZyhlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUG9saWN5TmFtZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWxpdmVyeU9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGVsaXZlcnlPcHRpb25zKGlucHV0LkRlbGl2ZXJ5T3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlbGl2ZXJ5T3B0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRJZGVudGl0eVBvbGljeVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3lOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBvbGljeU5hbWVcIl0gPSBpbnB1dC5Qb2xpY3lOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBvbGljeVwiXSA9IGlucHV0LlBvbGljeTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmF3TWVzc2FnZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXRhXCJdID0gY29udGV4dC5iYXNlNjRFbmNvZGVyKGlucHV0LkRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0QWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5TM0FjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TM0FjdGlvbihpbnB1dC5TM0FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFMzQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQm91bmNlQWN0aW9uKGlucHV0LkJvdW5jZUFjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEJvdW5jZUFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuV29ya21haWxBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfV29ya21haWxBY3Rpb24oaW5wdXQuV29ya21haWxBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBXb3JrbWFpbEFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFtYmRhQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0xhbWJkYUFjdGlvbihpbnB1dC5MYW1iZGFBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBMYW1iZGFBY3Rpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0b3BBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU3RvcEFjdGlvbihpbnB1dC5TdG9wQWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU3RvcEFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWRkSGVhZGVyQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZEhlYWRlckFjdGlvbihpbnB1dC5BZGRIZWFkZXJBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBZGRIZWFkZXJBY3Rpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNOU0FjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TTlNBY3Rpb24oaW5wdXQuU05TQWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU05TQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2VpcHRBY3Rpb25zTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0QWN0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0RmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSXBGaWx0ZXIgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdElwRmlsdGVyKGlucHV0LklwRmlsdGVyLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSXBGaWx0ZXIuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVjZWlwdElwRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ2lkciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDaWRyXCJdID0gaW5wdXQuQ2lkcjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVjZWlwdFJ1bGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGxzUG9saWN5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRsc1BvbGljeVwiXSA9IGlucHV0LlRsc1BvbGljeTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlY2lwaWVudHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjaXBpZW50c0xpc3QoaW5wdXQuUmVjaXBpZW50cywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SZWNpcGllbnRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUmVjaXBpZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlY2lwaWVudHMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdEFjdGlvbnNMaXN0KGlucHV0LkFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TY2FuRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTY2FuRW5hYmxlZFwiXSA9IGlucHV0LlNjYW5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0UnVsZU5hbWVzTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNpcGllbnREc25GaWVsZHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkZpbmFsUmVjaXBpZW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZpbmFsUmVjaXBpZW50XCJdID0gaW5wdXQuRmluYWxSZWNpcGllbnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uXCJdID0gaW5wdXQuQWN0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVtb3RlTXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlbW90ZU10YVwiXSA9IGlucHV0LlJlbW90ZU10YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXR1cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0dXNcIl0gPSBpbnB1dC5TdGF0dXM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaWFnbm9zdGljQ29kZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEaWFnbm9zdGljQ29kZVwiXSA9IGlucHV0LkRpYWdub3N0aWNDb2RlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFzdEF0dGVtcHREYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkxhc3RBdHRlbXB0RGF0ZVwiXSA9IGlucHV0Lkxhc3RBdHRlbXB0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZW5zaW9uRmllbGRzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V4dGVuc2lvbkZpZWxkTGlzdChpbnB1dC5FeHRlbnNpb25GaWVsZHMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRXh0ZW5zaW9uRmllbGRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXh0ZW5zaW9uRmllbGRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXh0ZW5zaW9uRmllbGRzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2lwaWVudHNMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdFJ1bGVOYW1lc0xpc3QoaW5wdXQuUnVsZU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJ1bGVOYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJ1bGVOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJ1bGVOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TM0FjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJ1Y2tldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQnVja2V0TmFtZVwiXSA9IGlucHV0LkJ1Y2tldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PYmplY3RLZXlQcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT2JqZWN0S2V5UHJlZml4XCJdID0gaW5wdXQuT2JqZWN0S2V5UHJlZml4O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuS21zS2V5QXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkttc0tleUFyblwiXSA9IGlucHV0Lkttc0tleUFybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2VuZEJvdW5jZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk9yaWdpbmFsTWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk9yaWdpbmFsTWVzc2FnZUlkXCJdID0gaW5wdXQuT3JpZ2luYWxNZXNzYWdlSWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VTZW5kZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQm91bmNlU2VuZGVyXCJdID0gaW5wdXQuQm91bmNlU2VuZGVyO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXhwbGFuYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXhwbGFuYXRpb25cIl0gPSBpbnB1dC5FeHBsYW5hdGlvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1lc3NhZ2VEc24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZURzbihpbnB1dC5NZXNzYWdlRHNuLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWVzc2FnZURzbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQm91bmNlZFJlY2lwaWVudEluZm9MaXN0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0JvdW5jZWRSZWNpcGllbnRJbmZvTGlzdChpbnB1dC5Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQm91bmNlZFJlY2lwaWVudEluZm9MaXN0Py5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQm91bmNlZFJlY2lwaWVudEluZm9MaXN0ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQm91bmNlZFJlY2lwaWVudEluZm9MaXN0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VTZW5kZXJBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQm91bmNlU2VuZGVyQXJuXCJdID0gaW5wdXQuQm91bmNlU2VuZGVyQXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZVwiXSA9IGlucHV0LlNvdXJjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNvdXJjZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VBcm5cIl0gPSBpbnB1dC5Tb3VyY2VBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXBseVRvQWRkcmVzc2VzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZHJlc3NMaXN0KGlucHV0LlJlcGx5VG9BZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUmVwbHlUb0FkZHJlc3Nlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJlcGx5VG9BZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSZXBseVRvQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhcIl0gPSBpbnB1dC5SZXR1cm5QYXRoO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoQXJuXCJdID0gaW5wdXQuUmV0dXJuUGF0aEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWZhdWx0VGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnTGlzdChpbnB1dC5EZWZhdWx0VGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EZWZhdWx0VGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRlZmF1bHRUYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVmYXVsdFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlXCJdID0gaW5wdXQuVGVtcGxhdGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZUFyblwiXSA9IGlucHV0LlRlbXBsYXRlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGVmYXVsdFRlbXBsYXRlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEZWZhdWx0VGVtcGxhdGVEYXRhXCJdID0gaW5wdXQuRGVmYXVsdFRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9CdWxrRW1haWxEZXN0aW5hdGlvbkxpc3QoaW5wdXQuRGVzdGluYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRlc3RpbmF0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRFbWFpbFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VcIl0gPSBpbnB1dC5Tb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EZXN0aW5hdGlvbihpbnB1dC5EZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01lc3NhZ2UoaW5wdXQuTWVzc2FnZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1lc3NhZ2UuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlcGx5VG9BZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuUmVwbHlUb0FkZHJlc3NlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SZXBseVRvQWRkcmVzc2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUmVwbHlUb0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlcGx5VG9BZGRyZXNzZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVyblBhdGggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuUGF0aFwiXSA9IGlucHV0LlJldHVyblBhdGg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Tb3VyY2VBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlQXJuXCJdID0gaW5wdXQuU291cmNlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoQXJuXCJdID0gaW5wdXQuUmV0dXJuUGF0aEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRSYXdFbWFpbFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VcIl0gPSBpbnB1dC5Tb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuRGVzdGluYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRlc3RpbmF0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmF3TWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SYXdNZXNzYWdlKGlucHV0LlJhd01lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSYXdNZXNzYWdlLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Gcm9tQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZyb21Bcm5cIl0gPSBpbnB1dC5Gcm9tQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU291cmNlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZUFyblwiXSA9IGlucHV0LlNvdXJjZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVyblBhdGhBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuUGF0aEFyblwiXSA9IGlucHV0LlJldHVyblBhdGhBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01lc3NhZ2VUYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kVGVtcGxhdGVkRW1haWxSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlXCJdID0gaW5wdXQuU291cmNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGVzdGluYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGVzdGluYXRpb24oaW5wdXQuRGVzdGluYXRpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEZXN0aW5hdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVwbHlUb0FkZHJlc3NlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BZGRyZXNzTGlzdChpbnB1dC5SZXBseVRvQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJlcGx5VG9BZGRyZXNzZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SZXBseVRvQWRkcmVzc2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUmVwbHlUb0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoXCJdID0gaW5wdXQuUmV0dXJuUGF0aDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNvdXJjZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VBcm5cIl0gPSBpbnB1dC5Tb3VyY2VBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhBcm5cIl0gPSBpbnB1dC5SZXR1cm5QYXRoQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlXCJdID0gaW5wdXQuVGVtcGxhdGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZUFyblwiXSA9IGlucHV0LlRlbXBsYXRlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlRGF0YVwiXSA9IGlucHV0LlRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eURraW1FbmFibGVkUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRraW1FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRraW1FbmFibGVkXCJdID0gaW5wdXQuRGtpbUVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Gb3J3YXJkaW5nRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGb3J3YXJkaW5nRW5hYmxlZFwiXSA9IGlucHV0LkZvcndhcmRpbmdFbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5vdGlmaWNhdGlvblR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTm90aWZpY2F0aW9uVHlwZVwiXSA9IGlucHV0Lk5vdGlmaWNhdGlvblR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1haWxGcm9tRG9tYWluICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1haWxGcm9tRG9tYWluXCJdID0gaW5wdXQuTWFpbEZyb21Eb21haW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5CZWhhdmlvck9uTVhGYWlsdXJlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkJlaGF2aW9yT25NWEZhaWx1cmVcIl0gPSBpbnB1dC5CZWhhdmlvck9uTVhGYWlsdXJlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5vdGlmaWNhdGlvblR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTm90aWZpY2F0aW9uVHlwZVwiXSA9IGlucHV0Lk5vdGlmaWNhdGlvblR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TbnNUb3BpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTbnNUb3BpY1wiXSA9IGlucHV0LlNuc1RvcGljO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVOYW1lXCJdID0gaW5wdXQuUnVsZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BZnRlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBZnRlclwiXSA9IGlucHV0LkFmdGVyO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TTlNBY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRvcGljQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRvcGljQXJuXCJdID0gaW5wdXQuVG9waWNBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmNvZGluZyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmNvZGluZ1wiXSA9IGlucHV0LkVuY29kaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TTlNEZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBUk4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBUk5cIl0gPSBpbnB1dC5Ub3BpY0FSTjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU3RvcEFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU2NvcGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2NvcGVcIl0gPSBpbnB1dC5TY29wZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRvcGljQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRvcGljQXJuXCJdID0gaW5wdXQuVG9waWNBcm47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RlbXBsYXRlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3ViamVjdFBhcnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3ViamVjdFBhcnRcIl0gPSBpbnB1dC5TdWJqZWN0UGFydDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRleHRQYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRleHRQYXJ0XCJdID0gaW5wdXQuVGV4dFBhcnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5IdG1sUGFydCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJIdG1sUGFydFwiXSA9IGlucHV0Lkh0bWxQYXJ0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UZXN0UmVuZGVyVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlRGF0YVwiXSA9IGlucHV0LlRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVHJhY2tpbmdPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5DdXN0b21SZWRpcmVjdERvbWFpbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDdXN0b21SZWRpcmVjdERvbWFpblwiXSA9IGlucHV0LkN1c3RvbVJlZGlyZWN0RG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmVudERlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V2ZW50RGVzdGluYXRpb24oaW5wdXQuRXZlbnREZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV2ZW50RGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0U2VuZGluZ0VuYWJsZWRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmFibGVkXCJdID0gaW5wdXQuRW5hYmxlZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UcmFja2luZ09wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVHJhY2tpbmdPcHRpb25zKGlucHV0LlRyYWNraW5nT3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRyYWNraW5nT3B0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZyb21FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRnJvbUVtYWlsQWRkcmVzc1wiXSA9IGlucHV0LkZyb21FbWFpbEFkZHJlc3M7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZVN1YmplY3QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVTdWJqZWN0XCJdID0gaW5wdXQuVGVtcGxhdGVTdWJqZWN0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlQ29udGVudFwiXSA9IGlucHV0LlRlbXBsYXRlQ29udGVudDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN1Y2Nlc3NSZWRpcmVjdGlvblVSTCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0gPSBpbnB1dC5TdWNjZXNzUmVkaXJlY3Rpb25VUkw7XG4gICAgfVxuICAgIGlmIChpbnB1dC5GYWlsdXJlUmVkaXJlY3Rpb25VUkwgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdID0gaW5wdXQuRmFpbHVyZVJlZGlyZWN0aW9uVVJMO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVSZWNlaXB0UnVsZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1JlY2VpcHRSdWxlKGlucHV0LlJ1bGUsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSdWxlLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZVRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGVtcGxhdGUoaW5wdXQuVGVtcGxhdGUsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUZW1wbGF0ZS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlEb21haW5Ea2ltUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRG9tYWluICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRvbWFpblwiXSA9IGlucHV0LkRvbWFpbjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVmVyaWZ5RG9tYWluSWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Eb21haW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRG9tYWluXCJdID0gaW5wdXQuRG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlFbWFpbEFkZHJlc3NSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlFbWFpbElkZW50aXR5UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRW1haWxBZGRyZXNzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVtYWlsQWRkcmVzc1wiXSA9IGlucHV0LkVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfV29ya21haWxBY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRvcGljQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRvcGljQXJuXCJdID0gaW5wdXQuVG9waWNBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5Pcmdhbml6YXRpb25Bcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3JnYW5pemF0aW9uQXJuXCJdID0gaW5wdXQuT3JnYW5pemF0aW9uQXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQWRkSGVhZGVyQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkhlYWRlck5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IZWFkZXJOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGVhZGVyTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIZWFkZXJWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlclZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGVhZGVyVmFsdWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQWRkcmVzc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQm91bmNlQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTbXRwUmVwbHlDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU210cFJlcGx5Q29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNtdHBSZXBseUNvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdHVzQ29kZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXR1c0NvZGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0dXNDb2RlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTZW5kZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZW5kZXIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTZW5kZXJcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQnVsa0VtYWlsRGVzdGluYXRpb25TdGF0dXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdHVzID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkVycm9yXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXJyb3IgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFcnJvclwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlSWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQnVsa0VtYWlsRGVzdGluYXRpb25TdGF0dXNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9CdWxrRW1haWxEZXN0aW5hdGlvblN0YXR1cyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ2xvbmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGltZW5zaW9uQ29uZmlndXJhdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJEaW1lbnNpb25Db25maWd1cmF0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zID0gZGVfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uQ29uZmlndXJhdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hEaW1lbnNpb25Db25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkRpbWVuc2lvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGltZW5zaW9uTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEaW1lbnNpb25WYWx1ZVNvdXJjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvblZhbHVlU291cmNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGltZW5zaW9uVmFsdWVTb3VyY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVmYXVsdERpbWVuc2lvblZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGVmYXVsdERpbWVuc2lvblZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVmYXVsdERpbWVuc2lvblZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hEaW1lbnNpb25Db25maWd1cmF0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Db25maWd1cmF0aW9uU2V0KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0RmlsdGVyUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlUmVjZWlwdFJ1bGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRlbXBsYXRlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRnJvbUVtYWlsQWRkcmVzc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZyb21FbWFpbEFkZHJlc3MgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlU3ViamVjdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlU3ViamVjdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlU3ViamVjdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWNjZXNzUmVkaXJlY3Rpb25VUkwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZVJlZGlyZWN0aW9uVVJMID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVJZGVudGl0eVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxpdmVyeU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGxzUG9saWN5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGxzUG9saWN5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGxzUG9saWN5XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXRhZGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldGFkYXRhID0gZGVfUmVjZWlwdFJ1bGVTZXRNZXRhZGF0YShvdXRwdXRbXCJNZXRhZGF0YVwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuUnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUnVsZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUnVsZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGVzID0gZGVfUmVjZWlwdFJ1bGVzTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJ1bGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldCA9IGRlX0NvbmZpZ3VyYXRpb25TZXQob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldFwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRXZlbnREZXN0aW5hdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25zID0gZGVfRXZlbnREZXN0aW5hdGlvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVHJhY2tpbmdPcHRpb25zXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVHJhY2tpbmdPcHRpb25zID0gZGVfVHJhY2tpbmdPcHRpb25zKG91dHB1dFtcIlRyYWNraW5nT3B0aW9uc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWxpdmVyeU9wdGlvbnNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWxpdmVyeU9wdGlvbnMgPSBkZV9EZWxpdmVyeU9wdGlvbnMob3V0cHV0W1wiRGVsaXZlcnlPcHRpb25zXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlcHV0YXRpb25PcHRpb25zXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUmVwdXRhdGlvbk9wdGlvbnMgPSBkZV9SZXB1dGF0aW9uT3B0aW9ucyhvdXRwdXRbXCJSZXB1dGF0aW9uT3B0aW9uc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVJlY2VpcHRSdWxlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUnVsZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGUgPSBkZV9SZWNlaXB0UnVsZShvdXRwdXRbXCJSdWxlXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXRhZGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldGFkYXRhID0gZGVfUmVjZWlwdFJ1bGVTZXRNZXRhZGF0YShvdXRwdXRbXCJNZXRhZGF0YVwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuUnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUnVsZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUnVsZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGVzID0gZGVfUmVjZWlwdFJ1bGVzTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJ1bGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Ea2ltQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gb3V0cHV0LnJlZHVjZSgoYWNjLCBwYWlyKSA9PiB7XG4gICAgICAgIGlmIChwYWlyW1widmFsdWVcIl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW3BhaXJbXCJrZXlcIl1dID0gZGVfSWRlbnRpdHlEa2ltQXR0cmlidXRlcyhwYWlyW1widmFsdWVcIl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9FdmVudERlc3RpbmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1hdGNoaW5nRXZlbnRUeXBlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NYXRjaGluZ0V2ZW50VHlwZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWF0Y2hpbmdFdmVudFR5cGVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWF0Y2hpbmdFdmVudFR5cGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF0Y2hpbmdFdmVudFR5cGVzID0gZGVfRXZlbnRUeXBlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1hdGNoaW5nRXZlbnRUeXBlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5LaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbiA9IGRlX0tpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uKG91dHB1dFtcIktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkNsb3VkV2F0Y2hEZXN0aW5hdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNsb3VkV2F0Y2hEZXN0aW5hdGlvbiA9IGRlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbihvdXRwdXRbXCJDbG91ZFdhdGNoRGVzdGluYXRpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU05TRGVzdGluYXRpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TTlNEZXN0aW5hdGlvbiA9IGRlX1NOU0Rlc3RpbmF0aW9uKG91dHB1dFtcIlNOU0Rlc3RpbmF0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXZlbnREZXN0aW5hdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0V2ZW50RGVzdGluYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0V2ZW50VHlwZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRnJvbUVtYWlsQWRkcmVzc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZyb21FbWFpbEFkZHJlc3MgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRnJvbUVtYWlsQWRkcmVzcyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZyb21FbWFpbEFkZHJlc3NcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVTdWJqZWN0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVTdWJqZWN0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVTdWJqZWN0XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlQ29udGVudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlQ29udGVudCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlQ29udGVudFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWNjZXNzUmVkaXJlY3Rpb25VUkwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZVJlZGlyZWN0aW9uVVJMID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGtpbUF0dHJpYnV0ZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGtpbUF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGtpbUF0dHJpYnV0ZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEa2ltQXR0cmlidXRlc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGtpbUF0dHJpYnV0ZXMgPSBkZV9Ea2ltQXR0cmlidXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRraW1BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1haWxGcm9tRG9tYWluQXR0cmlidXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSBkZV9NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk5vdGlmaWNhdGlvbkF0dHJpYnV0ZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTm90aWZpY2F0aW9uQXR0cmlidXRlcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiTm90aWZpY2F0aW9uQXR0cmlidXRlc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTm90aWZpY2F0aW9uQXR0cmlidXRlcyA9IGRlX05vdGlmaWNhdGlvbkF0dHJpYnV0ZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5UG9saWNpZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuUG9saWNpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUG9saWNpZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUG9saWNpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJQb2xpY2llc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUG9saWNpZXMgPSBkZV9Qb2xpY3lNYXAoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJQb2xpY2llc1wiXVtcImVudHJ5XCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuVmVyaWZpY2F0aW9uQXR0cmlidXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25BdHRyaWJ1dGVzID0ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJWZXJpZmljYXRpb25BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25BdHRyaWJ1dGVzID0gZGVfVmVyaWZpY2F0aW9uQXR0cmlidXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0U2VuZFF1b3RhUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWF4MjRIb3VyU2VuZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heDI0SG91clNlbmQgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWF4MjRIb3VyU2VuZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNYXhTZW5kUmF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heFNlbmRSYXRlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIk1heFNlbmRSYXRlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNlbnRMYXN0MjRIb3Vyc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlbnRMYXN0MjRIb3VycyA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJTZW50TGFzdDI0SG91cnNcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0U2VuZFN0YXRpc3RpY3NSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuU2VuZERhdGFQb2ludHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuU2VuZERhdGFQb2ludHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiU2VuZERhdGFQb2ludHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJTZW5kRGF0YVBvaW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlbmREYXRhUG9pbnRzID0gZGVfU2VuZERhdGFQb2ludExpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJTZW5kRGF0YVBvaW50c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0VGVtcGxhdGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlID0gZGVfVGVtcGxhdGUob3V0cHV0W1wiVGVtcGxhdGVcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlEa2ltQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEa2ltRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1FbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiRGtpbUVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGtpbVZlcmlmaWNhdGlvblN0YXR1c1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1WZXJpZmljYXRpb25TdGF0dXMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEa2ltVmVyaWZpY2F0aW9uU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Ea2ltVG9rZW5zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1Ub2tlbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGtpbVRva2Vuc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRraW1Ub2tlbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ea2ltVG9rZW5zID0gZGVfVmVyaWZpY2F0aW9uVG9rZW5MaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGtpbVRva2Vuc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWFpbEZyb21Eb21haW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1haWxGcm9tRG9tYWluXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1haWxGcm9tRG9tYWluU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWFpbEZyb21Eb21haW5TdGF0dXMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNYWlsRnJvbURvbWFpblN0YXR1c1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCZWhhdmlvck9uTVhGYWlsdXJlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQmVoYXZpb3JPbk1YRmFpbHVyZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkJlaGF2aW9yT25NWEZhaWx1cmVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkJvdW5jZVRvcGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQm91bmNlVG9waWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJCb3VuY2VUb3BpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDb21wbGFpbnRUb3BpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbXBsYWludFRvcGljID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29tcGxhaW50VG9waWNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVsaXZlcnlUb3BpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlbGl2ZXJ5VG9waWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEZWxpdmVyeVRvcGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZvcndhcmRpbmdFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRm9yd2FyZGluZ0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJGb3J3YXJkaW5nRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIZWFkZXJzSW5Cb3VuY2VOb3RpZmljYXRpb25zRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlcnNJbkJvdW5jZU5vdGlmaWNhdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiSGVhZGVyc0luQm91bmNlTm90aWZpY2F0aW9uc0VuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSGVhZGVyc0luQ29tcGxhaW50Tm90aWZpY2F0aW9uc0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IZWFkZXJzSW5Db21wbGFpbnROb3RpZmljYXRpb25zRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkhlYWRlcnNJbkNvbXBsYWludE5vdGlmaWNhdGlvbnNFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhlYWRlcnNJbkRlbGl2ZXJ5Tm90aWZpY2F0aW9uc0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IZWFkZXJzSW5EZWxpdmVyeU5vdGlmaWNhdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiSGVhZGVyc0luRGVsaXZlcnlOb3RpZmljYXRpb25zRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVmVyaWZpY2F0aW9uU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmVyaWZpY2F0aW9uU3RhdHVzID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVmVyaWZpY2F0aW9uU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlZlcmlmaWNhdGlvblRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmVyaWZpY2F0aW9uVG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJWZXJpZmljYXRpb25Ub2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkRGVsaXZlcnlPcHRpb25zRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRnVuY3Rpb25Bcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GdW5jdGlvbkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZ1bmN0aW9uQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUG9saWN5RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZFMzQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJCdWNrZXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5CdWNrZXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJCdWNrZXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkU25zVG9waWNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVG9waWNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ub3BpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRvcGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9LaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJJQU1Sb2xlQVJOXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSUFNUm9sZUFSTiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklBTVJvbGVBUk5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVsaXZlcnlTdHJlYW1BUk5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWxpdmVyeVN0cmVhbUFSTiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRlbGl2ZXJ5U3RyZWFtQVJOXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xhbWJkYUFjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRnVuY3Rpb25Bcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GdW5jdGlvbkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZ1bmN0aW9uQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkludm9jYXRpb25UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSW52b2NhdGlvblR5cGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJJbnZvY2F0aW9uVHlwZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0Q29uZmlndXJhdGlvblNldHNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuQ29uZmlndXJhdGlvblNldHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXRzID0gZGVfQ29uZmlndXJhdGlvblNldHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXMgPSBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdElkZW50aXRpZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuSWRlbnRpdGllcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5JZGVudGl0aWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIklkZW50aXRpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJZGVudGl0aWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSWRlbnRpdGllcyA9IGRlX0lkZW50aXR5TGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIklkZW50aXRpZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0SWRlbnRpdHlQb2xpY2llc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5Qb2xpY3lOYW1lcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Qb2xpY3lOYW1lcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJQb2xpY3lOYW1lc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlBvbGljeU5hbWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUG9saWN5TmFtZXMgPSBkZV9Qb2xpY3lOYW1lTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlBvbGljeU5hbWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0UmVjZWlwdEZpbHRlcnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmlsdGVycyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5GaWx0ZXJzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkZpbHRlcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGaWx0ZXJzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmlsdGVycyA9IGRlX1JlY2VpcHRGaWx0ZXJMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRmlsdGVyc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFJlY2VpcHRSdWxlU2V0c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5SdWxlU2V0cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5SdWxlU2V0cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJSdWxlU2V0c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlJ1bGVTZXRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZVNldHMgPSBkZV9SZWNlaXB0UnVsZVNldHNMaXN0cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJ1bGVTZXRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5UZW1wbGF0ZXNNZXRhZGF0YSA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZXNNZXRhZGF0YSA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJUZW1wbGF0ZXNNZXRhZGF0YVwiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlRlbXBsYXRlc01ldGFkYXRhXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVzTWV0YWRhdGEgPSBkZV9UZW1wbGF0ZU1ldGFkYXRhTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlRlbXBsYXRlc01ldGFkYXRhXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuVmVyaWZpZWRFbWFpbEFkZHJlc3NlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5WZXJpZmllZEVtYWlsQWRkcmVzc2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlZlcmlmaWVkRW1haWxBZGRyZXNzZXNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJWZXJpZmllZEVtYWlsQWRkcmVzc2VzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmVyaWZpZWRFbWFpbEFkZHJlc3NlcyA9IGRlX0FkZHJlc3NMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBkZV9JZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlcyhwYWlyW1widmFsdWVcIl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXNzYWdlUmVqZWN0ZWQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Ob3RpZmljYXRpb25BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBkZV9JZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXMocGFpcltcInZhbHVlXCJdLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuY29uc3QgZGVfUG9saWN5TWFwID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBfX2V4cGVjdFN0cmluZyhwYWlyW1widmFsdWVcIl0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9Qb2xpY3lOYW1lTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0SWRlbnRpdHlQb2xpY3lSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0QWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlMzQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUzNBY3Rpb24gPSBkZV9TM0FjdGlvbihvdXRwdXRbXCJTM0FjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCb3VuY2VBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Cb3VuY2VBY3Rpb24gPSBkZV9Cb3VuY2VBY3Rpb24ob3V0cHV0W1wiQm91bmNlQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIldvcmttYWlsQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuV29ya21haWxBY3Rpb24gPSBkZV9Xb3JrbWFpbEFjdGlvbihvdXRwdXRbXCJXb3JrbWFpbEFjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYW1iZGFBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYW1iZGFBY3Rpb24gPSBkZV9MYW1iZGFBY3Rpb24ob3V0cHV0W1wiTGFtYmRhQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0b3BBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdG9wQWN0aW9uID0gZGVfU3RvcEFjdGlvbihvdXRwdXRbXCJTdG9wQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFkZEhlYWRlckFjdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFkZEhlYWRlckFjdGlvbiA9IGRlX0FkZEhlYWRlckFjdGlvbihvdXRwdXRbXCJBZGRIZWFkZXJBY3Rpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU05TQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU05TQWN0aW9uID0gZGVfU05TQWN0aW9uKG91dHB1dFtcIlNOU0FjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0QWN0aW9uc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1JlY2VpcHRBY3Rpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRGaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIklwRmlsdGVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSXBGaWx0ZXIgPSBkZV9SZWNlaXB0SXBGaWx0ZXIob3V0cHV0W1wiSXBGaWx0ZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVjZWlwdEZpbHRlckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1JlY2VpcHRGaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRJcEZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJQb2xpY3lcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qb2xpY3kgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJQb2xpY3lcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ2lkclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNpZHIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDaWRyXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRSdWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGxzUG9saWN5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGxzUG9saWN5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGxzUG9saWN5XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5SZWNpcGllbnRzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlY2lwaWVudHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUmVjaXBpZW50c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlJlY2lwaWVudHNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZWNpcGllbnRzID0gZGVfUmVjaXBpZW50c0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJSZWNpcGllbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuQWN0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkFjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJBY3Rpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9ucyA9IGRlX1JlY2VpcHRBY3Rpb25zTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkFjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNjYW5FbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2NhbkVuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJTY2FuRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0UnVsZVNldE1ldGFkYXRhID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDcmVhdGVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlYXRlZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJDcmVhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0UnVsZVNldHNMaXN0cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVjZWlwdFJ1bGVTZXRNZXRhZGF0YShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVjZWlwdFJ1bGVzTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVjZWlwdFJ1bGUoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlY2lwaWVudHNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVwdXRhdGlvbk9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiU2VuZGluZ0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZW5kaW5nRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIlNlbmRpbmdFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIlJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0RnJlc2hTdGFydFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhc3RGcmVzaFN0YXJ0ID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkxhc3RGcmVzaFN0YXJ0XCJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1MzQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCdWNrZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQnVja2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkJ1Y2tldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiT2JqZWN0S2V5UHJlZml4XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT2JqZWN0S2V5UHJlZml4ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiT2JqZWN0S2V5UHJlZml4XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkttc0tleUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkttc0tleUFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkttc0tleUFyblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kQm91bmNlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZUlkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZUlkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuU3RhdHVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXR1cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJTdGF0dXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJTdGF0dXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0dXMgPSBkZV9CdWxrRW1haWxEZXN0aW5hdGlvblN0YXR1c0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJTdGF0dXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kRGF0YVBvaW50ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRlbGl2ZXJ5QXR0ZW1wdHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWxpdmVyeUF0dGVtcHRzID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiRGVsaXZlcnlBdHRlbXB0c1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCb3VuY2VzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQm91bmNlcyA9IF9fc3RyaWN0UGFyc2VMb25nKG91dHB1dFtcIkJvdW5jZXNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ29tcGxhaW50c1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbXBsYWludHMgPSBfX3N0cmljdFBhcnNlTG9uZyhvdXRwdXRbXCJDb21wbGFpbnRzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlamVjdHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZWplY3RzID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiUmVqZWN0c1wiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kRGF0YVBvaW50TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfU2VuZERhdGFQb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2VuZEVtYWlsUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZUlkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZUlkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRSYXdFbWFpbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kVGVtcGxhdGVkRW1haWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlSWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NOU0FjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRW5jb2RpbmdcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmNvZGluZyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkVuY29kaW5nXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NOU0Rlc3RpbmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQVJOXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBUk4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FSTlwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdG9wQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlNjb3BlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2NvcGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTY29wZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1YmplY3RQYXJ0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3ViamVjdFBhcnQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdWJqZWN0UGFydFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUZXh0UGFydFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRleHRQYXJ0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGV4dFBhcnRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSHRtbFBhcnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IdG1sUGFydCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkh0bWxQYXJ0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVNZXRhZGF0YSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ3JlYXRlZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNyZWF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQ3JlYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVNZXRhZGF0YUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RlbXBsYXRlTWV0YWRhdGEoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Rlc3RSZW5kZXJUZW1wbGF0ZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlJlbmRlcmVkVGVtcGxhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZW5kZXJlZFRlbXBsYXRlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVuZGVyZWRUZW1wbGF0ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UcmFja2luZ09wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3VzdG9tUmVkaXJlY3REb21haW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DdXN0b21SZWRpcmVjdERvbWFpbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkN1c3RvbVJlZGlyZWN0RG9tYWluXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVSZWNlaXB0UnVsZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVmVyaWZpY2F0aW9uQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gb3V0cHV0LnJlZHVjZSgoYWNjLCBwYWlyKSA9PiB7XG4gICAgICAgIGlmIChwYWlyW1widmFsdWVcIl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW3BhaXJbXCJrZXlcIl1dID0gZGVfSWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzKHBhaXJbXCJ2YWx1ZVwiXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX1ZlcmlmaWNhdGlvblRva2VuTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1ZlcmlmeURvbWFpbkRraW1SZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGtpbVRva2VucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Ea2ltVG9rZW5zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRraW1Ub2tlbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEa2ltVG9rZW5zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGtpbVRva2VucyA9IGRlX1ZlcmlmaWNhdGlvblRva2VuTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRraW1Ub2tlbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1ZlcmlmeURvbWFpbklkZW50aXR5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVmVyaWZpY2F0aW9uVG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25Ub2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZlcmlmaWNhdGlvblRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1ZlcmlmeUVtYWlsSWRlbnRpdHlSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Xb3JrbWFpbEFjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiT3JnYW5pemF0aW9uQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT3JnYW5pemF0aW9uQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiT3JnYW5pemF0aW9uQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlc2VyaWFsaXplTWV0YWRhdGEgPSAob3V0cHV0KSA9PiAoe1xuICAgIGh0dHBTdGF0dXNDb2RlOiBvdXRwdXQuc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3RpZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0LWlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXotcmVxdWVzdC1pZFwiXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1pZC0yXCJdLFxuICAgIGNmSWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotY2YtaWRcIl0sXG59KTtcbmNvbnN0IGNvbGxlY3RCb2R5U3RyaW5nID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5KHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGJvZHkpID0+IGNvbnRleHQudXRmOEVuY29kZXIoYm9keSkpO1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgYnVpbGRIdHRwUnBjUmVxdWVzdCA9IGFzeW5jIChjb250ZXh0LCBoZWFkZXJzLCBwYXRoLCByZXNvbHZlZEhvc3RuYW1lLCBib2R5KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgY29udGVudHMgPSB7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgcGF0aDogYmFzZVBhdGguZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpICsgcGF0aCA6IGJhc2VQYXRoICsgcGF0aCxcbiAgICAgICAgaGVhZGVycyxcbiAgICB9O1xuICAgIGlmIChyZXNvbHZlZEhvc3RuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuaG9zdG5hbWUgPSByZXNvbHZlZEhvc3RuYW1lO1xuICAgIH1cbiAgICBpZiAoYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3QoY29udGVudHMpO1xufTtcbmNvbnN0IFNIQVJFRF9IRUFERVJTID0ge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG59O1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFhNTFBhcnNlcih7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lUHJlZml4OiBcIlwiLFxuICAgICAgICAgICAgaHRtbEVudGl0aWVzOiB0cnVlLFxuICAgICAgICAgICAgaWdub3JlQXR0cmlidXRlczogZmFsc2UsXG4gICAgICAgICAgICBpZ25vcmVEZWNsYXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHBhcnNlVGFnVmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgdHJpbVZhbHVlczogZmFsc2UsXG4gICAgICAgICAgICB0YWdWYWx1ZVByb2Nlc3NvcjogKF8sIHZhbCkgPT4gKHZhbC50cmltKCkgPT09IFwiXCIgJiYgdmFsLmluY2x1ZGVzKFwiXFxuXCIpID8gXCJcIiA6IHVuZGVmaW5lZCksXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiI3hEXCIsIFwiXFxyXCIpO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiIzEwXCIsIFwiXFxuXCIpO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmogPSBwYXJzZXIucGFyc2UoZW5jb2RlZCk7XG4gICAgICAgIGNvbnN0IHRleHROb2RlTmFtZSA9IFwiI3RleHRcIjtcbiAgICAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMocGFyc2VkT2JqKVswXTtcbiAgICAgICAgY29uc3QgcGFyc2VkT2JqVG9SZXR1cm4gPSBwYXJzZWRPYmpba2V5XTtcbiAgICAgICAgaWYgKHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV0pIHtcbiAgICAgICAgICAgIHBhcnNlZE9ialRvUmV0dXJuW2tleV0gPSBwYXJzZWRPYmpUb1JldHVyblt0ZXh0Tm9kZU5hbWVdO1xuICAgICAgICAgICAgZGVsZXRlIHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fZ2V0VmFsdWVGcm9tVGV4dE5vZGUocGFyc2VkT2JqVG9SZXR1cm4pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgaWYgKHZhbHVlLkVycm9yKSB7XG4gICAgICAgIHZhbHVlLkVycm9yLm1lc3NhZ2UgPSB2YWx1ZS5FcnJvci5tZXNzYWdlID8/IHZhbHVlLkVycm9yLk1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nID0gKGZvcm1FbnRyaWVzKSA9PiBPYmplY3QuZW50cmllcyhmb3JtRW50cmllcylcbiAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IF9fZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgLmpvaW4oXCImXCIpO1xuY29uc3QgbG9hZFF1ZXJ5RXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLkVycm9yPy5Db2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuRXJyb3IuQ29kZTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID09IDQwNCkge1xuICAgICAgICByZXR1cm4gXCJOb3RGb3VuZFwiO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IGRlX1NlbmRFbWFpbENvbW1hbmQsIHNlX1NlbmRFbWFpbENvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19xdWVyeVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBTZW5kRW1haWxDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIFNlbmRFbWFpbENvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTRVNDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIlNlbmRFbWFpbENvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9TZW5kRW1haWxDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kRW1haWxDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXNlciB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0J1xuXG5leHBvcnQgY2xhc3MgUXVpY2tTaWdodFVzZXIge1xuXHRhcm46IHN0cmluZyAvLyBhcm46YXdzOnF1aWNrc2lnaHQ6PFJFR0lPTj46PEFDQ09VTlQ+OnVzZXIvZGVmYXVsdC88SUFNIFJPTEUgTkFNRT4vPFNUUyBTRVNTSU9OPlxuXHRlbWFpbDogc3RyaW5nXG5cdGxhc3RBY2Nlc3M6IERhdGUgLy8gQ29tZXMgZnJvbSBDbG91ZFRyYWlsXG5cdHJvbGU6IFF1aWNrU2lnaHRSb2xlXG5cdHVzZXJuYW1lOiBzdHJpbmcgLy8gPElBTSBST0xFPi88U1RTIFNFU1NJT04+XG5cdGlhbVJvbGU6IHN0cmluZ1xuXHRzdHNTZXNzaW9uOiBzdHJpbmdcblx0aW52YWxpZDogYm9vbGVhbiAvLyBVc2VyIGlzIGludmFsaWQgaWYgdXNlcm5hbWUgaXMgXCJOL0FcIi4gU2VlIFJFQURNRS5tZCBmb3IgbW9yZSBkZXRhaWxzXG5cblx0Y29uc3RydWN0b3IocXVpY2tTaWdodFVzZXI6IFVzZXIpIHtcblx0XHR0aGlzLmFybiA9IHF1aWNrU2lnaHRVc2VyLkFyblxuXHRcdHRoaXMuZW1haWwgPSBxdWlja1NpZ2h0VXNlci5FbWFpbFxuXHRcdHRoaXMucm9sZSA9IFF1aWNrU2lnaHRSb2xlW3F1aWNrU2lnaHRVc2VyLlJvbGUgYXMga2V5b2YgdHlwZW9mIFF1aWNrU2lnaHRSb2xlXSAvLyBPbmx5IHZhbHVlcyB0aGF0IHdpbGwgYmUgcmV0dXJuZWQgLy8gYWxzbyB0aGUga2V5b2YgdHlwZW9mIGhhY2sgY2FtZSBmcm9tIGhlcmUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQyNjIzOTA1XG5cdFx0dGhpcy51c2VybmFtZSA9IHF1aWNrU2lnaHRVc2VyLlVzZXJOYW1lXG5cdFx0dGhpcy5pbnZhbGlkID0gdGhpcy51c2VybmFtZSA9PT0gJ04vQSdcblx0XHRjb25zdCBbaWFtUm9sZSwgc3RzU2Vzc2lvbl0gPSB0aGlzLnVzZXJuYW1lLnNwbGl0KCcvJylcblx0XHR0aGlzLmlhbVJvbGUgPSBpYW1Sb2xlXG5cdFx0dGhpcy5zdHNTZXNzaW9uID0gc3RzU2Vzc2lvblxuXHR9XG59XG5cbmV4cG9ydCBlbnVtIFF1aWNrU2lnaHRSb2xlIHtcblx0UkVBREVSID0gJ1JFQURFUicsIEFVVEhPUiA9ICdBVVRIT1InLCBBRE1JTiA9ICdBRE1JTidcbn1cbiIsImltcG9ydCB7IFNlbmRFbWFpbENvbW1hbmQsIFNFU0NsaWVudCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1zZXMnXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlciB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25NYW5hZ2VyIHtcblx0cHJpdmF0ZSBzZXNDbGllbnQgPSBuZXcgU0VTQ2xpZW50KHt9KVxuXHRwcml2YXRlIG5vTGFzdEFjY2Vzc0RhdGUgPSBuZXcgRGF0ZSgwKS50b0xvY2FsZVN0cmluZygpXG5cblx0cHVibGljIGFzeW5jIG5vdGlmeVVzZXIodXNlcjogUXVpY2tTaWdodFVzZXIpIHtcblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRjb25zb2xlLmRlYnVnKGBOb3RpZnlpbmcgJHtKU09OLnN0cmluZ2lmeSh1c2VyLCBudWxsLCAxKX1gKVxuXHRcdFxuXHRcdC8vIElmIHRoZSBkYXRlIGlzIDE5NzAsIHdlIGRpZG4ndCBmaW5kIGFueSBhY3Rpdml0eSBmb3IgdGhlIHVzZXJcblx0XHRjb25zdCBsYXN0QWNjZXNzID1cblx0XHRcdHVzZXIubGFzdEFjY2Vzcy50b0xvY2FsZVN0cmluZygpID09PSB0aGlzLm5vTGFzdEFjY2Vzc0RhdGVcblx0XHRcdFx0PyBgbm90IGluIHRoZSBsYXN0ICR7cHJvY2Vzcy5lbnYuZGVsZXRlRGF5c30gZGF5c2Bcblx0XHRcdFx0OiB1c2VyLmxhc3RBY2Nlc3MudG9Mb2NhbGVEYXRlU3RyaW5nKClcblxuXHRcdGNvbnN0IHN1YmplY3QgPSBgSTogUXVpY2tTaWdodCB1c2VyICR7dXNlci51c2VybmFtZX0gaW4gYWNjb3VudCAke3Byb2Nlc3MuZW52LmFjY291bnRBbGlhc30gd2lsbCBiZSBkZWxldGVkYFxuXHRcdGNvbnN0IGJvZHkgPSBgSW4gb3JkZXIgdG8gPGEgaHJlZj1cImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vcXVpY2tzaWdodC9wcmljaW5nL1wiPmNvbnRyb2wgY29zdHMgKCQyNC9tb250aC91c2VyKTwvYT4sXG4gICAgeW91ciBBV1MgUXVpY2tTaWdodCB1c2VyICcke3VzZXIudXNlcm5hbWV9JyBcbiAgICB3aWxsIGJlIGRlbGV0ZWQgd2hlbiB5b3UgaGF2ZSBub3QgYWNjZXNzZWQgUXVpY2tTaWdodCBpbiAke3Byb2Nlc3MuZW52LmRlbGV0ZURheXN9IGRheXMuIFxuICAgIENsb3VkVHJhaWwgcmVjb3JkcyBpbmRpY2F0ZSB0aGF0IHlvdXIgbGFzdCBhY2Nlc3Mgd2FzICR7bGFzdEFjY2Vzc30uPGJyIC8+PGJyIC8+XG4gICAgXG4gICAgWW91IGNhbiBrZWVwIHlvdXIgdXNlciBieSBsb2dnaW5nIGluIGFuZCB0YWtpbmcgYWN0aW9ucyBpbiBRdWlja1NpZ2h0LiBcbiAgICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGRvIG5vdGhpbmcsIGFuZCB5b3VyIHVzZXIgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRlbGV0ZWQuIFxuICAgIE5ldmVyIGZlYXIsIHlvdSBzaW1wbHkgbG9nIGJhY2sgaW50byBRdWlja1NpZ2h0IGFuZCBlbnRlciB5b3VyIGUtbWFpbCwgYW5kIHlvdXIgdXNlciBnZXRzIHJlY3JlYXRlZC4gXG4gICAgTm8gZGFzaGJvYXJkcyBvciBvdGhlciByZXNvdXJjZXMgd2lsbCBiZSBkZWxldGVkIGF0IHRoaXMgdGltZSAod2UgbWF5IGNsZWFuIHRob3NlIHVwIGluIHRoZSBmdXR1cmUsIHdpdGggbm90aWZpY2F0aW9uLCBvZiBjb3Vyc2UpLjxiciAvPjxiciAvPlxuICAgIFxuICAgIEFjY291bnQgTnVtYmVyOiAke3Byb2Nlc3MuZW52LmF3c0FjY291bnRJZH08YnIgLz5cbiAgICBBY2NvdW50IEFsaWFzOiAke3Byb2Nlc3MuZW52LmFjY291bnRBbGlhc308YnIgLz5cbiAgICBBc3N1bWVkIFJvbGU6ICR7dXNlci5pYW1Sb2xlfTxiciAvPlxuICAgIEVtYWlsOiAke3VzZXIuZW1haWx9PGJyIC8+PGJyIC8+XG4gIFxuICAgIEZvciBmdXJ0aGVyIGFzc2lzdGFuY2UsIGNvbnRhY3QgPGEgaHJlZj1cIm1haWx0bzoke3Byb2Nlc3MuZW52LmNvbnRhY3R9XCI+JHtwcm9jZXNzLmVudi5jb250YWN0fTwvYT4uIFRoYW5rIHlvdSBhbmQgaGF2ZSBhIGZhbnRhc3RpY2FsbHkgZnVuLWZpbGxlZCBkYXkg8J+lsy5cbiAgICBgXG5cblx0XHRjb25zdCBzZW5kRW1haWxDb21tYW5kID0gbmV3IFNlbmRFbWFpbENvbW1hbmQoe1xuXHRcdFx0U291cmNlOiBgJHtwcm9jZXNzLmVudi5hY2NvdW50QWxpYXN9IENsb3VkIEFjY291bnQgQWRtaW5pc3RyYXRvcjwke3Byb2Nlc3MuZW52LmZyb219PmAsXG5cdFx0XHREZXN0aW5hdGlvbjoge1xuXHRcdFx0XHRUb0FkZHJlc3NlczogW3VzZXIuZW1haWxdLFxuXHRcdFx0XHRDY0FkZHJlc3NlczogSlNPTi5wYXJzZShwcm9jZXNzLmVudi5jYyksXG5cdFx0XHR9LFxuXHRcdFx0UmVwbHlUb0FkZHJlc3NlczogW3Byb2Nlc3MuZW52LnJlcGx5VG9dLFxuXHRcdFx0U291cmNlQXJuOiBwcm9jZXNzLmVudi5zZXNBcm4sXG5cdFx0XHRNZXNzYWdlOiB7XG5cdFx0XHRcdFN1YmplY3Q6IHsgRGF0YTogc3ViamVjdCB9LFxuXHRcdFx0XHRCb2R5OiB7XG5cdFx0XHRcdFx0SHRtbDogeyBEYXRhOiBib2R5IH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH0pXG5cblx0XHRhd2FpdCB0aGlzLnNlc0NsaWVudC5zZW5kKHNlbmRFbWFpbENvbW1hbmQpXG5cdH1cbn0iLCJleHBvcnQgY29uc3QgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyA9IChvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG9wdGlvbnMudXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogb3B0aW9ucy51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIGRlZmF1bHRTaWduaW5nTmFtZTogXCJxdWlja3NpZ2h0XCIsXG4gICAgfTtcbn07XG4iLCJjb25zdCBxID0gXCJyZXF1aXJlZFwiLCByID0gXCJmblwiLCBzID0gXCJhcmd2XCIsIHQgPSBcInJlZlwiO1xuY29uc3QgYSA9IFwiaXNTZXRcIiwgYiA9IFwidHJlZVwiLCBjID0gXCJlcnJvclwiLCBkID0gXCJlbmRwb2ludFwiLCBlID0gXCJQYXJ0aXRpb25SZXN1bHRcIiwgZiA9IHsgW3FdOiBmYWxzZSwgXCJ0eXBlXCI6IFwiU3RyaW5nXCIgfSwgZyA9IHsgW3FdOiB0cnVlLCBcImRlZmF1bHRcIjogZmFsc2UsIFwidHlwZVwiOiBcIkJvb2xlYW5cIiB9LCBoID0geyBbdF06IFwiRW5kcG9pbnRcIiB9LCBpID0geyBbcl06IFwiYm9vbGVhbkVxdWFsc1wiLCBbc106IFt7IFt0XTogXCJVc2VGSVBTXCIgfSwgdHJ1ZV0gfSwgaiA9IHsgW3JdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3NdOiBbeyBbdF06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfSwgayA9IHt9LCBsID0geyBbcl06IFwiYm9vbGVhbkVxdWFsc1wiLCBbc106IFt0cnVlLCB7IFtyXTogXCJnZXRBdHRyXCIsIFtzXTogW3sgW3RdOiBlIH0sIFwic3VwcG9ydHNGSVBTXCJdIH1dIH0sIG0gPSB7IFtyXTogXCJib29sZWFuRXF1YWxzXCIsIFtzXTogW3RydWUsIHsgW3JdOiBcImdldEF0dHJcIiwgW3NdOiBbeyBbdF06IGUgfSwgXCJzdXBwb3J0c0R1YWxTdGFja1wiXSB9XSB9LCBuID0gW2ldLCBvID0gW2pdLCBwID0gW3sgW3RdOiBcIlJlZ2lvblwiIH1dO1xuY29uc3QgX2RhdGEgPSB7IHZlcnNpb246IFwiMS4wXCIsIHBhcmFtZXRlcnM6IHsgUmVnaW9uOiBmLCBVc2VEdWFsU3RhY2s6IGcsIFVzZUZJUFM6IGcsIEVuZHBvaW50OiBmIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbcl06IGEsIFtzXTogW2hdIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogbiwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBvLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyBlbmRwb2ludDogeyB1cmw6IGgsIHByb3BlcnRpZXM6IGssIGhlYWRlcnM6IGsgfSwgdHlwZTogZCB9XSB9XSB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbcl06IGEsIFtzXTogcCB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtyXTogXCJhd3MucGFydGl0aW9uXCIsIFtzXTogcCwgYXNzaWduOiBlIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2ksIGpdLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2wsIG1dLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3F1aWNrc2lnaHQtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaywgaGVhZGVyczogayB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogbiwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtsXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9xdWlja3NpZ2h0LWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGssIGhlYWRlcnM6IGsgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBvLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW21dLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3F1aWNrc2lnaHQue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGssIGhlYWRlcnM6IGsgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkR1YWxTdGFjayBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IER1YWxTdGFja1wiLCB0eXBlOiBjIH1dIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3F1aWNrc2lnaHQue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGssIGhlYWRlcnM6IGsgfSwgdHlwZTogZCB9XSB9XSB9XSB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgdHlwZTogYyB9XSB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRBd3NBdXRoUGx1Z2luLCByZXNvbHZlQXdzQXV0aENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQbHVnaW4sIHJlc29sdmVVc2VyQWdlbnRDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZVJlZ2lvbkNvbmZpZyB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0Q29udGVudExlbmd0aFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFJldHJ5UGx1Z2luLCByZXNvbHZlUmV0cnlDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBDbGllbnQgYXMgX19DbGllbnQsIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBRdWlja1NpZ2h0Q2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlQXdzQXV0aENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNik7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ183O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAc21pdGh5L2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAc21pdGh5L25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZz8uY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciA/PyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIoY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciksXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAc21pdGh5L3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxOC0wNC0wMVwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJRdWlja1NpZ2h0XCIsXG4gICAgdXJsUGFyc2VyOiBjb25maWc/LnVybFBhcnNlciA/PyBwYXJzZVVybCxcbiAgICB1dGY4RGVjb2RlcjogY29uZmlnPy51dGY4RGVjb2RlciA/PyBmcm9tVXRmOCxcbiAgICB1dGY4RW5jb2RlcjogY29uZmlnPy51dGY4RW5jb2RlciA/PyB0b1V0ZjgsXG59KTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTRU5TSVRJVkVfU1RSSU5HIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2Nlc3NEZW5pZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFZGl0aW9uID0ge1xuICAgIEVOVEVSUFJJU0U6IFwiRU5URVJQUklTRVwiLFxuICAgIEVOVEVSUFJJU0VfQU5EX1E6IFwiRU5URVJQUklTRV9BTkRfUVwiLFxuICAgIFNUQU5EQVJEOiBcIlNUQU5EQVJEXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhc2hib2FyZEJlaGF2aW9yID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhdGVnb3JpY2FsQWdncmVnYXRpb25GdW5jdGlvbiA9IHtcbiAgICBDT1VOVDogXCJDT1VOVFwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhdGVBZ2dyZWdhdGlvbkZ1bmN0aW9uID0ge1xuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgRElTVElOQ1RfQ09VTlQ6IFwiRElTVElOQ1RfQ09VTlRcIixcbiAgICBNQVg6IFwiTUFYXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxufTtcbmV4cG9ydCBjb25zdCBTaW1wbGVOdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uID0ge1xuICAgIEFWRVJBR0U6IFwiQVZFUkFHRVwiLFxuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgRElTVElOQ1RfQ09VTlQ6IFwiRElTVElOQ1RfQ09VTlRcIixcbiAgICBNQVg6IFwiTUFYXCIsXG4gICAgTUVESUFOOiBcIk1FRElBTlwiLFxuICAgIE1JTjogXCJNSU5cIixcbiAgICBTVERFVjogXCJTVERFVlwiLFxuICAgIFNUREVWUDogXCJTVERFVlBcIixcbiAgICBTVU06IFwiU1VNXCIsXG4gICAgVkFSOiBcIlZBUlwiLFxuICAgIFZBUlA6IFwiVkFSUFwiLFxufTtcbmV4cG9ydCBjb25zdCBTb3J0RGlyZWN0aW9uID0ge1xuICAgIEFTQzogXCJBU0NcIixcbiAgICBERVNDOiBcIkRFU0NcIixcbn07XG5leHBvcnQgY29uc3QgQW5hbHlzaXNFcnJvclR5cGUgPSB7XG4gICAgQUNDRVNTX0RFTklFRDogXCJBQ0NFU1NfREVOSUVEXCIsXG4gICAgQ09MVU1OX0dFT0dSQVBISUNfUk9MRV9NSVNNQVRDSDogXCJDT0xVTU5fR0VPR1JBUEhJQ19ST0xFX01JU01BVENIXCIsXG4gICAgQ09MVU1OX1JFUExBQ0VNRU5UX01JU1NJTkc6IFwiQ09MVU1OX1JFUExBQ0VNRU5UX01JU1NJTkdcIixcbiAgICBDT0xVTU5fVFlQRV9NSVNNQVRDSDogXCJDT0xVTU5fVFlQRV9NSVNNQVRDSFwiLFxuICAgIERBVEFfU0VUX05PVF9GT1VORDogXCJEQVRBX1NFVF9OT1RfRk9VTkRcIixcbiAgICBJTlRFUk5BTF9GQUlMVVJFOiBcIklOVEVSTkFMX0ZBSUxVUkVcIixcbiAgICBQQVJBTUVURVJfTk9UX0ZPVU5EOiBcIlBBUkFNRVRFUl9OT1RfRk9VTkRcIixcbiAgICBQQVJBTUVURVJfVFlQRV9JTlZBTElEOiBcIlBBUkFNRVRFUl9UWVBFX0lOVkFMSURcIixcbiAgICBQQVJBTUVURVJfVkFMVUVfSU5DT01QQVRJQkxFOiBcIlBBUkFNRVRFUl9WQUxVRV9JTkNPTVBBVElCTEVcIixcbiAgICBTT1VSQ0VfTk9UX0ZPVU5EOiBcIlNPVVJDRV9OT1RfRk9VTkRcIixcbn07XG5leHBvcnQgY29uc3QgUmVzb3VyY2VTdGF0dXMgPSB7XG4gICAgQ1JFQVRJT05fRkFJTEVEOiBcIkNSRUFUSU9OX0ZBSUxFRFwiLFxuICAgIENSRUFUSU9OX0lOX1BST0dSRVNTOiBcIkNSRUFUSU9OX0lOX1BST0dSRVNTXCIsXG4gICAgQ1JFQVRJT05fU1VDQ0VTU0ZVTDogXCJDUkVBVElPTl9TVUNDRVNTRlVMXCIsXG4gICAgREVMRVRFRDogXCJERUxFVEVEXCIsXG4gICAgVVBEQVRFX0ZBSUxFRDogXCJVUERBVEVfRkFJTEVEXCIsXG4gICAgVVBEQVRFX0lOX1BST0dSRVNTOiBcIlVQREFURV9JTl9QUk9HUkVTU1wiLFxuICAgIFVQREFURV9TVUNDRVNTRlVMOiBcIlVQREFURV9TVUNDRVNTRlVMXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlc2l6ZU9wdGlvbiA9IHtcbiAgICBGSVhFRDogXCJGSVhFRFwiLFxuICAgIFJFU1BPTlNJVkU6IFwiUkVTUE9OU0lWRVwiLFxufTtcbmV4cG9ydCBjb25zdCBQYXBlck9yaWVudGF0aW9uID0ge1xuICAgIExBTkRTQ0FQRTogXCJMQU5EU0NBUEVcIixcbiAgICBQT1JUUkFJVDogXCJQT1JUUkFJVFwiLFxufTtcbmV4cG9ydCBjb25zdCBQYXBlclNpemUgPSB7XG4gICAgQTA6IFwiQTBcIixcbiAgICBBMTogXCJBMVwiLFxuICAgIEEyOiBcIkEyXCIsXG4gICAgQTM6IFwiQTNcIixcbiAgICBBNDogXCJBNFwiLFxuICAgIEE1OiBcIkE1XCIsXG4gICAgSklTX0I0OiBcIkpJU19CNFwiLFxuICAgIEpJU19CNTogXCJKSVNfQjVcIixcbiAgICBVU19MRUdBTDogXCJVU19MRUdBTFwiLFxuICAgIFVTX0xFVFRFUjogXCJVU19MRVRURVJcIixcbiAgICBVU19UQUJMT0lEX0xFREdFUjogXCJVU19UQUJMT0lEX0xFREdFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBTaGVldENvbnRlbnRUeXBlID0ge1xuICAgIElOVEVSQUNUSVZFOiBcIklOVEVSQUNUSVZFXCIsXG4gICAgUEFHSU5BVEVEOiBcIlBBR0lOQVRFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBTcGVjaWFsVmFsdWUgPSB7XG4gICAgRU1QVFk6IFwiRU1QVFlcIixcbiAgICBOVUxMOiBcIk5VTExcIixcbiAgICBPVEhFUjogXCJPVEhFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBOZWdhdGl2ZVZhbHVlRGlzcGxheU1vZGUgPSB7XG4gICAgTkVHQVRJVkU6IFwiTkVHQVRJVkVcIixcbiAgICBQT1NJVElWRTogXCJQT1NJVElWRVwiLFxufTtcbmV4cG9ydCBjb25zdCBOdW1iZXJTY2FsZSA9IHtcbiAgICBBVVRPOiBcIkFVVE9cIixcbiAgICBCSUxMSU9OUzogXCJCSUxMSU9OU1wiLFxuICAgIE1JTExJT05TOiBcIk1JTExJT05TXCIsXG4gICAgTk9ORTogXCJOT05FXCIsXG4gICAgVEhPVVNBTkRTOiBcIlRIT1VTQU5EU1wiLFxuICAgIFRSSUxMSU9OUzogXCJUUklMTElPTlNcIixcbn07XG5leHBvcnQgY29uc3QgTnVtZXJpY1NlcGFyYXRvclN5bWJvbCA9IHtcbiAgICBDT01NQTogXCJDT01NQVwiLFxuICAgIERPVDogXCJET1RcIixcbiAgICBTUEFDRTogXCJTUEFDRVwiLFxufTtcbmV4cG9ydCBjb25zdCBWaXNpYmlsaXR5ID0ge1xuICAgIEhJRERFTjogXCJISURERU5cIixcbiAgICBWSVNJQkxFOiBcIlZJU0lCTEVcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uUm9sZSA9IHtcbiAgICBESU1FTlNJT046IFwiRElNRU5TSU9OXCIsXG4gICAgTUVBU1VSRTogXCJNRUFTVVJFXCIsXG59O1xuZXhwb3J0IGNvbnN0IENyb3NzRGF0YXNldFR5cGVzID0ge1xuICAgIEFMTF9EQVRBU0VUUzogXCJBTExfREFUQVNFVFNcIixcbiAgICBTSU5HTEVfREFUQVNFVDogXCJTSU5HTEVfREFUQVNFVFwiLFxufTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yeUZpbHRlck1hdGNoT3BlcmF0b3IgPSB7XG4gICAgQ09OVEFJTlM6IFwiQ09OVEFJTlNcIixcbiAgICBET0VTX05PVF9DT05UQUlOOiBcIkRPRVNfTk9UX0NPTlRBSU5cIixcbiAgICBET0VTX05PVF9FUVVBTDogXCJET0VTX05PVF9FUVVBTFwiLFxuICAgIEVORFNfV0lUSDogXCJFTkRTX1dJVEhcIixcbiAgICBFUVVBTFM6IFwiRVFVQUxTXCIsXG4gICAgU1RBUlRTX1dJVEg6IFwiU1RBUlRTX1dJVEhcIixcbn07XG5leHBvcnQgY29uc3QgRmlsdGVyTnVsbE9wdGlvbiA9IHtcbiAgICBBTExfVkFMVUVTOiBcIkFMTF9WQUxVRVNcIixcbiAgICBOT05fTlVMTFNfT05MWTogXCJOT05fTlVMTFNfT05MWVwiLFxuICAgIE5VTExTX09OTFk6IFwiTlVMTFNfT05MWVwiLFxufTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yeUZpbHRlclNlbGVjdEFsbE9wdGlvbnMgPSB7XG4gICAgRklMVEVSX0FMTF9WQUxVRVM6IFwiRklMVEVSX0FMTF9WQUxVRVNcIixcbn07XG5leHBvcnQgY29uc3QgTnVtZXJpY0VxdWFsaXR5TWF0Y2hPcGVyYXRvciA9IHtcbiAgICBET0VTX05PVF9FUVVBTDogXCJET0VTX05PVF9FUVVBTFwiLFxuICAgIEVRVUFMUzogXCJFUVVBTFNcIixcbn07XG5leHBvcnQgY29uc3QgTnVtZXJpY0ZpbHRlclNlbGVjdEFsbE9wdGlvbnMgPSB7XG4gICAgRklMVEVSX0FMTF9WQUxVRVM6IFwiRklMVEVSX0FMTF9WQUxVRVNcIixcbn07XG5leHBvcnQgY29uc3QgQW5jaG9yT3B0aW9uID0ge1xuICAgIE5PVzogXCJOT1dcIixcbn07XG5leHBvcnQgY29uc3QgVGltZUdyYW51bGFyaXR5ID0ge1xuICAgIERBWTogXCJEQVlcIixcbiAgICBIT1VSOiBcIkhPVVJcIixcbiAgICBNSUxMSVNFQ09ORDogXCJNSUxMSVNFQ09ORFwiLFxuICAgIE1JTlVURTogXCJNSU5VVEVcIixcbiAgICBNT05USDogXCJNT05USFwiLFxuICAgIFFVQVJURVI6IFwiUVVBUlRFUlwiLFxuICAgIFNFQ09ORDogXCJTRUNPTkRcIixcbiAgICBXRUVLOiBcIldFRUtcIixcbiAgICBZRUFSOiBcIllFQVJcIixcbn07XG5leHBvcnQgY29uc3QgV2lkZ2V0U3RhdHVzID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlbGF0aXZlRGF0ZVR5cGUgPSB7XG4gICAgTEFTVDogXCJMQVNUXCIsXG4gICAgTkVYVDogXCJORVhUXCIsXG4gICAgTk9XOiBcIk5PV1wiLFxuICAgIFBSRVZJT1VTOiBcIlBSRVZJT1VTXCIsXG4gICAgVEhJUzogXCJUSElTXCIsXG59O1xuZXhwb3J0IGNvbnN0IEZpbHRlclZpc3VhbFNjb3BlID0ge1xuICAgIEFMTF9WSVNVQUxTOiBcIkFMTF9WSVNVQUxTXCIsXG4gICAgU0VMRUNURURfVklTVUFMUzogXCJTRUxFQ1RFRF9WSVNVQUxTXCIsXG59O1xuZXhwb3J0IGNvbnN0IFZhbHVlV2hlblVuc2V0T3B0aW9uID0ge1xuICAgIE5VTEw6IFwiTlVMTFwiLFxuICAgIFJFQ09NTUVOREVEX1ZBTFVFOiBcIlJFQ09NTUVOREVEX1ZBTFVFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFBhcmFtZXRlclZhbHVlVHlwZSA9IHtcbiAgICBNVUxUSV9WQUxVRUQ6IFwiTVVMVElfVkFMVUVEXCIsXG4gICAgU0lOR0xFX1ZBTFVFRDogXCJTSU5HTEVfVkFMVUVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IEZvbnREZWNvcmF0aW9uID0ge1xuICAgIE5PTkU6IFwiTk9ORVwiLFxuICAgIFVOREVSTElORTogXCJVTkRFUkxJTkVcIixcbn07XG5leHBvcnQgY29uc3QgUmVsYXRpdmVGb250U2l6ZSA9IHtcbiAgICBFWFRSQV9MQVJHRTogXCJFWFRSQV9MQVJHRVwiLFxuICAgIEVYVFJBX1NNQUxMOiBcIkVYVFJBX1NNQUxMXCIsXG4gICAgTEFSR0U6IFwiTEFSR0VcIixcbiAgICBNRURJVU06IFwiTUVESVVNXCIsXG4gICAgU01BTEw6IFwiU01BTExcIixcbn07XG5leHBvcnQgY29uc3QgRm9udFN0eWxlID0ge1xuICAgIElUQUxJQzogXCJJVEFMSUNcIixcbiAgICBOT1JNQUw6IFwiTk9STUFMXCIsXG59O1xuZXhwb3J0IGNvbnN0IEZvbnRXZWlnaHROYW1lID0ge1xuICAgIEJPTEQ6IFwiQk9MRFwiLFxuICAgIE5PUk1BTDogXCJOT1JNQUxcIixcbn07XG5leHBvcnQgY29uc3QgU2hlZXRDb250cm9sRGF0ZVRpbWVQaWNrZXJUeXBlID0ge1xuICAgIERBVEVfUkFOR0U6IFwiREFURV9SQU5HRVwiLFxuICAgIFNJTkdMRV9WQUxVRUQ6IFwiU0lOR0xFX1ZBTFVFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBTaGVldENvbnRyb2xMaXN0VHlwZSA9IHtcbiAgICBNVUxUSV9TRUxFQ1Q6IFwiTVVMVElfU0VMRUNUXCIsXG4gICAgU0lOR0xFX1NFTEVDVDogXCJTSU5HTEVfU0VMRUNUXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNoZWV0Q29udHJvbFNsaWRlclR5cGUgPSB7XG4gICAgUkFOR0U6IFwiUkFOR0VcIixcbiAgICBTSU5HTEVfUE9JTlQ6IFwiU0lOR0xFX1BPSU5UXCIsXG59O1xuZXhwb3J0IGNvbnN0IExheW91dEVsZW1lbnRUeXBlID0ge1xuICAgIEZJTFRFUl9DT05UUk9MOiBcIkZJTFRFUl9DT05UUk9MXCIsXG4gICAgUEFSQU1FVEVSX0NPTlRST0w6IFwiUEFSQU1FVEVSX0NPTlRST0xcIixcbiAgICBURVhUX0JPWDogXCJURVhUX0JPWFwiLFxuICAgIFZJU1VBTDogXCJWSVNVQUxcIixcbn07XG5leHBvcnQgY29uc3QgU2VjdGlvblBhZ2VCcmVha1N0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIEVOQUJMRUQ6IFwiRU5BQkxFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBTZWxlY3RlZEZpZWxkT3B0aW9ucyA9IHtcbiAgICBBTExfRklFTERTOiBcIkFMTF9GSUVMRFNcIixcbn07XG5leHBvcnQgY29uc3QgVGFyZ2V0VmlzdWFsT3B0aW9ucyA9IHtcbiAgICBBTExfVklTVUFMUzogXCJBTExfVklTVUFMU1wiLFxufTtcbmV4cG9ydCBjb25zdCBTZWxlY3RBbGxWYWx1ZU9wdGlvbnMgPSB7XG4gICAgQUxMX1ZBTFVFUzogXCJBTExfVkFMVUVTXCIsXG59O1xuZXhwb3J0IGNvbnN0IFVSTFRhcmdldENvbmZpZ3VyYXRpb24gPSB7XG4gICAgTkVXX1RBQjogXCJORVdfVEFCXCIsXG4gICAgTkVXX1dJTkRPVzogXCJORVdfV0lORE9XXCIsXG4gICAgU0FNRV9UQUI6IFwiU0FNRV9UQUJcIixcbn07XG5leHBvcnQgY29uc3QgVmlzdWFsQ3VzdG9tQWN0aW9uVHJpZ2dlciA9IHtcbiAgICBEQVRBX1BPSU5UX0NMSUNLOiBcIkRBVEFfUE9JTlRfQ0xJQ0tcIixcbiAgICBEQVRBX1BPSU5UX01FTlU6IFwiREFUQV9QT0lOVF9NRU5VXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJhcnNBcnJhbmdlbWVudCA9IHtcbiAgICBDTFVTVEVSRUQ6IFwiQ0xVU1RFUkVEXCIsXG4gICAgU1RBQ0tFRDogXCJTVEFDS0VEXCIsXG4gICAgU1RBQ0tFRF9QRVJDRU5UOiBcIlNUQUNLRURfUEVSQ0VOVFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxDb250ZW50ID0ge1xuICAgIFBFUkNFTlQ6IFwiUEVSQ0VOVFwiLFxuICAgIFZBTFVFOiBcIlZBTFVFXCIsXG4gICAgVkFMVUVfQU5EX1BFUkNFTlQ6IFwiVkFMVUVfQU5EX1BFUkNFTlRcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YUxhYmVsT3ZlcmxhcCA9IHtcbiAgICBESVNBQkxFX09WRVJMQVA6IFwiRElTQUJMRV9PVkVSTEFQXCIsXG4gICAgRU5BQkxFX09WRVJMQVA6IFwiRU5BQkxFX09WRVJMQVBcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YUxhYmVsUG9zaXRpb24gPSB7XG4gICAgQk9UVE9NOiBcIkJPVFRPTVwiLFxuICAgIElOU0lERTogXCJJTlNJREVcIixcbiAgICBMRUZUOiBcIkxFRlRcIixcbiAgICBPVVRTSURFOiBcIk9VVFNJREVcIixcbiAgICBSSUdIVDogXCJSSUdIVFwiLFxuICAgIFRPUDogXCJUT1BcIixcbn07XG5leHBvcnQgY29uc3QgTGVnZW5kUG9zaXRpb24gPSB7XG4gICAgQVVUTzogXCJBVVRPXCIsXG4gICAgQk9UVE9NOiBcIkJPVFRPTVwiLFxuICAgIFJJR0hUOiBcIlJJR0hUXCIsXG4gICAgVE9QOiBcIlRPUFwiLFxufTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydE9yaWVudGF0aW9uID0ge1xuICAgIEhPUklaT05UQUw6IFwiSE9SSVpPTlRBTFwiLFxuICAgIFZFUlRJQ0FMOiBcIlZFUlRJQ0FMXCIsXG59O1xuZXhwb3J0IGNvbnN0IEF4aXNCaW5kaW5nID0ge1xuICAgIFBSSU1BUllfWUFYSVM6IFwiUFJJTUFSWV9ZQVhJU1wiLFxuICAgIFNFQ09OREFSWV9ZQVhJUzogXCJTRUNPTkRBUllfWUFYSVNcIixcbn07XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZUxhYmVsSG9yaXpvbnRhbFBvc2l0aW9uID0ge1xuICAgIENFTlRFUjogXCJDRU5URVJcIixcbiAgICBMRUZUOiBcIkxFRlRcIixcbiAgICBSSUdIVDogXCJSSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lVmFsdWVMYWJlbFJlbGF0aXZlUG9zaXRpb24gPSB7XG4gICAgQUZURVJfQ1VTVE9NX0xBQkVMOiBcIkFGVEVSX0NVU1RPTV9MQUJFTFwiLFxuICAgIEJFRk9SRV9DVVNUT01fTEFCRUw6IFwiQkVGT1JFX0NVU1RPTV9MQUJFTFwiLFxufTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lTGFiZWxWZXJ0aWNhbFBvc2l0aW9uID0ge1xuICAgIEFCT1ZFOiBcIkFCT1ZFXCIsXG4gICAgQkVMT1c6IFwiQkVMT1dcIixcbn07XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZVBhdHRlcm5UeXBlID0ge1xuICAgIERBU0hFRDogXCJEQVNIRURcIixcbiAgICBET1RURUQ6IFwiRE9UVEVEXCIsXG4gICAgU09MSUQ6IFwiU09MSURcIixcbn07XG5leHBvcnQgY29uc3QgUGFuZWxCb3JkZXJTdHlsZSA9IHtcbiAgICBEQVNIRUQ6IFwiREFTSEVEXCIsXG4gICAgRE9UVEVEOiBcIkRPVFRFRFwiLFxuICAgIFNPTElEOiBcIlNPTElEXCIsXG59O1xuZXhwb3J0IGNvbnN0IEhvcml6b250YWxUZXh0QWxpZ25tZW50ID0ge1xuICAgIEFVVE86IFwiQVVUT1wiLFxuICAgIENFTlRFUjogXCJDRU5URVJcIixcbiAgICBMRUZUOiBcIkxFRlRcIixcbiAgICBSSUdIVDogXCJSSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBTbWFsbE11bHRpcGxlc0F4aXNQbGFjZW1lbnQgPSB7XG4gICAgSU5TSURFOiBcIklOU0lERVwiLFxuICAgIE9VVFNJREU6IFwiT1VUU0lERVwiLFxufTtcbmV4cG9ydCBjb25zdCBTbWFsbE11bHRpcGxlc0F4aXNTY2FsZSA9IHtcbiAgICBJTkRFUEVOREVOVDogXCJJTkRFUEVOREVOVFwiLFxuICAgIFNIQVJFRDogXCJTSEFSRURcIixcbn07XG5leHBvcnQgY29uc3QgT3RoZXJDYXRlZ29yaWVzID0ge1xuICAgIEVYQ0xVREU6IFwiRVhDTFVERVwiLFxuICAgIElOQ0xVREU6IFwiSU5DTFVERVwiLFxufTtcbmV4cG9ydCBjb25zdCBUb29sdGlwVGl0bGVUeXBlID0ge1xuICAgIE5PTkU6IFwiTk9ORVwiLFxuICAgIFBSSU1BUllfVkFMVUU6IFwiUFJJTUFSWV9WQUxVRVwiLFxufTtcbmV4cG9ydCBjb25zdCBTZWxlY3RlZFRvb2x0aXBUeXBlID0ge1xuICAgIEJBU0lDOiBcIkJBU0lDXCIsXG4gICAgREVUQUlMRUQ6IFwiREVUQUlMRURcIixcbn07XG5leHBvcnQgY29uc3QgQm94UGxvdEZpbGxTdHlsZSA9IHtcbiAgICBTT0xJRDogXCJTT0xJRFwiLFxuICAgIFRSQU5TUEFSRU5UOiBcIlRSQU5TUEFSRU5UXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhbGN1bGF0ZWRGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRXhwcmVzc2lvbiAmJiB7IEV4cHJlc3Npb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDdXN0b21Db2xvckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRmllbGRWYWx1ZSAmJiB7IEZpZWxkVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDb2xvcnNDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21Db2xvcnMgJiYgeyBDdXN0b21Db2xvcnM6IG9iai5DdXN0b21Db2xvcnMubWFwKChpdGVtKSA9PiBDdXN0b21Db2xvckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5OdWxsU3RyaW5nICYmIHsgTnVsbFN0cmluZzogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEN1cnJlbmN5RGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlByZWZpeCAmJiB7IFByZWZpeDogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLlN1ZmZpeCAmJiB7IFN1ZmZpeDogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uOiBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IE51bWJlckRpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QcmVmaXggJiYgeyBQcmVmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5TdWZmaXggJiYgeyBTdWZmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBQZXJjZW50YWdlRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlByZWZpeCAmJiB7IFByZWZpeDogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLlN1ZmZpeCAmJiB7IFN1ZmZpeDogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uOiBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5OdW1iZXJEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIE51bWJlckRpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uOiBOdW1iZXJEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVtYmVyRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouQ3VycmVuY3lEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEN1cnJlbmN5RGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb246IEN1cnJlbmN5RGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkN1cnJlbmN5RGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouUGVyY2VudGFnZURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgUGVyY2VudGFnZURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uOiBQZXJjZW50YWdlRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlBlcmNlbnRhZ2VEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uOiBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLk51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb246IE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1iZXJGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgRm9ybWF0Q29uZmlndXJhdGlvbjogTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIE51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb246IE51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbjogTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0cmluZ0Zvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBTdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uOiBTdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5TdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLk51bWJlckZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdW1iZXJGb3JtYXRDb25maWd1cmF0aW9uOiBOdW1iZXJGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdW1iZXJGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVUaW1lRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIERhdGVUaW1lRm9ybWF0Q29uZmlndXJhdGlvbjogRGF0ZVRpbWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ29sdW1uQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IEZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouQ29sb3JzQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIENvbG9yc0NvbmZpZ3VyYXRpb246IENvbG9yc0NvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNvbG9yc0NvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUm9sbGluZ0RhdGVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FeHByZXNzaW9uICYmIHsgRXhwcmVzc2lvbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRpbWVSYW5nZUZpbHRlclZhbHVlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Sb2xsaW5nRGF0ZSAmJiB7IFJvbGxpbmdEYXRlOiBSb2xsaW5nRGF0ZUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJvbGxpbmdEYXRlKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRpbWVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUmFuZ2VNaW5pbXVtVmFsdWUgJiYgeyBSYW5nZU1pbmltdW1WYWx1ZTogVGltZVJhbmdlRmlsdGVyVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJhbmdlTWluaW11bVZhbHVlKSB9KSxcbiAgICAuLi4ob2JqLlJhbmdlTWF4aW11bVZhbHVlICYmIHsgUmFuZ2VNYXhpbXVtVmFsdWU6IFRpbWVSYW5nZUZpbHRlclZhbHVlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5SYW5nZU1heGltdW1WYWx1ZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlRpbWVSYW5nZUZpbHRlciAmJiB7IFRpbWVSYW5nZUZpbHRlcjogVGltZVJhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5UaW1lUmFuZ2VGaWx0ZXIpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRmlsdGVyR3JvdXBGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZpbHRlcnMgJiYgeyBGaWx0ZXJzOiBvYmouRmlsdGVycy5tYXAoKGl0ZW0pID0+IEZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRlVGltZURlZmF1bHRWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY1ZhbHVlcyAmJiB7IFN0YXRpY1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLlJvbGxpbmdEYXRlICYmIHsgUm9sbGluZ0RhdGU6IFJvbGxpbmdEYXRlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm9sbGluZ0RhdGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkN1c3RvbVZhbHVlICYmIHsgQ3VzdG9tVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EZWZhdWx0VmFsdWVzICYmIHsgRGVmYXVsdFZhbHVlczogRGF0ZVRpbWVEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EZWZhdWx0VmFsdWVzKSB9KSxcbiAgICAuLi4ob2JqLlZhbHVlV2hlblVuc2V0ICYmIHtcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IERhdGVUaW1lVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WYWx1ZVdoZW5VbnNldCksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZWNpbWFsRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RhdGljVmFsdWVzICYmIHsgU3RhdGljVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGVjaW1hbFZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWUgJiYgeyBDdXN0b21WYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGVmYXVsdFZhbHVlcyAmJiB7IERlZmF1bHRWYWx1ZXM6IERlY2ltYWxEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EZWZhdWx0VmFsdWVzKSB9KSxcbiAgICAuLi4ob2JqLlZhbHVlV2hlblVuc2V0ICYmIHtcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IERlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZhbHVlV2hlblVuc2V0KSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEludGVnZXJEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdGF0aWNWYWx1ZXMgJiYgeyBTdGF0aWNWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBJbnRlZ2VyVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21WYWx1ZSAmJiB7IEN1c3RvbVZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EZWZhdWx0VmFsdWVzICYmIHsgRGVmYXVsdFZhbHVlczogSW50ZWdlckRlZmF1bHRWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRlZmF1bHRWYWx1ZXMpIH0pLFxuICAgIC4uLihvYmouVmFsdWVXaGVuVW5zZXQgJiYge1xuICAgICAgICBWYWx1ZVdoZW5VbnNldDogSW50ZWdlclZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVmFsdWVXaGVuVW5zZXQpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU3RyaW5nRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RhdGljVmFsdWVzICYmIHsgU3RhdGljVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU3RyaW5nVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21WYWx1ZSAmJiB7IEN1c3RvbVZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRlZmF1bHRWYWx1ZXMgJiYgeyBEZWZhdWx0VmFsdWVzOiBTdHJpbmdEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EZWZhdWx0VmFsdWVzKSB9KSxcbiAgICAuLi4ob2JqLlZhbHVlV2hlblVuc2V0ICYmIHtcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IFN0cmluZ1ZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVmFsdWVXaGVuVW5zZXQpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uICYmIHtcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb246IFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5TdHJpbmdQYXJhbWV0ZXJEZWNsYXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5EZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb24gJiYge1xuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb246IERlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbiAmJiB7XG4gICAgICAgIEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbjogSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5JbnRlZ2VyUGFyYW1ldGVyRGVjbGFyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbiAmJiB7XG4gICAgICAgIERhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb246IERhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU2hlZXRFbGVtZW50UmVuZGVyaW5nUnVsZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRXhwcmVzc2lvbiAmJiB7IEV4cHJlc3Npb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBGcmVlRm9ybUxheW91dEVsZW1lbnRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlJlbmRlcmluZ1J1bGVzICYmIHtcbiAgICAgICAgUmVuZGVyaW5nUnVsZXM6IG9iai5SZW5kZXJpbmdSdWxlcy5tYXAoKGl0ZW0pID0+IFNoZWV0RWxlbWVudFJlbmRlcmluZ1J1bGVGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRnJlZUZvcm1MYXlvdXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBGcmVlRm9ybVNlY3Rpb25MYXlvdXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBTZWN0aW9uTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgQm9keVNlY3Rpb25Db250ZW50RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBCb2R5U2VjdGlvbkNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEhlYWRlckZvb3RlclNlY3Rpb25Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBTZWN0aW9uQmFzZWRMYXlvdXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBMYXlvdXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBMYXlvdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEN1c3RvbVBhcmFtZXRlclZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RyaW5nVmFsdWVzICYmIHsgU3RyaW5nVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouSW50ZWdlclZhbHVlcyAmJiB7IEludGVnZXJWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5EZWNpbWFsVmFsdWVzICYmIHsgRGVjaW1hbFZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLkRhdGVUaW1lVmFsdWVzICYmIHsgRGF0ZVRpbWVWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21WYWx1ZXMgJiYgeyBDdXN0b21WYWx1ZXM6IEN1c3RvbVBhcmFtZXRlclZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3VzdG9tVmFsdWVzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbjogQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBTZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlICYmIHsgVmFsdWU6IERlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WYWx1ZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDdXN0b21BY3Rpb25TZXRQYXJhbWV0ZXJzT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25zICYmIHtcbiAgICAgICAgUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uczogb2JqLlBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbnMubWFwKChpdGVtKSA9PiBTZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TZXRQYXJhbWV0ZXJzT3BlcmF0aW9uICYmIHtcbiAgICAgICAgU2V0UGFyYW1ldGVyc09wZXJhdGlvbjogQ3VzdG9tQWN0aW9uU2V0UGFyYW1ldGVyc09wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouU2V0UGFyYW1ldGVyc09wZXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBWaXN1YWxDdXN0b21BY3Rpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGFQYXRoTGFiZWxUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5GaWVsZFZhbHVlICYmIHsgRmllbGRWYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGFMYWJlbFR5cGVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRhdGFQYXRoTGFiZWxUeXBlICYmIHsgRGF0YVBhdGhMYWJlbFR5cGU6IERhdGFQYXRoTGFiZWxUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRhUGF0aExhYmVsVHlwZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxPcHRpb25zRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhTGFiZWxUeXBlcyAmJiB7XG4gICAgICAgIERhdGFMYWJlbFR5cGVzOiBvYmouRGF0YUxhYmVsVHlwZXMubWFwKChpdGVtKSA9PiBEYXRhTGFiZWxUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENhdGVnb3JpY2FsRGltZW5zaW9uRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBTdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVEaW1lbnNpb25GaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IERhdGVUaW1lRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1lcmljYWxEaW1lbnNpb25GaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgRGltZW5zaW9uRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhdGVnb3JpY2FsRGltZW5zaW9uRmllbGQgJiYge1xuICAgICAgICBDYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkOiBDYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVEaW1lbnNpb25GaWVsZCAmJiB7IERhdGVEaW1lbnNpb25GaWVsZDogRGF0ZURpbWVuc2lvbkZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRlRGltZW5zaW9uRmllbGQpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRXhwcmVzc2lvbiAmJiB7IEV4cHJlc3Npb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yaWNhbE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IFN0cmluZ0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZU1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IERhdGVUaW1lRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1lcmljYWxNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGQgJiYge1xuICAgICAgICBDYXRlZ29yaWNhbE1lYXN1cmVGaWVsZDogQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNhdGVnb3JpY2FsTWVhc3VyZUZpZWxkKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVNZWFzdXJlRmllbGQgJiYgeyBEYXRlTWVhc3VyZUZpZWxkOiBEYXRlTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRlTWVhc3VyZUZpZWxkKSB9KSxcbiAgICAuLi4ob2JqLkNhbGN1bGF0ZWRNZWFzdXJlRmllbGQgJiYge1xuICAgICAgICBDYWxjdWxhdGVkTWVhc3VyZUZpZWxkOiBDYWxjdWxhdGVkTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DYWxjdWxhdGVkTWVhc3VyZUZpZWxkKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEJhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlcyAmJiB7IFZhbHVlczogb2JqLlZhbHVlcy5tYXAoKGl0ZW0pID0+IE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydEZpZWxkV2VsbHNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVTdGF0aWNEYXRhQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWUgJiYgeyBWYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVEYXRhQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RhdGljQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIFN0YXRpY0NvbmZpZ3VyYXRpb246IFJlZmVyZW5jZUxpbmVTdGF0aWNEYXRhQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouU3RhdGljQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lVmFsdWVMYWJlbENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBOdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lTGFiZWxDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZUxhYmVsQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIFZhbHVlTGFiZWxDb25maWd1cmF0aW9uOiBSZWZlcmVuY2VMaW5lVmFsdWVMYWJlbENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZhbHVlTGFiZWxDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRhdGFDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgRGF0YUNvbmZpZ3VyYXRpb246IFJlZmVyZW5jZUxpbmVEYXRhQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0YUNvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouTGFiZWxDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTGFiZWxDb25maWd1cmF0aW9uOiBSZWZlcmVuY2VMaW5lTGFiZWxDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5MYWJlbENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0YVBhdGhWYWx1ZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRmllbGRWYWx1ZSAmJiB7IEZpZWxkVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhUGF0aENvbG9yRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FbGVtZW50ICYmIHsgRWxlbWVudDogRGF0YVBhdGhWYWx1ZUZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRWxlbWVudCkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBWaXN1YWxQYWxldHRlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db2xvck1hcCAmJiB7IENvbG9yTWFwOiBvYmouQ29sb3JNYXAubWFwKChpdGVtKSA9PiBEYXRhUGF0aENvbG9yRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEJhckNoYXJ0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmlzdWFsUGFsZXR0ZSAmJiB7IFZpc3VhbFBhbGV0dGU6IFZpc3VhbFBhbGV0dGVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZpc3VhbFBhbGV0dGUpIH0pLFxuICAgIC4uLihvYmouRGF0YUxhYmVscyAmJiB7IERhdGFMYWJlbHM6IERhdGFMYWJlbE9wdGlvbnNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRhdGFMYWJlbHMpIH0pLFxuICAgIC4uLihvYmouUmVmZXJlbmNlTGluZXMgJiYge1xuICAgICAgICBSZWZlcmVuY2VMaW5lczogb2JqLlJlZmVyZW5jZUxpbmVzLm1hcCgoaXRlbSkgPT4gUmVmZXJlbmNlTGluZUZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydFZpc3VhbEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IG9iai5WYWx1ZXMubWFwKChpdGVtKSA9PiBNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQm94UGxvdEZpZWxkV2VsbHNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IENhbGN1bGF0ZWRGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZywgQ29sdW1uQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZywgUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2csIH0gZnJvbSBcIi4vbW9kZWxzXzBcIjtcbmltcG9ydCB7IFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1F1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgdmFyIERhdGFTb3VyY2VQYXJhbWV0ZXJzO1xuKGZ1bmN0aW9uIChEYXRhU291cmNlUGFyYW1ldGVycykge1xuICAgIERhdGFTb3VyY2VQYXJhbWV0ZXJzLnZpc2l0ID0gKHZhbHVlLCB2aXNpdG9yKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS5BbWF6b25FbGFzdGljc2VhcmNoUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQW1hem9uRWxhc3RpY3NlYXJjaFBhcmFtZXRlcnModmFsdWUuQW1hem9uRWxhc3RpY3NlYXJjaFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuQXRoZW5hUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQXRoZW5hUGFyYW1ldGVycyh2YWx1ZS5BdGhlbmFQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkF1cm9yYVBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF1cm9yYVBhcmFtZXRlcnModmFsdWUuQXVyb3JhUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5BdXJvcmFQb3N0Z3JlU3FsUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQXVyb3JhUG9zdGdyZVNxbFBhcmFtZXRlcnModmFsdWUuQXVyb3JhUG9zdGdyZVNxbFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuQXdzSW90QW5hbHl0aWNzUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQXdzSW90QW5hbHl0aWNzUGFyYW1ldGVycyh2YWx1ZS5Bd3NJb3RBbmFseXRpY3NQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkppcmFQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5KaXJhUGFyYW1ldGVycyh2YWx1ZS5KaXJhUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5NYXJpYURiUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuTWFyaWFEYlBhcmFtZXRlcnModmFsdWUuTWFyaWFEYlBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuTXlTcWxQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5NeVNxbFBhcmFtZXRlcnModmFsdWUuTXlTcWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLk9yYWNsZVBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLk9yYWNsZVBhcmFtZXRlcnModmFsdWUuT3JhY2xlUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5Qb3N0Z3JlU3FsUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUG9zdGdyZVNxbFBhcmFtZXRlcnModmFsdWUuUG9zdGdyZVNxbFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuUHJlc3RvUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUHJlc3RvUGFyYW1ldGVycyh2YWx1ZS5QcmVzdG9QYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlJkc1BhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlJkc1BhcmFtZXRlcnModmFsdWUuUmRzUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5SZWRzaGlmdFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlJlZHNoaWZ0UGFyYW1ldGVycyh2YWx1ZS5SZWRzaGlmdFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuUzNQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TM1BhcmFtZXRlcnModmFsdWUuUzNQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlNlcnZpY2VOb3dQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TZXJ2aWNlTm93UGFyYW1ldGVycyh2YWx1ZS5TZXJ2aWNlTm93UGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5Tbm93Zmxha2VQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5Tbm93Zmxha2VQYXJhbWV0ZXJzKHZhbHVlLlNub3dmbGFrZVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuU3BhcmtQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TcGFya1BhcmFtZXRlcnModmFsdWUuU3BhcmtQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlNxbFNlcnZlclBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlNxbFNlcnZlclBhcmFtZXRlcnModmFsdWUuU3FsU2VydmVyUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5UZXJhZGF0YVBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlRlcmFkYXRhUGFyYW1ldGVycyh2YWx1ZS5UZXJhZGF0YVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuVHdpdHRlclBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlR3aXR0ZXJQYXJhbWV0ZXJzKHZhbHVlLlR3aXR0ZXJQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkFtYXpvbk9wZW5TZWFyY2hQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5BbWF6b25PcGVuU2VhcmNoUGFyYW1ldGVycyh2YWx1ZS5BbWF6b25PcGVuU2VhcmNoUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5FeGFzb2xQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5FeGFzb2xQYXJhbWV0ZXJzKHZhbHVlLkV4YXNvbFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuRGF0YWJyaWNrc1BhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkRhdGFicmlja3NQYXJhbWV0ZXJzKHZhbHVlLkRhdGFicmlja3NQYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuXyh2YWx1ZS4kdW5rbm93blswXSwgdmFsdWUuJHVua25vd25bMV0pO1xuICAgIH07XG59KShEYXRhU291cmNlUGFyYW1ldGVycyB8fCAoRGF0YVNvdXJjZVBhcmFtZXRlcnMgPSB7fSkpO1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iU3RhdHVzID0ge1xuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBGQUlMRURfUk9MTEJBQ0tfQ09NUExFVEVEOiBcIkZBSUxFRF9ST0xMQkFDS19DT01QTEVURURcIixcbiAgICBGQUlMRURfUk9MTEJBQ0tfRVJST1I6IFwiRkFJTEVEX1JPTExCQUNLX0VSUk9SXCIsXG4gICAgRkFJTEVEX1JPTExCQUNLX0lOX1BST0dSRVNTOiBcIkZBSUxFRF9ST0xMQkFDS19JTl9QUk9HUkVTU1wiLFxuICAgIElOX1BST0dSRVNTOiBcIklOX1BST0dSRVNTXCIsXG4gICAgUVVFVUVEX0ZPUl9JTU1FRElBVEVfRVhFQ1VUSU9OOiBcIlFVRVVFRF9GT1JfSU1NRURJQVRFX0VYRUNVVElPTlwiLFxuICAgIFNVQ0NFU1NGVUw6IFwiU1VDQ0VTU0ZVTFwiLFxufTtcbmV4cG9ydCBjb25zdCBBc3NpZ25tZW50U3RhdHVzID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRFJBRlQ6IFwiRFJBRlRcIixcbiAgICBFTkFCTEVEOiBcIkVOQUJMRURcIixcbn07XG5leHBvcnQgY29uc3QgQXV0aGVudGljYXRpb25NZXRob2RPcHRpb24gPSB7XG4gICAgQUNUSVZFX0RJUkVDVE9SWTogXCJBQ1RJVkVfRElSRUNUT1JZXCIsXG4gICAgSUFNX0FORF9RVUlDS1NJR0hUOiBcIklBTV9BTkRfUVVJQ0tTSUdIVFwiLFxuICAgIElBTV9PTkxZOiBcIklBTV9PTkxZXCIsXG59O1xuZXhwb3J0IGNvbnN0IEF1dGhvclNwZWNpZmllZEFnZ3JlZ2F0aW9uID0ge1xuICAgIEFWRVJBR0U6IFwiQVZFUkFHRVwiLFxuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgRElTVElOQ1RfQ09VTlQ6IFwiRElTVElOQ1RfQ09VTlRcIixcbiAgICBNQVg6IFwiTUFYXCIsXG4gICAgTUVESUFOOiBcIk1FRElBTlwiLFxuICAgIE1JTjogXCJNSU5cIixcbiAgICBQRVJDRU5USUxFOiBcIlBFUkNFTlRJTEVcIixcbiAgICBTVERFVjogXCJTVERFVlwiLFxuICAgIFNUREVWUDogXCJTVERFVlBcIixcbiAgICBTVU06IFwiU1VNXCIsXG4gICAgVkFSOiBcIlZBUlwiLFxuICAgIFZBUlA6IFwiVkFSUFwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJzZXJ2ZXJcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwic2VydmVyXCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFeGNlcHRpb25SZXNvdXJjZVR5cGUgPSB7XG4gICAgQUNDT1VOVF9TRVRUSU5HUzogXCJBQ0NPVU5UX1NFVFRJTkdTXCIsXG4gICAgREFUQV9TRVQ6IFwiREFUQV9TRVRcIixcbiAgICBEQVRBX1NPVVJDRTogXCJEQVRBX1NPVVJDRVwiLFxuICAgIEdST1VQOiBcIkdST1VQXCIsXG4gICAgSUFNUE9MSUNZX0FTU0lHTk1FTlQ6IFwiSUFNUE9MSUNZX0FTU0lHTk1FTlRcIixcbiAgICBJTkdFU1RJT046IFwiSU5HRVNUSU9OXCIsXG4gICAgTkFNRVNQQUNFOiBcIk5BTUVTUEFDRVwiLFxuICAgIFVTRVI6IFwiVVNFUlwiLFxuICAgIFZQQ19DT05ORUNUSU9OOiBcIlZQQ19DT05ORUNUSU9OXCIsXG59O1xuZXhwb3J0IGNsYXNzIFJlc291cmNlRXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlRXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXNvdXJjZVR5cGUgPSBvcHRzLlJlc291cmNlVHlwZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VUeXBlID0gb3B0cy5SZXNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRocm90dGxpbmdFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRocm90dGxpbmdFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBDb2x1bW5EYXRhVHlwZSA9IHtcbiAgICBEQVRFVElNRTogXCJEQVRFVElNRVwiLFxuICAgIERFQ0lNQUw6IFwiREVDSU1BTFwiLFxuICAgIElOVEVHRVI6IFwiSU5URUdFUlwiLFxuICAgIFNUUklORzogXCJTVFJJTkdcIixcbn07XG5leHBvcnQgY29uc3QgQ2F0ZWdvcnlGaWx0ZXJGdW5jdGlvbiA9IHtcbiAgICBDT05UQUlOUzogXCJDT05UQUlOU1wiLFxuICAgIEVYQUNUOiBcIkVYQUNUXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhdGVnb3J5RmlsdGVyVHlwZSA9IHtcbiAgICBDVVNUT01fRklMVEVSOiBcIkNVU1RPTV9GSUxURVJcIixcbiAgICBDVVNUT01fRklMVEVSX0xJU1Q6IFwiQ1VTVE9NX0ZJTFRFUl9MSVNUXCIsXG4gICAgRklMVEVSX0xJU1Q6IFwiRklMVEVSX0xJU1RcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uRGF0YVJvbGUgPSB7XG4gICAgRElNRU5TSU9OOiBcIkRJTUVOU0lPTlwiLFxuICAgIE1FQVNVUkU6IFwiTUVBU1VSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBHZW9TcGF0aWFsQ291bnRyeUNvZGUgPSB7XG4gICAgVVM6IFwiVVNcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uT3JkZXJpbmdUeXBlID0ge1xuICAgIEdSRUFURVJfSVNfQkVUVEVSOiBcIkdSRUFURVJfSVNfQkVUVEVSXCIsXG4gICAgTEVTU0VSX0lTX0JFVFRFUjogXCJMRVNTRVJfSVNfQkVUVEVSXCIsXG4gICAgU1BFQ0lGSUVEOiBcIlNQRUNJRklFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBHZW9TcGF0aWFsRGF0YVJvbGUgPSB7XG4gICAgQ0lUWTogXCJDSVRZXCIsXG4gICAgQ09VTlRSWTogXCJDT1VOVFJZXCIsXG4gICAgQ09VTlRZOiBcIkNPVU5UWVwiLFxuICAgIExBVElUVURFOiBcIkxBVElUVURFXCIsXG4gICAgTE9OR0lUVURFOiBcIkxPTkdJVFVERVwiLFxuICAgIFBPU1RDT0RFOiBcIlBPU1RDT0RFXCIsXG4gICAgU1RBVEU6IFwiU1RBVEVcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uVGFnTmFtZSA9IHtcbiAgICBDT0xVTU5fREVTQ1JJUFRJT046IFwiQ09MVU1OX0RFU0NSSVBUSU9OXCIsXG4gICAgQ09MVU1OX0dFT0dSQVBISUNfUk9MRTogXCJDT0xVTU5fR0VPR1JBUEhJQ19ST0xFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFVuZGVmaW5lZFNwZWNpZmllZFZhbHVlVHlwZSA9IHtcbiAgICBMRUFTVDogXCJMRUFTVFwiLFxuICAgIE1PU1Q6IFwiTU9TVFwiLFxufTtcbmV4cG9ydCBjbGFzcyBDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJzZXJ2ZXJcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwic2VydmVyXCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb25mbGljdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNvbmZsaWN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDb25mbGljdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25mbGljdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IENvbnN0YW50VHlwZSA9IHtcbiAgICBDT0xMRUNUSVZFOiBcIkNPTExFQ1RJVkVcIixcbiAgICBSQU5HRTogXCJSQU5HRVwiLFxuICAgIFNJTkdVTEFSOiBcIlNJTkdVTEFSXCIsXG59O1xuZXhwb3J0IGNsYXNzIFJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwic2VydmVyXCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJzZXJ2ZXJcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlc291cmNlVHlwZSA9IG9wdHMuUmVzb3VyY2VUeXBlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXNvdXJjZVR5cGUgPSBvcHRzLlJlc291cmNlVHlwZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IERhc2hib2FyZFVJU3RhdGUgPSB7XG4gICAgQ09MTEFQU0VEOiBcIkNPTExBUFNFRFwiLFxuICAgIEVYUEFOREVEOiBcIkVYUEFOREVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhdGFzZXRQYXJhbWV0ZXJWYWx1ZVR5cGUgPSB7XG4gICAgTVVMVElfVkFMVUVEOiBcIk1VTFRJX1ZBTFVFRFwiLFxuICAgIFNJTkdMRV9WQUxVRUQ6IFwiU0lOR0xFX1ZBTFVFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU2V0SW1wb3J0TW9kZSA9IHtcbiAgICBESVJFQ1RfUVVFUlk6IFwiRElSRUNUX1FVRVJZXCIsXG4gICAgU1BJQ0U6IFwiU1BJQ0VcIixcbn07XG5leHBvcnQgdmFyIFRyYW5zZm9ybU9wZXJhdGlvbjtcbihmdW5jdGlvbiAoVHJhbnNmb3JtT3BlcmF0aW9uKSB7XG4gICAgVHJhbnNmb3JtT3BlcmF0aW9uLnZpc2l0ID0gKHZhbHVlLCB2aXNpdG9yKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS5Qcm9qZWN0T3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5Qcm9qZWN0T3BlcmF0aW9uKHZhbHVlLlByb2plY3RPcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuRmlsdGVyT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5GaWx0ZXJPcGVyYXRpb24odmFsdWUuRmlsdGVyT3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24odmFsdWUuQ3JlYXRlQ29sdW1uc09wZXJhdGlvbik7XG4gICAgICAgIGlmICh2YWx1ZS5SZW5hbWVDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlJlbmFtZUNvbHVtbk9wZXJhdGlvbih2YWx1ZS5SZW5hbWVDb2x1bW5PcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuQ2FzdENvbHVtblR5cGVPcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uKHZhbHVlLkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLlRhZ0NvbHVtbk9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuVGFnQ29sdW1uT3BlcmF0aW9uKHZhbHVlLlRhZ0NvbHVtbk9wZXJhdGlvbik7XG4gICAgICAgIGlmICh2YWx1ZS5VbnRhZ0NvbHVtbk9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuVW50YWdDb2x1bW5PcGVyYXRpb24odmFsdWUuVW50YWdDb2x1bW5PcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24odmFsdWUuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuXyh2YWx1ZS4kdW5rbm93blswXSwgdmFsdWUuJHVua25vd25bMV0pO1xuICAgIH07XG59KShUcmFuc2Zvcm1PcGVyYXRpb24gfHwgKFRyYW5zZm9ybU9wZXJhdGlvbiA9IHt9KSk7XG5leHBvcnQgY29uc3QgSm9pblR5cGUgPSB7XG4gICAgSU5ORVI6IFwiSU5ORVJcIixcbiAgICBMRUZUOiBcIkxFRlRcIixcbiAgICBPVVRFUjogXCJPVVRFUlwiLFxuICAgIFJJR0hUOiBcIlJJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IElucHV0Q29sdW1uRGF0YVR5cGUgPSB7XG4gICAgQklUOiBcIkJJVFwiLFxuICAgIEJPT0xFQU46IFwiQk9PTEVBTlwiLFxuICAgIERBVEVUSU1FOiBcIkRBVEVUSU1FXCIsXG4gICAgREVDSU1BTDogXCJERUNJTUFMXCIsXG4gICAgSU5URUdFUjogXCJJTlRFR0VSXCIsXG4gICAgSlNPTjogXCJKU09OXCIsXG4gICAgU1RSSU5HOiBcIlNUUklOR1wiLFxufTtcbmV4cG9ydCBjb25zdCBGaWxlRm9ybWF0ID0ge1xuICAgIENMRjogXCJDTEZcIixcbiAgICBDU1Y6IFwiQ1NWXCIsXG4gICAgRUxGOiBcIkVMRlwiLFxuICAgIEpTT046IFwiSlNPTlwiLFxuICAgIFRTVjogXCJUU1ZcIixcbiAgICBYTFNYOiBcIlhMU1hcIixcbn07XG5leHBvcnQgY29uc3QgVGV4dFF1YWxpZmllciA9IHtcbiAgICBET1VCTEVfUVVPVEU6IFwiRE9VQkxFX1FVT1RFXCIsXG4gICAgU0lOR0xFX1FVT1RFOiBcIlNJTkdMRV9RVU9URVwiLFxufTtcbmV4cG9ydCB2YXIgUGh5c2ljYWxUYWJsZTtcbihmdW5jdGlvbiAoUGh5c2ljYWxUYWJsZSkge1xuICAgIFBoeXNpY2FsVGFibGUudmlzaXQgPSAodmFsdWUsIHZpc2l0b3IpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLlJlbGF0aW9uYWxUYWJsZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUmVsYXRpb25hbFRhYmxlKHZhbHVlLlJlbGF0aW9uYWxUYWJsZSk7XG4gICAgICAgIGlmICh2YWx1ZS5DdXN0b21TcWwgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkN1c3RvbVNxbCh2YWx1ZS5DdXN0b21TcWwpO1xuICAgICAgICBpZiAodmFsdWUuUzNTb3VyY2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlMzU291cmNlKHZhbHVlLlMzU291cmNlKTtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuXyh2YWx1ZS4kdW5rbm93blswXSwgdmFsdWUuJHVua25vd25bMV0pO1xuICAgIH07XG59KShQaHlzaWNhbFRhYmxlIHx8IChQaHlzaWNhbFRhYmxlID0ge30pKTtcbmV4cG9ydCBjb25zdCBSb3dMZXZlbFBlcm1pc3Npb25Gb3JtYXRWZXJzaW9uID0ge1xuICAgIFZFUlNJT05fMTogXCJWRVJTSU9OXzFcIixcbiAgICBWRVJTSU9OXzI6IFwiVkVSU0lPTl8yXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJvd0xldmVsUGVybWlzc2lvblBvbGljeSA9IHtcbiAgICBERU5ZX0FDQ0VTUzogXCJERU5ZX0FDQ0VTU1wiLFxuICAgIEdSQU5UX0FDQ0VTUzogXCJHUkFOVF9BQ0NFU1NcIixcbn07XG5leHBvcnQgY29uc3QgU3RhdHVzID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhdGFTb3VyY2VUeXBlID0ge1xuICAgIEFET0JFX0FOQUxZVElDUzogXCJBRE9CRV9BTkFMWVRJQ1NcIixcbiAgICBBTUFaT05fRUxBU1RJQ1NFQVJDSDogXCJBTUFaT05fRUxBU1RJQ1NFQVJDSFwiLFxuICAgIEFNQVpPTl9PUEVOU0VBUkNIOiBcIkFNQVpPTl9PUEVOU0VBUkNIXCIsXG4gICAgQVRIRU5BOiBcIkFUSEVOQVwiLFxuICAgIEFVUk9SQTogXCJBVVJPUkFcIixcbiAgICBBVVJPUkFfUE9TVEdSRVNRTDogXCJBVVJPUkFfUE9TVEdSRVNRTFwiLFxuICAgIEFXU19JT1RfQU5BTFlUSUNTOiBcIkFXU19JT1RfQU5BTFlUSUNTXCIsXG4gICAgREFUQUJSSUNLUzogXCJEQVRBQlJJQ0tTXCIsXG4gICAgRVhBU09MOiBcIkVYQVNPTFwiLFxuICAgIEdJVEhVQjogXCJHSVRIVUJcIixcbiAgICBKSVJBOiBcIkpJUkFcIixcbiAgICBNQVJJQURCOiBcIk1BUklBREJcIixcbiAgICBNWVNRTDogXCJNWVNRTFwiLFxuICAgIE9SQUNMRTogXCJPUkFDTEVcIixcbiAgICBQT1NUR1JFU1FMOiBcIlBPU1RHUkVTUUxcIixcbiAgICBQUkVTVE86IFwiUFJFU1RPXCIsXG4gICAgUkVEU0hJRlQ6IFwiUkVEU0hJRlRcIixcbiAgICBTMzogXCJTM1wiLFxuICAgIFNBTEVTRk9SQ0U6IFwiU0FMRVNGT1JDRVwiLFxuICAgIFNFUlZJQ0VOT1c6IFwiU0VSVklDRU5PV1wiLFxuICAgIFNOT1dGTEFLRTogXCJTTk9XRkxBS0VcIixcbiAgICBTUEFSSzogXCJTUEFSS1wiLFxuICAgIFNRTFNFUlZFUjogXCJTUUxTRVJWRVJcIixcbiAgICBURVJBREFUQTogXCJURVJBREFUQVwiLFxuICAgIFRJTUVTVFJFQU06IFwiVElNRVNUUkVBTVwiLFxuICAgIFRXSVRURVI6IFwiVFdJVFRFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBGb2xkZXJUeXBlID0ge1xuICAgIFNIQVJFRDogXCJTSEFSRURcIixcbn07XG5leHBvcnQgY29uc3QgTWVtYmVyVHlwZSA9IHtcbiAgICBBTkFMWVNJUzogXCJBTkFMWVNJU1wiLFxuICAgIERBU0hCT0FSRDogXCJEQVNIQk9BUkRcIixcbiAgICBEQVRBU0VUOiBcIkRBVEFTRVRcIixcbn07XG5leHBvcnQgY29uc3QgSW5nZXN0aW9uVHlwZSA9IHtcbiAgICBGVUxMX1JFRlJFU0g6IFwiRlVMTF9SRUZSRVNIXCIsXG4gICAgSU5DUkVNRU5UQUxfUkVGUkVTSDogXCJJTkNSRU1FTlRBTF9SRUZSRVNIXCIsXG59O1xuZXhwb3J0IGNvbnN0IEluZ2VzdGlvblN0YXR1cyA9IHtcbiAgICBDQU5DRUxMRUQ6IFwiQ0FOQ0VMTEVEXCIsXG4gICAgQ09NUExFVEVEOiBcIkNPTVBMRVRFRFwiLFxuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBJTklUSUFMSVpFRDogXCJJTklUSUFMSVpFRFwiLFxuICAgIFFVRVVFRDogXCJRVUVVRURcIixcbiAgICBSVU5OSU5HOiBcIlJVTk5JTkdcIixcbn07XG5leHBvcnQgY29uc3QgSWRlbnRpdHlTdG9yZSA9IHtcbiAgICBRVUlDS1NJR0hUOiBcIlFVSUNLU0lHSFRcIixcbn07XG5leHBvcnQgY29uc3QgTmFtZXNwYWNlU3RhdHVzID0ge1xuICAgIENSRUFURUQ6IFwiQ1JFQVRFRFwiLFxuICAgIENSRUFUSU5HOiBcIkNSRUFUSU5HXCIsXG4gICAgREVMRVRJTkc6IFwiREVMRVRJTkdcIixcbiAgICBOT05fUkVUUllBQkxFX0ZBSUxVUkU6IFwiTk9OX1JFVFJZQUJMRV9GQUlMVVJFXCIsXG4gICAgUkVUUllBQkxFX0ZBSUxVUkU6IFwiUkVUUllBQkxFX0ZBSUxVUkVcIixcbn07XG5leHBvcnQgY29uc3QgUmVmcmVzaEludGVydmFsID0ge1xuICAgIERBSUxZOiBcIkRBSUxZXCIsXG4gICAgSE9VUkxZOiBcIkhPVVJMWVwiLFxuICAgIE1JTlVURTE1OiBcIk1JTlVURTE1XCIsXG4gICAgTUlOVVRFMzA6IFwiTUlOVVRFMzBcIixcbiAgICBNT05USExZOiBcIk1PTlRITFlcIixcbiAgICBXRUVLTFk6IFwiV0VFS0xZXCIsXG59O1xuZXhwb3J0IGNvbnN0IERheU9mV2VlayA9IHtcbiAgICBGUklEQVk6IFwiRlJJREFZXCIsXG4gICAgTU9OREFZOiBcIk1PTkRBWVwiLFxuICAgIFNBVFVSREFZOiBcIlNBVFVSREFZXCIsXG4gICAgU1VOREFZOiBcIlNVTkRBWVwiLFxuICAgIFRIVVJTREFZOiBcIlRIVVJTREFZXCIsXG4gICAgVFVFU0RBWTogXCJUVUVTREFZXCIsXG4gICAgV0VETkVTREFZOiBcIldFRE5FU0RBWVwiLFxufTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0QWdncmVnYXRpb24gPSB7XG4gICAgQVZFUkFHRTogXCJBVkVSQUdFXCIsXG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNSU46IFwiTUlOXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxufTtcbmV4cG9ydCBjb25zdCBEaXNwbGF5Rm9ybWF0ID0ge1xuICAgIEFVVE86IFwiQVVUT1wiLFxuICAgIENVUlJFTkNZOiBcIkNVUlJFTkNZXCIsXG4gICAgREFURTogXCJEQVRFXCIsXG4gICAgTlVNQkVSOiBcIk5VTUJFUlwiLFxuICAgIFBFUkNFTlQ6IFwiUEVSQ0VOVFwiLFxuICAgIFNUUklORzogXCJTVFJJTkdcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNOdW1lcmljU2VwYXJhdG9yU3ltYm9sID0ge1xuICAgIENPTU1BOiBcIkNPTU1BXCIsXG4gICAgRE9UOiBcIkRPVFwiLFxufTtcbmV4cG9ydCBjb25zdCBUb3BpY1RpbWVHcmFudWxhcml0eSA9IHtcbiAgICBEQVk6IFwiREFZXCIsXG4gICAgSE9VUjogXCJIT1VSXCIsXG4gICAgTUlOVVRFOiBcIk1JTlVURVwiLFxuICAgIE1PTlRIOiBcIk1PTlRIXCIsXG4gICAgUVVBUlRFUjogXCJRVUFSVEVSXCIsXG4gICAgU0VDT05EOiBcIlNFQ09ORFwiLFxuICAgIFdFRUs6IFwiV0VFS1wiLFxuICAgIFlFQVI6IFwiWUVBUlwiLFxufTtcbmV4cG9ydCBjb25zdCBGaWx0ZXJDbGFzcyA9IHtcbiAgICBDT05ESVRJT05BTF9WQUxVRV9GSUxURVI6IFwiQ09ORElUSU9OQUxfVkFMVUVfRklMVEVSXCIsXG4gICAgRU5GT1JDRURfVkFMVUVfRklMVEVSOiBcIkVORk9SQ0VEX1ZBTFVFX0ZJTFRFUlwiLFxuICAgIE5BTUVEX1ZBTFVFX0ZJTFRFUjogXCJOQU1FRF9WQUxVRV9GSUxURVJcIixcbn07XG5leHBvcnQgY29uc3QgTmFtZWRGaWx0ZXJUeXBlID0ge1xuICAgIENBVEVHT1JZX0ZJTFRFUjogXCJDQVRFR09SWV9GSUxURVJcIixcbiAgICBEQVRFX1JBTkdFX0ZJTFRFUjogXCJEQVRFX1JBTkdFX0ZJTFRFUlwiLFxuICAgIE5VTUVSSUNfRVFVQUxJVFlfRklMVEVSOiBcIk5VTUVSSUNfRVFVQUxJVFlfRklMVEVSXCIsXG4gICAgTlVNRVJJQ19SQU5HRV9GSUxURVI6IFwiTlVNRVJJQ19SQU5HRV9GSUxURVJcIixcbiAgICBSRUxBVElWRV9EQVRFX0ZJTFRFUjogXCJSRUxBVElWRV9EQVRFX0ZJTFRFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBOYW1lZEZpbHRlckFnZ1R5cGUgPSB7XG4gICAgQVZFUkFHRTogXCJBVkVSQUdFXCIsXG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNRURJQU46IFwiTUVESUFOXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxuICAgIE5PX0FHR1JFR0FUSU9OOiBcIk5PX0FHR1JFR0FUSU9OXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNSZWxhdGl2ZURhdGVGaWx0ZXJGdW5jdGlvbiA9IHtcbiAgICBMQVNUOiBcIkxBU1RcIixcbiAgICBORVhUOiBcIk5FWFRcIixcbiAgICBOT1c6IFwiTk9XXCIsXG4gICAgUFJFVklPVVM6IFwiUFJFVklPVVNcIixcbiAgICBUSElTOiBcIlRISVNcIixcbn07XG5leHBvcnQgY29uc3QgTmFtZWRFbnRpdHlBZ2dUeXBlID0ge1xuICAgIEFWRVJBR0U6IFwiQVZFUkFHRVwiLFxuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgQ1VTVE9NOiBcIkNVU1RPTVwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG4gICAgTUFYOiBcIk1BWFwiLFxuICAgIE1FRElBTjogXCJNRURJQU5cIixcbiAgICBNSU46IFwiTUlOXCIsXG4gICAgUEVSQ0VOVElMRTogXCJQRVJDRU5USUxFXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY29uc3QgUHJvcGVydHlSb2xlID0ge1xuICAgIElEOiBcIklEXCIsXG4gICAgUFJJTUFSWTogXCJQUklNQVJZXCIsXG59O1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5VXNhZ2UgPSB7XG4gICAgRElNRU5TSU9OOiBcIkRJTUVOU0lPTlwiLFxuICAgIElOSEVSSVQ6IFwiSU5IRVJJVFwiLFxuICAgIE1FQVNVUkU6IFwiTUVBU1VSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBUb3BpY1NjaGVkdWxlVHlwZSA9IHtcbiAgICBEQUlMWTogXCJEQUlMWVwiLFxuICAgIEhPVVJMWTogXCJIT1VSTFlcIixcbiAgICBNT05USExZOiBcIk1PTlRITFlcIixcbiAgICBXRUVLTFk6IFwiV0VFS0xZXCIsXG59O1xuZXhwb3J0IGNvbnN0IFZQQ0Nvbm5lY3Rpb25BdmFpbGFiaWxpdHlTdGF0dXMgPSB7XG4gICAgQVZBSUxBQkxFOiBcIkFWQUlMQUJMRVwiLFxuICAgIFBBUlRJQUxMWV9BVkFJTEFCTEU6IFwiUEFSVElBTExZX0FWQUlMQUJMRVwiLFxuICAgIFVOQVZBSUxBQkxFOiBcIlVOQVZBSUxBQkxFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFZQQ0Nvbm5lY3Rpb25SZXNvdXJjZVN0YXR1cyA9IHtcbiAgICBDUkVBVElPTl9GQUlMRUQ6IFwiQ1JFQVRJT05fRkFJTEVEXCIsXG4gICAgQ1JFQVRJT05fSU5fUFJPR1JFU1M6IFwiQ1JFQVRJT05fSU5fUFJPR1JFU1NcIixcbiAgICBDUkVBVElPTl9TVUNDRVNTRlVMOiBcIkNSRUFUSU9OX1NVQ0NFU1NGVUxcIixcbiAgICBERUxFVEVEOiBcIkRFTEVURURcIixcbiAgICBERUxFVElPTl9GQUlMRUQ6IFwiREVMRVRJT05fRkFJTEVEXCIsXG4gICAgREVMRVRJT05fSU5fUFJPR1JFU1M6IFwiREVMRVRJT05fSU5fUFJPR1JFU1NcIixcbiAgICBVUERBVEVfRkFJTEVEOiBcIlVQREFURV9GQUlMRURcIixcbiAgICBVUERBVEVfSU5fUFJPR1JFU1M6IFwiVVBEQVRFX0lOX1BST0dSRVNTXCIsXG4gICAgVVBEQVRFX1NVQ0NFU1NGVUw6IFwiVVBEQVRFX1NVQ0NFU1NGVUxcIixcbn07XG5leHBvcnQgY29uc3QgRGFzaGJvYXJkRXJyb3JUeXBlID0ge1xuICAgIEFDQ0VTU19ERU5JRUQ6IFwiQUNDRVNTX0RFTklFRFwiLFxuICAgIENPTFVNTl9HRU9HUkFQSElDX1JPTEVfTUlTTUFUQ0g6IFwiQ09MVU1OX0dFT0dSQVBISUNfUk9MRV9NSVNNQVRDSFwiLFxuICAgIENPTFVNTl9SRVBMQUNFTUVOVF9NSVNTSU5HOiBcIkNPTFVNTl9SRVBMQUNFTUVOVF9NSVNTSU5HXCIsXG4gICAgQ09MVU1OX1RZUEVfTUlTTUFUQ0g6IFwiQ09MVU1OX1RZUEVfTUlTTUFUQ0hcIixcbiAgICBEQVRBX1NFVF9OT1RfRk9VTkQ6IFwiREFUQV9TRVRfTk9UX0ZPVU5EXCIsXG4gICAgSU5URVJOQUxfRkFJTFVSRTogXCJJTlRFUk5BTF9GQUlMVVJFXCIsXG4gICAgUEFSQU1FVEVSX05PVF9GT1VORDogXCJQQVJBTUVURVJfTk9UX0ZPVU5EXCIsXG4gICAgUEFSQU1FVEVSX1RZUEVfSU5WQUxJRDogXCJQQVJBTUVURVJfVFlQRV9JTlZBTElEXCIsXG4gICAgUEFSQU1FVEVSX1ZBTFVFX0lOQ09NUEFUSUJMRTogXCJQQVJBTUVURVJfVkFMVUVfSU5DT01QQVRJQkxFXCIsXG4gICAgU09VUkNFX05PVF9GT1VORDogXCJTT1VSQ0VfTk9UX0ZPVU5EXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhc2hib2FyZEZpbHRlckF0dHJpYnV0ZSA9IHtcbiAgICBEQVNIQk9BUkRfTkFNRTogXCJEQVNIQk9BUkRfTkFNRVwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxuICAgIFFVSUNLU0lHSFRfT1dORVI6IFwiUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIFFVSUNLU0lHSFRfVVNFUjogXCJRVUlDS1NJR0hUX1VTRVJcIixcbiAgICBRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU2V0RmlsdGVyQXR0cmlidXRlID0ge1xuICAgIERBVEFTRVRfTkFNRTogXCJEQVRBU0VUX05BTUVcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX09XTkVSOiBcIlFVSUNLU0lHSFRfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxufTtcbmV4cG9ydCBjb25zdCBMb29rYmFja1dpbmRvd1NpemVVbml0ID0ge1xuICAgIERBWTogXCJEQVlcIixcbiAgICBIT1VSOiBcIkhPVVJcIixcbiAgICBXRUVLOiBcIldFRUtcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YVNvdXJjZUVycm9ySW5mb1R5cGUgPSB7XG4gICAgQUNDRVNTX0RFTklFRDogXCJBQ0NFU1NfREVOSUVEXCIsXG4gICAgQ09ORkxJQ1Q6IFwiQ09ORkxJQ1RcIixcbiAgICBDT1BZX1NPVVJDRV9OT1RfRk9VTkQ6IFwiQ09QWV9TT1VSQ0VfTk9UX0ZPVU5EXCIsXG4gICAgRU5HSU5FX1ZFUlNJT05fTk9UX1NVUFBPUlRFRDogXCJFTkdJTkVfVkVSU0lPTl9OT1RfU1VQUE9SVEVEXCIsXG4gICAgR0VORVJJQ19TUUxfRkFJTFVSRTogXCJHRU5FUklDX1NRTF9GQUlMVVJFXCIsXG4gICAgVElNRU9VVDogXCJUSU1FT1VUXCIsXG4gICAgVU5LTk9XTjogXCJVTktOT1dOXCIsXG4gICAgVU5LTk9XTl9IT1NUOiBcIlVOS05PV05fSE9TVFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlRmlsdGVyQXR0cmlidXRlID0ge1xuICAgIERBVEFTT1VSQ0VfTkFNRTogXCJEQVRBU09VUkNFX05BTUVcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbn07XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVJbXBvcnRKb2JEYXRhU291cmNlQ3JlZGVudGlhbFBhaXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iRGF0YVNvdXJjZUNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFsUGFpciAmJiB7IENyZWRlbnRpYWxQYWlyOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVJbXBvcnRKb2JEYXRhU291cmNlT3ZlcnJpZGVQYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU291cmNlUGFyYW1ldGVycyAmJiB7IERhdGFTb3VyY2VQYXJhbWV0ZXJzOiBvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgfSksXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBBc3NldEJ1bmRsZUltcG9ydEpvYkRhdGFTb3VyY2VDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVJbXBvcnRKb2JPdmVycmlkZVBhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRhdGFTb3VyY2VzICYmIHtcbiAgICAgICAgRGF0YVNvdXJjZXM6IG9iai5EYXRhU291cmNlcy5tYXAoKGl0ZW0pID0+IEFzc2V0QnVuZGxlSW1wb3J0Sm9iRGF0YVNvdXJjZU92ZXJyaWRlUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQm9keSAmJiB7IEJvZHk6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDYWxjdWxhdGVkQ29sdW1uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FeHByZXNzaW9uICYmIHsgRXhwcmVzc2lvbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVUaW1lUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZWNpbWFsUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBJbnRlZ2VyUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBTdHJpbmdQYXJhbWV0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlcyAmJiB7IFZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdHJpbmdQYXJhbWV0ZXJzICYmIHtcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyczogb2JqLlN0cmluZ1BhcmFtZXRlcnMubWFwKChpdGVtKSA9PiBTdHJpbmdQYXJhbWV0ZXJGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxuICAgIC4uLihvYmouSW50ZWdlclBhcmFtZXRlcnMgJiYge1xuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyczogb2JqLkludGVnZXJQYXJhbWV0ZXJzLm1hcCgoaXRlbSkgPT4gSW50ZWdlclBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5EZWNpbWFsUGFyYW1ldGVycyAmJiB7XG4gICAgICAgIERlY2ltYWxQYXJhbWV0ZXJzOiBvYmouRGVjaW1hbFBhcmFtZXRlcnMubWFwKChpdGVtKSA9PiBEZWNpbWFsUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVUaW1lUGFyYW1ldGVycyAmJiB7XG4gICAgICAgIERhdGVUaW1lUGFyYW1ldGVyczogb2JqLkRhdGVUaW1lUGFyYW1ldGVycy5tYXAoKGl0ZW0pID0+IERhdGVUaW1lUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZUFuYWx5c2lzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUGFyYW1ldGVycyAmJiB7IFBhcmFtZXRlcnM6IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5QYXJhbWV0ZXJzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZUNvbHVtbnNPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbHVtbnMgJiYgeyBDb2x1bW5zOiBvYmouQ29sdW1ucy5tYXAoKGl0ZW0pID0+IENhbGN1bGF0ZWRDb2x1bW5GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhbGN1bGF0ZWRGaWVsZHMgJiYge1xuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBvYmouQ2FsY3VsYXRlZEZpZWxkcy5tYXAoKGl0ZW0pID0+IENhbGN1bGF0ZWRGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJEZWNsYXJhdGlvbnMgJiYge1xuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IG9iai5QYXJhbWV0ZXJEZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiBQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Db2x1bW5Db25maWd1cmF0aW9ucyAmJiB7XG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBvYmouQ29sdW1uQ29uZmlndXJhdGlvbnMubWFwKChpdGVtKSA9PiBDb2x1bW5Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZURhc2hib2FyZFJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBhcmFtZXRlcnMgJiYgeyBQYXJhbWV0ZXJzOiBfUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUGFyYW1ldGVycykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBGaWx0ZXJPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbmRpdGlvbkV4cHJlc3Npb24gJiYgeyBDb25kaXRpb25FeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVHJhbnNmb3JtT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4ge1xuICAgIGlmIChvYmouUHJvamVjdE9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBQcm9qZWN0T3BlcmF0aW9uOiBvYmouUHJvamVjdE9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouRmlsdGVyT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IEZpbHRlck9wZXJhdGlvbjogRmlsdGVyT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5GaWx0ZXJPcGVyYXRpb24pIH07XG4gICAgaWYgKG9iai5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IENyZWF0ZUNvbHVtbnNPcGVyYXRpb246IENyZWF0ZUNvbHVtbnNPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24pIH07XG4gICAgaWYgKG9iai5SZW5hbWVDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiBvYmouUmVuYW1lQ29sdW1uT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBDYXN0Q29sdW1uVHlwZU9wZXJhdGlvbjogb2JqLkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5UYWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgVGFnQ29sdW1uT3BlcmF0aW9uOiBvYmouVGFnQ29sdW1uT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5VbnRhZ0NvbHVtbk9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBVbnRhZ0NvbHVtbk9wZXJhdGlvbjogb2JqLlVudGFnQ29sdW1uT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uOiBvYmouT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai4kdW5rbm93biAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBbb2JqLiR1bmtub3duWzBdXTogXCJVTktOT1dOXCIgfTtcbn07XG5leHBvcnQgY29uc3QgTG9naWNhbFRhYmxlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhVHJhbnNmb3JtcyAmJiB7XG4gICAgICAgIERhdGFUcmFuc2Zvcm1zOiBvYmouRGF0YVRyYW5zZm9ybXMubWFwKChpdGVtKSA9PiBUcmFuc2Zvcm1PcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUm93TGV2ZWxQZXJtaXNzaW9uVGFnUnVsZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTWF0Y2hBbGxWYWx1ZSAmJiB7IE1hdGNoQWxsVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5UYWdSdWxlcyAmJiB7IFRhZ1J1bGVzOiBvYmouVGFnUnVsZXMubWFwKChpdGVtKSA9PiBSb3dMZXZlbFBlcm1pc3Npb25UYWdSdWxlRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZURhdGFTZXRSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QaHlzaWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLlBoeXNpY2FsVGFibGVNYXApLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICgoYWNjW2tleV0gPSB2YWx1ZSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxvZ2ljYWxUYWJsZU1hcCAmJiB7XG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLkxvZ2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IExvZ2ljYWxUYWJsZUZpbHRlclNlbnNpdGl2ZUxvZyh2YWx1ZSkpLCBhY2MpLCB7fSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxQYWlyICYmIHsgQ3JlZGVudGlhbFBhaXI6IG9iai5DcmVkZW50aWFsUGFpciB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZURhdGFTb3VyY2VSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU291cmNlUGFyYW1ldGVycyAmJiB7IERhdGFTb3VyY2VQYXJhbWV0ZXJzOiBvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgfSksXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ2FsY3VsYXRlZEZpZWxkcyAmJiB7XG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IG9iai5DYWxjdWxhdGVkRmllbGRzLm1hcCgoaXRlbSkgPT4gQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlBhcmFtZXRlckRlY2xhcmF0aW9ucyAmJiB7XG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogb2JqLlBhcmFtZXRlckRlY2xhcmF0aW9ucy5tYXAoKGl0ZW0pID0+IFBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkNvbHVtbkNvbmZpZ3VyYXRpb25zICYmIHtcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IG9iai5Db2x1bW5Db25maWd1cmF0aW9ucy5tYXAoKGl0ZW0pID0+IENvbHVtbkNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3JlYXRlVGVtcGxhdGVSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBTZW1hbnRpY1R5cGVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlRydXRoeUNlbGxWYWx1ZSAmJiB7IFRydXRoeUNlbGxWYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLlRydXRoeUNlbGxWYWx1ZVN5bm9ueW1zICYmIHsgVHJ1dGh5Q2VsbFZhbHVlU3lub255bXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5GYWxzZXlDZWxsVmFsdWUgJiYgeyBGYWxzZXlDZWxsVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5GYWxzZXlDZWxsVmFsdWVTeW5vbnltcyAmJiB7IEZhbHNleUNlbGxWYWx1ZVN5bm9ueW1zOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNDYWxjdWxhdGVkRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouU2VtYW50aWNUeXBlICYmIHsgU2VtYW50aWNUeXBlOiBTZW1hbnRpY1R5cGVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlNlbWFudGljVHlwZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0NvbHVtbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU2VtYW50aWNUeXBlICYmIHsgU2VtYW50aWNUeXBlOiBTZW1hbnRpY1R5cGVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlNlbWFudGljVHlwZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0NhdGVnb3J5RmlsdGVyQ29uc3RhbnRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljQ2F0ZWdvcnlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbnN0YW50ICYmIHsgQ29uc3RhbnQ6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY1JhbmdlRmlsdGVyQ29uc3RhbnRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljRGF0ZVJhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db25zdGFudCAmJiB7IENvbnN0YW50OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNTaW5ndWxhckZpbHRlckNvbnN0YW50RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY051bWVyaWNFcXVhbGl0eUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29uc3RhbnQgJiYgeyBDb25zdGFudDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljTnVtZXJpY1JhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db25zdGFudCAmJiB7IENvbnN0YW50OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNSZWxhdGl2ZURhdGVGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbnN0YW50ICYmIHsgQ29uc3RhbnQ6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0ZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ2F0ZWdvcnlGaWx0ZXIgJiYgeyBDYXRlZ29yeUZpbHRlcjogVG9waWNDYXRlZ29yeUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ2F0ZWdvcnlGaWx0ZXIpIH0pLFxuICAgIC4uLihvYmouTnVtZXJpY0VxdWFsaXR5RmlsdGVyICYmIHtcbiAgICAgICAgTnVtZXJpY0VxdWFsaXR5RmlsdGVyOiBUb3BpY051bWVyaWNFcXVhbGl0eUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVtZXJpY0VxdWFsaXR5RmlsdGVyKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLk51bWVyaWNSYW5nZUZpbHRlciAmJiB7XG4gICAgICAgIE51bWVyaWNSYW5nZUZpbHRlcjogVG9waWNOdW1lcmljUmFuZ2VGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bWVyaWNSYW5nZUZpbHRlciksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlUmFuZ2VGaWx0ZXIgJiYgeyBEYXRlUmFuZ2VGaWx0ZXI6IFRvcGljRGF0ZVJhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRlUmFuZ2VGaWx0ZXIpIH0pLFxuICAgIC4uLihvYmouUmVsYXRpdmVEYXRlRmlsdGVyICYmIHtcbiAgICAgICAgUmVsYXRpdmVEYXRlRmlsdGVyOiBUb3BpY1JlbGF0aXZlRGF0ZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUmVsYXRpdmVEYXRlRmlsdGVyKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGFzZXRNZXRhZGF0YUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRmlsdGVycyAmJiB7IEZpbHRlcnM6IG9iai5GaWx0ZXJzLm1hcCgoaXRlbSkgPT4gVG9waWNGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxuICAgIC4uLihvYmouQ29sdW1ucyAmJiB7IENvbHVtbnM6IG9iai5Db2x1bW5zLm1hcCgoaXRlbSkgPT4gVG9waWNDb2x1bW5GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxuICAgIC4uLihvYmouQ2FsY3VsYXRlZEZpZWxkcyAmJiB7XG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IG9iai5DYWxjdWxhdGVkRmllbGRzLm1hcCgoaXRlbSkgPT4gVG9waWNDYWxjdWxhdGVkRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNEZXRhaWxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBDcmVhdGVUb3BpY1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGFTZXRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBoeXNpY2FsVGFibGVNYXAgJiYge1xuICAgICAgICBQaHlzaWNhbFRhYmxlTWFwOiBPYmplY3QuZW50cmllcyhvYmouUGh5c2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IHZhbHVlKSwgYWNjKSwge30pLFxuICAgIH0pLFxuICAgIC4uLihvYmouTG9naWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgTG9naWNhbFRhYmxlTWFwOiBPYmplY3QuZW50cmllcyhvYmouTG9naWNhbFRhYmxlTWFwKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoKGFjY1trZXldID0gTG9naWNhbFRhYmxlRmlsdGVyU2Vuc2l0aXZlTG9nKHZhbHVlKSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uOiBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nLCBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZUZpbHRlclNlbnNpdGl2ZUxvZywgRGF0YVNldEZpbHRlclNlbnNpdGl2ZUxvZywgTG9naWNhbFRhYmxlRmlsdGVyU2Vuc2l0aXZlTG9nLCBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nLCB9IGZyb20gXCIuL21vZGVsc18yXCI7XG5pbXBvcnQgeyBRdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9RdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJbmdlc3Rpb25FcnJvclR5cGUgPSB7XG4gICAgQUNDT1VOVF9DQVBBQ0lUWV9MSU1JVF9FWENFRURFRDogXCJBQ0NPVU5UX0NBUEFDSVRZX0xJTUlUX0VYQ0VFREVEXCIsXG4gICAgQ09OTkVDVElPTl9GQUlMVVJFOiBcIkNPTk5FQ1RJT05fRkFJTFVSRVwiLFxuICAgIENVUlNPUl9OT1RfRU5BQkxFRDogXCJDVVJTT1JfTk9UX0VOQUJMRURcIixcbiAgICBDVVNUT01FUl9FUlJPUjogXCJDVVNUT01FUl9FUlJPUlwiLFxuICAgIERBVEFfU0VUX0RFTEVURUQ6IFwiREFUQV9TRVRfREVMRVRFRFwiLFxuICAgIERBVEFfU0VUX05PVF9TUElDRTogXCJEQVRBX1NFVF9OT1RfU1BJQ0VcIixcbiAgICBEQVRBX1NFVF9TSVpFX0xJTUlUX0VYQ0VFREVEOiBcIkRBVEFfU0VUX1NJWkVfTElNSVRfRVhDRUVERURcIixcbiAgICBEQVRBX1NPVVJDRV9BVVRIX0ZBSUxFRDogXCJEQVRBX1NPVVJDRV9BVVRIX0ZBSUxFRFwiLFxuICAgIERBVEFfU09VUkNFX0NPTk5FQ1RJT05fRkFJTEVEOiBcIkRBVEFfU09VUkNFX0NPTk5FQ1RJT05fRkFJTEVEXCIsXG4gICAgREFUQV9TT1VSQ0VfTk9UX0ZPVU5EOiBcIkRBVEFfU09VUkNFX05PVF9GT1VORFwiLFxuICAgIERBVEFfVE9MRVJBTkNFX0VYQ0VQVElPTjogXCJEQVRBX1RPTEVSQU5DRV9FWENFUFRJT05cIixcbiAgICBEVVBMSUNBVEVfQ09MVU1OX05BTUVTX0ZPVU5EOiBcIkRVUExJQ0FURV9DT0xVTU5fTkFNRVNfRk9VTkRcIixcbiAgICBFTEFTVElDU0VBUkNIX0NVUlNPUl9OT1RfRU5BQkxFRDogXCJFTEFTVElDU0VBUkNIX0NVUlNPUl9OT1RfRU5BQkxFRFwiLFxuICAgIEZBSUxVUkVfVE9fQVNTVU1FX1JPTEU6IFwiRkFJTFVSRV9UT19BU1NVTUVfUk9MRVwiLFxuICAgIEZBSUxVUkVfVE9fUFJPQ0VTU19KU09OX0ZJTEU6IFwiRkFJTFVSRV9UT19QUk9DRVNTX0pTT05fRklMRVwiLFxuICAgIElBTV9ST0xFX05PVF9BVkFJTEFCTEU6IFwiSUFNX1JPTEVfTk9UX0FWQUlMQUJMRVwiLFxuICAgIElOR0VTVElPTl9DQU5DRUxFRDogXCJJTkdFU1RJT05fQ0FOQ0VMRURcIixcbiAgICBJTkdFU1RJT05fU1VQRVJTRURFRDogXCJJTkdFU1RJT05fU1VQRVJTRURFRFwiLFxuICAgIElOVEVSTkFMX1NFUlZJQ0VfRVJST1I6IFwiSU5URVJOQUxfU0VSVklDRV9FUlJPUlwiLFxuICAgIElOVkFMSURfREFUQVBSRVBfU1lOVEFYOiBcIklOVkFMSURfREFUQVBSRVBfU1lOVEFYXCIsXG4gICAgSU5WQUxJRF9EQVRBX1NPVVJDRV9DT05GSUc6IFwiSU5WQUxJRF9EQVRBX1NPVVJDRV9DT05GSUdcIixcbiAgICBJTlZBTElEX0RBVEVfRk9STUFUOiBcIklOVkFMSURfREFURV9GT1JNQVRcIixcbiAgICBJT1RfREFUQV9TRVRfRklMRV9FTVBUWTogXCJJT1RfREFUQV9TRVRfRklMRV9FTVBUWVwiLFxuICAgIElPVF9GSUxFX05PVF9GT1VORDogXCJJT1RfRklMRV9OT1RfRk9VTkRcIixcbiAgICBPQVVUSF9UT0tFTl9GQUlMVVJFOiBcIk9BVVRIX1RPS0VOX0ZBSUxVUkVcIixcbiAgICBQQVNTV09SRF9BVVRIRU5USUNBVElPTl9GQUlMVVJFOiBcIlBBU1NXT1JEX0FVVEhFTlRJQ0FUSU9OX0ZBSUxVUkVcIixcbiAgICBQRVJNSVNTSU9OX0RFTklFRDogXCJQRVJNSVNTSU9OX0RFTklFRFwiLFxuICAgIFBFUk1JU1NJT05fTk9UX0ZPVU5EOiBcIlBFUk1JU1NJT05fTk9UX0ZPVU5EXCIsXG4gICAgUVVFUllfVElNRU9VVDogXCJRVUVSWV9USU1FT1VUXCIsXG4gICAgUkVGUkVTSF9TVVBQUkVTU0VEX0JZX0VESVQ6IFwiUkVGUkVTSF9TVVBQUkVTU0VEX0JZX0VESVRcIixcbiAgICBST1dfU0laRV9MSU1JVF9FWENFRURFRDogXCJST1dfU0laRV9MSU1JVF9FWENFRURFRFwiLFxuICAgIFMzX0ZJTEVfSU5BQ0NFU1NJQkxFOiBcIlMzX0ZJTEVfSU5BQ0NFU1NJQkxFXCIsXG4gICAgUzNfTUFOSUZFU1RfRVJST1I6IFwiUzNfTUFOSUZFU1RfRVJST1JcIixcbiAgICBTM19VUExPQURFRF9GSUxFX0RFTEVURUQ6IFwiUzNfVVBMT0FERURfRklMRV9ERUxFVEVEXCIsXG4gICAgU09VUkNFX0FQSV9MSU1JVF9FWENFRURFRF9GQUlMVVJFOiBcIlNPVVJDRV9BUElfTElNSVRfRVhDRUVERURfRkFJTFVSRVwiLFxuICAgIFNPVVJDRV9SRVNPVVJDRV9MSU1JVF9FWENFRURFRDogXCJTT1VSQ0VfUkVTT1VSQ0VfTElNSVRfRVhDRUVERURcIixcbiAgICBTUElDRV9UQUJMRV9OT1RfRk9VTkQ6IFwiU1BJQ0VfVEFCTEVfTk9UX0ZPVU5EXCIsXG4gICAgU1FMX0VYQ0VQVElPTjogXCJTUUxfRVhDRVBUSU9OXCIsXG4gICAgU1FMX0lOVkFMSURfUEFSQU1FVEVSX1ZBTFVFOiBcIlNRTF9JTlZBTElEX1BBUkFNRVRFUl9WQUxVRVwiLFxuICAgIFNRTF9OVU1FUklDX09WRVJGTE9XOiBcIlNRTF9OVU1FUklDX09WRVJGTE9XXCIsXG4gICAgU1FMX1NDSEVNQV9NSVNNQVRDSF9FUlJPUjogXCJTUUxfU0NIRU1BX01JU01BVENIX0VSUk9SXCIsXG4gICAgU1FMX1RBQkxFX05PVF9GT1VORDogXCJTUUxfVEFCTEVfTk9UX0ZPVU5EXCIsXG4gICAgU1NMX0NFUlRJRklDQVRFX1ZBTElEQVRJT05fRkFJTFVSRTogXCJTU0xfQ0VSVElGSUNBVEVfVkFMSURBVElPTl9GQUlMVVJFXCIsXG4gICAgVU5SRVNPTFZBQkxFX0hPU1Q6IFwiVU5SRVNPTFZBQkxFX0hPU1RcIixcbiAgICBVTlJPVVRBQkxFX0hPU1Q6IFwiVU5ST1VUQUJMRV9IT1NUXCIsXG59O1xuZXhwb3J0IGNvbnN0IEluZ2VzdGlvblJlcXVlc3RTb3VyY2UgPSB7XG4gICAgTUFOVUFMOiBcIk1BTlVBTFwiLFxuICAgIFNDSEVEVUxFRDogXCJTQ0hFRFVMRURcIixcbn07XG5leHBvcnQgY29uc3QgSW5nZXN0aW9uUmVxdWVzdFR5cGUgPSB7XG4gICAgRURJVDogXCJFRElUXCIsXG4gICAgRlVMTF9SRUZSRVNIOiBcIkZVTExfUkVGUkVTSFwiLFxuICAgIElOQ1JFTUVOVEFMX1JFRlJFU0g6IFwiSU5DUkVNRU5UQUxfUkVGUkVTSFwiLFxuICAgIElOSVRJQUxfSU5HRVNUSU9OOiBcIklOSVRJQUxfSU5HRVNUSU9OXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5hbWVzcGFjZUVycm9yVHlwZSA9IHtcbiAgICBJTlRFUk5BTF9TRVJWSUNFX0VSUk9SOiBcIklOVEVSTkFMX1NFUlZJQ0VfRVJST1JcIixcbiAgICBQRVJNSVNTSU9OX0RFTklFRDogXCJQRVJNSVNTSU9OX0RFTklFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBUZW1wbGF0ZUVycm9yVHlwZSA9IHtcbiAgICBBQ0NFU1NfREVOSUVEOiBcIkFDQ0VTU19ERU5JRURcIixcbiAgICBEQVRBX1NFVF9OT1RfRk9VTkQ6IFwiREFUQV9TRVRfTk9UX0ZPVU5EXCIsXG4gICAgSU5URVJOQUxfRkFJTFVSRTogXCJJTlRFUk5BTF9GQUlMVVJFXCIsXG4gICAgU09VUkNFX05PVF9GT1VORDogXCJTT1VSQ0VfTk9UX0ZPVU5EXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRoZW1lVHlwZSA9IHtcbiAgICBBTEw6IFwiQUxMXCIsXG4gICAgQ1VTVE9NOiBcIkNVU1RPTVwiLFxuICAgIFFVSUNLU0lHSFQ6IFwiUVVJQ0tTSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBUaGVtZUVycm9yVHlwZSA9IHtcbiAgICBJTlRFUk5BTF9GQUlMVVJFOiBcIklOVEVSTkFMX0ZBSUxVUkVcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNSZWZyZXNoU3RhdHVzID0ge1xuICAgIENBTkNFTExFRDogXCJDQU5DRUxMRURcIixcbiAgICBDT01QTEVURUQ6IFwiQ09NUExFVEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIElOSVRJQUxJWkVEOiBcIklOSVRJQUxJWkVEXCIsXG4gICAgUlVOTklORzogXCJSVU5OSU5HXCIsXG59O1xuZXhwb3J0IGNvbnN0IElkZW50aXR5VHlwZSA9IHtcbiAgICBJQU06IFwiSUFNXCIsXG4gICAgUVVJQ0tTSUdIVDogXCJRVUlDS1NJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IFVzZXJSb2xlID0ge1xuICAgIEFETUlOOiBcIkFETUlOXCIsXG4gICAgQVVUSE9SOiBcIkFVVEhPUlwiLFxuICAgIFJFQURFUjogXCJSRUFERVJcIixcbiAgICBSRVNUUklDVEVEX0FVVEhPUjogXCJSRVNUUklDVEVEX0FVVEhPUlwiLFxuICAgIFJFU1RSSUNURURfUkVBREVSOiBcIlJFU1RSSUNURURfUkVBREVSXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtJbnRlcmZhY2VTdGF0dXMgPSB7XG4gICAgQVRUQUNITUVOVF9GQUlMRURfUk9MTEJBQ0tfRkFJTEVEOiBcIkFUVEFDSE1FTlRfRkFJTEVEX1JPTExCQUNLX0ZBSUxFRFwiLFxuICAgIEFWQUlMQUJMRTogXCJBVkFJTEFCTEVcIixcbiAgICBDUkVBVElORzogXCJDUkVBVElOR1wiLFxuICAgIENSRUFUSU9OX0ZBSUxFRDogXCJDUkVBVElPTl9GQUlMRURcIixcbiAgICBERUxFVEVEOiBcIkRFTEVURURcIixcbiAgICBERUxFVElORzogXCJERUxFVElOR1wiLFxuICAgIERFTEVUSU9OX0ZBSUxFRDogXCJERUxFVElPTl9GQUlMRURcIixcbiAgICBERUxFVElPTl9TQ0hFRFVMRUQ6IFwiREVMRVRJT05fU0NIRURVTEVEXCIsXG4gICAgVVBEQVRFX0ZBSUxFRDogXCJVUERBVEVfRkFJTEVEXCIsXG4gICAgVVBEQVRJTkc6IFwiVVBEQVRJTkdcIixcbn07XG5leHBvcnQgY2xhc3MgRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFbWJlZGRpbmdJZGVudGl0eVR5cGUgPSB7XG4gICAgQU5PTllNT1VTOiBcIkFOT05ZTU9VU1wiLFxuICAgIElBTTogXCJJQU1cIixcbiAgICBRVUlDS1NJR0hUOiBcIlFVSUNLU0lHSFRcIixcbn07XG5leHBvcnQgY29uc3QgRm9sZGVyRmlsdGVyQXR0cmlidXRlID0ge1xuICAgIERJUkVDVF9RVUlDS1NJR0hUX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxuICAgIEZPTERFUl9OQU1FOiBcIkZPTERFUl9OQU1FXCIsXG4gICAgUEFSRU5UX0ZPTERFUl9BUk46IFwiUEFSRU5UX0ZPTERFUl9BUk5cIixcbiAgICBRVUlDS1NJR0hUX09XTkVSOiBcIlFVSUNLU0lHSFRfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxufTtcbmV4cG9ydCBjbGFzcyBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIklkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBHcm91cEZpbHRlckF0dHJpYnV0ZSA9IHtcbiAgICBHUk9VUF9OQU1FOiBcIkdST1VQX05BTUVcIixcbn07XG5leHBvcnQgY29uc3QgR3JvdXBGaWx0ZXJPcGVyYXRvciA9IHtcbiAgICBTdGFydHNXaXRoOiBcIlN0YXJ0c1dpdGhcIixcbn07XG5leHBvcnQgY2xhc3MgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBEZXNjcmliZUFuYWx5c2lzRGVmaW5pdGlvblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZUFzc2V0QnVuZGxlSW1wb3J0Sm9iUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERlc2NyaWJlRGFzaGJvYXJkRGVmaW5pdGlvblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZURhdGFTZXRSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YVNldCAmJiB7IERhdGFTZXQ6IERhdGFTZXRGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRhdGFTZXQpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGVzY3JpYmVUZW1wbGF0ZURlZmluaXRpb25SZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgRGVzY3JpYmVUb3BpY1Jlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBTZXNzaW9uVGFnRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZSAmJiB7IFZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2VuZXJhdGVFbWJlZFVybEZvckFub255bW91c1VzZXJSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TZXNzaW9uVGFncyAmJiB7IFNlc3Npb25UYWdzOiBvYmouU2Vzc2lvblRhZ3MubWFwKChpdGVtKSA9PiBTZXNzaW9uVGFnRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdlbmVyYXRlRW1iZWRVcmxGb3JBbm9ueW1vdXNVc2VyUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkVtYmVkVXJsICYmIHsgRW1iZWRVcmw6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZW5lcmF0ZUVtYmVkVXJsRm9yUmVnaXN0ZXJlZFVzZXJSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRW1iZWRVcmwgJiYgeyBFbWJlZFVybDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdldERhc2hib2FyZEVtYmVkVXJsUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkVtYmVkVXJsICYmIHsgRW1iZWRVcmw6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZXRTZXNzaW9uRW1iZWRVcmxSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRW1iZWRVcmwgJiYgeyBFbWJlZFVybDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0YXJ0QXNzZXRCdW5kbGVJbXBvcnRKb2JSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Bc3NldEJ1bmRsZUltcG9ydFNvdXJjZSAmJiB7XG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0U291cmNlOiBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZUZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2UpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVXBkYXRlQW5hbHlzaXNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJzICYmIHsgUGFyYW1ldGVyczogX1BhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlBhcmFtZXRlcnMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVXBkYXRlRGFzaGJvYXJkUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUGFyYW1ldGVycyAmJiB7IFBhcmFtZXRlcnM6IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5QYXJhbWV0ZXJzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFVwZGF0ZURhdGFTZXRSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QaHlzaWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLlBoeXNpY2FsVGFibGVNYXApLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICgoYWNjW2tleV0gPSB2YWx1ZSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxvZ2ljYWxUYWJsZU1hcCAmJiB7XG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLkxvZ2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IExvZ2ljYWxUYWJsZUZpbHRlclNlbnNpdGl2ZUxvZyh2YWx1ZSkpLCBhY2MpLCB7fSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBVcGRhdGVEYXRhU291cmNlUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgJiYgeyBEYXRhU291cmNlUGFyYW1ldGVyczogb2JqLkRhdGFTb3VyY2VQYXJhbWV0ZXJzIH0pLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFVwZGF0ZVRlbXBsYXRlUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgX2pzb24sIGNvbGxlY3RCb2R5LCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdEJvb2xlYW4gYXMgX19leHBlY3RCb29sZWFuLCBleHBlY3RJbnQzMiBhcyBfX2V4cGVjdEludDMyLCBleHBlY3RMb25nIGFzIF9fZXhwZWN0TG9uZywgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdE51bWJlciBhcyBfX2V4cGVjdE51bWJlciwgZXhwZWN0T2JqZWN0IGFzIF9fZXhwZWN0T2JqZWN0LCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIGV4cGVjdFVuaW9uIGFzIF9fZXhwZWN0VW5pb24sIGxpbWl0ZWRQYXJzZURvdWJsZSBhcyBfX2xpbWl0ZWRQYXJzZURvdWJsZSwgbWFwLCBwYXJzZUVwb2NoVGltZXN0YW1wIGFzIF9fcGFyc2VFcG9jaFRpbWVzdGFtcCwgcmVzb2x2ZWRQYXRoIGFzIF9fcmVzb2x2ZWRQYXRoLCBzZXJpYWxpemVGbG9hdCBhcyBfX3NlcmlhbGl6ZUZsb2F0LCB0YWtlLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uLCBDb25mbGljdEV4Y2VwdGlvbiwgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uLCBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIFByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvbiwgUmVzb3VyY2VFeGlzdHNFeGNlcHRpb24sIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb24sIFRocm90dGxpbmdFeGNlcHRpb24sIFRyYW5zZm9ybU9wZXJhdGlvbiwgVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18yXCI7XG5pbXBvcnQgeyBEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvbiwgSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uLCBJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uLCBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbiwgUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvbiwgU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvbiwgVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18zXCI7XG5pbXBvcnQgeyBRdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL1F1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY29uc3Qgc2VfQ2FuY2VsSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9pbmdlc3Rpb25zL3tJbmdlc3Rpb25JZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJJbmdlc3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5Jbmdlc3Rpb25JZCwgXCJ7SW5nZXN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vY3VzdG9taXphdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjY291bnRDdXN0b21pemF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50L3tBd3NBY2NvdW50SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBY2NvdW50TmFtZTogW10sXG4gICAgICAgIEFjdGl2ZURpcmVjdG9yeU5hbWU6IFtdLFxuICAgICAgICBBZG1pbkdyb3VwOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEF1dGhlbnRpY2F0aW9uTWV0aG9kOiBbXSxcbiAgICAgICAgQXV0aG9yR3JvdXA6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQ29udGFjdE51bWJlcjogW10sXG4gICAgICAgIERpcmVjdG9yeUlkOiBbXSxcbiAgICAgICAgRWRpdGlvbjogW10sXG4gICAgICAgIEVtYWlsQWRkcmVzczogW10sXG4gICAgICAgIEZpcnN0TmFtZTogW10sXG4gICAgICAgIExhc3ROYW1lOiBbXSxcbiAgICAgICAgTm90aWZpY2F0aW9uRW1haWw6IFtdLFxuICAgICAgICBSZWFkZXJHcm91cDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZWFsbTogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9BbmFseXNpc0RlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gc2VfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRoZW1lQXJuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERhc2hib2FyZFB1Ymxpc2hPcHRpb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBhcmFtZXRlcnM6IChfKSA9PiBzZV9fUGFyYW1ldGVycyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgU291cmNlRW50aXR5OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGhlbWVBcm46IFtdLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5Hcm91cHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQ29sdW1uTGV2ZWxQZXJtaXNzaW9uUnVsZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGF0YVNldElkOiBbXSxcbiAgICAgICAgRGF0YVNldFVzYWdlQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhc2V0UGFyYW1ldGVyczogKF8pID0+IHNlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZEZvbGRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgSW1wb3J0TW9kZTogW10sXG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogKF8pID0+IHNlX0xvZ2ljYWxUYWJsZU1hcChfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFBoeXNpY2FsVGFibGVNYXA6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uRGF0YVNldDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3JlZGVudGlhbHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBbXSxcbiAgICAgICAgRGF0YVNvdXJjZVBhcmFtZXRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFNzbFByb3BlcnRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUeXBlOiBbXSxcbiAgICAgICAgVnBjQ29ubmVjdGlvblByb3BlcnRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUZvbGRlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZvbGRlclR5cGU6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyZW50Rm9sZGVyQXJuOiBbXSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH0vbWVtYmVycy97TWVtYmVyVHlwZX0ve01lbWJlcklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlcklkXCIsICgpID0+IGlucHV0Lk1lbWJlcklkLCBcIntNZW1iZXJJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVyVHlwZVwiLCAoKSA9PiBpbnB1dC5NZW1iZXJUeXBlLCBcIntNZW1iZXJUeXBlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc2NyaXB0aW9uOiBbXSxcbiAgICAgICAgR3JvdXBOYW1lOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy97R3JvdXBOYW1lfS9tZW1iZXJzL3tNZW1iZXJOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVyTmFtZVwiLCAoKSA9PiBpbnB1dC5NZW1iZXJOYW1lLCBcIntNZW1iZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9pYW0tcG9saWN5LWFzc2lnbm1lbnRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFzc2lnbm1lbnROYW1lOiBbXSxcbiAgICAgICAgQXNzaWdubWVudFN0YXR1czogW10sXG4gICAgICAgIElkZW50aXRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUG9saWN5QXJuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L2luZ2VzdGlvbnMve0luZ2VzdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJJbmdlc3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5Jbmdlc3Rpb25JZCwgXCJ7SW5nZXN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEluZ2VzdGlvblR5cGU6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVOYW1lc3BhY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBJZGVudGl0eVN0b3JlOiBbXSxcbiAgICAgICAgTmFtZXNwYWNlOiBbXSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcmVmcmVzaC1zY2hlZHVsZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgU2NoZWR1bGU6IChfKSA9PiBzZV9SZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gc2VfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZlcnNpb25EZXNjcmlwdGlvbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUZW1wbGF0ZVZlcnNpb25OdW1iZXI6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVGhlbWVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFzZVRoZW1lSWQ6IFtdLFxuICAgICAgICBDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZlcnNpb25EZXNjcmlwdGlvbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUaGVtZVZlcnNpb25OdW1iZXI6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUb3BpYzogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUb3BpY0lkOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3NjaGVkdWxlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhc2V0QXJuOiBbXSxcbiAgICAgICAgRGF0YXNldE5hbWU6IFtdLFxuICAgICAgICBSZWZyZXNoU2NoZWR1bGU6IChfKSA9PiBzZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3ZwYy1jb25uZWN0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRG5zUmVzb2x2ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBSb2xlQXJuOiBbXSxcbiAgICAgICAgU2VjdXJpdHlHcm91cElkczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTdWJuZXRJZHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vY3VzdG9taXphdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnQve0F3c0FjY291bnRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzL3tBbmFseXNpc0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbmFseXNpc0lkXCIsICgpID0+IGlucHV0LkFuYWx5c2lzSWQsIFwie0FuYWx5c2lzSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwicmVjb3Zlcnktd2luZG93LWluLWRheXNcIjogW1xuICAgICAgICAgICAgKCkgPT4gaW5wdXQuUmVjb3ZlcnlXaW5kb3dJbkRheXMgIT09IHZvaWQgMCxcbiAgICAgICAgICAgICgpID0+IGlucHV0LlJlY292ZXJ5V2luZG93SW5EYXlzLnRvU3RyaW5nKCksXG4gICAgICAgIF0sXG4gICAgICAgIFwiZm9yY2UtZGVsZXRlLXdpdGhvdXQtcmVjb3ZlcnlcIjogW1xuICAgICAgICAgICAgKCkgPT4gaW5wdXQuRm9yY2VEZWxldGVXaXRob3V0UmVjb3ZlcnkgIT09IHZvaWQgMCxcbiAgICAgICAgICAgICgpID0+IGlucHV0LkZvcmNlRGVsZXRlV2l0aG91dFJlY292ZXJ5LnRvU3RyaW5nKCksXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZURhdGFTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcmVmcmVzaC1wcm9wZXJ0aWVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzL3tEYXRhU291cmNlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTb3VyY2VJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU291cmNlSWQsIFwie0RhdGFTb3VyY2VJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUZvbGRlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH0vbWVtYmVycy97TWVtYmVyVHlwZX0ve01lbWJlcklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlcklkXCIsICgpID0+IGlucHV0Lk1lbWJlcklkLCBcIntNZW1iZXJJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVyVHlwZVwiLCAoKSA9PiBpbnB1dC5NZW1iZXJUeXBlLCBcIntNZW1iZXJUeXBlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkdyb3VwTmFtZVwiLCAoKSA9PiBpbnB1dC5Hcm91cE5hbWUsIFwie0dyb3VwTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX0vbWVtYmVycy97TWVtYmVyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlck5hbWVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyTmFtZSwgXCJ7TWVtYmVyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlL3tOYW1lc3BhY2V9L2lhbS1wb2xpY3ktYXNzaWdubWVudHMve0Fzc2lnbm1lbnROYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NpZ25tZW50TmFtZVwiLCAoKSA9PiBpbnB1dC5Bc3NpZ25tZW50TmFtZSwgXCJ7QXNzaWdubWVudE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZU5hbWVzcGFjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcmVmcmVzaC1zY2hlZHVsZXMve1NjaGVkdWxlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiU2NoZWR1bGVJZFwiLCAoKSA9PiBpbnB1dC5TY2hlZHVsZUlkLCBcIntTY2hlZHVsZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwidmVyc2lvbi1udW1iZXJcIjogWygpID0+IGlucHV0LlZlcnNpb25OdW1iZXIgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlci50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUaGVtZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRvcGljQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9zY2hlZHVsZXMve0RhdGFzZXRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhc2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YXNldElkLCBcIntEYXRhc2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlcnMve1VzZXJOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVXNlck5hbWVcIiwgKCkgPT4gaW5wdXQuVXNlck5hbWUsIFwie1VzZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVVzZXJCeVByaW5jaXBhbElkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlci1wcmluY2lwYWxzL3tQcmluY2lwYWxJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlByaW5jaXBhbElkXCIsICgpID0+IGlucHV0LlByaW5jaXBhbElkLCBcIntQcmluY2lwYWxJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3ZwYy1jb25uZWN0aW9ucy97VlBDQ29ubmVjdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJWUENDb25uZWN0aW9uSWRcIiwgKCkgPT4gaW5wdXQuVlBDQ29ubmVjdGlvbklkLCBcIntWUENDb25uZWN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2N1c3RvbWl6YXRpb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIG5hbWVzcGFjZTogWywgaW5wdXQuTmFtZXNwYWNlXSxcbiAgICAgICAgcmVzb2x2ZWQ6IFsoKSA9PiBpbnB1dC5SZXNvbHZlZCAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5SZXNvbHZlZC50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBY2NvdW50U2V0dGluZ3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2V0dGluZ3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50L3tBd3NBY2NvdW50SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzL3tBbmFseXNpc0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbmFseXNpc0lkXCIsICgpID0+IGlucHV0LkFuYWx5c2lzSWQsIFwie0FuYWx5c2lzSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFuYWx5c2lzRGVmaW5pdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH0vZGVmaW5pdGlvblwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbmFseXNpc0lkXCIsICgpID0+IGlucHV0LkFuYWx5c2lzSWQsIFwie0FuYWx5c2lzSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWV4cG9ydC1qb2JzL3tBc3NldEJ1bmRsZUV4cG9ydEpvYklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NldEJ1bmRsZUV4cG9ydEpvYklkXCIsICgpID0+IGlucHV0LkFzc2V0QnVuZGxlRXhwb3J0Sm9iSWQsIFwie0Fzc2V0QnVuZGxlRXhwb3J0Sm9iSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Fzc2V0LWJ1bmRsZS1pbXBvcnQtam9icy97QXNzZXRCdW5kbGVJbXBvcnRKb2JJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXNzZXRCdW5kbGVJbXBvcnRKb2JJZFwiLCAoKSA9PiBpbnB1dC5Bc3NldEJ1bmRsZUltcG9ydEpvYklkLCBcIntBc3NldEJ1bmRsZUltcG9ydEpvYklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgICAgICBcImFsaWFzLW5hbWVcIjogWywgaW5wdXQuQWxpYXNOYW1lXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXNoYm9hcmREZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9kZWZpbml0aW9uXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgICAgICBcImFsaWFzLW5hbWVcIjogWywgaW5wdXQuQWxpYXNOYW1lXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtcHJvcGVydGllc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzL3tEYXRhU291cmNlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTb3VyY2VJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU291cmNlSWQsIFwie0RhdGFTb3VyY2VJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlcy97RGF0YVNvdXJjZUlkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU291cmNlSWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNvdXJjZUlkLCBcIntEYXRhU291cmNlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUZvbGRlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVGb2xkZXJSZXNvbHZlZFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfS9yZXNvbHZlZC1wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX0vbWVtYmVycy97TWVtYmVyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlck5hbWVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyTmFtZSwgXCJ7TWVtYmVyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2lhbS1wb2xpY3ktYXNzaWdubWVudHMve0Fzc2lnbm1lbnROYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NpZ25tZW50TmFtZVwiLCAoKSA9PiBpbnB1dC5Bc3NpZ25tZW50TmFtZSwgXCJ7QXNzaWdubWVudE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9pbmdlc3Rpb25zL3tJbmdlc3Rpb25JZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJJbmdlc3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5Jbmdlc3Rpb25JZCwgXCJ7SW5nZXN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vaXAtcmVzdHJpY3Rpb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtc2NoZWR1bGVzL3tTY2hlZHVsZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlNjaGVkdWxlSWRcIiwgKCkgPT4gaW5wdXQuU2NoZWR1bGVJZCwgXCJ7U2NoZWR1bGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwidmVyc2lvbi1udW1iZXJcIjogWygpID0+IGlucHV0LlZlcnNpb25OdW1iZXIgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlci50b1N0cmluZygpXSxcbiAgICAgICAgXCJhbGlhcy1uYW1lXCI6IFssIGlucHV0LkFsaWFzTmFtZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRlbXBsYXRlRGVmaW5pdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2RlZmluaXRpb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRoZW1lQWxpYXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUb3BpY0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVG9waWNSZWZyZXNoQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH0vcmVmcmVzaC97UmVmcmVzaElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJlZnJlc2hJZFwiLCAoKSA9PiBpbnB1dC5SZWZyZXNoSWQsIFwie1JlZnJlc2hJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9zY2hlZHVsZXMve0RhdGFzZXRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhc2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YXNldElkLCBcIntEYXRhc2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVVzZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJVc2VyTmFtZVwiLCAoKSA9PiBpbnB1dC5Vc2VyTmFtZSwgXCJ7VXNlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3ZwYy1jb25uZWN0aW9ucy97VlBDQ29ubmVjdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJWUENDb25uZWN0aW9uSWRcIiwgKCkgPT4gaW5wdXQuVlBDQ29ubmVjdGlvbklkLCBcIntWUENDb25uZWN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZW1iZWQtdXJsL2Fub255bW91cy11c2VyXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBbGxvd2VkRG9tYWluczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBBdXRob3JpemVkUmVzb3VyY2VBcm5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEV4cGVyaWVuY2VDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWVzcGFjZTogW10sXG4gICAgICAgIFNlc3Npb25MaWZldGltZUluTWludXRlczogW10sXG4gICAgICAgIFNlc3Npb25UYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZW5lcmF0ZUVtYmVkVXJsRm9yUmVnaXN0ZXJlZFVzZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2VtYmVkLXVybC9yZWdpc3RlcmVkLXVzZXJcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFsbG93ZWREb21haW5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEV4cGVyaWVuY2VDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFNlc3Npb25MaWZldGltZUluTWludXRlczogW10sXG4gICAgICAgIFVzZXJBcm46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0RGFzaGJvYXJkRW1iZWRVcmxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L2VtYmVkLXVybFwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwiY3JlZHMtdHlwZVwiOiBbLCBfX2V4cGVjdE5vbk51bGwoaW5wdXQuSWRlbnRpdHlUeXBlLCBgSWRlbnRpdHlUeXBlYCldLFxuICAgICAgICBcInNlc3Npb24tbGlmZXRpbWVcIjogW1xuICAgICAgICAgICAgKCkgPT4gaW5wdXQuU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzICE9PSB2b2lkIDAsXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXMudG9TdHJpbmcoKSxcbiAgICAgICAgXSxcbiAgICAgICAgXCJ1bmRvLXJlZG8tZGlzYWJsZWRcIjogWygpID0+IGlucHV0LlVuZG9SZWRvRGlzYWJsZWQgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuVW5kb1JlZG9EaXNhYmxlZC50b1N0cmluZygpXSxcbiAgICAgICAgXCJyZXNldC1kaXNhYmxlZFwiOiBbKCkgPT4gaW5wdXQuUmVzZXREaXNhYmxlZCAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5SZXNldERpc2FibGVkLnRvU3RyaW5nKCldLFxuICAgICAgICBcInN0YXRlLXBlcnNpc3RlbmNlLWVuYWJsZWRcIjogW1xuICAgICAgICAgICAgKCkgPT4gaW5wdXQuU3RhdGVQZXJzaXN0ZW5jZUVuYWJsZWQgIT09IHZvaWQgMCxcbiAgICAgICAgICAgICgpID0+IGlucHV0LlN0YXRlUGVyc2lzdGVuY2VFbmFibGVkLnRvU3RyaW5nKCksXG4gICAgICAgIF0sXG4gICAgICAgIFwidXNlci1hcm5cIjogWywgaW5wdXQuVXNlckFybl0sXG4gICAgICAgIG5hbWVzcGFjZTogWywgaW5wdXQuTmFtZXNwYWNlXSxcbiAgICAgICAgXCJhZGRpdGlvbmFsLWRhc2hib2FyZC1pZHNcIjogW1xuICAgICAgICAgICAgKCkgPT4gaW5wdXQuQWRkaXRpb25hbERhc2hib2FyZElkcyAhPT0gdm9pZCAwLFxuICAgICAgICAgICAgKCkgPT4gKGlucHV0LkFkZGl0aW9uYWxEYXNoYm9hcmRJZHMgfHwgW10pLm1hcCgoX2VudHJ5KSA9PiBfZW50cnkpLFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRTZXNzaW9uRW1iZWRVcmxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2Vzc2lvbi1lbWJlZC11cmxcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJlbnRyeS1wb2ludFwiOiBbLCBpbnB1dC5FbnRyeVBvaW50XSxcbiAgICAgICAgXCJzZXNzaW9uLWxpZmV0aW1lXCI6IFtcbiAgICAgICAgICAgICgpID0+IGlucHV0LlNlc3Npb25MaWZldGltZUluTWludXRlcyAhPT0gdm9pZCAwLFxuICAgICAgICAgICAgKCkgPT4gaW5wdXQuU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzLnRvU3RyaW5nKCksXG4gICAgICAgIF0sXG4gICAgICAgIFwidXNlci1hcm5cIjogWywgaW5wdXQuVXNlckFybl0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RBbmFseXNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QXNzZXRCdW5kbGVFeHBvcnRKb2JzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Fzc2V0LWJ1bmRsZS1leHBvcnQtam9ic1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QXNzZXRCdW5kbGVJbXBvcnRKb2JzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Fzc2V0LWJ1bmRsZS1pbXBvcnQtam9ic1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3REYXNoYm9hcmRWZXJzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH0vdmVyc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RGF0YVNldHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3REYXRhU291cmNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNvdXJjZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEZvbGRlck1lbWJlcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L21lbWJlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0Rm9sZGVyc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RHcm91cE1lbWJlcnNoaXBzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9L21lbWJlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkdyb3VwTmFtZVwiLCAoKSA9PiBpbnB1dC5Hcm91cE5hbWUsIFwie0dyb3VwTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RHcm91cHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS92Mi9pYW0tcG9saWN5LWFzc2lnbm1lbnRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJhc3NpZ25tZW50LXN0YXR1c1wiOiBbLCBpbnB1dC5Bc3NpZ25tZW50U3RhdHVzXSxcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzRm9yVXNlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzL3tVc2VyTmFtZX0vaWFtLXBvbGljeS1hc3NpZ25tZW50c1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJVc2VyTmFtZVwiLCAoKSA9PiBpbnB1dC5Vc2VyTmFtZSwgXCJ7VXNlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEluZ2VzdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L2luZ2VzdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TmFtZXNwYWNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXNjaGVkdWxlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL3Jlc291cmNlcy97UmVzb3VyY2VBcm59L3RhZ3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJlc291cmNlQXJuXCIsICgpID0+IGlucHV0LlJlc291cmNlQXJuLCBcIntSZXNvdXJjZUFybn1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUZW1wbGF0ZUFsaWFzZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9hbGlhc2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdFwiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0XCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUZW1wbGF0ZVZlcnNpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vdmVyc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGhlbWVBbGlhc2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH0vYWxpYXNlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRoZW1lc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICAgICAgdHlwZTogWywgaW5wdXQuVHlwZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUaGVtZVZlcnNpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH0vdmVyc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VG9waWNSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH0vc2NoZWR1bGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUb3BpY3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RVc2VyR3JvdXBzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlcnMve1VzZXJOYW1lfS9ncm91cHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlVzZXJOYW1lXCIsICgpID0+IGlucHV0LlVzZXJOYW1lLCBcIntVc2VyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RVc2Vyc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFZQQ0Nvbm5lY3Rpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3ZwYy1jb25uZWN0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXREYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXByb3BlcnRpZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1JlZ2lzdGVyVXNlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vyc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDdXN0b21GZWRlcmF0aW9uUHJvdmlkZXJVcmw6IFtdLFxuICAgICAgICBDdXN0b21QZXJtaXNzaW9uc05hbWU6IFtdLFxuICAgICAgICBFbWFpbDogW10sXG4gICAgICAgIEV4dGVybmFsTG9naW5GZWRlcmF0aW9uUHJvdmlkZXJUeXBlOiBbXSxcbiAgICAgICAgRXh0ZXJuYWxMb2dpbklkOiBbXSxcbiAgICAgICAgSWFtQXJuOiBbXSxcbiAgICAgICAgSWRlbnRpdHlUeXBlOiBbXSxcbiAgICAgICAgU2Vzc2lvbk5hbWU6IFtdLFxuICAgICAgICBVc2VyTmFtZTogW10sXG4gICAgICAgIFVzZXJSb2xlOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1Jlc3RvcmVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9yZXN0b3JlL2FuYWx5c2VzL3tBbmFseXNpc0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbmFseXNpc0lkXCIsICgpID0+IGlucHV0LkFuYWx5c2lzSWQsIFwie0FuYWx5c2lzSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VhcmNoQW5hbHlzZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3NlYXJjaC9hbmFseXNlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlYXJjaERhc2hib2FyZHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3NlYXJjaC9kYXNoYm9hcmRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VhcmNoRGF0YVNldHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3NlYXJjaC9kYXRhLXNldHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZWFyY2hEYXRhU291cmNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2VhcmNoL2RhdGEtc291cmNlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlYXJjaEZvbGRlcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3NlYXJjaC9mb2xkZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VhcmNoR3JvdXBzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy1zZWFyY2hcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydEFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hc3NldC1idW5kbGUtZXhwb3J0LWpvYnMvZXhwb3J0XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBc3NldEJ1bmRsZUV4cG9ydEpvYklkOiBbXSxcbiAgICAgICAgQ2xvdWRGb3JtYXRpb25PdmVycmlkZVByb3BlcnR5Q29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBFeHBvcnRGb3JtYXQ6IFtdLFxuICAgICAgICBJbmNsdWRlQWxsRGVwZW5kZW5jaWVzOiBbXSxcbiAgICAgICAgUmVzb3VyY2VBcm5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydEFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hc3NldC1idW5kbGUtaW1wb3J0LWpvYnMvaW1wb3J0XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydEpvYklkOiBbXSxcbiAgICAgICAgQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2U6IChfKSA9PiBzZV9Bc3NldEJ1bmRsZUltcG9ydFNvdXJjZShfLCBjb250ZXh0KSxcbiAgICAgICAgRmFpbHVyZUFjdGlvbjogW10sXG4gICAgICAgIE92ZXJyaWRlUGFyYW1ldGVyczogKF8pID0+IHNlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzKF8sIGNvbnRleHQpLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL3Jlc291cmNlcy97UmVzb3VyY2VBcm59L3RhZ3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJlc291cmNlQXJuXCIsICgpID0+IGlucHV0LlJlc291cmNlQXJuLCBcIntSZXNvdXJjZUFybn1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VudGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvcmVzb3VyY2VzL3tSZXNvdXJjZUFybn0vdGFnc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUmVzb3VyY2VBcm5cIiwgKCkgPT4gaW5wdXQuUmVzb3VyY2VBcm4sIFwie1Jlc291cmNlQXJufVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBrZXlzOiBbXG4gICAgICAgICAgICBfX2V4cGVjdE5vbk51bGwoaW5wdXQuVGFnS2V5cywgYFRhZ0tleXNgKSAhPSBudWxsLFxuICAgICAgICAgICAgKCkgPT4gKGlucHV0LlRhZ0tleXMgfHwgW10pLm1hcCgoX2VudHJ5KSA9PiBfZW50cnkpLFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vY3VzdG9taXphdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjY291bnRDdXN0b21pemF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVBY2NvdW50U2V0dGluZ3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3NldHRpbmdzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZWZhdWx0TmFtZXNwYWNlOiBbXSxcbiAgICAgICAgTm90aWZpY2F0aW9uRW1haWw6IFtdLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzL3tBbmFseXNpc0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbmFseXNpc0lkXCIsICgpID0+IGlucHV0LkFuYWx5c2lzSWQsIFwie0FuYWx5c2lzSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gc2VfQW5hbHlzaXNEZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyczogKF8pID0+IHNlX19QYXJhbWV0ZXJzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3VyY2VFbnRpdHk6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGhlbWVBcm46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEYXNoYm9hcmRQdWJsaXNoT3B0aW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gc2VfRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gc2VfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgICAgIFZlcnNpb25EZXNjcmlwdGlvbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRMaW5rUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VMaW5rUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRGFzaGJvYXJkUHVibGlzaGVkVmVyc2lvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH0vdmVyc2lvbnMve1ZlcnNpb25OdW1iZXJ9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVmVyc2lvbk51bWJlclwiLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCksIFwie1ZlcnNpb25OdW1iZXJ9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uR3JvdXBzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIENvbHVtbkxldmVsUGVybWlzc2lvblJ1bGVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIERhdGFTZXRVc2FnZUNvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGF0YXNldFBhcmFtZXRlcnM6IChfKSA9PiBzZV9EYXRhc2V0UGFyYW1ldGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRGb2xkZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEltcG9ydE1vZGU6IFtdLFxuICAgICAgICBMb2dpY2FsVGFibGVNYXA6IChfKSA9PiBzZV9Mb2dpY2FsVGFibGVNYXAoXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQaHlzaWNhbFRhYmxlTWFwOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvbkRhdGFTZXQ6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNvdXJjZXMve0RhdGFTb3VyY2VJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNvdXJjZUlkXCIsICgpID0+IGlucHV0LkRhdGFTb3VyY2VJZCwgXCJ7RGF0YVNvdXJjZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3JlZGVudGlhbHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGF0YVNvdXJjZVBhcmFtZXRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFNzbFByb3BlcnRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVnBjQ29ubmVjdGlvblByb3BlcnRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNvdXJjZXMve0RhdGFTb3VyY2VJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNvdXJjZUlkXCIsICgpID0+IGlucHV0LkRhdGFTb3VyY2VJZCwgXCJ7RGF0YVNvdXJjZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgTmFtZTogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUZvbGRlclBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVHcm91cENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkdyb3VwTmFtZVwiLCAoKSA9PiBpbnB1dC5Hcm91cE5hbWUsIFwie0dyb3VwTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZXNjcmlwdGlvbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vaWFtLXBvbGljeS1hc3NpZ25tZW50cy97QXNzaWdubWVudE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFzc2lnbm1lbnROYW1lXCIsICgpID0+IGlucHV0LkFzc2lnbm1lbnROYW1lLCBcIntBc3NpZ25tZW50TmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXNzaWdubWVudFN0YXR1czogW10sXG4gICAgICAgIElkZW50aXRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUG9saWN5QXJuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlSXBSZXN0cmljdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vaXAtcmVzdHJpY3Rpb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEVuYWJsZWQ6IFtdLFxuICAgICAgICBJcFJlc3RyaWN0aW9uUnVsZU1hcDogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlUHVibGljU2hhcmluZ1NldHRpbmdzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9wdWJsaWMtc2hhcmluZy1zZXR0aW5nc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgUHVibGljU2hhcmluZ0VuYWJsZWQ6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXNjaGVkdWxlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBTY2hlZHVsZTogKF8pID0+IHNlX1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IHNlX1RlbXBsYXRlVmVyc2lvbkRlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBTb3VyY2VFbnRpdHk6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVmVyc2lvbkRlc2NyaXB0aW9uOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGVtcGxhdGVWZXJzaW9uTnVtYmVyOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhc2VUaGVtZUlkOiBbXSxcbiAgICAgICAgQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVmVyc2lvbkRlc2NyaXB0aW9uOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGhlbWVWZXJzaW9uTnVtYmVyOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRvcGljQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFRvcGljOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRvcGljUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9zY2hlZHVsZXMve0RhdGFzZXRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhc2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YXNldElkLCBcIntEYXRhc2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBSZWZyZXNoU2NoZWR1bGU6IChfKSA9PiBzZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVXNlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJVc2VyTmFtZVwiLCAoKSA9PiBpbnB1dC5Vc2VyTmFtZSwgXCJ7VXNlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3VzdG9tRmVkZXJhdGlvblByb3ZpZGVyVXJsOiBbXSxcbiAgICAgICAgQ3VzdG9tUGVybWlzc2lvbnNOYW1lOiBbXSxcbiAgICAgICAgRW1haWw6IFtdLFxuICAgICAgICBFeHRlcm5hbExvZ2luRmVkZXJhdGlvblByb3ZpZGVyVHlwZTogW10sXG4gICAgICAgIEV4dGVybmFsTG9naW5JZDogW10sXG4gICAgICAgIFJvbGU6IFtdLFxuICAgICAgICBVbmFwcGx5Q3VzdG9tUGVybWlzc2lvbnM6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS92cGMtY29ubmVjdGlvbnMve1ZQQ0Nvbm5lY3Rpb25JZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVlBDQ29ubmVjdGlvbklkXCIsICgpID0+IGlucHV0LlZQQ0Nvbm5lY3Rpb25JZCwgXCJ7VlBDQ29ubmVjdGlvbklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRG5zUmVzb2x2ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBSb2xlQXJuOiBbXSxcbiAgICAgICAgU2VjdXJpdHlHcm91cElkczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTdWJuZXRJZHM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfQ2FuY2VsSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NhbmNlbEluZ2VzdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DYW5jZWxJbmdlc3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBY2NvdW50Q3VzdG9taXphdGlvbjogX2pzb24sXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWVzcGFjZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2lnbnVwUmVzcG9uc2U6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVBbmFseXNpc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQW5hbHlzaXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZURhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVEYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVEYXRhU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZURhdGFTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlRGF0YVNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU291cmNlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVEYXRhU291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUZvbGRlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVGb2xkZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlRm9sZGVyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEZvbGRlck1lbWJlcjogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUdyb3VwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cDogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUdyb3VwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cE1lbWJlcjogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXNzaWdubWVudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzaWdubWVudE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NpZ25tZW50U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSWRlbnRpdGllczogX2pzb24sXG4gICAgICAgIFBvbGljeUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZU5hbWVzcGFjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVOYW1lc3BhY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENhcGFjaXR5UmVnaW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJZGVudGl0eVN0b3JlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZU5hbWVzcGFjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNjaGVkdWxlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRoZW1lQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlVGhlbWVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlVGhlbWVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUb3BpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUb3BpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUb3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YXNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVlBDQ29ubmVjdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXZhaWxhYmlsaXR5U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUFuYWx5c2lzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVsZXRpb25UaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVBbmFseXNpc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZURhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVEYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZURhdGFTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRGF0YVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRGF0YVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZURhdGFTb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhdGFTb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUZvbGRlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVGb2xkZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0SW50MzIsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlR3JvdXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUdyb3VwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NpZ25tZW50TmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVOYW1lc3BhY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlTmFtZXNwYWNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVOYW1lc3BhY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY2hlZHVsZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbGlhc05hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUaGVtZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUaGVtZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRoZW1lQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbGlhc05hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGhlbWVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVG9waWNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVG9waWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUb3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFzZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVVzZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVVc2VyQnlQcmluY2lwYWxJZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVVc2VyQnlQcmluY2lwYWxJZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVXNlckJ5UHJpbmNpcGFsSWRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF2YWlsYWJpbGl0eVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERlbGV0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDQ29ubmVjdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVlBDQ29ubmVjdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IF9qc29uLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lc3BhY2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQWNjb3VudFNldHRpbmdzOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY2NvdW50U2V0dGluZ3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFjY291bnRJbmZvOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzOiAoXykgPT4gZGVfQW5hbHlzaXMoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IGRlX0FuYWx5c2lzRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFuYWx5c2lzRGVmaW5pdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlRXhwb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDbG91ZEZvcm1hdGlvbk92ZXJyaWRlUHJvcGVydHlDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERvd25sb2FkVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgRXhwb3J0Rm9ybWF0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5jbHVkZUFsbERlcGVuZGVuY2llczogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXNvdXJjZUFybnM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBGYWlsdXJlQWN0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSm9iU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3ZlcnJpZGVQYXJhbWV0ZXJzOiAoXykgPT4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JPdmVycmlkZVBhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJvbGxiYWNrRXJyb3JzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZDogKF8pID0+IGRlX0Rhc2hib2FyZChfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkRGVmaW5pdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhc2hib2FyZERlZmluaXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkUHVibGlzaE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gZGVfRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXNvdXJjZVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmREZWZpbml0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMaW5rU2hhcmluZ0NvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGF0YVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldDogKF8pID0+IGRlX0RhdGFTZXQoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTZXRSZWZyZXNoUHJvcGVydGllczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGF0YVNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZTogKF8pID0+IGRlX0RhdGFTb3VyY2UoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVGb2xkZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEZvbGRlcjogKF8pID0+IGRlX0ZvbGRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRm9sZGVyUmVzb2x2ZWRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUZvbGRlclJlc29sdmVkUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUZvbGRlclJlc29sdmVkUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlR3JvdXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVHcm91cENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXA6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUdyb3VwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVHcm91cE1lbWJlcnNoaXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTWVtYmVyOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVHcm91cE1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBJQU1Qb2xpY3lBc3NpZ25tZW50OiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUluZ2VzdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgSW5nZXN0aW9uOiAoXykgPT4gZGVfSW5nZXN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVJcFJlc3RyaWN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlSXBSZXN0cmljdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBJcFJlc3RyaWN0aW9uUnVsZU1hcDogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSXBSZXN0cmljdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZU5hbWVzcGFjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZU5hbWVzcGFjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmFtZXNwYWNlOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVOYW1lc3BhY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZWZyZXNoU2NoZWR1bGU6IChfKSA9PiBkZV9SZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlOiAoXykgPT4gZGVfVGVtcGxhdGUoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVBbGlhczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVEZWZpbml0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gZGVfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZURlZmluaXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUaGVtZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWU6IChfKSA9PiBkZV9UaGVtZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUaGVtZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRoZW1lQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRoZW1lQWxpYXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRvcGljQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVG9waWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljOiBfanNvbixcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVG9waWNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRvcGljUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlZnJlc2hEZXRhaWxzOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhc2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlOiAoXykgPT4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXNlcjogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICAgICAgVlBDQ29ubmVjdGlvbjogKF8pID0+IGRlX1ZQQ0Nvbm5lY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5vbnltb3VzVXNlckFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEVtYmVkVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2VuZXJhdGVFbWJlZFVybEZvckFub255bW91c1VzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2VuZXJhdGVFbWJlZFVybEZvclJlZ2lzdGVyZWRVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dlbmVyYXRlRW1iZWRVcmxGb3JSZWdpc3RlcmVkVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRW1iZWRVcmw6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yUmVnaXN0ZXJlZFVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBFbWJlZFVybDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0RvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Eb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRTZXNzaW9uRW1iZWRVcmxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0U2Vzc2lvbkVtYmVkVXJsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBFbWJlZFVybDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldFNlc3Npb25FbWJlZFVybENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEFuYWx5c2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RBbmFseXNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0FuYWx5c2lzU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RBbmFseXNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RBc3NldEJ1bmRsZUV4cG9ydEpvYnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEFzc2V0QnVuZGxlRXhwb3J0Sm9ic0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0Fzc2V0QnVuZGxlRXhwb3J0Sm9iU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RBc3NldEJ1bmRsZUV4cG9ydEpvYnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEFzc2V0QnVuZGxlSW1wb3J0Sm9ic0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0QXNzZXRCdW5kbGVJbXBvcnRKb2JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydEpvYlN1bW1hcnlMaXN0OiAoXykgPT4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEFzc2V0QnVuZGxlSW1wb3J0Sm9ic0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9EYXNoYm9hcmRTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0RGFzaGJvYXJkVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdERhc2hib2FyZFZlcnNpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRWZXJzaW9uU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9EYXNoYm9hcmRWZXJzaW9uU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3REYXNoYm9hcmRWZXJzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdERhdGFTZXRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3REYXRhU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldFN1bW1hcmllczogKF8pID0+IGRlX0RhdGFTZXRTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhdGFTZXRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3REYXRhU291cmNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGF0YVNvdXJjZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTb3VyY2VzOiAoXykgPT4gZGVfRGF0YVNvdXJjZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3REYXRhU291cmNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Rm9sZGVyTWVtYmVyc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0Rm9sZGVyTWVtYmVyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyTWVtYmVyTGlzdDogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RGb2xkZXJNZW1iZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEZvbGRlcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEZvbGRlcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEZvbGRlclN1bW1hcnlMaXN0OiAoXykgPT4gZGVfRm9sZGVyU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RGb2xkZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEdyb3VwTWVtYmVyc2hpcHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEdyb3VwTWVtYmVyc2hpcHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTWVtYmVyTGlzdDogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RHcm91cE1lbWJlcnNoaXBzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RHcm91cHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEdyb3Vwc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEdyb3Vwc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBJQU1Qb2xpY3lBc3NpZ25tZW50czogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzRm9yVXNlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNGb3JVc2VyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBY3RpdmVBc3NpZ25tZW50czogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0ZvclVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SW5nZXN0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SW5nZXN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgSW5nZXN0aW9uczogKF8pID0+IGRlX0luZ2VzdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJbmdlc3Rpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE5hbWVzcGFjZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdE5hbWVzcGFjZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5hbWVzcGFjZXM6IF9qc29uLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0TmFtZXNwYWNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UmVmcmVzaFNjaGVkdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0UmVmcmVzaFNjaGVkdWxlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlczogKF8pID0+IGRlX1JlZnJlc2hTY2hlZHVsZXMoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRhZ3M6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUZW1wbGF0ZUFsaWFzZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRlbXBsYXRlQWxpYXNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVBbGlhc0xpc3Q6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGVtcGxhdGVBbGlhc2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUZW1wbGF0ZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVTdW1tYXJ5TGlzdDogKF8pID0+IGRlX1RlbXBsYXRlU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUZW1wbGF0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUZW1wbGF0ZVZlcnNpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUZW1wbGF0ZVZlcnNpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZVZlcnNpb25TdW1tYXJ5TGlzdDogKF8pID0+IGRlX1RlbXBsYXRlVmVyc2lvblN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGVtcGxhdGVWZXJzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRoZW1lQWxpYXNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGhlbWVBbGlhc2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFsaWFzTGlzdDogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUaGVtZUFsaWFzZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGhlbWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUaGVtZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9UaGVtZVN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGhlbWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRoZW1lVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRoZW1lVmVyc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lVmVyc2lvblN1bW1hcnlMaXN0OiAoXykgPT4gZGVfVGhlbWVWZXJzaW9uU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUaGVtZVZlcnNpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRvcGljUmVmcmVzaFNjaGVkdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VG9waWNSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZWZyZXNoU2NoZWR1bGVzOiAoXykgPT4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGVTdW1tYXJpZXMoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUb3BpY1JlZnJlc2hTY2hlZHVsZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRvcGljc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VG9waWNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY3NTdW1tYXJpZXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VG9waWNzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RVc2VyR3JvdXBzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RVc2VyR3JvdXBzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cExpc3Q6IF9qc29uLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VXNlckdyb3Vwc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RVc2Vyc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VXNlcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVzZXJMaXN0OiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFVzZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RWUENDb25uZWN0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VlBDQ29ubmVjdGlvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25TdW1tYXJpZXM6IChfKSA9PiBkZV9WUENDb25uZWN0aW9uU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RWUENDb25uZWN0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0RGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dERhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0RGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1JlZ2lzdGVyVXNlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9SZWdpc3RlclVzZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVzZXI6IF9qc29uLFxuICAgICAgICBVc2VySW52aXRhdGlvblVybDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlZ2lzdGVyVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVzdG9yZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1Jlc3RvcmVBbmFseXNpc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1Jlc3RvcmVBbmFseXNpc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VhcmNoQW5hbHlzZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VhcmNoQW5hbHlzZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9BbmFseXNpc1N1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZWFyY2hBbmFseXNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VhcmNoRGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZWFyY2hEYXNoYm9hcmRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0Rhc2hib2FyZFN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZWFyY2hEYXNoYm9hcmRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZWFyY2hEYXRhU2V0c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZWFyY2hEYXRhU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldFN1bW1hcmllczogKF8pID0+IGRlX0RhdGFTZXRTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VhcmNoRGF0YVNldHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlYXJjaERhdGFTb3VyY2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlYXJjaERhdGFTb3VyY2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU291cmNlU3VtbWFyaWVzOiAoXykgPT4gZGVfRGF0YVNvdXJjZVN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZWFyY2hEYXRhU291cmNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VhcmNoRm9sZGVyc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZWFyY2hGb2xkZXJzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBGb2xkZXJTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0ZvbGRlclN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZWFyY2hGb2xkZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlYXJjaEdyb3Vwc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZWFyY2hHcm91cHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTGlzdDogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlYXJjaEdyb3Vwc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydEFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0QXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlRXhwb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdGFydEFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydEFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydEpvYklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU3RhcnRBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1RhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1RhZ1Jlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UYWdSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVW50YWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBY2NvdW50Q3VzdG9taXphdGlvbjogX2pzb24sXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWVzcGFjZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQWNjb3VudFNldHRpbmdzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUFjY291bnRTZXR0aW5nc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlQWNjb3VudFNldHRpbmdzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVBbmFseXNpc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVwZGF0ZVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUFuYWx5c2lzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGFzaGJvYXJkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBWZXJzaW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMaW5rU2hhcmluZ0NvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGFzaGJvYXJkUHVibGlzaGVkVmVyc2lvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXNoYm9hcmRQdWJsaXNoZWRWZXJzaW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhc2hib2FyZFB1Ymxpc2hlZFZlcnNpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhdGFTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGF0YVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXRhU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGF0YVNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXBkYXRlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGF0YVNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUZvbGRlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVGb2xkZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0SW50MzIsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVHcm91cENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVHcm91cENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXA6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVHcm91cENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXNzaWdubWVudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzaWdubWVudE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NpZ25tZW50U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSWRlbnRpdGllczogX2pzb24sXG4gICAgICAgIFBvbGljeUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVJcFJlc3RyaWN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUlwUmVzdHJpY3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUlwUmVzdHJpY3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVB1YmxpY1NoYXJpbmdTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVQdWJsaWNTaGFyaW5nU2V0dGluZ3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVB1YmxpY1NoYXJpbmdTZXR0aW5nc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRoZW1lQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGhlbWVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGhlbWVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVG9waWNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVG9waWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlZnJlc2hBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVG9waWNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRvcGljUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFzZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVVzZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVzZXI6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVVc2VyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBdmFpbGFiaWxpdHlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVcGRhdGVTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmxpY3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0RvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IERvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXNvdXJjZVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IExpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVGhyb3R0bGluZ0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb246IFtdLFxuICAgICAgICBEYXRlQWdncmVnYXRpb25GdW5jdGlvbjogW10sXG4gICAgICAgIE51bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBzZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgU29ydERpcmVjdGlvbjogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQW5hbHlzaXNEZWZpbml0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IF9qc29uLFxuICAgICAgICBDb2x1bW5Db25maWd1cmF0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyRGVjbGFyYXRpb25zOiBfanNvbixcbiAgICAgICAgRmlsdGVyR3JvdXBzOiAoXykgPT4gc2VfRmlsdGVyR3JvdXBMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IChfKSA9PiBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0czogKF8pID0+IHNlX1NoZWV0RGVmaW5pdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXJjQXhpc0NvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBSYW5nZTogKF8pID0+IHNlX0FyY0F4aXNEaXNwbGF5UmFuZ2UoXywgY29udGV4dCksXG4gICAgICAgIFJlc2VydmVSYW5nZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXJjQXhpc0Rpc3BsYXlSYW5nZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIE1heDogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgTWluOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0FyY0NvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBcmNBbmdsZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgQXJjVGhpY2tuZXNzOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYk92ZXJyaWRlUGFyYW1ldGVycyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFuYWx5c2VzOiBfanNvbixcbiAgICAgICAgRGFzaGJvYXJkczogX2pzb24sXG4gICAgICAgIERhdGFTZXRzOiBfanNvbixcbiAgICAgICAgRGF0YVNvdXJjZXM6IF9qc29uLFxuICAgICAgICBSZWZyZXNoU2NoZWR1bGVzOiAoXykgPT4gc2VfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBSZXNvdXJjZUlkT3ZlcnJpZGVDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgVGhlbWVzOiBfanNvbixcbiAgICAgICAgVlBDQ29ubmVjdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YVNldElkOiBbXSxcbiAgICAgICAgU2NoZWR1bGVJZDogW10sXG4gICAgICAgIFN0YXJ0QWZ0ZXJEYXRlVGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVyc0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Fzc2V0QnVuZGxlSW1wb3J0U291cmNlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQm9keTogY29udGV4dC5iYXNlNjRFbmNvZGVyLFxuICAgICAgICBTM1VyaTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0RhdGFPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZUF4aXNPcHRpb25zOiBfanNvbixcbiAgICAgICAgTnVtZXJpY0F4aXNPcHRpb25zOiAoXykgPT4gc2VfTnVtZXJpY0F4aXNPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNEaXNwbGF5TWluTWF4UmFuZ2UgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBNYXhpbXVtOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBNaW5pbXVtOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEF4aXNMaW5lVmlzaWJpbGl0eTogW10sXG4gICAgICAgIEF4aXNPZmZzZXQ6IFtdLFxuICAgICAgICBEYXRhT3B0aW9uczogKF8pID0+IHNlX0F4aXNEYXRhT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgR3JpZExpbmVWaXNpYmlsaXR5OiBbXSxcbiAgICAgICAgU2Nyb2xsYmFyT3B0aW9uczogKF8pID0+IHNlX1Njcm9sbEJhck9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFRpY2tMYWJlbE9wdGlvbnM6IChfKSA9PiBzZV9BeGlzVGlja0xhYmVsT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzRGlzcGxheVJhbmdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YURyaXZlbjogX2pzb24sXG4gICAgICAgIE1pbk1heDogKF8pID0+IHNlX0F4aXNEaXNwbGF5TWluTWF4UmFuZ2UoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0xpbmVhclNjYWxlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgU3RlcENvdW50OiBbXSxcbiAgICAgICAgU3RlcFNpemU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0xvZ2FyaXRobWljU2NhbGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYXNlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNTY2FsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIExpbmVhcjogKF8pID0+IHNlX0F4aXNMaW5lYXJTY2FsZShfLCBjb250ZXh0KSxcbiAgICAgICAgTG9nYXJpdGhtaWM6IChfKSA9PiBzZV9BeGlzTG9nYXJpdGhtaWNTY2FsZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzVGlja0xhYmVsT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIExhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJvdGF0aW9uQW5nbGU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgQ29sb3JzOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JhckNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhcnNBcnJhbmdlbWVudDogW10sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbnRyaWJ1dGlvbkFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0JhckNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgT3JpZW50YXRpb246IFtdLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0JhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVBeGlzOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JhckNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9CYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfQmFyQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmluV2lkdGhPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmluQ291bnRMaW1pdDogW10sXG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyb3VwQnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9Cb3hQbG90TWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Cb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQm94UGxvdE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0JveFBsb3RGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Cb3hQbG90U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQm94UGxvdEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb3hQbG90QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Cb3hQbG90QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQm94UGxvdE1lYXN1cmVGaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Cb3hQbG90U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGlvbkNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JveFBsb3RWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfQm94UGxvdENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbG9yU2NhbGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvckZpbGxUeXBlOiBbXSxcbiAgICAgICAgQ29sb3JzOiAoXykgPT4gc2VfQ29sb3JTY2FsZUNvbG9yTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTnVsbFZhbHVlQ29sb3I6IChfKSA9PiBzZV9EYXRhQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sb3JTY2FsZUNvbG9yTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9EYXRhQ29sb3IoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbHVtbkhpZXJhcmNoeSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lSGllcmFyY2h5OiAoXykgPT4gc2VfRGF0ZVRpbWVIaWVyYXJjaHkoXywgY29udGV4dCksXG4gICAgICAgIEV4cGxpY2l0SGllcmFyY2h5OiAoXykgPT4gc2VfRXhwbGljaXRIaWVyYXJjaHkoXywgY29udGV4dCksXG4gICAgICAgIFByZWRlZmluZWRIaWVyYXJjaHk6IChfKSA9PiBzZV9QcmVkZWZpbmVkSGllcmFyY2h5KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfQ29sdW1uSGllcmFyY2h5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db2x1bW5Tb3J0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIERpcmVjdGlvbjogW10sXG4gICAgICAgIFNvcnRCeTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sdW1uVG9vbHRpcEl0ZW0gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbjogKF8pID0+IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIExhYmVsOiBbXSxcbiAgICAgICAgVmlzaWJpbGl0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tYm9DaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyVmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBMaW5lVmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhckRhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBCYXJzQXJyYW5nZW1lbnQ6IFtdLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfQ29tYm9DaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIExpbmVEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tYm9DaGFydEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21ib0NoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Db21ib0NoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tYm9DaGFydFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbG9ySXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENvbG9yU29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbWJvQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfQ29tYm9DaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZvcmVjYXN0OiAoXykgPT4gc2VfRm9yZWNhc3RDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgR3Jvd3RoUmF0ZTogKF8pID0+IHNlX0dyb3d0aFJhdGVDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTWF4aW11bU1pbmltdW06IChfKSA9PiBzZV9NYXhpbXVtTWluaW11bUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBNZXRyaWNDb21wYXJpc29uOiAoXykgPT4gc2VfTWV0cmljQ29tcGFyaXNvbkNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBQZXJpb2RPdmVyUGVyaW9kOiAoXykgPT4gc2VfUGVyaW9kT3ZlclBlcmlvZENvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBQZXJpb2RUb0RhdGU6IChfKSA9PiBzZV9QZXJpb2RUb0RhdGVDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9wQm90dG9tTW92ZXJzOiAoXykgPT4gc2VfVG9wQm90dG9tTW92ZXJzQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvcEJvdHRvbVJhbmtlZDogKF8pID0+IHNlX1RvcEJvdHRvbVJhbmtlZENvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3RhbEFnZ3JlZ2F0aW9uOiAoXykgPT4gc2VfVG90YWxBZ2dyZWdhdGlvbkNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBVbmlxdWVWYWx1ZXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbXB1dGF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9Db21wdXRhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBHcmFkaWVudDogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIFNvbGlkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdHcmFkaWVudENvbG9yID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3I6IChfKSA9PiBzZV9HcmFkaWVudENvbG9yKF8sIGNvbnRleHQpLFxuICAgICAgICBFeHByZXNzaW9uOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21BY3Rpb25TZXRQYXJhbWV0ZXJzT3BlcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uczogKF8pID0+IHNlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ3VzdG9tQ29udGVudFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogW10sXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ3VzdG9tUGFyYW1ldGVyVmFsdWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxWYWx1ZXM6IChfKSA9PiBzZV9EZWNpbWFsRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSW50ZWdlclZhbHVlczogX2pzb24sXG4gICAgICAgIFN0cmluZ1ZhbHVlczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlczogKF8pID0+IHNlX0N1c3RvbVBhcmFtZXRlclZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgSW5jbHVkZU51bGxWYWx1ZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogX2pzb24sXG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXJEZWNsYXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBzZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gc2VfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRhQ29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvcjogW10sXG4gICAgICAgIERhdGFWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRhc2V0UGFyYW1ldGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyOiAoXykgPT4gc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsRGF0YXNldFBhcmFtZXRlcjogKF8pID0+IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyRGF0YXNldFBhcmFtZXRlcjogX2pzb24sXG4gICAgICAgIFN0cmluZ0RhdGFzZXRQYXJhbWV0ZXI6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RhdGFzZXRQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgICAgICBWYWx1ZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZW50cnkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEZWZhdWx0VmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZW50cnkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEZWZhdWx0VmFsdWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgUm9sbGluZ0RhdGU6IF9qc29uLFxuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVIaWVyYXJjaHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEcmlsbERvd25GaWx0ZXJzOiAoXykgPT4gc2VfRHJpbGxEb3duRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGllcmFyY2h5SWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lUGFyYW1ldGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX1NlbnNpdGl2ZVRpbWVzdGFtcExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIE1hcHBlZERhdGFTZXRQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiAoXykgPT4gc2VfRGF0ZVRpbWVWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVQYXJhbWV0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RhdGVUaW1lUGFyYW1ldGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBWYWx1ZVdoZW5VbnNldE9wdGlvbjogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEZWZhdWx0VmFsdWVzOiAoXykgPT4gc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBWYWx1ZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc2VyaWFsaXplRmxvYXQoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc2VyaWFsaXplRmxvYXQoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gc2VfRGVjaW1hbERlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbFBhcmFtZXRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9TZW5zaXRpdmVEb3VibGVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EZWNpbWFsRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwcGVkRGF0YVNldFBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyVmFsdWVUeXBlOiBbXSxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IChfKSA9PiBzZV9EZWNpbWFsVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxQYXJhbWV0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RlY2ltYWxQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXRPcHRpb246IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Rlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX0N1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdEFsbFZhbHVlT3B0aW9uczogW10sXG4gICAgICAgIFNvdXJjZUNvbHVtbjogX2pzb24sXG4gICAgICAgIFNvdXJjZUZpZWxkOiBbXSxcbiAgICAgICAgU291cmNlUGFyYW1ldGVyTmFtZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRHJpbGxEb3duRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlGaWx0ZXI6IF9qc29uLFxuICAgICAgICBOdW1lcmljRXF1YWxpdHlGaWx0ZXI6IChfKSA9PiBzZV9OdW1lcmljRXF1YWxpdHlEcmlsbERvd25GaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIFRpbWVSYW5nZUZpbHRlcjogKF8pID0+IHNlX1RpbWVSYW5nZURyaWxsRG93bkZpbHRlcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EcmlsbERvd25GaWx0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RyaWxsRG93bkZpbHRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRW1wdHlWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXI6IFtdLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRXhwbGljaXRIaWVyYXJjaHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgRHJpbGxEb3duRmlsdGVyczogKF8pID0+IHNlX0RyaWxsRG93bkZpbHRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEhpZXJhcmNoeUlkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWVsZEJhc2VkVG9vbHRpcCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uVmlzaWJpbGl0eTogW10sXG4gICAgICAgIFRvb2x0aXBGaWVsZHM6IChfKSA9PiBzZV9Ub29sdGlwSXRlbUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXBUaXRsZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpZWxkU29ydE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5Tb3J0OiAoXykgPT4gc2VfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRTb3J0OiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWVsZFNvcnRPcHRpb25zKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9GaWxsZWRNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbnM6IChfKSA9PiBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFNoYXBlOiAoXykgPT4gc2VfRmlsbGVkTWFwU2hhcGVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfRmlsbGVkTWFwRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgTWFwU3R5bGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9GaWxsZWRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBXaW5kb3dPcHRpb25zOiAoXykgPT4gc2VfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbGxlZE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfRmlsbGVkTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcFNoYXBlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIEZvcm1hdDogKF8pID0+IHNlX1NoYXBlQ29uZGl0aW9uYWxGb3JtYXQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfRmlsbGVkTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlGaWx0ZXI6IF9qc29uLFxuICAgICAgICBOdW1lcmljRXF1YWxpdHlGaWx0ZXI6IChfKSA9PiBzZV9OdW1lcmljRXF1YWxpdHlGaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIE51bWVyaWNSYW5nZUZpbHRlcjogKF8pID0+IHNlX051bWVyaWNSYW5nZUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgUmVsYXRpdmVEYXRlc0ZpbHRlcjogX2pzb24sXG4gICAgICAgIFRpbWVFcXVhbGl0eUZpbHRlcjogKF8pID0+IHNlX1RpbWVFcXVhbGl0eUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZVJhbmdlRmlsdGVyOiAoXykgPT4gc2VfVGltZVJhbmdlRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21GaWx0ZXI6IChfKSA9PiBzZV9Ub3BCb3R0b21GaWx0ZXIoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsdGVyQ29udHJvbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lUGlja2VyOiBfanNvbixcbiAgICAgICAgRHJvcGRvd246IF9qc29uLFxuICAgICAgICBMaXN0OiBfanNvbixcbiAgICAgICAgUmVsYXRpdmVEYXRlVGltZTogX2pzb24sXG4gICAgICAgIFNsaWRlcjogKF8pID0+IHNlX0ZpbHRlclNsaWRlckNvbnRyb2woXywgY29udGV4dCksXG4gICAgICAgIFRleHRBcmVhOiBfanNvbixcbiAgICAgICAgVGV4dEZpZWxkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJDb250cm9sTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWx0ZXJDb250cm9sKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJHcm91cCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENyb3NzRGF0YXNldDogW10sXG4gICAgICAgIEZpbHRlckdyb3VwSWQ6IFtdLFxuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gc2VfRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2NvcGVDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJHcm91cExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRmlsdGVyR3JvdXAoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbHRlckxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJTbGlkZXJDb250cm9sID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGlzcGxheU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJDb250cm9sSWQ6IFtdLFxuICAgICAgICBNYXhpbXVtVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIE1pbmltdW1WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgU291cmNlRmlsdGVySWQ6IFtdLFxuICAgICAgICBTdGVwU2l6ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgVGl0bGU6IFtdLFxuICAgICAgICBUeXBlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdENvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIEN1c3RvbVNlYXNvbmFsaXR5VmFsdWU6IFtdLFxuICAgICAgICBMb3dlckJvdW5kYXJ5OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVyaW9kc0JhY2t3YXJkOiBbXSxcbiAgICAgICAgUGVyaW9kc0ZvcndhcmQ6IFtdLFxuICAgICAgICBQcmVkaWN0aW9uSW50ZXJ2YWw6IFtdLFxuICAgICAgICBTZWFzb25hbGl0eTogW10sXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBVcHBlckJvdW5kYXJ5OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGb3JlY2FzdFByb3BlcnRpZXM6IChfKSA9PiBzZV9UaW1lQmFzZWRGb3JlY2FzdFByb3BlcnRpZXMoXywgY29udGV4dCksXG4gICAgICAgIFNjZW5hcmlvOiAoXykgPT4gc2VfRm9yZWNhc3RTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRm9yZWNhc3RTY2VuYXJpbyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFdoYXRJZlBvaW50U2NlbmFyaW86IChfKSA9PiBzZV9XaGF0SWZQb2ludFNjZW5hcmlvKF8sIGNvbnRleHQpLFxuICAgICAgICBXaGF0SWZSYW5nZVNjZW5hcmlvOiAoXykgPT4gc2VfV2hhdElmUmFuZ2VTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GdW5uZWxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9GdW5uZWxDaGFydE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0Z1bm5lbENoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9GdW5uZWxDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRnVubmVsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0Z1bm5lbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Z1bm5lbENoYXJ0VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0Z1bm5lbENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRBcmNDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGb3JlZ3JvdW5kQ29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBcmM6IChfKSA9PiBzZV9HYXVnZUNoYXJ0QXJjQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5VmFsdWU6IChfKSA9PiBzZV9HYXVnZUNoYXJ0UHJpbWFyeVZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9HYXVnZUNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgR2F1Z2VDaGFydE9wdGlvbnM6IChfKSA9PiBzZV9HYXVnZUNoYXJ0T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcE9wdGlvbnM6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBUYXJnZXRWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXJjOiAoXykgPT4gc2VfQXJjQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQXJjQXhpczogKF8pID0+IHNlX0FyY0F4aXNDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb21wYXJpc29uOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVZhbHVlRGlzcGxheVR5cGU6IFtdLFxuICAgICAgICBQcmltYXJ5VmFsdWVGb250Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydFByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HYXVnZUNoYXJ0VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0dhdWdlQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxDb29yZGluYXRlQm91bmRzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRWFzdDogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgTm9ydGg6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFNvdXRoOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBXZXN0OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBNYXBTdHlsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBQb2ludFN0eWxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFdpbmRvd09wdGlvbnM6IChfKSA9PiBzZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HZW9zcGF0aWFsTWFwRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdlb3NwYXRpYWxNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HZW9zcGF0aWFsTWFwVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb3VuZHM6IChfKSA9PiBzZV9HZW9zcGF0aWFsQ29vcmRpbmF0ZUJvdW5kcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwWm9vbU1vZGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dyYWRpZW50Q29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTdG9wczogKF8pID0+IHNlX0dyYWRpZW50U3RvcExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR3JhZGllbnRTdG9wID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3I6IFtdLFxuICAgICAgICBEYXRhVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIEdyYWRpZW50T2Zmc2V0OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dyYWRpZW50U3RvcExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfR3JhZGllbnRTdG9wKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Hcm93dGhSYXRlQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcmlvZFNpemU6IFtdLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIFJvd3M6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9IZWF0TWFwTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IZWF0TWFwQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBzZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5MYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0hlYXRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBSb3dMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0hlYXRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hlYXRNYXBGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hlYXRNYXBNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGVhdE1hcFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSGVhdE1hcENvbHVtbkl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcENvbHVtblNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFJvd0l0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcFJvd1NvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IZWF0TWFwVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0hlYXRNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9IaXN0b2dyYW1NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hpc3RvZ3JhbUJpbk9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCaW5Db3VudDogX2pzb24sXG4gICAgICAgIEJpbldpZHRoOiAoXykgPT4gc2VfQmluV2lkdGhPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWxlY3RlZEJpblR5cGU6IFtdLFxuICAgICAgICBTdGFydFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hpc3RvZ3JhbUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCaW5PcHRpb25zOiAoXykgPT4gc2VfSGlzdG9ncmFtQmluT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9IaXN0b2dyYW1GaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEhpc3RvZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hpc3RvZ3JhbVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9IaXN0b2dyYW1Db25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0luc2lnaHRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25zOiAoXykgPT4gc2VfQ29tcHV0YXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21OYXJyYXRpdmU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0luc2lnaHRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXI6IFtdLFxuICAgICAgICBJbnNpZ2h0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0luc2lnaHRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbnM6IChfKSA9PiBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFByaW1hcnlWYWx1ZTogKF8pID0+IHNlX0tQSVByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJvZ3Jlc3NCYXI6IChfKSA9PiBzZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfS1BJQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9LUElGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBLUElPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9LUElTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFyZ2V0VmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgVHJlbmRHcm91cHM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSVByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZvcmVncm91bmRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSVNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVHJlbmRHcm91cFNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfS1BJQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGF5b3V0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX0xheW91dENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGF5b3V0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZyZWVGb3JtTGF5b3V0OiBfanNvbixcbiAgICAgICAgR3JpZExheW91dDogX2pzb24sXG4gICAgICAgIFNlY3Rpb25CYXNlZExheW91dDogKF8pID0+IHNlX1NlY3Rpb25CYXNlZExheW91dENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGF5b3V0TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9MYXlvdXQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbnRyaWJ1dGlvbkFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRGVmYXVsdFNlcmllc1NldHRpbmdzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0xpbmVDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEZvcmVjYXN0Q29uZmlndXJhdGlvbnM6IChfKSA9PiBzZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0xpbmVTZXJpZXNBeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9MaW5lU2VyaWVzQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWNvbmRhcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNlcmllczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVHlwZTogW10sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIExpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbG9ySXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzU29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xpbmVDaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9MaW5lQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZVNlcmllc0F4aXNEaXNwbGF5T3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEF4aXNPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBNaXNzaW5nRGF0YUNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Mb2dpY2FsVGFibGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBbGlhczogW10sXG4gICAgICAgIERhdGFUcmFuc2Zvcm1zOiAoXykgPT4gc2VfVHJhbnNmb3JtT3BlcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU291cmNlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Mb2dpY2FsVGFibGVNYXAgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoaW5wdXQpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1trZXldID0gc2VfTG9naWNhbFRhYmxlKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuY29uc3Qgc2VfTWF4aW11bU1pbmltdW1Db21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IFtdLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9NZWFzdXJlRmllbGQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYWxjdWxhdGVkTWVhc3VyZUZpZWxkOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBEYXRlTWVhc3VyZUZpZWxkOiBfanNvbixcbiAgICAgICAgTnVtZXJpY2FsTWVhc3VyZUZpZWxkOiAoXykgPT4gc2VfTnVtZXJpY2FsTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX01lYXN1cmVGaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgRnJvbVZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGFyZ2V0VmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX05ld0RlZmF1bHRWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyU3RhdGljVmFsdWVzOiBfanNvbixcbiAgICAgICAgU3RyaW5nU3RhdGljVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUGVyY2VudGlsZUFnZ3JlZ2F0aW9uOiAoXykgPT4gc2VfUGVyY2VudGlsZUFnZ3JlZ2F0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTaW1wbGVOdW1lcmljYWxBZ2dyZWdhdGlvbjogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTnVtZXJpY2FsTWVhc3VyZUZpZWxkID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpZWxkSWQ6IFtdLFxuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljQXhpc09wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBSYW5nZTogKF8pID0+IHNlX0F4aXNEaXNwbGF5UmFuZ2UoXywgY29udGV4dCksXG4gICAgICAgIFNjYWxlOiAoXykgPT4gc2VfQXhpc1NjYWxlKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNFcXVhbGl0eURyaWxsRG93bkZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNFcXVhbGl0eUZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBzZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogW10sXG4gICAgICAgIE1hdGNoT3BlcmF0b3I6IFtdLFxuICAgICAgICBOdWxsT3B0aW9uOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFNlbGVjdEFsbE9wdGlvbnM6IFtdLFxuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljUmFuZ2VGaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBJbmNsdWRlTWF4aW11bTogW10sXG4gICAgICAgIEluY2x1ZGVNaW5pbXVtOiBbXSxcbiAgICAgICAgTnVsbE9wdGlvbjogW10sXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IHNlX051bWVyaWNSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBSYW5nZU1pbmltdW06IChfKSA9PiBzZV9OdW1lcmljUmFuZ2VGaWx0ZXJWYWx1ZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsT3B0aW9uczogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTnVtZXJpY1JhbmdlRmlsdGVyVmFsdWUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQYXJhbWV0ZXI6IFtdLFxuICAgICAgICBTdGF0aWNWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBOZXdEZWZhdWx0VmFsdWVzOiAoXykgPT4gc2VfTmV3RGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTmV3UGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlckNvbnRyb2wgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVBpY2tlcjogX2pzb24sXG4gICAgICAgIERyb3Bkb3duOiBfanNvbixcbiAgICAgICAgTGlzdDogX2pzb24sXG4gICAgICAgIFNsaWRlcjogKF8pID0+IHNlX1BhcmFtZXRlclNsaWRlckNvbnRyb2woXywgY29udGV4dCksXG4gICAgICAgIFRleHRBcmVhOiBfanNvbixcbiAgICAgICAgVGV4dEZpZWxkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QYXJhbWV0ZXJDb250cm9sTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9QYXJhbWV0ZXJDb250cm9sKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb246IChfKSA9PiBzZV9EYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb246IChfKSA9PiBzZV9EZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbjogX2pzb24sXG4gICAgICAgIFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfUGFyYW1ldGVyRGVjbGFyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX19QYXJhbWV0ZXJzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQYXJhbWV0ZXJzOiAoXykgPT4gc2VfRGF0ZVRpbWVQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyczogKF8pID0+IHNlX0RlY2ltYWxQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyczogX2pzb24sXG4gICAgICAgIFN0cmluZ1BhcmFtZXRlcnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlclNsaWRlckNvbnRyb2wgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEaXNwbGF5T3B0aW9uczogX2pzb24sXG4gICAgICAgIE1heGltdW1WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgTWluaW11bVZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBQYXJhbWV0ZXJDb250cm9sSWQ6IFtdLFxuICAgICAgICBTb3VyY2VQYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICAgICAgU3RlcFNpemU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFRpdGxlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QZXJjZW50aWxlQWdncmVnYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQZXJjZW50aWxlVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGVyY2VudFZpc2libGVSYW5nZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZyb206IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFRvOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BlcmlvZE92ZXJQZXJpb2RDb21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQZXJpb2RUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGllQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BpZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29udHJpYnV0aW9uQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBEb251dE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGllQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1BpZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaWVDaGFydEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQaWVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGllQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaWVDaGFydFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGllQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUGllQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RGaWVsZFNvcnRPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIFNvcnRCeTogKF8pID0+IHNlX1Bpdm90VGFibGVTb3J0QnkoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RGaWVsZFNvcnRPcHRpb25zTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9QaXZvdEZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90TWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBSb3dzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfUGl2b3RNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIFNjb3BlOiBfanNvbixcbiAgICAgICAgU2NvcGVzOiBfanNvbixcbiAgICAgICAgVGV4dEZvcm1hdDogKF8pID0+IHNlX1RleHRDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDZWxsOiAoXykgPT4gc2VfUGl2b3RUYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGl2b3RUYWJsZUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFBhZ2luYXRlZFJlcG9ydE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1Bpdm90VGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG90YWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1Bpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlU29ydEJ5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uOiAoXykgPT4gc2VfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVBhdGg6IF9qc29uLFxuICAgICAgICBGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRTb3J0T3B0aW9uczogKF8pID0+IHNlX1Bpdm90RmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9QaXZvdFRhYmxlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QcmVkZWZpbmVkSGllcmFyY2h5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBzZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcjogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX1JhZGFyQ2hhcnRWYWx1ZXNGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBbHRlcm5hdGVCYW5kQ29sb3JzVmlzaWJpbGl0eTogW10sXG4gICAgICAgIEFsdGVybmF0ZUJhbmRFdmVuQ29sb3I6IFtdLFxuICAgICAgICBBbHRlcm5hdGVCYW5kT2RkQ29sb3I6IFtdLFxuICAgICAgICBBeGVzUmFuZ2VTY2FsZTogW10sXG4gICAgICAgIEJhc2VTZXJpZXNTZXR0aW5nczogX2pzb24sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckF4aXM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENvbG9yTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1JhZGFyQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTaGFwZTogW10sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUmFkYXJDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdGFydEFuZ2xlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFJhZGFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1JhZGFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JhZGFyQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUmFkYXJDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZlcmVuY2VMaW5lID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YUNvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIExhYmVsQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFN0YXR1czogW10sXG4gICAgICAgIFN0eWxlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmVmZXJlbmNlTGluZURhdGFDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXhpc0JpbmRpbmc6IFtdLFxuICAgICAgICBEeW5hbWljQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVEeW5hbWljRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN0YXRpY0NvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmVmZXJlbmNlTGluZUR5bmFtaWNEYXRhQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhbGN1bGF0aW9uOiAoXykgPT4gc2VfTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgTWVhc3VyZUFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBzZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JlZmVyZW5jZUxpbmVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1JlZmVyZW5jZUxpbmUoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JlZmVyZW5jZUxpbmVTdGF0aWNEYXRhQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JlZnJlc2hTY2hlZHVsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFybjogW10sXG4gICAgICAgIFJlZnJlc2hUeXBlOiBbXSxcbiAgICAgICAgU2NoZWR1bGVGcmVxdWVuY3k6IF9qc29uLFxuICAgICAgICBTY2hlZHVsZUlkOiBbXSxcbiAgICAgICAgU3RhcnRBZnRlckRhdGVUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Jvd1NvcnRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0ZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uOiBfanNvbixcbiAgICAgICAgU291cmNlOiBfanNvbixcbiAgICAgICAgV2VpZ2h0OiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TYW5rZXlEaWFncmFtQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9TYW5rZXlEaWFncmFtRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9TYW5rZXlEaWFncmFtU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Fua2V5RGlhZ3JhbUZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTYW5rZXlEaWFncmFtQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9TYW5rZXlEaWFncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Fua2V5RGlhZ3JhbVNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb25JdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgU291cmNlSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIFdlaWdodFNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TYW5rZXlEaWFncmFtVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1NhbmtleURpYWdyYW1DaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2NhdHRlclBsb3RDYXRlZ29yaWNhbGx5QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIExhYmVsOiBfanNvbixcbiAgICAgICAgU2l6ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgWUF4aXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NjYXR0ZXJQbG90Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfU2NhdHRlclBsb3RGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TY2F0dGVyUGxvdEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTY2F0dGVyUGxvdENhdGVnb3JpY2FsbHlBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1NjYXR0ZXJQbG90Q2F0ZWdvcmljYWxseUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9TY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2NhdHRlclBsb3RVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBMYWJlbDogX2pzb24sXG4gICAgICAgIFNpemU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpczogX2pzb24sXG4gICAgICAgIFlBeGlzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TY2F0dGVyUGxvdFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9TY2F0dGVyUGxvdENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TY3JvbGxCYXJPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVmlzaWJpbGl0eTogW10sXG4gICAgICAgIFZpc2libGVSYW5nZTogKF8pID0+IHNlX1Zpc2libGVSYW5nZU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2VjdGlvbkJhc2VkTGF5b3V0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJvZHlTZWN0aW9uczogX2pzb24sXG4gICAgICAgIENhbnZhc1NpemVPcHRpb25zOiBfanNvbixcbiAgICAgICAgRm9vdGVyU2VjdGlvbnM6IF9qc29uLFxuICAgICAgICBIZWFkZXJTZWN0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Vuc2l0aXZlRG91YmxlTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX3NlcmlhbGl6ZUZsb2F0KGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TZW5zaXRpdmVUaW1lc3RhbXBMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZW50cnkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb25QYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9EZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2hhcGVDb25kaXRpb25hbEZvcm1hdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhY2tncm91bmRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NoZWV0RGVmaW5pdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbnRlbnRUeXBlOiBbXSxcbiAgICAgICAgRGVzY3JpcHRpb246IFtdLFxuICAgICAgICBGaWx0ZXJDb250cm9sczogKF8pID0+IHNlX0ZpbHRlckNvbnRyb2xMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBMYXlvdXRzOiAoXykgPT4gc2VfTGF5b3V0TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBhcmFtZXRlckNvbnRyb2xzOiAoXykgPT4gc2VfUGFyYW1ldGVyQ29udHJvbExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0Q29udHJvbExheW91dHM6IF9qc29uLFxuICAgICAgICBTaGVldElkOiBbXSxcbiAgICAgICAgVGV4dEJveGVzOiBfanNvbixcbiAgICAgICAgVGl0bGU6IFtdLFxuICAgICAgICBWaXN1YWxzOiAoXykgPT4gc2VfVmlzdWFsTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TaGVldERlZmluaXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1NoZWV0RGVmaW5pdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyb3VwQnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkSWQ6IFtdLFxuICAgICAgICBUZXh0Rm9ybWF0OiAoXykgPT4gc2VfVGV4dENvbmRpdGlvbmFsRm9ybWF0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENlbGw6IChfKSA9PiBzZV9UYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFJvdzogKF8pID0+IHNlX1RhYmxlUm93Q29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1RhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfVGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVJbmxpbmVWaXN1YWxpemF0aW9uczogX2pzb24sXG4gICAgICAgIFRhYmxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvdGFsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1RhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFRhYmxlVW5hZ2dyZWdhdGVkRmllbGRXZWxsczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVSb3dDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGV4dENvbG9yOiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBhZ2luYXRpb25Db25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgUm93U29ydDogKF8pID0+IHNlX1Jvd1NvcnRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1RhYmxlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gc2VfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0Q29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBzZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gc2VfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UZXh0Q29uZGl0aW9uYWxGb3JtYXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RpbWVCYXNlZEZvcmVjYXN0UHJvcGVydGllcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIExvd2VyQm91bmRhcnk6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFBlcmlvZHNCYWNrd2FyZDogW10sXG4gICAgICAgIFBlcmlvZHNGb3J3YXJkOiBbXSxcbiAgICAgICAgUHJlZGljdGlvbkludGVydmFsOiBbXSxcbiAgICAgICAgU2Vhc29uYWxpdHk6IFtdLFxuICAgICAgICBVcHBlckJvdW5kYXJ5OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RpbWVFcXVhbGl0eUZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RpbWVSYW5nZURyaWxsRG93bkZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgUmFuZ2VNaW5pbXVtOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RpbWVSYW5nZUZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEV4Y2x1ZGVQZXJpb2RDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBJbmNsdWRlTWF4aW11bTogW10sXG4gICAgICAgIEluY2x1ZGVNaW5pbXVtOiBbXSxcbiAgICAgICAgTnVsbE9wdGlvbjogW10sXG4gICAgICAgIFJhbmdlTWF4aW11bVZhbHVlOiAoXykgPT4gc2VfVGltZVJhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFJhbmdlTWluaW11bVZhbHVlOiAoXykgPT4gc2VfVGltZVJhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGltZVJhbmdlRmlsdGVyVmFsdWUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQYXJhbWV0ZXI6IFtdLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFN0YXRpY1ZhbHVlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Rvb2x0aXBJdGVtID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uVG9vbHRpcEl0ZW06IChfKSA9PiBzZV9Db2x1bW5Ub29sdGlwSXRlbShfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRUb29sdGlwSXRlbTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9vbHRpcEl0ZW1MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Rvb2x0aXBJdGVtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub29sdGlwT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkQmFzZWRUb29sdGlwOiAoXykgPT4gc2VfRmllbGRCYXNlZFRvb2x0aXAoXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdGVkVG9vbHRpcFR5cGU6IFtdLFxuICAgICAgICBUb29sdGlwVmlzaWJpbGl0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9wQm90dG9tRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbnM6IChfKSA9PiBzZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBMaW1pdDogW10sXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IFtdLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RvcEJvdHRvbU1vdmVyc0NvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTW92ZXJTaXplOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFNvcnRPcmRlcjogW10sXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBUeXBlOiBbXSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9wQm90dG9tUmFua2VkQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUmVzdWx0U2l6ZTogW10sXG4gICAgICAgIFR5cGU6IFtdLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhc2VkT25TcGljZVNjaGVkdWxlOiBbXSxcbiAgICAgICAgSXNFbmFibGVkOiBbXSxcbiAgICAgICAgUmVwZWF0QXQ6IFtdLFxuICAgICAgICBTdGFydGluZ0F0OiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBUaW1lem9uZTogW10sXG4gICAgICAgIFRvcGljU2NoZWR1bGVUeXBlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyYW5zZm9ybU9wZXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBUcmFuc2Zvcm1PcGVyYXRpb24udmlzaXQoaW5wdXQsIHtcbiAgICAgICAgQ2FzdENvbHVtblR5cGVPcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgQ2FzdENvbHVtblR5cGVPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgQ3JlYXRlQ29sdW1uc09wZXJhdGlvbjogKHZhbHVlKSA9PiAoeyBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIEZpbHRlck9wZXJhdGlvbjogKHZhbHVlKSA9PiAoeyBGaWx0ZXJPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7XG4gICAgICAgICAgICBPdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb246IHNlX092ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbih2YWx1ZSwgY29udGV4dCksXG4gICAgICAgIH0pLFxuICAgICAgICBQcm9qZWN0T3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IFByb2plY3RPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IFJlbmFtZUNvbHVtbk9wZXJhdGlvbjogX2pzb24odmFsdWUpIH0pLFxuICAgICAgICBUYWdDb2x1bW5PcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgVGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIFVudGFnQ29sdW1uT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IFVudGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIF86IChuYW1lLCB2YWx1ZSkgPT4gKHsgbmFtZTogdmFsdWUgfSksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVHJhbnNmb3JtT3BlcmF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9UcmFuc2Zvcm1PcGVyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yczogKF8pID0+IHNlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cHM6IF9qc29uLFxuICAgICAgICBTaXplczogKF8pID0+IHNlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvclNjYWxlOiAoXykgPT4gc2VfQ29sb3JTY2FsZShfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9UcmVlTWFwRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgR3JvdXBMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTaXplTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9UcmVlTWFwU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmVlTWFwRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFRyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1RyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmVlTWFwTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFRyZWVNYXBHcm91cEl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgVHJlZU1hcFNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmVlTWFwVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1RyZWVNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzaWJsZVJhbmdlT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBlcmNlbnRSYW5nZTogKF8pID0+IHNlX1BlcmNlbnRWaXNpYmxlUmFuZ2UoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9CYXJDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgQm94UGxvdFZpc3VhbDogKF8pID0+IHNlX0JveFBsb3RWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIENvbWJvQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9Db21ib0NoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21Db250ZW50VmlzdWFsOiAoXykgPT4gc2VfQ3VzdG9tQ29udGVudFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgRW1wdHlWaXN1YWw6IChfKSA9PiBzZV9FbXB0eVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgRmlsbGVkTWFwVmlzdWFsOiAoXykgPT4gc2VfRmlsbGVkTWFwVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBGdW5uZWxDaGFydFZpc3VhbDogKF8pID0+IHNlX0Z1bm5lbENoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBHYXVnZUNoYXJ0VmlzdWFsOiAoXykgPT4gc2VfR2F1Z2VDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgR2Vvc3BhdGlhbE1hcFZpc3VhbDogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEhlYXRNYXBWaXN1YWw6IChfKSA9PiBzZV9IZWF0TWFwVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBIaXN0b2dyYW1WaXN1YWw6IChfKSA9PiBzZV9IaXN0b2dyYW1WaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEluc2lnaHRWaXN1YWw6IChfKSA9PiBzZV9JbnNpZ2h0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBLUElWaXN1YWw6IChfKSA9PiBzZV9LUElWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIExpbmVDaGFydFZpc3VhbDogKF8pID0+IHNlX0xpbmVDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUGllQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9QaWVDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUGl2b3RUYWJsZVZpc3VhbDogKF8pID0+IHNlX1Bpdm90VGFibGVWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFJhZGFyQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9SYWRhckNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBTYW5rZXlEaWFncmFtVmlzdWFsOiAoXykgPT4gc2VfU2Fua2V5RGlhZ3JhbVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgU2NhdHRlclBsb3RWaXN1YWw6IChfKSA9PiBzZV9TY2F0dGVyUGxvdFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVWaXN1YWw6IChfKSA9PiBzZV9UYWJsZVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgVHJlZU1hcFZpc3VhbDogKF8pID0+IHNlX1RyZWVNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFdhdGVyZmFsbFZpc3VhbDogKF8pID0+IHNlX1dhdGVyZmFsbFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgV29yZENsb3VkVmlzdWFsOiAoXykgPT4gc2VfV29yZENsb3VkVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbk9wZXJhdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21BY3Rpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBTdGF0dXM6IFtdLFxuICAgICAgICBUcmlnZ2VyOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Zpc3VhbEN1c3RvbUFjdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyT3BlcmF0aW9uOiBfanNvbixcbiAgICAgICAgTmF2aWdhdGlvbk9wZXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNldFBhcmFtZXRlcnNPcGVyYXRpb246IChfKSA9PiBzZV9DdXN0b21BY3Rpb25TZXRQYXJhbWV0ZXJzT3BlcmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBVUkxPcGVyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbk9wZXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXN1YWxMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Zpc3VhbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2F0ZXJmYWxsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJyZWFrZG93bnM6IF9qc29uLFxuICAgICAgICBDYXRlZ29yaWVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9XYXRlcmZhbGxDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9XYXRlcmZhbGxDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1dhdGVyZmFsbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBXYXRlcmZhbGxDaGFydE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dhdGVyZmFsbENoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFdhdGVyZmFsbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9XYXRlcmZhbGxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dhdGVyZmFsbENoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCcmVha2Rvd25JdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2F0ZXJmYWxsVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1dhdGVyZmFsbENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1doYXRJZlBvaW50U2NlbmFyaW8gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9XaGF0SWZSYW5nZVNjZW5hcmlvID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRW5kRGF0ZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgU3RhcnREYXRlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyb3VwQnk6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gc2VfV29yZENsb3VkTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Xb3JkQ2xvdWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1dvcmRDbG91ZFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBXb3JkQ2xvdWRPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgV29yZENsb3VkQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV29yZENsb3VkU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfV29yZENsb3VkQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQWdncmVnYXRpb25GdW5jdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0ZUFnZ3JlZ2F0aW9uRnVuY3Rpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgU29ydERpcmVjdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9BbmFseXNpcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXRhU2V0QXJuczogX2pzb24sXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNoZWV0czogX2pzb24sXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BbmFseXNpc0RlZmluaXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllckRlY2xhcmF0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckdyb3VwczogKF8pID0+IGRlX0ZpbHRlckdyb3VwTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUGFyYW1ldGVyRGVjbGFyYXRpb25zOiAoXykgPT4gZGVfUGFyYW1ldGVyRGVjbGFyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldHM6IChfKSA9PiBkZV9TaGVldERlZmluaXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FuYWx5c2lzU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FuYWx5c2lzU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQW5hbHlzaXNTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0FyY0F4aXNDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBSYW5nZTogKF8pID0+IGRlX0FyY0F4aXNEaXNwbGF5UmFuZ2UoXywgY29udGV4dCksXG4gICAgICAgIFJlc2VydmVSYW5nZTogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BcmNBeGlzRGlzcGxheVJhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBNYXg6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBNaW46IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FyY0NvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFyY0FuZ2xlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgQXJjVGhpY2tuZXNzOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bc3NldEJ1bmRsZUV4cG9ydEpvYlN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlRXhwb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXhwb3J0Rm9ybWF0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5jbHVkZUFsbERlcGVuZGVuY2llczogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlRXhwb3J0Sm9iU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQXNzZXRCdW5kbGVFeHBvcnRKb2JTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNlczogX2pzb24sXG4gICAgICAgIERhc2hib2FyZHM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0czogX2pzb24sXG4gICAgICAgIERhdGFTb3VyY2VzOiBfanNvbixcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlczogKF8pID0+IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUmVzb3VyY2VJZE92ZXJyaWRlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFRoZW1lczogX2pzb24sXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVycyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXJ0QWZ0ZXJEYXRlVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVyc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydEpvYklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEZhaWx1cmVBY3Rpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0F4aXNEYXRhT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZUF4aXNPcHRpb25zOiBfanNvbixcbiAgICAgICAgTnVtZXJpY0F4aXNPcHRpb25zOiAoXykgPT4gZGVfTnVtZXJpY0F4aXNPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNEaXNwbGF5TWluTWF4UmFuZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIE1heGltdW06IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBNaW5pbXVtOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzRGlzcGxheU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEF4aXNMaW5lVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF4aXNPZmZzZXQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhT3B0aW9uczogKF8pID0+IGRlX0F4aXNEYXRhT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgR3JpZExpbmVWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2Nyb2xsYmFyT3B0aW9uczogKF8pID0+IGRlX1Njcm9sbEJhck9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFRpY2tMYWJlbE9wdGlvbnM6IChfKSA9PiBkZV9BeGlzVGlja0xhYmVsT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzRGlzcGxheVJhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhRHJpdmVuOiBfanNvbixcbiAgICAgICAgTWluTWF4OiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzTGluZWFyU2NhbGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFN0ZXBDb3VudDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RlcFNpemU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNMb2dhcml0aG1pY1NjYWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXNlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzU2NhbGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIExpbmVhcjogKF8pID0+IGRlX0F4aXNMaW5lYXJTY2FsZShfLCBjb250ZXh0KSxcbiAgICAgICAgTG9nYXJpdGhtaWM6IChfKSA9PiBkZV9BeGlzTG9nYXJpdGhtaWNTY2FsZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzVGlja0xhYmVsT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUm90YXRpb25BbmdsZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmFyQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXJzQXJyYW5nZW1lbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9CYXJDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIE9yaWVudGF0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9CYXJDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlQXhpczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9CYXJDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9CYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc1NvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9CYXJDaGFydFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0JhckNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JpbldpZHRoT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmluQ291bnRMaW1pdDogX19leHBlY3RMb25nLFxuICAgICAgICBWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHcm91cEJ5OiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfQm94UGxvdE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdENoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQm94UGxvdE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0JveFBsb3RGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Cb3hQbG90U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0JveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Cb3hQbG90TWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQm94UGxvdFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGlvbkNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JveFBsb3RWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Cb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sb3JTY2FsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sb3JGaWxsVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENvbG9yczogKF8pID0+IGRlX0NvbG9yU2NhbGVDb2xvckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE51bGxWYWx1ZUNvbG9yOiAoXykgPT4gZGVfRGF0YUNvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbG9yU2NhbGVDb2xvckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YUNvbG9yKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0NvbHVtbkhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVIaWVyYXJjaHk6IChfKSA9PiBkZV9EYXRlVGltZUhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgRXhwbGljaXRIaWVyYXJjaHk6IChfKSA9PiBkZV9FeHBsaWNpdEhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgUHJlZGVmaW5lZEhpZXJhcmNoeTogKF8pID0+IGRlX1ByZWRlZmluZWRIaWVyYXJjaHkoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sdW1uSGllcmFyY2h5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Db2x1bW5IaWVyYXJjaHkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQ29sdW1uU29ydCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIERpcmVjdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvcnRCeTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sdW1uVG9vbHRpcEl0ZW0gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhclZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgQ29sb3JzOiBfanNvbixcbiAgICAgICAgTGluZVZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29tYm9DaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhckRhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBCYXJzQXJyYW5nZW1lbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfQ29tYm9DaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIExpbmVEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gZGVfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29tYm9DaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0NvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfQ29tYm9DaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRm9yZWNhc3Q6IChfKSA9PiBkZV9Gb3JlY2FzdENvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm93dGhSYXRlOiAoXykgPT4gZGVfR3Jvd3RoUmF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXhpbXVtTWluaW11bTogKF8pID0+IGRlX01heGltdW1NaW5pbXVtQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE1ldHJpY0NvbXBhcmlzb246IChfKSA9PiBkZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZE92ZXJQZXJpb2Q6IChfKSA9PiBkZV9QZXJpb2RPdmVyUGVyaW9kQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZFRvRGF0ZTogKF8pID0+IGRlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21Nb3ZlcnM6IChfKSA9PiBkZV9Ub3BCb3R0b21Nb3ZlcnNDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9wQm90dG9tUmFua2VkOiAoXykgPT4gZGVfVG9wQm90dG9tUmFua2VkQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvdGFsQWdncmVnYXRpb246IChfKSA9PiBkZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVuaXF1ZVZhbHVlczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29tcHV0YXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0NvbXB1dGF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHcmFkaWVudDogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIFNvbGlkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdHcmFkaWVudENvbG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvcjogKF8pID0+IGRlX0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIEV4cHJlc3Npb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbnM6IChfKSA9PiBkZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0N1c3RvbUNvbnRlbnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tUGFyYW1ldGVyVmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZVZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFZhbHVlczogKF8pID0+IGRlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyVmFsdWVzOiBfanNvbixcbiAgICAgICAgU3RyaW5nVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9DdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZXM6IChfKSA9PiBkZV9DdXN0b21QYXJhbWV0ZXJWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIEluY2x1ZGVOdWxsVmFsdWU6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhc3RQdWJsaXNoZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uOiAoXykgPT4gZGVfRGFzaGJvYXJkVmVyc2lvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0UHVibGlzaGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUHVibGlzaGVkVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Rhc2hib2FyZFN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkVmVyc2lvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTZXRBcm5zOiBfanNvbixcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBTaGVldHM6IF9qc29uLFxuICAgICAgICBTb3VyY2VFbnRpdHlBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IF9qc29uLFxuICAgICAgICBDb2x1bW5Db25maWd1cmF0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyRGVjbGFyYXRpb25zOiBfanNvbixcbiAgICAgICAgRmlsdGVyR3JvdXBzOiAoXykgPT4gZGVfRmlsdGVyR3JvdXBMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IChfKSA9PiBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0czogKF8pID0+IGRlX1NoZWV0RGVmaW5pdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkVmVyc2lvblN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZUVudGl0eUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWZXJzaW9uU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGFzaGJvYXJkVmVyc2lvblN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0YUNvbG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YVNldCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ29sdW1uR3JvdXBzOiBfanNvbixcbiAgICAgICAgQ29sdW1uTGV2ZWxQZXJtaXNzaW9uUnVsZXM6IF9qc29uLFxuICAgICAgICBDb25zdW1lZFNwaWNlQ2FwYWNpdHlJbkJ5dGVzOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU2V0VXNhZ2VDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgRGF0YXNldFBhcmFtZXRlcnM6IChfKSA9PiBkZV9EYXRhc2V0UGFyYW1ldGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRGb2xkZXJzOiBfanNvbixcbiAgICAgICAgSW1wb3J0TW9kZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTG9naWNhbFRhYmxlTWFwOiAoXykgPT4gZGVfTG9naWNhbFRhYmxlTWFwKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3V0cHV0Q29sdW1uczogX2pzb24sXG4gICAgICAgIFBoeXNpY2FsVGFibGVNYXA6IF9qc29uLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25EYXRhU2V0OiBfanNvbixcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YXNldFBhcmFtZXRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyOiAoXykgPT4gZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsRGF0YXNldFBhcmFtZXRlcjogKF8pID0+IGRlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyRGF0YXNldFBhcmFtZXRlcjogX2pzb24sXG4gICAgICAgIFN0cmluZ0RhdGFzZXRQYXJhbWV0ZXI6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RhdGFzZXRQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0YVNldFN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENvbHVtbkxldmVsUGVybWlzc2lvblJ1bGVzQXBwbGllZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW1wb3J0TW9kZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvbkRhdGFTZXQ6IF9qc29uLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uQXBwbGllZDogX19leHBlY3RCb29sZWFuLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFTZXRTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXRhU2V0U3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRhU291cmNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbHRlcm5hdGVEYXRhU291cmNlUGFyYW1ldGVyczogX2pzb24sXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXRhU291cmNlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU291cmNlUGFyYW1ldGVyczogKF8pID0+IF9qc29uKF9fZXhwZWN0VW5pb24oXykpLFxuICAgICAgICBFcnJvckluZm86IF9qc29uLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTZWNyZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTc2xQcm9wZXJ0aWVzOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZwY0Nvbm5lY3Rpb25Qcm9wZXJ0aWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhU291cmNlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXRhU291cmNlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGFTb3VyY2VTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YVNvdXJjZVN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RhdGFTb3VyY2VTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKGVudHJ5KSkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVEZWZhdWx0VmFsdWVMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoZW50cnkpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRlVGltZURlZmF1bHRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIER5bmFtaWNWYWx1ZTogX2pzb24sXG4gICAgICAgIFJvbGxpbmdEYXRlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGF0ZVRpbWVEZWZhdWx0VmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lSGllcmFyY2h5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEcmlsbERvd25GaWx0ZXJzOiAoXykgPT4gZGVfRHJpbGxEb3duRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGllcmFyY2h5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9EYXRlVGltZURlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIE1hcHBlZERhdGFTZXRQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiAoXykgPT4gZGVfRGF0ZVRpbWVWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBWYWx1ZVdoZW5VbnNldE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2xpbWl0ZWRQYXJzZURvdWJsZShlbnRyeSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGVmYXVsdFZhbHVlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2xpbWl0ZWRQYXJzZURvdWJsZShlbnRyeSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGVmYXVsdFZhbHVlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZWZhdWx0VmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIE1hcHBlZERhdGFTZXRQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlclZhbHVlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiAoXykgPT4gZGVfRGVjaW1hbFZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFZhbHVlV2hlblVuc2V0T3B0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbjogKF8pID0+IGRlX0N1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdEFsbFZhbHVlT3B0aW9uczogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZUNvbHVtbjogX2pzb24sXG4gICAgICAgIFNvdXJjZUZpZWxkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRHJpbGxEb3duRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUZpbHRlcjogX2pzb24sXG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogKF8pID0+IGRlX051bWVyaWNFcXVhbGl0eURyaWxsRG93bkZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZVJhbmdlRmlsdGVyOiAoXykgPT4gZGVfVGltZVJhbmdlRHJpbGxEb3duRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RyaWxsRG93bkZpbHRlckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRHJpbGxEb3duRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0VtcHR5VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXI6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRXhwbGljaXRIaWVyYXJjaHkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBEcmlsbERvd25GaWx0ZXJzOiAoXykgPT4gZGVfRHJpbGxEb3duRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGllcmFyY2h5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpZWxkQmFzZWRUb29sdGlwID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvblZpc2liaWxpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb29sdGlwRmllbGRzOiAoXykgPT4gZGVfVG9vbHRpcEl0ZW1MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwVGl0bGVUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWVsZFNvcnRPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW5Tb3J0OiAoXykgPT4gZGVfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRTb3J0OiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9GaWVsZFNvcnRPcHRpb25zKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHZW9zcGF0aWFsOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfRmlsbGVkTWFwTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbnM6IChfKSA9PiBkZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgU2hhcGU6IChfKSA9PiBkZV9GaWxsZWRNYXBTaGFwZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfRmlsbGVkTWFwRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgTWFwU3R5bGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9GaWxsZWRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBXaW5kb3dPcHRpb25zOiAoXykgPT4gZGVfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmlsbGVkTWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9GaWxsZWRNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBNZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBTaGFwZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvcm1hdDogKF8pID0+IGRlX1NoYXBlQ29uZGl0aW9uYWxGb3JtYXQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0ZpbGxlZE1hcENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gZGVfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlGaWx0ZXI6IF9qc29uLFxuICAgICAgICBOdW1lcmljRXF1YWxpdHlGaWx0ZXI6IChfKSA9PiBkZV9OdW1lcmljRXF1YWxpdHlGaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIE51bWVyaWNSYW5nZUZpbHRlcjogKF8pID0+IGRlX051bWVyaWNSYW5nZUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgUmVsYXRpdmVEYXRlc0ZpbHRlcjogX2pzb24sXG4gICAgICAgIFRpbWVFcXVhbGl0eUZpbHRlcjogKF8pID0+IGRlX1RpbWVFcXVhbGl0eUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZVJhbmdlRmlsdGVyOiAoXykgPT4gZGVfVGltZVJhbmdlRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21GaWx0ZXI6IChfKSA9PiBkZV9Ub3BCb3R0b21GaWx0ZXIoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsdGVyQ29udHJvbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQaWNrZXI6IF9qc29uLFxuICAgICAgICBEcm9wZG93bjogX2pzb24sXG4gICAgICAgIExpc3Q6IF9qc29uLFxuICAgICAgICBSZWxhdGl2ZURhdGVUaW1lOiBfanNvbixcbiAgICAgICAgU2xpZGVyOiAoXykgPT4gZGVfRmlsdGVyU2xpZGVyQ29udHJvbChfLCBjb250ZXh0KSxcbiAgICAgICAgVGV4dEFyZWE6IF9qc29uLFxuICAgICAgICBUZXh0RmllbGQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbHRlckNvbnRyb2xMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpbHRlckNvbnRyb2woZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRmlsdGVyR3JvdXAgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENyb3NzRGF0YXNldDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZpbHRlckdyb3VwSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gZGVfRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2NvcGVDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWx0ZXJHcm91cExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRmlsdGVyR3JvdXAoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRmlsdGVyTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRmlsdGVyU2xpZGVyQ29udHJvbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGlzcGxheU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJDb250cm9sSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNYXhpbXVtVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBNaW5pbXVtVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBTb3VyY2VGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0ZXBTaXplOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVGl0bGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gb2xkZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlclBhdGg6IF9qc29uLFxuICAgICAgICBGb2xkZXJUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gb2xkZXJTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb2xkZXJUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gb2xkZXJTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Gb2xkZXJTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ZvcmVjYXN0Q29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDdXN0b21TZWFzb25hbGl0eVZhbHVlOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBMb3dlckJvdW5kYXJ5OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcmlvZHNCYWNrd2FyZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgUGVyaW9kc0ZvcndhcmQ6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFByZWRpY3Rpb25JbnRlcnZhbDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU2Vhc29uYWxpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVXBwZXJCb3VuZGFyeTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRm9yZWNhc3RQcm9wZXJ0aWVzOiAoXykgPT4gZGVfVGltZUJhc2VkRm9yZWNhc3RQcm9wZXJ0aWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2VuYXJpbzogKF8pID0+IGRlX0ZvcmVjYXN0U2NlbmFyaW8oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRm9yZWNhc3RDb25maWd1cmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRm9yZWNhc3RTY2VuYXJpbyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgV2hhdElmUG9pbnRTY2VuYXJpbzogKF8pID0+IGRlX1doYXRJZlBvaW50U2NlbmFyaW8oXywgY29udGV4dCksXG4gICAgICAgIFdoYXRJZlJhbmdlU2NlbmFyaW86IChfKSA9PiBkZV9XaGF0SWZSYW5nZVNjZW5hcmlvKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Z1bm5lbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Z1bm5lbENoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0Z1bm5lbENoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9GdW5uZWxDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGdW5uZWxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GdW5uZWxDaGFydE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0Z1bm5lbENoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Z1bm5lbENoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydEFyY0NvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRm9yZWdyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFyYzogKF8pID0+IGRlX0dhdWdlQ2hhcnRBcmNDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlWYWx1ZTogKF8pID0+IGRlX0dhdWdlQ2hhcnRQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9HYXVnZUNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgR2F1Z2VDaGFydE9wdGlvbnM6IChfKSA9PiBkZV9HYXVnZUNoYXJ0T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcE9wdGlvbnM6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRhcmdldFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFyYzogKF8pID0+IGRlX0FyY0NvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIEFyY0F4aXM6IChfKSA9PiBkZV9BcmNBeGlzQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29tcGFyaXNvbjogX2pzb24sXG4gICAgICAgIFByaW1hcnlWYWx1ZURpc3BsYXlUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUHJpbWFyeVZhbHVlRm9udENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dhdWdlQ2hhcnRQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfR2F1Z2VDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IGRlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2Vvc3BhdGlhbENvb3JkaW5hdGVCb3VuZHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEVhc3Q6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBOb3J0aDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFNvdXRoOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgV2VzdDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2Vvc3BhdGlhbE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBHZW9zcGF0aWFsOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZW9zcGF0aWFsTWFwQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0dlb3NwYXRpYWxNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBNYXBTdHlsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBQb2ludFN0eWxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFdpbmRvd09wdGlvbnM6IChfKSA9PiBkZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZW9zcGF0aWFsTWFwRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgR2Vvc3BhdGlhbE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfR2Vvc3BhdGlhbE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dlb3NwYXRpYWxNYXBWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9HZW9zcGF0aWFsTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dlb3NwYXRpYWxXaW5kb3dPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCb3VuZHM6IChfKSA9PiBkZV9HZW9zcGF0aWFsQ29vcmRpbmF0ZUJvdW5kcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwWm9vbU1vZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dyYWRpZW50Q29sb3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFN0b3BzOiAoXykgPT4gZGVfR3JhZGllbnRTdG9wTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HcmFkaWVudFN0b3AgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgR3JhZGllbnRPZmZzZXQ6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dyYWRpZW50U3RvcExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfR3JhZGllbnRTdG9wKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0dyb3d0aFJhdGVDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJpb2RTaXplOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgUm93czogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX0hlYXRNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0hlYXRNYXBDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvclNjYWxlOiAoXykgPT4gZGVfQ29sb3JTY2FsZShfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IZWF0TWFwRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgUm93TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9IZWF0TWFwU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IZWF0TWFwRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0hlYXRNYXBNZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9IZWF0TWFwU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEhlYXRNYXBDb2x1bW5JdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIEhlYXRNYXBDb2x1bW5Tb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIEhlYXRNYXBSb3dJdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIEhlYXRNYXBSb3dTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGVhdE1hcFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0hlYXRNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX0hpc3RvZ3JhbU1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtQmluT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmluQ291bnQ6IF9qc29uLFxuICAgICAgICBCaW5XaWR0aDogKF8pID0+IGRlX0JpbldpZHRoT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0ZWRCaW5UeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmluT3B0aW9uczogKF8pID0+IGRlX0hpc3RvZ3JhbUJpbk9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfSGlzdG9ncmFtRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgWEF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0hpc3RvZ3JhbUZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEhpc3RvZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtTWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfSGlzdG9ncmFtQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Jbmdlc3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFcnJvckluZm86IF9qc29uLFxuICAgICAgICBJbmdlc3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvblNpemVJbkJ5dGVzOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIEluZ2VzdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvblRpbWVJblNlY29uZHM6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgUXVldWVJbmZvOiBfanNvbixcbiAgICAgICAgUmVxdWVzdFNvdXJjZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUm93SW5mbzogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5nZXN0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Jbmdlc3Rpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfSW5zaWdodENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uczogKF8pID0+IGRlX0NvbXB1dGF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ3VzdG9tTmFycmF0aXZlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbnNpZ2h0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXI6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbnNpZ2h0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0luc2lnaHRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBQcmltYXJ5VmFsdWU6IChfKSA9PiBkZV9LUElQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFByb2dyZXNzQmFyOiAoXykgPT4gZGVfS1BJUHJvZ3Jlc3NCYXJDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfS1BJQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0tQSUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEtQSU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0tQSVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0tQSUZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRhcmdldFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFRyZW5kR3JvdXBzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRm9yZWdyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRyZW5kR3JvdXBTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfS1BJQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGF5b3V0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfTGF5b3V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MYXlvdXRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGcmVlRm9ybUxheW91dDogX2pzb24sXG4gICAgICAgIEdyaWRMYXlvdXQ6IF9qc29uLFxuICAgICAgICBTZWN0aW9uQmFzZWRMYXlvdXQ6IChfKSA9PiBkZV9TZWN0aW9uQmFzZWRMYXlvdXRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xheW91dExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTGF5b3V0KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0xpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaW5lQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIERlZmF1bHRTZXJpZXNTZXR0aW5nczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9MaW5lQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBGb3JlY2FzdENvbmZpZ3VyYXRpb25zOiAoXykgPT4gZGVfRm9yZWNhc3RDb25maWd1cmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9MaW5lU2VyaWVzQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IGRlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTZWNvbmRhcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfTGluZVNlcmllc0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTZXJpZXM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0xpbmVDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgWEF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpbmVDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIExpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGluZUNoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfTGluZUNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpbmVTZXJpZXNBeGlzRGlzcGxheU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEF4aXNPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBNaXNzaW5nRGF0YUNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Mb2dpY2FsVGFibGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFsaWFzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVRyYW5zZm9ybXM6IChfKSA9PiBkZV9UcmFuc2Zvcm1PcGVyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTb3VyY2U6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xvZ2ljYWxUYWJsZU1hcCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMob3V0cHV0KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2Nba2V5XSA9IGRlX0xvZ2ljYWxUYWJsZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX01heGltdW1NaW5pbXVtQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZWFzdXJlRmllbGQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhbGN1bGF0ZWRNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yaWNhbE1lYXN1cmVGaWVsZDogX2pzb24sXG4gICAgICAgIERhdGVNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBOdW1lcmljYWxNZWFzdXJlRmllbGQ6IChfKSA9PiBkZV9OdW1lcmljYWxNZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfTWV0cmljQ29tcGFyaXNvbkNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRnJvbVZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGFyZ2V0VmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX05ld0RlZmF1bHRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGVUaW1lU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJTdGF0aWNWYWx1ZXM6IF9qc29uLFxuICAgICAgICBTdHJpbmdTdGF0aWNWYWx1ZXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBlcmNlbnRpbGVBZ2dyZWdhdGlvbjogKF8pID0+IGRlX1BlcmNlbnRpbGVBZ2dyZWdhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU2ltcGxlTnVtZXJpY2FsQWdncmVnYXRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNhbE1lYXN1cmVGaWVsZCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpZWxkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9OdW1lcmljQXhpc09wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2NhbGU6IChfKSA9PiBkZV9BeGlzU2NhbGUoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY0VxdWFsaXR5RHJpbGxEb3duRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY0VxdWFsaXR5RmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNYXRjaE9wZXJhdG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTnVsbE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTZWxlY3RBbGxPcHRpb25zOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNSYW5nZUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5jbHVkZU1heGltdW06IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSW5jbHVkZU1pbmltdW06IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTnVsbE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IGRlX051bWVyaWNSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBSYW5nZU1pbmltdW06IChfKSA9PiBkZV9OdW1lcmljUmFuZ2VGaWx0ZXJWYWx1ZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsT3B0aW9uczogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY1JhbmdlRmlsdGVyVmFsdWUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhcmFtZXRlcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXRpY1ZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIE5ld0RlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9OZXdEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBOZXdQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGFyYW1ldGVyQ29udHJvbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQaWNrZXI6IF9qc29uLFxuICAgICAgICBEcm9wZG93bjogX2pzb24sXG4gICAgICAgIExpc3Q6IF9qc29uLFxuICAgICAgICBTbGlkZXI6IChfKSA9PiBkZV9QYXJhbWV0ZXJTbGlkZXJDb250cm9sKF8sIGNvbnRleHQpLFxuICAgICAgICBUZXh0QXJlYTogX2pzb24sXG4gICAgICAgIFRleHRGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGFyYW1ldGVyQ29udHJvbExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUGFyYW1ldGVyQ29udHJvbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbjogKF8pID0+IGRlX0RhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbjogKF8pID0+IGRlX0RlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9QYXJhbWV0ZXJTbGlkZXJDb250cm9sID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEaXNwbGF5T3B0aW9uczogX2pzb24sXG4gICAgICAgIE1heGltdW1WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE1pbmltdW1WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFBhcmFtZXRlckNvbnRyb2xJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZVBhcmFtZXRlck5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGVwU2l6ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFRpdGxlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QZXJjZW50aWxlQWdncmVnYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBlcmNlbnRpbGVWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGVyY2VudFZpc2libGVSYW5nZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRnJvbTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFRvOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QZXJpb2RPdmVyUGVyaW9kQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcmlvZFRpbWVHcmFudWxhcml0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaWVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaWVDaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29udHJpYnV0aW9uQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBEb251dE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfUGllQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1BpZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaWVDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBpZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaWVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTbWFsbE11bHRpcGxlc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGllQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RGaWVsZFNvcnRPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU29ydEJ5OiAoXykgPT4gZGVfUGl2b3RUYWJsZVNvcnRCeShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdEZpZWxkU29ydE9wdGlvbnNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1Bpdm90RmllbGRTb3J0T3B0aW9ucyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9QaXZvdE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIFJvd3M6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9QaXZvdE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY29wZTogX2pzb24sXG4gICAgICAgIFNjb3BlczogX2pzb24sXG4gICAgICAgIFRleHRGb3JtYXQ6IChfKSA9PiBkZV9UZXh0Q29uZGl0aW9uYWxGb3JtYXQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENlbGw6IChfKSA9PiBkZV9QaXZvdFRhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfUGl2b3RUYWJsZUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFBhZ2luYXRlZFJlcG9ydE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1Bpdm90VGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG90YWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVTb3J0QnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbjogKF8pID0+IGRlX0NvbHVtblNvcnQoXywgY29udGV4dCksXG4gICAgICAgIERhdGFQYXRoOiBfanNvbixcbiAgICAgICAgRmllbGQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRTb3J0T3B0aW9uczogKF8pID0+IGRlX1Bpdm90RmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZVZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1Bpdm90VGFibGVDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1ByZWRlZmluZWRIaWVyYXJjaHkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBEcmlsbERvd25GaWx0ZXJzOiAoXykgPT4gZGVfRHJpbGxEb3duRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGllcmFyY2h5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JhZGFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcjogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX1JhZGFyQ2hhcnRWYWx1ZXNGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFsdGVybmF0ZUJhbmRDb2xvcnNWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQWx0ZXJuYXRlQmFuZEV2ZW5Db2xvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFsdGVybmF0ZUJhbmRPZGRDb2xvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF4ZXNSYW5nZVNjYWxlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQmFzZVNlcmllc1NldHRpbmdzOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlBeGlzOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yQXhpczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfUmFkYXJDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNoYXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9SYWRhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN0YXJ0QW5nbGU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SYWRhckNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JhZGFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbG9ySXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENvbG9yU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JhZGFyQ2hhcnRWYWx1ZXNGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1JhZGFyQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9SYWRhckNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlZmVyZW5jZUxpbmUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGFDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUmVmZXJlbmNlTGluZURhdGFDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBMYWJlbENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdHlsZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlZmVyZW5jZUxpbmVEYXRhQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXhpc0JpbmRpbmc6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEeW5hbWljQ29uZmlndXJhdGlvbjogKF8pID0+IGRlX1JlZmVyZW5jZUxpbmVEeW5hbWljRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN0YXRpY0NvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZUR5bmFtaWNEYXRhQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2FsY3VsYXRpb246IChfKSA9PiBkZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBNZWFzdXJlQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVmZXJlbmNlTGluZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9SZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZWZyZXNoU2NoZWR1bGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlZnJlc2hUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVGcmVxdWVuY3k6IF9qc29uLFxuICAgICAgICBTY2hlZHVsZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRBZnRlckRhdGVUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlZnJlc2hTY2hlZHVsZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVmcmVzaFNjaGVkdWxlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1Jvd1NvcnRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZXN0aW5hdGlvbjogX2pzb24sXG4gICAgICAgIFNvdXJjZTogX2pzb24sXG4gICAgICAgIFdlaWdodDogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbUNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9TYW5rZXlEaWFncmFtRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9TYW5rZXlEaWFncmFtU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbUZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFNhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1NhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TYW5rZXlEaWFncmFtU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIFNvdXJjZUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBXZWlnaHRTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbVZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1NhbmtleURpYWdyYW1DaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RDYXRlZ29yaWNhbGx5QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBZQXhpczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1NjYXR0ZXJQbG90RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgWEF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTY2F0dGVyUGxvdENhdGVnb3JpY2FsbHlBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1NjYXR0ZXJQbG90Q2F0ZWdvcmljYWxseUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9TY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIExhYmVsOiBfanNvbixcbiAgICAgICAgU2l6ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzOiBfanNvbixcbiAgICAgICAgWUF4aXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1NjYXR0ZXJQbG90VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfU2NhdHRlclBsb3RDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Nyb2xsQmFyT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZpc2libGVSYW5nZTogKF8pID0+IGRlX1Zpc2libGVSYW5nZU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2VjdGlvbkJhc2VkTGF5b3V0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQm9keVNlY3Rpb25zOiBfanNvbixcbiAgICAgICAgQ2FudmFzU2l6ZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGb290ZXJTZWN0aW9uczogX2pzb24sXG4gICAgICAgIEhlYWRlclNlY3Rpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfRGVzdGluYXRpb25QYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfU2hhcGVDb25kaXRpb25hbEZvcm1hdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFja2dyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2hlZXREZWZpbml0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb250ZW50VHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRmlsdGVyQ29udHJvbHM6IChfKSA9PiBkZV9GaWx0ZXJDb250cm9sTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTGF5b3V0czogKF8pID0+IGRlX0xheW91dExpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQYXJhbWV0ZXJDb250cm9sczogKF8pID0+IGRlX1BhcmFtZXRlckNvbnRyb2xMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldENvbnRyb2xMYXlvdXRzOiBfanNvbixcbiAgICAgICAgU2hlZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRleHRCb3hlczogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmlzdWFsczogKF8pID0+IGRlX1Zpc3VhbExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2hlZXREZWZpbml0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9TaGVldERlZmluaXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGV4dEZvcm1hdDogKF8pID0+IGRlX1RleHRDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2VsbDogKF8pID0+IGRlX1RhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUm93OiAoXykgPT4gZGVfVGFibGVSb3dDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RhYmxlQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1RhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfVGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVJbmxpbmVWaXN1YWxpemF0aW9uczogX2pzb24sXG4gICAgICAgIFRhYmxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvdGFsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZVJvd0NvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFja2dyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhZ2luYXRpb25Db25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgUm93U29ydDogKF8pID0+IGRlX1Jvd1NvcnRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfVGFibGVDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uOiAoXykgPT4gZGVfVGVtcGxhdGVWZXJzaW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGF0ZXN0VmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UZW1wbGF0ZVN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVWZXJzaW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNldENvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBTaGVldHM6IF9qc29uLFxuICAgICAgICBTb3VyY2VFbnRpdHlBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZVZlcnNpb25EZWZpbml0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogX2pzb24sXG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YVNldENvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRmlsdGVyR3JvdXBzOiAoXykgPT4gZGVfRmlsdGVyR3JvdXBMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IChfKSA9PiBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0czogKF8pID0+IGRlX1NoZWV0RGVmaW5pdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVWZXJzaW9uU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlVmVyc2lvblN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RlbXBsYXRlVmVyc2lvblN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGV4dENvbmRpdGlvbmFsRm9ybWF0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RoZW1lID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uOiAoXykgPT4gZGVfVGhlbWVWZXJzaW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RoZW1lU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGF0ZXN0VmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGhlbWVTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UaGVtZVN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGhlbWVWZXJzaW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBCYXNlVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGhlbWVWZXJzaW9uU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RoZW1lVmVyc2lvblN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RoZW1lVmVyc2lvblN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGltZUJhc2VkRm9yZWNhc3RQcm9wZXJ0aWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBMb3dlckJvdW5kYXJ5OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgUGVyaW9kc0JhY2t3YXJkOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBQZXJpb2RzRm9yd2FyZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgUHJlZGljdGlvbkludGVydmFsOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTZWFzb25hbGl0eTogX19leHBlY3RJbnQzMixcbiAgICAgICAgVXBwZXJCb3VuZGFyeTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGltZUVxdWFsaXR5RmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaW1lUmFuZ2VEcmlsbERvd25GaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgUmFuZ2VNaW5pbXVtOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RpbWVSYW5nZUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRXhjbHVkZVBlcmlvZENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluY2x1ZGVNYXhpbXVtOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIEluY2x1ZGVNaW5pbXVtOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE51bGxPcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSYW5nZU1heGltdW1WYWx1ZTogKF8pID0+IGRlX1RpbWVSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBSYW5nZU1pbmltdW1WYWx1ZTogKF8pID0+IGRlX1RpbWVSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RpbWVSYW5nZUZpbHRlclZhbHVlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBQYXJhbWV0ZXI6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFN0YXRpY1ZhbHVlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Rvb2x0aXBJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW5Ub29sdGlwSXRlbTogKF8pID0+IGRlX0NvbHVtblRvb2x0aXBJdGVtKF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZFRvb2x0aXBJdGVtOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub29sdGlwSXRlbUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVG9vbHRpcEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVG9vbHRpcE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkQmFzZWRUb29sdGlwOiAoXykgPT4gZGVfRmllbGRCYXNlZFRvb2x0aXAoXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdGVkVG9vbHRpcFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb29sdGlwVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG9wQm90dG9tRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uczogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExpbWl0OiBfX2V4cGVjdEludDMyLFxuICAgICAgICBQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BCb3R0b21Nb3ZlcnNDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTW92ZXJTaXplOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU29ydE9yZGVyOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BCb3R0b21SYW5rZWRDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc3VsdFNpemU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFzZWRPblNwaWNlU2NoZWR1bGU6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSXNFbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJlcGVhdEF0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRpbmdBdDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVGltZXpvbmU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY1NjaGVkdWxlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG9waWNSZWZyZXNoU2NoZWR1bGVTdW1tYXJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGVTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RvcGljUmVmcmVzaFNjaGVkdWxlU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YXNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFzZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFzZXROYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlOiAoXykgPT4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG90YWxBZ2dyZWdhdGlvbkNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyYW5zZm9ybU9wZXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIENhc3RDb2x1bW5UeXBlT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuQ2FzdENvbHVtblR5cGVPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQ3JlYXRlQ29sdW1uc09wZXJhdGlvbjogX2pzb24ob3V0cHV0LkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkZpbHRlck9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBGaWx0ZXJPcGVyYXRpb246IF9qc29uKG91dHB1dC5GaWx0ZXJPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBPdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb246IGRlX092ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbihvdXRwdXQuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uLCBjb250ZXh0KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Qcm9qZWN0T3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFByb2plY3RPcGVyYXRpb246IF9qc29uKG91dHB1dC5Qcm9qZWN0T3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5SZW5hbWVDb2x1bW5PcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuUmVuYW1lQ29sdW1uT3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5UYWdDb2x1bW5PcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuVGFnQ29sdW1uT3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5VbnRhZ0NvbHVtbk9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVbnRhZ0NvbHVtbk9wZXJhdGlvbjogX2pzb24ob3V0cHV0LlVudGFnQ29sdW1uT3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgJHVua25vd246IE9iamVjdC5lbnRyaWVzKG91dHB1dClbMF0gfTtcbn07XG5jb25zdCBkZV9UcmFuc2Zvcm1PcGVyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RyYW5zZm9ybU9wZXJhdGlvbihfX2V4cGVjdFVuaW9uKGVudHJ5KSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UcmVlTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yczogKF8pID0+IGRlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cHM6IF9qc29uLFxuICAgICAgICBTaXplczogKF8pID0+IGRlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBkZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1RyZWVNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cExhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNpemVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBUcmVlTWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9UcmVlTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVHJlZU1hcE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVHJlZU1hcEdyb3VwSXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBUcmVlTWFwU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9UcmVlTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Zpc2libGVSYW5nZU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBlcmNlbnRSYW5nZTogKF8pID0+IGRlX1BlcmNlbnRWaXNpYmxlUmFuZ2UoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXJDaGFydFZpc3VhbDogKF8pID0+IGRlX0JhckNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBCb3hQbG90VmlzdWFsOiAoXykgPT4gZGVfQm94UGxvdFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29tYm9DaGFydFZpc3VhbDogKF8pID0+IGRlX0NvbWJvQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEN1c3RvbUNvbnRlbnRWaXN1YWw6IChfKSA9PiBkZV9DdXN0b21Db250ZW50VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBFbXB0eVZpc3VhbDogKF8pID0+IGRlX0VtcHR5VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBGaWxsZWRNYXBWaXN1YWw6IChfKSA9PiBkZV9GaWxsZWRNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEZ1bm5lbENoYXJ0VmlzdWFsOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEdhdWdlQ2hhcnRWaXN1YWw6IChfKSA9PiBkZV9HYXVnZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBHZW9zcGF0aWFsTWFwVmlzdWFsOiAoXykgPT4gZGVfR2Vvc3BhdGlhbE1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFZpc3VhbDogKF8pID0+IGRlX0hlYXRNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEhpc3RvZ3JhbVZpc3VhbDogKF8pID0+IGRlX0hpc3RvZ3JhbVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSW5zaWdodFZpc3VhbDogKF8pID0+IGRlX0luc2lnaHRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEtQSVZpc3VhbDogKF8pID0+IGRlX0tQSVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgTGluZUNoYXJ0VmlzdWFsOiAoXykgPT4gZGVfTGluZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBQaWVDaGFydFZpc3VhbDogKF8pID0+IGRlX1BpZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBQaXZvdFRhYmxlVmlzdWFsOiAoXykgPT4gZGVfUGl2b3RUYWJsZVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUmFkYXJDaGFydFZpc3VhbDogKF8pID0+IGRlX1JhZGFyQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFNhbmtleURpYWdyYW1WaXN1YWw6IChfKSA9PiBkZV9TYW5rZXlEaWFncmFtVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2F0dGVyUGxvdFZpc3VhbDogKF8pID0+IGRlX1NjYXR0ZXJQbG90VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZVZpc3VhbDogKF8pID0+IGRlX1RhYmxlVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBUcmVlTWFwVmlzdWFsOiAoXykgPT4gZGVfVHJlZU1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgV2F0ZXJmYWxsVmlzdWFsOiAoXykgPT4gZGVfV2F0ZXJmYWxsVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBXb3JkQ2xvdWRWaXN1YWw6IChfKSA9PiBkZV9Xb3JkQ2xvdWRWaXN1YWwoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25PcGVyYXRpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ3VzdG9tQWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVHJpZ2dlcjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WaXN1YWxDdXN0b21BY3Rpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWx0ZXJPcGVyYXRpb246IF9qc29uLFxuICAgICAgICBOYXZpZ2F0aW9uT3BlcmF0aW9uOiBfanNvbixcbiAgICAgICAgU2V0UGFyYW1ldGVyc09wZXJhdGlvbjogKF8pID0+IGRlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVSTE9wZXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVmlzdWFsTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WaXN1YWwoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVlBDQ29ubmVjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXZhaWxhYmlsaXR5U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERuc1Jlc29sdmVyczogX2pzb24sXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5ldHdvcmtJbnRlcmZhY2VzOiBfanNvbixcbiAgICAgICAgUm9sZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNlY3VyaXR5R3JvdXBJZHM6IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVlBDQ29ubmVjdGlvblN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF2YWlsYWJpbGl0eVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEbnNSZXNvbHZlcnM6IF9qc29uLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOZXR3b3JrSW50ZXJmYWNlczogX2pzb24sXG4gICAgICAgIFJvbGVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTZWN1cml0eUdyb3VwSWRzOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDQ29ubmVjdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1ZQQ0Nvbm5lY3Rpb25TdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WUENDb25uZWN0aW9uU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9XYXRlcmZhbGxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCcmVha2Rvd25zOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcmllczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2F0ZXJmYWxsQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9XYXRlcmZhbGxDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBXYXRlcmZhbGxDaGFydE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dhdGVyZmFsbENoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgV2F0ZXJmYWxsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2F0ZXJmYWxsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQnJlYWtkb3duSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dhdGVyZmFsbFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1doYXRJZlBvaW50U2NlbmFyaW8gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9XaGF0SWZSYW5nZVNjZW5hcmlvID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBFbmREYXRlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBTdGFydERhdGU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFNpemU6IChfKSA9PiBkZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dvcmRDbG91ZENoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfV29yZENsb3VkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Xb3JkQ2xvdWRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgV29yZENsb3VkT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV29yZENsb3VkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgV29yZENsb3VkQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV29yZENsb3VkVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfV29yZENsb3VkQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCBpc1NlcmlhbGl6YWJsZUhlYWRlclZhbHVlID0gKHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICB2YWx1ZSAhPT0gXCJcIiAmJlxuICAgICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmluY2x1ZGVzKFwibGVuZ3RoXCIpIHx8IHZhbHVlLmxlbmd0aCAhPSAwKSAmJlxuICAgICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmluY2x1ZGVzKFwic2l6ZVwiKSB8fCB2YWx1ZS5zaXplICE9IDApO1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZW5jb2RlZCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICB2YWx1ZS5tZXNzYWdlID0gdmFsdWUubWVzc2FnZSA/PyB2YWx1ZS5NZXNzYWdlO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBsb2FkUmVzdEpzb25FcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgZmluZEtleSA9IChvYmplY3QsIGtleSkgPT4gT2JqZWN0LmtleXMob2JqZWN0KS5maW5kKChrKSA9PiBrLnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICBjb25zdCBzYW5pdGl6ZUVycm9yQ29kZSA9IChyYXdWYWx1ZSkgPT4ge1xuICAgICAgICBsZXQgY2xlYW5WYWx1ZSA9IHJhd1ZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFuVmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCI6XCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiI1wiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIiNcIilbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsZWFuVmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJLZXkgPSBmaW5kS2V5KG91dHB1dC5oZWFkZXJzLCBcIngtYW16bi1lcnJvcnR5cGVcIik7XG4gICAgaWYgKGhlYWRlcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShvdXRwdXQuaGVhZGVyc1toZWFkZXJLZXldKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhLmNvZGUpO1xuICAgIH1cbiAgICBpZiAoZGF0YVtcIl9fdHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhW1wiX190eXBlXCJdKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBkZV9MaXN0VXNlcnNDb21tYW5kLCBzZV9MaXN0VXNlcnNDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xXCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIExpc3RVc2Vyc0NvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgTGlzdFVzZXJzQ29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY2xpZW50U3RhY2suY29uY2F0KHRoaXMubWlkZGxld2FyZVN0YWNrKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBcIlF1aWNrU2lnaHRDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkxpc3RVc2Vyc0NvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9MaXN0VXNlcnNDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VXNlcnNDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBkZV9EZWxldGVVc2VyQ29tbWFuZCwgc2VfRGVsZXRlVXNlckNvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19yZXN0SnNvbjFcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgRGVsZXRlVXNlckNvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgRGVsZXRlVXNlckNvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJRdWlja1NpZ2h0Q2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJEZWxldGVVc2VyQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX0RlbGV0ZVVzZXJDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVVc2VyQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERlbGV0ZVVzZXJDb21tYW5kLCBMaXN0VXNlcnNDb21tYW5kLCBRdWlja1NpZ2h0Q2xpZW50IH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQnXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlciB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXG5cbmV4cG9ydCBjbGFzcyBRdWlja1NpZ2h0VXNlck1hbmFnZXIge1xuXHRwcml2YXRlIGF3c0FjY291bnRJZCA9IHByb2Nlc3MuZW52LmF3c0FjY291bnRJZFxuXHRwcml2YXRlIHN0YXRpYyBuYW1lc3BhY2UgPSAnZGVmYXVsdCdcblx0cHJpdmF0ZSBxdWlja1NpZ2h0Q2xpZW50ID0gbmV3IFF1aWNrU2lnaHRDbGllbnQoe30pXG4gIFxuXHRwdWJsaWMgYXN5bmMgcmV0cmlldmVVc2VycygpOiBQcm9taXNlPFF1aWNrU2lnaHRVc2VyW10+IHtcblx0XHRjb25zdCBxdWlja1NpZ2h0VXNlcnM6IFF1aWNrU2lnaHRVc2VyW10gPSBbXVxuXG5cdFx0bGV0IG5leHRUb2tlbiA9ICcnIC8vIG9yaWdpbmFsbHkgSSB0cmllZCBudWxsLCBidXQgaXQgY2F1c2VzIEFQSSBzaWduYXR1cmUgaXNzdWVzLlxuXHRcdGRvIHtcblx0XHRcdGNvbnN0IGxpc3RVc2Vyc0NvbW1hbmQgPSBuZXcgTGlzdFVzZXJzQ29tbWFuZCh7IEF3c0FjY291bnRJZDogdGhpcy5hd3NBY2NvdW50SWQsIE5hbWVzcGFjZTogUXVpY2tTaWdodFVzZXJNYW5hZ2VyLm5hbWVzcGFjZSwgTmV4dFRva2VuOiBuZXh0VG9rZW4gfSlcblx0XHRcdGNvbnN0IHF1aWNrU2lnaHRVc2VyTGlzdFJlc3BvbnNlID0gYXdhaXQgdGhpcy5xdWlja1NpZ2h0Q2xpZW50LnNlbmQobGlzdFVzZXJzQ29tbWFuZClcblxuXHRcdFx0bmV4dFRva2VuID0gcXVpY2tTaWdodFVzZXJMaXN0UmVzcG9uc2UuTmV4dFRva2VuXG5cblx0XHRcdHF1aWNrU2lnaHRVc2VyTGlzdFJlc3BvbnNlLlVzZXJMaXN0LmZvckVhY2goKHVzZXIpID0+IHF1aWNrU2lnaHRVc2Vycy5wdXNoKG5ldyBRdWlja1NpZ2h0VXNlcih1c2VyKSkpXG5cdFx0fSB3aGlsZSAobmV4dFRva2VuKVxuXG5cdFx0cmV0dXJuIHF1aWNrU2lnaHRVc2Vyc1xuXHR9XG5cblx0cHVibGljIGFzeW5jIGRlbGV0ZVVzZXIodXNlcjogUXVpY2tTaWdodFVzZXIpIHtcblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRjb25zb2xlLmRlYnVnKGBEZWxldGluZyAke0pTT04uc3RyaW5naWZ5KHVzZXIsIG51bGwsIDEpfWApXG5cdFx0XG5cdFx0Y29uc3QgZGVsZXRlVXNlckNvbW1hbmQgPSBuZXcgRGVsZXRlVXNlckNvbW1hbmQoe1xuXHRcdFx0QXdzQWNjb3VudElkOiB0aGlzLmF3c0FjY291bnRJZCxcblx0XHRcdE5hbWVzcGFjZTogUXVpY2tTaWdodFVzZXJNYW5hZ2VyLm5hbWVzcGFjZSxcblx0XHRcdFVzZXJOYW1lOiB1c2VyLnVzZXJuYW1lLFxuXHRcdH0pXG5cblx0XHRhd2FpdCB0aGlzLnF1aWNrU2lnaHRDbGllbnQuc2VuZChkZWxldGVVc2VyQ29tbWFuZClcblx0fVxufSIsImltcG9ydCB7IENsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyIH0gZnJvbSAnLi9DbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlcidcbmltcG9ydCB7IENsb3VkV2F0Y2hNZXRyaWNDbGllbnQgfSBmcm9tICcuL0Nsb3VkV2F0Y2hNZXRyaWNDbGllbnQnXG5pbXBvcnQgeyBOb3RpZmljYXRpb25NYW5hZ2VyIH0gZnJvbSAnLi9Ob3RpZmljYXRpb25NYW5hZ2VyJ1xuaW1wb3J0IHsgUXVpY2tTaWdodFJvbGUgfSBmcm9tICcuL1F1aWNrU2lnaHRVc2VyJ1xuaW1wb3J0IHsgUXVpY2tTaWdodFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9RdWlja1NpZ2h0VXNlck1hbmFnZXInXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jICgpID0+IHtcblx0Y29uc3QgeyBkZWxldGVEYXlzLCBub3RpZnlEYXlzIH0gPSBwcm9jZXNzLmVudlxuXHRjb25zdCBlbmFibGVOb3RpZmljYXRpb24gPSBwcm9jZXNzLmVudi5lbmFibGVOb3RpZmljYXRpb24gPT09ICd0cnVlJ1xuXHRjb25zdCBkZWxldGVEYXRlID0gbmV3IERhdGUoKVxuXHRjb25zdCBub3RpZnlEYXRlID0gbmV3IERhdGUoKVxuXHRkZWxldGVEYXRlLnNldERhdGUoZGVsZXRlRGF0ZS5nZXREYXRlKCkgLSBwYXJzZUludChkZWxldGVEYXlzKSlcblx0bm90aWZ5RGF0ZS5zZXREYXRlKG5vdGlmeURhdGUuZ2V0RGF0ZSgpIC0gcGFyc2VJbnQobm90aWZ5RGF5cykpXG5cblx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXG5cdGNvbnNvbGUuaW5mbyhgTm90aWZ5aW5nIHVzZXJzIHdpdGggbGFzdCBhY2Nlc3MgZGF0ZSBvbjogJHtub3RpZnlEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpfSAoJHtub3RpZnlEYXlzfSBkYXlzIGFnbykuYClcblx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXG5cdGNvbnNvbGUuaW5mbyhgRGVsZXRpbmcgdXNlcnMgd2l0aCBsYXN0IGFjY2VzcyBkYXRlIG9uIG9yIGJlZm9yZTogJHtkZWxldGVEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpfSAoJHtkZWxldGVEYXlzfSBkYXlzIGFnbykuYClcblx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXG5cdGNvbnNvbGUuaW5mbyhgTm90aWZpY2F0aW9uIGVuYWJsZWQ/ICR7ZW5hYmxlTm90aWZpY2F0aW9ufS5gKVxuXG5cdGNvbnN0IHF1aWNrU2lnaHRVc2VyTWFuYWdlciA9IG5ldyBRdWlja1NpZ2h0VXNlck1hbmFnZXIoKVxuXHRjb25zdCBjbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciA9IG5ldyBDbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlcigpXG5cdGNvbnN0IG5vdGlmaWNhdGlvbk1hbmFnZXIgPSBuZXcgTm90aWZpY2F0aW9uTWFuYWdlcigpXG5cdGNvbnN0IGNsb3VkV2F0Y2hNZXRyaWNDbGllbnQgPSBuZXcgQ2xvdWRXYXRjaE1ldHJpY0NsaWVudCgpXG5cblx0Y29uc3QgcXVpY2tTaWdodFVzZXJzID0gYXdhaXQgcXVpY2tTaWdodFVzZXJNYW5hZ2VyLnJldHJpZXZlVXNlcnMoKVxuXHRjb25zdCBjbG91ZFRyYWlsVXNlckV2ZW50cyA9IGF3YWl0IGNsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyLnJldHJpZXZlUXVpY2tTaWdodFVzZXJFdmVudHMoZGVsZXRlRGF0ZSlcblxuXHRmb3IgKGNvbnN0IHF1aWNrU2lnaHRVc2VyIG9mIHF1aWNrU2lnaHRVc2Vycykge1xuXHRcdHF1aWNrU2lnaHRVc2VyLmxhc3RBY2Nlc3MgPSBjbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlci5nZXRMYXN0QWNjZXNzRGF0ZShxdWlja1NpZ2h0VXNlciwgY2xvdWRUcmFpbFVzZXJFdmVudHMpXG5cdH1cblxuXHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0Y29uc29sZS5kZWJ1ZyhgUXVpY2tTaWdodCBVc2VyczpcXG4ke0pTT04uc3RyaW5naWZ5KHF1aWNrU2lnaHRVc2VycywgbnVsbCwgMil9YClcblx0Y2xvdWRXYXRjaE1ldHJpY0NsaWVudC5xdWV1ZU1ldHJpYyh7IE1ldHJpY05hbWU6ICdQcmlvclF1aWNrU2lnaHRVc2Vyc0NvdW50JywgVmFsdWU6IHF1aWNrU2lnaHRVc2Vycy5sZW5ndGggfSlcblxuXHRsZXQgaW52YWxpZFVzZXJzID0gMFxuXHRsZXQgdXNlcnNEZWxldGVkID0gMFxuXHRsZXQgbm90aWZpY2F0aW9uc1NlbnQgPSAwXG5cblx0Zm9yIChjb25zdCBxdWlja1NpZ2h0VXNlciBvZiBxdWlja1NpZ2h0VXNlcnMpIHtcblx0XHRpZiAocXVpY2tTaWdodFVzZXIuaW52YWxpZCkgeyAvLyBTb21lIFFTIHVzZXJzIGNhbm5vdCBiZSBkZWxldGVkIFZJQSB0aGUgQVBJL1NESy4gU2VlIFJFQURNRSBmb3IgZGV0YWlsc1xuXHRcdFx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXG5cdFx0XHRjb25zb2xlLndhcm4oYEludmFsaWQgdXNlcjogJHtKU09OLnN0cmluZ2lmeShxdWlja1NpZ2h0VXNlcil9YClcblx0XHRcdGludmFsaWRVc2VycysrXG5cdFx0fSBlbHNlIGlmIChxdWlja1NpZ2h0VXNlci5sYXN0QWNjZXNzIDwgZGVsZXRlRGF0ZSkge1xuXHRcdFx0dXNlcnNEZWxldGVkKytcblx0XHRcdGF3YWl0IHF1aWNrU2lnaHRVc2VyTWFuYWdlci5kZWxldGVVc2VyKHF1aWNrU2lnaHRVc2VyKVxuXHRcdH0gZWxzZSBpZiAoZW5hYmxlTm90aWZpY2F0aW9uXG4gICAgICAmJiBxdWlja1NpZ2h0VXNlci5yb2xlICE9PSBRdWlja1NpZ2h0Um9sZS5SRUFERVIgLy8gUmVhZGVycyBnZXQgaW50byBRdWlja1NpZ2h0IHRocm91Z2ggYSBwdWJsaWMgcGFnZSBhbmQgcHJvYmFibHkgaGF2ZSBubyBpZGVhIHdoYXQgUXVpY2tTaWdodCBpcy4gVGhlcmVmb3JlIHdlIHNob3VsZG4ndCBlbWFpbCB0aGVtLlxuICAgICAgJiYgcXVpY2tTaWdodFVzZXIubGFzdEFjY2Vzcy50b0xvY2FsZURhdGVTdHJpbmcoKSA9PT0gbm90aWZ5RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKSkgeyAvLyB0b0xvY2FsZURhdGVTdHJpbmcgc3RyaXBzIG9mZiB0aGUgdGltZS4gSWYgdGhlIGRheSBtYXRjaGVzIHRoZSBub3RpZnkgXCJkYXlcIiB0aGVuIHdlIG5vdGlmeSB0aGUgdXNlclxuXHRcdFx0bm90aWZpY2F0aW9uc1NlbnQrK1xuXHRcdFx0YXdhaXQgbm90aWZpY2F0aW9uTWFuYWdlci5ub3RpZnlVc2VyKHF1aWNrU2lnaHRVc2VyKVxuXHRcdH1cblx0fVxuXG5cdGNsb3VkV2F0Y2hNZXRyaWNDbGllbnQucXVldWVNZXRyaWMoeyBNZXRyaWNOYW1lOiAnSW52YWxpZFVzZXJzQ291bnQnLCBWYWx1ZTogaW52YWxpZFVzZXJzIH0pXG5cdGNsb3VkV2F0Y2hNZXRyaWNDbGllbnQucXVldWVNZXRyaWMoeyBNZXRyaWNOYW1lOiAnVXNlcnNEZWxldGVkQ291bnQnLCBWYWx1ZTogdXNlcnNEZWxldGVkIH0pXG5cdGNsb3VkV2F0Y2hNZXRyaWNDbGllbnQucXVldWVNZXRyaWMoeyBNZXRyaWNOYW1lOiAnTm90aWZpY2F0aW9uc1NlbnRDb3VudCcsIFZhbHVlOiBub3RpZmljYXRpb25zU2VudCB9KVxuXHRjbG91ZFdhdGNoTWV0cmljQ2xpZW50LnF1ZXVlTWV0cmljKHsgTWV0cmljTmFtZTogJ1JlbWFpbmluZ1F1aWNrU2lnaHRVc2Vyc0NvdW50JywgVmFsdWU6IHF1aWNrU2lnaHRVc2Vycy5sZW5ndGggLSB1c2Vyc0RlbGV0ZWQgfSlcblx0YXdhaXQgY2xvdWRXYXRjaE1ldHJpY0NsaWVudC5lbWl0UXVldWVkTWV0cmljcygpXG59XG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJBd3NDcmMzMiIsInRzbGliXzEiLCJ1dGlsXzEiLCJpbmRleF8xIiwidGhpcyIsImNyYzMyIiwiQ3JjMzIiLCJwcm90b3R5cGUiLCJ1cGRhdGUiLCJ0b0hhc2giLCJpc0VtcHR5RGF0YSIsImNvbnZlcnRUb0J1ZmZlciIsImRpZ2VzdCIsIl9fYXdhaXRlciIsIl9fZ2VuZXJhdG9yIiwiX2EiLCJudW1Ub1VpbnQ4IiwicmVzZXQiLCJkYXRhIiwiY2hlY2tzdW0iLCJlXzEiLCJkYXRhXzEiLCJfX3ZhbHVlcyIsImRhdGFfMV8xIiwibmV4dCIsImRvbmUiLCJieXRlIiwibG9va3VwVGFibGUiLCJlXzFfMSIsImVycm9yIiwicmV0dXJuIiwiY2FsbCIsInVpbnQzMkFycmF5RnJvbSIsImF3c19jcmMzMl8xIiwiZW51bWVyYWJsZSIsImdldCIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfX2V4dGVuZHMiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJfX3Jlc3QiLCJlIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiYyIsInIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwicmVzdWx0IiwidGhlbiIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsInB1c2giLCJfX2NyZWF0ZUJpbmRpbmciLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsIl9fZXhwb3J0U3RhciIsIl9fcmVhZCIsImFyIiwiX19zcHJlYWQiLCJjb25jYXQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiYSIsImoiLCJqbCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwic2hpZnQiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwicmF3IiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiaGFzIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsInV0aWxfdXRmOF9icm93c2VyXzEiLCJmcm9tVXRmOCIsIkJ1ZmZlciIsImZyb20iLCJpbnB1dCIsIlVpbnQ4QXJyYXkiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiQllURVNfUEVSX0VMRU1FTlQiLCJjb252ZXJ0VG9CdWZmZXJfMSIsImlzRW1wdHlEYXRhXzEiLCJudW1Ub1VpbnQ4XzEiLCJ1aW50MzJBcnJheUZyb21fMSIsIm51bSIsImFfbG9va1VwVGFibGUiLCJVaW50MzJBcnJheSIsInJldHVybl9hcnJheSIsImFfaW5kZXgiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImJ5dGVzIiwibGVuIiwiY2hhckNvZGVBdCIsInN1cnJvZ2F0ZVBhaXIiLCJUZXh0RGVjb2RlciIsImRlY29kZSIsImRlY29kZWQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJuZXh0Qnl0ZSIsImVuY29kZWQiLCJtYXAiLCJieXRlVmFsdWUiLCJ0b1N0cmluZyIsImpvaW4iLCJkZWNvZGVVUklDb21wb25lbnQiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsImV4dHJhY3RSZWdpb25Gcm9tRW5kcG9pbnQiLCJidWlsZE1xdHQ1RmluYWxVc2VybmFtZSIsInBvcHVsYXRlX3VzZXJuYW1lX3N0cmluZ193aXRoX2N1c3RvbV9hdXRob3JpemVyIiwiaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkiLCJhZGRfdG9fdXNlcm5hbWVfcGFyYW1ldGVyIiwicGxhdGZvcm0iLCJjdXJyZW50X3VzZXJuYW1lIiwicGFyYW1ldGVyX3ZhbHVlIiwicGFyYW1ldGVyX3ByZV90ZXh0IiwicmV0dXJuX3N0cmluZyIsIml0ZW0iLCJhZGRQYXJhbSIsInBhcmFtTmFtZSIsInBhcmFtVmFsdWUiLCJwYXJhbVNldCIsImlucHV0X3VzZXJuYW1lIiwiaW5wdXRfYXV0aG9yaXplciIsImlucHV0X3NpZ25hdHVyZSIsImlucHV0X2J1aWxkZXJfdXNlcm5hbWUiLCJpbnB1dF90b2tlbl9rZXlfbmFtZSIsImlucHV0X3Rva2VuX3ZhbHVlIiwidXNlcm5hbWVfc3RyaW5nIiwiY29uc29sZSIsImxvZyIsIkVycm9yIiwiY3VzdG9tQXV0aENvbmZpZyIsInBhdGgiLCJwYXJhbUxpc3QiLCJ1c2luZ1NpZ25pbmciLCJ0b2tlblZhbHVlIiwidG9rZW5LZXlOYW1lIiwidG9rZW5TaWduYXR1cmUiLCJ1c2VybmFtZSIsInBhdGhTcGxpdCIsInNwbGl0IiwicGFyYW1zIiwic2xpY2UiLCJmb3JFYWNoIiwia2V5VmFsdWUiLCJpbmRleCIsImFycmF5Iiwia3ZQYWlyIiwiYXV0aG9yaXplck5hbWUiLCJjcnRfdmVyc2lvbiIsImVuZHBvaW50IiwibWF0Y2giLCJuZXdDYW5jZWxsYWJsZVByb21pc2VGcm9tTmV4dEV2ZW50IiwiQ2FuY2VsQ29udHJvbGxlciIsIkVWRU5UX05BTUUiLCJldmVudHNfMSIsInByb21pc2UiLCJvcHRpb25zIiwiY2FuY2VsbGVkIiwiZW1pdHRlckZhY3RvcnkiLCJlbWl0dGVyIiwiRXZlbnRFbWl0dGVyIiwiY2FuY2VsIiwiZW1pdCIsInJlbW92ZUFsbExpc3RlbmVycyIsImhhc0JlZW5DYW5jZWxsZWQiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwib24iLCJyZW1vdmVMaXN0ZW5lciIsImNvbmZpZyIsIm9uRXZlbnQiLCJjYW5jZWxSZW1vdmVMaXN0ZW5lciIsImxpZnRlZFByb21pc2UiLCJuZXdMaWZ0ZWRQcm9taXNlIiwiZXZlbnREYXRhIiwiZXZlbnREYXRhVHJhbnNmb3JtZXIiLCJlcnIiLCJldmVudE5hbWUiLCJjYW5jZWxDb250cm9sbGVyIiwiY2FuY2VsTWVzc2FnZSIsIm1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlIiwiQnVmZmVyZWRFdmVudEVtaXR0ZXIiLCJCdWZmZXJlZEV2ZW50IiwiZXZlbnQiLCJhcmdzIiwic3VwZXIiLCJjb3JrZWQiLCJjb3JrIiwidW5jb3JrIiwiZXZlbnRRdWV1ZSIsImxhc3QiLCJsYXN0UXVldWVkRXZlbnQiLCJsaXN0ZW5lcnMiLCJIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUiLCJIdHRwVmVyc2lvbiIsIkNvbW1vbkh0dHBQcm94eU9wdGlvbnMiLCJob3N0X25hbWUiLCJwb3J0IiwiYXV0aF9tZXRob2QiLCJOb25lIiwiYXV0aF91c2VybmFtZSIsImF1dGhfcGFzc3dvcmQiLCJTb2NrZXREb21haW4iLCJTb2NrZXRUeXBlIiwiVGxzVmVyc2lvbiIsIlFvUyIsIkRFRkFVTFRfUkVDT05ORUNUX01JTl9TRUMiLCJERUZBVUxUX1JFQ09OTkVDVF9NQVhfU0VDIiwiTXF0dFdpbGwiLCJ0b3BpYyIsInFvcyIsInBheWxvYWQiLCJyZXRhaW4iLCJSZXRyeUppdHRlclR5cGUiLCJDbGllbnRTZXNzaW9uQmVoYXZpb3IiLCJQYWNrZXRUeXBlIiwiUmV0YWluSGFuZGxpbmdUeXBlIiwiUGF5bG9hZEZvcm1hdEluZGljYXRvciIsIlB1YmFja1JlYXNvbkNvZGUiLCJVbnN1YmFja1JlYXNvbkNvZGUiLCJTdWJhY2tSZWFzb25Db2RlIiwiRGlzY29ubmVjdFJlYXNvbkNvZGUiLCJDb25uZWN0UmVhc29uQ29kZSIsImlzU3VjY2Vzc2Z1bFB1YmFja1JlYXNvbkNvZGUiLCJpc1N1Y2Nlc3NmdWxVbnN1YmFja1JlYXNvbkNvZGUiLCJpc1N1Y2Nlc3NmdWxTdWJhY2tSZWFzb25Db2RlIiwiaXNTdWNjZXNzZnVsRGlzY29ubmVjdFJlYXNvbkNvZGUiLCJpc1N1Y2Nlc3NmdWxDb25uZWN0UmVhc29uQ29kZSIsInJlYXNvbkNvZGUiLCJERUZBVUxUX0tFRVBfQUxJVkUiLCJub3JtYWxpemVfcGF5bG9hZCIsInZpZXciLCJKU09OIiwic3RyaW5naWZ5IiwiaXNfbm9kZWpzIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsInBhY2thZ2VfaW5mbyIsIm5hbWUiLCJ2ZXJzaW9uIiwiaXNfYnJvd3NlciIsImNsZWFuZXIiLCJmaW5hbGx5IiwicHJvbWlzZUJvZHkiLCJsb2NhbFJlc29sdmUiLCJsb2NhbFJlamVjdCIsInVzaW5nIiwicmVzb3VyY2UiLCJmdW5jIiwiY2xvc2UiLCJDcnRFcnJvciIsInJlc291cmNlX3NhZmV0eSIsIm1xdHQ1IiwibXF0dCIsImlvdCIsImlvIiwiaHR0cCIsImV2ZW50c3RyZWFtIiwiY3J0IiwiY3J5cHRvIiwiY2hlY2tzdW1zIiwiYXV0aCIsImVycm9yXzEiLCJhd3NfdmVyaWZ5X3NpZ3Y0YV9zaWduaW5nIiwiYXdzX3NpZ25fcmVxdWVzdCIsIkF3c1NpZ25lZEJvZHlIZWFkZXJUeXBlIiwiQXdzU2lnbmVkQm9keVZhbHVlIiwiQXdzU2lnbmF0dXJlVHlwZSIsIkF3c1NpZ25pbmdBbGdvcml0aG0iLCJBd3NDcmVkZW50aWFsc1Byb3ZpZGVyIiwiYmluZGluZ18xIiwiaW9fMSIsInN0YXRpYyIsImJvb3RzdHJhcCIsIm5ld0RlZmF1bHQiLCJuYXRpdmVfaGFuZGxlIiwiYWNjZXNzX2tleSIsInNlY3JldF9rZXkiLCJzZXNzaW9uX3Rva2VuIiwibmV3U3RhdGljIiwibmV3Q29nbml0byIsInRsc0NvbnRleHQiLCJDbGllbnRUbHNDb250ZXh0IiwiaHR0cFByb3h5T3B0aW9ucyIsImNyZWF0ZV9uYXRpdmVfaGFuZGxlIiwibmV3WDUwOSIsInJlcXVlc3QiLCJlcnJvcl9jb2RlIiwiZXhwZWN0ZWRfY2Fub25pY2FsX3JlcXVlc3QiLCJzaWduYXR1cmUiLCJlY2Nfa2V5X3B1Yl94IiwiZWNjX2tleV9wdWJfeSIsIkF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlciIsIm1xdHRfMSIsImF1dGhfMSIsImlvdF9zaGFyZWQiLCJ0bHNfY3R4X29wdGlvbnMiLCJjbGllbnRfaWQiLCJzb2NrZXRfb3B0aW9ucyIsIlNvY2tldE9wdGlvbnMiLCJ1c2Vfd2Vic29ja2V0IiwiY2xlYW5fc2Vzc2lvbiIsImtlZXBfYWxpdmUiLCJ3aWxsIiwicGFzc3dvcmQiLCJ0bHNfY3R4IiwicmVjb25uZWN0X21pbl9zZWMiLCJyZWNvbm5lY3RfbWF4X3NlYyIsImlzX3VzaW5nX2N1c3RvbV9hdXRob3JpemVyIiwiY2VydF9wYXRoIiwia2V5X3BhdGgiLCJidWlsZGVyIiwiVGxzQ29udGV4dE9wdGlvbnMiLCJjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19mcm9tX3BhdGgiLCJpc19hbHBuX2F2YWlsYWJsZSIsImFscG5fbGlzdCIsInVuc2hpZnQiLCJjZXJ0IiwicHJpdmF0ZV9rZXkiLCJjcmVhdGVfY2xpZW50X3dpdGhfbXRscyIsInBrY3MxMV9vcHRpb25zIiwiY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczExIiwicGtjczEyX29wdGlvbnMiLCJjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTJfZnJvbV9wYXRoIiwicGtjczEyX2ZpbGUiLCJwa2NzMTJfcGFzc3dvcmQiLCJjZXJ0aWZpY2F0ZV9wYXRoIiwiY3JlYXRlX2NsaWVudF93aXRoX210bHNfd2luZG93c19jZXJ0X3N0b3JlX3BhdGgiLCJjdHhfb3B0aW9ucyIsIm5ld193aXRoX3dlYnNvY2tldHMiLCJ3ZWJzb2NrZXRfaGFuZHNoYWtlX3RyYW5zZm9ybSIsIl9iIiwiX2MiLCJzaWduaW5nX2NvbmZpZyIsImNyZWF0ZV9zaWduaW5nX2NvbmZpZyIsImFsZ29yaXRobSIsIlNpZ1Y0Iiwic2lnbmF0dXJlX3R5cGUiLCJIdHRwUmVxdWVzdFZpYVF1ZXJ5UGFyYW1zIiwicHJvdmlkZXIiLCJjcmVkZW50aWFsc19wcm92aWRlciIsInJlZ2lvbiIsInNlcnZpY2UiLCJzaWduZWRfYm9keV92YWx1ZSIsIkVtcHR5U2hhMjU2Iiwib21pdF9zZXNzaW9uX3Rva2VuIiwicHJveHlfb3B0aW9ucyIsImNvbmZpZ3VyZV93ZWJzb2NrZXRfaGFuZHNoYWtlIiwid2l0aF9jZXJ0aWZpY2F0ZV9hdXRob3JpdHlfZnJvbV9wYXRoIiwiY2FfZGlycGF0aCIsImNhX2ZpbGVwYXRoIiwib3ZlcnJpZGVfZGVmYXVsdF90cnVzdF9zdG9yZV9mcm9tX3BhdGgiLCJ3aXRoX2NlcnRpZmljYXRlX2F1dGhvcml0eSIsImNhIiwib3ZlcnJpZGVfZGVmYXVsdF90cnVzdF9zdG9yZSIsIndpdGhfZW5kcG9pbnQiLCJ3aXRoX3BvcnQiLCJ3aXRoX2NsaWVudF9pZCIsIndpdGhfY2xlYW5fc2Vzc2lvbiIsIndpdGhfa2VlcF9hbGl2ZV9zZWNvbmRzIiwid2l0aF90aW1lb3V0X21zIiwidGltZW91dF9tcyIsIndpdGhfcGluZ190aW1lb3V0X21zIiwicGluZ190aW1lb3V0Iiwid2l0aF9wcm90b2NvbF9vcGVyYXRpb25fdGltZW91dF9tcyIsInByb3RvY29sX29wZXJhdGlvbl90aW1lb3V0Iiwid2l0aF93aWxsIiwid2l0aF9zb2NrZXRfb3B0aW9ucyIsIndpdGhfY3JlZGVudGlhbHMiLCJhd3NfcmVnaW9uIiwiYXdzX2FjY2Vzc19pZCIsImF3c19zZWNyZXRfa2V5IiwiYXdzX3N0c190b2tlbiIsIndpdGhfaHR0cF9wcm94eV9vcHRpb25zIiwid2l0aF9jdXN0b21fYXV0aG9yaXplciIsImF1dGhvcml6ZXJfbmFtZSIsImF1dGhvcml6ZXJfc2lnbmF0dXJlIiwidG9rZW5fa2V5X25hbWUiLCJ0b2tlbl92YWx1ZSIsIndpdGhfdXNlcm5hbWUiLCJ3aXRoX3Bhc3N3b3JkIiwid2l0aF9yZWNvbm5lY3RfbWF4X3NlYyIsIm1heF9zZWMiLCJ3aXRoX3JlY29ubmVjdF9taW5fc2VjIiwibWluX3NlYyIsImJ1aWxkIiwiQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyIiwibXF0dF9zaGFyZWQiLCJob3N0TmFtZSIsInRsc0NvbnRleHRPcHRpb25zIiwiY29ubmVjdFByb3BlcnRpZXMiLCJrZWVwQWxpdmVJbnRlcnZhbFNlY29uZHMiLCJleHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbE9wdGlvbnMiLCJDbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbCIsIkF3c0lvdENvcmVEZWZhdWx0cyIsImNlcnRQYXRoIiwia2V5UGF0aCIsIkRFRkFVTFRfRElSRUNUX01RVFRfUE9SVCIsInByaXZhdGVLZXkiLCJwa2NzMTFPcHRpb25zIiwiY2VydGlmaWNhdGVQYXRoIiwiREVGQVVMVF9XRUJTT0NLRVRfTVFUVF9QT1JUIiwiY3JlZGVudGlhbHNQcm92aWRlciIsIndlYnNvY2tldEhhbmRzaGFrZVRyYW5zZm9ybSIsInNpZ25pbmdDb25maWciLCJ3aXRoQ2VydGlmaWNhdGVBdXRob3JpdHlGcm9tUGF0aCIsImNhRGlycGF0aCIsImNhRmlsZXBhdGgiLCJ3aXRoQ2VydGlmaWNhdGVBdXRob3JpdHkiLCJ3aXRoUG9ydCIsIndpdGhDb25uZWN0UHJvcGVydGllcyIsImNvbm5lY3RQYWNrZXQiLCJ3aXRoU2Vzc2lvbkJlaGF2aW9yIiwic2Vzc2lvbkJlaGF2aW9yIiwid2l0aFJldHJ5Sml0dGVyTW9kZSIsInJldHJ5Sml0dGVyTW9kZSIsIndpdGhNaW5SZWNvbm5lY3REZWxheU1zIiwibWluUmVjb25uZWN0RGVsYXlNcyIsIndpdGhNYXhSZWNvbm5lY3REZWxheU1zIiwibWF4UmVjb25uZWN0RGVsYXlNcyIsIndpdGhNaW5Db25uZWN0ZWRUaW1lVG9SZXNldFJlY29ubmVjdERlbGF5TXMiLCJtaW5Db25uZWN0ZWRUaW1lVG9SZXNldFJlY29ubmVjdERlbGF5TXMiLCJ3aXRoQ29ubmFja1RpbWVvdXRNcyIsImNvbm5hY2tUaW1lb3V0TXMiLCJ3aXRoT2ZmbGluZVF1ZXVlQmVoYXZpb3IiLCJvZmZsaW5lUXVldWVCZWhhdmlvciIsIndpdGhQaW5nVGltZW91dE1zIiwicGluZ1RpbWVvdXRNcyIsIndpdGhBY2tUaW1lb3V0U2Vjb25kcyIsImFja1RpbWVvdXRTZWNvbmRzIiwid2l0aFNvY2tldE9wdGlvbnMiLCJzb2NrZXRPcHRpb25zIiwid2l0aEh0dHBQcm94eU9wdGlvbnMiLCJ3aXRoRXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xPcHRpb25zIiwidGxzQ3R4Iiwib3NfMSIsImZzXzEiLCJwcm9jZXNzXzEiLCJ1cGdyYWRlX3N0cmluZyIsInBhcnNlSW50IiwicGxhdGZvcm1EaXIiLCJhcmNoIiwic291cmNlX3Jvb3QiLCJfX2Rpcm5hbWUiLCJkaXN0IiwiZXhpc3RzU3luYyIsImJpbl9wYXRoIiwic2VhcmNoX3BhdGhzIiwiYmluZGluZyIsImNyYzMyYyIsInByZXZpb3VzIiwiY2hlY2tzdW1zX2NyYzMyIiwiY2hlY2tzdW1zX2NyYzMyYyIsIm5hdGl2ZV9tZW1vcnlfZHVtcCIsIm5hdGl2ZV9tZW1vcnkiLCJobWFjX3NoYTI1NiIsIlNoYTI1NkhtYWMiLCJoYXNoX3NoYTEiLCJTaGExSGFzaCIsImhhc2hfc2hhMjU2IiwiU2hhMjU2SGFzaCIsImhhc2hfbWQ1IiwiTWQ1SGFzaCIsIm5hdGl2ZV9yZXNvdXJjZV8xIiwiSGFzaCIsIk5hdGl2ZVJlc291cmNlIiwiaGFzaF91cGRhdGUiLCJmaW5hbGl6ZSIsInRydW5jYXRlX3RvIiwiaGFzaF9kaWdlc3QiLCJoYXNoX2hhbmRsZSIsImhhc2hfbWQ1X25ldyIsImhhc2hfbWQ1X2NvbXB1dGUiLCJoYXNoX3NoYTI1Nl9uZXciLCJoYXNoX3NoYTI1Nl9jb21wdXRlIiwiaGFzaF9zaGExX25ldyIsImhhc2hfc2hhMV9jb21wdXRlIiwiSG1hYyIsImhtYWNfdXBkYXRlIiwiaG1hY19kaWdlc3QiLCJzZWNyZXQiLCJobWFjX3NoYTI1Nl9uZXciLCJobWFjX3NoYTI1Nl9jb21wdXRlIiwiZXJyb3JfY29kZV90b19zdHJpbmciLCJtZXNzYWdlIiwiZXh0cmFjdF9tZXNzYWdlIiwiZXh0cmFjdF9jb2RlIiwiZXJyb3JfbmFtZSIsImVycm9yX2NvZGVfdG9fbmFtZSIsImV4dHJhY3RfbmFtZSIsIkNsaWVudFN0cmVhbSIsIkNsaWVudENvbm5lY3Rpb24iLCJNZXNzYWdlVHlwZSIsIk1lc3NhZ2VGbGFncyIsIkhlYWRlciIsIkhlYWRlclR5cGUiLCJldmVudF8xIiwiZXZlbnRzdHJlYW1fdXRpbHMiLCJDbGllbnRDb25uZWN0aW9uU3RhdGUiLCJDbGllbnRTdHJlYW1TdGF0ZSIsInR5cGUiLCJ2YWxpZGF0ZUhlYWRlck5hbWUiLCJCb29sZWFuVHJ1ZSIsIkJvb2xlYW5GYWxzZSIsIk1JTl9JTlQ4IiwiTUFYX0lOVDgiLCJOdW1iZXIiLCJpc1NhZmVJbnRlZ2VyIiwiQnl0ZSIsIk1JTl9JTlQxNiIsIk1BWF9JTlQxNiIsIkludDE2IiwiTUlOX0lOVDMyIiwiTUFYX0lOVDMyIiwiSW50MzIiLCJJbnQ2NCIsIm1hcnNoYWxJbnQ2NEJpZ2ludEFzQnVmZmVyIiwiQmlnSW50IiwiTUlOX0lOVDY0IiwiTUFYX0lOVDY0IiwiQnl0ZUJ1ZmZlciIsInNlY29uZHNTaW5jZUVwb2NoIiwiVGltZXN0YW1wIiwiZGF0ZSIsImdldFRpbWUiLCJVVUlEIiwidG9WYWx1ZSIsImFzQm9vbGVhbiIsImFzQnl0ZSIsImFzSW50MTYiLCJhc0ludDMyIiwiYXNJbnQ2NCIsInVubWFyc2hhbEludDY0QmlnaW50RnJvbUJ1ZmZlciIsImFzQnl0ZUJ1ZmZlciIsImFzU3RyaW5nIiwiYXNUaW1lc3RhbXAiLCJhc1VVSUQiLCJtYXBQb2RNZXNzYWdlVG9KU01lc3NhZ2UiLCJqc01lc3NhZ2UiLCJmbGFncyIsImhlYWRlcnMiLCJoZWFkZXIiLCJOYXRpdmVSZXNvdXJjZU1peGluIiwic3RhdGUiLCJfc3VwZXIiLCJldmVudF9zdHJlYW1fY2xpZW50X2Nvbm5lY3Rpb25fbmV3IiwiY29ubmVjdGlvbiIsImVycm9yQ29kZSIsIl9zX29uX2Rpc2Nvbm5lY3QiLCJfc19vbl9wcm90b2NvbF9tZXNzYWdlIiwiQ2xvc2VkIiwiZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX2Nsb3NlIiwiY29ubmVjdCIsImNsZWFudXBDYW5jZWxMaXN0ZW5lciIsImNvbm5lY3RQcm9taXNlIiwiQ29ubmVjdGluZyIsInNldEltbWVkaWF0ZSIsImV2ZW50X3N0cmVhbV9jbGllbnRfY29ubmVjdGlvbl9jb25uZWN0IiwiX3Nfb25fY29ubmVjdGlvbl9zZXR1cCIsIkRpc2Nvbm5lY3RlZCIsInNlbmRQcm90b2NvbE1lc3NhZ2UiLCJzZW5kUHJvdG9jb2xNZXNzYWdlUHJvbWlzZSIsImlzQ29ubmVjdGVkIiwiY3VycmllZFByb21pc2VDYWxsYmFjayIsIl9zX29uX2Nvbm5lY3Rpb25fc2VuZF9wcm90b2NvbF9tZXNzYWdlX2NvbXBsZXRpb24iLCJldmVudF9zdHJlYW1fY2xpZW50X2Nvbm5lY3Rpb25fc2VuZF9wcm90b2NvbF9tZXNzYWdlIiwiQ29ubmVjdGVkIiwibmV3U3RyZWFtIiwibmV4dFRpY2siLCJESVNDT05ORUNUSU9OIiwiUFJPVE9DT0xfTUVTU0FHRSIsImV2ZW50X3N0cmVhbV9jbGllbnRfc3RyZWFtX25ldyIsInN0cmVhbSIsIl9zX29uX3N0cmVhbV9lbmRlZCIsIl9zX29uX3N0cmVhbV9tZXNzYWdlIiwiZXZlbnRfc3RyZWFtX2NsaWVudF9zdHJlYW1fY2xvc2UiLCJhY3RpdmF0ZSIsImFjdGl2YXRlUHJvbWlzZSIsIkVuZGVkIiwiQWN0aXZhdGluZyIsIl9zX29uX3N0cmVhbV9hY3RpdmF0ZWQiLCJldmVudF9zdHJlYW1fY2xpZW50X3N0cmVhbV9hY3RpdmF0ZSIsInNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2VQcm9taXNlIiwiQWN0aXZhdGVkIiwiX3Nfb25fc3RyZWFtX3NlbmRfbWVzc2FnZV9jb21wbGV0aW9uIiwiZXZlbnRfc3RyZWFtX2NsaWVudF9zdHJlYW1fc2VuZF9tZXNzYWdlIiwiaXNBY3RpdmUiLCJFTkRFRCIsIk1FU1NBR0UiLCJNQVhfVUlOVDhfQVNfQklHSU5UIiwiYnl0ZVZpZXciLCJIdHRwQ2xpZW50Q29ubmVjdGlvbk1hbmFnZXIiLCJIdHRwQ2xpZW50U3RyZWFtIiwiSHR0cFN0cmVhbSIsIkh0dHBDbGllbnRDb25uZWN0aW9uIiwiSHR0cFByb3h5T3B0aW9ucyIsIkh0dHBQcm94eUNvbm5lY3Rpb25UeXBlIiwiSHR0cENvbm5lY3Rpb24iLCJIdHRwUmVxdWVzdCIsIkh0dHBIZWFkZXJzIiwiaHR0cF8xIiwiaHR0cF8yIiwibmF0aXZlSHR0cFJlcXVlc3QiLCJtZXRob2QiLCJodHRwX2Nvbm5lY3Rpb25fY2xvc2UiLCJDT05ORUNUIiwiRVJST1IiLCJDTE9TRSIsInRsc19vcHRzIiwiY29ubmVjdGlvbl90eXBlIiwiaHR0cF9wcm94eV9vcHRpb25zX25ldyIsIkxlZ2FjeSIsImhhbmRsZSIsImh0dHBfY29ubmVjdGlvbl9uZXciLCJfb25fc2V0dXAiLCJfb25fc2h1dGRvd24iLCJodHRwX3N0cmVhbV9uZXciLCJfb25fY29tcGxldGUiLCJzdGF0dXNfY29kZSIsIl9vbl9yZXNwb25zZSIsIl9vbl9ib2R5IiwiaHR0cF9zdHJlYW1fYWN0aXZhdGUiLCJodHRwX3N0cmVhbV9jbG9zZSIsInJlc3BvbnNlX3N0YXR1c19jb2RlIiwiaGVhZGVyX2FycmF5IiwiUkVTUE9OU0UiLCJEQVRBIiwiRU5EIiwiSEVBREVSUyIsImhvc3QiLCJtYXhfY29ubmVjdGlvbnMiLCJpbml0aWFsX3dpbmRvd19zaXplIiwiaHR0cF9jb25uZWN0aW9uX21hbmFnZXJfbmV3IiwiY29ubmVjdGlvbnMiLCJNYXAiLCJhY3F1aXJlIiwiaHR0cF9jb25uZWN0aW9uX21hbmFnZXJfYWNxdWlyZSIsImRlbGV0ZSIsInJlbGVhc2UiLCJodHRwX2Nvbm5lY3Rpb25fbWFuYWdlcl9yZWxlYXNlIiwiaHR0cF9jb25uZWN0aW9uX21hbmFnZXJfY2xvc2UiLCJQa2NzMTFMaWIiLCJUbHNDb25uZWN0aW9uT3B0aW9ucyIsIlNlcnZlclRsc0NvbnRleHQiLCJUbHNDb250ZXh0IiwiQ2xpZW50Qm9vdHN0cmFwIiwiSW5wdXRTdHJlYW0iLCJlbmFibGVfbG9nZ2luZyIsIkxvZ0xldmVsIiwiaW9fMiIsImxldmVsIiwiaW9fbG9nZ2luZ19lbmFibGUiLCJzb3VyY2UiLCJpb19pbnB1dF9zdHJlYW1fbmV3IiwiaXNCdWZmZXIiLCJpb19pbnB1dF9zdHJlYW1fYXBwZW5kIiwiaW9fY2xpZW50X2Jvb3RzdHJhcF9uZXciLCJTVFJFQU0iLCJkb21haW4iLCJJUFY2IiwiY29ubmVjdF90aW1lb3V0X21zIiwia2VlcGFsaXZlIiwia2VlcF9hbGl2ZV9pbnRlcnZhbF9zZWMiLCJrZWVwX2FsaXZlX3RpbWVvdXRfc2VjIiwia2VlcF9hbGl2ZV9tYXhfZmFpbGVkX3Byb2JlcyIsImlvX3NvY2tldF9vcHRpb25zX25ldyIsIm1pbl90bHNfdmVyc2lvbiIsIkRlZmF1bHQiLCJ2ZXJpZnlfcGVlciIsImNlcnRpZmljYXRlX2F1dGhvcml0eSIsImNlcnRpZmljYXRlIiwib3B0IiwiY2VydGlmaWNhdGVfZmlsZXBhdGgiLCJwcml2YXRlX2tleV9maWxlcGF0aCIsInBrY3MxMl9maWxlcGF0aCIsIndpbmRvd3NfY2VydF9zdG9yZV9wYXRoIiwiY3R4X29wdCIsImlvX3Rsc19jdHhfbmV3Iiwic2VydmVyX25hbWUiLCJpb190bHNfY29ubmVjdGlvbl9vcHRpb25zX25ldyIsImJlaGF2aW9yIiwiSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3IiLCJERUZBVUxUIiwiaW9fcGtjczExX2xpYl9uZXciLCJpb19wa2NzMTFfbGliX2Nsb3NlIiwiTXF0dENsaWVudENvbm5lY3Rpb24iLCJNcXR0Q2xpZW50IiwibXF0dF8yIiwibXF0dF9jbGllbnRfbmV3IiwibmV3X2Nvbm5lY3Rpb24iLCJjbGllbnQiLCJNYXRoIiwibWF4IiwibWluIiwibXF0dF9jbGllbnRfY29ubmVjdGlvbl9uZXciLCJfb25fY29ubmVjdGlvbl9pbnRlcnJ1cHRlZCIsInJldHVybl9jb2RlIiwic2Vzc2lvbl9wcmVzZW50IiwiX29uX2Nvbm5lY3Rpb25fcmVzdW1lZCIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fb25fbWVzc2FnZSIsIl9vbl9hbnlfcHVibGlzaCIsImJpbmQiLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX29uX2Nsb3NlZCIsIl9vbl9jb25uZWN0aW9uX2Nsb3NlZCIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fY2xvc2UiLCJfcmVqZWN0IiwibXF0dF9jbGllbnRfY29ubmVjdGlvbl9jb25uZWN0IiwiX29uX2Nvbm5lY3RfY2FsbGJhY2siLCJyZWNvbm5lY3QiLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX3JlY29ubmVjdCIsInB1Ymxpc2giLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX3B1Ymxpc2giLCJfb25fcHViYWNrX2NhbGxiYWNrIiwic3Vic2NyaWJlIiwib25fbWVzc2FnZSIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fc3Vic2NyaWJlIiwiX29uX3N1YmFja19jYWxsYmFjayIsInVuc3Vic2NyaWJlIiwibXF0dF9jbGllbnRfY29ubmVjdGlvbl91bnN1YnNjcmliZSIsIl9vbl91bnN1YmFja19jYWxsYmFjayIsImRpc2Nvbm5lY3QiLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX2Rpc2Nvbm5lY3QiLCJfb25fZGlzY29ubmVjdF9jYWxsYmFjayIsImdldFF1ZXVlU3RhdGlzdGljcyIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fZ2V0X3F1ZXVlX3N0YXRpc3RpY3MiLCJyZWFzb24iLCJzdWNjZXNzQ2FsbGJhY2tEYXRhIiwicmVhc29uX2NvZGUiLCJkdXAiLCJmYWlsdXJlQ2FsbGJhY2tEYXRhIiwicGFja2V0X2lkIiwiRElTQ09OTkVDVCIsIklOVEVSUlVQVCIsIlJFU1VNRSIsIkNPTk5FQ1RJT05fU1VDQ0VTUyIsIkNPTk5FQ1RJT05fRkFJTFVSRSIsIkNMT1NFRCIsIk1xdHQ1Q2xpZW50IiwiQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvciIsIm1xdHQ1X2NsaWVudF9uZXciLCJfc19vbl9zdG9wcGVkIiwiX3Nfb25fYXR0ZW1wdGluZ19jb25uZWN0IiwiY29ubmFjayIsInNldHRpbmdzIiwiX3Nfb25fY29ubmVjdGlvbl9zdWNjZXNzIiwiX3Nfb25fY29ubmVjdGlvbl9mYWlsdXJlIiwiX3Nfb25fZGlzY29ubmVjdGlvbiIsIl9zX29uX21lc3NhZ2VfcmVjZWl2ZWQiLCJjbGllbnRCb290c3RyYXAiLCJtcXR0NV9jbGllbnRfY2xvc2UiLCJzdGFydCIsIm1xdHQ1X2NsaWVudF9zdGFydCIsInN0b3AiLCJkaXNjb25uZWN0UGFja2V0IiwibXF0dDVfY2xpZW50X3N0b3AiLCJwYWNrZXQiLCJtcXR0NV9jbGllbnRfc3Vic2NyaWJlIiwic3ViYWNrIiwiX3Nfb25fc3ViYWNrX2NhbGxiYWNrIiwibXF0dDVfY2xpZW50X3Vuc3Vic2NyaWJlIiwidW5zdWJhY2siLCJfc19vbl91bnN1YmFja19jYWxsYmFjayIsIm1xdHQ1X2NsaWVudF9wdWJsaXNoIiwiX3Nfb25fcHViYWNrX2NhbGxiYWNrIiwibXF0dDVfY2xpZW50X2dldF9xdWV1ZV9zdGF0aXN0aWNzIiwiU1RPUFBFRCIsIkFUVEVNUFRJTkdfQ09OTkVDVCIsImNvbm5lY3Rpb25TdWNjZXNzRXZlbnQiLCJjb25uZWN0aW9uRmFpbHVyZUV2ZW50IiwiZGlzY29ubmVjdGlvbkV2ZW50IiwibWVzc2FnZVJlY2VpdmVkRXZlbnQiLCJNRVNTQUdFX1JFQ0VJVkVEIiwiQmFzZSIsIl9oYW5kbGUiLCJ3ZWJwYWNrRW1wdHlDb250ZXh0IiwicmVxIiwiY29kZSIsImtleXMiLCJpZCIsIm1vZHVsZSIsInZhbGlkYXRvciIsIlhNTFBhcnNlciIsIlhNTEJ1aWxkZXIiLCJYTUxWYWxpZGF0b3IiLCJuYW1lU3RhcnRDaGFyIiwibmFtZVJlZ2V4cCIsInJlZ2V4TmFtZSIsIlJlZ0V4cCIsImlzRXhpc3QiLCJpc0VtcHR5T2JqZWN0Iiwib2JqIiwibWVyZ2UiLCJhcnJheU1vZGUiLCJnZXRWYWx1ZSIsImlzTmFtZSIsInN0cmluZyIsImV4ZWMiLCJnZXRBbGxNYXRjaGVzIiwicmVnZXgiLCJtYXRjaGVzIiwiYWxsbWF0Y2hlcyIsInN0YXJ0SW5kZXgiLCJsYXN0SW5kZXgiLCJ1dGlsIiwiZGVmYXVsdE9wdGlvbnMiLCJhbGxvd0Jvb2xlYW5BdHRyaWJ1dGVzIiwidW5wYWlyZWRUYWdzIiwiaXNXaGl0ZVNwYWNlIiwiY2hhciIsInJlYWRQSSIsInhtbERhdGEiLCJ0YWduYW1lIiwic3Vic3RyIiwiZ2V0RXJyb3JPYmplY3QiLCJnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24iLCJyZWFkQ29tbWVudEFuZENEQVRBIiwiYW5nbGVCcmFja2V0c0NvdW50IiwidmFsaWRhdGUiLCJ0YWdzIiwidGFnRm91bmQiLCJyZWFjaGVkUm9vdCIsInRhZ1N0YXJ0UG9zIiwiY2xvc2luZ1RhZyIsInRhZ05hbWUiLCJ0cmltIiwic3Vic3RyaW5nIiwibXNnIiwicmVhZEF0dHJpYnV0ZVN0ciIsImF0dHJTdHIiLCJhdHRyU3RyU3RhcnQiLCJpc1ZhbGlkIiwidmFsaWRhdGVBdHRyaWJ1dGVTdHJpbmciLCJsaW5lIiwidGFnQ2xvc2VkIiwib3RnIiwib3BlblBvcyIsImNvbCIsImFmdGVyQW1wIiwidmFsaWRhdGVBbXBlcnNhbmQiLCJyZXBsYWNlIiwiZG91YmxlUXVvdGUiLCJzaW5nbGVRdW90ZSIsInN0YXJ0Q2hhciIsInZhbGlkQXR0clN0clJlZ3hwIiwiYXR0ck5hbWVzIiwiZ2V0UG9zaXRpb25Gcm9tTWF0Y2giLCJhdHRyTmFtZSIsInZhbGlkYXRlQXR0ck5hbWUiLCJyZSIsInZhbGlkYXRlTnVtYmVyQW1wZXJzYW5kIiwiY291bnQiLCJsaW5lTnVtYmVyIiwibGluZXMiLCJidWlsZEZyb21PcmRlcmVkSnMiLCJhdHRyaWJ1dGVOYW1lUHJlZml4IiwiYXR0cmlidXRlc0dyb3VwTmFtZSIsInRleHROb2RlTmFtZSIsImlnbm9yZUF0dHJpYnV0ZXMiLCJjZGF0YVByb3BOYW1lIiwiZm9ybWF0IiwiaW5kZW50QnkiLCJzdXBwcmVzc0VtcHR5Tm9kZSIsInN1cHByZXNzVW5wYWlyZWROb2RlIiwic3VwcHJlc3NCb29sZWFuQXR0cmlidXRlcyIsInRhZ1ZhbHVlUHJvY2Vzc29yIiwiYXR0cmlidXRlVmFsdWVQcm9jZXNzb3IiLCJwcmVzZXJ2ZU9yZGVyIiwiY29tbWVudFByb3BOYW1lIiwiZW50aXRpZXMiLCJ2YWwiLCJwcm9jZXNzRW50aXRpZXMiLCJzdG9wTm9kZXMiLCJvbmVMaXN0R3JvdXAiLCJCdWlsZGVyIiwiaXNBdHRyaWJ1dGUiLCJhdHRyUHJlZml4TGVuIiwicHJvY2Vzc1RleHRPck9iak5vZGUiLCJpbmRlbnRhdGUiLCJ0YWdFbmRDaGFyIiwibmV3TGluZSIsIm9iamVjdCIsImoyeCIsImJ1aWxkVGV4dFZhbE5vZGUiLCJidWlsZE9iamVjdE5vZGUiLCJyZXBlYXQiLCJzdGFydHNXaXRoIiwiak9iaiIsImlzQXJyYXkiLCJhcnJheU5vZGVOYW1lIiwiRGF0ZSIsImF0dHIiLCJidWlsZEF0dHJQYWlyU3RyIiwibmV3dmFsIiwicmVwbGFjZUVudGl0aWVzVmFsdWUiLCJhcnJMZW4iLCJsaXN0VGFnVmFsIiwiS3MiLCJMIiwiY2xvc2VUYWciLCJ0YWdFbmRFeHAiLCJwaUNsb3NpbmdDaGFyIiwidGV4dFZhbHVlIiwiZW50aXR5IiwiYXJyVG9TdHIiLCJhcnIiLCJqUGF0aCIsImluZGVudGF0aW9uIiwieG1sU3RyIiwiaXNQcmV2aW91c0VsZW1lbnRUYWciLCJ0YWdPYmoiLCJwcm9wTmFtZSIsIm5ld0pQYXRoIiwidGFnVGV4dCIsImlzU3RvcE5vZGUiLCJhdHRTdHIiLCJhdHRyX3RvX3N0ciIsInRlbXBJbmQiLCJwaVRleHROb2RlTmFtZSIsIm5ld0lkZW50YXRpb24iLCJ0YWdTdGFydCIsInRhZ1ZhbHVlIiwiZW5kc1dpdGgiLCJpbmNsdWRlcyIsImF0dHJNYXAiLCJhdHRyVmFsIiwibGFzdEluZGV4T2YiLCJqQXJyYXkiLCJyZWFkRW50aXR5RXhwIiwiZW50aXR5TmFtZSIsImlzQ29tbWVudCIsImlzRW50aXR5IiwiaXNFbGVtZW50IiwiaXNBdHRsaXN0IiwiaXNOb3RhdGlvbiIsInZhbGlkYXRlRW50aXR5TmFtZSIsImhhc0JvZHkiLCJjb21tZW50IiwiZXhwIiwicmVneCIsInJlbW92ZU5TUHJlZml4IiwicGFyc2VUYWdWYWx1ZSIsInBhcnNlQXR0cmlidXRlVmFsdWUiLCJ0cmltVmFsdWVzIiwibnVtYmVyUGFyc2VPcHRpb25zIiwiaGV4IiwibGVhZGluZ1plcm9zIiwiZU5vdGF0aW9uIiwiYWx3YXlzQ3JlYXRlVGV4dE5vZGUiLCJodG1sRW50aXRpZXMiLCJpZ25vcmVEZWNsYXJhdGlvbiIsImlnbm9yZVBpVGFncyIsInRyYW5zZm9ybVRhZ05hbWUiLCJ0cmFuc2Zvcm1BdHRyaWJ1dGVOYW1lIiwidXBkYXRlVGFnIiwiYXR0cnMiLCJidWlsZE9wdGlvbnMiLCJ4bWxOb2RlIiwicmVhZERvY1R5cGUiLCJ0b051bWJlciIsImFkZEV4dGVybmFsRW50aXRpZXMiLCJleHRlcm5hbEVudGl0aWVzIiwiZW50S2V5cyIsImVudCIsImxhc3RFbnRpdGllcyIsInBhcnNlVGV4dERhdGEiLCJkb250VHJpbSIsImhhc0F0dHJpYnV0ZXMiLCJpc0xlYWZOb2RlIiwiZXNjYXBlRW50aXRpZXMiLCJwYXJzZVZhbHVlIiwicmVzb2x2ZU5hbWVTcGFjZSIsInByZWZpeCIsImNoYXJBdCIsImF0dHJzUmVneCIsImJ1aWxkQXR0cmlidXRlc01hcCIsIm9sZFZhbCIsImFOYW1lIiwibmV3VmFsIiwiYXR0ckNvbGxlY3Rpb24iLCJwYXJzZVhtbCIsInhtbE9iaiIsImN1cnJlbnROb2RlIiwidGV4dERhdGEiLCJjbG9zZUluZGV4IiwiZmluZENsb3NpbmdJbmRleCIsImNvbG9uSW5kZXgiLCJzYXZlVGV4dFRvUGFyZW50VGFnIiwibGFzdFRhZ05hbWUiLCJwcm9wSW5kZXgiLCJ0YWdzTm9kZVN0YWNrIiwidGFnRGF0YSIsInJlYWRUYWdFeHAiLCJjaGlsZE5vZGUiLCJhZGQiLCJ0YWdFeHAiLCJhdHRyRXhwUHJlc2VudCIsImFkZENoaWxkIiwiZW5kSW5kZXgiLCJkb2NUeXBlRW50aXRpZXMiLCJsYXN0VGFnIiwiaXNJdFN0b3BOb2RlIiwidGFnQ29udGVudCIsInJlYWRTdG9wTm9kZURhdGEiLCJjaGlsZCIsImFtcEVudGl0eSIsImN1cnJlbnRUYWdOYW1lIiwiYWxsTm9kZXNFeHAiLCJzdG9wTm9kZVBhdGgiLCJzdG9wTm9kZUV4cCIsInN0ciIsImVyck1zZyIsImNsb3NpbmdJbmRleCIsImNsb3NpbmdDaGFyIiwiYXR0ckJvdW5kYXJ5IiwiY2giLCJ0YWdFeHBXaXRoQ2xvc2luZ0luZGV4Iiwic2VwYXJhdG9ySW5kZXgiLCJzZWFyY2giLCJvcGVuVGFnQ291bnQiLCJzaG91bGRQYXJzZSIsIk9yZGVyZWRPYmpQYXJzZXIiLCJwcmV0dGlmeSIsInBhcnNlIiwidmFsaWRhdGlvbk9wdGlvbiIsIm9yZGVyZWRPYmpQYXJzZXIiLCJvcmRlcmVkUmVzdWx0IiwiYWRkRW50aXR5IiwiY29tcHJlc3MiLCJ0ZXh0IiwiY29tcHJlc3NlZE9iaiIsInByb3BlcnR5IiwibmV3SnBhdGgiLCJpc0xlYWYiLCJpc0xlYWZUYWciLCJhc3NpZ25BdHRyaWJ1dGVzIiwianBhdGgiLCJhdHJyTmFtZSIsInByb3BDb3VudCIsImhleFJlZ2V4IiwibnVtUmVnZXgiLCJ3aW5kb3ciLCJwYXJzZUZsb2F0IiwiY29uc2lkZXIiLCJkZWNpbWFsUG9pbnQiLCJ0cmltbWVkU3RyIiwic2tpcExpa2UiLCJ0ZXN0Iiwic2lnbiIsIm51bVRyaW1tZWRCeVplcm9zIiwibnVtU3RyIiwicmVxdWlyZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkZWZpbml0aW9uIiwicHJvcCIsInRvU3RyaW5nVGFnIiwiSHR0cEF1dGhMb2NhdGlvbiIsIkVuZHBvaW50VVJMU2NoZW1lIiwiUmVxdWVzdEhhbmRsZXJQcm90b2NvbCIsIkZpZWxkUG9zaXRpb24iLCJob3N0bmFtZSIsInF1ZXJ5IiwicHJvdG9jb2wiLCJmcmFnbWVudCIsImNsb25lIiwiY2xvbmVkIiwicmVkdWNlIiwiY2FycnkiLCJwYXJhbSIsInN0YXR1c0NvZGUiLCJyZXNwb25zZSIsInJlc3AiLCJob3N0SGVhZGVyTWlkZGxld2FyZU9wdGlvbnMiLCJwcmlvcml0eSIsIm92ZXJyaWRlIiwiZ2V0SG9zdEhlYWRlclBsdWdpbiIsImFwcGx5VG9TdGFjayIsImNsaWVudFN0YWNrIiwiYXN5bmMiLCJpc0luc3RhbmNlIiwiaGFuZGxlclByb3RvY29sIiwicmVxdWVzdEhhbmRsZXIiLCJob3N0SGVhZGVyTWlkZGxld2FyZSIsImxvZ2dlck1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0TG9nZ2VyUGx1Z2luIiwiY29udGV4dCIsImNsaWVudE5hbWUiLCJjb21tYW5kTmFtZSIsImxvZ2dlciIsImR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zIiwib3ZlcnJpZGVJbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyIsIm92ZXJyaWRlT3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nIiwiaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2ciLCJvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2ciLCIkbWV0YWRhdGEiLCJvdXRwdXRXaXRob3V0TWV0YWRhdGEiLCJvdXRwdXQiLCJpbmZvIiwiVFJBQ0VfSURfSEVBREVSX05BTUUiLCJhZGRSZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlT3B0aW9ucyIsImdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiIsInJ1bnRpbWUiLCJmdW5jdGlvbk5hbWUiLCJlbnYiLCJ0cmFjZUlkIiwibm9uRW1wdHlTdHJpbmciLCJyZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlIiwibWVtb2l6ZSIsImlzRXhwaXJlZCIsInJlcXVpcmVzUmVmcmVzaCIsInJlc29sdmVkIiwicGVuZGluZyIsImhhc1Jlc3VsdCIsImlzQ29uc3RhbnQiLCJjb2FsZXNjZVByb3ZpZGVyIiwiZm9yY2VSZWZyZXNoIiwiU0hPUlRfVE9fSEVYIiwiSEVYX1RPX1NIT1JUIiwiZW5jb2RlZEJ5dGUiLCJ0b0xvd2VyQ2FzZSIsInRvSGV4Iiwib3V0IiwibnVtYmVyIiwicmVtYWluaW5nIiwiYWJzIiwicm91bmQiLCJuZWdhdGUiLCJ2YWx1ZU9mIiwibmVnYXRpdmUiLCJ0b1V0ZjgiLCJjaHVua3MiLCJoZWFkZXJOYW1lIiwiZm9ybWF0SGVhZGVyVmFsdWUiLCJwb3NpdGlvbiIsImNodW5rIiwic2hvcnRWaWV3IiwiRGF0YVZpZXciLCJzZXRVaW50OCIsInNldEludDE2IiwiaW50VmlldyIsInNldEludDMyIiwibG9uZ0J5dGVzIiwiYmluVmlldyIsInNldFVpbnQxNiIsImJpbkJ5dGVzIiwidXRmOEJ5dGVzIiwic3RyVmlldyIsInN0ckJ5dGVzIiwidHNCeXRlcyIsImZyb21OdW1iZXIiLCJVVUlEX1BBVFRFUk4iLCJ1dWlkQnl0ZXMiLCJmcm9tSGV4IiwibmFtZUxlbmd0aCIsImdldFVpbnQ4IiwiQk9PTEVBTl9UQUciLCJCWVRFX1RBRyIsImdldEludDgiLCJTSE9SVF9UQUciLCJnZXRJbnQxNiIsIklOVF9UQUciLCJnZXRJbnQzMiIsIkxPTkdfVEFHIiwiYmluYXJ5TGVuZ3RoIiwiZ2V0VWludDE2IiwiQklOQVJZX1RBRyIsInN0cmluZ0xlbmd0aCIsIlNUUklOR19UQUciLCJUSU1FU1RBTVBfVEFHIiwiVVVJRF9UQUciLCJzdWJhcnJheSIsIkhFQURFUl9WQUxVRV9UWVBFIiwicHJvbWlzaWZpZWQiLCJpc0FycmF5QnVmZmVyIiwiYXJnIiwib2Zmc2V0IiwiZnJvbVN0cmluZyIsImVuY29kaW5nIiwiYnVmIiwidG9VaW50OEFycmF5IiwiQU1aX0RBVEVfUVVFUllfUEFSQU0iLCJTSUdOQVRVUkVfUVVFUllfUEFSQU0iLCJUT0tFTl9RVUVSWV9QQVJBTSIsIkFVVEhfSEVBREVSIiwiQU1aX0RBVEVfSEVBREVSIiwiR0VORVJBVEVEX0hFQURFUlMiLCJTSUdOQVRVUkVfSEVBREVSIiwiU0hBMjU2X0hFQURFUiIsIlRPS0VOX0hFQURFUiIsIkFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMiLCJhdXRob3JpemF0aW9uIiwiZXhwZWN0IiwicHJhZ21hIiwicmVmZXJlciIsInRlIiwidHJhaWxlciIsInVwZ3JhZGUiLCJQUk9YWV9IRUFERVJfUEFUVEVSTiIsIlNFQ19IRUFERVJfUEFUVEVSTiIsIkFMR09SSVRITV9JREVOVElGSUVSIiwiRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIiLCJLRVlfVFlQRV9JREVOVElGSUVSIiwic2lnbmluZ0tleUNhY2hlIiwiY2FjaGVRdWV1ZSIsImNyZWF0ZVNjb3BlIiwic2hvcnREYXRlIiwiaG1hYyIsImN0b3IiLCJoYXNoIiwiZ2V0Q2Fub25pY2FsSGVhZGVycyIsInVuc2lnbmFibGVIZWFkZXJzIiwic2lnbmFibGVIZWFkZXJzIiwiY2Fub25pY2FsIiwic29ydCIsImNhbm9uaWNhbEhlYWRlck5hbWUiLCJlc2NhcGVVcmkiLCJ1cmkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoZXhFbmNvZGUiLCJ0b1VwcGVyQ2FzZSIsImdldFBheWxvYWRIYXNoIiwiaGFzaENvbnN0cnVjdG9yIiwiaGFzaEN0b3IiLCJjbG9uZVJlcXVlc3QiLCJyZXN0IiwicHJlcGFyZVJlcXVlc3QiLCJhcHBseUNoZWNrc3VtIiwiY3JlZGVudGlhbHMiLCJzaGEyNTYiLCJ1cmlFc2NhcGVQYXRoIiwiaGVhZGVyTWFyc2hhbGxlciIsInJlZ2lvblByb3ZpZGVyIiwiY3JlZGVudGlhbFByb3ZpZGVyIiwib3JpZ2luYWxSZXF1ZXN0Iiwic2lnbmluZ0RhdGUiLCJleHBpcmVzSW4iLCJ1bmhvaXN0YWJsZUhlYWRlcnMiLCJzaWduaW5nUmVnaW9uIiwic2lnbmluZ1NlcnZpY2UiLCJ2YWxpZGF0ZVJlc29sdmVkQ3JlZGVudGlhbHMiLCJsb25nRGF0ZSIsImZvcm1hdERhdGUiLCJzY29wZSIsImxuYW1lIiwibW92ZUhlYWRlcnNUb1F1ZXJ5Iiwic2Vzc2lvblRva2VuIiwiYWNjZXNzS2V5SWQiLCJjYW5vbmljYWxIZWFkZXJzIiwiZ2V0Q2Fub25pY2FsSGVhZGVyTGlzdCIsImdldFNpZ25hdHVyZSIsImdldFNpZ25pbmdLZXkiLCJjcmVhdGVDYW5vbmljYWxSZXF1ZXN0IiwidG9TaWduIiwic2lnblN0cmluZyIsInNpZ25FdmVudCIsInNpZ25NZXNzYWdlIiwic2lnblJlcXVlc3QiLCJwcmlvclNpZ25hdHVyZSIsImhhc2hlZFBheWxvYWQiLCJoYXNoZWRIZWFkZXJzIiwic3RyaW5nVG9TaWduIiwic2lnbmFibGVNZXNzYWdlIiwicmVxdWVzdFRvU2lnbiIsInBheWxvYWRIYXNoIiwic291Z2h0SGVhZGVyIiwiaGFzSGVhZGVyIiwic29ydGVkSGVhZGVycyIsImdldENhbm9uaWNhbFBhdGgiLCJzZXJpYWxpemVkIiwiZmlsdGVyIiwiZ2V0Q2Fub25pY2FsUXVlcnkiLCJjcmVkZW50aWFsU2NvcGUiLCJjYW5vbmljYWxSZXF1ZXN0IiwiaGFzaGVkUmVxdWVzdCIsIm5vcm1hbGl6ZWRQYXRoU2VnbWVudHMiLCJwYXRoU2VnbWVudCIsIm5vcm1hbGl6ZWRQYXRoIiwia2V5UHJvbWlzZSIsImNyZWF0ZVN0cmluZ1RvU2lnbiIsInNoYTI1NkNvbnN0cnVjdG9yIiwiY2FjaGVLZXkiLCJzZWNyZXRBY2Nlc3NLZXkiLCJzaWduYWJsZSIsIm5vdyIsInRpbWUiLCJ0b0RhdGUiLCJ0b0lTT1N0cmluZyIsInJlc29sdmVBd3NBdXRoQ29uZmlnIiwibm9ybWFsaXplZENyZWRzIiwibm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyIiwiY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciIsInNpZ25pbmdFc2NhcGVQYXRoIiwic3lzdGVtQ2xvY2tPZmZzZXQiLCJzaWduZXIiLCJyZWdpb25JbmZvUHJvdmlkZXIiLCJ1c2VGaXBzRW5kcG9pbnQiLCJ1c2VEdWFsc3RhY2tFbmRwb2ludCIsInJlZ2lvbkluZm8iLCJzaWduaW5nTmFtZSIsInNlcnZpY2VJZCIsInNpZ25lckNvbnN0cnVjdG9yIiwiYXV0aFNjaGVtZSIsImRlZmF1bHRTaWduaW5nTmFtZSIsInByb3BlcnRpZXMiLCJleHBpcmF0aW9uIiwiZ2V0U2tld0NvcnJlY3RlZERhdGUiLCJnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQiLCJjbG9ja1RpbWUiLCJjdXJyZW50U3lzdGVtQ2xvY2tPZmZzZXQiLCJjbG9ja1RpbWVJbk1zIiwiaXNDbG9ja1NrZXdlZCIsImdldERhdGVIZWFkZXIiLCJhd3NBdXRoTWlkZGxld2FyZU9wdGlvbnMiLCJyZWxhdGlvbiIsInRvTWlkZGxld2FyZSIsImdldEF3c0F1dGhQbHVnaW4iLCJhZGRSZWxhdGl2ZVRvIiwiZW5kcG9pbnRWMiIsImF1dGhTY2hlbWVzIiwibXVsdGlSZWdpb25PdmVycmlkZSIsInNpZ25pbmdSZWdpb25TZXQiLCJjYXRjaCIsInNlcnZlclRpbWUiLCJTZXJ2ZXJUaW1lIiwiJHJlc3BvbnNlIiwiZGF0ZUhlYWRlciIsImF3c0F1dGhNaWRkbGV3YXJlIiwicmVzb2x2ZVVzZXJBZ2VudENvbmZpZyIsImN1c3RvbVVzZXJBZ2VudCIsInNlbGVjdGVkUGFydGl0aW9uc0luZm8iLCJzZWxlY3RlZFVzZXJBZ2VudFByZWZpeCIsInBhcnRpdGlvbiIsInBhcnRpdGlvbnMiLCJyZWdpb25zIiwib3V0cHV0cyIsInJlZ2lvbkRhdGEiLCJlbnRyaWVzIiwicmVnaW9uUmVnZXgiLCJERUZBVUxUX1BBUlRJVElPTiIsImZpbmQiLCJzZXRQYXJ0aXRpb25JbmZvIiwicGFydGl0aW9uc0luZm8iLCJ1c2VyQWdlbnRQcmVmaXgiLCJ1c2VEZWZhdWx0UGFydGl0aW9uSW5mbyIsImdldFVzZXJBZ2VudFByZWZpeCIsImRlYnVnSWQiLCJ0b0RlYnVnU3RyaW5nIiwicmVmIiwiZm4iLCJhcmd2IiwiRW5kcG9pbnRFcnJvciIsIklQX1Y0X1JFR0VYIiwiaXNJcEFkZHJlc3MiLCJWQUxJRF9IT1NUX0xBQkVMX1JFR0VYIiwiaXNWYWxpZEhvc3RMYWJlbCIsImFsbG93U3ViRG9tYWlucyIsImxhYmVscyIsImlzVmlydHVhbEhvc3RhYmxlUzNCdWNrZXQiLCJwYXJzZUFybiIsInNlZ21lbnRzIiwiYXJuIiwiYWNjb3VudElkIiwicmVzb3VyY2VJZCIsImJvb2xlYW5FcXVhbHMiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJnZXRBdHRyIiwicGFydHMiLCJwYXRoTGlzdCIsInBhcnQiLCJzcXVhcmVCcmFja2V0SW5kZXgiLCJhcnJheUluZGV4IiwiaXNOYU4iLCJnZXRBdHRyUGF0aExpc3QiLCJhY2MiLCJpc1NldCIsIm5vdCIsIkhvc3RBZGRyZXNzVHlwZSIsIkRFRkFVTFRfUE9SVFMiLCJIVFRQIiwiSFRUUFMiLCJwYXJzZVVSTCIsIndoYXR3Z1VSTCIsIlVSTCIsInVybCIsInVybFN0cmluZyIsImhyZWYiLCJwYXRobmFtZSIsInNjaGVtZSIsInZhbHVlcyIsImlzSXAiLCJhdXRob3JpdHkiLCJzdHJpbmdFcXVhbHMiLCJyZXZlcnNlIiwidXJpRW5jb2RlIiwiZXZhbHVhdGVUZW1wbGF0ZSIsInRlbXBsYXRlIiwiZXZhbHVhdGVkVGVtcGxhdGVBcnIiLCJ0ZW1wbGF0ZUNvbnRleHQiLCJlbmRwb2ludFBhcmFtcyIsInJlZmVyZW5jZVJlY29yZCIsImN1cnJlbnRJbmRleCIsIm9wZW5pbmdCcmFjZUluZGV4IiwiY2xvc2luZ0JyYWNlSW5kZXgiLCJwYXJhbWV0ZXJOYW1lIiwicmVmTmFtZSIsImV2YWx1YXRlRXhwcmVzc2lvbiIsImtleU5hbWUiLCJjYWxsRnVuY3Rpb24iLCJnZXRSZWZlcmVuY2VWYWx1ZSIsImV2YWx1YXRlZEFyZ3MiLCJldmFsdWF0ZUNvbmRpdGlvbiIsImZuQXJncyIsImRlYnVnIiwidG9Bc3NpZ24iLCJldmFsdWF0ZUNvbmRpdGlvbnMiLCJjb25kaXRpb25zIiwiY29uZGl0aW9uc1JlZmVyZW5jZVJlY29yZCIsImNvbmRpdGlvbiIsImdldEVuZHBvaW50SGVhZGVycyIsImhlYWRlcktleSIsImhlYWRlclZhbCIsImhlYWRlclZhbEVudHJ5IiwicHJvY2Vzc2VkRXhwciIsImdldEVuZHBvaW50UHJvcGVydHkiLCJwcm9wZXJ0eUVudHJ5IiwiZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzIiwicHJvcGVydHlLZXkiLCJwcm9wZXJ0eVZhbCIsImdldEVuZHBvaW50VXJsIiwiZW5kcG9pbnRVcmwiLCJleHByZXNzaW9uIiwiZXZhbHVhdGVFbmRwb2ludFJ1bGUiLCJlbmRwb2ludFJ1bGUiLCJlbmRwb2ludFJ1bGVPcHRpb25zIiwiZXZhbHVhdGVFcnJvclJ1bGUiLCJlcnJvclJ1bGUiLCJldmFsdWF0ZVRyZWVSdWxlIiwidHJlZVJ1bGUiLCJydWxlcyIsImV2YWx1YXRlUnVsZXMiLCJydWxlIiwiZW5kcG9pbnRPclVuZGVmaW5lZCIsInJlc29sdmVFbmRwb2ludCIsInJ1bGVTZXRPYmplY3QiLCJwYXJhbWV0ZXJzIiwicGFyYW1zV2l0aERlZmF1bHQiLCJwYXJhbUtleSIsInBhcmFtRGVmYXVsdFZhbHVlIiwicmVxdWlyZWRQYXJhbXMiLCJyZXF1aXJlZCIsInJlcXVpcmVkUGFyYW0iLCJFbmRwb2ludCIsImdpdmVuRW5kcG9pbnQiLCJVU0VSX0FHRU5UIiwiWF9BTVpfVVNFUl9BR0VOVCIsIlVBX05BTUVfRVNDQVBFX1JFR0VYIiwiVUFfVkFMVUVfRVNDQVBFX1JFR0VYIiwiZXNjYXBlVXNlckFnZW50IiwidXNlckFnZW50UGFpciIsInByZWZpeFNlcGFyYXRvckluZGV4IiwidWFOYW1lIiwiZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMiLCJnZXRVc2VyQWdlbnRQbHVnaW4iLCJ1c2VyQWdlbnQiLCJkZWZhdWx0VXNlckFnZW50IiwiZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyIiwic2RrVXNlckFnZW50VmFsdWUiLCJub3JtYWxVQVZhbHVlIiwic2VjdGlvbiIsIlNlbGVjdG9yVHlwZSIsImJvb2xlYW5TZWxlY3RvciIsIk5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyIsImVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvciIsIkVOViIsImNvbmZpZ0ZpbGVTZWxlY3RvciIsInByb2ZpbGUiLCJDT05GSUciLCJOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TIiwiTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMiLCJOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TIiwicHJlZmVycmVkRmlsZSIsImlzRmlwc1JlZ2lvbiIsImdldFJlYWxSZWdpb24iLCJyZXNvbHZlUmVnaW9uQ29uZmlnIiwicHJvdmlkZWRSZWdpb24iLCJDT05URU5UX0xFTkdUSF9IRUFERVIiLCJjb250ZW50TGVuZ3RoTWlkZGxld2FyZU9wdGlvbnMiLCJnZXRDb250ZW50TGVuZ3RoUGx1Z2luIiwiYm9keUxlbmd0aENoZWNrZXIiLCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uIiwic2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24iLCJnZXRTZXJkZVBsdWdpbiIsInNlcmlhbGl6ZXIiLCJkZXNlcmlhbGl6ZXIiLCJjb21tYW5kU3RhY2siLCJoaW50IiwiZGVzZXJpYWxpemVyTWlkZGxld2FyZSIsInVybFBhcnNlciIsInNlcmlhbGl6ZXJNaWRkbGV3YXJlIiwiRE9NQUlOX1BBVFRFUk4iLCJJUF9BRERSRVNTX1BBVFRFUk4iLCJET1RTX1BBVFRFUk4iLCJjcmVhdGVDb25maWdWYWx1ZVByb3ZpZGVyIiwiY29uZmlnS2V5IiwiY2Fub25pY2FsRW5kcG9pbnRQYXJhbUtleSIsImNvbmZpZ1Byb3ZpZGVyIiwiY29uZmlnVmFsdWUiLCJyZXNvbHZlUGFyYW1zIiwiY29tbWFuZElucHV0IiwiaW5zdHJ1Y3Rpb25zU3VwcGxpZXIiLCJjbGllbnRDb25maWciLCJpbnN0cnVjdGlvbnMiLCJnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucyIsImluc3RydWN0aW9uIiwiYnVja2V0IiwiQnVja2V0IiwiYnVja2V0TmFtZSIsImFjY291bnQiLCJ0eXBlT3JJZCIsImlzQXJuIiwiaXNWYWxpZEFybiIsIkJvb2xlYW4iLCJpc0FybkJ1Y2tldE5hbWUiLCJGb3JjZVBhdGhTdHlsZSIsIkRpc2FibGVNdWx0aVJlZ2lvbkFjY2Vzc1BvaW50cyIsImRpc2FibGVNdWx0aVJlZ2lvbkFjY2Vzc1BvaW50cyIsIkRpc2FibGVNUkFQIiwicmVzb2x2ZVBhcmFtc0ZvclMzIiwiZW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyIsImdldEVuZHBvaW50UGx1Z2luIiwiZW5kcG9pbnRQcm92aWRlciIsImdldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucyIsImVuZHBvaW50TWlkZGxld2FyZSIsInBhcnNlVXJsIiwicXVlcnlzdHJpbmciLCJwYWlyIiwicGFyc2VRdWVyeVN0cmluZyIsInJlc29sdmVFbmRwb2ludENvbmZpZyIsInRscyIsImN1c3RvbUVuZHBvaW50UHJvdmlkZXIiLCJ0b0VuZHBvaW50VjEiLCJpc0N1c3RvbUVuZHBvaW50IiwiUkVUUllfTU9ERVMiLCJERUZBVUxUX1JFVFJZX01PREUiLCJTVEFOREFSRCIsIlRIUk9UVExJTkdfRVJST1JfQ09ERVMiLCJUUkFOU0lFTlRfRVJST1JfQ09ERVMiLCJUUkFOU0lFTlRfRVJST1JfU1RBVFVTX0NPREVTIiwiTk9ERUpTX1RJTUVPVVRfRVJST1JfQ09ERVMiLCJodHRwU3RhdHVzQ29kZSIsIiRyZXRyeWFibGUiLCJ0aHJvdHRsaW5nIiwiaXNUcmFuc2llbnRFcnJvciIsImN1cnJlbnRDYXBhY2l0eSIsImVuYWJsZWQiLCJsYXN0TWF4UmF0ZSIsIm1lYXN1cmVkVHhSYXRlIiwicmVxdWVzdENvdW50IiwibGFzdFRpbWVzdGFtcCIsInRpbWVXaW5kb3ciLCJiZXRhIiwibWluQ2FwYWNpdHkiLCJtaW5GaWxsUmF0ZSIsInNjYWxlQ29uc3RhbnQiLCJzbW9vdGgiLCJjdXJyZW50VGltZUluU2Vjb25kcyIsImdldEN1cnJlbnRUaW1lSW5TZWNvbmRzIiwibGFzdFRocm90dGxlVGltZSIsImxhc3RUeFJhdGVCdWNrZXQiLCJmbG9vciIsImZpbGxSYXRlIiwibWF4Q2FwYWNpdHkiLCJhY3F1aXJlVG9rZW5CdWNrZXQiLCJhbW91bnQiLCJyZWZpbGxUb2tlbkJ1Y2tldCIsImRlbGF5Iiwic2V0VGltZW91dCIsInRpbWVzdGFtcCIsImZpbGxBbW91bnQiLCJ1cGRhdGVDbGllbnRTZW5kaW5nUmF0ZSIsImNhbGN1bGF0ZWRSYXRlIiwidXBkYXRlTWVhc3VyZWRSYXRlIiwicmF0ZVRvVXNlIiwiY2FsY3VsYXRlVGltZVdpbmRvdyIsImN1YmljVGhyb3R0bGUiLCJlbmFibGVUb2tlbkJ1Y2tldCIsImN1YmljU3VjY2VzcyIsIm5ld1JhdGUiLCJ1cGRhdGVUb2tlbkJ1Y2tldFJhdGUiLCJnZXRQcmVjaXNlIiwicG93IiwidGltZUJ1Y2tldCIsImN1cnJlbnRSYXRlIiwidG9GaXhlZCIsImNyZWF0ZURlZmF1bHRSZXRyeVRva2VuIiwicmV0cnlEZWxheSIsInJldHJ5Q291bnQiLCJyZXRyeUNvc3QiLCJnZXRSZXRyeUNvdW50IiwiZ2V0UmV0cnlEZWxheSIsImdldFJldHJ5Q29zdCIsIm1heEF0dGVtcHRzIiwibW9kZSIsImNhcGFjaXR5IiwicmV0cnlCYWNrb2ZmU3RyYXRlZ3kiLCJkZWxheUJhc2UiLCJjb21wdXRlTmV4dEJhY2tvZmZEZWxheSIsImF0dGVtcHRzIiwicmFuZG9tIiwic2V0RGVsYXlCYXNlIiwiZ2V0RGVmYXVsdFJldHJ5QmFja29mZlN0cmF0ZWd5IiwibWF4QXR0ZW1wdHNQcm92aWRlciIsInJldHJ5VG9rZW5TY29wZSIsInRva2VuIiwiZXJyb3JJbmZvIiwiZ2V0TWF4QXR0ZW1wdHMiLCJzaG91bGRSZXRyeSIsImVycm9yVHlwZSIsImRlbGF5RnJvbUVycm9yVHlwZSIsInJldHJ5QWZ0ZXJIaW50IiwiY2FwYWNpdHlDb3N0IiwiZ2V0Q2FwYWNpdHlDb3N0IiwicmVjb3JkU3VjY2VzcyIsImdldENhcGFjaXR5Iiwid2FybiIsInRva2VuVG9SZW5ldyIsImlzUmV0cnlhYmxlRXJyb3IiLCJBZGFwdGl2ZVJldHJ5U3RyYXRlZ3kiLCJBREFQVElWRSIsInJhdGVMaW1pdGVyIiwic3RhbmRhcmRSZXRyeVN0cmF0ZWd5IiwiZ2V0U2VuZFRva2VuIiwiYWNxdWlyZUluaXRpYWxSZXRyeVRva2VuIiwicmVmcmVzaFJldHJ5VG9rZW5Gb3JSZXRyeSIsIkVOVl9NQVhfQVRURU1QVFMiLCJDT05GSUdfTUFYX0FUVEVNUFRTIiwiTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyIsIm1heEF0dGVtcHQiLCJyZXNvbHZlUmV0cnlDb25maWciLCJyZXRyeVN0cmF0ZWd5IiwicmV0cnlNb2RlIiwiTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIiwicm5kczhQb29sIiwicG9vbFB0ciIsInJuZyIsImJ5dGVUb0hleCIsInV1aWQiLCJybmRzIiwiZ2V0UmV0cnlFcnJvckluZm8iLCJnZXRSZXRyeUVycm9yVHlwZSIsImdldFJldHJ5QWZ0ZXJIaW50IiwiaXNTZXJ2ZXJFcnJvciIsInJldHJ5TWlkZGxld2FyZU9wdGlvbnMiLCJnZXRSZXRyeVBsdWdpbiIsImlzUmV0cnlTdHJhdGVneVYyIiwicmV0cnkiLCJyZXRyeVRva2VuIiwibGFzdEVycm9yIiwidG90YWxSZXRyeURlbGF5IiwicmV0cnlFcnJvckluZm8iLCJyZWZyZXNoRXJyb3IiLCJyZXRyeU1pZGRsZXdhcmUiLCJyZXRyeUFmdGVySGVhZGVyTmFtZSIsInJldHJ5QWZ0ZXIiLCJyZXRyeUFmdGVyU2Vjb25kcyIsIk5vT3BMb2dnZXIiLCJ0cmFjZSIsImNvbnN0cnVjdFN0YWNrIiwiYWJzb2x1dGVFbnRyaWVzIiwicmVsYXRpdmVFbnRyaWVzIiwiZW50cmllc05hbWVTZXQiLCJTZXQiLCJjbG9uZVRvIiwidG9TdGFjayIsImVudHJ5IiwibWlkZGxld2FyZSIsImV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QiLCJleHBhbmRlZE1pZGRsZXdhcmVMaXN0IiwiYmVmb3JlIiwiYWZ0ZXIiLCJnZXRNaWRkbGV3YXJlTGlzdCIsIm5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMiLCJub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzIiwibm9ybWFsaXplZEVudHJpZXNOYW1lTWFwIiwibm9ybWFsaXplZEVudHJ5IiwibWFpbkNoYWluIiwic3RlcFdlaWdodHMiLCJwcmlvcml0eVdlaWdodHMiLCJ3aG9sZUxpc3QiLCJzdGFjayIsInRvT3ZlcnJpZGVJbmRleCIsImZpbmRJbmRleCIsInRvT3ZlcnJpZGUiLCJzcGxpY2UiLCJ1c2UiLCJwbHVnaW4iLCJyZW1vdmUiLCJ0b1JlbW92ZSIsImlzUmVtb3ZlZCIsImZpbHRlckNiIiwicmVtb3ZlQnlOYW1lIiwicmVtb3ZlQnlSZWZlcmVuY2UiLCJyZW1vdmVCeVRhZyIsImlkZW50aWZ5IiwibXciLCJoYW5kbGVyIiwiaW5pdGlhbGl6ZSIsInNlcmlhbGl6ZSIsImZpbmFsaXplUmVxdWVzdCIsImRlc2VyaWFsaXplIiwiaGlnaCIsIm5vcm1hbCIsImxvdyIsIkNsaWVudCIsIm1pZGRsZXdhcmVTdGFjayIsInNlbmQiLCJjb21tYW5kIiwib3B0aW9uc09yQ2IiLCJjYiIsImNhbGxiYWNrIiwicmVzb2x2ZU1pZGRsZXdhcmUiLCJkZXN0cm95IiwiQkFTRTY0X1JFR0VYIiwiZnJvbUJhc2U2NCIsInRvQmFzZTY0IiwiVWludDhBcnJheUJsb2JBZGFwdGVyIiwibXV0YXRlIiwidHJhbnNmb3JtRnJvbVN0cmluZyIsInRyYW5zZm9ybVRvU3RyaW5nIiwidHJhbnNmb3JtZWRIZWFkZXJzIiwiaGVhZGVyVmFsdWVzIiwiTm9kZUh0dHBIYW5kbGVyIiwiX29wdGlvbnMiLCJyZXNvbHZlRGVmYXVsdENvbmZpZyIsInJlcXVlc3RUaW1lb3V0IiwiY29ubmVjdGlvblRpbWVvdXQiLCJzb2NrZXRUaW1lb3V0IiwiaHR0cEFnZW50IiwiaHR0cHNBZ2VudCIsImtlZXBBbGl2ZSIsIm1heFNvY2tldHMiLCJhYm9ydFNpZ25hbCIsIl9yZXNvbHZlIiwid3JpdGVSZXF1ZXN0Qm9keVByb21pc2UiLCJhYm9ydGVkIiwiYWJvcnRFcnJvciIsImlzU1NMIiwicXVlcnlTdHJpbmciLCJpTGVuIiwicXNFbnRyeSIsIm5vZGVIdHRwc09wdGlvbnMiLCJhZ2VudCIsInJlcyIsInN0YXR1c01lc3NhZ2UiLCJ0aW1lb3V0SW5NcyIsInRpbWVvdXRJZCIsInNvY2tldCIsImNvbm5lY3RpbmciLCJjbGVhclRpbWVvdXQiLCJzZXRDb25uZWN0aW9uVGltZW91dCIsInNldFNvY2tldFRpbWVvdXQiLCJvbmFib3J0IiwiYWJvcnQiLCJrZWVwQWxpdmVNc2VjcyIsInNldEtlZXBBbGl2ZSIsInNldFNvY2tldEtlZXBBbGl2ZSIsImh0dHBSZXF1ZXN0IiwibWF4Q29udGludWVUaW1lb3V0TXMiLCJoYXNFcnJvciIsInJhY2UiLCJSZWFkYWJsZSIsInBpcGUiLCJlbmQiLCJ3cml0ZUJvZHkiLCJDb2xsZWN0b3IiLCJXcml0YWJsZSIsImJ1ZmZlcmVkQnl0ZXMiLCJfd3JpdGUiLCJjb2xsZWN0b3IiLCJzdHJlYW1Cb2R5IiwiZnJvbUNvbnRleHQiLCJzdHJlYW1Db2xsZWN0b3IiLCJDb21tYW5kIiwiZXhwZWN0TnVtYmVyIiwicGFyc2VkIiwic3RhY2tUcmFjZVdhcm5pbmciLCJNQVhfRkxPQVQiLCJjZWlsIiwiZXhwZWN0SW50MzIiLCJleHBlY3RTaXplZEludCIsInNpemUiLCJleHBlY3RlZCIsImlzSW50ZWdlciIsImV4cGVjdExvbmciLCJjYXN0SW50IiwiSW50MzJBcnJheSIsIm9mIiwiSW50MTZBcnJheSIsIkludDhBcnJheSIsImV4cGVjdE5vbk51bGwiLCJsb2NhdGlvbiIsImV4cGVjdE9iamVjdCIsInJlY2VpdmVkVHlwZSIsImV4cGVjdFN0cmluZyIsIk5VTUJFUl9SRUdFWCIsInBhcnNlTnVtYmVyIiwic3RyaWN0UGFyc2VJbnQzMiIsIk1PTlRIUyIsIlJGQzMzMzlfV0lUSF9PRkZTRVQiLCJwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQiLCJ5ZWFyU3RyIiwibW9udGhTdHIiLCJkYXlTdHIiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyIsIm9mZnNldFN0ciIsInllYXIiLCJleHBlY3RTaG9ydCIsInN0cmlwTGVhZGluZ1plcm9lcyIsIm1vbnRoIiwicGFyc2VEYXRlVmFsdWUiLCJkYXkiLCJidWlsZERhdGUiLCJzZXRUaW1lIiwicGFyc2VPZmZzZXRUb01pbGxpc2Vjb25kcyIsImFkanVzdGVkTW9udGgiLCJ2YWxpZGF0ZURheU9mTW9udGgiLCJVVEMiLCJwYXJzZU1pbGxpc2Vjb25kcyIsIkRBWVNfSU5fTU9OVEgiLCJtYXhEYXlzIiwiaXNMZWFwWWVhciIsImxvd2VyIiwidXBwZXIiLCJkYXRlVmFsIiwiZXhwZWN0Qnl0ZSIsInN0cmljdFBhcnNlQnl0ZSIsIkluZmluaXR5IiwiZXhwZWN0RmxvYXQzMiIsInN0cmljdFBhcnNlRmxvYXQzMiIsImRpcmVjdGlvblN0ciIsImRpcmVjdGlvbiIsImlkeCIsIlNlcnZpY2VFeGNlcHRpb24iLCIkZmF1bHQiLCJkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24iLCJleGNlcHRpb24iLCJhZGRpdGlvbnMiLCJNZXNzYWdlIiwid2l0aEJhc2VFeGNlcHRpb24iLCJFeGNlcHRpb25DdG9yIiwicGFyc2VkQm9keSIsImV4Y2VwdGlvbkN0b3IiLCJkZXNlcmlhbGl6ZU1ldGFkYXRhIiwiQ29kZSIsInRocm93RGVmYXVsdEVycm9yIiwicmVxdWVzdElkIiwiZXh0ZW5kZWRSZXF1ZXN0SWQiLCJjZklkIiwibG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSIsIndhcm5pbmdFbWl0dGVkIiwiZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiIsImV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0VmFsdWVGcm9tVGV4dE5vZGUiLCJTdHJpbmdXcmFwcGVyIiwiQ2xhc3MiLCJnZXRQcm90b3R5cGVPZiIsImluc3RhbmNlIiwiRnVuY3Rpb24iLCJhcmcwIiwiYXJnMSIsImFyZzIiLCJtYXBXaXRoRmlsdGVyIiwiYXBwbHlJbnN0cnVjdGlvbiIsIl9pbnN0cnVjdGlvbnMiLCJ0YXJnZXRLZXkiLCJub25OdWxsaXNoIiwidmFsdWVGbiIsInBhc3MiLCJzb3VyY2VLZXkiLCJfdmFsdWUiLCJkZWZhdWx0RmlsdGVyUGFzc2VkIiwiY3VzdG9tRmlsdGVyUGFzc2VkIiwicmVzb2x2ZWRQYXRoIiwibWVtYmVyTmFtZSIsImxhYmVsVmFsdWVQcm92aWRlciIsInVyaUxhYmVsIiwiaXNHcmVlZHlMYWJlbCIsImxhYmVsVmFsdWUiLCJzZWdtZW50Iiwic2VyaWFsaXplRmxvYXQiLCJTVFNTZXJ2aWNlRXhjZXB0aW9uIiwiRXhwaXJlZFRva2VuRXhjZXB0aW9uIiwib3B0cyIsIk1hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uIiwiUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24iLCJSZWdpb25EaXNhYmxlZEV4Y2VwdGlvbiIsIklEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24iLCJJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbiIsIklEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvbiIsIkNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nIiwiU2VjcmV0QWNjZXNzS2V5IiwiQXNzdW1lUm9sZVJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nIiwiQ3JlZGVudGlhbHMiLCJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyIsIldlYklkZW50aXR5VG9rZW4iLCJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2ciLCJkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMiLCJwYXJzZWRPdXRwdXQiLCJkZXNlcmlhbGl6ZWQiLCJkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb24iLCJkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb25SZXMiLCJkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24iLCJkZV9JRFBSZWplY3RlZENsYWltRXhjZXB0aW9uUmVzIiwiZGVfSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvbiIsImRlX0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24iLCJkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyIsImRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uIiwiZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25SZXMiLCJkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiIsImRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uUmVzIiwiZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24iLCJzZV9Bc3N1bWVSb2xlUmVxdWVzdCIsIlJvbGVBcm4iLCJSb2xlU2Vzc2lvbk5hbWUiLCJQb2xpY3lBcm5zIiwibWVtYmVyRW50cmllcyIsInNlX3BvbGljeURlc2NyaXB0b3JMaXN0VHlwZSIsIlBvbGljeSIsIkR1cmF0aW9uU2Vjb25kcyIsIlRhZ3MiLCJzZV90YWdMaXN0VHlwZSIsIlRyYW5zaXRpdmVUYWdLZXlzIiwic2VfdGFnS2V5TGlzdFR5cGUiLCJFeHRlcm5hbElkIiwiU2VyaWFsTnVtYmVyIiwiVG9rZW5Db2RlIiwiU291cmNlSWRlbnRpdHkiLCJzZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdCIsIlByb3ZpZGVySWQiLCJjb3VudGVyIiwic2VfUG9saWN5RGVzY3JpcHRvclR5cGUiLCJzZV9UYWciLCJLZXkiLCJWYWx1ZSIsImRlX0Fzc3VtZWRSb2xlVXNlciIsImNvbnRlbnRzIiwiQXNzdW1lZFJvbGVJZCIsIkFybiIsImRlX0NyZWRlbnRpYWxzIiwiQWNjZXNzS2V5SWQiLCJTZXNzaW9uVG9rZW4iLCJFeHBpcmF0aW9uIiwiYnVpbGRIdHRwUnBjUmVxdWVzdCIsInJlc29sdmVkSG9zdG5hbWUiLCJiYXNlUGF0aCIsIlNIQVJFRF9IRUFERVJTIiwicGFyc2VCb2R5IiwidXRmOEVuY29kZXIiLCJjb2xsZWN0Qm9keVN0cmluZyIsInBhcnNlciIsInBhcnNlZE9iaiIsInBhcnNlZE9ialRvUmV0dXJuIiwicGFyc2VFcnJvckJvZHkiLCJlcnJvckJvZHkiLCJidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nIiwiZm9ybUVudHJpZXMiLCJsb2FkUXVlcnlFcnJvckNvZGUiLCJBc3N1bWVSb2xlQ29tbWFuZCIsIlVzZUdsb2JhbEVuZHBvaW50IiwiVXNlRklQUyIsIlJlZ2lvbiIsIlVzZUR1YWxTdGFjayIsImNvbmZpZ3VyYXRpb24iLCJoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCIsIkFjdGlvbiIsIlZlcnNpb24iLCJzZV9Bc3N1bWVSb2xlQ29tbWFuZCIsImRlX0Fzc3VtZVJvbGVDb21tYW5kRXJyb3IiLCJBc3N1bWVkUm9sZVVzZXIiLCJQYWNrZWRQb2xpY3lTaXplIiwiZGVfQXNzdW1lUm9sZVJlc3BvbnNlIiwiQXNzdW1lUm9sZVJlc3VsdCIsImRlX0Fzc3VtZVJvbGVDb21tYW5kIiwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQiLCJzZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCIsImRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kRXJyb3IiLCJTdWJqZWN0RnJvbVdlYklkZW50aXR5VG9rZW4iLCJQcm92aWRlciIsIkF1ZGllbmNlIiwiZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3BvbnNlIiwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3VsdCIsImRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kIiwiQVNTVU1FX1JPTEVfREVGQVVMVF9SRUdJT04iLCJkZWNvcmF0ZURlZmF1bHRSZWdpb24iLCJnZXREZWZhdWx0Um9sZUFzc3VtZXIiLCJzdHNPcHRpb25zIiwic3RzQ2xpZW50Q3RvciIsInN0c0NsaWVudCIsImNsb3N1cmVTb3VyY2VDcmVkcyIsInNvdXJjZUNyZWRzIiwiZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5IiwiUHJvdmlkZXJFcnJvciIsInRyeU5leHRMaW5rIiwiQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIiwiZnJvbUVudiIsImV4cGlyeSIsImdldEhvbWVEaXIiLCJIT01FIiwiVVNFUlBST0ZJTEUiLCJIT01FUEFUSCIsIkhPTUVEUklWRSIsInNlcCIsImhvbWVkaXIiLCJFTlZfUFJPRklMRSIsImdldFByb2ZpbGVOYW1lIiwiaW5pdCIsImdldFNTT1Rva2VuRmlsZXBhdGgiLCJjYWNoZU5hbWUiLCJjcmVhdGVIYXNoIiwicmVhZEZpbGUiLCJnZXRTU09Ub2tlbkZyb21GaWxlIiwic3NvVG9rZW5GaWxlcGF0aCIsInNzb1Rva2VuVGV4dCIsImdldENvbmZpZ0ZpbGVwYXRoIiwiZ2V0Q3JlZGVudGlhbHNGaWxlcGF0aCIsInByb2ZpbGVLZXlSZWdleCIsImdldFByb2ZpbGVEYXRhIiwicHJvZmlsZU5hbWVCbG9ja0xpc3QiLCJwYXJzZUluaSIsImluaURhdGEiLCJjdXJyZW50U2VjdGlvbiIsImluZGV4T2ZFcXVhbHNTaWduIiwiZmlsZVByb21pc2VzSGFzaCIsInNsdXJwRmlsZSIsImlnbm9yZUNhY2hlIiwic3dhbGxvd0Vycm9yIiwibG9hZFNoYXJlZENvbmZpZ0ZpbGVzIiwiZmlsZXBhdGgiLCJjb25maWdGaWxlcGF0aCIsInBhcnNlZEZpbGVzIiwiYWxsIiwiY29uZmlnRmlsZSIsImNyZWRlbnRpYWxzRmlsZSIsInNzb1Nlc3Npb25LZXlSZWdleCIsImdldFNzb1Nlc3Npb25EYXRhIiwibG9hZFNzb1Nlc3Npb25EYXRhIiwicGFyc2VLbm93bkZpbGVzIiwiZmlsZXMiLCJtZXJnZWQiLCJmaWxlIiwibWVyZ2VDb25maWdGaWxlcyIsImlzSW1kc0NyZWRlbnRpYWxzIiwiVG9rZW4iLCJmcm9tSW1kc0NyZWRlbnRpYWxzIiwiY3JlZHMiLCJwcm92aWRlckNvbmZpZ0Zyb21Jbml0IiwibWF4UmV0cmllcyIsInRpbWVvdXQiLCJ0b1JldHJ5IiwiRU5WX0NNRFNfRlVMTF9VUkkiLCJFTlZfQ01EU19SRUxBVElWRV9VUkkiLCJFTlZfQ01EU19BVVRIX1RPS0VOIiwiZnJvbUNvbnRhaW5lck1ldGFkYXRhIiwicmVxdWVzdE9wdGlvbnMiLCJnZXRDbWRzVXJpIiwiY3JlZHNSZXNwb25zZSIsInJlcXVlc3RGcm9tRWNzSW1kcyIsIkF1dGhvcml6YXRpb24iLCJHUkVFTkdSQVNTX0hPU1RTIiwibG9jYWxob3N0IiwiR1JFRU5HUkFTU19QUk9UT0NPTFMiLCJjaGFpbiIsInByb3ZpZGVycyIsImxvYWRDb25maWciLCJkZWZhdWx0VmFsdWUiLCJlbnZWYXJTZWxlY3RvciIsImNvbmZpZ1NlbGVjdG9yIiwicHJvZmlsZUZyb21DcmVkZW50aWFscyIsInByb2ZpbGVGcm9tQ29uZmlnIiwibWVyZ2VkUHJvZmlsZSIsImZyb21TaGFyZWRDb25maWdGaWxlcyIsImlzRnVuY3Rpb24iLCJzdGF0aWNWYWx1ZSIsIkVORFBPSU5UX0NPTkZJR19PUFRJT05TIiwiRW5kcG9pbnRNb2RlIiwiRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyIsIklQdjQiLCJnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQiLCJnZXRGcm9tRW5kcG9pbnRDb25maWciLCJnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnIiwiZW5kcG9pbnRNb2RlIiwiSVB2NiIsImdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzIiwicmVmcmVzaEludGVydmFsIiwibmV3RXhwaXJhdGlvbiIsIm9yaWdpbmFsRXhwaXJhdGlvbiIsIklNRFNfUEFUSCIsImZyb21JbnN0YW5jZU1ldGFkYXRhIiwicGFzdENyZWRlbnRpYWxzIiwic3RhdGljU3RhYmlsaXR5UHJvdmlkZXIiLCJnZXRJbnN0YW5jZUltZHNQcm92aWRlciIsImRpc2FibGVGZXRjaFRva2VuIiwiZ2V0Q3JlZGVudGlhbHMiLCJnZXRQcm9maWxlIiwiZ2V0Q3JlZGVudGlhbHNGcm9tUHJvZmlsZSIsImdldE1ldGFkYXRhVG9rZW4iLCJmcm9tUHJvY2VzcyIsInByb2ZpbGVzIiwicHJvZmlsZU5hbWUiLCJjcmVkZW50aWFsUHJvY2VzcyIsImV4ZWNQcm9taXNlIiwicHJvbWlzaWZ5Iiwic3Rkb3V0IiwiY3VycmVudFRpbWUiLCJnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMiLCJyZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzIiwiaXNTc29Qcm9maWxlIiwic3NvX3N0YXJ0X3VybCIsInNzb19hY2NvdW50X2lkIiwic3NvX3Nlc3Npb24iLCJzc29fcmVnaW9uIiwic3NvX3JvbGVfbmFtZSIsImNsaWVudFZlcnNpb24iLCJzZWN0aW9ucyIsImNydEF2YWlsYWJsZSIsImlzQ3J0QXZhaWxhYmxlIiwiQVdTX0VYRUNVVElPTl9FTlYiLCJhcHBJZFByb21pc2UiLCJyZXNvbHZlZFVzZXJBZ2VudCIsImFwcElkIiwiYWxnb3JpdGhtSWRlbnRpZmllciIsImNhc3RTb3VyY2VEYXRhIiwiY3JlYXRlSG1hYyIsInRvQ2FzdCIsImNhbGN1bGF0ZUJvZHlMZW5ndGgiLCJsc3RhdFN5bmMiLCJmZCIsImZzdGF0U3luYyIsImgiLCJsIiwicnVsZVNldCIsImRlZmF1bHRFbmRwb2ludFJlc29sdmVyIiwiQVdTX1JFR0lPTl9FTlYiLCJBV1NfREVGQVVMVF9SRUdJT05fRU5WIiwiREVGQVVMVFNfTU9ERV9PUFRJT05TIiwiTk9ERV9ERUZBVUxUU19NT0RFX0NPTkZJR19PUFRJT05TIiwicmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyIsImRlZmF1bHRzTW9kZSIsInJlc29sdmVOb2RlRGVmYXVsdHNNb2RlQXV0byIsInRvTG9jYWxlTG93ZXJDYXNlIiwiY2xpZW50UmVnaW9uIiwicmVzb2x2ZWRSZWdpb24iLCJpbmZlcnJlZFJlZ2lvbiIsImluZmVyUGh5c2ljYWxSZWdpb24iLCJTU09DbGllbnQiLCJfY29uZmlnXzEiLCJkZWZhdWx0Q29uZmlnUHJvdmlkZXIiLCJjbGllbnRTaGFyZWRWYWx1ZXMiLCJhcGlWZXJzaW9uIiwiYmFzZTY0RGVjb2RlciIsImJhc2U2NEVuY29kZXIiLCJkaXNhYmxlSG9zdFByZWZpeCIsInV0ZjhEZWNvZGVyIiwiX2NvbmZpZ18yIiwiX2NvbmZpZ18zIiwiX2NvbmZpZ182IiwiU1NPU2VydmljZUV4Y2VwdGlvbiIsIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZEV4Y2VwdGlvbiIsIkdldFJvbGVDcmVkZW50aWFsc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2ciLCJhY2Nlc3NUb2tlbiIsIlJvbGVDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyIsIkdldFJvbGVDcmVkZW50aWFsc1Jlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nIiwicm9sZUNyZWRlbnRpYWxzIiwiZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMiLCJkb2MiLCJkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzIiwiZGVfVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uUmVzIiwiZGVfVW5hdXRob3JpemVkRXhjZXB0aW9uUmVzIiwiaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJsb2FkUmVzdEpzb25FcnJvckNvZGUiLCJzYW5pdGl6ZUVycm9yQ29kZSIsInJhd1ZhbHVlIiwiY2xlYW5WYWx1ZSIsIkdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQiLCJyb2xlX25hbWUiLCJyb2xlTmFtZSIsImFjY291bnRfaWQiLCJzZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kIiwiZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZEVycm9yIiwiZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCIsIlRva2VuUHJvdmlkZXJFcnJvciIsIlJFRlJFU0hfTUVTU0FHRSIsIlNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIiwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbiIsIkludGVybmFsU2VydmVyRXhjZXB0aW9uIiwiSW52YWxpZENsaWVudEV4Y2VwdGlvbiIsIkludmFsaWRHcmFudEV4Y2VwdGlvbiIsIkludmFsaWRTY29wZUV4Y2VwdGlvbiIsIlNsb3dEb3duRXhjZXB0aW9uIiwiVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uIiwiVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb24iLCJkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMiLCJkZV9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblJlcyIsImRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRHcmFudEV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRTY29wZUV4Y2VwdGlvblJlcyIsImRlX1Nsb3dEb3duRXhjZXB0aW9uUmVzIiwiZGVfVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uUmVzIiwiZGVfVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb25SZXMiLCJDcmVhdGVUb2tlbkNvbW1hbmQiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsImRldmljZUNvZGUiLCJncmFudFR5cGUiLCJyZWRpcmVjdFVyaSIsInJlZnJlc2hUb2tlbiIsInNlX0NyZWF0ZVRva2VuQ29tbWFuZCIsImRlX0NyZWF0ZVRva2VuQ29tbWFuZEVycm9yIiwiaWRUb2tlbiIsInRva2VuVHlwZSIsImRlX0NyZWF0ZVRva2VuQ29tbWFuZCIsIlNTT09JRENDbGllbnQiLCJzc29PaWRjQ2xpZW50c0hhc2giLCJ2YWxpZGF0ZVRva2VuRXhwaXJ5IiwidmFsaWRhdGVUb2tlbktleSIsImZvclJlZnJlc2giLCJ3cml0ZUZpbGUiLCJsYXN0UmVmcmVzaEF0dGVtcHRUaW1lIiwiZnJvbVNzbyIsInNzb1Nlc3Npb25OYW1lIiwic3NvU2Vzc2lvbiIsInNzb1Nlc3Npb25SZXF1aXJlZEtleSIsInNzb1JlZ2lvbiIsInNzb1Rva2VuIiwiZXhwaXJlc0F0IiwiZXhpc3RpbmdUb2tlbiIsIm5ld1Nzb09pZGNUb2tlbiIsInNzb09pZGNDbGllbnQiLCJnZXRTc29PaWRjQ2xpZW50IiwiZ2V0TmV3U3NvT2lkY1Rva2VuIiwibmV3VG9rZW5FeHBpcmF0aW9uIiwidG9rZW5GaWxlcGF0aCIsInRva2VuU3RyaW5nIiwid3JpdGVTU09Ub2tlblRvRmlsZSIsIlNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4iLCJyZXNvbHZlU1NPQ3JlZGVudGlhbHMiLCJzc29TdGFydFVybCIsInNzb0FjY291bnRJZCIsInNzb1JvbGVOYW1lIiwic3NvQ2xpZW50IiwicmVmcmVzaE1lc3NhZ2UiLCJfdG9rZW4iLCJzc28iLCJzc29SZXNwIiwidmFsaWRhdGVTc29Qcm9maWxlIiwiZnJvbVNTTyIsInNlc3Npb24iLCJjb25mbGljdE1zZyIsImlzU3RhdGljQ3JlZHNQcm9maWxlIiwiYXdzX2FjY2Vzc19rZXlfaWQiLCJhd3Nfc2VjcmV0X2FjY2Vzc19rZXkiLCJhd3Nfc2Vzc2lvbl90b2tlbiIsInJlc29sdmVTdGF0aWNDcmVkZW50aWFscyIsImZyb21Ub2tlbkZpbGUiLCJ3ZWJJZGVudGl0eVRva2VuRmlsZSIsInJvbGVBcm4iLCJyb2xlU2Vzc2lvbk5hbWUiLCJ3ZWJJZGVudGl0eVRva2VuIiwicHJvdmlkZXJJZCIsInBvbGljeUFybnMiLCJwb2xpY3kiLCJkdXJhdGlvblNlY29uZHMiLCJyb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSIsImZyb21XZWJUb2tlbiIsInJlYWRGaWxlU3luYyIsInJlc29sdmVQcm9maWxlRGF0YSIsInZpc2l0ZWRQcm9maWxlcyIsInJvbGVfYXJuIiwicm9sZV9zZXNzaW9uX25hbWUiLCJleHRlcm5hbF9pZCIsIm1mYV9zZXJpYWwiLCJzb3VyY2VfcHJvZmlsZSIsImNyZWRlbnRpYWxfc291cmNlIiwiaXNBc3N1bWVSb2xlV2l0aFNvdXJjZVByb2ZpbGUiLCJpc0Fzc3VtZVJvbGVXaXRoUHJvdmlkZXJQcm9maWxlIiwicm9sZUFzc3VtZXIiLCJzb3VyY2VDcmVkc1Byb3ZpZGVyIiwiY3JlZGVudGlhbFNvdXJjZSIsInNvdXJjZVByb3ZpZGVyc01hcCIsIkVjc0NvbnRhaW5lciIsIkVjMkluc3RhbmNlTWV0YWRhdGEiLCJFbnZpcm9ubWVudCIsInJlc29sdmVDcmVkZW50aWFsU291cmNlIiwibWZhQ29kZVByb3ZpZGVyIiwicmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyIsIndlYl9pZGVudGl0eV90b2tlbl9maWxlIiwiaXNXZWJJZGVudGl0eVByb2ZpbGUiLCJyZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFscyIsImNyZWRlbnRpYWxfcHJvY2VzcyIsImlzUHJvY2Vzc1Byb2ZpbGUiLCJyZXNvbHZlU3NvQ3JlZGVudGlhbHMiLCJkZWZhdWx0UHJvdmlkZXIiLCJmcm9tSW5pIiwicmVtb3RlUHJvdmlkZXIiLCJGIiwiRyIsIkgiLCJJIiwiSiIsInUiLCJ3IiwieCIsInoiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIlNUU0NsaWVudCIsInVzZUdsb2JhbEVuZHBvaW50IiwiX2NvbmZpZ183IiwicmVzb2x2ZVN0c0F1dGhDb25maWciLCJnZXRDdXN0b21pemFibGVTdHNDbGllbnRDdG9yIiwiYmFzZUN0b3IiLCJjdXN0b21pemF0aW9ucyIsImN1c3RvbWl6YXRpb24iLCJzdHNQbHVnaW5zIiwiQ2xvdWRUcmFpbENsaWVudCIsIl9jb25maWdfNCIsIkNsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uIiwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIiwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24iLCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvbiIsIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb24iLCJJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uIiwiSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb24iLCJJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbiIsImRlX0ludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblJlcyIsImRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uUmVzIiwiZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzIiwiZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMiLCJkZV9FdmVudCIsIkNsb3VkVHJhaWxFdmVudCIsIkV2ZW50SWQiLCJFdmVudE5hbWUiLCJFdmVudFNvdXJjZSIsIkV2ZW50VGltZSIsInZhbHVlQXNEb3VibGUiLCJzdHJpY3RQYXJzZURvdWJsZSIsIlJlYWRPbmx5IiwiUmVzb3VyY2VzIiwiVXNlcm5hbWUiLCJMb29rdXBFdmVudHNDb21tYW5kIiwiRW5kVGltZSIsIkV2ZW50Q2F0ZWdvcnkiLCJMb29rdXBBdHRyaWJ1dGVzIiwiTWF4UmVzdWx0cyIsIk5leHRUb2tlbiIsIlN0YXJ0VGltZSIsInNlX0xvb2t1cEV2ZW50c1JlcXVlc3QiLCJzZV9Mb29rdXBFdmVudHNDb21tYW5kIiwiZGVfTG9va3VwRXZlbnRzQ29tbWFuZEVycm9yIiwiRXZlbnRzIiwicmV0VmFsIiwiZGVfRXZlbnRzTGlzdCIsImRlX0xvb2t1cEV2ZW50c1Jlc3BvbnNlIiwiZGVfTG9va3VwRXZlbnRzQ29tbWFuZCIsInVzZXJJZGVudGl0eSIsInJvbGUiLCJpYW1Sb2xlIiwic3RzU2Vzc2lvbiIsImV2ZW50VGltZSIsImNsb3VkVHJhaWxDbGllbnQiLCJyZXRyaWV2ZVF1aWNrU2lnaHRVc2VyRXZlbnRzIiwic3RhcnREYXRlIiwiZXZlbnRzIiwibmV4dFRva2VuIiwibG9va3VwRXZlbnRzQ29tbWFuZCIsIkF0dHJpYnV0ZUtleSIsIkF0dHJpYnV0ZVZhbHVlIiwibG9va3VwRXZlbnRzUmVzdWx0IiwiQ2xvdWRUcmFpbFVzZXJFdmVudCIsImdldExhc3RBY2Nlc3NEYXRlIiwidXNlciIsInRoaXNQYXJ0aWN1bGFyVXNlckV2ZW50cyIsIm5ld2VzdEV2ZW50IiwiQ2xvdWRXYXRjaENsaWVudCIsIkNsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uIiwiSW50ZXJuYWxTZXJ2aWNlRmF1bHQiLCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24iLCJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24iLCJkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyIsImRlX0ludGVybmFsU2VydmljZUZhdWx0IiwiZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uIiwiZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uIiwiZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzIiwiZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uIiwic2VfRGltZW5zaW9uIiwiTmFtZSIsInNlX01ldHJpY0RhdHVtIiwiTWV0cmljTmFtZSIsIkRpbWVuc2lvbnMiLCJzZV9EaW1lbnNpb25zIiwiU3RhdGlzdGljVmFsdWVzIiwic2VfU3RhdGlzdGljU2V0IiwiVmFsdWVzIiwic2VfVmFsdWVzIiwiQ291bnRzIiwic2VfQ291bnRzIiwiVW5pdCIsIlN0b3JhZ2VSZXNvbHV0aW9uIiwic2VfUHV0TWV0cmljRGF0YUlucHV0IiwiTmFtZXNwYWNlIiwiTWV0cmljRGF0YSIsInNlX01ldHJpY0RhdGEiLCJTYW1wbGVDb3VudCIsIlN1bSIsIk1pbmltdW0iLCJNYXhpbXVtIiwiUHV0TWV0cmljRGF0YUNvbW1hbmQiLCJzZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCIsImRlX1B1dE1ldHJpY0RhdGFDb21tYW5kRXJyb3IiLCJkZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCIsIm1ldHJpY0RhdGEiLCJjbG91ZFdhdGNoQ2xpZW50IiwicXVldWVNZXRyaWMiLCJtZXRyaWNEYXR1bSIsImVtaXRRdWV1ZWRNZXRyaWNzIiwicHV0TWV0cmljRGF0YUNvbW1hbmQiLCJBV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUUiLCJTRVNDbGllbnQiLCJTRVNTZXJ2aWNlRXhjZXB0aW9uIiwiQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24iLCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uIiwiQ29uZmlndXJhdGlvblNldE5hbWUiLCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiIsIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24iLCJNZXNzYWdlUmVqZWN0ZWQiLCJkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyIsImRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uIiwiZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyIsImRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24iLCJkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyIsImRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uIiwiZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblJlcyIsImRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24iLCJkZV9NZXNzYWdlUmVqZWN0ZWRSZXMiLCJkZV9NZXNzYWdlUmVqZWN0ZWQiLCJzZV9BZGRyZXNzTGlzdCIsInNlX0NvbnRlbnQiLCJEYXRhIiwiQ2hhcnNldCIsInNlX01lc3NhZ2VUYWciLCJzZV9TZW5kRW1haWxSZXF1ZXN0IiwiU291cmNlIiwiRGVzdGluYXRpb24iLCJUb0FkZHJlc3NlcyIsIkNjQWRkcmVzc2VzIiwiQmNjQWRkcmVzc2VzIiwic2VfRGVzdGluYXRpb24iLCJTdWJqZWN0IiwiQm9keSIsIlRleHQiLCJIdG1sIiwic2VfQm9keSIsInNlX01lc3NhZ2UiLCJSZXBseVRvQWRkcmVzc2VzIiwiUmV0dXJuUGF0aCIsIlNvdXJjZUFybiIsIlJldHVyblBhdGhBcm4iLCJzZV9NZXNzYWdlVGFnTGlzdCIsIlNlbmRFbWFpbENvbW1hbmQiLCJzZV9TZW5kRW1haWxDb21tYW5kIiwiZGVfU2VuZEVtYWlsQ29tbWFuZEVycm9yIiwiTWVzc2FnZUlkIiwiZGVfU2VuZEVtYWlsUmVzcG9uc2UiLCJTZW5kRW1haWxSZXN1bHQiLCJkZV9TZW5kRW1haWxDb21tYW5kIiwiUXVpY2tTaWdodFJvbGUiLCJzZXNDbGllbnQiLCJub0xhc3RBY2Nlc3NEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJub3RpZnlVc2VyIiwibGFzdEFjY2VzcyIsImRlbGV0ZURheXMiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJzdWJqZWN0IiwiYWNjb3VudEFsaWFzIiwiYXdzQWNjb3VudElkIiwiZW1haWwiLCJjb250YWN0Iiwic2VuZEVtYWlsQ29tbWFuZCIsImNjIiwicmVwbHlUbyIsInNlc0FybiIsInF1aWNrU2lnaHRVc2VyIiwiRW1haWwiLCJSb2xlIiwiVXNlck5hbWUiLCJpbnZhbGlkIiwiUXVpY2tTaWdodENsaWVudCIsIlF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIiwiUmVxdWVzdElkIiwiRGF0YVNvdXJjZVBhcmFtZXRlcnMiLCJQaHlzaWNhbFRhYmxlIiwidmlzaXQiLCJ2aXNpdG9yIiwiQW1hem9uRWxhc3RpY3NlYXJjaFBhcmFtZXRlcnMiLCJBdGhlbmFQYXJhbWV0ZXJzIiwiQXVyb3JhUGFyYW1ldGVycyIsIkF1cm9yYVBvc3RncmVTcWxQYXJhbWV0ZXJzIiwiQXdzSW90QW5hbHl0aWNzUGFyYW1ldGVycyIsIkppcmFQYXJhbWV0ZXJzIiwiTWFyaWFEYlBhcmFtZXRlcnMiLCJNeVNxbFBhcmFtZXRlcnMiLCJPcmFjbGVQYXJhbWV0ZXJzIiwiUG9zdGdyZVNxbFBhcmFtZXRlcnMiLCJQcmVzdG9QYXJhbWV0ZXJzIiwiUmRzUGFyYW1ldGVycyIsIlJlZHNoaWZ0UGFyYW1ldGVycyIsIlMzUGFyYW1ldGVycyIsIlNlcnZpY2VOb3dQYXJhbWV0ZXJzIiwiU25vd2ZsYWtlUGFyYW1ldGVycyIsIlNwYXJrUGFyYW1ldGVycyIsIlNxbFNlcnZlclBhcmFtZXRlcnMiLCJUZXJhZGF0YVBhcmFtZXRlcnMiLCJUd2l0dGVyUGFyYW1ldGVycyIsIkFtYXpvbk9wZW5TZWFyY2hQYXJhbWV0ZXJzIiwiRXhhc29sUGFyYW1ldGVycyIsIkRhdGFicmlja3NQYXJhbWV0ZXJzIiwiJHVua25vd24iLCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24iLCJSZXNvdXJjZVR5cGUiLCJUaHJvdHRsaW5nRXhjZXB0aW9uIiwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvbiIsIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvbiIsIlByb2plY3RPcGVyYXRpb24iLCJGaWx0ZXJPcGVyYXRpb24iLCJDcmVhdGVDb2x1bW5zT3BlcmF0aW9uIiwiUmVuYW1lQ29sdW1uT3BlcmF0aW9uIiwiQ2FzdENvbHVtblR5cGVPcGVyYXRpb24iLCJUYWdDb2x1bW5PcGVyYXRpb24iLCJVbnRhZ0NvbHVtbk9wZXJhdGlvbiIsIk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiIsIlJlbGF0aW9uYWxUYWJsZSIsIkN1c3RvbVNxbCIsIlMzU291cmNlIiwiZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzIiwiZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzIiwiZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyIsImRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMiLCJMaXN0VXNlcnNDb21tYW5kIiwiQXdzQWNjb3VudElkIiwic2VfTGlzdFVzZXJzQ29tbWFuZCIsImRlX0xpc3RVc2Vyc0NvbW1hbmRFcnJvciIsIlVzZXJMaXN0IiwiU3RhdHVzIiwiZGVfTGlzdFVzZXJzQ29tbWFuZCIsIkRlbGV0ZVVzZXJDb21tYW5kIiwic2VfRGVsZXRlVXNlckNvbW1hbmQiLCJkZV9EZWxldGVVc2VyQ29tbWFuZEVycm9yIiwiZGVfRGVsZXRlVXNlckNvbW1hbmQiLCJxdWlja1NpZ2h0Q2xpZW50IiwicmV0cmlldmVVc2VycyIsInF1aWNrU2lnaHRVc2VycyIsImxpc3RVc2Vyc0NvbW1hbmQiLCJRdWlja1NpZ2h0VXNlck1hbmFnZXIiLCJuYW1lc3BhY2UiLCJxdWlja1NpZ2h0VXNlckxpc3RSZXNwb25zZSIsIlF1aWNrU2lnaHRVc2VyIiwiZGVsZXRlVXNlciIsImRlbGV0ZVVzZXJDb21tYW5kIiwibm90aWZ5RGF5cyIsImVuYWJsZU5vdGlmaWNhdGlvbiIsImRlbGV0ZURhdGUiLCJub3RpZnlEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJxdWlja1NpZ2h0VXNlck1hbmFnZXIiLCJjbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciIsIkNsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyIiwibm90aWZpY2F0aW9uTWFuYWdlciIsIk5vdGlmaWNhdGlvbk1hbmFnZXIiLCJjbG91ZFdhdGNoTWV0cmljQ2xpZW50IiwiQ2xvdWRXYXRjaE1ldHJpY0NsaWVudCIsImNsb3VkVHJhaWxVc2VyRXZlbnRzIiwiaW52YWxpZFVzZXJzIiwidXNlcnNEZWxldGVkIiwibm90aWZpY2F0aW9uc1NlbnQiLCJSRUFERVIiXSwic291cmNlUm9vdCI6IiJ9