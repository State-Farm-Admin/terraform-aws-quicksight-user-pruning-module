// This file is committed because Terraform needs it to be there. Source code is in src folder
/*! For license information please see pruneQuickSightUsers.js.LICENSE.txt */
(()=>{var e={446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(717),s=n(658),o=n(79),i=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,s.isEmptyData)(e)||this.crc32.update((0,s.convertToBuffer)(e))},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,(0,s.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new o.Crc32},e}();t.AwsCrc32=i},79:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(717),s=n(658);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var s=r.__values(e),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var i=(0,s.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(446);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>S,__await:()=>w,__awaiter:()=>l,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>A,__createBinding:()=>p,__decorate:()=>a,__exportStar:()=>f,__extends:()=>s,__generator:()=>d,__importDefault:()=>P,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>m,__rest:()=>i,__spread:()=>g,__spreadArrays:()=>y,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},o.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:s?s(t):t}:s}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,s,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(84),s="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var s=n(304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return s.isEmptyData}});var o=n(174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var i=n(558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},84:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>s});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const s=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),s=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const s=e[++n];t+=String.fromCharCode((31&r)<<6|63&s)}else if(240<=r&&r<365){const s="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},932:(e,t,n)=>{"use strict";const r=n(501),s=n(844),o=n(192);e.exports={XMLParser:s,XMLValidator:r,XMLBuilder:o}},849:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),s=r.length;for(let o=0;o<s;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==s.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const s=[];s.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)s.push(r[e]);n.push(s),r=t.exec(e)}return n},t.nameRegexp=r},501:(e,t,n)=>{"use strict";const r=n(849),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function i(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return h("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},s,t);const n=[];let c=!1,u=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,s=i(e,s),s.err)return s}else{if("<"!==e[s]){if(o(e[s]))continue;return h("InvalidChar","char '"+e[s]+"' is not expected.",g(e,s))}{let m=s;if(s++,"!"===e[s]){s=a(e,s);continue}{let y=!1;"/"===e[s]&&(y=!0,s++);let w="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)w+=e[s];if(w=w.trim(),"/"===w[w.length-1]&&(w=w.substring(0,w.length-1),s--),d=w,!r.isName(d)){let t;return t=0===w.trim().length?"Invalid space after '<'.":"Tag '"+w+"' is an invalid name.",h("InvalidTag",t,g(e,s))}const b=l(e,s);if(!1===b)return h("InvalidAttr","Attributes for '"+w+"' have open quote.",g(e,s));let v=b.value;if(s=b.index,"/"===v[v.length-1]){const n=s-v.length;v=v.substring(0,v.length-1);const r=p(v,t);if(!0!==r)return h(r.err.code,r.err.msg,g(e,n+r.err.line));c=!0}else if(y){if(!b.tagClosed)return h("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",g(e,s));if(v.trim().length>0)return h("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",g(e,m));{const t=n.pop();if(w!==t.tagName){let n=g(e,t.tagStartPos);return h("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+w+"'.",g(e,m))}0==n.length&&(u=!0)}}else{const r=p(v,t);if(!0!==r)return h(r.err.code,r.err.msg,g(e,s-v.length+r.err.line));if(!0===u)return h("InvalidXml","Multiple possible root nodes found.",g(e,s));-1!==t.unpairedTags.indexOf(w)||n.push({tagName:w,tagStartPos:m}),c=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s++,s=a(e,s);continue}if("?"!==e[s+1])break;if(s=i(e,++s),s.err)return s}else if("&"===e[s]){const t=f(e,s);if(-1==t)return h("InvalidChar","char '&' is not expected.",g(e,s));s=t}else if(!0===u&&!o(e[s]))return h("InvalidXml","Extra text at the end",g(e,s));"<"===e[s]&&s--}}}var d;return c?1==n.length?h("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(e,n[0].tagStartPos)):!(n.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):h("InvalidXml","Start tag expected.",1)};const c='"',u="'";function l(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===c||e[t]===u)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){s=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:s}}const d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function p(e,t){const n=r.getAllMatches(e,d),s={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return h("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",y(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return h("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",y(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",y(n[e]));const r=n[e][2];if(!m(r))return h("InvalidAttr","Attribute '"+r+"' is an invalid name.",y(n[e]));if(s.hasOwnProperty(r))return h("InvalidAttr","Attribute '"+r+"' is repeated.",y(n[e]));s[r]=1}return!0}function f(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function h(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function m(e){return r.isName(e)}function g(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function y(e){return e.startIndex+e[1].length}},192:(e,t,n)=>{"use strict";const r=n(592),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(e){this.options=Object.assign({},s,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=i,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function i(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function a(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}o.prototype.build=function(e){return this.options.preserveOrder?r(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},o.prototype.j2x=function(e,t){let n="",r="";for(let s in e)if(void 0===e[s]);else if(null===e[s])"?"===s[0]?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)r+=this.buildTextValNode(e[s],s,"",t);else if("object"!=typeof e[s]){const o=this.isAttribute(s);if(o)n+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let t=this.options.tagValueProcessor(s,""+e[s]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){const n=e[s].length;let o="";for(let i=0;i<n;i++){const n=e[s][i];void 0===n||(null===n?"?"===s[0]?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,t+1).val:o+=this.processTextOrObjNode(n,s,t):o+=this.buildTextValNode(n,s,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,"",t)),r+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const t=Object.keys(e[s]),r=t.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(t[o],""+e[s][t[o]])}else r+=this.processTextOrObjNode(e[s],s,t);return{attrStr:n,val:r}},o.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},o.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",s=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+o+">"+e+s:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+s}},o.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},o.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),""===s?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+s+"</"+t+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=o},592:e=>{function t(e,i,a,c){let u="",l=!1;for(let d=0;d<e.length;d++){const p=e[d],f=n(p);let h="";if(h=0===a.length?f:`${a}.${f}`,f===i.textNodeName){let e=p[f];s(h,i)||(e=i.tagValueProcessor(f,e),e=o(e,i)),l&&(u+=c),u+=e,l=!1;continue}if(f===i.cdataPropName){l&&(u+=c),u+=`<![CDATA[${p[f][0][i.textNodeName]}]]>`,l=!1;continue}if(f===i.commentPropName){u+=c+`\x3c!--${p[f][0][i.textNodeName]}--\x3e`,l=!0;continue}if("?"===f[0]){const e=r(p[":@"],i),t="?xml"===f?"":c;let n=p[f][0][i.textNodeName];n=0!==n.length?" "+n:"",u+=t+`<${f}${n}${e}?>`,l=!0;continue}let m=c;""!==m&&(m+=i.indentBy);const g=c+`<${f}${r(p[":@"],i)}`,y=t(p[f],i,h,m);-1!==i.unpairedTags.indexOf(f)?i.suppressUnpairedNode?u+=g+">":u+=g+"/>":y&&0!==y.length||!i.suppressEmptyNode?y&&y.endsWith(">")?u+=g+`>${y}${c}</${f}>`:(u+=g+">",y&&""!==c&&(y.includes("/>")||y.includes("</"))?u+=c+i.indentBy+y+c:u+=y,u+=`</${f}>`):u+=g+"/>",l=!0}return u}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function r(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let s=t.attributeValueProcessor(r,e[r]);s=o(s,t),!0===s&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${s}"`}return n}function s(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){let r="";return n.format&&n.indentBy.length>0&&(r="\n"),t(e,n,"",r)}},780:(e,t,n)=>{const r=n(849);function s(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=e[t++];let s="";for(;t<e.length&&e[t]!==r;t++)s+=e[t];return[n,s,t]}function o(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function i(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function a(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function u(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function l(e){if(r.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}e.exports=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,d=!1,p=!1,f="";for(;t<e.length;t++)if("<"!==e[t]||p)if(">"===e[t]){if(p?"-"===e[t-1]&&"-"===e[t-2]&&(p=!1,r--):r--,0===r)break}else"["===e[t]?d=!0:f+=e[t];else{if(d&&i(e,t))t+=7,[entityName,val,t]=s(e,t+1),-1===val.indexOf("&")&&(n[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(d&&a(e,t))t+=8;else if(d&&c(e,t))t+=8;else if(d&&u(e,t))t+=9;else{if(!o)throw new Error("Invalid DOCTYPE");p=!0}r++,f=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}},745:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},78:(e,t,n)=>{"use strict";const r=n(849),s=n(311),o=n(780),i=n(153);function a(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function c(e,t,n,r,s,o,i){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,s,o);return null==r?e:typeof r!=typeof e||r!==e?r:this.options.trimValues||e.trim()===e?v(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function u(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=r.getAllMatches(e,l),s=n.length,o={};for(let e=0;e<s;e++){const r=this.resolveNameSpace(n[e][1]);let s=n[e][4],i=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(i=this.options.transformAttributeName(i)),"__proto__"===i&&(i="#__proto__"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const e=this.options.attributeValueProcessor(r,s,t);o[i]=null==e?s:typeof e!=typeof s||e!==s?e:v(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[i]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=o,e}return o}}const p=function(e){e=e.replace(/\r\n?/g,"\n");const t=new s("!xml");let n=t,r="",i="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){const t=y(e,">",a,"Closing Tag is not closed.");let s=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&(r=this.saveTextToParentTag(r,n,i));const o=i.substring(i.lastIndexOf(".")+1);if(s&&-1!==this.options.unpairedTags.indexOf(s))throw new Error(`Unpaired tag can not be used as closing tag: </${s}>`);let c=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(c=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=i.lastIndexOf("."),i=i.substring(0,c),n=this.tagsNodeStack.pop(),r="",a=t}else if("?"===e[a+1]){let t=w(e,a,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new s(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName)),this.addChild(n,e,i)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){const t=y(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const s=e.substring(a+4,t-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}a=t}else if("!D"===e.substr(a+1,2)){const t=o(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){const t=y(e,"]]>",a,"CDATA is not closed.")-2,s=e.substring(a+9,t);if(r=this.saveTextToParentTag(r,n,i),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]);else{let e=this.parseTextData(s,n.tagname,i,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}a=t+2}else{let o=w(e,a,this.options.removeNSPrefix),c=o.tagName,u=o.tagExp,l=o.attrExpPresent,d=o.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==t.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)a=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=o.closeIndex;else{const n=this.readStopNodeData(e,c,d+1);if(!n)throw new Error(`Unexpected end of ${c}`);a=n.i,t=n.tagContent}const r=new s(c);c!==u&&l&&(r[":@"]=this.buildAttributesMap(u,i,c)),t&&(t=this.parseTextData(t,c,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(n,r,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new s(c);c!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,e,i),i=i.substr(0,i.lastIndexOf("."))}else{const e=new s(c);this.tagsNodeStack.push(n),c!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,e,i),n=e}r="",a=d}}else r+=e[a];return t.child};function f(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);!1===r||("string"==typeof r?(t.tagname=r,e.addChild(t)):e.addChild(t))}const h=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function m(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function g(e,t,n){const r="*."+n;for(const n in e){const s=e[n];if(r===s||t===s)return!0}return!1}function y(e,t,n,r){const s=e.indexOf(t,n);if(-1===s)throw new Error(r);return s+t.length-1}function w(e,t,n,r=">"){const s=function(e,t,n=">"){let r,s="";for(let o=t;o<e.length;o++){let t=e[o];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:s,index:o};if(e[o+1]===n[1])return{data:s,index:o}}else"\t"===t&&(t=" ");s+=t}}(e,t+1,r);if(!s)return;let o=s.data;const i=s.index,a=o.search(/\s/);let c=o,u=!0;if(-1!==a&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),u=c!==s.data.substr(e+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:u}}function b(e,t,n){const r=n;let s=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=y(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(s--,0===s))return{tagContent:e.substring(r,n),i:o};n=o}else if("?"===e[n+1])n=y(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=y(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=y(e,"]]>",n,"StopNode is not closed.")-2;else{const r=w(e,n,">");r&&((r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&s++,n=r.closeIndex)}}function v(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&i(e,n)}return r.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=a,this.parseXml=p,this.parseTextData=c,this.resolveNameSpace=u,this.buildAttributesMap=d,this.isItStopNode=g,this.replaceEntitiesValue=h,this.readStopNodeData=b,this.saveTextToParentTag=m,this.addChild=f}}},844:(e,t,n)=>{const{buildOptions:r}=n(745),s=n(78),{prettify:o}=n(997),i=n(501);e.exports=class{constructor(e){this.externalEntities={},this.options=r(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=i.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new s(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:o(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},997:(e,t)=>{"use strict";function n(e,t,i){let a;const c={};for(let u=0;u<e.length;u++){const l=e[u],d=r(l);let p="";if(p=void 0===i?d:i+"."+d,d===t.textNodeName)void 0===a?a=l[d]:a+=""+l[d];else{if(void 0===d)continue;if(l[d]){let e=n(l[d],t,p);const r=o(e,t);l[":@"]?s(e,l[":@"],p,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[d]&&c.hasOwnProperty(d)?(Array.isArray(c[d])||(c[d]=[c[d]]),c[d].push(e)):t.isArray(d,p,r)?c[d]=[e]:c[d]=e}}}return"string"==typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a),c}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function s(e,t,n,r){if(t){const s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){const o=s[i];r.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function o(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,s={}){if(s=Object.assign({},r,s),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==s.skipLike&&s.skipLike.test(o))return e;if(s.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let a=(i=t[3])&&-1!==i.indexOf(".")?("."===(i=i.replace(/0+$/,""))?i="0":"."===i[0]?i="0"+i:"."===i[i.length-1]&&(i=i.substr(0,i.length-1)),i):i;const c=t[4]||t[6];if(!s.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!s.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;{const t=Number(o),i=""+t;return-1!==i.search(/[eE]/)||c?s.eNotation?t:e:-1!==o.indexOf(".")?"0"===i&&""===a||i===a||n&&i==="-"+a?t:e:r?a===i||n+a===i?t:e:o===i||o===n+i?t:e}}return e}var i}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>nf});const e=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,n){t.updateHttpClientConfig(e,n)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}},t=e=>({httpHandler:e.httpHandler()});var s,o,i,a,c,u;!function(e){e.HEADER="header",e.QUERY="query"}(s||(s={})),function(e){e.HEADER="header",e.QUERY="query"}(o||(o={})),function(e){e.HTTP="http",e.HTTPS="https"}(i||(i={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(a||(a={})),(u=c||(c={}))[u.HEADER=0]="HEADER",u[u.TRAILER=1]="TRAILER";const l="__smithy_context";var d,p;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(d||(d={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(p||(p={}));class f{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new f({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}class h{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const m={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},g=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!f.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),m)}}),y={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},w=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{try{const r=await e(n),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,l=c??t.inputFilterSensitiveLog,d=u??t.outputFilterSensitiveLog,{$metadata:p,...f}=r.output;return i?.info?.({clientName:s,commandName:o,input:l(n.input),output:d(f),metadata:p}),r}catch(e){const{clientName:r,commandName:s,logger:o,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:a}=i,c=a??t.inputFilterSensitiveLog;throw o?.error?.({clientName:r,commandName:s,input:c(n.input),error:e,metadata:e.$metadata}),e}}),y)}}),b="X-Amzn-Trace-Id",v={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},S=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!f.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(b))return t(n);const s=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,i=e=>"string"==typeof e&&e.length>0;return i(s)&&i(o)&&(r.headers[b]=o),t({...n,request:r})})(e),v)}}),E=(e,t,n)=>{let r,s,o,i=!1;const a=async()=>{s||(s=e());try{r=await s,o=!0,i=!1}finally{s=void 0}return r};return void 0===t?async e=>(o&&!e?.forceRefresh||(r=await a()),r):async e=>(o&&!e?.forceRefresh||(r=await a()),i?r:n&&!n(r)?(i=!0,r):t(r)?(await a(),r):r)};n(79);const x={},P={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),x[e]=t,P[t]=e}function I(e){let t="";for(let n=0;n<e.byteLength;n++)t+=x[e[n]];return t}class A{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&k(t),new A(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&k(e),parseInt(I(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function k(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class T{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const r=this.fromUtf8(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const i=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(A.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!q.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in P))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=P[r]}return t}(e.value.replace(/\-/g,"")),1),l}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[s]={type:O,value:!0};break;case 1:t[s]={type:O,value:!1};break;case 2:t[s]={type:R,value:e.getInt8(n++)};break;case 3:t[s]={type:N,value:e.getInt16(n,!1)},n+=2;break;case 4:t[s]={type:$,value:e.getInt32(n,!1)},n+=4;break;case 5:t[s]={type:D,value:new A(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[s]={type:_,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[s]={type:M,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[s]={type:j,value:new Date(new A(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[s]={type:U,value:`${I(i.subarray(0,4))}-${I(i.subarray(4,6))}-${I(i.subarray(6,8))}-${I(i.subarray(8,10))}-${I(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var C;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(C||(C={}));const O="boolean",R="byte",N="short",$="integer",D="long",_="binary",M="string",j="timestamp",U="uuid",q=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;const F=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},z=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),L=require("buffer"),V=(e,t=0,n=e.byteLength-t)=>{if(!z(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return L.Buffer.from(e,t,n)},B=(e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?L.Buffer.from(e,t):L.Buffer.from(e)},W=e=>{const t=B(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},H=e=>"string"==typeof e?W(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),K=e=>V(e.buffer,e.byteOffset,e.byteLength).toString("utf8"),G="X-Amz-Date",J="X-Amz-Signature",X="X-Amz-Security-Token",Q="authorization",Y=G.toLowerCase(),Z=[Q,Y,"date"],ee=J.toLowerCase(),te="x-amz-content-sha256",ne=X.toLowerCase(),re={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},se=/^proxy-/,oe=/^sec-/,ie="AWS4-HMAC-SHA256",ae="AWS4-HMAC-SHA256-PAYLOAD",ce="aws4_request",ue={},le=[],de=(e,t,n)=>`${e}/${t}/${n}/${ce}`,pe=(e,t,n)=>{const r=new e(t);return r.update(H(n)),r.digest()},fe=({headers:e},t,n)=>{const r={};for(const s of Object.keys(e).sort()){if(null==e[s])continue;const o=s.toLowerCase();(o in re||t?.has(o)||se.test(o)||oe.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r},he=e=>encodeURIComponent(e).replace(/[!'()*]/g,me),me=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,ge=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===te)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||z(t)){const e=new n;return e.update(H(t)),I(await e.digest())}return"UNSIGNED-PAYLOAD"},ye=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?we(t):void 0}),we=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}}),{}),be=e=>{e="function"==typeof e.clone?e.clone():ye(e);for(const t of Object.keys(e.headers))Z.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class ve{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new T(K,W),this.service=r,this.sha256=s,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=F(n),this.credentialProvider=F(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:i,signingRegion:a,signingService:c}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);const l=a??await this.regionProvider(),{longDate:d,shortDate:p}=Se(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const f=de(p,l,c??this.service),h=((e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():ye(e);for(const e of Object.keys(n)){const s=e.toLowerCase();"x-amz-"!==s.slice(0,6)||t.unhoistableHeaders?.has(s)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(be(e),{unhoistableHeaders:o});u.sessionToken&&(h.query[X]=u.sessionToken),h.query["X-Amz-Algorithm"]=ie,h.query["X-Amz-Credential"]=`${u.accessKeyId}/${f}`,h.query[G]=d,h.query["X-Amz-Expires"]=r.toString(10);const m=fe(h,s,i);return h.query["X-Amz-SignedHeaders"]=Ee(m),h.query[J]=await this.getSignature(d,f,this.getSigningKey(u,l,p,c),this.createCanonicalRequest(h,m,await ge(e,this.sha256))),h}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:s,signingService:o}){const i=s??await this.regionProvider(),{shortDate:a,longDate:c}=Se(n),u=de(a,i,o??this.service),l=await ge({headers:{},body:t},this.sha256),d=new this.sha256;d.update(e);const p=I(await d.digest()),f=[ae,c,u,r,p,l].join("\n");return this.signString(f,{signingDate:n,signingRegion:i,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:i}=Se(t),a=new this.sha256(await this.getSigningKey(s,o,i,r));return a.update(H(e)),I(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:s,signingService:o}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=s??await this.regionProvider(),c=be(e),{longDate:u,shortDate:l}=Se(t),d=de(l,a,o??this.service);c.headers[Y]=u,i.sessionToken&&(c.headers[ne]=i.sessionToken);const p=await ge(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(te,c.headers)&&this.applyChecksum&&(c.headers[te]=p);const f=fe(c,r,n),h=await this.getSignature(u,d,this.getSigningKey(i,a,l,o),this.createCanonicalRequest(c,f,p));return c.headers[Q]=`${ie} Credential=${i.accessKeyId}/${d}, SignedHeaders=${Ee(f)}, Signature=${h}`,c}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===ee)continue;t.push(r);const s=e[r];"string"==typeof s?n[r]=`${he(r)}=${he(s)}`:Array.isArray(s)&&(n[r]=s.slice(0).reduce(((e,t)=>e.concat([`${he(r)}=${he(t)}`])),[]).sort().join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(H(n));const s=await r.digest();return`${ie}\n${e}\n${t}\n${I(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const s=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(H(s)),I(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,s)=>{const o=`${n}:${r}:${s}:${I(await pe(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(o in ue)return ue[o];for(le.push(o);le.length>50;)delete ue[le.shift()];let i=`AWS4${t.secretAccessKey}`;for(const t of[n,r,s,ce])i=await pe(e,i,t);return ue[o]=i})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Se=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},Ee=e=>Object.keys(e).sort().join(";"),xe=e=>{const t=e.credentials?Pe(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:s}=e;let o;return o=e.signer?F(e.signer):e.regionInfoProvider?()=>F(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([r,o])=>{const{signingRegion:i,signingService:a}=r;e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||a||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||ve)(c)})):async r=>{const o=(r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await F(e.region)(),properties:{}},r)).signingRegion,i=r.signingName;e.signingRegion=e.signingRegion||o,e.signingName=e.signingName||i||e.serviceId;const a={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||ve)(a)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:o}},Pe=e=>"function"==typeof e?E(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):F(e),Ie=e=>new Date(Date.now()+e),Ae=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(Ie(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},ke=e=>h.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,Te={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Ce=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){if(!f.isInstance(r.request))return t(r);const s=n.endpointV2?.properties?.authSchemes?.[0],o="sigv4a"===s?.name?s?.signingRegionSet?.join(","):void 0,i=await e.signer(s);let a;const c={signingDate:Ie(e.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service};if(n.s3ExpressIdentity){const e=i;if(a=await e.signWithCredentials(r.request,n.s3ExpressIdentity,c),a.headers["X-Amz-Security-Token"]||a.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else a=await i.sign(r.request,c);const u=await t({...r,request:a}).catch((t=>{const n=t.ServerTime??ke(t.$response);throw n&&(e.systemClockOffset=Ae(n,e.systemClockOffset)),t})),l=ke(u.response);return l&&(e.systemClockOffset=Ae(l,e.systemClockOffset)),u})(e),Te)}});function Oe(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}const Re=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ne=e=>Re.test(e)||e.startsWith("[")&&e.endsWith("]"),$e=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),De=(e,t=!1)=>{if(!t)return $e.test(e);const n=e.split(".");for(const e of n)if(!De(e))return!1;return!0},_e={},Me="endpoints";function je(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${je(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(je).join(", ")})`:JSON.stringify(e,null,2)}class Ue extends Error{constructor(e){super(e),this.name="EndpointError"}}const qe=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new Ue(`Path: '${e}' does not end with ']'`);const s=r.slice(t+1,-1);if(Number.isNaN(parseInt(s)))throw new Ue(`Invalid array index: '${s}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(s)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new Ue(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),Fe={[i.HTTP]:80,[i.HTTPS]:443},ze={booleanEquals:(e,t)=>e===t,getAttr:qe,isSet:e=>null!=e,isValidHostLabel:De,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:s="",query:o={}}=e,i=new URL(`${r}//${t}${n?`:${n}`:""}${s}`);return i.search=Object.entries(o).map((([e,t])=>`${e}=${t}`)).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:s,pathname:o,protocol:a,search:c}=t;if(c)return null;const u=a.slice(0,-1);if(!Object.values(i).includes(u))return null;const l=Ne(s);return{scheme:u,authority:`${r}${n.includes(`${r}:${Fe[u]}`)||"string"==typeof e&&e.includes(`${r}:${Fe[u]}`)?`:${Fe[u]}`:""}`,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},Le=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const t=e.indexOf("{",s);if(-1===t){n.push(e.slice(s));break}n.push(e.slice(s,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),s=o+2);const i=e.substring(t+1,o);if(i.includes("#")){const[e,t]=i.split("#");n.push(qe(r[e],t))}else n.push(r[i]);s=o+1}return n.join("")},Ve=(e,t,n)=>{if("string"==typeof e)return Le(e,n);if(e.fn)return Be(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new Ue(`'${t}': ${String(e)} is not a string, function or reference.`)},Be=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:Ve(e,"arg",n))),s=e.split(".");return s[0]in _e&&null!=s[1]?_e[s[0]][s[1]](...r):ze[e](...r)},We=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new Ue(`'${e}' is already defined in Reference Record.`);const r=Be(t,n);return n.logger?.debug?.(Me,`evaluateCondition: ${je(t)} = ${je(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},He=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:s}=We(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};s&&(n[s.name]=s.value,t.logger?.debug?.(Me,`assign: ${s.name} := ${je(s.value)}`))}return{result:!0,referenceRecord:n}},Ke=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=Ve(e,"Header value entry",t);if("string"!=typeof r)throw new Ue(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),Ge=(e,t)=>{if(Array.isArray(e))return e.map((e=>Ge(e,t)));switch(typeof e){case"string":return Le(e,t);case"object":if(null===e)throw new Ue(`Unexpected endpoint property: ${e}`);return Je(e,t);case"boolean":return e;default:throw new Ue("Unexpected endpoint property type: "+typeof e)}},Je=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:Ge(r,t)})),{}),Xe=(e,t)=>{const n=Ve(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new Ue("Endpoint URL must be a string, got "+typeof n)},Qe=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:s,referenceRecord:o}=He(n,t);if(!s)return;const i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:u}=r;return t.logger?.debug?.(Me,`Resolving endpoint from template: ${je(r)}`),{...null!=u&&{headers:Ke(u,i)},...null!=c&&{properties:Je(c,i)},url:Xe(a,i)}},Ye=(e,t)=>{const{conditions:n,error:r}=e,{result:s,referenceRecord:o}=He(n,t);if(s)throw new Ue(Ve(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},Ze=(e,t)=>{const{conditions:n,rules:r}=e,{result:s,referenceRecord:o}=He(n,t);if(s)return et(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},et=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=Qe(n,t);if(e)return e}else if("error"===n.type)Ye(n,t);else{if("tree"!==n.type)throw new Ue(`Unknown endpoint rule: ${n}`);{const e=Ze(n,t);if(e)return e}}throw new Ue("Rules evaluation failed")},tt=(e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${Me} Initial EndpointParams: ${je(n)}`);const i=Object.entries(s).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(i.length>0)for(const[e,t]of i)n[e]=n[e]??t;const a=Object.entries(s).filter((([,e])=>e.required)).map((([e])=>e));for(const e of a)if(null==n[e])throw new Ue(`Missing required parameter: '${e}'`);const c=et(o,{endpointParams:n,logger:r,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:r}=e;c.url.protocol=n,c.url.port=r}catch(e){}return t.logger?.debug?.(`${Me} Resolved endpoint: ${je(c)}`),c},nt=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!nt(t))return!1;return!0}return!(!De(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Ne(e))};let rt=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');const st={isVirtualHostableS3Bucket:nt,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,s,o,i,...a]=t;return"arn"!==n||""===r||""===s||""===a[0]?null:{partition:r,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}},partition:e=>{const{partitions:t}=rt;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,s]of Object.entries(t))if(n===e)return{...r,...s}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};_e.aws=st;const ot="user-agent",it="x-amz-user-agent",at=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ct=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ut=e=>{const t=e[0].split("/").map((e=>e.replace(at,"-"))).join("/"),n=e[1]?.replace(ct,"-"),r=t.indexOf("/"),s=t.substring(0,r);let o=t.substring(r+1);return"api"===s&&(o=o.toLowerCase()),[s,o,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},lt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},dt=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async r=>{const{request:s}=r;if(!f.isInstance(s))return e(r);const{headers:o}=s,i=t?.userAgent?.map(ut)||[],a=(await n.defaultUserAgentProvider()).map(ut),c=n?.customUserAgent?.map(ut)||[],u=[].concat([...a,...i,...c]).join(" "),l=[...a.filter((e=>e.startsWith("aws-sdk-"))),...c].join(" ");return"browser"!==n.runtime?(l&&(o[it]=o[it]?`${o[ot]} ${l}`:l),o[ot]=u):o[it]=u,e({...r,request:s})}),lt)}});var pt;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(pt||(pt={}));const ft=(e,t,n)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}},ht={environmentVariableSelector:e=>ft(e,"AWS_USE_DUALSTACK_ENDPOINT",pt.ENV),configFileSelector:e=>ft(e,"use_dualstack_endpoint",pt.CONFIG),default:!1},mt={environmentVariableSelector:e=>ft(e,"AWS_USE_FIPS_ENDPOINT",pt.ENV),configFileSelector:e=>ft(e,"use_fips_endpoint",pt.CONFIG),default:!1},gt={environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw new Error("Region is missing")}},yt={preferredFile:"credentials"},wt=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),bt=e=>wt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,vt=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return bt(t);const e=await t();return bt(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!wt(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}},St="content-length",Et={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},xt=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(f.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(St))try{const t=n(e);r.headers={...r.headers,[St]:String(t)}}catch(e){}}return e({...t,request:r})}),Et)}}),Pt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,It=/(\d+\.){3}\d+/,At=/\.\./,kt=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:s}=e;return`${t}//${n}${r?":"+r:""}${s}`}}return e}:r};class Tt extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,Tt.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}const Ct=(...e)=>async()=>{if(0===e.length)throw new Tt("No providers in chain");let t;for(const n of e)try{return await n()}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t};class Ot extends Tt{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Ot.prototype)}}const Rt=require("os"),Nt=require("path"),$t={},Dt=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${Nt.sep}`}=process.env;if(e)return e;if(t)return t;if(n)return`${r}${n}`;const s=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return $t[s]||($t[s]=(0,Rt.homedir)()),$t[s]},_t="AWS_PROFILE",Mt=e=>e.profile||process.env[_t]||"default",jt=require("crypto");var Ut=n.n(jt);const qt=e=>{const t=(0,jt.createHash)("sha1").update(e).digest("hex");return(0,Nt.join)(Dt(),".aws","sso","cache",`${t}.json`)},Ft=require("fs"),{readFile:zt}=Ft.promises,Lt=async e=>{const t=qt(e),n=await zt(t,"utf8");return JSON.parse(n)},Vt=e=>Object.entries(e).filter((([e])=>{const t=e.split(Zt);return!(2!==t.length||!Object.values(d).includes(t[0]))})).reduce(((e,[t,n])=>(e[t.startsWith(d.PROFILE)?t.split(Zt)[1]:t]=n,e)),{...e.default&&{default:e.default}}),Bt=()=>process.env.AWS_CONFIG_FILE||(0,Nt.join)(Dt(),".aws","config"),Wt=()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,Nt.join)(Dt(),".aws","credentials"),Ht=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Kt=["__proto__","profile __proto__"],Gt=e=>{const t={};let n,r;for(const s of e.split(/\r?\n/)){const e=s.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){n=void 0,r=void 0;const t=e.substring(1,e.length-1),s=Ht.exec(t);if(s){const[,e,,t]=s;Object.values(d).includes(e)&&(n=[e,t].join(Zt))}else n=t;if(Kt.includes(t))throw new Error(`Found invalid profile name "${t}"`)}else if(n){const o=e.indexOf("=");if(![0,-1].includes(o)){const[i,a]=[e.substring(0,o).trim(),e.substring(o+1).trim()];if(""===a)r=i;else{r&&s.trimStart()===s&&(r=void 0),t[n]=t[n]||{};const e=r?[r,i].join(Zt):i;t[n][e]=a}}}}return t},{readFile:Jt}=Ft.promises,Xt={},Qt=(e,t)=>(Xt[e]&&!t?.ignoreCache||(Xt[e]=Jt(e,"utf8")),Xt[e]),Yt=()=>({}),Zt=".",en=async(e={})=>{const{filepath:t=Wt(),configFilepath:n=Bt()}=e,r=await Promise.all([Qt(n,{ignoreCache:e.ignoreCache}).then(Gt).then(Vt).catch(Yt),Qt(t,{ignoreCache:e.ignoreCache}).then(Gt).catch(Yt)]);return{configFile:r[0],credentialsFile:r[1]}},tn=e=>Object.entries(e).filter((([e])=>e.startsWith(d.SSO_SESSION+Zt))).reduce(((e,[t,n])=>({...e,[t.split(Zt)[1]]:n})),{}),nn=()=>({}),rn=async(e={})=>Qt(e.configFilepath??Bt()).then(Gt).then(tn).catch(nn),sn=async e=>{const t=await en(e);return((...e)=>{const t={};for(const n of e)for(const[e,r]of Object.entries(n))void 0!==t[e]?Object.assign(t[e],r):t[e]=r;return t})(t.configFile,t.credentialsFile)},on=({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>{return E(Ct((s=e,async()=>{try{const e=s(process.env);if(void 0===e)throw new Error;return e}catch(e){throw new Ot(e.message||`Cannot load config from environment variables with getter: ${s}`)}}),((e,{preferredFile:t="config",...n}={})=>async()=>{const r=Mt(n),{configFile:s,credentialsFile:o}=await en(n),i=o[r]||{},a=s[r]||{},c="config"===t?{...i,...a}:{...a,...i};try{const n=e(c,"config"===t?s:o);if(void 0===n)throw new Error;return n}catch(t){throw new Ot(t.message||`Cannot load config for profile ${r} in SDK configuration files with getter: ${e}`)}})(t,r),(e=>{return"function"==typeof e?async()=>await e():(t=e,()=>Promise.resolve(t));var t})(n)));var s},an="AWS_ENDPOINT_URL",cn="endpoint_url",un=e=>{if("string"==typeof e)return un(new URL(e));const{hostname:t,pathname:n,port:r,protocol:s,search:o}=e;let i;return o&&(i=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:i}},ln=e=>"object"==typeof e?"url"in e?un(e.url):e:un(e),dn=async(e,t,n)=>{const r={},s=t?.getEndpointParameterInstructions?.()||{};for(const[t,o]of Object.entries(s))switch(o.type){case"staticContextParams":r[t]=o.value;break;case"contextParams":r[t]=e[o.name];break;case"clientContextParams":case"builtInParams":r[t]=await kt(o.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(s).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,s,o,i]=e.split(":"),a="arn"===t&&e.split(":").length>=6,c=5===[t,n,r,o,i].filter(Boolean).length;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&r&&o&&i)})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!Pt.test(n)||It.test(n)||At.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},pn=({config:e,instructions:t})=>(n,r)=>async s=>{const o=await(async(e,t,n,r)=>{if(!n.endpoint){const e=await(async e=>on((e=>({environmentVariableSelector:t=>{const n=e.split(" ").map((e=>e.toUpperCase()));return t[[an,...n].join("_")]||t[an]||void 0},configFileSelector:(t,n)=>{if(n&&t.services){const r=n[["services",t.services].join(Zt)];if(r){const t=e.split(" ").map((e=>e.toLowerCase())),n=r[[t.join("_"),cn].join(Zt)];if(n)return n}}const r=t[cn];if(r)return r},default:void 0}))(e))())(n.serviceId||"");e&&(n.endpoint=()=>Promise.resolve(ln(e)))}const s=await dn(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)})(s.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const i=r.authSchemes?.[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const e=(e=>e[l]||(e[l]={}))(r),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...s})},fn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},hn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function mn(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async r=>{const{response:s}=await n(r);try{return{response:s,output:await t(s,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t}throw e}})(e,n),fn),r.add(((e,t)=>(n,r)=>async s=>{const o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await t(s.input,{...e,endpoint:o});return n({...s,request:i})})(e,t),hn)}}}const gn={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:hn.name},yn=(e,t)=>({applyToStack:n=>{n.addRelativeTo(pn({config:e,instructions:t}),gn)}}),wn=e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>ln(await F(n)()):void 0,s=!!n;return{...e,endpoint:r,tls:t,isCustomEndpoint:s,useDualstackEndpoint:F(e.useDualstackEndpoint??!1),useFipsEndpoint:F(e.useFipsEndpoint??!1)}};var bn,vn;(vn=bn||(bn={})).STANDARD="standard",vn.ADAPTIVE="adaptive";const Sn=bn.STANDARD,En=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],xn=["TimeoutError","RequestTimeout","RequestTimeoutException"],Pn=[500,502,503,504],In=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],An=e=>429===e.$metadata?.httpStatusCode||En.includes(e.name)||1==e.$retryable?.throttling,kn=e=>xn.includes(e.name)||In.includes(e?.code||"")||Pn.includes(e.$metadata?.httpStatusCode||0);class Tn{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),An(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const Cn=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>n});class On{constructor(e){this.maxAttempts=e,this.mode=bn.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return Cn({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:100);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,Cn({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class Rn{constructor(e,t){this.maxAttemptsProvider=e,this.mode=bn.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new Tn,this.standardRetryStrategy=new On(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const Nn="AWS_MAX_ATTEMPTS",$n="max_attempts",Dn={environmentVariableSelector:e=>{const t=e[Nn];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${Nn} mast be a number, got "${t}"`);return n},configFileSelector:e=>{const t=e[$n];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${$n} mast be a number, got "${t}"`);return n},default:3},_n=e=>{const{retryStrategy:t}=e,n=F(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await F(e.retryMode)()===bn.ADAPTIVE?new Rn(n):new On(n))}},Mn={environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:Sn},jn=new Uint8Array(256);let Un=jn.length;function qn(){return Un>jn.length-16&&(Ut().randomFillSync(jn),Un=0),jn.slice(Un,Un+=16)}const Fn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zn=[];for(let e=0;e<256;++e)zn.push((e+256).toString(16).substr(1));const Ln=function(e,t=0){const n=(zn[e[t+0]]+zn[e[t+1]]+zn[e[t+2]]+zn[e[t+3]]+"-"+zn[e[t+4]]+zn[e[t+5]]+"-"+zn[e[t+6]]+zn[e[t+7]]+"-"+zn[e[t+8]]+zn[e[t+9]]+"-"+zn[e[t+10]]+zn[e[t+11]]+zn[e[t+12]]+zn[e[t+13]]+zn[e[t+14]]+zn[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Fn.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Vn=function(e,t,n){const r=(e=e||{}).random||(e.rng||qn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Ln(r)},Bn=e=>{const t={errorType:Wn(e)},n=Gn(e.$response);return n&&(t.retryAfterHint=n),t},Wn=e=>An(e)?"THROTTLING":kn(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!kn(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",Hn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Kn=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let s=await e.retryStrategy();const o=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(s))return s?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r);{let e=await s.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0;const{request:l}=r;for(f.isInstance(l)&&(l.headers["amz-sdk-invocation-id"]=Vn());;)try{f.isInstance(l)&&(l.headers["amz-sdk-request"]=`attempt=${c+1}; max=${o}`);const{response:n,output:i}=await t(r);return s.recordSuccess(e),i.$metadata.attempts=c+1,i.$metadata.totalRetryDelay=u,{response:n,output:i}}catch(t){const n=Bn(t);a=(i=t)instanceof Error?i:i instanceof Object?Object.assign(new Error,i):"string"==typeof i?new Error(i):new Error(`AWS SDK error wrapper for ${i}`);try{e=await s.refreshRetryTokenForRetry(e,n)}catch(e){throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=e.getRetryCount();const r=e.getRetryDelay();u+=r,await new Promise((e=>setTimeout(e,r)))}}var i})(e),Hn)}}),Gn=e=>{if(!h.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)};class Jn{trace(){}debug(){}info(){}warn(){}error(){}}const Xn=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const e of t)n.push(e);return n},Qn=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Yn=()=>{let e=[],t=[],n=!1;const r=new Set,s=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n.identifyOnResolve?.(a.identifyOnResolve()),n),o=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t},i=(n=!1)=>{const r=[],s=[],i={};e.forEach((e=>{const t={...e,before:[],after:[]};for(const e of Xn(t.name,t.aliases))i[e]=t;r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};for(const e of Xn(t.name,t.aliases))i[e]=t;s.push(t)})),s.forEach((e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${Qn(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const a=(c=r,c.sort(((e,t)=>Zn[t.step]-Zn[e.step]||er[t.priority||"normal"]-er[e.priority||"normal"]))).map(o).reduce(((e,t)=>(e.push(...t),e)),[]);var c;return a},a={add:(t,n={})=>{const{name:s,override:o,aliases:i}=n,a={step:"initialize",priority:"normal",middleware:t,...n},c=Xn(s,i);if(c.length>0){if(c.some((e=>r.has(e)))){if(!o)throw new Error(`Duplicate middleware name '${Qn(s,i)}'`);for(const t of c){const n=e.findIndex((e=>e.name===t||e.aliases?.some((e=>e===t))));if(-1===n)continue;const r=e[n];if(r.step!==a.step||a.priority!==r.priority)throw new Error(`"${Qn(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${Qn(s,i)}" middleware with ${a.priority} priority in ${a.step} step.`);e.splice(n,1)}}for(const e of c)r.add(e)}e.push(a)},addRelativeTo:(e,n)=>{const{name:s,override:o,aliases:i}=n,a={middleware:e,...n},c=Xn(s,i);if(c.length>0){if(c.some((e=>r.has(e)))){if(!o)throw new Error(`Duplicate middleware name '${Qn(s,i)}'`);for(const e of c){const n=t.findIndex((t=>t.name===e||t.aliases?.some((t=>t===e))));if(-1===n)continue;const r=t[n];if(r.toMiddleware!==a.toMiddleware||r.relation!==a.relation)throw new Error(`"${Qn(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${Qn(s,i)}" middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(n,1)}}for(const e of c)r.add(e)}t.push(a)},clone:()=>s(Yn()),use:e=>{e.applyToStack(a)},remove:n=>"string"==typeof n?(n=>{let s=!1;const o=e=>{const t=Xn(e.name,e.aliases);if(t.includes(n)){s=!0;for(const e of t)r.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),s})(n):(n=>{let s=!1;const o=e=>{if(e.middleware===n){s=!0;for(const t of Xn(e.name,e.aliases))r.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),s})(n),removeByTag:n=>{let s=!1;const o=e=>{const{tags:t,name:o,aliases:i}=e;if(t&&t.includes(n)){const e=Xn(o,i);for(const t of e)r.delete(t);return s=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),s},concat:e=>{const t=s(Yn());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:s,identify:()=>i(!0).map((e=>{const t=e.step??e.relation+" "+e.toMiddleware;return Qn(e.name,e.aliases)+" - "+t})),identifyOnResolve:e=>("boolean"==typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of i().map((e=>e.middleware)).reverse())e=n(e,t);return n&&console.log(a.identify()),e}};return a},Zn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},er={high:3,normal:2,low:1};class tr{constructor(e){this.middlewareStack=Yn(),this.config=e}send(e,t,n){const r="function"!=typeof t?t:void 0,s="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!s)return o(e).then((e=>e.output));o(e).then((e=>s(null,e.output)),(e=>s(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const nr=/^[A-Za-z0-9+/]*={0,2}$/,rr=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!nr.exec(e))throw new TypeError("Invalid base64 string.");const t=B(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},sr=e=>V(e.buffer,e.byteOffset,e.byteLength).toString("base64");class or extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?or.mutate(rr(e)):or.mutate(W(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,or.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?sr(e):K(e)}(this,e)}}const ir=require("stream"),ar=require("http"),cr=require("https"),ur=["ECONNRESET","EPIPE","ETIMEDOUT"],lr=e=>{const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t};class dr{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise(((t,n)=>{"function"==typeof e?e().then((e=>{t(this.resolveDefaultConfig(e))})).catch(n):t(this.resolveDefaultConfig(e))}))}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:n,socketTimeout:r,httpAgent:s,httpsAgent:o}=e||{};return{connectionTimeout:n,requestTimeout:t??r,httpAgent:s||new ar.Agent({keepAlive:!0,maxSockets:50}),httpsAgent:o||new cr.Agent({keepAlive:!0,maxSockets:50})}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise(((n,r)=>{let s;const o=async e=>{await s,r(e)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void o(e)}const i="https:"===e.protocol,a=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=he(n),Array.isArray(r))for(let e=0,s=r.length;e<s;e++)t.push(`${n}=${he(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${he(r)}`),t.push(e)}}return t.join("&")}(e.query||{});let c;null==e.username&&null==e.password||(c=`${e.username??""}:${e.password??""}`);let u=e.path;a&&(u+=`?${a}`),e.fragment&&(u+=`#${e.fragment}`);const l={headers:e.headers,host:e.hostname,method:e.method,path:u,port:e.port,agent:i?this.config.httpsAgent:this.config.httpAgent,auth:c},d=(i?cr.request:ar.request)(l,(e=>{(async e=>{await s,n(e)})({response:new h({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:lr(e.headers),body:e})})}));d.on("error",(e=>{ur.includes(e.code)?o(Object.assign(e,{name:"TimeoutError"})):o(e)})),((e,t,n=0)=>{if(!n)return;const r=setTimeout((()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${n} ms`),{name:"TimeoutError"}))}),n);e.on("socket",(e=>{e.connecting?e.on("connect",(()=>{clearTimeout(r)})):clearTimeout(r)}))})(d,o,this.config.connectionTimeout),((e,t,n=0)=>{e.setTimeout(n,(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${n} ms`),{name:"TimeoutError"}))}))})(d,o,this.config.requestTimeout),t&&(t.onabort=()=>{d.abort();const e=new Error("Request aborted");e.name="AbortError",o(e)});const p=l.agent;"object"==typeof p&&"keepAlive"in p&&((e,{keepAlive:t,keepAliveMsecs:n})=>{!0===t&&e.on("socket",(e=>{e.setKeepAlive(t,n||0)}))})(d,{keepAlive:p.keepAlive,keepAliveMsecs:p.keepAliveMsecs}),s=async function(e,t,n=1e3){const r=t.headers??{},s=r.Expect||r.expect;let o=-1,i=!1;"100-continue"===s&&await Promise.race([new Promise((e=>{o=Number(setTimeout(e,Math.max(1e3,n)))})),new Promise((t=>{e.on("continue",(()=>{clearTimeout(o),t()})),e.on("error",(()=>{i=!0,clearTimeout(o),t()}))}))]),i||function(e,t){t instanceof ir.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}(e,t.body)}(d,e,this.config.requestTimeout).catch(r)}))}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>({...n,[e]:t})))}httpHandlerConfigs(){return this.config??{}}}require("http2"),Symbol.iterator;class pr extends ir.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,n){this.bufferedBytes.push(e),n()}}const fr=e=>new Promise(((t,n)=>{const r=new pr;e.pipe(r),e.on("error",(e=>{r.end(),n(e)})),r.on("error",n),r.on("finish",(function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)}))})),hr=require("util"),mr=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return or.mutate(e);if(!e)return or.mutate(new Uint8Array);const n=t.streamCollector(e);return or.mutate(await n)};class gr{constructor(){this.middlewareStack=Yn()}}const yr="***SensitiveInformation***",wr=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Rr.warn(Or(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},br=Math.ceil(2**127*(2-2**-23)),vr=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Sr=e=>Er(e,32),Er=(e,t)=>{const n=vr(e);if(void 0!==n&&xr(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},xr=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Pr=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},Ir=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Ar=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Rr.warn(Or(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},kr=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Tr=e=>{const t=e.match(kr);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Cr=e=>Sr("string"==typeof e?Tr(e):e),Or=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),Rr={warn:console.warn},Nr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$r=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Dr=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=$r.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,s,o,i,a,c,u,l]=t,d=(e=>(e=>Er(e,16))("string"==typeof e?Tr(e):e))(Lr(r)),p=qr(s,"month",1,12),f=qr(o,"day",1,31),h=_r(d,p,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return"Z"!=l.toUpperCase()&&h.setTime(h.getTime()-zr(l)),h},_r=(e,t,n,r)=>{const s=t-1;return jr(e,s,n),new Date(Date.UTC(e,s,n,qr(r.hours,"hour",0,23),qr(r.minutes,"minute",0,59),qr(r.seconds,"seconds",0,60),Fr(r.fractionalMilliseconds)))},Mr=[31,28,31,30,31,30,31,31,30,31,30,31],jr=(e,t,n)=>{let r=Mr[t];if(1===t&&Ur(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${Nr[t]} in ${e}: ${n}`)},Ur=e=>e%4==0&&(e%100!=0||e%400==0),qr=(e,t,n,r)=>{const s=(e=>(e=>Er(e,8))("string"==typeof e?Tr(e):e))(Lr(e));if(s<n||s>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return s},Fr=e=>null==e?0:1e3*(e=>(e=>{const t=wr(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>br)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?Tr(e):e))("0."+e),zr=e=>{const t=e[0];let n=1;if("+"==t)n=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);n=-1}return n*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},Lr=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class Vr extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Vr.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const Br=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},Wr=e=>({output:t,parsedBody:n,errorCode:r})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const s=Hr(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw Br(i,t)})({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},Hr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Kr=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let Gr=!1;const Jr=e=>{e&&!Gr&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Gr=!0)},Xr=e=>{const t=[];for(const n in a){const r=a[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},Qr=e=>{const t={};return e.checksumAlgorithms().forEach((e=>{t[e.algorithmId()]=e.checksumConstructor()})),t},Yr=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},Zr=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},es=e=>({...Xr(e),...Yr(e)}),ts=e=>({...Qr(e),...Zr(e)});function ns(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const rs=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=rs(e[n]));return e},ss=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function os(e,t,n){let r,s,o;if(void 0===t&&void 0===n)r={},o=e;else{if(r=e,"function"==typeof t)return s=t,o=n,as(r,s,o);o=t}for(const e of Object.keys(o))Array.isArray(o[e])?cs(r,null,o,e):r[e]=o[e];return r}ss.prototype=Object.create(String.prototype,{constructor:{value:ss,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(ss,String);const is=(e,t)=>{const n={};for(const r in t)cs(n,e,t,r);return n},as=(e,t,n)=>os(e,Object.entries(n).reduce(((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e)),{})),cs=(e,t,n,r)=>{if(null!==t){let s=n[r];"function"==typeof s&&(s=[,s]);const[o=us,i=ls,a=r]=s;return void(("function"==typeof o&&o(t[a])||"function"!=typeof o&&o)&&(e[r]=i(t[a])))}let[s,o]=n[r];if("function"==typeof o){let t;const n=void 0===s&&null!=(t=o()),i="function"==typeof s&&!!s(void 0)||"function"!=typeof s&&!!s;n?e[r]=t:i&&(e[r]=o())}else{const t=void 0===s&&null!=o,n="function"==typeof s&&!!s(o)||"function"!=typeof s&&!!s;(t||n)&&(e[r]=o)}},us=e=>null!=e,ls=e=>e,ds=(e,t,n,r,s,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(s,o?t.split("/").map((e=>ns(e))).join("/"):ns(t))}return e},ps=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},fs=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e));if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=fs(e[n]));return t}return e};class hs extends Vr{constructor(e){super(e),Object.setPrototypeOf(this,hs.prototype)}}class ms extends hs{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ms.prototype)}}class gs extends hs{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,gs.prototype)}}class ys extends hs{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,ys.prototype)}}class ws extends hs{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,ws.prototype)}}class bs extends hs{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,bs.prototype)}}class vs extends hs{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,vs.prototype)}}class Ss extends hs{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Ss.prototype)}}const Es=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:yr}}),xs=e=>({...e,...e.Credentials&&{Credentials:Es(e.Credentials)}}),Ps=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:yr}}),Is=e=>({...e,...e.Credentials&&{Credentials:Es(e.Credentials)}});var As=n(932);const ks=async(e,t)=>{const n=e.body,r=Ws(n.Error,t),s=new ms({$metadata:Ys(e),...r});return Br(s,n)},Ts=async(e,t)=>{const n=e.body,r=Hs(n.Error,t),s=new Ss({$metadata:Ys(e),...r});return Br(s,n)},Cs=async(e,t)=>{const n=e.body,r=Ks(n.Error,t),s=new bs({$metadata:Ys(e),...r});return Br(s,n)},Os=async(e,t)=>{const n=e.body,r=Gs(n.Error,t),s=new vs({$metadata:Ys(e),...r});return Br(s,n)},Rs=async(e,t)=>{const n=e.body,r=Js(n.Error,t),s=new gs({$metadata:Ys(e),...r});return Br(s,n)},Ns=async(e,t)=>{const n=e.body,r=Xs(n.Error,t),s=new ys({$metadata:Ys(e),...r});return Br(s,n)},$s=async(e,t)=>{const n=e.body,r=Qs(n.Error,t),s=new ws({$metadata:Ys(e),...r});return Br(s,n)},Ds=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.PolicyArns){const r=Ms(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(r).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),null!=e.Tags){const r=Ls(e.Tags,t);0===e.Tags?.length&&(n.Tags=[]),Object.entries(r).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}if(null!=e.TransitiveTagKeys){const r=zs(e.TransitiveTagKeys,t);0===e.TransitiveTagKeys?.length&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach((([e,t])=>{n[`TransitiveTagKeys.${e}`]=t}))}if(null!=e.ExternalId&&(n.ExternalId=e.ExternalId),null!=e.SerialNumber&&(n.SerialNumber=e.SerialNumber),null!=e.TokenCode&&(n.TokenCode=e.TokenCode),null!=e.SourceIdentity&&(n.SourceIdentity=e.SourceIdentity),null!=e.ProvidedContexts){const r=qs(e.ProvidedContexts,t);0===e.ProvidedContexts?.length&&(n.ProvidedContexts=[]),Object.entries(r).forEach((([e,t])=>{n[`ProvidedContexts.${e}`]=t}))}return n},_s=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.WebIdentityToken&&(n.WebIdentityToken=e.WebIdentityToken),null!=e.ProviderId&&(n.ProviderId=e.ProviderId),null!=e.PolicyArns){const r=Ms(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(r).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),n},Ms=(e,t)=>{const n={};let r=1;for(const s of e){if(null===s)continue;const e=js(s,t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},js=(e,t)=>{const n={};return null!=e.arn&&(n.arn=e.arn),n},Us=(e,t)=>{const n={};return null!=e.ProviderArn&&(n.ProviderArn=e.ProviderArn),null!=e.ContextAssertion&&(n.ContextAssertion=e.ContextAssertion),n},qs=(e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=Us(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},Fs=(e,t)=>{const n={};return null!=e.Key&&(n.Key=e.Key),null!=e.Value&&(n.Value=e.Value),n},zs=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},Ls=(e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=Fs(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},Vs=(e,t)=>{const n={};return void 0!==e.AssumedRoleId&&(n.AssumedRoleId=Ar(e.AssumedRoleId)),void 0!==e.Arn&&(n.Arn=Ar(e.Arn)),n},Bs=(e,t)=>{const n={};return void 0!==e.AccessKeyId&&(n.AccessKeyId=Ar(e.AccessKeyId)),void 0!==e.SecretAccessKey&&(n.SecretAccessKey=Ar(e.SecretAccessKey)),void 0!==e.SessionToken&&(n.SessionToken=Ar(e.SessionToken)),void 0!==e.Expiration&&(n.Expiration=Pr(Dr(e.Expiration))),n},Ws=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Hs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Ks=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Gs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Js=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Xs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Qs=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Ys=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Zs=Wr(hs),eo=async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new f(u)},to={"content-type":"application/x-www-form-urlencoded"},no=(e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new As.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),rs(o)}return{}})),ro=async(e,t)=>{const n=await no(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},so=e=>Object.entries(e).map((([e,t])=>ns(e)+"="+ns(t))).join("&"),oo=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class io extends gr{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,io.getEndpointParameterInstructions())),this.middlewareStack.use(Ce(t));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:xs,[l]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=to;let r;return r=so({...Ds(e,t),Action:"AssumeRole",Version:"2011-06-15"}),eo(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await ro(e.body,t)},r=oo(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ks(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Rs(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Ns(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await $s(n,t);default:const s=n.body;return Zs({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=Bs(e.Credentials,t)),void 0!==e.AssumedRoleUser&&(n.AssumedRoleUser=Vs(e.AssumedRoleUser)),void 0!==e.PackedPolicySize&&(n.PackedPolicySize=Cr(e.PackedPolicySize)),void 0!==e.SourceIdentity&&(n.SourceIdentity=Ar(e.SourceIdentity)),n})((await no(e.body,t)).AssumeRoleResult,t),{$metadata:Ys(e),...n}})(e,t)}}class ao extends gr{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,ao.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:Ps,outputFilterSensitiveLog:Is,[l]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=to;let r;return r=so({..._s(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),eo(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await ro(e.body,t)},r=oo(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ks(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Ts(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Cs(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Os(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Rs(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Ns(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await $s(n,t);default:const s=n.body;return Zs({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=Bs(e.Credentials,t)),void 0!==e.SubjectFromWebIdentityToken&&(n.SubjectFromWebIdentityToken=Ar(e.SubjectFromWebIdentityToken)),void 0!==e.AssumedRoleUser&&(n.AssumedRoleUser=Vs(e.AssumedRoleUser)),void 0!==e.PackedPolicySize&&(n.PackedPolicySize=Cr(e.PackedPolicySize)),void 0!==e.Provider&&(n.Provider=Ar(e.Provider)),void 0!==e.Audience&&(n.Audience=Ar(e.Audience)),void 0!==e.SourceIdentity&&(n.SourceIdentity=Ar(e.SourceIdentity)),n})((await no(e.body,t)).AssumeRoleWithWebIdentityResult,t),{$metadata:Ys(e),...n}})(e,t)}}const co="us-east-1",uo=e=>"function"!=typeof e?void 0===e?co:e:async()=>{try{return await e()}catch(e){return co}},lo=(e,t)=>{let n,r;return async(s,o)=>{if(r=s,!n){const{logger:s,region:o,requestHandler:i}=e;n=new t({logger:s,credentialDefaultProvider:()=>async()=>r,region:uo(o||e.region),...i?{requestHandler:i}:{}})}const{Credentials:i}=await n.send(new io(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},po=(e,t)=>{let n;return async r=>{if(!n){const{logger:r,region:s,requestHandler:o}=e;n=new t({logger:r,region:uo(s||e.region),...o?{requestHandler:o}:{}})}const{Credentials:s}=await n.send(new ao(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};let fo=!1;const ho=e=>{e&&!fo&&parseInt(e.substring(1,e.indexOf(".")))<16&&(fo=!0,process.emitWarning("NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\nno longer support Node.js 14.x on May 1, 2024.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to an active Node.js LTS version.\n\nMore information can be found at: https://a.co/dzr2AJd"))},mo=()=>async()=>{const e=process.env.AWS_ACCESS_KEY_ID,t=process.env.AWS_SECRET_ACCESS_KEY,n=process.env.AWS_SESSION_TOKEN,r=process.env.AWS_CREDENTIAL_EXPIRATION;if(e&&t)return{accessKeyId:e,secretAccessKey:t,...n&&{sessionToken:n},...r&&{expiration:new Date(r)}};throw new Ot("Unable to find environment variable credentials.")},go=require("url");function yo(e){return new Promise(((t,n)=>{const r=(0,ar.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",(e=>{n(Object.assign(new Tt("Unable to connect to instance metadata service"),e)),r.destroy()})),r.on("timeout",(()=>{n(new Tt("TimeoutError from instance metadata service")),r.destroy()})),r.on("response",(e=>{const{statusCode:s=400}=e;(s<200||300<=s)&&(n(Object.assign(new Tt("Error response received from instance metadata service"),{statusCode:s})),r.destroy());const o=[];e.on("data",(e=>{o.push(e)})),e.on("end",(()=>{t(L.Buffer.concat(o)),r.destroy()}))})),r.end()}))}const wo=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,bo=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),vo=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t}),So=(e,t)=>{let n=e();for(let r=0;r<t;r++)n=n.catch(e);return n},Eo="AWS_CONTAINER_CREDENTIALS_FULL_URI",xo="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Po="AWS_CONTAINER_AUTHORIZATION_TOKEN",Io=(e={})=>{const{timeout:t,maxRetries:n}=vo(e);return()=>So((async()=>{const e=await Co(),n=JSON.parse(await Ao(t,e));if(!wo(n))throw new Ot("Invalid response received from instance metadata service.");return bo(n)}),n)},Ao=async(e,t)=>(process.env[Po]&&(t.headers={...t.headers,Authorization:process.env[Po]}),(await yo({...t,timeout:e})).toString()),ko={localhost:!0,"127.0.0.1":!0},To={"http:":!0,"https:":!0},Co=async()=>{if(process.env[xo])return{hostname:"169.254.170.2",path:process.env[xo]};if(process.env[Eo]){const e=(0,go.parse)(process.env[Eo]);if(!e.hostname||!(e.hostname in ko))throw new Ot(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in To))throw new Ot(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Ot(`The container metadata credential provider cannot be used unless the ${xo} or ${Eo} environment variable is set`,!1)};class Oo extends Ot{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,Oo.prototype)}}var Ro;!function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"}(Ro||(Ro={}));const No={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:e=>e.ec2_metadata_service_endpoint,default:void 0};var $o;!function(e){e.IPv4="IPv4",e.IPv6="IPv6"}($o||($o={}));const Do={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:e=>e.ec2_metadata_service_endpoint_mode,default:$o.IPv4},_o=async()=>un(await Mo()||await jo()),Mo=async()=>on(No)(),jo=async()=>{const e=await on(Do)();switch(e){case $o.IPv4:return Ro.IPv4;case $o.IPv6:return Ro.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values($o)}`)}},Uo=(e,t)=>{const n=300+Math.floor(300*Math.random()),r=new Date(Date.now()+1e3*n);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html");const s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}},qo="/latest/meta-data/iam/security-credentials/",Fo="AWS_EC2_METADATA_V1_DISABLED",zo="ec2_metadata_v1_disabled",Lo="x-aws-ec2-metadata-token",Vo=(e={})=>((e,t={})=>{const n=t?.logger||console;let r;return async()=>{let t;try{t=await e(),t.expiration&&t.expiration.getTime()<Date.now()&&(t=Uo(t,n))}catch(e){if(!r)throw e;n.warn("Credential renew failed: ",e),t=Uo(r,n)}return r=t,t}})(Bo(e),{logger:e.logger}),Bo=e=>{let t=!1;const{logger:n,profile:r}=e,{timeout:s,maxRetries:o}=vo(e),i=async(n,s)=>{if(t||null==s.headers?.[Lo]){let t=!1,n=!1;const s=await on({environmentVariableSelector:e=>{const t=e[Fo];if(n=!!t&&"false"!==t,void 0===t)throw new Ot(`${Fo} not set in env, checking config file next.`);return n},configFileSelector:e=>{const n=e[zo];return t=!!n&&"false"!==n,t},default:!1},{profile:r})();if(e.ec2MetadataV1Disabled||s){const r=[];throw e.ec2MetadataV1Disabled&&r.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),t&&r.push(`config file profile (${zo})`),n&&r.push(`process environment variable (${Fo})`),new Oo(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${r.join(", ")}].`)}}const o=(await So((async()=>{let e;try{e=await Ho(s)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e}),n)).trim();return So((async()=>{let e;try{e=await Ko(o,s)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e}),n)};return async()=>{const e=await _o();if(t)return n?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...e,timeout:s});{let r;try{r=(await Wo({...e,timeout:s})).toString()}catch(r){if(400===r?.statusCode)throw Object.assign(r,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===r.message||[403,404,405].includes(r.statusCode))&&(t=!0),n?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...e,timeout:s})}return i(o,{...e,headers:{[Lo]:r},timeout:s})}}},Wo=async e=>yo({...e,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Ho=async e=>(await yo({...e,path:qo})).toString(),Ko=async(e,t)=>{const n=JSON.parse((await yo({...t,path:qo+e})).toString());if(!wo(n))throw new Ot("Invalid response received from instance metadata service.");return bo(n)},Go=require("child_process"),Jo=(e={})=>async()=>{const t=await sn(e);return(async(e,t)=>{const n=t[e];if(!t[e])throw new Ot(`Profile ${e} could not be found in shared credentials file.`);{const t=n.credential_process;if(void 0===t)throw new Ot(`Profile ${e} did not contain credential_process.`);{const n=(0,hr.promisify)(Go.exec);try{const{stdout:r}=await n(t);let s;try{s=JSON.parse(r.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return((e,t)=>{if(1!==t.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===t.AccessKeyId||void 0===t.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){const n=new Date;if(new Date(t.Expiration)<n)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}})(e,s)}catch(e){throw new Ot(e.message)}}}})(Mt(e),t)},Xo=e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),Qo=require("process"),Yo=({serviceId:e,clientVersion:t})=>{const n=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,Rt.platform)()}`,(0,Rt.release)()],["lang/js"],["md/nodejs",`${Qo.versions.node}`]];e&&n.push([`api/${e}`,t]),Qo.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Qo.env.AWS_EXECUTION_ENV}`]);const r=on({environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e["sdk-ua-app-id"],default:void 0})();let s;return async()=>{if(!s){const e=await r;s=e?[...n,[`app/${e}`]]:[...n]}return s}};class Zo{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update(H(ei(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,jt.createHmac)(this.algorithmIdentifier,ei(this.secret)):(0,jt.createHash)(this.algorithmIdentifier)}}function ei(e,t){return L.Buffer.isBuffer(e)?e:"string"==typeof e?B(e,t):ArrayBuffer.isView(e)?V(e.buffer,e.byteOffset,e.byteLength):V(e)}const ti=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.from(e).length;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,Ft.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,Ft.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},ni="required",ri="fn",si="argv",oi="ref",ii="isSet",ai="booleanEquals",ci="error",ui="endpoint",li="tree",di="PartitionResult",pi="getAttr",fi={[ni]:!1,type:"String"},hi={[ni]:!0,default:!1,type:"Boolean"},mi={[oi]:"Endpoint"},gi={[ri]:ai,[si]:[{[oi]:"UseFIPS"},!0]},yi={[ri]:ai,[si]:[{[oi]:"UseDualStack"},!0]},wi={},bi={[ri]:pi,[si]:[{[oi]:di},"supportsFIPS"]},vi={[oi]:di},Si={[ri]:ai,[si]:[!0,{[ri]:pi,[si]:[vi,"supportsDualStack"]}]},Ei=[gi],xi=[yi],Pi=[{[oi]:"Region"}],Ii={version:"1.0",parameters:{Region:fi,UseDualStack:hi,UseFIPS:hi,Endpoint:fi},rules:[{conditions:[{[ri]:ii,[si]:[mi]}],rules:[{conditions:Ei,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ci},{conditions:xi,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ci},{endpoint:{url:mi,properties:wi,headers:wi},type:ui}],type:li},{conditions:[{[ri]:ii,[si]:Pi}],rules:[{conditions:[{[ri]:"aws.partition",[si]:Pi,assign:di}],rules:[{conditions:[gi,yi],rules:[{conditions:[{[ri]:ai,[si]:[!0,bi]},Si],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:wi,headers:wi},type:ui}],type:li},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ci}],type:li},{conditions:Ei,rules:[{conditions:[{[ri]:ai,[si]:[bi,!0]}],rules:[{conditions:[{[ri]:"stringEquals",[si]:[{[ri]:pi,[si]:[vi,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:wi,headers:wi},type:ui},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:wi,headers:wi},type:ui}],type:li},{error:"FIPS is enabled but this partition does not support FIPS",type:ci}],type:li},{conditions:xi,rules:[{conditions:[Si],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:wi,headers:wi},type:ui}],type:li},{error:"DualStack is enabled but this partition does not support DualStack",type:ci}],type:li},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:wi,headers:wi},type:ui}],type:li}],type:li},{error:"Invalid Configuration: Missing Region",type:ci}]},Ai=(e,t={})=>tt(Ii,{endpointParams:e,logger:t.logger}),ki="AWS_REGION",Ti="AWS_DEFAULT_REGION",Ci=["in-region","cross-region","mobile","standard","legacy"],Oi={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},Ri=({region:e=on(gt),defaultsMode:t=on(Oi)}={})=>E((async()=>{const n="function"==typeof t?await t():t;switch(n?.toLowerCase()){case"auto":return Ni(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Ci.join(", ")}, got ${n}`)}})),Ni=async e=>{if(e){const t="function"==typeof e?await e():e,n=await $i();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},$i=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[ki]||process.env[Ti]))return process.env[ki]??process.env[Ti];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const e=await _o();return(await yo({...e,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}},Di=e=>{let t=async()=>{if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const t=e.region;return"string"==typeof t?t:t()};return{setRegion(e){t=e},region:()=>t}},_i=e=>({region:e.region()});class Mi extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ai,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return ho(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.460.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)}})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var s;const o=vt(r),i=wn(o),a=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(_n(i)),n?.extensions||[]);super(a),this.config=a,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}class ji extends Vr{constructor(e){super(e),Object.setPrototypeOf(this,ji.prototype)}}class Ui extends ji{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Ui.prototype)}}class qi extends ji{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,qi.prototype)}}class Fi extends ji{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Fi.prototype)}}class zi extends ji{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,zi.prototype)}}const Li=e=>({...e,...e.accessToken&&{accessToken:yr}}),Vi=e=>({...e,...e.secretAccessKey&&{secretAccessKey:yr},...e.sessionToken&&{sessionToken:yr}}),Bi=e=>({...e,...e.roleCredentials&&{roleCredentials:Vi(e.roleCredentials)}}),Wi=Wr(ji),Hi=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{message:Ar});Object.assign(n,s);const o=new Ui({$metadata:Xi(e),...n});return Br(o,e.body)},Ki=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{message:Ar});Object.assign(n,s);const o=new qi({$metadata:Xi(e),...n});return Br(o,e.body)},Gi=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{message:Ar});Object.assign(n,s);const o=new Fi({$metadata:Xi(e),...n});return Br(o,e.body)},Ji=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{message:Ar});Object.assign(n,s);const o=new zi({$metadata:Xi(e),...n});return Br(o,e.body)},Xi=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Qi=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),Yi=(e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),Zi=async(e,t)=>{const n=await Yi(e,t);return n.message=n.message??n.Message,n},ea=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class ta extends gr{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,ta.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Li,outputFilterSensitiveLog:Bi,[l]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=os({},Qi,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=os({role_name:[,Pr(e.roleName,"roleName")],account_id:[,Pr(e.accountId,"accountId")]});return new f({protocol:r,hostname:n,port:s,method:"GET",headers:i,path:a,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Zi(e.body,t)},r=ea(e,n.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Hi(n,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ki(n,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Gi(n,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ji(n,t);default:const s=n.body;return Wi({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=os({$metadata:Xi(e)}),r=Pr(Ir(await Yi(e.body,t)),"body"),s=is(r,{roleCredentials:fs});return Object.assign(n,s),n})(e,t)}}class na extends Tt{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="TokenProviderError",Object.setPrototypeOf(this,na.prototype)}}const ra="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var sa="required",oa="fn",ia="argv",aa="ref",ca="isSet",ua="tree",la="error",da="endpoint",pa="PartitionResult",fa="getAttr",ha={[sa]:!1,type:"String"},ma={[sa]:!0,default:!1,type:"Boolean"},ga={[aa]:"Endpoint"},ya={[oa]:"booleanEquals",[ia]:[{[aa]:"UseFIPS"},!0]},wa={[oa]:"booleanEquals",[ia]:[{[aa]:"UseDualStack"},!0]},ba={},va={[oa]:"booleanEquals",[ia]:[!0,{[oa]:fa,[ia]:[{[aa]:pa},"supportsFIPS"]}]},Sa={[aa]:pa},Ea={[oa]:"booleanEquals",[ia]:[!0,{[oa]:fa,[ia]:[Sa,"supportsDualStack"]}]},xa=[ya],Pa=[wa],Ia=[{[aa]:"Region"}],Aa={version:"1.0",parameters:{Region:ha,UseDualStack:ma,UseFIPS:ma,Endpoint:ha},rules:[{conditions:[{[oa]:ca,[ia]:[ga]}],type:ua,rules:[{conditions:xa,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:la},{conditions:Pa,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:la},{endpoint:{url:ga,properties:ba,headers:ba},type:da}]},{conditions:[{[oa]:ca,[ia]:Ia}],type:ua,rules:[{conditions:[{[oa]:"aws.partition",[ia]:Ia,assign:pa}],type:ua,rules:[{conditions:[ya,wa],type:ua,rules:[{conditions:[va,Ea],type:ua,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ba,headers:ba},type:da}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:la}]},{conditions:xa,type:ua,rules:[{conditions:[va],type:ua,rules:[{conditions:[{[oa]:"stringEquals",[ia]:["aws-us-gov",{[oa]:fa,[ia]:[Sa,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:ba,headers:ba},type:da},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ba,headers:ba},type:da}]},{error:"FIPS is enabled but this partition does not support FIPS",type:la}]},{conditions:Pa,type:ua,rules:[{conditions:[Ea],type:ua,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ba,headers:ba},type:da}]},{error:"DualStack is enabled but this partition does not support DualStack",type:la}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:ba,headers:ba},type:da}]}]},{error:"Invalid Configuration: Missing Region",type:la}]},ka=(e,t={})=>tt(Aa,{endpointParams:e,logger:t.logger}),Ta=class extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ka,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.429.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)}})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var s;const o=vt(r),i=wn(o),a=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(_n(i)),n?.extensions||[]);super(a),this.config=a,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}},Ca=class e extends Vr{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Oa=class e extends Ca{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ra=class e extends Ca{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Na=class e extends Ca{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$a=class e extends Ca{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Da=class e extends Ca{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_a=class e extends Ca{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ma=class e extends Ca{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ja=class e extends Ca{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ua=class e extends Ca{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qa=class e extends Ca{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fa=class e extends Ca{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},za=class e extends Ca{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},La=Wr(Ca),Va=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Oa({$metadata:tc(e),...n});return Br(o,e.body)},Ba=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Ra({$metadata:tc(e),...n});return Br(o,e.body)},Wa=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Na({$metadata:tc(e),...n});return Br(o,e.body)},Ha=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new $a({$metadata:tc(e),...n});return Br(o,e.body)},Ka=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Da({$metadata:tc(e),...n});return Br(o,e.body)},Ga=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new za({$metadata:tc(e),...n});return Br(o,e.body)},Ja=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new _a({$metadata:tc(e),...n});return Br(o,e.body)},Xa=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Ma({$metadata:tc(e),...n});return Br(o,e.body)},Qa=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new ja({$metadata:tc(e),...n});return Br(o,e.body)},Ya=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Ua({$metadata:tc(e),...n});return Br(o,e.body)},Za=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new qa({$metadata:tc(e),...n});return Br(o,e.body)},ec=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{error:Ar,error_description:Ar});Object.assign(n,s);const o=new Fa({$metadata:tc(e),...n});return Br(o,e.body)},tc=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),nc=(e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),rc=async(e,t)=>{const n=await nc(e,t);return n.message=n.message??n.Message,n},sc=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0},oc=class e extends gr{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,n,r){this.middlewareStack.use(mn(n,this.serialize,this.deserialize)),this.middlewareStack.use(yn(n,e.getEndpointParameterInstructions()));const s=t.concat(this.middlewareStack),{logger:o}=n,i={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:a}=n;return s.resolve((e=>a.handle(e.request,r||{})),i)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/token`;let a;return a=JSON.stringify(is(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>fs(e)})),new f({protocol:r,hostname:n,port:s,method:"POST",headers:{"content-type":"application/json"},path:i,body:a})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rc(e.body,t)},r=sc(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Va(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Ba(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Wa(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Ha(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Ka(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Ja(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Xa(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Qa(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Ya(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Za(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await ec(n,t);default:const s=n.body;return La({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=os({$metadata:tc(e)}),r=Pr(Ir(await nc(e.body,t)),"body"),s=is(r,{accessToken:Ar,expiresIn:Sr,idToken:Ar,refreshToken:Ar,tokenType:Ar});return Object.assign(n,s),n})(e,t)}},ic={CreateTokenCommand:oc,RegisterClientCommand:class e extends gr{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,n,r){this.middlewareStack.use(mn(n,this.serialize,this.deserialize)),this.middlewareStack.use(yn(n,e.getEndpointParameterInstructions()));const s=t.concat(this.middlewareStack),{logger:o}=n,i={logger:o,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:a}=n;return s.resolve((e=>a.handle(e.request,r||{})),i)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/client/register`;let a;return a=JSON.stringify(is(e,{clientName:[],clientType:[],scopes:e=>fs(e)})),new f({protocol:r,hostname:n,port:s,method:"POST",headers:{"content-type":"application/json"},path:i,body:a})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rc(e.body,t)},r=sc(e,n.body);switch(r){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Ha(n,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Ga(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Xa(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Qa(n,t);default:const s=n.body;return La({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=os({$metadata:tc(e)}),r=Pr(Ir(await nc(e.body,t)),"body"),s=is(r,{authorizationEndpoint:Ar,clientId:Ar,clientIdIssuedAt:vr,clientSecret:Ar,clientSecretExpiresAt:vr,tokenEndpoint:Ar});return Object.assign(n,s),n})(e,t)}},StartDeviceAuthorizationCommand:class e extends gr{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,n,r){this.middlewareStack.use(mn(n,this.serialize,this.deserialize)),this.middlewareStack.use(yn(n,e.getEndpointParameterInstructions()));const s=t.concat(this.middlewareStack),{logger:o}=n,i={logger:o,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:a}=n;return s.resolve((e=>a.handle(e.request,r||{})),i)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/device_authorization`;let a;return a=JSON.stringify(is(e,{clientId:[],clientSecret:[],startUrl:[]})),new f({protocol:r,hostname:n,port:s,method:"POST",headers:{"content-type":"application/json"},path:i,body:a})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await rc(e.body,t)},r=sc(e,n.body);switch(r){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Ha(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Ka(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Xa(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Ya(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Za(n,t);default:const s=n.body;return La({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=os({$metadata:tc(e)}),r=Pr(Ir(await nc(e.body,t)),"body"),s=is(r,{deviceCode:Ar,expiresIn:Sr,interval:Sr,userCode:Ar,verificationUri:Ar,verificationUriComplete:Ar});return Object.assign(n,s),n})(e,t)}}};((e,t)=>{for(const n of Object.keys(e)){const r=e[n],s=async function(e,t,n){const s=new r(e);if("function"==typeof t)this.send(s,t);else{if("function"!=typeof n)return this.send(s,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(s,t||{},n)}},o=(n[0].toLowerCase()+n.slice(1)).replace(/Command$/,"");t.prototype[o]=s}})(ic,class extends Ta{});const ac={},cc=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new na(`Token is expired. ${ra}`,!1)},uc=(e,t,n=!1)=>{if(void 0===t)throw new na(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${ra}`,!1)},{writeFile:lc}=Ft.promises,dc=new Date(0),pc=(e={})=>async()=>{const t=await sn(e),n=Mt(e),r=t[n];if(!r)throw new na(`Profile '${n}' could not be found in shared credentials file.`,!1);if(!r.sso_session)throw new na(`Profile '${n}' is missing required property 'sso_session'.`);const s=r.sso_session,o=(await rn(e))[s];if(!o)throw new na(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(const e of["sso_start_url","sso_region"])if(!o[e])throw new na(`Sso session '${s}' is missing required property '${e}'.`,!1);o.sso_start_url;const i=o.sso_region;let a;try{a=await Lt(s)}catch(e){throw new na(`The SSO session token associated with profile=${n} was not found or is invalid. ${ra}`,!1)}uc("accessToken",a.accessToken),uc("expiresAt",a.expiresAt);const{accessToken:c,expiresAt:u}=a,l={token:c,expiration:new Date(u)};if(l.expiration.getTime()-Date.now()>3e5)return l;if(Date.now()-dc.getTime()<3e4)return cc(l),l;uc("clientId",a.clientId,!0),uc("clientSecret",a.clientSecret,!0),uc("refreshToken",a.refreshToken,!0);try{dc.setTime(Date.now());const e=await((e,t)=>{const n=(e=>{if(ac[e])return ac[e];const t=new Ta({region:e});return ac[e]=t,t})(t);return n.send(new oc({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))})(a,i);uc("accessToken",e.accessToken),uc("expiresIn",e.expiresIn);const t=new Date(Date.now()+1e3*e.expiresIn);try{await((e,t)=>{const n=qt(e),r=JSON.stringify(t,null,2);return lc(n,r)})(s,{...a,accessToken:e.accessToken,expiresAt:t.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:t}}catch(e){return cc(l),l}},fc=!1,hc=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:i})=>{let a;const c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{const e=await pc({profile:i})();a={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new Ot(e.message,fc)}else try{a=await Lt(e)}catch(e){throw new Ot(`The SSO session associated with this profile is invalid. ${c}`,fc)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new Ot(`The SSO session associated with this profile has expired. ${c}`,fc);const{accessToken:u}=a,l=o||new Mi({region:r});let d;try{d=await l.send(new ta({accountId:n,roleName:s,accessToken:u}))}catch(e){throw Ot.from(e,fc)}const{roleCredentials:{accessKeyId:p,secretAccessKey:f,sessionToken:h,expiration:m}={}}=d;if(!(p&&f&&h&&m))throw new Ot("SSO returns an invalid temporary credential.",fc);return{accessKeyId:p,secretAccessKey:f,sessionToken:h,expiration:new Date(m)}},mc=e=>{const{sso_start_url:t,sso_account_id:n,sso_region:r,sso_role_name:s}=e;if(!(t&&n&&r&&s))throw new Ot(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},gc=(e={})=>async()=>{const{ssoStartUrl:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,ssoSession:i}=e,a=Mt(e);if(t||n||r||s||i){if(t&&n&&r&&s)return hc({ssoStartUrl:t,ssoSession:i,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:a});throw new Ot('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"')}{const n=(await sn(e))[a];if(!n)throw new Ot(`Profile ${a} was not found.`);if(!Xo(n))throw new Ot(`Profile ${a} is not configured with SSO credentials.`);if(n?.sso_session){const s=(await rn(e))[n.sso_session],o=` configurations in profile ${a} and sso-session ${n.sso_session}`;if(r&&r!==s.sso_region)throw new Ot("Conflicting SSO region"+o,!1);if(t&&t!==s.sso_start_url)throw new Ot("Conflicting SSO start_url"+o,!1);n.sso_region=s.sso_region,n.sso_start_url=s.sso_start_url}const{sso_start_url:s,sso_account_id:i,sso_region:c,sso_role_name:u,sso_session:l}=mc(n);return hc({ssoStartUrl:s,ssoSession:l,ssoAccountId:i,ssoRegion:c,ssoRoleName:u,ssoClient:o,profile:a})}},yc=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,wc=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token}),bc=(e={})=>async()=>{const t=e?.webIdentityTokenFile??process.env.AWS_WEB_IDENTITY_TOKEN_FILE,n=e?.roleArn??process.env.AWS_ROLE_ARN,r=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!t||!n)throw new Ot("Web identity configuration not specified");return(e=>()=>{const{roleArn:t,roleSessionName:n,webIdentityToken:r,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new Ot(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:r,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})})({...e,webIdentityToken:(0,Ft.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:r})()},vc=async(e,t,n,r={})=>{const s=t[e];if(Object.keys(r).length>0&&yc(s))return wc(s);if(o=s,Boolean(o)&&"object"==typeof o&&"string"==typeof o.role_arn&&["undefined","string"].indexOf(typeof o.role_session_name)>-1&&["undefined","string"].indexOf(typeof o.external_id)>-1&&["undefined","string"].indexOf(typeof o.mfa_serial)>-1&&((e=>"string"==typeof e.source_profile&&void 0===e.credential_source)(o)||(e=>"string"==typeof e.credential_source&&void 0===e.source_profile)(o)))return(async(e,t,n,r={})=>{const s=t[e];if(!n.roleAssumer)throw new Ot(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);const{source_profile:o}=s;if(o&&o in r)throw new Ot(`Detected a cycle attempting to resolve credentials for profile ${Mt(n)}. Profiles visited: `+Object.keys(r).join(", "),!1);const i=o?vc(o,t,n,{...r,[o]:!0}):((e,t)=>{const n={EcsContainer:Io,Ec2InstanceMetadata:Vo,Environment:mo};if(e in n)return n[e]();throw new Ot(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)})(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:c}=s;if(c){if(!n.mfaCodeProvider)throw new Ot(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await n.mfaCodeProvider(c)}const u=await i;return n.roleAssumer(u,a)})(e,t,n,r);var o;if(yc(s))return wc(s);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1)(s))return(async(e,t)=>bc({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})())(s,n);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.credential_process)(s))return(async(e,t)=>Jo({...e,profile:t})())(n,e);if(Xo(s))return(e=>{const{sso_start_url:t,sso_account_id:n,sso_session:r,sso_region:s,sso_role_name:o}=mc(e);return gc({ssoStartUrl:t,ssoAccountId:n,ssoSession:r,ssoRegion:s,ssoRoleName:o})()})(s);throw new Ot(`Profile ${e} could not be found or parsed in shared credentials file.`)},Sc=(e={})=>E(Ct(...e.profile||process.env[_t]?[]:[mo()],gc(e),((e={})=>async()=>{const t=await sn(e);return vc(Mt(e),t,e)})(e),Jo(e),bc(e),(e=>process.env[xo]||process.env[Eo]?Io(e):process.env.AWS_EC2_METADATA_DISABLED?async()=>{throw new Ot("EC2 Instance Metadata Service access disabled")}:Vo(e))(e),(async()=>{throw new Ot("Could not load credentials from any providers",!1)})),(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)),Ec="required",xc="type",Pc="fn",Ic="argv",Ac="ref",kc=!0,Tc="booleanEquals",Cc="stringEquals",Oc="sigv4",Rc="us-east-1",Nc="endpoint",$c="https://sts.{Region}.{PartitionResult#dnsSuffix}",Dc="tree",_c="error",Mc="getAttr",jc={[Ec]:!1,[xc]:"String"},Uc={[Ec]:!0,default:!1,[xc]:"Boolean"},qc={[Ac]:"Endpoint"},Fc={[Pc]:"isSet",[Ic]:[{[Ac]:"Region"}]},zc={[Ac]:"Region"},Lc={[Pc]:"aws.partition",[Ic]:[zc],assign:"PartitionResult"},Vc={[Ac]:"UseFIPS"},Bc={[Ac]:"UseDualStack"},Wc={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Oc,signingName:"sts",signingRegion:Rc}]},headers:{}},Hc={},Kc={conditions:[{[Pc]:Cc,[Ic]:[zc,"aws-global"]}],[Nc]:Wc,[xc]:Nc},Gc={[Pc]:Tc,[Ic]:[Vc,!0]},Jc={[Pc]:Tc,[Ic]:[Bc,!0]},Xc={[Pc]:Mc,[Ic]:[{[Ac]:"PartitionResult"},"supportsFIPS"]},Qc={[Ac]:"PartitionResult"},Yc={[Pc]:Tc,[Ic]:[!0,{[Pc]:Mc,[Ic]:[Qc,"supportsDualStack"]}]},Zc=[{[Pc]:"isSet",[Ic]:[qc]}],eu=[Gc],tu=[Jc],nu={version:"1.0",parameters:{Region:jc,UseDualStack:Uc,UseFIPS:Uc,Endpoint:jc,UseGlobalEndpoint:Uc},rules:[{conditions:[{[Pc]:Tc,[Ic]:[{[Ac]:"UseGlobalEndpoint"},kc]},{[Pc]:"not",[Ic]:Zc},Fc,Lc,{[Pc]:Tc,[Ic]:[Vc,!1]},{[Pc]:Tc,[Ic]:[Bc,!1]}],rules:[{conditions:[{[Pc]:Cc,[Ic]:[zc,"ap-northeast-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"ap-south-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"ap-southeast-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"ap-southeast-2"]}],endpoint:Wc,[xc]:Nc},Kc,{conditions:[{[Pc]:Cc,[Ic]:[zc,"ca-central-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"eu-central-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"eu-north-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"eu-west-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"eu-west-2"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"eu-west-3"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"sa-east-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,Rc]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"us-east-2"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"us-west-1"]}],endpoint:Wc,[xc]:Nc},{conditions:[{[Pc]:Cc,[Ic]:[zc,"us-west-2"]}],endpoint:Wc,[xc]:Nc},{endpoint:{url:$c,properties:{authSchemes:[{name:Oc,signingName:"sts",signingRegion:"{Region}"}]},headers:Hc},[xc]:Nc}],[xc]:Dc},{conditions:Zc,rules:[{conditions:eu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[xc]:_c},{conditions:tu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[xc]:_c},{endpoint:{url:qc,properties:Hc,headers:Hc},[xc]:Nc}],[xc]:Dc},{conditions:[Fc],rules:[{conditions:[Lc],rules:[{conditions:[Gc,Jc],rules:[{conditions:[{[Pc]:Tc,[Ic]:[kc,Xc]},Yc],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hc,headers:Hc},[xc]:Nc}],[xc]:Dc},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[xc]:_c}],[xc]:Dc},{conditions:eu,rules:[{conditions:[{[Pc]:Tc,[Ic]:[Xc,kc]}],rules:[{conditions:[{[Pc]:Cc,[Ic]:[{[Pc]:Mc,[Ic]:[Qc,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Hc,headers:Hc},[xc]:Nc},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Hc,headers:Hc},[xc]:Nc}],[xc]:Dc},{error:"FIPS is enabled but this partition does not support FIPS",[xc]:_c}],[xc]:Dc},{conditions:tu,rules:[{conditions:[Yc],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hc,headers:Hc},[xc]:Nc}],[xc]:Dc},{error:"DualStack is enabled but this partition does not support DualStack",[xc]:_c}],[xc]:Dc},Kc,{endpoint:{url:$c,properties:Hc,headers:Hc},[xc]:Nc}],[xc]:Dc}],[xc]:Dc},{error:"Invalid Configuration: Missing Region",[xc]:_c}]},ru=(e,t={})=>tt(nu,{endpointParams:e,logger:t.logger});class su extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ru,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return ho(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,credentialDefaultProvider:e?.credentialDefaultProvider??(s=Sc,e=>s({roleAssumer:lo(e,e.stsClientCtor),roleAssumerWithWebIdentity:po(e,e.stsClientCtor),...e})),defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.461.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)};var s})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,useGlobalEndpoint:s.useGlobalEndpoint??!1,defaultSigningName:"sts"});var s;const o=vt(r),i=wn(o),a=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(((e,{stsClientCtor:t})=>xe({...e,stsClientCtor:t}))(_n(i),{stsClientCtor:su})),n?.extensions||[]);super(a),this.config=a,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}const ou=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,iu=(e={},t)=>lo(e,ou(su,t)),au=(e={},t)=>po(e,ou(su,t)),cu=e=>t=>e({roleAssumer:iu(t),roleAssumerWithWebIdentity:au(t),...t}),uu="required",lu="fn",du="argv",pu="ref",fu="isSet",hu="booleanEquals",mu="error",gu="endpoint",yu="tree",wu="PartitionResult",bu="stringEquals",vu={[uu]:!1,type:"String"},Su={[uu]:!0,default:!1,type:"Boolean"},Eu={[pu]:"Endpoint"},xu={[lu]:hu,[du]:[{[pu]:"UseFIPS"},!0]},Pu={[lu]:hu,[du]:[{[pu]:"UseDualStack"},!0]},Iu={},Au={[pu]:"Region"},ku={[lu]:"getAttr",[du]:[{[pu]:wu},"supportsFIPS"]},Tu={[lu]:hu,[du]:[!0,{[lu]:"getAttr",[du]:[{[pu]:wu},"supportsDualStack"]}]},Cu=[xu],Ou=[Pu],Ru=[Au],Nu={version:"1.0",parameters:{Region:vu,UseDualStack:Su,UseFIPS:Su,Endpoint:vu},rules:[{conditions:[{[lu]:fu,[du]:[Eu]}],rules:[{conditions:Cu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:mu},{conditions:Ou,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:mu},{endpoint:{url:Eu,properties:Iu,headers:Iu},type:gu}],type:yu},{conditions:[{[lu]:fu,[du]:Ru}],rules:[{conditions:[{[lu]:"aws.partition",[du]:Ru,assign:wu}],rules:[{conditions:[xu,Pu],rules:[{conditions:[{[lu]:hu,[du]:[!0,ku]},Tu],rules:[{endpoint:{url:"https://cloudtrail-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Iu,headers:Iu},type:gu}],type:yu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:mu}],type:yu},{conditions:Cu,rules:[{conditions:[{[lu]:hu,[du]:[ku,!0]}],rules:[{conditions:[{[lu]:bu,[du]:[Au,"us-gov-east-1"]}],endpoint:{url:"https://cloudtrail.us-gov-east-1.amazonaws.com",properties:Iu,headers:Iu},type:gu},{conditions:[{[lu]:bu,[du]:[Au,"us-gov-west-1"]}],endpoint:{url:"https://cloudtrail.us-gov-west-1.amazonaws.com",properties:Iu,headers:Iu},type:gu},{endpoint:{url:"https://cloudtrail-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Iu,headers:Iu},type:gu}],type:yu},{error:"FIPS is enabled but this partition does not support FIPS",type:mu}],type:yu},{conditions:Ou,rules:[{conditions:[Tu],rules:[{endpoint:{url:"https://cloudtrail.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Iu,headers:Iu},type:gu}],type:yu},{error:"DualStack is enabled but this partition does not support DualStack",type:mu}],type:yu},{endpoint:{url:"https://cloudtrail.{Region}.{PartitionResult#dnsSuffix}",properties:Iu,headers:Iu},type:gu}],type:yu}],type:yu},{error:"Invalid Configuration: Missing Region",type:mu}]},$u=(e,t={})=>tt(Nu,{endpointParams:e,logger:t.logger});class Du extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2013-11-01",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$u,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"CloudTrail",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return ho(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,credentialDefaultProvider:e?.credentialDefaultProvider??cu(Sc),defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.461.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)}})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,defaultSigningName:"cloudtrail"});var s;const o=vt(r),i=wn(o),a=_n(i),c=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(xe(a)),n?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(Ce(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}class _u extends Vr{constructor(e){super(e),Object.setPrototypeOf(this,_u.prototype)}}class Mu extends _u{constructor(e){super({name:"OperationNotPermittedException",$fault:"client",...e}),this.name="OperationNotPermittedException",this.$fault="client",Object.setPrototypeOf(this,Mu.prototype),this.Message=e.Message}}class ju extends _u{constructor(e){super({name:"UnsupportedOperationException",$fault:"client",...e}),this.name="UnsupportedOperationException",this.$fault="client",Object.setPrototypeOf(this,ju.prototype),this.Message=e.Message}}class Uu extends _u{constructor(e){super({name:"InvalidMaxResultsException",$fault:"client",...e}),this.name="InvalidMaxResultsException",this.$fault="client",Object.setPrototypeOf(this,Uu.prototype),this.Message=e.Message}}class qu extends _u{constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),this.name="InvalidNextTokenException",this.$fault="client",Object.setPrototypeOf(this,qu.prototype),this.Message=e.Message}}class Fu extends _u{constructor(e){super({name:"InvalidTimeRangeException",$fault:"client",...e}),this.name="InvalidTimeRangeException",this.$fault="client",Object.setPrototypeOf(this,Fu.prototype),this.Message=e.Message}}class zu extends _u{constructor(e){super({name:"InvalidEventCategoryException",$fault:"client",...e}),this.name="InvalidEventCategoryException",this.$fault="client",Object.setPrototypeOf(this,zu.prototype),this.Message=e.Message}}class Lu extends _u{constructor(e){super({name:"InvalidLookupAttributesException",$fault:"client",...e}),this.name="InvalidLookupAttributesException",this.$fault="client",Object.setPrototypeOf(this,Lu.prototype),this.Message=e.Message}}const Vu=async(e,t)=>{const n=e.body,r=fs(n),s=new zu({$metadata:Qu(e),...r});return Br(s,n)},Bu=async(e,t)=>{const n=e.body,r=fs(n),s=new Lu({$metadata:Qu(e),...r});return Br(s,n)},Wu=async(e,t)=>{const n=e.body,r=fs(n),s=new Uu({$metadata:Qu(e),...r});return Br(s,n)},Hu=async(e,t)=>{const n=e.body,r=fs(n),s=new qu({$metadata:Qu(e),...r});return Br(s,n)},Ku=async(e,t)=>{const n=e.body,r=fs(n),s=new Fu({$metadata:Qu(e),...r});return Br(s,n)},Gu=async(e,t)=>{const n=e.body,r=fs(n),s=new Mu({$metadata:Qu(e),...r});return Br(s,n)},Ju=async(e,t)=>{const n=e.body,r=fs(n),s=new ju({$metadata:Qu(e),...r});return Br(s,n)},Xu=(e,t)=>is(e,{AccessKeyId:Ar,CloudTrailEvent:Ar,EventId:Ar,EventName:Ar,EventSource:Ar,EventTime:e=>Pr((e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>wr("string"==typeof e?Tr(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))})(wr(e))),ReadOnly:Ar,Resources:fs,Username:Ar}),Qu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Yu=Wr(_u);const Zu=(e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),el=async(e,t)=>{const n=await Zu(e,t);return n.message=n.message??n.Message,n},tl=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class nl extends gr{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,nl.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"CloudTrailClient",commandName:"LookupEventsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"CloudTrail_20131101",operation:"LookupEvents"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n={"content-type":"application/x-amz-json-1.1","x-amz-target":`CloudTrail_20131101.${"LookupEvents"}`};let r;return r=JSON.stringify(((e,t)=>is(e,{EndTime:e=>Math.round(e.getTime()/1e3),EventCategory:[],LookupAttributes:fs,MaxResults:[],NextToken:[],StartTime:e=>Math.round(e.getTime()/1e3)}))(e)),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new f(u)})(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await el(e.body,t)},r=tl(e,n.body);switch(r){case"InvalidEventCategoryException":case"com.amazonaws.cloudtrail#InvalidEventCategoryException":throw await Vu(n,t);case"InvalidLookupAttributesException":case"com.amazonaws.cloudtrail#InvalidLookupAttributesException":throw await Bu(n,t);case"InvalidMaxResultsException":case"com.amazonaws.cloudtrail#InvalidMaxResultsException":throw await Wu(n,t);case"InvalidNextTokenException":case"com.amazonaws.cloudtrail#InvalidNextTokenException":throw await Hu(n,t);case"InvalidTimeRangeException":case"com.amazonaws.cloudtrail#InvalidTimeRangeException":throw await Ku(n,t);case"OperationNotPermittedException":case"com.amazonaws.cloudtrail#OperationNotPermittedException":throw await Gu(n,t);case"UnsupportedOperationException":case"com.amazonaws.cloudtrail#UnsupportedOperationException":throw await Ju(n,t);default:const s=n.body;return Yu({output:e,parsedBody:s,errorCode:r})}})(e,t);let n={};return n=((e,t)=>is(e,{Events:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Xu(e)));return n})(e),NextToken:Ar}))(await Zu(e.body,t)),{$metadata:Qu(e),...n}})(e,t)}}var rl=function(e){var t=JSON.parse(e.CloudTrailEvent).userIdentity.arn.split("/").slice(1),n=t[0],r=t[1];this.iamRole=n,this.stsSession=r,this.eventTime=e.EventTime},sl=function(){function e(){this.cloudTrailClient=new Du({})}return e.prototype.retrieveQuickSightUserEvents=function(e){return t=this,n=void 0,s=function(){var t,n,r,s;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:t=[],n=null,o.label=1;case 1:return r=new nl({LookupAttributes:[{AttributeKey:"EventSource",AttributeValue:"quicksight.amazonaws.com"}],StartTime:e,NextToken:n}),[4,this.cloudTrailClient.send(r)];case 2:s=o.sent(),n=s.NextToken,s.Events.forEach((function(e){return t.push(new rl(e))})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},e.prototype.getLastAccessDate=function(e,t){var n=t.filter((function(t){return e.iamRole===t.iamRole&&e.stsSession===t.stsSession}));if(0===n.length)return console.debug("".concat(e.iamRole,"/").concat(e.stsSession," no CloudTrail events found")),new Date(0);var r=n.sort((function(e,t){return e.eventTime<=t.eventTime?1:-1}))[0];return console.debug("".concat(e.iamRole,"/").concat(e.stsSession," latest event: ").concat(JSON.stringify(r,null,1))),r.eventTime},e}();const ol="required",il="fn",al="argv",cl="ref",ul="isSet",ll="booleanEquals",dl="error",pl="endpoint",fl="tree",hl="PartitionResult",ml="getAttr",gl={[ol]:!1,type:"String"},yl={[ol]:!0,default:!1,type:"Boolean"},wl={[cl]:"Endpoint"},bl={[il]:ll,[al]:[{[cl]:"UseFIPS"},!0]},vl={[il]:ll,[al]:[{[cl]:"UseDualStack"},!0]},Sl={},El={[il]:ml,[al]:[{[cl]:hl},"supportsFIPS"]},xl={[cl]:hl},Pl={[il]:ll,[al]:[!0,{[il]:ml,[al]:[xl,"supportsDualStack"]}]},Il=[bl],Al=[vl],kl=[{[cl]:"Region"}],Tl={version:"1.0",parameters:{Region:gl,UseDualStack:yl,UseFIPS:yl,Endpoint:gl},rules:[{conditions:[{[il]:ul,[al]:[wl]}],rules:[{conditions:Il,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:dl},{conditions:Al,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:dl},{endpoint:{url:wl,properties:Sl,headers:Sl},type:pl}],type:fl},{conditions:[{[il]:ul,[al]:kl}],rules:[{conditions:[{[il]:"aws.partition",[al]:kl,assign:hl}],rules:[{conditions:[bl,vl],rules:[{conditions:[{[il]:ll,[al]:[!0,El]},Pl],rules:[{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sl,headers:Sl},type:pl}],type:fl},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:dl}],type:fl},{conditions:Il,rules:[{conditions:[{[il]:ll,[al]:[El,!0]}],rules:[{conditions:[{[il]:"stringEquals",[al]:[{[il]:ml,[al]:[xl,"name"]},"aws-us-gov"]}],endpoint:{url:"https://monitoring.{Region}.amazonaws.com",properties:Sl,headers:Sl},type:pl},{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Sl,headers:Sl},type:pl}],type:fl},{error:"FIPS is enabled but this partition does not support FIPS",type:dl}],type:fl},{conditions:Al,rules:[{conditions:[Pl],rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sl,headers:Sl},type:pl}],type:fl},{error:"DualStack is enabled but this partition does not support DualStack",type:dl}],type:fl},{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dnsSuffix}",properties:Sl,headers:Sl},type:pl}],type:fl}],type:fl},{error:"Invalid Configuration: Missing Region",type:dl}]},Cl=(e,t={})=>tt(Tl,{endpointParams:e,logger:t.logger});class Ol extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2010-08-01",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Cl,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"CloudWatch",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return ho(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,credentialDefaultProvider:e?.credentialDefaultProvider??cu(Sc),defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.461.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)}})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,defaultSigningName:"monitoring"});var s;const o=vt(r),i=wn(o),a=_n(i),c=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(xe(a)),n?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(Ce(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}class Rl extends Vr{constructor(e){super(e),Object.setPrototypeOf(this,Rl.prototype)}}class Nl extends Rl{constructor(e){super({name:"InternalServiceFault",$fault:"server",...e}),this.name="InternalServiceFault",this.$fault="server",Object.setPrototypeOf(this,Nl.prototype),this.Message=e.Message}}class $l extends Rl{constructor(e){super({name:"InvalidParameterCombinationException",$fault:"client",...e}),this.name="InvalidParameterCombinationException",this.$fault="client",Object.setPrototypeOf(this,$l.prototype)}}class Dl extends Rl{constructor(e){super({name:"InvalidParameterValueException",$fault:"client",...e}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,Dl.prototype)}}class _l extends Rl{constructor(e){super({name:"MissingRequiredParameterException",$fault:"client",...e}),this.name="MissingRequiredParameterException",this.$fault="client",Object.setPrototypeOf(this,_l.prototype)}}const Ml=async(e,t)=>{const n=e.body,r=Wl(n.Error,t),s=new Nl({$metadata:Jl(e),...r});return Br(s,n)},jl=async(e,t)=>{const n=e.body,r=Hl(n.Error,t),s=new $l({$metadata:Jl(e),...r});return Br(s,n)},Ul=async(e,t)=>{const n=e.body,r=Kl(n.Error,t),s=new Dl({$metadata:Jl(e),...r});return Br(s,n)},ql=async(e,t)=>{const n=e.body,r=Gl(n.Error,t),s=new _l({$metadata:Jl(e),...r});return Br(s,n)},Fl=(e,t)=>{const n={};return null!=e.Name&&(n.Name=e.Name),null!=e.Value&&(n.Value=e.Value),n},zl=(e,t)=>{const n={};if(null!=e.MetricName&&(n.MetricName=e.MetricName),null!=e.Dimensions){const t=((e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=Fl(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.Dimensions);0===e.Dimensions?.length&&(n.Dimensions=[]),Object.entries(t).forEach((([e,t])=>{n[`Dimensions.${e}`]=t}))}if(null!=e.Timestamp&&(n.Timestamp=e.Timestamp.toISOString().split(".")[0]+"Z"),null!=e.Value&&(n.Value=ps(e.Value)),null!=e.StatisticValues){const r=Vl(e.StatisticValues,t);Object.entries(r).forEach((([e,t])=>{n[`StatisticValues.${e}`]=t}))}if(null!=e.Values){const r=Bl(e.Values,t);0===e.Values?.length&&(n.Values=[]),Object.entries(r).forEach((([e,t])=>{n[`Values.${e}`]=t}))}if(null!=e.Counts){const t=((e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=ps(t),r++);return n})(e.Counts);0===e.Counts?.length&&(n.Counts=[]),Object.entries(t).forEach((([e,t])=>{n[`Counts.${e}`]=t}))}return null!=e.Unit&&(n.Unit=e.Unit),null!=e.StorageResolution&&(n.StorageResolution=e.StorageResolution),n},Ll=(e,t)=>{const n={};if(null!=e.Namespace&&(n.Namespace=e.Namespace),null!=e.MetricData){const r=((e,t)=>{const n={};let r=1;for(const s of e){if(null===s)continue;const e=zl(s,t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.MetricData,t);0===e.MetricData?.length&&(n.MetricData=[]),Object.entries(r).forEach((([e,t])=>{n[`MetricData.${e}`]=t}))}return n},Vl=(e,t)=>{const n={};return null!=e.SampleCount&&(n.SampleCount=ps(e.SampleCount)),null!=e.Sum&&(n.Sum=ps(e.Sum)),null!=e.Minimum&&(n.Minimum=ps(e.Minimum)),null!=e.Maximum&&(n.Maximum=ps(e.Maximum)),n},Bl=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=ps(t),r++);return n},Wl=(e,t)=>{const n={};return void 0!==e.Message&&(n.Message=Ar(e.Message)),n},Hl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Kl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Gl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Jl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Xl=Wr(Rl),Ql={"content-type":"application/x-www-form-urlencoded"},Yl=async(e,t)=>{const n=await((e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new As.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),rs(o)}return{}})))(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Zl=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class ed extends gr{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,ed.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"CloudWatchClient",commandName:"PutMetricDataCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"GraniteServiceVersion20100801",operation:"PutMetricData"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Ql;let r;return s={...Ll(e,t),Action:"PutMetricData",Version:"2010-08-01"},r=Object.entries(s).map((([e,t])=>ns(e)+"="+ns(t))).join("&"),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new f(u)})(t,n,"/",void 0,r);var s})(e,t)}deserialize(e,t){return(async(e,t)=>e.statusCode>=300?(async(e,t)=>{const n={...e,body:await Yl(e.body,t)},r=Zl(e,n.body);switch(r){case"InternalServiceError":case"com.amazonaws.cloudwatch#InternalServiceFault":throw await Ml(n,t);case"InvalidParameterCombination":case"com.amazonaws.cloudwatch#InvalidParameterCombinationException":throw await jl(n,t);case"InvalidParameterValue":case"com.amazonaws.cloudwatch#InvalidParameterValueException":throw await Ul(n,t);case"MissingParameter":case"com.amazonaws.cloudwatch#MissingRequiredParameterException":throw await ql(n,t);default:const s=n.body;return Xl({output:e,parsedBody:s.Error,errorCode:r})}})(e,t):(await mr(e.body,t),{$metadata:Jl(e)}))(e,t)}}var td=function(){function e(){this.metricData=[],this.cloudWatchClient=new Ol({})}return e.prototype.queueMetric=function(e){this.metricData.push(e)},e.prototype.emitQueuedMetrics=function(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(t){switch(t.label){case 0:return e=new ed({Namespace:process.env.AWS_LAMBDA_FUNCTION_NAME,MetricData:this.metricData}),console.debug("Emitting metrics:\n".concat(JSON.stringify(e.input,null,2))),[4,this.cloudWatchClient.send(e)];case 1:return t.sent(),this.metricData=[],[2]}}))},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e}();const nd="required",rd="fn",sd="argv",od="ref",id="isSet",ad="booleanEquals",cd="error",ud="endpoint",ld="tree",dd="PartitionResult",pd={[nd]:!1,type:"String"},fd={[nd]:!0,default:!1,type:"Boolean"},hd={[od]:"Endpoint"},md={[rd]:ad,[sd]:[{[od]:"UseFIPS"},!0]},gd={[rd]:ad,[sd]:[{[od]:"UseDualStack"},!0]},yd={},wd={[rd]:"getAttr",[sd]:[{[od]:dd},"supportsFIPS"]},bd={[rd]:ad,[sd]:[!0,{[rd]:"getAttr",[sd]:[{[od]:dd},"supportsDualStack"]}]},vd=[md],Sd=[gd],Ed=[{[od]:"Region"}],xd={version:"1.0",parameters:{Region:pd,UseDualStack:fd,UseFIPS:fd,Endpoint:pd},rules:[{conditions:[{[rd]:id,[sd]:[hd]}],rules:[{conditions:vd,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:cd},{conditions:Sd,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:cd},{endpoint:{url:hd,properties:yd,headers:yd},type:ud}],type:ld},{conditions:[{[rd]:id,[sd]:Ed}],rules:[{conditions:[{[rd]:"aws.partition",[sd]:Ed,assign:dd}],rules:[{conditions:[md,gd],rules:[{conditions:[{[rd]:ad,[sd]:[!0,wd]},bd],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yd,headers:yd},type:ud}],type:ld},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:cd}],type:ld},{conditions:vd,rules:[{conditions:[{[rd]:ad,[sd]:[wd,!0]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yd,headers:yd},type:ud}],type:ld},{error:"FIPS is enabled but this partition does not support FIPS",type:cd}],type:ld},{conditions:Sd,rules:[{conditions:[bd],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yd,headers:yd},type:ud}],type:ld},{error:"DualStack is enabled but this partition does not support DualStack",type:cd}],type:ld},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:yd,headers:yd},type:ud}],type:ld}],type:ld},{error:"Invalid Configuration: Missing Region",type:cd}]},Pd=(e,t={})=>tt(xd,{endpointParams:e,logger:t.logger});class Id extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Pd,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return ho(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,credentialDefaultProvider:e?.credentialDefaultProvider??cu(Sc),defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.461.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)}})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,defaultSigningName:"ses"});var s;const o=vt(r),i=wn(o),a=_n(i),c=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(xe(a)),n?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(Ce(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}class Ad extends Vr{constructor(e){super(e),Object.setPrototypeOf(this,Ad.prototype)}}class kd extends Ad{constructor(e){super({name:"AccountSendingPausedException",$fault:"client",...e}),this.name="AccountSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,kd.prototype)}}class Td extends Ad{constructor(e){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...e}),this.name="ConfigurationSetDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,Td.prototype),this.ConfigurationSetName=e.ConfigurationSetName}}class Cd extends Ad{constructor(e){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...e}),this.name="ConfigurationSetSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,Cd.prototype),this.ConfigurationSetName=e.ConfigurationSetName}}class Od extends Ad{constructor(e){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...e}),this.name="MailFromDomainNotVerifiedException",this.$fault="client",Object.setPrototypeOf(this,Od.prototype)}}class Rd extends Ad{constructor(e){super({name:"MessageRejected",$fault:"client",...e}),this.name="MessageRejected",this.$fault="client",Object.setPrototypeOf(this,Rd.prototype)}}const Nd=async(e,t)=>{const n=e.body,r=zd(n.Error,t),s=new kd({$metadata:Hd(e),...r});return Br(s,n)},$d=async(e,t)=>{const n=e.body,r=Ld(n.Error,t),s=new Td({$metadata:Hd(e),...r});return Br(s,n)},Dd=async(e,t)=>{const n=e.body,r=Vd(n.Error,t),s=new Cd({$metadata:Hd(e),...r});return Br(s,n)},_d=async(e,t)=>{const n=e.body,r=Bd(n.Error,t),s=new Od({$metadata:Hd(e),...r});return Br(s,n)},Md=async(e,t)=>{const n=e.body,r=Wd(n.Error,t),s=new Rd({$metadata:Hd(e),...r});return Br(s,n)},jd=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},Ud=(e,t)=>{const n={};return null!=e.Data&&(n.Data=e.Data),null!=e.Charset&&(n.Charset=e.Charset),n},qd=(e,t)=>{const n={};return null!=e.Name&&(n.Name=e.Name),null!=e.Value&&(n.Value=e.Value),n},Fd=(e,t)=>{const n={};if(null!=e.Source&&(n.Source=e.Source),null!=e.Destination){const t=((e,t)=>{const n={};if(null!=e.ToAddresses){const t=jd(e.ToAddresses);0===e.ToAddresses?.length&&(n.ToAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`ToAddresses.${e}`]=t}))}if(null!=e.CcAddresses){const t=jd(e.CcAddresses);0===e.CcAddresses?.length&&(n.CcAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`CcAddresses.${e}`]=t}))}if(null!=e.BccAddresses){const t=jd(e.BccAddresses);0===e.BccAddresses?.length&&(n.BccAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`BccAddresses.${e}`]=t}))}return n})(e.Destination);Object.entries(t).forEach((([e,t])=>{n[`Destination.${e}`]=t}))}if(null!=e.Message){const t=((e,t)=>{const n={};if(null!=e.Subject){const t=Ud(e.Subject);Object.entries(t).forEach((([e,t])=>{n[`Subject.${e}`]=t}))}if(null!=e.Body){const t=((e,t)=>{const n={};if(null!=e.Text){const t=Ud(e.Text);Object.entries(t).forEach((([e,t])=>{n[`Text.${e}`]=t}))}if(null!=e.Html){const t=Ud(e.Html);Object.entries(t).forEach((([e,t])=>{n[`Html.${e}`]=t}))}return n})(e.Body);Object.entries(t).forEach((([e,t])=>{n[`Body.${e}`]=t}))}return n})(e.Message);Object.entries(t).forEach((([e,t])=>{n[`Message.${e}`]=t}))}if(null!=e.ReplyToAddresses){const t=jd(e.ReplyToAddresses);0===e.ReplyToAddresses?.length&&(n.ReplyToAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`ReplyToAddresses.${e}`]=t}))}if(null!=e.ReturnPath&&(n.ReturnPath=e.ReturnPath),null!=e.SourceArn&&(n.SourceArn=e.SourceArn),null!=e.ReturnPathArn&&(n.ReturnPathArn=e.ReturnPathArn),null!=e.Tags){const t=((e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=qd(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.Tags);0===e.Tags?.length&&(n.Tags=[]),Object.entries(t).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}return null!=e.ConfigurationSetName&&(n.ConfigurationSetName=e.ConfigurationSetName),n},zd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Ld=(e,t)=>{const n={};return void 0!==e.ConfigurationSetName&&(n.ConfigurationSetName=Ar(e.ConfigurationSetName)),void 0!==e.message&&(n.message=Ar(e.message)),n},Vd=(e,t)=>{const n={};return void 0!==e.ConfigurationSetName&&(n.ConfigurationSetName=Ar(e.ConfigurationSetName)),void 0!==e.message&&(n.message=Ar(e.message)),n},Bd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Wd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=Ar(e.message)),n},Hd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Kd=Wr(Ad),Gd={"content-type":"application/x-www-form-urlencoded"},Jd=(e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new As.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),rs(o)}return{}})),Xd=async(e,t)=>{const n=await Jd(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Qd=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Yd extends gr{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,Yd.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SESClient",commandName:"SendEmailCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"SimpleEmailService",operation:"SendEmail"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=Gd;let r;return s={...Fd(e),Action:"SendEmail",Version:"2010-12-01"},r=Object.entries(s).map((([e,t])=>ns(e)+"="+ns(t))).join("&"),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new f(u)})(t,n,"/",void 0,r);var s})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Xd(e.body,t)},r=Qd(e,n.body);switch(r){case"AccountSendingPausedException":case"com.amazonaws.ses#AccountSendingPausedException":throw await Nd(n,t);case"ConfigurationSetDoesNotExist":case"com.amazonaws.ses#ConfigurationSetDoesNotExistException":throw await $d(n,t);case"ConfigurationSetSendingPausedException":case"com.amazonaws.ses#ConfigurationSetSendingPausedException":throw await Dd(n,t);case"MailFromDomainNotVerifiedException":case"com.amazonaws.ses#MailFromDomainNotVerifiedException":throw await _d(n,t);case"MessageRejected":case"com.amazonaws.ses#MessageRejected":throw await Md(n,t);default:const s=n.body;return Kd({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.MessageId&&(n.MessageId=Ar(e.MessageId)),n})((await Jd(e.body,t)).SendEmailResult),{$metadata:Hd(e),...n}})(e,t)}}var Zd,ep=function(){function e(){this.sesClient=new Id({}),this.noLastAccessDate=new Date(0).toLocaleString()}return e.prototype.notifyUser=function(e){return t=this,n=void 0,s=function(){var t,n,r,s;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:return console.debug("Notifying ".concat(JSON.stringify(e,null,1))),t=e.lastAccess.toLocaleString()===this.noLastAccessDate?"not in the last ".concat(process.env.deleteDays," days"):e.lastAccess.toLocaleDateString(),n="I: QuickSight user ".concat(e.username," in account ").concat(process.env.accountAlias," will be deleted"),r='In order to <a href="https://aws.amazon.com/quicksight/pricing/">control costs ($24/month/user)</a>,\n    your AWS QuickSight user \''.concat(e.username,"' \n    will be deleted when you have not accessed QuickSight in ").concat(process.env.deleteDays," days. \n    CloudTrail records indicate that your last access was ").concat(t,".<br /><br />\n    \n    You can keep your user by logging in and taking actions in QuickSight. \n    Alternatively, you can do nothing, and your user will be automatically deleted. \n    Never fear, you simply log back into QuickSight and enter your e-mail, and your user gets recreated. \n    No dashboards or other resources will be deleted at this time (we may clean those up in the future, with notification, of course).<br /><br />\n    \n    Account Number: ").concat(process.env.awsAccountId,"<br />\n    Account Alias: ").concat(process.env.accountAlias,"<br />\n    Assumed Role: ").concat(e.iamRole,"<br />\n    Email: ").concat(e.email,'<br /><br />\n  \n    For further assistance, contact <a href="mailto:').concat(process.env.contact,'">').concat(process.env.contact,"</a>. Thank you and have a fantastically fun-filled day 🥳.\n    "),s=new Yd({Source:"".concat(process.env.accountAlias," Cloud Account Administrator<").concat(process.env.from,">"),Destination:{ToAddresses:[e.email],CcAddresses:JSON.parse(process.env.cc)},ReplyToAddresses:[process.env.replyTo],SourceArn:process.env.sesArn,Message:{Subject:{Data:n},Body:{Html:{Data:r}}}}),[4,this.sesClient.send(s)];case 1:return o.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},e}(),tp=function(e){this.arn=e.Arn,this.email=e.Email,this.role=Zd[e.Role],this.username=e.UserName,this.invalid="N/A"===this.username;var t=this.username.split("/"),n=t[0],r=t[1];this.iamRole=n,this.stsSession=r};!function(e){e.READER="READER",e.AUTHOR="AUTHOR",e.ADMIN="ADMIN"}(Zd||(Zd={}));const np="required",rp="fn",sp="argv",op="ref",ip="isSet",ap="booleanEquals",cp="error",up="endpoint",lp="tree",dp="PartitionResult",pp={[np]:!1,type:"String"},fp={[np]:!0,default:!1,type:"Boolean"},hp={[op]:"Endpoint"},mp={[rp]:ap,[sp]:[{[op]:"UseFIPS"},!0]},gp={[rp]:ap,[sp]:[{[op]:"UseDualStack"},!0]},yp={},wp={[rp]:"getAttr",[sp]:[{[op]:dp},"supportsFIPS"]},bp={[rp]:ap,[sp]:[!0,{[rp]:"getAttr",[sp]:[{[op]:dp},"supportsDualStack"]}]},vp=[mp],Sp=[gp],Ep=[{[op]:"Region"}],xp={version:"1.0",parameters:{Region:pp,UseDualStack:fp,UseFIPS:fp,Endpoint:pp},rules:[{conditions:[{[rp]:ip,[sp]:[hp]}],rules:[{conditions:vp,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:cp},{conditions:Sp,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:cp},{endpoint:{url:hp,properties:yp,headers:yp},type:up}],type:lp},{conditions:[{[rp]:ip,[sp]:Ep}],rules:[{conditions:[{[rp]:"aws.partition",[sp]:Ep,assign:dp}],rules:[{conditions:[mp,gp],rules:[{conditions:[{[rp]:ap,[sp]:[!0,wp]},bp],rules:[{endpoint:{url:"https://quicksight-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yp,headers:yp},type:up}],type:lp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:cp}],type:lp},{conditions:vp,rules:[{conditions:[{[rp]:ap,[sp]:[wp,!0]}],rules:[{endpoint:{url:"https://quicksight-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yp,headers:yp},type:up}],type:lp},{error:"FIPS is enabled but this partition does not support FIPS",type:cp}],type:lp},{conditions:Sp,rules:[{conditions:[bp],rules:[{endpoint:{url:"https://quicksight.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yp,headers:yp},type:up}],type:lp},{error:"DualStack is enabled but this partition does not support DualStack",type:cp}],type:lp},{endpoint:{url:"https://quicksight.{Region}.{PartitionResult#dnsSuffix}",properties:yp,headers:yp},type:up}],type:lp}],type:lp},{error:"Invalid Configuration: Missing Region",type:cp}]},Pp=(e,t={})=>tt(xp,{endpointParams:e,logger:t.logger});class Ip extends tr{constructor(...[n]){const r=(s=(e=>{Jr(process.version);const t=Ri(e),n=()=>t().then(Kr),r=(e=>({apiVersion:"2018-04-01",base64Decoder:e?.base64Decoder??rr,base64Encoder:e?.base64Encoder??sr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Pp,extensions:e?.extensions??[],logger:e?.logger??new Jn,serviceId:e?.serviceId??"QuickSight",urlParser:e?.urlParser??un,utf8Decoder:e?.utf8Decoder??W,utf8Encoder:e?.utf8Encoder??K}))(e);return ho(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ti,credentialDefaultProvider:e?.credentialDefaultProvider??cu(Sc),defaultUserAgentProvider:e?.defaultUserAgentProvider??Yo({serviceId:r.serviceId,clientVersion:"3.461.0"}),maxAttempts:e?.maxAttempts??on(Dn),region:e?.region??on(gt,yt),requestHandler:e?.requestHandler??new dr(n),retryMode:e?.retryMode??on({...Mn,default:async()=>(await n()).retryMode||Sn}),sha256:e?.sha256??Zo.bind(null,"sha256"),streamCollector:e?.streamCollector??fr,useDualstackEndpoint:e?.useDualstackEndpoint??on(ht),useFipsEndpoint:e?.useFipsEndpoint??on(mt)}})(n||{}),{...s,useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,defaultSigningName:"quicksight"});var s;const o=vt(r),i=wn(o),a=_n(i),c=((n,r)=>{const s={...Di(n),...es(n),...e(n)};return r.forEach((e=>e.configure(s))),{...n,..._i(s),...ts(s),...t(s)}})(Oe(xe(a)),n?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(g(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(S(this.config)),this.middlewareStack.use(Ce(this.config)),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}class Ap extends Vr{constructor(e){super(e),Object.setPrototypeOf(this,Ap.prototype)}}class kp extends Ap{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,kp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}var Tp,Cp,Op;!function(e){e.visit=(e,t)=>void 0!==e.AmazonElasticsearchParameters?t.AmazonElasticsearchParameters(e.AmazonElasticsearchParameters):void 0!==e.AthenaParameters?t.AthenaParameters(e.AthenaParameters):void 0!==e.AuroraParameters?t.AuroraParameters(e.AuroraParameters):void 0!==e.AuroraPostgreSqlParameters?t.AuroraPostgreSqlParameters(e.AuroraPostgreSqlParameters):void 0!==e.AwsIotAnalyticsParameters?t.AwsIotAnalyticsParameters(e.AwsIotAnalyticsParameters):void 0!==e.JiraParameters?t.JiraParameters(e.JiraParameters):void 0!==e.MariaDbParameters?t.MariaDbParameters(e.MariaDbParameters):void 0!==e.MySqlParameters?t.MySqlParameters(e.MySqlParameters):void 0!==e.OracleParameters?t.OracleParameters(e.OracleParameters):void 0!==e.PostgreSqlParameters?t.PostgreSqlParameters(e.PostgreSqlParameters):void 0!==e.PrestoParameters?t.PrestoParameters(e.PrestoParameters):void 0!==e.RdsParameters?t.RdsParameters(e.RdsParameters):void 0!==e.RedshiftParameters?t.RedshiftParameters(e.RedshiftParameters):void 0!==e.S3Parameters?t.S3Parameters(e.S3Parameters):void 0!==e.ServiceNowParameters?t.ServiceNowParameters(e.ServiceNowParameters):void 0!==e.SnowflakeParameters?t.SnowflakeParameters(e.SnowflakeParameters):void 0!==e.SparkParameters?t.SparkParameters(e.SparkParameters):void 0!==e.SqlServerParameters?t.SqlServerParameters(e.SqlServerParameters):void 0!==e.TeradataParameters?t.TeradataParameters(e.TeradataParameters):void 0!==e.TwitterParameters?t.TwitterParameters(e.TwitterParameters):void 0!==e.AmazonOpenSearchParameters?t.AmazonOpenSearchParameters(e.AmazonOpenSearchParameters):void 0!==e.ExasolParameters?t.ExasolParameters(e.ExasolParameters):void 0!==e.DatabricksParameters?t.DatabricksParameters(e.DatabricksParameters):void 0!==e.StarburstParameters?t.StarburstParameters(e.StarburstParameters):void 0!==e.TrinoParameters?t.TrinoParameters(e.TrinoParameters):void 0!==e.BigQueryParameters?t.BigQueryParameters(e.BigQueryParameters):t._(e.$unknown[0],e.$unknown[1])}(Tp||(Tp={}));class Rp extends Ap{constructor(e){super({name:"InternalFailureException",$fault:"server",...e}),this.name="InternalFailureException",this.$fault="server",Object.setPrototypeOf(this,Rp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class Np extends Ap{constructor(e){super({name:"InvalidParameterValueException",$fault:"client",...e}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,Np.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class $p extends Ap{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$p.prototype),this.Message=e.Message,this.ResourceType=e.ResourceType,this.RequestId=e.RequestId}}class Dp extends Ap{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,Dp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class _p extends Ap{constructor(e){super({name:"ResourceUnavailableException",$fault:"server",...e}),this.name="ResourceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,_p.prototype),this.Message=e.Message,this.ResourceType=e.ResourceType,this.RequestId=e.RequestId}}class Mp extends Ap{constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),this.name="PreconditionNotMetException",this.$fault="client",Object.setPrototypeOf(this,Mp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}(Cp||(Cp={})).visit=(e,t)=>void 0!==e.ProjectOperation?t.ProjectOperation(e.ProjectOperation):void 0!==e.FilterOperation?t.FilterOperation(e.FilterOperation):void 0!==e.CreateColumnsOperation?t.CreateColumnsOperation(e.CreateColumnsOperation):void 0!==e.RenameColumnOperation?t.RenameColumnOperation(e.RenameColumnOperation):void 0!==e.CastColumnTypeOperation?t.CastColumnTypeOperation(e.CastColumnTypeOperation):void 0!==e.TagColumnOperation?t.TagColumnOperation(e.TagColumnOperation):void 0!==e.UntagColumnOperation?t.UntagColumnOperation(e.UntagColumnOperation):void 0!==e.OverrideDatasetParameterOperation?t.OverrideDatasetParameterOperation(e.OverrideDatasetParameterOperation):t._(e.$unknown[0],e.$unknown[1]),function(e){e.visit=(e,t)=>void 0!==e.RelationalTable?t.RelationalTable(e.RelationalTable):void 0!==e.CustomSql?t.CustomSql(e.CustomSql):void 0!==e.S3Source?t.S3Source(e.S3Source):t._(e.$unknown[0],e.$unknown[1])}(Op||(Op={}));class jp extends Ap{constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),this.name="InvalidNextTokenException",this.$fault="client",Object.setPrototypeOf(this,jp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}const Up=Wr(Ap),qp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar});Object.assign(n,s);const o=new kp({$metadata:Kp(e),...n});return Br(o,e.body)},Fp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar});Object.assign(n,s);const o=new Rp({$metadata:Kp(e),...n});return Br(o,e.body)},zp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar});Object.assign(n,s);const o=new jp({$metadata:Kp(e),...n});return Br(o,e.body)},Lp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar});Object.assign(n,s);const o=new Np({$metadata:Kp(e),...n});return Br(o,e.body)},Vp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar});Object.assign(n,s);const o=new Mp({$metadata:Kp(e),...n});return Br(o,e.body)},Bp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar,ResourceType:Ar});Object.assign(n,s);const o=new $p({$metadata:Kp(e),...n});return Br(o,e.body)},Wp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar,ResourceType:Ar});Object.assign(n,s);const o=new _p({$metadata:Kp(e),...n});return Br(o,e.body)},Hp=async(e,t)=>{const n=os({}),r=e.body,s=is(r,{Message:Ar,RequestId:Ar});Object.assign(n,s);const o=new Dp({$metadata:Kp(e),...n});return Br(o,e.body)},Kp=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Gp=(e,t)=>((e,t)=>mr(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),Jp=async(e,t)=>{const n=await Gp(e,t);return n.message=n.message??n.Message,n},Xp=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Qp extends gr{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,Qp.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"QuickSightClient",commandName:"ListUsersCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"QuickSight_20180401",operation:"ListUsers"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint();let i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AwsAccountId}/namespaces/{Namespace}/users`;i=ds(i,e,"AwsAccountId",(()=>e.AwsAccountId),"{AwsAccountId}",!1),i=ds(i,e,"Namespace",(()=>e.Namespace),"{Namespace}",!1);const a=os({"next-token":[,e.NextToken],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()]});return new f({protocol:r,hostname:n,port:s,method:"GET",headers:{},path:i,query:a,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Jp(e.body,t)},r=Xp(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.quicksight#AccessDeniedException":throw await qp(n,t);case"InternalFailureException":case"com.amazonaws.quicksight#InternalFailureException":throw await Fp(n,t);case"InvalidNextTokenException":case"com.amazonaws.quicksight#InvalidNextTokenException":throw await zp(n,t);case"InvalidParameterValueException":case"com.amazonaws.quicksight#InvalidParameterValueException":throw await Lp(n,t);case"PreconditionNotMetException":case"com.amazonaws.quicksight#PreconditionNotMetException":throw await Vp(n,t);case"ResourceNotFoundException":case"com.amazonaws.quicksight#ResourceNotFoundException":throw await Bp(n,t);case"ResourceUnavailableException":case"com.amazonaws.quicksight#ResourceUnavailableException":throw await Wp(n,t);case"ThrottlingException":case"com.amazonaws.quicksight#ThrottlingException":throw await Hp(n,t);default:const s=n.body;return Up({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=os({$metadata:Kp(e)}),r=Pr(Ir(await Gp(e.body,t)),"body"),s=is(r,{NextToken:Ar,RequestId:Ar,UserList:fs});return Object.assign(n,s),os(n,{Status:[,e.statusCode]}),n})(e,t)}}class Yp extends gr{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(mn(t,this.serialize,this.deserialize)),this.middlewareStack.use(yn(t,Yp.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"QuickSightClient",commandName:"DeleteUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[l]:{service:"QuickSight_20180401",operation:"DeleteUser"}},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint();let i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AwsAccountId}/namespaces/{Namespace}/users/{UserName}`;return i=ds(i,e,"UserName",(()=>e.UserName),"{UserName}",!1),i=ds(i,e,"AwsAccountId",(()=>e.AwsAccountId),"{AwsAccountId}",!1),i=ds(i,e,"Namespace",(()=>e.Namespace),"{Namespace}",!1),new f({protocol:r,hostname:n,port:s,method:"DELETE",headers:{},path:i,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Jp(e.body,t)},r=Xp(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.quicksight#AccessDeniedException":throw await qp(n,t);case"InternalFailureException":case"com.amazonaws.quicksight#InternalFailureException":throw await Fp(n,t);case"InvalidParameterValueException":case"com.amazonaws.quicksight#InvalidParameterValueException":throw await Lp(n,t);case"PreconditionNotMetException":case"com.amazonaws.quicksight#PreconditionNotMetException":throw await Vp(n,t);case"ResourceNotFoundException":case"com.amazonaws.quicksight#ResourceNotFoundException":throw await Bp(n,t);case"ResourceUnavailableException":case"com.amazonaws.quicksight#ResourceUnavailableException":throw await Wp(n,t);case"ThrottlingException":case"com.amazonaws.quicksight#ThrottlingException":throw await Hp(n,t);default:const s=n.body;return Up({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=os({$metadata:Kp(e)}),r=Pr(Ir(await Gp(e.body,t)),"body"),s=is(r,{RequestId:Ar});return Object.assign(n,s),os(n,{Status:[,e.statusCode]}),n})(e,t)}}var Zp=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},ef=function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},tf=function(){function e(){this.awsAccountId=process.env.awsAccountId,this.quickSightClient=new Ip({})}return e.prototype.retrieveUsers=function(){return Zp(this,void 0,void 0,(function(){var t,n,r,s;return ef(this,(function(o){switch(o.label){case 0:t=[],n="",o.label=1;case 1:return r=new Qp({AwsAccountId:this.awsAccountId,Namespace:e.namespace,NextToken:n}),[4,this.quickSightClient.send(r)];case 2:s=o.sent(),n=s.NextToken,s.UserList.forEach((function(e){return t.push(new tp(e))})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))}))},e.prototype.deleteUser=function(t){return Zp(this,void 0,void 0,(function(){var n;return ef(this,(function(r){switch(r.label){case 0:return console.debug("Deleting ".concat(JSON.stringify(t,null,1))),n=new Yp({AwsAccountId:this.awsAccountId,Namespace:e.namespace,UserName:t.username}),[4,this.quickSightClient.send(n)];case 1:return r.sent(),[2]}}))}))},e.namespace="default",e}();const nf=function(){return e=void 0,t=void 0,r=function(){var e,t,n,r,s,o,i,a,c,u,l,d,p,f,h,m,g,y,w,b;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(v){switch(v.label){case 0:return e=process.env,t=e.deleteDays,n=e.notifyDays,r="true"===process.env.enableNotification,s=new Date,o=new Date,s.setDate(s.getDate()-parseInt(t)),o.setDate(o.getDate()-parseInt(n)),console.info("Notifying users with last access date on: ".concat(o.toLocaleDateString()," (").concat(n," days ago).")),console.info("Deleting users with last access date on or before: ".concat(s.toLocaleDateString()," (").concat(t," days ago).")),console.info("Notification enabled? ".concat(r,".")),i=new tf,a=new sl,c=new ep,u=new td,[4,i.retrieveUsers()];case 1:return l=v.sent(),[4,a.retrieveQuickSightUserEvents(s)];case 2:for(d=v.sent(),p=0,f=l;p<f.length;p++)(b=f[p]).lastAccess=a.getLastAccessDate(b,d);console.debug("QuickSight Users:\n".concat(JSON.stringify(l,null,2))),u.queueMetric({MetricName:"PriorQuickSightUsersCount",Value:l.length}),h=0,m=0,g=0,y=0,w=l,v.label=3;case 3:return y<w.length?(b=w[y]).invalid?(console.warn("Invalid user: ".concat(JSON.stringify(b))),h++,[3,8]):[3,4]:[3,9];case 4:return b.lastAccess<s?(m++,[4,i.deleteUser(b)]):[3,6];case 5:return v.sent(),[3,8];case 6:return r&&b.role!==Zd.READER&&b.lastAccess.toLocaleDateString()===o.toLocaleDateString()?(g++,[4,c.notifyUser(b)]):[3,8];case 7:v.sent(),v.label=8;case 8:return y++,[3,3];case 9:return u.queueMetric({MetricName:"InvalidUsersCount",Value:h}),u.queueMetric({MetricName:"UsersDeletedCount",Value:m}),u.queueMetric({MetricName:"NotificationsSentCount",Value:g}),u.queueMetric({MetricName:"RemainingQuickSightUsersCount",Value:l.length-m}),[4,u.emitQueuedMetrics()];case 10:return v.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}})(),module.exports=r})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFNBQVksV0FDcEMsV0FBWSxXQUFZLFNBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksWUFHcENDLEVBQWMsRUFBUSxLQUMxQnJDLE9BQU9DLGVBQWVDLEVBQVMsV0FBWSxDQUFFb0MsWUFBWSxFQUFNQyxJQUFLLFdBQWMsT0FBT0YsRUFBWWpDLFFBQVUscWVDMUYvRyxJQUFJb0MsRUFBZ0IsU0FBU0MsRUFBR0MsR0FJNUIsT0FIQUYsRUFBZ0J4QyxPQUFPMkMsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUosRUFBR0MsR0FBS0QsRUFBRUcsVUFBWUYsQ0FBRyxHQUMxRSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUksS0FBS0osRUFBT0EsRUFBRUssZUFBZUQsS0FBSUwsRUFBRUssR0FBS0osRUFBRUksR0FBSSxFQUN0RU4sRUFBY0MsRUFBR0MsRUFDNUIsRUFFTyxTQUFTTSxFQUFVUCxFQUFHQyxHQUV6QixTQUFTTyxJQUFPekMsS0FBSzBDLFlBQWNULENBQUcsQ0FEdENELEVBQWNDLEVBQUdDLEdBRWpCRCxFQUFFOUIsVUFBa0IsT0FBTitCLEVBQWExQyxPQUFPbUQsT0FBT1QsSUFBTU8sRUFBR3RDLFVBQVkrQixFQUFFL0IsVUFBVyxJQUFJc0MsRUFDbkYsQ0FFTyxJQUFJRyxFQUFXLFdBUWxCLE9BUEFBLEVBQVdwRCxPQUFPcUQsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSVYsS0FEVFMsRUFBSUcsVUFBVUYsR0FDT3hELE9BQU9XLFVBQVVvQyxlQUFlWixLQUFLb0IsRUFBR1QsS0FBSVEsRUFBRVIsR0FBS1MsRUFBRVQsSUFFOUUsT0FBT1EsQ0FDWCxFQUNPRixFQUFTUSxNQUFNcEQsS0FBTWtELFVBQ2hDLEVBRU8sU0FBU0csRUFBT04sRUFBR08sR0FDdEIsSUFBSVIsRUFBSSxDQUFDLEVBQ1QsSUFBSyxJQUFJUixLQUFLUyxFQUFPdkQsT0FBT1csVUFBVW9DLGVBQWVaLEtBQUtvQixFQUFHVCxJQUFNZ0IsRUFBRUMsUUFBUWpCLEdBQUssSUFDOUVRLEVBQUVSLEdBQUtTLEVBQUVULElBQ2IsR0FBUyxNQUFMUyxHQUFxRCxtQkFBakN2RCxPQUFPZ0Usc0JBQ3RCLEtBQUlSLEVBQUksRUFBYixJQUFnQlYsRUFBSTlDLE9BQU9nRSxzQkFBc0JULEdBQUlDLEVBQUlWLEVBQUVhLE9BQVFILElBQzNETSxFQUFFQyxRQUFRakIsRUFBRVUsSUFBTSxHQUFLeEQsT0FBT1csVUFBVXNELHFCQUFxQjlCLEtBQUtvQixFQUFHVCxFQUFFVSxNQUN2RUYsRUFBRVIsRUFBRVUsSUFBTUQsRUFBRVQsRUFBRVUsSUFGNEIsQ0FJdEQsT0FBT0YsQ0FDWCxDQUVPLFNBQVNZLEVBQVdDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQ2hELElBQTJIN0IsRUFBdkg4QixFQUFJYixVQUFVQyxPQUFRYSxFQUFJRCxFQUFJLEVBQUlILEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPdEUsT0FBT3lFLHlCQUF5QkwsRUFBUUMsR0FBT0MsRUFDckgsR0FBdUIsaUJBQVpJLFNBQW9ELG1CQUFyQkEsUUFBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNSLEVBQVlDLEVBQVFDLEVBQUtDLFFBQ3BILElBQUssSUFBSWQsRUFBSVcsRUFBV1IsT0FBUyxFQUFHSCxHQUFLLEVBQUdBLEtBQVNmLEVBQUkwQixFQUFXWCxNQUFJZ0IsR0FBS0QsRUFBSSxFQUFJOUIsRUFBRStCLEdBQUtELEVBQUksRUFBSTlCLEVBQUUyQixFQUFRQyxFQUFLRyxHQUFLL0IsRUFBRTJCLEVBQVFDLEtBQVNHLEdBQ2hKLE9BQU9ELEVBQUksR0FBS0MsR0FBS3hFLE9BQU9DLGVBQWVtRSxFQUFRQyxFQUFLRyxHQUFJQSxDQUNoRSxDQUVPLFNBQVNJLEVBQVFDLEVBQVlDLEdBQ2hDLE9BQU8sU0FBVVYsRUFBUUMsR0FBT1MsRUFBVVYsRUFBUUMsRUFBS1EsRUFBYSxDQUN4RSxDQUVPLFNBQVNFLEVBQVdDLEVBQWFDLEdBQ3BDLEdBQXVCLGlCQUFaUCxTQUFvRCxtQkFBckJBLFFBQVFRLFNBQXlCLE9BQU9SLFFBQVFRLFNBQVNGLEVBQWFDLEVBQ3BILENBRU8sU0FBU2hFLEVBQVVrRSxFQUFTQyxFQUFZQyxFQUFHQyxHQUU5QyxPQUFPLElBQUtELElBQU1BLEVBQUlFLFdBQVUsU0FBVUMsRUFBU0MsR0FDL0MsU0FBU0MsRUFBVXZGLEdBQVMsSUFBTXdGLEVBQUtMLEVBQVUxRCxLQUFLekIsR0FBUyxDQUFFLE1BQU8yRCxHQUFLMkIsRUFBTzNCLEVBQUksQ0FBRSxDQUMxRixTQUFTOEIsRUFBU3pGLEdBQVMsSUFBTXdGLEVBQUtMLEVBQWlCLE1BQUVuRixHQUFTLENBQUUsTUFBTzJELEdBQUsyQixFQUFPM0IsRUFBSSxDQUFFLENBQzdGLFNBQVM2QixFQUFLRSxHQUpsQixJQUFlMUYsRUFJYTBGLEVBQU9oRSxLQUFPMkQsRUFBUUssRUFBTzFGLFFBSjFDQSxFQUl5RDBGLEVBQU8xRixNQUpoREEsYUFBaUJrRixFQUFJbEYsRUFBUSxJQUFJa0YsR0FBRSxTQUFVRyxHQUFXQSxFQUFRckYsRUFBUSxLQUlqQjJGLEtBQUtKLEVBQVdFLEVBQVcsQ0FDN0dELEdBQU1MLEVBQVlBLEVBQVUxQixNQUFNdUIsRUFBU0MsR0FBYyxLQUFLeEQsT0FDbEUsR0FDSixDQUVPLFNBQVNWLEVBQVlpRSxFQUFTWSxHQUNqQyxJQUFzR0MsRUFBR0MsRUFBRzNDLEVBQUc0QyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVAvQyxFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsRUFBSSxFQUFHZ0QsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRXRFLEtBQU00RSxFQUFLLEdBQUksTUFBU0EsRUFBSyxHQUFJLE9BQVVBLEVBQUssSUFBd0IsbUJBQVhDLFNBQTBCUCxFQUFFTyxPQUFPQyxVQUFZLFdBQWEsT0FBT2xHLElBQU0sR0FBSTBGLEVBQ3ZKLFNBQVNNLEVBQUsvQyxHQUFLLE9BQU8sU0FBVWtELEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJWixFQUFHLE1BQU0sSUFBSWEsVUFBVSxtQ0FDM0IsS0FBT1YsT0FDSCxHQUFJSCxFQUFJLEVBQUdDLElBQU0zQyxFQUFZLEVBQVJzRCxFQUFHLEdBQVNYLEVBQVUsT0FBSVcsRUFBRyxHQUFLWCxFQUFTLFNBQU8zQyxFQUFJMkMsRUFBVSxTQUFNM0MsRUFBRW5CLEtBQUs4RCxHQUFJLEdBQUtBLEVBQUVyRSxTQUFXMEIsRUFBSUEsRUFBRW5CLEtBQUs4RCxFQUFHVyxFQUFHLEtBQUsvRSxLQUFNLE9BQU95QixFQUUzSixPQURJMkMsRUFBSSxFQUFHM0MsSUFBR3NELEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVF0RCxFQUFFbkQsUUFDekJ5RyxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBR3RELEVBQUlzRCxFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYVCxFQUFFQyxRQUFnQixDQUFFakcsTUFBT3lHLEVBQUcsR0FBSS9FLE1BQU0sR0FDaEQsS0FBSyxFQUFHc0UsRUFBRUMsUUFBU0gsRUFBSVcsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtULEVBQUVJLElBQUlPLE1BQU9YLEVBQUVHLEtBQUtRLE1BQU8sU0FDeEMsUUFDSSxNQUFrQnhELEdBQVpBLEVBQUk2QyxFQUFFRyxNQUFZM0MsT0FBUyxHQUFLTCxFQUFFQSxFQUFFSyxPQUFTLEtBQWtCLElBQVZpRCxFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFVCxFQUFJLEVBQUcsUUFBVSxDQUMzRyxHQUFjLElBQVZTLEVBQUcsTUFBY3RELEdBQU1zRCxFQUFHLEdBQUt0RCxFQUFFLElBQU1zRCxFQUFHLEdBQUt0RCxFQUFFLElBQU0sQ0FBRTZDLEVBQUVDLE1BQVFRLEVBQUcsR0FBSSxLQUFPLENBQ3JGLEdBQWMsSUFBVkEsRUFBRyxJQUFZVCxFQUFFQyxNQUFROUMsRUFBRSxHQUFJLENBQUU2QyxFQUFFQyxNQUFROUMsRUFBRSxHQUFJQSxFQUFJc0QsRUFBSSxLQUFPLENBQ3BFLEdBQUl0RCxHQUFLNkMsRUFBRUMsTUFBUTlDLEVBQUUsR0FBSSxDQUFFNkMsRUFBRUMsTUFBUTlDLEVBQUUsR0FBSTZDLEVBQUVJLElBQUlRLEtBQUtILEdBQUssS0FBTyxDQUM5RHRELEVBQUUsSUFBSTZDLEVBQUVJLElBQUlPLE1BQ2hCWCxFQUFFRyxLQUFLUSxNQUFPLFNBRXRCRixFQUFLYixFQUFLNUQsS0FBS2dELEVBQVNnQixFQUM1QixDQUFFLE1BQU9yQyxHQUFLOEMsRUFBSyxDQUFDLEVBQUc5QyxHQUFJbUMsRUFBSSxDQUFHLENBQUUsUUFBVUQsRUFBSTFDLEVBQUksQ0FBRyxDQUN6RCxHQUFZLEVBQVJzRCxFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRXpHLE1BQU95RyxFQUFHLEdBQUtBLEVBQUcsUUFBSyxFQUFRL0UsTUFBTSxFQUM5RSxDQXRCZ0Q4RCxDQUFLLENBQUNsQyxFQUFHa0QsR0FBSyxDQUFHLENBdUJyRSxDQUVPLFNBQVNLLEVBQWdCQyxFQUFHQyxFQUFHQyxFQUFHQyxRQUMxQkMsSUFBUEQsSUFBa0JBLEVBQUtELEdBQzNCRixFQUFFRyxHQUFNRixFQUFFQyxFQUNkLENBRU8sU0FBU0csRUFBYUosRUFBR2hILEdBQzVCLElBQUssSUFBSTRDLEtBQUtvRSxFQUFhLFlBQU5wRSxHQUFvQjVDLEVBQVE2QyxlQUFlRCxLQUFJNUMsRUFBUTRDLEdBQUtvRSxFQUFFcEUsR0FDdkYsQ0FFTyxTQUFTcEIsRUFBU3VGLEdBQ3JCLElBQUkxRCxFQUFzQixtQkFBWGtELFFBQXlCQSxPQUFPQyxTQUFVUSxFQUFJM0QsR0FBSzBELEVBQUUxRCxHQUFJQyxFQUFJLEVBQzVFLEdBQUkwRCxFQUFHLE9BQU9BLEVBQUUvRSxLQUFLOEUsR0FDckIsR0FBSUEsR0FBeUIsaUJBQWJBLEVBQUV0RCxPQUFxQixNQUFPLENBQzFDL0IsS0FBTSxXQUVGLE9BRElxRixHQUFLekQsR0FBS3lELEVBQUV0RCxTQUFRc0QsT0FBSSxHQUNyQixDQUFFOUcsTUFBTzhHLEdBQUtBLEVBQUV6RCxLQUFNM0IsTUFBT29GLEVBQ3hDLEdBRUosTUFBTSxJQUFJSixVQUFVdEQsRUFBSSwwQkFBNEIsa0NBQ3hELENBRU8sU0FBU2dFLEVBQU9OLEVBQUd4RCxHQUN0QixJQUFJeUQsRUFBc0IsbUJBQVhULFFBQXlCUSxFQUFFUixPQUFPQyxVQUNqRCxJQUFLUSxFQUFHLE9BQU9ELEVBQ2YsSUFBbUJ6QyxFQUFZVixFQUEzQk4sRUFBSTBELEVBQUUvRSxLQUFLOEUsR0FBT08sRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTi9ELEdBQWdCQSxLQUFNLE1BQVFlLEVBQUloQixFQUFFNUIsUUFBUUMsTUFBTTJGLEVBQUdULEtBQUt2QyxFQUFFckUsTUFDeEUsQ0FDQSxNQUFPOEIsR0FBUzZCLEVBQUksQ0FBRTdCLE1BQU9BLEVBQVMsQ0FDdEMsUUFDSSxJQUNRdUMsSUFBTUEsRUFBRTNDLE9BQVNxRixFQUFJMUQsRUFBVSxTQUFJMEQsRUFBRS9FLEtBQUtxQixFQUNsRCxDQUNBLFFBQVUsR0FBSU0sRUFBRyxNQUFNQSxFQUFFN0IsS0FBTyxDQUNwQyxDQUNBLE9BQU91RixDQUNYLENBRU8sU0FBU0MsSUFDWixJQUFLLElBQUlELEVBQUssR0FBSWhFLEVBQUksRUFBR0EsRUFBSUUsVUFBVUMsT0FBUUgsSUFDM0NnRSxFQUFLQSxFQUFHRSxPQUFPSCxFQUFPN0QsVUFBVUYsS0FDcEMsT0FBT2dFLENBQ1gsQ0FFTyxTQUFTRyxJQUNaLElBQUssSUFBSXBFLEVBQUksRUFBR0MsRUFBSSxFQUFHb0UsRUFBS2xFLFVBQVVDLE9BQVFILEVBQUlvRSxFQUFJcEUsSUFBS0QsR0FBS0csVUFBVUYsR0FBR0csT0FDeEUsSUFBSWEsRUFBSTNCLE1BQU1VLEdBQUk0RCxFQUFJLEVBQTNCLElBQThCM0QsRUFBSSxFQUFHQSxFQUFJb0UsRUFBSXBFLElBQ3pDLElBQUssSUFBSXFFLEVBQUluRSxVQUFVRixHQUFJc0UsRUFBSSxFQUFHQyxFQUFLRixFQUFFbEUsT0FBUW1FLEVBQUlDLEVBQUlELElBQUtYLElBQzFEM0MsRUFBRTJDLEdBQUtVLEVBQUVDLEdBQ2pCLE9BQU90RCxDQUNYLENBRU8sU0FBU3dELEVBQVFyQixHQUNwQixPQUFPbkcsZ0JBQWdCd0gsR0FBV3hILEtBQUttRyxFQUFJQSxFQUFHbkcsTUFBUSxJQUFJd0gsRUFBUXJCLEVBQ3RFLENBRU8sU0FBU3NCLEVBQWlCOUMsRUFBU0MsRUFBWUUsR0FDbEQsSUFBS21CLE9BQU95QixjQUFlLE1BQU0sSUFBSXJCLFVBQVUsd0NBQy9DLElBQW9EckQsRUFBaEQwQyxFQUFJWixFQUFVMUIsTUFBTXVCLEVBQVNDLEdBQWMsSUFBUStDLEVBQUksR0FDM0QsT0FBTzNFLEVBQUksQ0FBQyxFQUFHZ0QsRUFBSyxRQUFTQSxFQUFLLFNBQVVBLEVBQUssVUFBV2hELEVBQUVpRCxPQUFPeUIsZUFBaUIsV0FBYyxPQUFPMUgsSUFBTSxFQUFHZ0QsRUFDcEgsU0FBU2dELEVBQUsvQyxHQUFTeUMsRUFBRXpDLEtBQUlELEVBQUVDLEdBQUssU0FBVWtELEdBQUssT0FBTyxJQUFJcEIsU0FBUSxTQUFVc0MsRUFBR25GLEdBQUt5RixFQUFFcEIsS0FBSyxDQUFDdEQsRUFBR2tELEVBQUdrQixFQUFHbkYsSUFBTSxHQUFLMEYsRUFBTzNFLEVBQUdrRCxFQUFJLEdBQUksRUFBRyxDQUN6SSxTQUFTeUIsRUFBTzNFLEVBQUdrRCxHQUFLLEtBQ1ZuQyxFQURxQjBCLEVBQUV6QyxHQUFHa0QsSUFDbkJ4RyxpQkFBaUI2SCxFQUFVekMsUUFBUUMsUUFBUWhCLEVBQUVyRSxNQUFNd0csR0FBR2IsS0FBS3VDLEVBQVM1QyxHQUFVNkMsRUFBT0gsRUFBRSxHQUFHLEdBQUkzRCxFQUR0RSxDQUFFLE1BQU9WLEdBQUt3RSxFQUFPSCxFQUFFLEdBQUcsR0FBSXJFLEVBQUksQ0FDL0UsSUFBY1UsQ0FEbUUsQ0FFakYsU0FBUzZELEVBQVFsSSxHQUFTaUksRUFBTyxPQUFRakksRUFBUSxDQUNqRCxTQUFTc0YsRUFBT3RGLEdBQVNpSSxFQUFPLFFBQVNqSSxFQUFRLENBQ2pELFNBQVNtSSxFQUFPdEMsRUFBR1csR0FBU1gsRUFBRVcsR0FBSXdCLEVBQUVJLFFBQVNKLEVBQUV4RSxRQUFReUUsRUFBT0QsRUFBRSxHQUFHLEdBQUlBLEVBQUUsR0FBRyxHQUFLLENBQ3JGLENBRU8sU0FBU0ssRUFBaUJ2QixHQUM3QixJQUFJekQsRUFBR1YsRUFDUCxPQUFPVSxFQUFJLENBQUMsRUFBR2dELEVBQUssUUFBU0EsRUFBSyxTQUFTLFNBQVUxQyxHQUFLLE1BQU1BLENBQUcsSUFBSTBDLEVBQUssVUFBV2hELEVBQUVpRCxPQUFPQyxVQUFZLFdBQWMsT0FBT2xHLElBQU0sRUFBR2dELEVBQzFJLFNBQVNnRCxFQUFLL0MsRUFBR3VDLEdBQUt4QyxFQUFFQyxHQUFLd0QsRUFBRXhELEdBQUssU0FBVWtELEdBQUssT0FBUTdELEdBQUtBLEdBQUssQ0FBRTNDLE1BQU82SCxFQUFRZixFQUFFeEQsR0FBR2tELElBQUs5RSxLQUFZLFdBQU40QixHQUFtQnVDLEVBQUlBLEVBQUVXLEdBQUtBLENBQUcsRUFBSVgsQ0FBRyxDQUNsSixDQUVPLFNBQVN5QyxFQUFjeEIsR0FDMUIsSUFBS1IsT0FBT3lCLGNBQWUsTUFBTSxJQUFJckIsVUFBVSx3Q0FDL0MsSUFBaUNyRCxFQUE3QjBELEVBQUlELEVBQUVSLE9BQU95QixlQUNqQixPQUFPaEIsRUFBSUEsRUFBRS9FLEtBQUs4RSxJQUFNQSxFQUFxQ3ZGLEVBQVN1RixHQUEyQnpELEVBQUksQ0FBQyxFQUFHZ0QsRUFBSyxRQUFTQSxFQUFLLFNBQVVBLEVBQUssVUFBV2hELEVBQUVpRCxPQUFPeUIsZUFBaUIsV0FBYyxPQUFPMUgsSUFBTSxFQUFHZ0QsR0FDOU0sU0FBU2dELEVBQUsvQyxHQUFLRCxFQUFFQyxHQUFLd0QsRUFBRXhELElBQU0sU0FBVWtELEdBQUssT0FBTyxJQUFJcEIsU0FBUSxTQUFVQyxFQUFTQyxJQUN2RixTQUFnQkQsRUFBU0MsRUFBUWhELEVBQUdrRSxHQUFLcEIsUUFBUUMsUUFBUW1CLEdBQUdiLE1BQUssU0FBU2EsR0FBS25CLEVBQVEsQ0FBRXJGLE1BQU93RyxFQUFHOUUsS0FBTVksR0FBTSxHQUFHZ0QsRUFBUyxDQURiNkMsQ0FBTzlDLEVBQVNDLEdBQTdCa0IsRUFBSU0sRUFBRXhELEdBQUdrRCxJQUE4QjlFLEtBQU04RSxFQUFFeEcsTUFBUSxHQUFJLENBQUcsQ0FFbkssQ0FFTyxTQUFTdUksRUFBcUJDLEVBQVFDLEdBRXpDLE9BREk1SSxPQUFPQyxlQUFrQkQsT0FBT0MsZUFBZTBJLEVBQVEsTUFBTyxDQUFFeEksTUFBT3lJLElBQWlCRCxFQUFPQyxJQUFNQSxFQUNsR0QsQ0FDWCxDQUVPLFNBQVNFLEVBQWFDLEdBQ3pCLEdBQUlBLEdBQU9BLEVBQUlDLFdBQVksT0FBT0QsRUFDbEMsSUFBSWpELEVBQVMsQ0FBQyxFQUNkLEdBQVcsTUFBUGlELEVBQWEsSUFBSyxJQUFJM0IsS0FBSzJCLEVBQVM5SSxPQUFPK0MsZUFBZVosS0FBSzJHLEVBQUszQixLQUFJdEIsRUFBT3NCLEdBQUsyQixFQUFJM0IsSUFFNUYsT0FEQXRCLEVBQU9tRCxRQUFVRixFQUNWakQsQ0FDWCxDQUVPLFNBQVNvRCxFQUFnQkgsR0FDNUIsT0FBUUEsR0FBT0EsRUFBSUMsV0FBY0QsRUFBTSxDQUFFRSxRQUFTRixFQUN0RCxDQUVPLFNBQVNJLEVBQXVCQyxFQUFVQyxHQUM3QyxJQUFLQSxFQUFXQyxJQUFJRixHQUNoQixNQUFNLElBQUl0QyxVQUFVLGtEQUV4QixPQUFPdUMsRUFBVzdHLElBQUk0RyxFQUMxQixDQUVPLFNBQVNHLEVBQXVCSCxFQUFVQyxFQUFZakosR0FDekQsSUFBS2lKLEVBQVdDLElBQUlGLEdBQ2hCLE1BQU0sSUFBSXRDLFVBQVUsa0RBR3hCLE9BREF1QyxFQUFXRyxJQUFJSixFQUFVaEosR0FDbEJBLENBQ1gsOEJDdE5BSCxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0REQsRUFBUWEscUJBQWtCLEVBQzFCLElBQUl5SSxFQUFzQixFQUFRLElBRTlCQyxFQUE2QixvQkFBWEMsUUFBMEJBLE9BQU9DLEtBQ2pELFNBQVVDLEdBQVMsT0FBT0YsT0FBT0MsS0FBS0MsRUFBTyxPQUFTLEVBQ3RESixFQUFvQkMsU0FhMUJ2SixFQUFRYSxnQkFaUixTQUF5Qk8sR0FFckIsT0FBSUEsYUFBZ0J1SSxXQUNUdkksRUFDUyxpQkFBVEEsRUFDQW1JLEVBQVNuSSxHQUVoQndJLFlBQVlDLE9BQU96SSxHQUNaLElBQUl1SSxXQUFXdkksRUFBSzBJLE9BQVExSSxFQUFLMkksV0FBWTNJLEVBQUs0SSxXQUFhTCxXQUFXTSxtQkFFOUUsSUFBSU4sV0FBV3ZJLEVBQzFCLDhCQ2xCQXRCLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RERCxFQUFRa0MsZ0JBQWtCbEMsRUFBUWtCLFdBQWFsQixFQUFRWSxZQUFjWixFQUFRYSxxQkFBa0IsRUFDL0YsSUFBSXFKLEVBQW9CLEVBQVEsS0FDaENwSyxPQUFPQyxlQUFlQyxFQUFTLGtCQUFtQixDQUFFb0MsWUFBWSxFQUFNQyxJQUFLLFdBQWMsT0FBTzZILEVBQWtCckosZUFBaUIsSUFDbkksSUFBSXNKLEVBQWdCLEVBQVEsS0FDNUJySyxPQUFPQyxlQUFlQyxFQUFTLGNBQWUsQ0FBRW9DLFlBQVksRUFBTUMsSUFBSyxXQUFjLE9BQU84SCxFQUFjdkosV0FBYSxJQUN2SCxJQUFJd0osRUFBZSxFQUFRLEtBQzNCdEssT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVvQyxZQUFZLEVBQU1DLElBQUssV0FBYyxPQUFPK0gsRUFBYWxKLFVBQVksSUFDcEgsSUFBSW1KLEVBQW9CLEVBQVEsS0FDaEN2SyxPQUFPQyxlQUFlQyxFQUFTLGtCQUFtQixDQUFFb0MsWUFBWSxFQUFNQyxJQUFLLFdBQWMsT0FBT2dJLEVBQWtCbkksZUFBaUIsOEJDVG5JcEMsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdERELEVBQVFZLGlCQUFjLEVBT3RCWixFQUFRWSxZQU5SLFNBQXFCUSxHQUNqQixNQUFvQixpQkFBVEEsRUFDZ0IsSUFBaEJBLEVBQUtxQyxPQUVXLElBQXBCckMsRUFBSzRJLFVBQ2hCLDRCQ1BBbEssT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdERELEVBQVFrQixnQkFBYSxFQVNyQmxCLEVBQVFrQixXQVJSLFNBQW9Cb0osR0FDaEIsT0FBTyxJQUFJWCxXQUFXLEVBQ1gsV0FBTlcsSUFBcUIsSUFDZixTQUFOQSxJQUFxQixJQUNmLE1BQU5BLElBQXFCLEVBQ2hCLElBQU5BLEdBRVIsNEJDVEF4SyxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0REQsRUFBUWtDLHFCQUFrQixFQWMxQmxDLEVBQVFrQyxnQkFaUixTQUF5QnFJLEdBQ3JCLElBQUtDLFlBQVlmLEtBQU0sQ0FHbkIsSUFGQSxJQUFJZ0IsRUFBZSxJQUFJRCxZQUFZRCxFQUFjOUcsUUFDN0NpSCxFQUFVLEVBQ1BBLEVBQVVILEVBQWM5RyxRQUMzQmdILEVBQWFDLEdBQVdILEVBQWNHLEdBQ3RDQSxHQUFXLEVBRWYsT0FBT0QsQ0FDWCxDQUNBLE9BQU9ELFlBQVlmLEtBQUtjLEVBQzVCLHlFQ2ZPLE1BQU0sRUFBWWIsR0FBaUMsbUJBQWhCaUIsWUNGbkMsU0FBa0JqQixHQUNyQixPQUFPLElBQUlpQixhQUFjQyxPQUFPbEIsRUFDcEMsQ0RBdUUsQ0FBb0JBLEdFRm5FLENBQUNBLElBQ3JCLE1BQU1tQixFQUFRLEdBQ2QsSUFBSyxJQUFJdkgsRUFBSSxFQUFHd0gsRUFBTXBCLEVBQU1qRyxPQUFRSCxFQUFJd0gsRUFBS3hILElBQUssQ0FDOUMsTUFBTXJELEVBQVF5SixFQUFNcUIsV0FBV3pILEdBQy9CLEdBQUlyRCxFQUFRLElBQ1I0SyxFQUFNaEUsS0FBSzVHLFFBRVYsR0FBSUEsRUFBUSxLQUNiNEssRUFBTWhFLEtBQU01RyxHQUFTLEVBQUssSUFBcUIsR0FBUkEsRUFBb0IsVUFFMUQsR0FBSXFELEVBQUksRUFBSW9HLEVBQU1qRyxRQUErQixRQUFaLE1BQVJ4RCxJQUFxRSxRQUFaLE1BQTFCeUosRUFBTXFCLFdBQVd6SCxFQUFJLElBQXlCLENBQzNHLE1BQU0wSCxFQUFnQixRQUFvQixLQUFSL0ssSUFBeUIsS0FBK0IsS0FBeEJ5SixFQUFNcUIsYUFBYXpILElBQ3JGdUgsRUFBTWhFLEtBQU1tRSxHQUFpQixHQUFNLElBQWNBLEdBQWlCLEdBQU0sR0FBWSxJQUFjQSxHQUFpQixFQUFLLEdBQVksSUFBNkIsR0FBaEJBLEVBQTRCLElBQ2pMLE1BRUlILEVBQU1oRSxLQUFNNUcsR0FBUyxHQUFNLElBQWNBLEdBQVMsRUFBSyxHQUFZLElBQXFCLEdBQVJBLEVBQW9CLElBRTVHLENBQ0EsT0FBTzBKLFdBQVdGLEtBQUtvQixFQUFNLEVGaEJtRSxDQUFXbkIsR0FDbEcsRUFBVUEsR0FBaUMsbUJBQWhCdUIsWUNBakMsU0FBZ0J2QixHQUNuQixPQUFPLElBQUl1QixZQUFZLFNBQVNDLE9BQU94QixFQUMzQyxDREZxRSxDQUFrQkEsR0VpQmpFLENBQUNBLElBQ25CLElBQUl5QixFQUFVLEdBQ2QsSUFBSyxJQUFJN0gsRUFBSSxFQUFHd0gsRUFBTXBCLEVBQU1qRyxPQUFRSCxFQUFJd0gsRUFBS3hILElBQUssQ0FDOUMsTUFBTTFCLEVBQU84SCxFQUFNcEcsR0FDbkIsR0FBSTFCLEVBQU8sSUFDUHVKLEdBQVdDLE9BQU9DLGFBQWF6SixRQUU5QixHQUFJLEtBQWNBLEdBQVFBLEVBQU8sSUFBWSxDQUM5QyxNQUFNMEosRUFBVzVCLElBQVFwRyxHQUN6QjZILEdBQVdDLE9BQU9DLGNBQXNCLEdBQVB6SixJQUFtQixFQUFpQixHQUFYMEosRUFDOUQsTUFDSyxHQUFJLEtBQWMxSixHQUFRQSxFQUFPLElBQWEsQ0FDL0MsTUFDTTJKLEVBQVUsSUFETSxDQUFDM0osRUFBTThILElBQVFwRyxHQUFJb0csSUFBUXBHLEdBQUlvRyxJQUFRcEcsSUFDekJrSSxLQUFLQyxHQUFjQSxFQUFVQyxTQUFTLE1BQUtDLEtBQUssS0FDcEZSLEdBQVdTLG1CQUFtQkwsRUFDbEMsTUFFSUosR0FBV0MsT0FBT0MsY0FBc0IsR0FBUHpKLElBQWtCLElBQXFCLEdBQWI4SCxJQUFRcEcsS0FBa0IsRUFBbUIsR0FBYm9HLElBQVFwRyxHQUUzRyxDQUNBLE9BQU82SCxDQUFPLEVGckM4RSxDQUFTekIsK0JHRHpHLE1BQU1tQyxFQUFZLEVBQVEsS0FDcEJDLEVBQVksRUFBUSxLQUNwQkMsRUFBYSxFQUFRLEtBRTNCQyxFQUFPaE0sUUFBVSxDQUNmOEwsVUFBV0EsRUFDWEcsYUFBY0osRUFDZEUsV0FBWUEsNkJDUGQsTUFBTUcsRUFBZ0IsZ0xBRWhCQyxFQUFhLElBQU1ELEVBQWdCLEtBRHhCQSxFQUNFLGlEQUNiRSxFQUFZLElBQUlDLE9BQU8sSUFBTUYsRUFBYSxLQXVCaERuTSxFQUFRc00sUUFBVSxTQUFTN0YsR0FDekIsWUFBb0IsSUFBTkEsQ0FDaEIsRUFFQXpHLEVBQVF1TSxjQUFnQixTQUFTQyxHQUMvQixPQUFtQyxJQUE1QjFNLE9BQU8yTSxLQUFLRCxHQUFLL0ksTUFDMUIsRUFPQXpELEVBQVEwTSxNQUFRLFNBQVN4SSxFQUFReUQsRUFBR2dGLEdBQ2xDLEdBQUloRixFQUFHLENBQ0wsTUFBTThFLEVBQU8zTSxPQUFPMk0sS0FBSzlFLEdBQ25CbUQsRUFBTTJCLEVBQUtoSixPQUNqQixJQUFLLElBQUlILEVBQUksRUFBR0EsRUFBSXdILEVBQUt4SCxJQUVyQlksRUFBT3VJLEVBQUtuSixJQURJLFdBQWRxSixFQUNnQixDQUFFaEYsRUFBRThFLEVBQUtuSixLQUVUcUUsRUFBRThFLEVBQUtuSixHQUcvQixDQUNGLEVBS0F0RCxFQUFRNE0sU0FBVyxTQUFTbkcsR0FDMUIsT0FBSXpHLEVBQVFzTSxRQUFRN0YsR0FDWEEsRUFFQSxFQUVYLEVBS0F6RyxFQUFRNk0sT0E5Q08sU0FBU0MsR0FFdEIsUUFBUSxNQURNVixFQUFVVyxLQUFLRCxHQUUvQixFQTRDQTlNLEVBQVFnTixjQS9EYyxTQUFTRixFQUFRRyxHQUNyQyxNQUFNQyxFQUFVLEdBQ2hCLElBQUlDLEVBQVFGLEVBQU1GLEtBQUtELEdBQ3ZCLEtBQU9LLEdBQU8sQ0FDWixNQUFNQyxFQUFhLEdBQ25CQSxFQUFXQyxXQUFhSixFQUFNSyxVQUFZSCxFQUFNLEdBQUcxSixPQUNuRCxNQUFNcUgsRUFBTXFDLEVBQU0xSixPQUNsQixJQUFLLElBQUk4SixFQUFRLEVBQUdBLEVBQVF6QyxFQUFLeUMsSUFDL0JILEVBQVd2RyxLQUFLc0csRUFBTUksSUFFeEJMLEVBQVFyRyxLQUFLdUcsR0FDYkQsRUFBUUYsRUFBTUYsS0FBS0QsRUFDckIsQ0FDQSxPQUFPSSxDQUNULEVBa0RBbE4sRUFBUW1NLFdBQWFBLDhCQ3JFckIsTUFBTXFCLEVBQU8sRUFBUSxLQUVmQyxFQUFpQixDQUNyQkMsd0JBQXdCLEVBQ3hCQyxhQUFjLElBd0xoQixTQUFTQyxFQUFhQyxHQUNwQixNQUFnQixNQUFUQSxHQUF5QixPQUFUQSxHQUEwQixPQUFUQSxHQUEyQixPQUFUQSxDQUM1RCxDQU1BLFNBQVNDLEVBQU9DLEVBQVN6SyxHQUN2QixNQUFNMEssRUFBUTFLLEVBQ2QsS0FBT0EsRUFBSXlLLEVBQVF0SyxPQUFRSCxJQUN6QixHQUFrQixLQUFkeUssRUFBUXpLLElBQTJCLEtBQWR5SyxFQUFRekssUUFBakMsQ0FFRSxNQUFNMkssRUFBVUYsRUFBUUcsT0FBT0YsRUFBTzFLLEVBQUkwSyxHQUMxQyxHQUFJMUssRUFBSSxHQUFpQixRQUFaMkssRUFDWCxPQUFPRSxFQUFlLGFBQWMsNkRBQThEQyxFQUF5QkwsRUFBU3pLLElBQy9ILEdBQWtCLEtBQWR5SyxFQUFRekssSUFBK0IsS0FBbEJ5SyxFQUFRekssRUFBSSxHQUFXLENBRXJEQSxJQUNBLEtBQ0YsQ0FHRixDQUVGLE9BQU9BLENBQ1QsQ0FFQSxTQUFTK0ssRUFBb0JOLEVBQVN6SyxHQUNwQyxHQUFJeUssRUFBUXRLLE9BQVNILEVBQUksR0FBd0IsTUFBbkJ5SyxFQUFRekssRUFBSSxJQUFpQyxNQUFuQnlLLEVBQVF6SyxFQUFJLElBRWxFLElBQUtBLEdBQUssRUFBR0EsRUFBSXlLLEVBQVF0SyxPQUFRSCxJQUMvQixHQUFtQixNQUFmeUssRUFBUXpLLElBQWlDLE1BQW5CeUssRUFBUXpLLEVBQUksSUFBaUMsTUFBbkJ5SyxFQUFRekssRUFBSSxHQUFZLENBQzFFQSxHQUFLLEVBQ0wsS0FDRixPQUVHLEdBQ0x5SyxFQUFRdEssT0FBU0gsRUFBSSxHQUNGLE1BQW5CeUssRUFBUXpLLEVBQUksSUFDTyxNQUFuQnlLLEVBQVF6SyxFQUFJLElBQ08sTUFBbkJ5SyxFQUFRekssRUFBSSxJQUNPLE1BQW5CeUssRUFBUXpLLEVBQUksSUFDTyxNQUFuQnlLLEVBQVF6SyxFQUFJLElBQ08sTUFBbkJ5SyxFQUFRekssRUFBSSxJQUNPLE1BQW5CeUssRUFBUXpLLEVBQUksR0FDWixDQUNBLElBQUlnTCxFQUFxQixFQUN6QixJQUFLaEwsR0FBSyxFQUFHQSxFQUFJeUssRUFBUXRLLE9BQVFILElBQy9CLEdBQW1CLE1BQWZ5SyxFQUFRekssR0FDVmdMLFNBQ0ssR0FBbUIsTUFBZlAsRUFBUXpLLEtBQ2pCZ0wsSUFDMkIsSUFBdkJBLEdBQ0YsS0FJUixNQUFPLEdBQ0xQLEVBQVF0SyxPQUFTSCxFQUFJLEdBQ0YsTUFBbkJ5SyxFQUFRekssRUFBSSxJQUNPLE1BQW5CeUssRUFBUXpLLEVBQUksSUFDTyxNQUFuQnlLLEVBQVF6SyxFQUFJLElBQ08sTUFBbkJ5SyxFQUFRekssRUFBSSxJQUNPLE1BQW5CeUssRUFBUXpLLEVBQUksSUFDTyxNQUFuQnlLLEVBQVF6SyxFQUFJLElBQ08sTUFBbkJ5SyxFQUFRekssRUFBSSxHQUVaLElBQUtBLEdBQUssRUFBR0EsRUFBSXlLLEVBQVF0SyxPQUFRSCxJQUMvQixHQUFtQixNQUFmeUssRUFBUXpLLElBQWlDLE1BQW5CeUssRUFBUXpLLEVBQUksSUFBaUMsTUFBbkJ5SyxFQUFRekssRUFBSSxHQUFZLENBQzFFQSxHQUFLLEVBQ0wsS0FDRixDQUlKLE9BQU9BLENBQ1QsQ0FqUUF0RCxFQUFRdU8sU0FBVyxTQUFVUixFQUFTUyxHQUNwQ0EsRUFBVTFPLE9BQU9xRCxPQUFPLENBQUMsRUFBR3NLLEVBQWdCZSxHQUs1QyxNQUFNQyxFQUFPLEdBQ2IsSUFBSUMsR0FBVyxFQUdYQyxHQUFjLEVBRUMsV0FBZlosRUFBUSxLQUVWQSxFQUFVQSxFQUFRRyxPQUFPLElBRzNCLElBQUssSUFBSTVLLEVBQUksRUFBR0EsRUFBSXlLLEVBQVF0SyxPQUFRSCxJQUVsQyxHQUFtQixNQUFmeUssRUFBUXpLLElBQStCLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFHbEMsR0FGQUEsR0FBRyxFQUNIQSxFQUFJd0ssRUFBT0MsRUFBUXpLLEdBQ2ZBLEVBQUVzTCxJQUFLLE9BQU90TCxNQUNkLElBQW1CLE1BQWZ5SyxFQUFRekssR0F3SVgsQ0FDTCxHQUFLc0ssRUFBYUcsRUFBUXpLLElBQ3hCLFNBRUYsT0FBTzZLLEVBQWUsY0FBZSxTQUFTSixFQUFRekssR0FBRyxxQkFBc0I4SyxFQUF5QkwsRUFBU3pLLEdBQ25ILENBN0k4QixDQUc1QixJQUFJdUwsRUFBY3ZMLEVBR2xCLEdBRkFBLElBRW1CLE1BQWZ5SyxFQUFRekssR0FBWSxDQUN0QkEsRUFBSStLLEVBQW9CTixFQUFTekssR0FDakMsUUFDRixDQUFPLENBQ0wsSUFBSXdMLEdBQWEsRUFDRSxNQUFmZixFQUFRekssS0FFVndMLEdBQWEsRUFDYnhMLEtBR0YsSUFBSXlMLEVBQVUsR0FDZCxLQUFPekwsRUFBSXlLLEVBQVF0SyxRQUNGLE1BQWZzSyxFQUFRekssSUFDTyxNQUFmeUssRUFBUXpLLElBQ08sT0FBZnlLLEVBQVF6SyxJQUNPLE9BQWZ5SyxFQUFRekssSUFDTyxPQUFmeUssRUFBUXpLLEdBQWFBLElBRXJCeUwsR0FBV2hCLEVBQVF6SyxHQVdyQixHQVRBeUwsRUFBVUEsRUFBUUMsT0FHa0IsTUFBaENELEVBQVFBLEVBQVF0TCxPQUFTLEtBRTNCc0wsRUFBVUEsRUFBUUUsVUFBVSxFQUFHRixFQUFRdEwsT0FBUyxHQUVoREgsS0FpVmUySyxFQS9VSWMsR0FnVnBCdkIsRUFBS1gsT0FBT29CLEdBaFZrQixDQUM3QixJQUFJaUIsRUFNSixPQUpFQSxFQUQ0QixJQUExQkgsRUFBUUMsT0FBT3ZMLE9BQ1gsMkJBRUEsUUFBUXNMLEVBQVEsd0JBRWpCWixFQUFlLGFBQWNlLEVBQUtkLEVBQXlCTCxFQUFTekssR0FDN0UsQ0FFQSxNQUFNcUMsRUFBU3dKLEVBQWlCcEIsRUFBU3pLLEdBQ3pDLElBQWUsSUFBWHFDLEVBQ0YsT0FBT3dJLEVBQWUsY0FBZSxtQkFBbUJZLEVBQVEscUJBQXNCWCxFQUF5QkwsRUFBU3pLLElBRTFILElBQUk4TCxFQUFVekosRUFBTzFGLE1BR3JCLEdBRkFxRCxFQUFJcUMsRUFBTzRILE1BRXlCLE1BQWhDNkIsRUFBUUEsRUFBUTNMLE9BQVMsR0FBWSxDQUV2QyxNQUFNNEwsRUFBZS9MLEVBQUk4TCxFQUFRM0wsT0FDakMyTCxFQUFVQSxFQUFRSCxVQUFVLEVBQUdHLEVBQVEzTCxPQUFTLEdBQ2hELE1BQU02TCxFQUFVQyxFQUF3QkgsRUFBU1osR0FDakQsSUFBZ0IsSUFBWmMsRUFPRixPQUFPbkIsRUFBZW1CLEVBQVFWLElBQUlZLEtBQU1GLEVBQVFWLElBQUlNLElBQUtkLEVBQXlCTCxFQUFTc0IsRUFBZUMsRUFBUVYsSUFBSWEsT0FOdEhmLEdBQVcsQ0FRZixNQUFPLEdBQUlJLEVBQVksQ0FDckIsSUFBS25KLEVBQU8rSixVQUNWLE9BQU92QixFQUFlLGFBQWMsZ0JBQWdCWSxFQUFRLGlDQUFrQ1gsRUFBeUJMLEVBQVN6SyxJQUMzSCxHQUFJOEwsRUFBUUosT0FBT3ZMLE9BQVMsRUFDakMsT0FBTzBLLEVBQWUsYUFBYyxnQkFBZ0JZLEVBQVEsK0NBQWdEWCxFQUF5QkwsRUFBU2MsSUFDekksQ0FDTCxNQUFNYyxFQUFNbEIsRUFBSzdILE1BQ2pCLEdBQUltSSxJQUFZWSxFQUFJWixRQUFTLENBQzNCLElBQUlhLEVBQVV4QixFQUF5QkwsRUFBUzRCLEVBQUlkLGFBQ3BELE9BQU9WLEVBQWUsYUFDcEIseUJBQXlCd0IsRUFBSVosUUFBUSxxQkFBcUJhLEVBQVFILEtBQUssU0FBU0csRUFBUUMsSUFBSSw2QkFBNkJkLEVBQVEsS0FDaklYLEVBQXlCTCxFQUFTYyxHQUN0QyxDQUdtQixHQUFmSixFQUFLaEwsU0FDUGtMLEdBQWMsRUFFbEIsQ0FDRixLQUFPLENBQ0wsTUFBTVcsRUFBVUMsRUFBd0JILEVBQVNaLEdBQ2pELElBQWdCLElBQVpjLEVBSUYsT0FBT25CLEVBQWVtQixFQUFRVixJQUFJWSxLQUFNRixFQUFRVixJQUFJTSxJQUFLZCxFQUF5QkwsRUFBU3pLLEVBQUk4TCxFQUFRM0wsT0FBUzZMLEVBQVFWLElBQUlhLE9BSTlILElBQW9CLElBQWhCZCxFQUNGLE9BQU9SLEVBQWUsYUFBYyxzQ0FBdUNDLEVBQXlCTCxFQUFTekssS0FDMUQsSUFBM0NrTCxFQUFRYixhQUFhOUosUUFBUWtMLElBR3JDTixFQUFLNUgsS0FBSyxDQUFDa0ksVUFBU0YsZ0JBRXRCSCxHQUFXLENBQ2IsQ0FJQSxJQUFLcEwsSUFBS0EsRUFBSXlLLEVBQVF0SyxPQUFRSCxJQUM1QixHQUFtQixNQUFmeUssRUFBUXpLLEdBQVksQ0FDdEIsR0FBdUIsTUFBbkJ5SyxFQUFRekssRUFBSSxHQUFZLENBRTFCQSxJQUNBQSxFQUFJK0ssRUFBb0JOLEVBQVN6SyxHQUNqQyxRQUNGLENBQU8sR0FBcUIsTUFBakJ5SyxFQUFRekssRUFBRSxHQUluQixNQUZBLEdBREFBLEVBQUl3SyxFQUFPQyxJQUFXekssR0FDbEJBLEVBQUVzTCxJQUFLLE9BQU90TCxDQUl0QixNQUFPLEdBQW1CLE1BQWZ5SyxFQUFRekssR0FBWSxDQUM3QixNQUFNd00sRUFBV0MsRUFBa0JoQyxFQUFTekssR0FDNUMsSUFBaUIsR0FBYndNLEVBQ0YsT0FBTzNCLEVBQWUsY0FBZSw0QkFBNkJDLEVBQXlCTCxFQUFTekssSUFDdEdBLEVBQUl3TSxDQUNOLE1BQ0UsSUFBb0IsSUFBaEJuQixJQUF5QmYsRUFBYUcsRUFBUXpLLElBQ2hELE9BQU82SyxFQUFlLGFBQWMsd0JBQXlCQyxFQUF5QkwsRUFBU3pLLElBSWxGLE1BQWZ5SyxFQUFRekssSUFDVkEsR0FFSixDQUNGLENBS0EsQ0FzT0osSUFBeUIySyxFQW5PdkIsT0FBS1MsRUFFb0IsR0FBZkQsRUFBS2hMLE9BQ0owSyxFQUFlLGFBQWMsaUJBQWlCTSxFQUFLLEdBQUdNLFFBQVEsS0FBTVgsRUFBeUJMLEVBQVNVLEVBQUssR0FBR0ksZ0JBQy9HSixFQUFLaEwsT0FBUyxJQUNiMEssRUFBZSxhQUFjLFlBQ2hDNkIsS0FBS0MsVUFBVXhCLEVBQUtqRCxLQUFJcEksR0FBS0EsRUFBRTJMLFVBQVUsS0FBTSxHQUFHbUIsUUFBUSxTQUFVLElBQ3BFLFdBQVksQ0FBQ1QsS0FBTSxFQUFHSSxJQUFLLElBTjFCMUIsRUFBZSxhQUFjLHNCQUF1QixFQVUvRCxFQWlGQSxNQUFNZ0MsRUFBYyxJQUNkQyxFQUFjLElBT3BCLFNBQVNqQixFQUFpQnBCLEVBQVN6SyxHQUNqQyxJQUFJOEwsRUFBVSxHQUNWaUIsRUFBWSxHQUNaWCxHQUFZLEVBQ2hCLEtBQU9wTSxFQUFJeUssRUFBUXRLLE9BQVFILElBQUssQ0FDOUIsR0FBSXlLLEVBQVF6SyxLQUFPNk0sR0FBZXBDLEVBQVF6SyxLQUFPOE0sRUFDN0IsS0FBZEMsRUFDRkEsRUFBWXRDLEVBQVF6SyxHQUNYK00sSUFBY3RDLEVBQVF6SyxLQUcvQitNLEVBQVksU0FFVCxHQUFtQixNQUFmdEMsRUFBUXpLLElBQ0MsS0FBZCtNLEVBQWtCLENBQ3BCWCxHQUFZLEVBQ1osS0FDRixDQUVGTixHQUFXckIsRUFBUXpLLEVBQ3JCLENBQ0EsTUFBa0IsS0FBZCtNLEdBSUcsQ0FDTHBRLE1BQU9tUCxFQUNQN0IsTUFBT2pLLEVBQ1BvTSxVQUFXQSxFQUVmLENBS0EsTUFBTVksRUFBb0IsSUFBSWpFLE9BQU8sMERBQTJELEtBSWhHLFNBQVNrRCxFQUF3QkgsRUFBU1osR0FLeEMsTUFBTXRCLEVBQVVNLEVBQUtSLGNBQWNvQyxFQUFTa0IsR0FDdENDLEVBQVksQ0FBQyxFQUVuQixJQUFLLElBQUlqTixFQUFJLEVBQUdBLEVBQUk0SixFQUFRekosT0FBUUgsSUFBSyxDQUN2QyxHQUE2QixJQUF6QjRKLEVBQVE1SixHQUFHLEdBQUdHLE9BRWhCLE9BQU8wSyxFQUFlLGNBQWUsY0FBY2pCLEVBQVE1SixHQUFHLEdBQUcsOEJBQStCa04sRUFBcUJ0RCxFQUFRNUosS0FDeEgsUUFBc0I2RCxJQUFsQitGLEVBQVE1SixHQUFHLFNBQXNDNkQsSUFBbEIrRixFQUFRNUosR0FBRyxHQUNuRCxPQUFPNkssRUFBZSxjQUFlLGNBQWNqQixFQUFRNUosR0FBRyxHQUFHLHNCQUF1QmtOLEVBQXFCdEQsRUFBUTVKLEtBQ2hILFFBQXNCNkQsSUFBbEIrRixFQUFRNUosR0FBRyxLQUFxQmtMLEVBQVFkLHVCQUVqRCxPQUFPUyxFQUFlLGNBQWUsc0JBQXNCakIsRUFBUTVKLEdBQUcsR0FBRyxvQkFBcUJrTixFQUFxQnRELEVBQVE1SixLQUs3SCxNQUFNbU4sRUFBV3ZELEVBQVE1SixHQUFHLEdBQzVCLElBQUtvTixFQUFpQkQsR0FDcEIsT0FBT3RDLEVBQWUsY0FBZSxjQUFjc0MsRUFBUyx3QkFBeUJELEVBQXFCdEQsRUFBUTVKLEtBRXBILEdBQUtpTixFQUFVMU4sZUFBZTROLEdBSTVCLE9BQU90QyxFQUFlLGNBQWUsY0FBY3NDLEVBQVMsaUJBQWtCRCxFQUFxQnRELEVBQVE1SixLQUYzR2lOLEVBQVVFLEdBQVksQ0FJMUIsQ0FFQSxPQUFPLENBQ1QsQ0FpQkEsU0FBU1YsRUFBa0JoQyxFQUFTekssR0FHbEMsR0FBbUIsTUFBZnlLLElBREp6SyxHQUVFLE9BQVEsRUFDVixHQUFtQixNQUFmeUssRUFBUXpLLEdBRVYsT0F0QkosU0FBaUN5SyxFQUFTekssR0FDeEMsSUFBSXFOLEVBQUssS0FLVCxJQUptQixNQUFmNUMsRUFBUXpLLEtBQ1ZBLElBQ0FxTixFQUFLLGNBRUFyTixFQUFJeUssRUFBUXRLLE9BQVFILElBQUssQ0FDOUIsR0FBbUIsTUFBZnlLLEVBQVF6SyxHQUNWLE9BQU9BLEVBQ1QsSUFBS3lLLEVBQVF6SyxHQUFHNkosTUFBTXdELEdBQ3BCLEtBQ0osQ0FDQSxPQUFRLENBQ1YsQ0FTV0MsQ0FBd0I3QyxJQUQvQnpLLEdBR0YsSUFBSXVOLEVBQVEsRUFDWixLQUFPdk4sRUFBSXlLLEVBQVF0SyxPQUFRSCxJQUFLdU4sSUFDOUIsS0FBSTlDLEVBQVF6SyxHQUFHNkosTUFBTSxPQUFTMEQsRUFBUSxJQUF0QyxDQUVBLEdBQW1CLE1BQWY5QyxFQUFRekssR0FDVixNQUNGLE9BQVEsQ0FIRSxDQUtaLE9BQU9BLENBQ1QsQ0FFQSxTQUFTNkssRUFBZXFCLEVBQU1zQixFQUFTQyxHQUNyQyxNQUFPLENBQ0xuQyxJQUFLLENBQ0hZLEtBQU1BLEVBQ05OLElBQUs0QixFQUNMckIsS0FBTXNCLEVBQVd0QixNQUFRc0IsRUFDekJsQixJQUFLa0IsRUFBV2xCLEtBR3RCLENBRUEsU0FBU2EsRUFBaUJELEdBQ3hCLE9BQU9qRCxFQUFLWCxPQUFPNEQsRUFDckIsQ0FTQSxTQUFTckMsRUFBeUJMLEVBQVNSLEdBQ3pDLE1BQU15RCxFQUFRakQsRUFBUWtCLFVBQVUsRUFBRzFCLEdBQU8wRCxNQUFNLFNBQ2hELE1BQU8sQ0FDTHhCLEtBQU11QixFQUFNdk4sT0FHWm9NLElBQUttQixFQUFNQSxFQUFNdk4sT0FBUyxHQUFHQSxPQUFTLEVBRTFDLENBR0EsU0FBUytNLEVBQXFCckQsR0FDNUIsT0FBT0EsRUFBTUUsV0FBYUYsRUFBTSxHQUFHMUosTUFDckMsOEJDcGFBLE1BQU15TixFQUFxQixFQUFRLEtBRTdCekQsRUFBaUIsQ0FDckIwRCxvQkFBcUIsS0FDckJDLHFCQUFxQixFQUNyQkMsYUFBYyxRQUNkQyxrQkFBa0IsRUFDbEJDLGVBQWUsRUFDZkMsUUFBUSxFQUNSQyxTQUFVLEtBQ1ZDLG1CQUFtQixFQUNuQkMsc0JBQXNCLEVBQ3RCQywyQkFBMkIsRUFDM0JDLGtCQUFtQixTQUFTMU4sRUFBS3dELEdBQy9CLE9BQU9BLENBQ1QsRUFDQW1LLHdCQUF5QixTQUFTckIsRUFBVTlJLEdBQzFDLE9BQU9BLENBQ1QsRUFDQW9LLGVBQWUsRUFDZkMsaUJBQWlCLEVBQ2pCckUsYUFBYyxHQUNkc0UsU0FBVSxDQUNSLENBQUVoRixNQUFPLElBQUlaLE9BQU8sSUFBSyxLQUFNNkYsSUFBSyxTQUNwQyxDQUFFakYsTUFBTyxJQUFJWixPQUFPLElBQUssS0FBTTZGLElBQUssUUFDcEMsQ0FBRWpGLE1BQU8sSUFBSVosT0FBTyxJQUFLLEtBQU02RixJQUFLLFFBQ3BDLENBQUVqRixNQUFPLElBQUlaLE9BQU8sSUFBTSxLQUFNNkYsSUFBSyxVQUNyQyxDQUFFakYsTUFBTyxJQUFJWixPQUFPLElBQU0sS0FBTTZGLElBQUssV0FFdkNDLGlCQUFpQixFQUNqQkMsVUFBVyxHQUdYQyxjQUFjLEdBR2hCLFNBQVNDLEVBQVE5RCxHQUNmbE8sS0FBS2tPLFFBQVUxTyxPQUFPcUQsT0FBTyxDQUFDLEVBQUdzSyxFQUFnQmUsR0FDN0NsTyxLQUFLa08sUUFBUThDLGtCQUFvQmhSLEtBQUtrTyxRQUFRNEMsb0JBQ2hEOVEsS0FBS2lTLFlBQWMsV0FDakIsT0FBTyxDQUNULEdBRUFqUyxLQUFLa1MsY0FBZ0JsUyxLQUFLa08sUUFBUTJDLG9CQUFvQjFOLE9BQ3REbkQsS0FBS2lTLFlBQWNBLEdBR3JCalMsS0FBS21TLHFCQUF1QkEsRUFFeEJuUyxLQUFLa08sUUFBUWdELFFBQ2ZsUixLQUFLb1MsVUFBWUEsRUFDakJwUyxLQUFLcVMsV0FBYSxNQUNsQnJTLEtBQUtzUyxRQUFVLE9BRWZ0UyxLQUFLb1MsVUFBWSxXQUNmLE1BQU8sRUFDVCxFQUNBcFMsS0FBS3FTLFdBQWEsSUFDbEJyUyxLQUFLc1MsUUFBVSxHQUVuQixDQTJGQSxTQUFTSCxFQUFzQkksRUFBUTFPLEVBQUsyTyxHQUMxQyxNQUFNbk4sRUFBU3JGLEtBQUt5UyxJQUFJRixFQUFRQyxFQUFRLEdBQ3hDLFlBQTBDM0wsSUFBdEMwTCxFQUFPdlMsS0FBS2tPLFFBQVE2QyxlQUE4RCxJQUEvQnZSLE9BQU8yTSxLQUFLb0csR0FBUXBQLE9BQ2xFbkQsS0FBSzBTLGlCQUFpQkgsRUFBT3ZTLEtBQUtrTyxRQUFRNkMsY0FBZWxOLEVBQUt3QixFQUFPeUosUUFBUzBELEdBRTlFeFMsS0FBSzJTLGdCQUFnQnROLEVBQU91TSxJQUFLL04sRUFBS3dCLEVBQU95SixRQUFTMEQsRUFFakUsQ0FzRkEsU0FBU0osRUFBVUksR0FDakIsT0FBT3hTLEtBQUtrTyxRQUFRaUQsU0FBU3lCLE9BQU9KLEVBQ3RDLENBRUEsU0FBU1AsRUFBWVksR0FDbkIsUUFBSUEsRUFBS0MsV0FBVzlTLEtBQUtrTyxRQUFRMkMsc0JBQ3hCZ0MsRUFBS2pGLE9BQU81TixLQUFLa1MsY0FJNUIsQ0FoTUFGLEVBQVE3UixVQUFVNFMsTUFBUSxTQUFTQyxHQUNqQyxPQUFHaFQsS0FBS2tPLFFBQVF1RCxjQUNQYixFQUFtQm9DLEVBQU1oVCxLQUFLa08sVUFFbEM3TCxNQUFNNFEsUUFBUUQsSUFBU2hULEtBQUtrTyxRQUFRZ0YsZUFBaUJsVCxLQUFLa08sUUFBUWdGLGNBQWMvUCxPQUFTLElBQzFGNlAsRUFBTyxDQUNMLENBQUNoVCxLQUFLa08sUUFBUWdGLGVBQWlCRixJQUc1QmhULEtBQUt5UyxJQUFJTyxFQUFNLEdBQUdwQixJQUU3QixFQUVBSSxFQUFRN1IsVUFBVXNTLElBQU0sU0FBU08sRUFBTVIsR0FDckMsSUFBSTFELEVBQVUsR0FDVjhDLEVBQU0sR0FDVixJQUFLLElBQUkvTixLQUFPbVAsRUFDZCxRQUF5QixJQUFkQSxFQUFLblAsU0FFVCxHQUFrQixPQUFkbVAsRUFBS25QLEdBQ0EsTUFBWEEsRUFBSSxHQUFZK04sR0FBTzVSLEtBQUtvUyxVQUFVSSxHQUFTLElBQU0zTyxFQUFNLElBQU03RCxLQUFLcVMsV0FDcEVULEdBQU81UixLQUFLb1MsVUFBVUksR0FBUyxJQUFNM08sRUFBTSxJQUFNN0QsS0FBS3FTLGdCQUV0RCxHQUFJVyxFQUFLblAsYUFBZ0JzUCxLQUM5QnZCLEdBQU81UixLQUFLMFMsaUJBQWlCTSxFQUFLblAsR0FBTUEsRUFBSyxHQUFJMk8sUUFDNUMsR0FBeUIsaUJBQWRRLEVBQUtuUCxHQUFtQixDQUV4QyxNQUFNdVAsRUFBT3BULEtBQUtpUyxZQUFZcE8sR0FDOUIsR0FBSXVQLEVBQ0Z0RSxHQUFXOU8sS0FBS3FULGlCQUFpQkQsRUFBTSxHQUFLSixFQUFLblAsU0FHakQsR0FBSUEsSUFBUTdELEtBQUtrTyxRQUFRNkMsYUFBYyxDQUNyQyxJQUFJdUMsRUFBU3RULEtBQUtrTyxRQUFRcUQsa0JBQWtCMU4sRUFBSyxHQUFLbVAsRUFBS25QLElBQzNEK04sR0FBTzVSLEtBQUt1VCxxQkFBcUJELEVBQ25DLE1BQ0UxQixHQUFPNVIsS0FBSzBTLGlCQUFpQk0sRUFBS25QLEdBQU1BLEVBQUssR0FBSTJPLEVBR3ZELE1BQU8sR0FBSW5RLE1BQU00USxRQUFRRCxFQUFLblAsSUFBTyxDQUVuQyxNQUFNMlAsRUFBU1IsRUFBS25QLEdBQUtWLE9BQ3pCLElBQUlzUSxFQUFhLEdBQ2pCLElBQUssSUFBSW5NLEVBQUksRUFBR0EsRUFBSWtNLEVBQVFsTSxJQUFLLENBQy9CLE1BQU1vTSxFQUFPVixFQUFLblAsR0FBS3lELFFBQ0gsSUFBVG9NLElBRVMsT0FBVEEsRUFDSyxNQUFYN1AsRUFBSSxHQUFZK04sR0FBTzVSLEtBQUtvUyxVQUFVSSxHQUFTLElBQU0zTyxFQUFNLElBQU03RCxLQUFLcVMsV0FDcEVULEdBQU81UixLQUFLb1MsVUFBVUksR0FBUyxJQUFNM08sRUFBTSxJQUFNN0QsS0FBS3FTLFdBRWxDLGlCQUFUcUIsRUFDYjFULEtBQUtrTyxRQUFRNkQsYUFDZDBCLEdBQWN6VCxLQUFLeVMsSUFBSWlCLEVBQU1sQixFQUFRLEdBQUdaLElBRXhDNkIsR0FBY3pULEtBQUttUyxxQkFBcUJ1QixFQUFNN1AsRUFBSzJPLEdBR3JEaUIsR0FBY3pULEtBQUswUyxpQkFBaUJnQixFQUFNN1AsRUFBSyxHQUFJMk8sR0FFdkQsQ0FDR3hTLEtBQUtrTyxRQUFRNkQsZUFDZDBCLEVBQWF6VCxLQUFLMlMsZ0JBQWdCYyxFQUFZNVAsRUFBSyxHQUFJMk8sSUFFekRaLEdBQU82QixDQUNULE1BRUUsR0FBSXpULEtBQUtrTyxRQUFRNEMscUJBQXVCak4sSUFBUTdELEtBQUtrTyxRQUFRNEMsb0JBQXFCLENBQ2hGLE1BQU02QyxFQUFLblUsT0FBTzJNLEtBQUs2RyxFQUFLblAsSUFDdEIrUCxFQUFJRCxFQUFHeFEsT0FDYixJQUFLLElBQUltRSxFQUFJLEVBQUdBLEVBQUlzTSxFQUFHdE0sSUFDckJ3SCxHQUFXOU8sS0FBS3FULGlCQUFpQk0sRUFBR3JNLEdBQUksR0FBSzBMLEVBQUtuUCxHQUFLOFAsRUFBR3JNLElBRTlELE1BQ0VzSyxHQUFPNVIsS0FBS21TLHFCQUFxQmEsRUFBS25QLEdBQU1BLEVBQUsyTyxHQUl2RCxNQUFPLENBQUMxRCxRQUFTQSxFQUFTOEMsSUFBS0EsRUFDakMsRUFFQUksRUFBUTdSLFVBQVVrVCxpQkFBbUIsU0FBU2xELEVBQVV5QixHQUd0RCxPQUZBQSxFQUFNNVIsS0FBS2tPLFFBQVFzRCx3QkFBd0JyQixFQUFVLEdBQUt5QixHQUMxREEsRUFBTTVSLEtBQUt1VCxxQkFBcUIzQixHQUM1QjVSLEtBQUtrTyxRQUFRb0QsMkJBQXFDLFNBQVJNLEVBQ3JDLElBQU16QixFQUNELElBQU1BLEVBQVcsS0FBT3lCLEVBQU0sR0FDOUMsRUFXQUksRUFBUTdSLFVBQVV3UyxnQkFBa0IsU0FBU2YsRUFBSy9OLEVBQUtpTCxFQUFTMEQsR0FDOUQsR0FBVyxLQUFSWixFQUNELE1BQWMsTUFBWC9OLEVBQUksR0FBb0I3RCxLQUFLb1MsVUFBVUksR0FBUyxJQUFNM08sRUFBTWlMLEVBQVMsSUFBTTlPLEtBQUtxUyxXQUUxRXJTLEtBQUtvUyxVQUFVSSxHQUFTLElBQU0zTyxFQUFNaUwsRUFBVTlPLEtBQUs2VCxTQUFTaFEsR0FBTzdELEtBQUtxUyxXQUU5RSxDQUVILElBQUl5QixFQUFZLEtBQU9qUSxFQUFNN0QsS0FBS3FTLFdBQzlCMEIsRUFBZ0IsR0FPcEIsTUFMYyxNQUFYbFEsRUFBSSxLQUNMa1EsRUFBZ0IsSUFDaEJELEVBQVksSUFHVmhGLElBQWlDLElBQXRCOEMsRUFBSXJPLFFBQVEsS0FDaEJ2RCxLQUFLb1MsVUFBVUksR0FBUyxJQUFPM08sRUFBTWlMLEVBQVVpRixFQUFnQixJQUFNbkMsRUFBTWtDLEdBQzFDLElBQWpDOVQsS0FBS2tPLFFBQVF3RCxpQkFBNkI3TixJQUFRN0QsS0FBS2tPLFFBQVF3RCxpQkFBNEMsSUFBekJxQyxFQUFjNVEsT0FDbEduRCxLQUFLb1MsVUFBVUksR0FBUyxVQUFPWixVQUFXNVIsS0FBS3NTLFFBR3BEdFMsS0FBS29TLFVBQVVJLEdBQVMsSUFBTTNPLEVBQU1pTCxFQUFVaUYsRUFBZ0IvVCxLQUFLcVMsV0FDbkVULEVBQ0E1UixLQUFLb1MsVUFBVUksR0FBU3NCLENBRTlCLENBQ0YsRUFFQTlCLEVBQVE3UixVQUFVMFQsU0FBVyxTQUFTaFEsR0FDcEMsSUFBSWdRLEVBQVcsR0FRZixPQVArQyxJQUE1QzdULEtBQUtrTyxRQUFRYixhQUFhOUosUUFBUU0sR0FDL0I3RCxLQUFLa08sUUFBUW1ELHVCQUFzQndDLEVBQVcsS0FFbERBLEVBRE83VCxLQUFLa08sUUFBUWtELGtCQUNULElBRUEsTUFBTXZOLElBRVpnUSxDQUNULEVBY0E3QixFQUFRN1IsVUFBVXVTLGlCQUFtQixTQUFTZCxFQUFLL04sRUFBS2lMLEVBQVMwRCxHQUMvRCxJQUFtQyxJQUEvQnhTLEtBQUtrTyxRQUFRK0MsZUFBMkJwTixJQUFRN0QsS0FBS2tPLFFBQVErQyxjQUMvRCxPQUFPalIsS0FBS29TLFVBQVVJLEdBQVMsWUFBWVosT0FBWTVSLEtBQUtzUyxRQUN4RCxJQUFxQyxJQUFqQ3RTLEtBQUtrTyxRQUFRd0QsaUJBQTZCN04sSUFBUTdELEtBQUtrTyxRQUFRd0QsZ0JBQ3ZFLE9BQU8xUixLQUFLb1MsVUFBVUksR0FBUyxVQUFPWixVQUFZNVIsS0FBS3NTLFFBQ25ELEdBQWMsTUFBWHpPLEVBQUksR0FDWCxPQUFRN0QsS0FBS29TLFVBQVVJLEdBQVMsSUFBTTNPLEVBQU1pTCxFQUFTLElBQU05TyxLQUFLcVMsV0FDN0QsQ0FDSCxJQUFJMkIsRUFBWWhVLEtBQUtrTyxRQUFRcUQsa0JBQWtCMU4sRUFBSytOLEdBR3BELE9BRkFvQyxFQUFZaFUsS0FBS3VULHFCQUFxQlMsR0FFcEIsS0FBZEEsRUFDS2hVLEtBQUtvUyxVQUFVSSxHQUFTLElBQU0zTyxFQUFNaUwsRUFBVTlPLEtBQUs2VCxTQUFTaFEsR0FBTzdELEtBQUtxUyxXQUV4RXJTLEtBQUtvUyxVQUFVSSxHQUFTLElBQU0zTyxFQUFNaUwsRUFBVSxJQUNsRGtGLEVBQ0QsS0FBT25RLEVBQU03RCxLQUFLcVMsVUFFeEIsQ0FDRixFQUVBTCxFQUFRN1IsVUFBVW9ULHFCQUF1QixTQUFTUyxHQUNoRCxHQUFHQSxHQUFhQSxFQUFVN1EsT0FBUyxHQUFLbkQsS0FBS2tPLFFBQVEyRCxnQkFDbkQsSUFBSyxJQUFJN08sRUFBRSxFQUFHQSxFQUFFaEQsS0FBS2tPLFFBQVF5RCxTQUFTeE8sT0FBUUgsSUFBSyxDQUNqRCxNQUFNaVIsRUFBU2pVLEtBQUtrTyxRQUFReUQsU0FBUzNPLEdBQ3JDZ1IsRUFBWUEsRUFBVXBFLFFBQVFxRSxFQUFPdEgsTUFBT3NILEVBQU9yQyxJQUNyRCxDQUVGLE9BQU9vQyxDQUNULEVBY0F0SSxFQUFPaE0sUUFBVXNTLFdDbFBqQixTQUFTa0MsRUFBU0MsRUFBS2pHLEVBQVNrRyxFQUFPQyxHQUNuQyxJQUFJQyxFQUFTLEdBQ1RDLEdBQXVCLEVBRTNCLElBQUssSUFBSXZSLEVBQUksRUFBR0EsRUFBSW1SLEVBQUloUixPQUFRSCxJQUFLLENBQ2pDLE1BQU13UixFQUFTTCxFQUFJblIsR0FDYnlMLEVBQVVnRyxFQUFTRCxHQUN6QixJQUFJRSxFQUFXLEdBSWYsR0FId0JBLEVBQUgsSUFBakJOLEVBQU1qUixPQUF5QnNMLEVBQ25CLEdBQUcyRixLQUFTM0YsSUFFeEJBLElBQVlQLEVBQVE2QyxhQUFjLENBQ2xDLElBQUk0RCxFQUFVSCxFQUFPL0YsR0FDaEJtRyxFQUFXRixFQUFVeEcsS0FDdEJ5RyxFQUFVekcsRUFBUXFELGtCQUFrQjlDLEVBQVNrRyxHQUM3Q0EsRUFBVXBCLEVBQXFCb0IsRUFBU3pHLElBRXhDcUcsSUFDQUQsR0FBVUQsR0FFZEMsR0FBVUssRUFDVkosR0FBdUIsRUFDdkIsUUFDSixDQUFPLEdBQUk5RixJQUFZUCxFQUFRK0MsY0FBZSxDQUN0Q3NELElBQ0FELEdBQVVELEdBRWRDLEdBQVUsWUFBWUUsRUFBTy9GLEdBQVMsR0FBR1AsRUFBUTZDLG1CQUNqRHdELEdBQXVCLEVBQ3ZCLFFBQ0osQ0FBTyxHQUFJOUYsSUFBWVAsRUFBUXdELGdCQUFpQixDQUM1QzRDLEdBQVVELEVBQWMsVUFBT0csRUFBTy9GLEdBQVMsR0FBR1AsRUFBUTZDLHNCQUMxRHdELEdBQXVCLEVBQ3ZCLFFBQ0osQ0FBTyxHQUFtQixNQUFmOUYsRUFBUSxHQUFZLENBQzNCLE1BQU1vRyxFQUFTQyxFQUFZTixFQUFPLE1BQU90RyxHQUNuQzZHLEVBQXNCLFNBQVp0RyxFQUFxQixHQUFLNEYsRUFDMUMsSUFBSVcsRUFBaUJSLEVBQU8vRixHQUFTLEdBQUdQLEVBQVE2QyxjQUNoRGlFLEVBQTJDLElBQTFCQSxFQUFlN1IsT0FBZSxJQUFNNlIsRUFBaUIsR0FDdEVWLEdBQVVTLEVBQVUsSUFBSXRHLElBQVV1RyxJQUFpQkgsTUFDbkROLEdBQXVCLEVBQ3ZCLFFBQ0osQ0FDQSxJQUFJVSxFQUFnQlosRUFDRSxLQUFsQlksSUFDQUEsR0FBaUIvRyxFQUFRaUQsVUFFN0IsTUFDTStELEVBQVdiLEVBQWMsSUFBSTVGLElBRHBCcUcsRUFBWU4sRUFBTyxNQUFPdEcsS0FFbkNpSCxFQUFXakIsRUFBU00sRUFBTy9GLEdBQVVQLEVBQVN3RyxFQUFVTyxJQUNmLElBQTNDL0csRUFBUWIsYUFBYTlKLFFBQVFrTCxHQUN6QlAsRUFBUW1ELHFCQUFzQmlELEdBQVVZLEVBQVcsSUFDbERaLEdBQVVZLEVBQVcsS0FDakJDLEdBQWdDLElBQXBCQSxFQUFTaFMsU0FBaUIrSyxFQUFRa0Qsa0JBRWhEK0QsR0FBWUEsRUFBU0MsU0FBUyxLQUNyQ2QsR0FBVVksRUFBVyxJQUFJQyxJQUFXZCxNQUFnQjVGLE1BRXBENkYsR0FBVVksRUFBVyxJQUNqQkMsR0FBNEIsS0FBaEJkLElBQXVCYyxFQUFTRSxTQUFTLE9BQVNGLEVBQVNFLFNBQVMsT0FDaEZmLEdBQVVELEVBQWNuRyxFQUFRaUQsU0FBV2dFLEVBQVdkLEVBRXREQyxHQUFVYSxFQUVkYixHQUFVLEtBQUs3RixNQVZmNkYsR0FBVVksRUFBVyxLQVl6QlgsR0FBdUIsQ0FDM0IsQ0FFQSxPQUFPRCxDQUNYLENBRUEsU0FBU0csRUFBU3ZJLEdBQ2QsTUFBTUMsRUFBTzNNLE9BQU8yTSxLQUFLRCxHQUN6QixJQUFLLElBQUlsSixFQUFJLEVBQUdBLEVBQUltSixFQUFLaEosT0FBUUgsSUFBSyxDQUNsQyxNQUFNYSxFQUFNc0ksRUFBS25KLEdBQ2pCLEdBQVksT0FBUmEsRUFBYyxPQUFPQSxDQUM3QixDQUNKLENBRUEsU0FBU2lSLEVBQVlRLEVBQVNwSCxHQUMxQixJQUFJWSxFQUFVLEdBQ2QsR0FBSXdHLElBQVlwSCxFQUFROEMsaUJBQ3BCLElBQUssSUFBSW9DLEtBQVFrQyxFQUFTLENBQ3RCLElBQUlDLEVBQVVySCxFQUFRc0Qsd0JBQXdCNEIsRUFBTWtDLEVBQVFsQyxJQUM1RG1DLEVBQVVoQyxFQUFxQmdDLEVBQVNySCxJQUN4QixJQUFacUgsR0FBb0JySCxFQUFRb0QsMEJBQzVCeEMsR0FBVyxJQUFJc0UsRUFBS3hGLE9BQU9NLEVBQVEyQyxvQkFBb0IxTixVQUV2RDJMLEdBQVcsSUFBSXNFLEVBQUt4RixPQUFPTSxFQUFRMkMsb0JBQW9CMU4sWUFBWW9TLElBRTNFLENBRUosT0FBT3pHLENBQ1gsQ0FFQSxTQUFTOEYsRUFBV1IsRUFBT2xHLEdBRXZCLElBQUlPLEdBREoyRixFQUFRQSxFQUFNeEcsT0FBTyxFQUFHd0csRUFBTWpSLE9BQVMrSyxFQUFRNkMsYUFBYTVOLE9BQVMsSUFDakR5SyxPQUFPd0csRUFBTW9CLFlBQVksS0FBTyxHQUNwRCxJQUFLLElBQUl2SSxLQUFTaUIsRUFBUTRELFVBQ3RCLEdBQUk1RCxFQUFRNEQsVUFBVTdFLEtBQVdtSCxHQUFTbEcsRUFBUTRELFVBQVU3RSxLQUFXLEtBQU93QixFQUFTLE9BQU8sRUFFbEcsT0FBTyxDQUNYLENBRUEsU0FBUzhFLEVBQXFCUyxFQUFXOUYsR0FDckMsR0FBSThGLEdBQWFBLEVBQVU3USxPQUFTLEdBQUsrSyxFQUFRMkQsZ0JBQzdDLElBQUssSUFBSTdPLEVBQUksRUFBR0EsRUFBSWtMLEVBQVF5RCxTQUFTeE8sT0FBUUgsSUFBSyxDQUM5QyxNQUFNaVIsRUFBUy9GLEVBQVF5RCxTQUFTM08sR0FDaENnUixFQUFZQSxFQUFVcEUsUUFBUXFFLEVBQU90SCxNQUFPc0gsRUFBT3JDLElBQ3ZELENBRUosT0FBT29DLENBQ1gsQ0FDQXRJLEVBQU9oTSxRQTFIUCxTQUFlK1YsRUFBUXZILEdBQ25CLElBQUltRyxFQUFjLEdBSWxCLE9BSEluRyxFQUFRZ0QsUUFBVWhELEVBQVFpRCxTQUFTaE8sT0FBUyxJQUM1Q2tSLEVBWEksTUFhREgsRUFBU3VCLEVBQVF2SCxFQUFTLEdBQUltRyxFQUN6QyxpQkNkQSxNQUFNbkgsRUFBTyxFQUFRLEtBK0RyQixTQUFTd0ksRUFBY2pJLEVBQVF6SyxHQVczQixJQUFJMlMsRUFBYSxHQUNqQixLQUFPM1MsRUFBSXlLLEVBQVF0SyxRQUEwQixNQUFmc0ssRUFBUXpLLElBQTZCLE1BQWZ5SyxFQUFRekssR0FBY0EsSUFHdEUyUyxHQUFjbEksRUFBUXpLLEdBRzFCLEdBREEyUyxFQUFhQSxFQUFXakgsUUFDUSxJQUE3QmlILEVBQVdwUyxRQUFRLEtBQWEsTUFBTSxJQUFJcVMsTUFBTSxzQ0FHbkQsTUFBTTdGLEVBQVl0QyxFQUFRekssS0FDMUIsSUFBSTRPLEVBQU0sR0FDVixLQUFPNU8sRUFBSXlLLEVBQVF0SyxRQUFVc0ssRUFBUXpLLEtBQU8rTSxFQUFZL00sSUFDcEQ0TyxHQUFPbkUsRUFBUXpLLEdBRW5CLE1BQU8sQ0FBQzJTLEVBQVkvRCxFQUFLNU8sRUFDN0IsQ0FFQSxTQUFTNlMsRUFBVXBJLEVBQVN6SyxHQUN4QixNQUFvQixNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ0ksTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsRUFFZCxDQUNBLFNBQVM4UyxFQUFTckksRUFBU3pLLEdBQ3ZCLE1BQW9CLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDSSxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsRUFFZCxDQUNBLFNBQVMrUyxFQUFVdEksRUFBU3pLLEdBQ3hCLE1BQW9CLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDSSxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLEVBRWQsQ0FFQSxTQUFTZ1QsRUFBVXZJLEVBQVN6SyxHQUN4QixNQUFvQixNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ0ksTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxFQUVkLENBQ0EsU0FBU2lULEVBQVd4SSxFQUFTekssR0FDekIsTUFBb0IsTUFBakJ5SyxFQUFRekssRUFBRSxJQUNJLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLElBQ08sTUFBakJ5SyxFQUFRekssRUFBRSxJQUNPLE1BQWpCeUssRUFBUXpLLEVBQUUsSUFDTyxNQUFqQnlLLEVBQVF6SyxFQUFFLEVBRWQsQ0FFQSxTQUFTa1QsRUFBbUJyRCxHQUN4QixHQUFJM0YsRUFBS1gsT0FBT3NHLEdBQ25CLE9BQU9BLEVBRUEsTUFBTSxJQUFJK0MsTUFBTSx1QkFBdUIvQyxJQUMvQyxDQUVBbkgsRUFBT2hNLFFBcEpQLFNBQXFCK04sRUFBU3pLLEdBRTFCLE1BQU0yTyxFQUFXLENBQUMsRUFDbEIsR0FBdUIsTUFBbkJsRSxFQUFRekssRUFBSSxJQUNRLE1BQW5CeUssRUFBUXpLLEVBQUksSUFDTyxNQUFuQnlLLEVBQVF6SyxFQUFJLElBQ08sTUFBbkJ5SyxFQUFRekssRUFBSSxJQUNPLE1BQW5CeUssRUFBUXpLLEVBQUksSUFDTyxNQUFuQnlLLEVBQVF6SyxFQUFJLEdBK0NiLE1BQU0sSUFBSTRTLE1BQU0sa0NBOUNwQixDQUNJNVMsR0FBTSxFQUNOLElBQUlnTCxFQUFxQixFQUNyQm1JLEdBQVUsRUFBT0MsR0FBVSxFQUMzQkMsRUFBTSxHQUNWLEtBQUtyVCxFQUFFeUssRUFBUXRLLE9BQU9ILElBQ2xCLEdBQW1CLE1BQWZ5SyxFQUFRekssSUFBZW9ULEVBa0JwQixHQUFtQixNQUFmM0ksRUFBUXpLLElBU2YsR0FSR29ULEVBQ3dCLE1BQW5CM0ksRUFBUXpLLEVBQUksSUFBaUMsTUFBbkJ5SyxFQUFRekssRUFBSSxLQUN0Q29ULEdBQVUsRUFDVnBJLEtBR0pBLElBRXVCLElBQXZCQSxFQUNGLFVBRW1CLE1BQWZQLEVBQVF6SyxHQUNkbVQsR0FBVSxFQUVWRSxHQUFPNUksRUFBUXpLLE9BakNpQixDQUNoQyxHQUFJbVQsR0FBV0wsRUFBU3JJLEVBQVN6SyxHQUM3QkEsR0FBSyxHQUNKMlMsV0FBWS9ELElBQUk1TyxHQUFLMFMsRUFBY2pJLEVBQVF6SyxFQUFFLElBQ3JCLElBQXRCNE8sSUFBSXJPLFFBQVEsT0FDWG9PLEVBQVV1RSxFQUFtQlAsYUFBZ0IsQ0FDekNXLEtBQU92SyxPQUFRLElBQUk0SixjQUFjLEtBQ2pDL0QsV0FHUCxHQUFJdUUsR0FBV0osRUFBVXRJLEVBQVN6SyxHQUFLQSxHQUFLLE9BQzVDLEdBQUltVCxHQUFXSCxFQUFVdkksRUFBU3pLLEdBQUtBLEdBQUssT0FDNUMsR0FBSW1ULEdBQVdGLEVBQVd4SSxFQUFTekssR0FBSUEsR0FBSyxNQUM1QyxLQUFJNlMsRUFDbUMsTUFBTSxJQUFJRCxNQUFNLG1CQURoQlEsR0FBVSxDQUN3QixDQUU5RXBJLElBQ0FxSSxFQUFNLEVBQ1YsQ0FrQkosR0FBMEIsSUFBdkJySSxFQUNDLE1BQU0sSUFBSTRILE1BQU0sbUJBRXhCLENBR0EsTUFBTyxDQUFDakUsV0FBVTNPLElBQ3RCLGVDNURBLE1BQU1tSyxFQUFpQixDQUNuQnNFLGVBQWUsRUFDZlosb0JBQXFCLEtBQ3JCQyxxQkFBcUIsRUFDckJDLGFBQWMsUUFDZEMsa0JBQWtCLEVBQ2xCdUYsZ0JBQWdCLEVBQ2hCbkosd0JBQXdCLEVBRXhCb0osZUFBZSxFQUNmQyxxQkFBcUIsRUFDckJDLFlBQVksRUFDWnpGLGVBQWUsRUFDZjBGLG1CQUFvQixDQUNsQkMsS0FBSyxFQUNMQyxjQUFjLEVBQ2RDLFdBQVcsR0FFYnZGLGtCQUFtQixTQUFTOUMsRUFBU21ELEdBQ25DLE9BQU9BLENBQ1QsRUFDQUosd0JBQXlCLFNBQVNyQixFQUFVeUIsR0FDMUMsT0FBT0EsQ0FDVCxFQUNBRSxVQUFXLEdBQ1hpRixzQkFBc0IsRUFDdEI5RCxRQUFTLEtBQU0sRUFDZnZCLGlCQUFpQixFQUNqQnJFLGFBQWMsR0FDZHdFLGlCQUFpQixFQUNqQm1GLGNBQWMsRUFDZEMsbUJBQW1CLEVBQ25CQyxjQUFjLEVBQ2RDLGtCQUFrQixFQUNsQkMsd0JBQXdCLEVBQ3hCQyxVQUFXLFNBQVM1SSxFQUFTMkYsRUFBT2tELEdBQ2xDLE9BQU83SSxDQUNULEdBUUovTyxFQUFRNlgsYUFKYSxTQUFTckosR0FDMUIsT0FBTzFPLE9BQU9xRCxPQUFPLENBQUMsRUFBR3NLLEVBQWdCZSxFQUM3QyxFQUdBeE8sRUFBUXlOLGVBQWlCQSw2QkM1Q3pCLE1BQU1ELEVBQU8sRUFBUSxLQUNmc0ssRUFBVSxFQUFRLEtBQ2xCQyxFQUFjLEVBQVEsS0FDdEJDLEVBQVcsRUFBUSxLQW1EekIsU0FBU0MsRUFBb0JDLEdBQzNCLE1BQU1DLEVBQVVyWSxPQUFPMk0sS0FBS3lMLEdBQzVCLElBQUssSUFBSTVVLEVBQUksRUFBR0EsRUFBSTZVLEVBQVExVSxPQUFRSCxJQUFLLENBQ3ZDLE1BQU04VSxFQUFNRCxFQUFRN1UsR0FDcEJoRCxLQUFLK1gsYUFBYUQsR0FBTyxDQUN0Qm5MLE1BQU8sSUFBSVosT0FBTyxJQUFJK0wsRUFBSSxJQUFJLEtBQzlCbEcsSUFBTWdHLEVBQWlCRSxHQUU1QixDQUNGLENBV0EsU0FBU0UsRUFBY3BHLEVBQUtuRCxFQUFTMkYsRUFBTzZELEVBQVVDLEVBQWVDLEVBQVlDLEdBQy9FLFFBQVl2UixJQUFSK0ssSUFDRTVSLEtBQUtrTyxRQUFRd0ksYUFBZXVCLElBQzlCckcsRUFBTUEsRUFBSWxELFFBRVRrRCxFQUFJek8sT0FBUyxHQUFFLENBQ1ppVixJQUFnQnhHLEVBQU01UixLQUFLdVQscUJBQXFCM0IsSUFFcEQsTUFBTTBCLEVBQVN0VCxLQUFLa08sUUFBUXFELGtCQUFrQjlDLEVBQVNtRCxFQUFLd0MsRUFBTzhELEVBQWVDLEdBQ2xGLE9BQUc3RSxRQUVNMUIsU0FDTzBCLFVBQWtCMUIsR0FBTzBCLElBQVcxQixFQUUzQzBCLEVBQ0F0VCxLQUFLa08sUUFBUXdJLFlBR0Q5RSxFQUFJbEQsU0FDTGtELEVBSFh5RyxFQUFXekcsRUFBSzVSLEtBQUtrTyxRQUFRc0ksY0FBZXhXLEtBQUtrTyxRQUFReUksb0JBTXZEL0UsQ0FHYixDQUVKLENBRUEsU0FBUzBHLEVBQWlCM0ssR0FDeEIsR0FBSTNOLEtBQUtrTyxRQUFRcUksZUFBZ0IsQ0FDL0IsTUFBTXBJLEVBQU9SLEVBQVFnRCxNQUFNLEtBQ3JCNEgsRUFBK0IsTUFBdEI1SyxFQUFRNkssT0FBTyxHQUFhLElBQU0sR0FDakQsR0FBZ0IsVUFBWnJLLEVBQUssR0FDUCxNQUFPLEdBRVcsSUFBaEJBLEVBQUtoTCxTQUNQd0ssRUFBVTRLLEVBQVNwSyxFQUFLLEdBRTVCLENBQ0EsT0FBT1IsQ0FDVCxDQTdHRSx3RkFDQ2lDLFFBQVEsUUFBUzFDLEVBQUtyQixZQWdIekIsTUFBTTRNLEVBQVksSUFBSTFNLE9BQU8sK0NBQWdELE1BRTdFLFNBQVMyTSxFQUFtQjVKLEVBQVNzRixFQUFPM0YsR0FDMUMsSUFBS3pPLEtBQUtrTyxRQUFROEMsa0JBQXVDLGlCQUFabEMsRUFBc0IsQ0FJakUsTUFBTWxDLEVBQVVNLEVBQUtSLGNBQWNvQyxFQUFTMkosR0FDdENqTyxFQUFNb0MsRUFBUXpKLE9BQ2RtVSxFQUFRLENBQUMsRUFDZixJQUFLLElBQUl0VSxFQUFJLEVBQUdBLEVBQUl3SCxFQUFLeEgsSUFBSyxDQUM1QixNQUFNbU4sRUFBV25RLEtBQUtzWSxpQkFBaUIxTCxFQUFRNUosR0FBRyxJQUNsRCxJQUFJMlYsRUFBUy9MLEVBQVE1SixHQUFHLEdBQ3BCNFYsRUFBUTVZLEtBQUtrTyxRQUFRMkMsb0JBQXNCVixFQUMvQyxHQUFJQSxFQUFTaE4sT0FLWCxHQUpJbkQsS0FBS2tPLFFBQVFrSix5QkFDZndCLEVBQVE1WSxLQUFLa08sUUFBUWtKLHVCQUF1QndCLElBRWpDLGNBQVZBLElBQXVCQSxFQUFTLG1CQUNwQi9SLElBQVg4UixFQUFzQixDQUNwQjNZLEtBQUtrTyxRQUFRd0ksYUFDZmlDLEVBQVNBLEVBQU9qSyxRQUVsQmlLLEVBQVMzWSxLQUFLdVQscUJBQXFCb0YsR0FDbkMsTUFBTUUsRUFBUzdZLEtBQUtrTyxRQUFRc0Qsd0JBQXdCckIsRUFBVXdJLEVBQVF2RSxHQUdwRWtELEVBQU1zQixHQUZMQyxRQUVjRixTQUNERSxVQUFrQkYsR0FBVUUsSUFBV0YsRUFFdENFLEVBR0FSLEVBQ2JNLEVBQ0EzWSxLQUFLa08sUUFBUXVJLG9CQUNielcsS0FBS2tPLFFBQVF5SSxtQkFHbkIsTUFBVzNXLEtBQUtrTyxRQUFRZCx5QkFDdEJrSyxFQUFNc0IsSUFBUyxFQUdyQixDQUNBLElBQUtwWixPQUFPMk0sS0FBS21MLEdBQU9uVSxPQUN0QixPQUVGLEdBQUluRCxLQUFLa08sUUFBUTRDLG9CQUFxQixDQUNwQyxNQUFNZ0ksRUFBaUIsQ0FBQyxFQUV4QixPQURBQSxFQUFlOVksS0FBS2tPLFFBQVE0QyxxQkFBdUJ3RyxFQUM1Q3dCLENBQ1QsQ0FDQSxPQUFPeEIsQ0FDVCxDQUNGLENBRUEsTUFBTXlCLEVBQVcsU0FBU3RMLEdBQ3hCQSxFQUFVQSxFQUFRbUMsUUFBUSxTQUFVLE1BQ3BDLE1BQU1vSixFQUFTLElBQUl4QixFQUFRLFFBQzNCLElBQUl5QixFQUFjRCxFQUNkRSxFQUFXLEdBQ1g5RSxFQUFRLEdBQ1osSUFBSSxJQUFJcFIsRUFBRSxFQUFHQSxFQUFHeUssRUFBUXRLLE9BQVFILElBRTlCLEdBQVUsTUFEQ3lLLEVBQVF6SyxHQUlqQixHQUFxQixNQUFqQnlLLEVBQVF6SyxFQUFFLEdBQVksQ0FDeEIsTUFBTW1XLEVBQWFDLEVBQWlCM0wsRUFBUyxJQUFLekssRUFBRyw4QkFDckQsSUFBSXlMLEVBQVVoQixFQUFRa0IsVUFBVTNMLEVBQUUsRUFBRW1XLEdBQVl6SyxPQUVoRCxHQUFHMU8sS0FBS2tPLFFBQVFxSSxlQUFlLENBQzdCLE1BQU04QyxFQUFhNUssRUFBUWxMLFFBQVEsTUFDaEIsSUFBaEI4VixJQUNENUssRUFBVUEsRUFBUWIsT0FBT3lMLEVBQVcsR0FFeEMsQ0FFR3JaLEtBQUtrTyxRQUFRaUosbUJBQ2QxSSxFQUFVek8sS0FBS2tPLFFBQVFpSixpQkFBaUIxSSxJQUd2Q3dLLElBQ0RDLEVBQVdsWixLQUFLc1osb0JBQW9CSixFQUFVRCxFQUFhN0UsSUFJN0QsTUFBTW1GLEVBQWNuRixFQUFNekYsVUFBVXlGLEVBQU1vQixZQUFZLEtBQUssR0FDM0QsR0FBRy9HLElBQTJELElBQWhEek8sS0FBS2tPLFFBQVFiLGFBQWE5SixRQUFRa0wsR0FDOUMsTUFBTSxJQUFJbUgsTUFBTSxrREFBa0RuSCxNQUVwRSxJQUFJK0ssRUFBWSxFQUNiRCxJQUFtRSxJQUFwRHZaLEtBQUtrTyxRQUFRYixhQUFhOUosUUFBUWdXLElBQ2xEQyxFQUFZcEYsRUFBTW9CLFlBQVksSUFBS3BCLEVBQU1vQixZQUFZLEtBQUssR0FDMUR4VixLQUFLeVosY0FBY25ULE9BRW5Ca1QsRUFBWXBGLEVBQU1vQixZQUFZLEtBRWhDcEIsRUFBUUEsRUFBTXpGLFVBQVUsRUFBRzZLLEdBRTNCUCxFQUFjalosS0FBS3laLGNBQWNuVCxNQUNqQzRTLEVBQVcsR0FDWGxXLEVBQUltVyxDQUNOLE1BQU8sR0FBcUIsTUFBakIxTCxFQUFRekssRUFBRSxHQUFZLENBRS9CLElBQUkwVyxFQUFVQyxFQUFXbE0sRUFBUXpLLEdBQUcsRUFBTyxNQUMzQyxJQUFJMFcsRUFBUyxNQUFNLElBQUk5RCxNQUFNLHlCQUc3QixHQURBc0QsRUFBV2xaLEtBQUtzWixvQkFBb0JKLEVBQVVELEVBQWE3RSxHQUN0RHBVLEtBQUtrTyxRQUFRK0ksbUJBQXlDLFNBQXBCeUMsRUFBUWpMLFNBQXVCek8sS0FBS2tPLFFBQVFnSixrQkFFOUUsQ0FFSCxNQUFNMEMsRUFBWSxJQUFJcEMsRUFBUWtDLEVBQVFqTCxTQUN0Q21MLEVBQVVDLElBQUk3WixLQUFLa08sUUFBUTZDLGFBQWMsSUFFdEMySSxFQUFRakwsVUFBWWlMLEVBQVFJLFFBQVVKLEVBQVFLLGlCQUMvQ0gsRUFBVSxNQUFRNVosS0FBSzBZLG1CQUFtQmdCLEVBQVFJLE9BQVExRixFQUFPc0YsRUFBUWpMLFVBRTNFek8sS0FBS2dhLFNBQVNmLEVBQWFXLEVBQVd4RixFQUV4QyxDQUdBcFIsRUFBSTBXLEVBQVFQLFdBQWEsQ0FDM0IsTUFBTyxHQUFnQyxRQUE3QjFMLEVBQVFHLE9BQU81SyxFQUFJLEVBQUcsR0FBYyxDQUM1QyxNQUFNaVgsRUFBV2IsRUFBaUIzTCxFQUFTLFNBQU96SyxFQUFFLEVBQUcsMEJBQ3ZELEdBQUdoRCxLQUFLa08sUUFBUXdELGdCQUFnQixDQUM5QixNQUFNMEUsRUFBVTNJLEVBQVFrQixVQUFVM0wsRUFBSSxFQUFHaVgsRUFBVyxHQUVwRGYsRUFBV2xaLEtBQUtzWixvQkFBb0JKLEVBQVVELEVBQWE3RSxHQUUzRDZFLEVBQVlZLElBQUk3WixLQUFLa08sUUFBUXdELGdCQUFpQixDQUFFLENBQUUsQ0FBQzFSLEtBQUtrTyxRQUFRNkMsY0FBZ0JxRixJQUNsRixDQUNBcFQsRUFBSWlYLENBQ04sTUFBTyxHQUFpQyxPQUE3QnhNLEVBQVFHLE9BQU81SyxFQUFJLEVBQUcsR0FBYSxDQUM1QyxNQUFNcUMsRUFBU29TLEVBQVloSyxFQUFTekssR0FDcENoRCxLQUFLa2EsZ0JBQWtCN1UsRUFBT3NNLFNBQzlCM08sRUFBSXFDLEVBQU9yQyxDQUNiLE1BQU0sR0FBZ0MsT0FBN0J5SyxFQUFRRyxPQUFPNUssRUFBSSxFQUFHLEdBQWEsQ0FDMUMsTUFBTW1XLEVBQWFDLEVBQWlCM0wsRUFBUyxNQUFPekssRUFBRyx3QkFBMEIsRUFDM0U4VyxFQUFTck0sRUFBUWtCLFVBQVUzTCxFQUFJLEVBQUVtVyxHQUt2QyxHQUhBRCxFQUFXbFosS0FBS3NaLG9CQUFvQkosRUFBVUQsRUFBYTdFLEdBR3hEcFUsS0FBS2tPLFFBQVErQyxjQUdkZ0ksRUFBWVksSUFBSTdaLEtBQUtrTyxRQUFRK0MsY0FBZSxDQUFFLENBQUUsQ0FBQ2pSLEtBQUtrTyxRQUFRNkMsY0FBZ0IrSSxTQUMzRSxDQUNILElBQUlsSSxFQUFNNVIsS0FBS2dZLGNBQWM4QixFQUFRYixFQUFZdEwsUUFBU3lHLEdBQU8sR0FBTSxHQUFPLEdBQ3BFdk4sTUFBUCtLLElBQWtCQSxFQUFNLElBQzNCcUgsRUFBWVksSUFBSTdaLEtBQUtrTyxRQUFRNkMsYUFBY2EsRUFDN0MsQ0FFQTVPLEVBQUltVyxFQUFhLENBQ25CLEtBQU0sQ0FDSixJQUFJOVQsRUFBU3NVLEVBQVdsTSxFQUFRekssRUFBR2hELEtBQUtrTyxRQUFRcUksZ0JBQzVDOUgsRUFBU3BKLEVBQU9vSixRQUNoQnFMLEVBQVN6VSxFQUFPeVUsT0FDaEJDLEVBQWlCMVUsRUFBTzBVLGVBQ3hCWixFQUFhOVQsRUFBTzhULFdBRXBCblosS0FBS2tPLFFBQVFpSixtQkFDZjFJLEVBQVV6TyxLQUFLa08sUUFBUWlKLGlCQUFpQjFJLElBSXRDd0ssR0FBZUMsR0FDVSxTQUF4QkQsRUFBWXRMLFVBRWJ1TCxFQUFXbFosS0FBS3NaLG9CQUFvQkosRUFBVUQsRUFBYTdFLEdBQU8sSUFLdEUsTUFBTStGLEVBQVVsQixFQVFoQixHQVBHa0IsSUFBbUUsSUFBeERuYSxLQUFLa08sUUFBUWIsYUFBYTlKLFFBQVE0VyxFQUFReE0sV0FDdERzTCxFQUFjalosS0FBS3laLGNBQWNuVCxNQUNqQzhOLEVBQVFBLEVBQU16RixVQUFVLEVBQUd5RixFQUFNb0IsWUFBWSxPQUU1Qy9HLElBQVl1SyxFQUFPckwsVUFDcEJ5RyxHQUFTQSxFQUFRLElBQU0zRixFQUFVQSxHQUUvQnpPLEtBQUtvYSxhQUFhcGEsS0FBS2tPLFFBQVE0RCxVQUFXc0MsRUFBTzNGLEdBQVUsQ0FDN0QsSUFBSTRMLEVBQWEsR0FFakIsR0FBR1AsRUFBTzNXLE9BQVMsR0FBSzJXLEVBQU90RSxZQUFZLE9BQVNzRSxFQUFPM1csT0FBUyxFQUNsRUgsRUFBSXFDLEVBQU84VCxnQkFHUixJQUFtRCxJQUFoRG5aLEtBQUtrTyxRQUFRYixhQUFhOUosUUFBUWtMLEdBQ3hDekwsRUFBSXFDLEVBQU84VCxlQUdULENBRUYsTUFBTTlULEVBQVNyRixLQUFLc2EsaUJBQWlCN00sRUFBU2dCLEVBQVMwSyxFQUFhLEdBQ3BFLElBQUk5VCxFQUFRLE1BQU0sSUFBSXVRLE1BQU0scUJBQXFCbkgsS0FDakR6TCxFQUFJcUMsRUFBT3JDLEVBQ1hxWCxFQUFhaFYsRUFBT2dWLFVBQ3RCLENBRUEsTUFBTVQsRUFBWSxJQUFJcEMsRUFBUS9JLEdBQzNCQSxJQUFZcUwsR0FBVUMsSUFDdkJILEVBQVUsTUFBUTVaLEtBQUswWSxtQkFBbUJvQixFQUFRMUYsRUFBTzNGLElBRXhENEwsSUFDREEsRUFBYXJhLEtBQUtnWSxjQUFjcUMsRUFBWTVMLEVBQVMyRixHQUFPLEVBQU0yRixHQUFnQixHQUFNLElBRzFGM0YsRUFBUUEsRUFBTXhHLE9BQU8sRUFBR3dHLEVBQU1vQixZQUFZLE1BQzFDb0UsRUFBVUMsSUFBSTdaLEtBQUtrTyxRQUFRNkMsYUFBY3NKLEdBRXpDcmEsS0FBS2dhLFNBQVNmLEVBQWFXLEVBQVd4RixFQUN4QyxLQUFLLENBRUgsR0FBRzBGLEVBQU8zVyxPQUFTLEdBQUsyVyxFQUFPdEUsWUFBWSxPQUFTc0UsRUFBTzNXLE9BQVMsRUFBRSxDQUNqQyxNQUFoQ3NMLEVBQVFBLEVBQVF0TCxPQUFTLElBQzFCc0wsRUFBVUEsRUFBUWIsT0FBTyxFQUFHYSxFQUFRdEwsT0FBUyxHQUM3QzJXLEVBQVNyTCxHQUVUcUwsRUFBU0EsRUFBT2xNLE9BQU8sRUFBR2tNLEVBQU8zVyxPQUFTLEdBR3pDbkQsS0FBS2tPLFFBQVFpSixtQkFDZDFJLEVBQVV6TyxLQUFLa08sUUFBUWlKLGlCQUFpQjFJLElBRzFDLE1BQU1tTCxFQUFZLElBQUlwQyxFQUFRL0ksR0FDM0JBLElBQVlxTCxHQUFVQyxJQUN2QkgsRUFBVSxNQUFRNVosS0FBSzBZLG1CQUFtQm9CLEVBQVExRixFQUFPM0YsSUFFM0R6TyxLQUFLZ2EsU0FBU2YsRUFBYVcsRUFBV3hGLEdBQ3RDQSxFQUFRQSxFQUFNeEcsT0FBTyxFQUFHd0csRUFBTW9CLFlBQVksS0FDNUMsS0FFSSxDQUNGLE1BQU1vRSxFQUFZLElBQUlwQyxFQUFTL0ksR0FDL0J6TyxLQUFLeVosY0FBY2xULEtBQUswUyxHQUVyQnhLLElBQVlxTCxHQUFVQyxJQUN2QkgsRUFBVSxNQUFRNVosS0FBSzBZLG1CQUFtQm9CLEVBQVExRixFQUFPM0YsSUFFM0R6TyxLQUFLZ2EsU0FBU2YsRUFBYVcsRUFBV3hGLEdBQ3RDNkUsRUFBY1csQ0FDaEIsQ0FDQVYsRUFBVyxHQUNYbFcsRUFBSW1XLENBQ04sQ0FDRixNQUVBRCxHQUFZekwsRUFBUXpLLEdBR3hCLE9BQU9nVyxFQUFPdUIsS0FDaEIsRUFFQSxTQUFTUCxFQUFTZixFQUFhVyxFQUFXeEYsR0FDeEMsTUFBTS9PLEVBQVNyRixLQUFLa08sUUFBUW1KLFVBQVV1QyxFQUFVak0sUUFBU3lHLEVBQU93RixFQUFVLFFBQzVELElBQVh2VSxJQUN3QixpQkFBWEEsR0FDZHVVLEVBQVVqTSxRQUFVdEksRUFDcEI0VCxFQUFZZSxTQUFTSixJQUVyQlgsRUFBWWUsU0FBU0osR0FFekIsQ0FFQSxNQUFNckcsRUFBdUIsU0FBUzNCLEdBRXBDLEdBQUc1UixLQUFLa08sUUFBUTJELGdCQUFnQixDQUM5QixJQUFJLElBQUk4RCxLQUFjM1YsS0FBS2thLGdCQUFnQixDQUN6QyxNQUFNakcsRUFBU2pVLEtBQUtrYSxnQkFBZ0J2RSxHQUNwQy9ELEVBQU1BLEVBQUloQyxRQUFTcUUsRUFBT3FDLEtBQU1yQyxFQUFPckMsSUFDekMsQ0FDQSxJQUFJLElBQUkrRCxLQUFjM1YsS0FBSytYLGFBQWEsQ0FDdEMsTUFBTTlELEVBQVNqVSxLQUFLK1gsYUFBYXBDLEdBQ2pDL0QsRUFBTUEsRUFBSWhDLFFBQVNxRSxFQUFPdEgsTUFBT3NILEVBQU9yQyxJQUMxQyxDQUNBLEdBQUc1UixLQUFLa08sUUFBUThJLGFBQ2QsSUFBSSxJQUFJckIsS0FBYzNWLEtBQUtnWCxhQUFhLENBQ3RDLE1BQU0vQyxFQUFTalUsS0FBS2dYLGFBQWFyQixHQUNqQy9ELEVBQU1BLEVBQUloQyxRQUFTcUUsRUFBT3RILE1BQU9zSCxFQUFPckMsSUFDMUMsQ0FFRkEsRUFBTUEsRUFBSWhDLFFBQVM1UCxLQUFLd2EsVUFBVTdOLE1BQU8zTSxLQUFLd2EsVUFBVTVJLElBQzFELENBQ0EsT0FBT0EsQ0FDVCxFQUNBLFNBQVMwSCxFQUFvQkosRUFBVUQsRUFBYTdFLEVBQU8rRCxHQWV6RCxPQWRJZSxTQUNnQnJTLElBQWZzUixJQUEwQkEsRUFBdUQsSUFBMUMzWSxPQUFPMk0sS0FBSzhNLEVBQVlzQixPQUFPcFgsYUFTeEQwRCxLQVBqQnFTLEVBQVdsWixLQUFLZ1ksY0FBY2tCLEVBQzVCRCxFQUFZdEwsUUFDWnlHLEdBQ0EsSUFDQTZFLEVBQVksT0FBa0QsSUFBMUN6WixPQUFPMk0sS0FBSzhNLEVBQVksT0FBTzlWLE9BQ25EZ1YsS0FFeUMsS0FBYmUsR0FDNUJELEVBQVlZLElBQUk3WixLQUFLa08sUUFBUTZDLGFBQWNtSSxHQUM3Q0EsRUFBVyxJQUVOQSxDQUNULENBU0EsU0FBU2tCLEVBQWF0SSxFQUFXc0MsRUFBT3FHLEdBQ3RDLE1BQU1DLEVBQWMsS0FBT0QsRUFDM0IsSUFBSyxNQUFNRSxLQUFnQjdJLEVBQVcsQ0FDcEMsTUFBTThJLEVBQWM5SSxFQUFVNkksR0FDOUIsR0FBSUQsSUFBZ0JFLEdBQWV4RyxJQUFVd0csRUFBZSxPQUFPLENBQ3JFLENBQ0EsT0FBTyxDQUNULENBc0NBLFNBQVN4QixFQUFpQjNMLEVBQVNvTixFQUFLN1gsRUFBRzhYLEdBQ3pDLE1BQU1DLEVBQWV0TixFQUFRbEssUUFBUXNYLEVBQUs3WCxHQUMxQyxJQUFxQixJQUFsQitYLEVBQ0QsTUFBTSxJQUFJbkYsTUFBTWtGLEdBRWhCLE9BQU9DLEVBQWVGLEVBQUkxWCxPQUFTLENBRXZDLENBRUEsU0FBU3dXLEVBQVdsTSxFQUFRekssRUFBR3VULEVBQWdCeUUsRUFBYyxLQUMzRCxNQUFNM1YsRUF4Q1IsU0FBZ0NvSSxFQUFTekssRUFBR2dZLEVBQWMsS0FDeEQsSUFBSUMsRUFDQW5CLEVBQVMsR0FDYixJQUFLLElBQUk3TSxFQUFRakssRUFBR2lLLEVBQVFRLEVBQVF0SyxPQUFROEosSUFBUyxDQUNuRCxJQUFJaU8sRUFBS3pOLEVBQVFSLEdBQ2pCLEdBQUlnTyxFQUNJQyxJQUFPRCxJQUFjQSxFQUFlLFNBQ3JDLEdBQVcsTUFBUEMsR0FBcUIsTUFBUEEsRUFDckJELEVBQWVDLE9BQ1osR0FBSUEsSUFBT0YsRUFBWSxHQUFJLENBQ2hDLElBQUdBLEVBQVksR0FRYixNQUFPLENBQ0xsYSxLQUFNZ1osRUFDTjdNLE1BQU9BLEdBVFQsR0FBR1EsRUFBUVIsRUFBUSxLQUFPK04sRUFBWSxHQUNwQyxNQUFPLENBQ0xsYSxLQUFNZ1osRUFDTjdNLE1BQU9BLEVBU2YsS0FBa0IsT0FBUGlPLElBQ1RBLEVBQUssS0FFUHBCLEdBQVVvQixDQUNaLENBQ0YsQ0FZaUJDLENBQXVCMU4sRUFBU3pLLEVBQUUsRUFBR2dZLEdBQ3BELElBQUkzVixFQUFRLE9BQ1osSUFBSXlVLEVBQVN6VSxFQUFPdkUsS0FDcEIsTUFBTXFZLEVBQWE5VCxFQUFPNEgsTUFDcEJtTyxFQUFpQnRCLEVBQU91QixPQUFPLE1BQ3JDLElBQUk1TSxFQUFVcUwsRUFDVkMsR0FBaUIsRUFNckIsSUFMdUIsSUFBcEJxQixJQUNEM00sRUFBVXFMLEVBQU9sTSxPQUFPLEVBQUd3TixHQUFnQnhMLFFBQVEsU0FBVSxJQUM3RGtLLEVBQVNBLEVBQU9sTSxPQUFPd04sRUFBaUIsSUFHdkM3RSxFQUFlLENBQ2hCLE1BQU04QyxFQUFhNUssRUFBUWxMLFFBQVEsTUFDaEIsSUFBaEI4VixJQUNENUssRUFBVUEsRUFBUWIsT0FBT3lMLEVBQVcsR0FDcENVLEVBQWlCdEwsSUFBWXBKLEVBQU92RSxLQUFLOE0sT0FBT3lMLEVBQWEsR0FFakUsQ0FFQSxNQUFPLENBQ0w1SyxRQUFTQSxFQUNUcUwsT0FBUUEsRUFDUlgsV0FBWUEsRUFDWlksZUFBZ0JBLEVBRXBCLENBT0EsU0FBU08sRUFBaUI3TSxFQUFTZ0IsRUFBU3pMLEdBQzFDLE1BQU0rSixFQUFhL0osRUFFbkIsSUFBSXNZLEVBQWUsRUFFbkIsS0FBT3RZLEVBQUl5SyxFQUFRdEssT0FBUUgsSUFDekIsR0FBbUIsTUFBZnlLLEVBQVF6SyxHQUNWLEdBQXFCLE1BQWpCeUssRUFBUXpLLEVBQUUsR0FBWSxDQUN0QixNQUFNbVcsRUFBYUMsRUFBaUIzTCxFQUFTLElBQUt6SyxFQUFHLEdBQUd5TCxtQkFFeEQsR0FEbUJoQixFQUFRa0IsVUFBVTNMLEVBQUUsRUFBRW1XLEdBQVl6SyxTQUNqQ0QsSUFDbEI2TSxJQUNxQixJQUFqQkEsR0FDRixNQUFPLENBQ0xqQixXQUFZNU0sRUFBUWtCLFVBQVU1QixFQUFZL0osR0FDMUNBLEVBQUltVyxHQUlWblcsRUFBRW1XLENBQ0osTUFBTyxHQUFvQixNQUFqQjFMLEVBQVF6SyxFQUFFLEdBRWxCQSxFQURtQm9XLEVBQWlCM0wsRUFBUyxLQUFNekssRUFBRSxFQUFHLGdDQUVuRCxHQUFnQyxRQUE3QnlLLEVBQVFHLE9BQU81SyxFQUFJLEVBQUcsR0FFOUJBLEVBRG1Cb1csRUFBaUIzTCxFQUFTLFNBQU96SyxFQUFFLEVBQUcsZ0NBRXBELEdBQWdDLE9BQTdCeUssRUFBUUcsT0FBTzVLLEVBQUksRUFBRyxHQUU5QkEsRUFEbUJvVyxFQUFpQjNMLEVBQVMsTUFBT3pLLEVBQUcsMkJBQTZCLE1BRS9FLENBQ0wsTUFBTTBXLEVBQVVDLEVBQVdsTSxFQUFTekssRUFBRyxLQUVuQzBXLEtBQ2tCQSxHQUFXQSxFQUFRakwsV0FDbkJBLEdBQXVELE1BQTVDaUwsRUFBUUksT0FBT0osRUFBUUksT0FBTzNXLE9BQU8sSUFDbEVtWSxJQUVGdFksRUFBRTBXLEVBQVFQLFdBRWQsQ0FHUixDQUVBLFNBQVNkLEVBQVd6RyxFQUFLMkosRUFBYXJOLEdBQ3BDLEdBQUlxTixHQUE4QixpQkFBUjNKLEVBQWtCLENBRTFDLE1BQU0wQixFQUFTMUIsRUFBSWxELE9BQ25CLE1BQWMsU0FBWDRFLEdBQ2dCLFVBQVhBLEdBQ0lvRSxFQUFTOUYsRUFBSzFELEVBQzVCLENBQ0UsT0FBSWhCLEVBQUtsQixRQUFRNEYsR0FDUkEsRUFFQSxFQUdiLENBR0FsRyxFQUFPaE0sUUE1akJQLE1BQ0UsV0FBQWdELENBQVl3TCxHQUNWbE8sS0FBS2tPLFFBQVVBLEVBQ2ZsTyxLQUFLaVosWUFBYyxLQUNuQmpaLEtBQUt5WixjQUFnQixHQUNyQnpaLEtBQUtrYSxnQkFBa0IsQ0FBQyxFQUN4QmxhLEtBQUsrWCxhQUFlLENBQ2xCLEtBQVMsQ0FBRXBMLE1BQU8scUJBQXNCaUYsSUFBTSxLQUM5QyxHQUFPLENBQUVqRixNQUFPLG1CQUFvQmlGLElBQU0sS0FDMUMsR0FBTyxDQUFFakYsTUFBTyxtQkFBb0JpRixJQUFNLEtBQzFDLEtBQVMsQ0FBRWpGLE1BQU8scUJBQXNCaUYsSUFBTSxNQUVoRDVSLEtBQUt3YSxVQUFZLENBQUU3TixNQUFPLG9CQUFxQmlGLElBQU0sS0FDckQ1UixLQUFLZ1gsYUFBZSxDQUNsQixNQUFTLENBQUVySyxNQUFPLGlCQUFrQmlGLElBQUssS0FNekMsS0FBUyxDQUFFakYsTUFBTyxpQkFBa0JpRixJQUFLLEtBQ3pDLE1BQVUsQ0FBRWpGLE1BQU8sa0JBQW1CaUYsSUFBSyxLQUMzQyxJQUFRLENBQUVqRixNQUFPLGdCQUFpQmlGLElBQUssS0FDdkMsS0FBUyxDQUFFakYsTUFBTyxrQkFBbUJpRixJQUFLLEtBQzFDLFVBQWMsQ0FBRWpGLE1BQU8saUJBQWtCaUYsSUFBSyxLQUM5QyxJQUFRLENBQUVqRixNQUFPLGdCQUFpQmlGLElBQUssS0FDdkMsSUFBUSxDQUFFakYsTUFBTyxpQkFBa0JpRixJQUFLLE1BRTFDNVIsS0FBSzJYLG9CQUFzQkEsRUFDM0IzWCxLQUFLK1ksU0FBV0EsRUFDaEIvWSxLQUFLZ1ksY0FBZ0JBLEVBQ3JCaFksS0FBS3NZLGlCQUFtQkEsRUFDeEJ0WSxLQUFLMFksbUJBQXFCQSxFQUMxQjFZLEtBQUtvYSxhQUFlQSxFQUNwQnBhLEtBQUt1VCxxQkFBdUJBLEVBQzVCdlQsS0FBS3NhLGlCQUFtQkEsRUFDeEJ0YSxLQUFLc1osb0JBQXNCQSxFQUMzQnRaLEtBQUtnYSxTQUFXQSxDQUNsQixrQkNyREYsTUFBTSxhQUFFekMsR0FBZ0IsRUFBUSxLQUMxQmlFLEVBQW1CLEVBQVEsS0FDM0IsU0FBRUMsR0FBWSxFQUFRLEtBQ3RCbFEsRUFBWSxFQUFRLEtBc0QxQkcsRUFBT2hNLFFBcERQLE1BRUksV0FBQWdELENBQVl3TCxHQUNSbE8sS0FBSzRYLGlCQUFtQixDQUFDLEVBQ3pCNVgsS0FBS2tPLFFBQVVxSixFQUFhckosRUFFaEMsQ0FNQSxLQUFBd04sQ0FBTWpPLEVBQVFrTyxHQUNWLEdBQXNCLGlCQUFabE8sT0FDSixLQUFJQSxFQUFRckMsU0FHZCxNQUFNLElBQUl3SyxNQUFNLG1EQUZoQm5JLEVBQVVBLEVBQVFyQyxVQUd0QixDQUNBLEdBQUl1USxFQUFpQixFQUNPLElBQXJCQSxJQUEyQkEsRUFBbUIsQ0FBQyxHQUVsRCxNQUFNdFcsRUFBU2tHLEVBQVUwQyxTQUFTUixFQUFTa08sR0FDM0MsSUFBZSxJQUFYdFcsRUFDRixNQUFNdVEsTUFBTyxHQUFHdlEsRUFBT2lKLElBQUlNLE9BQU92SixFQUFPaUosSUFBSWEsUUFBUTlKLEVBQU9pSixJQUFJaUIsTUFFcEUsQ0FDRixNQUFNcU0sRUFBbUIsSUFBSUosRUFBaUJ4YixLQUFLa08sU0FDbkQwTixFQUFpQmpFLG9CQUFvQjNYLEtBQUs0WCxrQkFDMUMsTUFBTWlFLEVBQWdCRCxFQUFpQjdDLFNBQVN0TCxHQUNoRCxPQUFHek4sS0FBS2tPLFFBQVF1RCxvQkFBbUM1SyxJQUFsQmdWLEVBQW9DQSxFQUN6REosRUFBU0ksRUFBZTdiLEtBQUtrTyxRQUM3QyxDQU9BLFNBQUE0TixDQUFValksRUFBS2xFLEdBQ1gsSUFBMkIsSUFBeEJBLEVBQU00RCxRQUFRLEtBQ2IsTUFBTSxJQUFJcVMsTUFBTSwrQkFDZCxJQUF5QixJQUF0Qi9SLEVBQUlOLFFBQVEsT0FBcUMsSUFBdEJNLEVBQUlOLFFBQVEsS0FDNUMsTUFBTSxJQUFJcVMsTUFBTSx3RUFDZCxHQUFhLE1BQVZqVyxFQUNMLE1BQU0sSUFBSWlXLE1BQU0sNkNBRWhCNVYsS0FBSzRYLGlCQUFpQi9ULEdBQU9sRSxDQUVyQyw2QkNuQ0osU0FBU29jLEVBQVM1SCxFQUFLakcsRUFBU2tHLEdBQzlCLElBQUk0SCxFQUNKLE1BQU1DLEVBQWdCLENBQUMsRUFDdkIsSUFBSyxJQUFJalosRUFBSSxFQUFHQSxFQUFJbVIsRUFBSWhSLE9BQVFILElBQUssQ0FDbkMsTUFBTXdSLEVBQVNMLEVBQUluUixHQUNia1osRUFBV3pILEVBQVNELEdBQzFCLElBQUkySCxFQUFXLEdBSWYsR0FId0JBLE9BQVh0VixJQUFWdU4sRUFBZ0M4SCxFQUNuQjlILEVBQVEsSUFBTThILEVBRTNCQSxJQUFhaE8sRUFBUTZDLGtCQUNWbEssSUFBVG1WLEVBQW9CQSxFQUFPeEgsRUFBTzBILEdBQ2hDRixHQUFRLEdBQUt4SCxFQUFPMEgsT0FDckIsU0FBZ0JyVixJQUFicVYsRUFDUCxTQUNJLEdBQUcxSCxFQUFPMEgsR0FBVSxDQUV4QixJQUFJdEssRUFBTW1LLEVBQVN2SCxFQUFPMEgsR0FBV2hPLEVBQVNpTyxHQUM5QyxNQUFNQyxFQUFTQyxFQUFVekssRUFBSzFELEdBRTNCc0csRUFBTyxNQUNSOEgsRUFBa0IxSyxFQUFLNEMsRUFBTyxNQUFPMkgsRUFBVWpPLEdBQ1osSUFBNUIxTyxPQUFPMk0sS0FBS3lGLEdBQUt6TyxhQUE4QzBELElBQTlCK0ssRUFBSTFELEVBQVE2QyxlQUFnQzdDLEVBQVE2SSxxQkFFekQsSUFBNUJ2WCxPQUFPMk0sS0FBS3lGLEdBQUt6TyxTQUNyQitLLEVBQVE2SSxxQkFBc0JuRixFQUFJMUQsRUFBUTZDLGNBQWdCLEdBQ3hEYSxFQUFNLElBSFhBLEVBQU1BLEVBQUkxRCxFQUFRNkMsbUJBTVdsSyxJQUE1Qm9WLEVBQWNDLElBQTJCRCxFQUFjMVosZUFBZTJaLElBQ25FN1osTUFBTTRRLFFBQVFnSixFQUFjQyxNQUM1QkQsRUFBY0MsR0FBWSxDQUFFRCxFQUFjQyxLQUU5Q0QsRUFBY0MsR0FBVTNWLEtBQUtxTCxJQUl6QjFELEVBQVErRSxRQUFRaUosRUFBVUMsRUFBVUMsR0FDdENILEVBQWNDLEdBQVksQ0FBQ3RLLEdBRTNCcUssRUFBY0MsR0FBWXRLLENBR2hDLEVBRUYsQ0FLQSxNQUhtQixpQkFBVG9LLEVBQ0xBLEVBQUs3WSxPQUFTLElBQUc4WSxFQUFjL04sRUFBUTZDLGNBQWdCaUwsUUFDMUNuVixJQUFUbVYsSUFBb0JDLEVBQWMvTixFQUFRNkMsY0FBZ0JpTCxHQUM1REMsQ0FDVCxDQUVBLFNBQVN4SCxFQUFTdkksR0FDaEIsTUFBTUMsRUFBTzNNLE9BQU8yTSxLQUFLRCxHQUN6QixJQUFLLElBQUlsSixFQUFJLEVBQUdBLEVBQUltSixFQUFLaEosT0FBUUgsSUFBSyxDQUNwQyxNQUFNYSxFQUFNc0ksRUFBS25KLEdBQ2pCLEdBQVcsT0FBUmEsRUFBYyxPQUFPQSxDQUMxQixDQUNGLENBRUEsU0FBU3lZLEVBQWlCcFEsRUFBS29KLEVBQVNpSCxFQUFPck8sR0FDN0MsR0FBSW9ILEVBQVMsQ0FDWCxNQUFNbkosRUFBTzNNLE9BQU8yTSxLQUFLbUosR0FDbkI5SyxFQUFNMkIsRUFBS2hKLE9BQ2pCLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJd0gsRUFBS3hILElBQUssQ0FDNUIsTUFBTXdaLEVBQVdyUSxFQUFLbkosR0FDbEJrTCxFQUFRK0UsUUFBUXVKLEVBQVVELEVBQVEsSUFBTUMsR0FBVSxHQUFNLEdBQzFEdFEsRUFBSXNRLEdBQVksQ0FBRWxILEVBQVFrSCxJQUUxQnRRLEVBQUlzUSxHQUFZbEgsRUFBUWtILEVBRTVCLENBQ0YsQ0FDRixDQUVBLFNBQVNILEVBQVVuUSxFQUFLZ0MsR0FDdEIsTUFBTSxhQUFFNkMsR0FBaUI3QyxFQUNuQnVPLEVBQVlqZCxPQUFPMk0sS0FBS0QsR0FBSy9JLE9BRW5DLE9BQWtCLElBQWRzWixLQUtZLElBQWRBLElBQ0N2USxFQUFJNkUsSUFBOEMsa0JBQXRCN0UsRUFBSTZFLElBQXFELElBQXRCN0UsRUFBSTZFLEdBTXhFLENBQ0FyUixFQUFRK2IsU0F4R1IsU0FBa0JpQixFQUFNeE8sR0FDdEIsT0FBTzZOLEVBQVVXLEVBQU14TyxFQUN6Qix3QkNjQXhDLEVBQU9oTSxRQXRCUCxNQUNFLFdBQUFnRCxDQUFZaUwsR0FDVjNOLEtBQUsyTixRQUFVQSxFQUNmM04sS0FBS3VhLE1BQVEsR0FDYnZhLEtBQUssTUFBUSxDQUFDLENBQ2hCLENBQ0EsR0FBQTZaLENBQUloVyxFQUFJK04sR0FFSyxjQUFSL04sSUFBcUJBLEVBQU0sY0FDOUI3RCxLQUFLdWEsTUFBTWhVLEtBQU0sQ0FBQyxDQUFDMUMsR0FBTStOLEdBQzNCLENBQ0EsUUFBQW9JLENBQVMwQyxHQUNhLGNBQWpCQSxFQUFLL08sVUFBeUIrTyxFQUFLL08sUUFBVSxjQUM3QytPLEVBQUssT0FBU2xkLE9BQU8yTSxLQUFLdVEsRUFBSyxPQUFPdlosT0FBUyxFQUNoRG5ELEtBQUt1YSxNQUFNaFUsS0FBTSxDQUFFLENBQUNtVyxFQUFLL08sU0FBVStPLEVBQUtuQyxNQUFPLEtBQVFtQyxFQUFLLFFBRTVEMWMsS0FBS3VhLE1BQU1oVSxLQUFNLENBQUUsQ0FBQ21XLEVBQUsvTyxTQUFVK08sRUFBS25DLE9BRTVDLFlDcEJGLE1BQU1vQyxFQUFXLHdCQUNYQyxFQUFXLCtFQU1aQyxPQUFPQyxVQUFZQyxPQUFPRCxXQUMzQkQsT0FBT0MsU0FBV0MsT0FBT0QsV0FFeEJELE9BQU9HLFlBQWNELE9BQU9DLGFBQzdCSCxPQUFPRyxXQUFhRCxPQUFPQyxZQUkvQixNQUFNQyxFQUFXLENBQ2JyRyxLQUFPLEVBQ1BDLGNBQWMsRUFDZHFHLGFBQWMsSUFDZHBHLFdBQVcsR0F3R2ZwTCxFQUFPaE0sUUFwR1AsU0FBa0JtYixFQUFLM00sRUFBVSxDQUFDLEdBUzlCLEdBREFBLEVBQVUxTyxPQUFPcUQsT0FBTyxDQUFDLEVBQUdvYSxFQUFVL08sSUFDbEMyTSxHQUFzQixpQkFBUkEsRUFBbUIsT0FBT0EsRUFFNUMsSUFBSXNDLEVBQWN0QyxFQUFJbk0sT0FLdEIsUUFBd0I3SCxJQUFyQnFILEVBQVFrUCxVQUEwQmxQLEVBQVFrUCxTQUFTQyxLQUFLRixHQUFhLE9BQU90QyxFQUMxRSxHQUFJM00sRUFBUTBJLEtBQU8rRixFQUFTVSxLQUFLRixHQUNsQyxPQUFPTixPQUFPQyxTQUFTSyxFQUFZLElBS2xDLENBRUQsTUFBTXRRLEVBQVErUCxFQUFTblEsS0FBSzBRLEdBQzVCLEdBQUd0USxFQUFNLENBQ0wsTUFBTXlRLEVBQU96USxFQUFNLEdBQ2JnSyxFQUFlaEssRUFBTSxHQUMzQixJQUFJMFEsR0E2REdDLEVBN0QyQjNRLEVBQU0sTUE4RFYsSUFBekIyUSxFQUFPamEsUUFBUSxNQUVWLE9BRGRpYSxFQUFTQSxFQUFPNU4sUUFBUSxNQUFPLEtBQ1g0TixFQUFTLElBQ1AsTUFBZEEsRUFBTyxHQUFhQSxFQUFTLElBQUlBLEVBQ0wsTUFBNUJBLEVBQU9BLEVBQU9yYSxPQUFPLEtBQWFxYSxFQUFTQSxFQUFPNVAsT0FBTyxFQUFFNFAsRUFBT3JhLE9BQU8sSUFDMUVxYSxHQUVKQSxFQWxFQyxNQUFNMUcsRUFBWWpLLEVBQU0sSUFBTUEsRUFBTSxHQUNwQyxJQUFJcUIsRUFBUTJJLGNBQWdCQSxFQUFhMVQsT0FBUyxHQUFLbWEsR0FBMEIsTUFBbEJILEVBQVcsR0FBWSxPQUFPdEMsRUFDeEYsSUFBSTNNLEVBQVEySSxjQUFnQkEsRUFBYTFULE9BQVMsSUFBTW1hLEdBQTBCLE1BQWxCSCxFQUFXLEdBQVksT0FBT3RDLEVBQy9GLENBQ0EsTUFBTTdRLEVBQU02UyxPQUFPTSxHQUNiSyxFQUFTLEdBQUt4VCxFQUNwQixPQUE4QixJQUEzQndULEVBQU9uQyxPQUFPLFNBR1J2RSxFQUZGNUksRUFBUTRJLFVBQWtCOU0sRUFDakI2USxHQUlzQixJQUE3QnNDLEVBQVc1WixRQUFRLEtBUVYsTUFBWGlhLEdBQXlDLEtBQXRCRCxHQUNkQyxJQUFXRCxHQUNWRCxHQUFRRSxJQUFXLElBQUlELEVBRnlCdlQsRUFHN0M2USxFQUdiaEUsRUFLSTBHLElBQXNCQyxHQUNqQkYsRUFBS0MsSUFBc0JDLEVBREt4VCxFQUU1QjZRLEVBR2JzQyxJQUFlSyxHQUNWTCxJQUFlRyxFQUFLRSxFQURLeFQsRUFPMUI2USxDQUNYLENBR0osQ0FDSSxPQUFPQSxDQUVmLENBUUosSUFBbUIyQyxDQVBuQixJQ3pHSUMsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCOVcsSUFBakIrVyxFQUNILE9BQU9BLEVBQWFsZSxRQUdyQixJQUFJZ00sRUFBUytSLEVBQXlCRSxHQUFZLENBR2pEamUsUUFBUyxDQUFDLEdBT1gsT0FIQW1lLEVBQW9CRixHQUFValMsRUFBUUEsRUFBT2hNLFFBQVNnZSxHQUcvQ2hTLEVBQU9oTSxPQUNmLENDckJBZ2UsRUFBb0J6YSxFQUFLeUksSUFDeEIsSUFBSW9TLEVBQVNwUyxHQUFVQSxFQUFPbkQsV0FDN0IsSUFBT21ELEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBZ1MsRUFBb0J6YixFQUFFNmIsRUFBUSxDQUFFelcsRUFBR3lXLElBQzVCQSxDQUFNLEVDTGRKLEVBQW9CemIsRUFBSSxDQUFDdkMsRUFBU3FlLEtBQ2pDLElBQUksSUFBSWxhLEtBQU9rYSxFQUNYTCxFQUFvQmpYLEVBQUVzWCxFQUFZbGEsS0FBUzZaLEVBQW9CalgsRUFBRS9HLEVBQVNtRSxJQUM1RXJFLE9BQU9DLGVBQWVDLEVBQVNtRSxFQUFLLENBQUUvQixZQUFZLEVBQU1DLElBQUtnYyxFQUFXbGEsSUFFMUUsRUNORDZaLEVBQW9CalgsRUFBSSxDQUFDeUYsRUFBSzhSLElBQVV4ZSxPQUFPVyxVQUFVb0MsZUFBZVosS0FBS3VLLEVBQUs4UixHQ0NsRk4sRUFBb0IxWixFQUFLdEUsSUFDSCxvQkFBWHVHLFFBQTBCQSxPQUFPZ1ksYUFDMUN6ZSxPQUFPQyxlQUFlQyxFQUFTdUcsT0FBT2dZLFlBQWEsQ0FBRXRlLE1BQU8sV0FFN0RILE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLEdBQU8sNkRDTHZELE1BQU11ZSxFQUF3Q0MsSUFDakQsSUFBSUMsRUFBY0QsRUFBY0MsWUFDaEMsTUFBTyxDQUNILGNBQUFDLENBQWVDLEdBQ1hGLEVBQWNFLENBQ2xCLEVBQ0FGLFlBQVcsSUFDQUEsRUFFWCxzQkFBQUcsQ0FBdUIxYSxFQUFLbEUsR0FDeEJ5ZSxFQUFZRyx1QkFBdUIxYSxFQUFLbEUsRUFDNUMsRUFDQTZlLG1CQUFrQixJQUNQSixFQUFZSSxxQkFFMUIsRUFFUUMsRUFBbUNDLElBQ3JDLENBQ0hOLFlBQWFNLEVBQWtDTixnQkNuQmhELElBQUlPLEVDQUFDLEVDQUFDLEVDQUFDLEVDQUEsRUFDQUMsR0pBWCxTQUFXSixHQUNQQSxFQUF5QixPQUFJLFNBQzdCQSxFQUF3QixNQUFJLE9BQy9CLENBSEQsQ0FHR0EsSUFBcUJBLEVBQW1CLENBQUMsSUNINUMsU0FBV0MsR0FDUEEsRUFBK0IsT0FBSSxTQUNuQ0EsRUFBOEIsTUFBSSxPQUNyQyxDQUhELENBR0dBLElBQTJCQSxFQUF5QixDQUFDLElDSHhELFNBQVdDLEdBQ1BBLEVBQXdCLEtBQUksT0FDNUJBLEVBQXlCLE1BQUksT0FDaEMsQ0FIRCxDQUdHQSxJQUFzQkEsRUFBb0IsQ0FBQyxJQ0g5QyxTQUFXQyxHQUNQQSxFQUFpQixJQUFJLE1BQ3JCQSxFQUFtQixNQUFJLFFBQ3ZCQSxFQUFvQixPQUFJLFNBQ3hCQSxFQUFrQixLQUFJLE9BQ3RCQSxFQUFvQixPQUFJLFFBQzNCLENBTkQsQ0FNR0EsSUFBZ0JBLEVBQWMsQ0FBQyxLQ052QkMsRUFHUixJQUFrQixFQUFnQixDQUFDLElBRnBCQSxFQUFzQixPQUFJLEdBQUssU0FDN0NBLEVBQWNBLEVBQXVCLFFBQUksR0FBSyxVQ0gzQyxNQUFNQyxFQUFxQixtQkNBM0IsSUFBSUMsRUNBQUMsR0RDWCxTQUFXRCxHQUNQQSxFQUF3QixRQUFJLFVBQzVCQSxFQUE0QixZQUFJLGNBQ2hDQSxFQUF5QixTQUFJLFVBQ2hDLENBSkQsQ0FJR0EsSUFBbUJBLEVBQWlCLENBQUMsSUNKeEMsU0FBV0MsR0FDUEEsRUFBaUMsU0FBSSxXQUNyQ0EsRUFBaUMsU0FBSSxXQUNyQ0EsRUFBZ0MsUUFBSSxTQUN2QyxDQUpELENBSUdBLElBQTJCQSxFQUF5QixDQUFDLElDTGpELE1BQU0sRUFDVCxXQUFBeGMsQ0FBWXdMLEdBQ1JsTyxLQUFLbWYsT0FBU2pSLEVBQVFpUixRQUFVLE1BQ2hDbmYsS0FBS29mLFNBQVdsUixFQUFRa1IsVUFBWSxZQUNwQ3BmLEtBQUtxZixLQUFPblIsRUFBUW1SLEtBQ3BCcmYsS0FBS3NmLE1BQVFwUixFQUFRb1IsT0FBUyxDQUFDLEVBQy9CdGYsS0FBS3VmLFFBQVVyUixFQUFRcVIsU0FBVyxDQUFDLEVBQ25DdmYsS0FBS3VGLEtBQU8ySSxFQUFRM0ksS0FDcEJ2RixLQUFLd2YsU0FBV3RSLEVBQVFzUixTQUNhLE1BQS9CdFIsRUFBUXNSLFNBQVNDLE9BQU8sR0FDcEIsR0FBR3ZSLEVBQVFzUixZQUNYdFIsRUFBUXNSLFNBQ1osU0FDTnhmLEtBQUswZixLQUFPeFIsRUFBUXdSLEtBQW1DLE1BQTNCeFIsRUFBUXdSLEtBQUtsSCxPQUFPLEdBQWEsSUFBSXRLLEVBQVF3UixPQUFTeFIsRUFBUXdSLEtBQVEsSUFDbEcxZixLQUFLMmYsU0FBV3pSLEVBQVF5UixTQUN4QjNmLEtBQUs0ZixTQUFXMVIsRUFBUTBSLFNBQ3hCNWYsS0FBSzZmLFNBQVczUixFQUFRMlIsUUFDNUIsQ0FDQSxpQkFBT0MsQ0FBV0MsR0FDZCxJQUFLQSxFQUNELE9BQU8sRUFDWCxNQUFNQyxFQUFNRCxFQUNaLE1BQVEsV0FBWUMsR0FDaEIsYUFBY0EsR0FDZCxhQUFjQSxHQUNkLFNBQVVBLEdBQ2MsaUJBQWpCQSxFQUFXLE9BQ1EsaUJBQW5CQSxFQUFhLE9BQzVCLENBQ0EsS0FBQUMsR0FDSSxNQUFNQyxFQUFTLElBQUksRUFBWSxJQUN4QmxnQixLQUNIdWYsUUFBUyxJQUFLdmYsS0FBS3VmLFdBTy9CLElBQW9CRCxFQUhaLE9BRklZLEVBQU9aLFFBQ1BZLEVBQU9aLE9BSUNBLEVBSmtCWSxFQUFPWixNQUtsQzlmLE9BQU8yTSxLQUFLbVQsR0FBT2EsUUFBTyxDQUFDQyxFQUFPQyxLQUNyQyxNQUFNQyxFQUFRaEIsRUFBTWUsR0FDcEIsTUFBTyxJQUNBRCxFQUNILENBQUNDLEdBQVloZSxNQUFNNFEsUUFBUXFOLEdBQVMsSUFBSUEsR0FBU0EsRUFDcEQsR0FDRixDQUFDLEtBVk9KLENBQ1gsRUNyQ0csTUFBTSxFQUNULFdBQUF4ZCxDQUFZd0wsR0FDUmxPLEtBQUt1Z0IsV0FBYXJTLEVBQVFxUyxXQUMxQnZnQixLQUFLd2dCLE9BQVN0UyxFQUFRc1MsT0FDdEJ4Z0IsS0FBS3VmLFFBQVVyUixFQUFRcVIsU0FBVyxDQUFDLEVBQ25DdmYsS0FBS3VGLEtBQU8ySSxFQUFRM0ksSUFDeEIsQ0FDQSxpQkFBT3VhLENBQVdXLEdBQ2QsSUFBS0EsRUFDRCxPQUFPLEVBQ1gsTUFBTUMsRUFBT0QsRUFDYixNQUFrQyxpQkFBcEJDLEVBQUtILFlBQW1ELGlCQUFqQkcsRUFBS25CLE9BQzlELEVDUkcsTUFpQk1vQixFQUE4QixDQUN2QzlOLEtBQU0sdUJBQ04xTixLQUFNLFFBQ055YixTQUFVLE1BQ1Z6UyxLQUFNLENBQUMsUUFDUDBTLFVBQVUsR0FFREMsRUFBdUI1UyxJQUFZLENBQzVDNlMsYUFBZUMsSUFDWEEsRUFBWW5ILElBMUJnQixDQUFDM0wsR0FBYTlNLEdBQVM2ZixNQUFPQyxJQUM5RCxJQUFLLEVBQVlwQixXQUFXb0IsRUFBS25CLFNBQzdCLE9BQU8zZSxFQUFLOGYsR0FDaEIsTUFBTSxRQUFFbkIsR0FBWW1CLEdBQ2QsZ0JBQUVDLEVBQWtCLElBQU9qVCxFQUFRa1QsZUFBZTFjLFVBQVksQ0FBQyxFQUNyRSxHQUFJeWMsRUFBZ0I1ZCxRQUFRLE9BQVMsSUFBTXdjLEVBQVFSLFFBQVEscUJBQ2hEUSxFQUFRUixRQUFjLEtBQzdCUSxFQUFRUixRQUFRLGNBQWdCUSxFQUFRWCxVQUFZVyxFQUFRVixLQUFPLElBQU1VLEVBQVFWLEtBQU8sU0FFdkYsSUFBS1UsRUFBUVIsUUFBYyxLQUFHLENBQy9CLElBQUk4QixFQUFPdEIsRUFBUVgsU0FDQyxNQUFoQlcsRUFBUVYsT0FDUmdDLEdBQVEsSUFBSXRCLEVBQVFWLFFBQ3hCVSxFQUFRUixRQUFjLEtBQUk4QixDQUM5QixDQUNBLE9BQU9qZ0IsRUFBSzhmLEVBQUssRUFXR0ksQ0FBcUJwVCxHQUFVeVMsRUFBNEIsSUNDdEVZLEVBQTBCLENBQ25DMU8sS0FBTSxtQkFDTjFFLEtBQU0sQ0FBQyxVQUNQaEosS0FBTSxhQUNOMGIsVUFBVSxHQUVEVyxFQUFtQnRULElBQVksQ0FDeEM2UyxhQUFlQyxJQUNYQSxFQUFZbkgsS0F2Q2tCLENBQUN6WSxFQUFNcWdCLElBQVlSLE1BQU9DLElBQzVELElBQ0ksTUFBTVQsUUFBaUJyZixFQUFLOGYsSUFDdEIsV0FBRVEsRUFBVSxZQUFFQyxFQUFXLE9BQUVDLEVBQU0sOEJBQUVDLEVBQWdDLENBQUMsR0FBTUosR0FDMUUsZ0NBQUVLLEVBQStCLGlDQUFFQyxHQUFxQ0YsRUFDeEVHLEVBQTBCRixHQUFtQ0wsRUFBUU8sd0JBQ3JFQyxFQUEyQkYsR0FBb0NOLEVBQVFRLDBCQUN2RSxVQUFFQyxLQUFjQyxHQUEwQjFCLEVBQVMyQixPQVF6RCxPQVBBUixHQUFRUyxPQUFPLENBQ1hYLGFBQ0FDLGNBQ0F2WSxNQUFPNFksRUFBd0JkLEVBQUs5WCxPQUNwQ2daLE9BQVFILEVBQXlCRSxHQUNqQ3pkLFNBQVV3ZCxJQUVQekIsQ0FDWCxDQUNBLE1BQU9oZixHQUNILE1BQU0sV0FBRWlnQixFQUFVLFlBQUVDLEVBQVcsT0FBRUMsRUFBTSw4QkFBRUMsRUFBZ0MsQ0FBQyxHQUFNSixHQUMxRSxnQ0FBRUssR0FBb0NELEVBQ3RDRyxFQUEwQkYsR0FBbUNMLEVBQVFPLHdCQVEzRSxNQVBBSixHQUFRbmdCLFFBQVEsQ0FDWmlnQixhQUNBQyxjQUNBdlksTUFBTzRZLEVBQXdCZCxFQUFLOVgsT0FDcEMzSCxRQUNBaUQsU0FBVWpELEVBQU15Z0IsWUFFZHpnQixDQUNWLElBVXdDOGYsRUFBd0IsSUN0QzlEZSxFQUF1QixrQkFxQmhCQyxFQUF5QyxDQUNsRHBkLEtBQU0sUUFDTmdKLEtBQU0sQ0FBQyx1QkFDUDBFLEtBQU0sK0JBQ05nTyxVQUFVLEVBQ1ZELFNBQVUsT0FFRDRCLEVBQStCdFUsSUFBWSxDQUNwRDZTLGFBQWVDLElBQ1hBLEVBQVluSCxJQTNCd0IsQ0FBQzNMLEdBQWE5TSxHQUFTNmYsTUFBT0MsSUFDdEUsTUFBTSxRQUFFbkIsR0FBWW1CLEVBQ3BCLElBQUssRUFBWXBCLFdBQVdDLElBQ0osU0FBcEI3UixFQUFRdVUsU0FDUjFDLEVBQVFSLFFBQVFoZCxlQUFlK2YsR0FDL0IsT0FBT2xoQixFQUFLOGYsR0FFaEIsTUFBTXdCLEVBQWVDLFFBQVFDLElBQTRCLHlCQUNuREMsRUFBVUYsUUFBUUMsSUFBZ0IsaUJBQ2xDRSxFQUFrQmpJLEdBQXVCLGlCQUFSQSxHQUFvQkEsRUFBSTFYLE9BQVMsRUFJeEUsT0FISTJmLEVBQWVKLElBQWlCSSxFQUFlRCxLQUMvQzlDLEVBQVFSLFFBQVErQyxHQUF3Qk8sR0FFckN6aEIsRUFBSyxJQUNMOGYsRUFDSG5CLFdBQ0YsRUFXa0JnRCxDQUE2QjdVLEdBQVVxVSxFQUF1QyxJQy9CekZTLEVBQVUsQ0FBQ0MsRUFBVUMsRUFBV0MsS0FDekMsSUFBSUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FBYSxFQUNqQixNQUFNQyxFQUFtQnZDLFVBQ2hCb0MsSUFDREEsRUFBVUosS0FFZCxJQUNJRyxRQUFpQkMsRUFDakJDLEdBQVksRUFDWkMsR0FBYSxDQUNqQixDQUNBLFFBQ0lGLE9BQVV4YyxDQUNkLENBQ0EsT0FBT3VjLENBQVEsRUFFbkIsWUFBa0J2YyxJQUFkcWMsRUFDT2pDLE1BQU8vUyxJQUNMb1YsSUFBYXBWLEdBQVN1VixlQUN2QkwsUUFBaUJJLEtBRWRKLEdBR1JuQyxNQUFPL1MsSUFDTG9WLElBQWFwVixHQUFTdVYsZUFDdkJMLFFBQWlCSSxLQUVqQkQsRUFDT0gsRUFFUEQsSUFBb0JBLEVBQWdCQyxJQUNwQ0csR0FBYSxFQUNOSCxHQUVQRixFQUFVRSxVQUNKSSxJQUNDSixHQUVKQSxFQUNWLFFDM0NMLE1BQU1NLEVBQWUsQ0FBQyxFQUNoQkMsRUFBZSxDQUFDLEVBQ3RCLElBQUssSUFBSTNnQixFQUFJLEVBQUdBLEVBQUksSUFBS0EsSUFBSyxDQUMxQixJQUFJNGdCLEVBQWM1Z0IsRUFBRW9JLFNBQVMsSUFBSXlZLGNBQ04sSUFBdkJELEVBQVl6Z0IsU0FDWnlnQixFQUFjLElBQUlBLEtBRXRCRixFQUFhMWdCLEdBQUs0Z0IsRUFDbEJELEVBQWFDLEdBQWU1Z0IsQ0FDaEMsQ0FpQk8sU0FBUzhnQixFQUFNdlosR0FDbEIsSUFBSXdaLEVBQU0sR0FDVixJQUFLLElBQUkvZ0IsRUFBSSxFQUFHQSxFQUFJdUgsRUFBTWIsV0FBWTFHLElBQ2xDK2dCLEdBQU9MLEVBQWFuWixFQUFNdkgsSUFFOUIsT0FBTytnQixDQUNYLENDL0JPLE1BQU1DLEVBQ1QsV0FBQXRoQixDQUFZNkgsR0FFUixHQURBdkssS0FBS3VLLE1BQVFBLEVBQ1ksSUFBckJBLEVBQU1iLFdBQ04sTUFBTSxJQUFJa00sTUFBTSx3Q0FFeEIsQ0FDQSxpQkFBT3FPLENBQVdDLEdBQ2QsR0FBSUEsRUFBUyxvQkFBdUJBLEdBQVUsbUJBQzFDLE1BQU0sSUFBSXRPLE1BQU0sR0FBR3NPLHdFQUV2QixNQUFNM1osRUFBUSxJQUFJbEIsV0FBVyxHQUM3QixJQUFLLElBQUlyRyxFQUFJLEVBQUdtaEIsRUFBWUMsS0FBS0MsSUFBSUQsS0FBS0UsTUFBTUosSUFBVWxoQixHQUFLLEdBQUttaEIsRUFBWSxFQUFHbmhCLElBQUttaEIsR0FBYSxJQUNqRzVaLEVBQU12SCxHQUFLbWhCLEVBS2YsT0FISUQsRUFBUyxHQUNUSyxFQUFPaGEsR0FFSixJQUFJeVosRUFBTXpaLEVBQ3JCLENBQ0EsT0FBQWlhLEdBQ0ksTUFBTWphLEVBQVF2SyxLQUFLdUssTUFBTWtWLE1BQU0sR0FDekJnRixFQUFzQixJQUFYbGEsRUFBTSxHQUl2QixPQUhJa2EsR0FDQUYsRUFBT2hhLEdBRUp1UyxTQUFTZ0gsRUFBTXZaLEdBQVEsS0FBT2thLEdBQVksRUFBSSxFQUN6RCxDQUNBLFFBQUFyWixHQUNJLE9BQU9OLE9BQU85SyxLQUFLd2tCLFVBQ3ZCLEVBRUosU0FBU0QsRUFBT2hhLEdBQ1osSUFBSyxJQUFJdkgsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ25CdUgsRUFBTXZILElBQU0sSUFFaEIsSUFBSyxJQUFJQSxFQUFJLEVBQUdBLEdBQUssSUFDakJ1SCxFQUFNdkgsS0FDVyxJQUFidUgsRUFBTXZILElBRlVBLEtBSzVCLENDeENPLE1BQU0sRUFDVCxXQUFBTixDQUFZZ2lCLEVBQVF6YixHQUNoQmpKLEtBQUswa0IsT0FBU0EsRUFDZDFrQixLQUFLaUosU0FBV0EsQ0FDcEIsQ0FDQSxNQUFBaUksQ0FBT3FPLEdBQ0gsTUFBTW9GLEVBQVMsR0FDZixJQUFLLE1BQU1DLEtBQWNwbEIsT0FBTzJNLEtBQUtvVCxHQUFVLENBQzNDLE1BQU1oVixFQUFRdkssS0FBS2lKLFNBQVMyYixHQUM1QkQsRUFBT3BlLEtBQUs4QyxXQUFXRixLQUFLLENBQUNvQixFQUFNYixhQUFjYSxFQUFPdkssS0FBSzZrQixrQkFBa0J0RixFQUFRcUYsSUFDM0YsQ0FDQSxNQUFNYixFQUFNLElBQUkxYSxXQUFXc2IsRUFBT3hFLFFBQU8sQ0FBQ0MsRUFBTzdWLElBQVU2VixFQUFRN1YsRUFBTWIsWUFBWSxJQUNyRixJQUFJb2IsRUFBVyxFQUNmLElBQUssTUFBTUMsS0FBU0osRUFDaEJaLEVBQUloYixJQUFJZ2MsRUFBT0QsR0FDZkEsR0FBWUMsRUFBTXJiLFdBRXRCLE9BQU9xYSxDQUNYLENBQ0EsaUJBQUFjLENBQWtCRyxHQUNkLE9BQVFBLEVBQU9DLE1BQ1gsSUFBSyxVQUNELE9BQU81YixXQUFXRixLQUFLLENBQUM2YixFQUFPcmxCLE1BQVEsRUFBSSxJQUMvQyxJQUFLLE9BQ0QsT0FBTzBKLFdBQVdGLEtBQUssQ0FBQyxFQUFHNmIsRUFBT3JsQixRQUN0QyxJQUFLLFFBQ0QsTUFBTXVsQixFQUFZLElBQUlDLFNBQVMsSUFBSTdiLFlBQVksSUFHL0MsT0FGQTRiLEVBQVVFLFNBQVMsRUFBRyxHQUN0QkYsRUFBVUcsU0FBUyxFQUFHTCxFQUFPcmxCLE9BQU8sR0FDN0IsSUFBSTBKLFdBQVc2YixFQUFVMWIsUUFDcEMsSUFBSyxVQUNELE1BQU04YixFQUFVLElBQUlILFNBQVMsSUFBSTdiLFlBQVksSUFHN0MsT0FGQWdjLEVBQVFGLFNBQVMsRUFBRyxHQUNwQkUsRUFBUUMsU0FBUyxFQUFHUCxFQUFPcmxCLE9BQU8sR0FDM0IsSUFBSTBKLFdBQVdpYyxFQUFROWIsUUFDbEMsSUFBSyxPQUNELE1BQU1nYyxFQUFZLElBQUluYyxXQUFXLEdBR2pDLE9BRkFtYyxFQUFVLEdBQUssRUFDZkEsRUFBVXpjLElBQUlpYyxFQUFPcmxCLE1BQU00SyxNQUFPLEdBQzNCaWIsRUFDWCxJQUFLLFNBQ0QsTUFBTUMsRUFBVSxJQUFJTixTQUFTLElBQUk3YixZQUFZLEVBQUkwYixFQUFPcmxCLE1BQU0rSixhQUM5RCtiLEVBQVFMLFNBQVMsRUFBRyxHQUNwQkssRUFBUUMsVUFBVSxFQUFHVixFQUFPcmxCLE1BQU0rSixZQUFZLEdBQzlDLE1BQU1pYyxFQUFXLElBQUl0YyxXQUFXb2MsRUFBUWpjLFFBRXhDLE9BREFtYyxFQUFTNWMsSUFBSWljLEVBQU9ybEIsTUFBTyxHQUNwQmdtQixFQUNYLElBQUssU0FDRCxNQUFNQyxFQUFZNWxCLEtBQUtpSixTQUFTK2IsRUFBT3JsQixPQUNqQ2ttQixFQUFVLElBQUlWLFNBQVMsSUFBSTdiLFlBQVksRUFBSXNjLEVBQVVsYyxhQUMzRG1jLEVBQVFULFNBQVMsRUFBRyxHQUNwQlMsRUFBUUgsVUFBVSxFQUFHRSxFQUFVbGMsWUFBWSxHQUMzQyxNQUFNb2MsRUFBVyxJQUFJemMsV0FBV3djLEVBQVFyYyxRQUV4QyxPQURBc2MsRUFBUy9jLElBQUk2YyxFQUFXLEdBQ2pCRSxFQUNYLElBQUssWUFDRCxNQUFNQyxFQUFVLElBQUkxYyxXQUFXLEdBRy9CLE9BRkEwYyxFQUFRLEdBQUssRUFDYkEsRUFBUWhkLElBQUlpYixFQUFNQyxXQUFXZSxFQUFPcmxCLE1BQU02a0IsV0FBV2phLE1BQU8sR0FDckR3YixFQUNYLElBQUssT0FDRCxJQUFLQyxFQUFhM0ksS0FBSzJILEVBQU9ybEIsT0FDMUIsTUFBTSxJQUFJaVcsTUFBTSwwQkFBMEJvUCxFQUFPcmxCLFNBRXJELE1BQU1zbUIsRUFBWSxJQUFJNWMsV0FBVyxJQUdqQyxPQUZBNGMsRUFBVSxHQUFLLEVBQ2ZBLEVBQVVsZCxJRjFEbkIsU0FBaUJrQyxHQUNwQixHQUFJQSxFQUFROUgsT0FBUyxHQUFNLEVBQ3ZCLE1BQU0sSUFBSXlTLE1BQU0sdURBRXBCLE1BQU1tTyxFQUFNLElBQUkxYSxXQUFXNEIsRUFBUTlILE9BQVMsR0FDNUMsSUFBSyxJQUFJSCxFQUFJLEVBQUdBLEVBQUlpSSxFQUFROUgsT0FBUUgsR0FBSyxFQUFHLENBQ3hDLE1BQU00Z0IsRUFBYzNZLEVBQVF3VSxNQUFNemMsRUFBR0EsRUFBSSxHQUFHNmdCLGNBQzVDLEtBQUlELEtBQWVELEdBSWYsTUFBTSxJQUFJL04sTUFBTSx1Q0FBdUNnTyxvQkFIdkRHLEVBQUkvZ0IsRUFBSSxHQUFLMmdCLEVBQWFDLEVBS2xDLENBQ0EsT0FBT0csQ0FDWCxDRTJDOEJtQyxDQUFRbEIsRUFBT3JsQixNQUFNaVEsUUFBUSxNQUFPLEtBQU0sR0FDakRxVyxFQUVuQixDQUNBLEtBQUF2SyxDQUFNNkQsR0FDRixNQUFNd0UsRUFBTSxDQUFDLEVBQ2IsSUFBSWUsRUFBVyxFQUNmLEtBQU9BLEVBQVd2RixFQUFRN1YsWUFBWSxDQUNsQyxNQUFNeWMsRUFBYTVHLEVBQVE2RyxTQUFTdEIsS0FDOUJqUyxFQUFPN1MsS0FBSzBrQixPQUFPLElBQUlyYixXQUFXa1csRUFBUS9WLE9BQVErVixFQUFROVYsV0FBYXFiLEVBQVVxQixJQUV2RixPQURBckIsR0FBWXFCLEVBQ0o1RyxFQUFRNkcsU0FBU3RCLE1BQ3JCLEtBQUssRUFDRGYsRUFBSWxSLEdBQVEsQ0FDUm9TLEtBQU1vQixFQUNOMW1CLE9BQU8sR0FFWCxNQUNKLEtBQUssRUFDRG9rQixFQUFJbFIsR0FBUSxDQUNSb1MsS0FBTW9CLEVBQ04xbUIsT0FBTyxHQUVYLE1BQ0osS0FBSyxFQUNEb2tCLEVBQUlsUixHQUFRLENBQ1JvUyxLQUFNcUIsRUFDTjNtQixNQUFPNGYsRUFBUWdILFFBQVF6QixNQUUzQixNQUNKLEtBQUssRUFDRGYsRUFBSWxSLEdBQVEsQ0FDUm9TLEtBQU11QixFQUNON21CLE1BQU80ZixFQUFRa0gsU0FBUzNCLEdBQVUsSUFFdENBLEdBQVksRUFDWixNQUNKLEtBQUssRUFDRGYsRUFBSWxSLEdBQVEsQ0FDUm9TLEtBQU15QixFQUNOL21CLE1BQU80ZixFQUFRb0gsU0FBUzdCLEdBQVUsSUFFdENBLEdBQVksRUFDWixNQUNKLEtBQUssRUFDRGYsRUFBSWxSLEdBQVEsQ0FDUm9TLEtBQU0yQixFQUNOam5CLE1BQU8sSUFBSXFrQixFQUFNLElBQUkzYSxXQUFXa1csRUFBUS9WLE9BQVErVixFQUFROVYsV0FBYXFiLEVBQVUsS0FFbkZBLEdBQVksRUFDWixNQUNKLEtBQUssRUFDRCxNQUFNK0IsRUFBZXRILEVBQVF1SCxVQUFVaEMsR0FBVSxHQUNqREEsR0FBWSxFQUNaZixFQUFJbFIsR0FBUSxDQUNSb1MsS0FBTThCLEVBQ05wbkIsTUFBTyxJQUFJMEosV0FBV2tXLEVBQVEvVixPQUFRK1YsRUFBUTlWLFdBQWFxYixFQUFVK0IsSUFFekUvQixHQUFZK0IsRUFDWixNQUNKLEtBQUssRUFDRCxNQUFNRyxFQUFlekgsRUFBUXVILFVBQVVoQyxHQUFVLEdBQ2pEQSxHQUFZLEVBQ1pmLEVBQUlsUixHQUFRLENBQ1JvUyxLQUFNZ0MsRUFDTnRuQixNQUFPSyxLQUFLMGtCLE9BQU8sSUFBSXJiLFdBQVdrVyxFQUFRL1YsT0FBUStWLEVBQVE5VixXQUFhcWIsRUFBVWtDLEtBRXJGbEMsR0FBWWtDLEVBQ1osTUFDSixLQUFLLEVBQ0RqRCxFQUFJbFIsR0FBUSxDQUNSb1MsS0FBTWlDLEVBQ052bkIsTUFBTyxJQUFJd1QsS0FBSyxJQUFJNlEsRUFBTSxJQUFJM2EsV0FBV2tXLEVBQVEvVixPQUFRK1YsRUFBUTlWLFdBQWFxYixFQUFVLElBQUlOLFlBRWhHTSxHQUFZLEVBQ1osTUFDSixLQUFLLEVBQ0QsTUFBTW1CLEVBQVksSUFBSTVjLFdBQVdrVyxFQUFRL1YsT0FBUStWLEVBQVE5VixXQUFhcWIsRUFBVSxJQUNoRkEsR0FBWSxHQUNaZixFQUFJbFIsR0FBUSxDQUNSb1MsS0FBTWtDLEVBQ054bkIsTUFBTyxHQUFHbWtCLEVBQU1tQyxFQUFVbUIsU0FBUyxFQUFHLE9BQU90RCxFQUFNbUMsRUFBVW1CLFNBQVMsRUFBRyxPQUFPdEQsRUFBTW1DLEVBQVVtQixTQUFTLEVBQUcsT0FBT3RELEVBQU1tQyxFQUFVbUIsU0FBUyxFQUFHLFFBQVF0RCxFQUFNbUMsRUFBVW1CLFNBQVMsUUFFcEwsTUFDSixRQUNJLE1BQU0sSUFBSXhSLE1BQU0sZ0NBRTVCLENBQ0EsT0FBT21PLENBQ1gsRUFFSixJQUFJc0QsR0FDSixTQUFXQSxHQUNQQSxFQUFrQkEsRUFBNEIsU0FBSSxHQUFLLFdBQ3ZEQSxFQUFrQkEsRUFBNkIsVUFBSSxHQUFLLFlBQ3hEQSxFQUFrQkEsRUFBd0IsS0FBSSxHQUFLLE9BQ25EQSxFQUFrQkEsRUFBeUIsTUFBSSxHQUFLLFFBQ3BEQSxFQUFrQkEsRUFBMkIsUUFBSSxHQUFLLFVBQ3REQSxFQUFrQkEsRUFBd0IsS0FBSSxHQUFLLE9BQ25EQSxFQUFrQkEsRUFBNkIsVUFBSSxHQUFLLFlBQ3hEQSxFQUFrQkEsRUFBMEIsT0FBSSxHQUFLLFNBQ3JEQSxFQUFrQkEsRUFBNkIsVUFBSSxHQUFLLFlBQ3hEQSxFQUFrQkEsRUFBd0IsS0FBSSxHQUFLLE1BQ3RELENBWEQsQ0FXR0EsSUFBc0JBLEVBQW9CLENBQUMsSUFDOUMsTUFBTWhCLEVBQWMsVUFDZEMsRUFBVyxPQUNYRSxFQUFZLFFBQ1pFLEVBQVUsVUFDVkUsRUFBVyxPQUNYRyxFQUFhLFNBQ2JFLEVBQWEsU0FDYkMsRUFBZ0IsWUFDaEJDLEVBQVcsT0FDWG5CLEVBQWUsaUVDakxoQi9mLE9BQU95QixjQ0FQekIsT0FBT3lCLGNDQVB6QixPQUFPeUIsY0NBUHpCLE9BQU95QixjQ0hMLE1DRE0sRUFBcUIwQixJQUM5QixHQUFxQixtQkFBVkEsRUFDUCxPQUFPQSxFQUNYLE1BQU1rZSxFQUFjdmlCLFFBQVFDLFFBQVFvRSxHQUNwQyxNQUFPLElBQU1rZSxDQUFXLEVDSmZDLEVBQWlCQyxHQUFnQyxtQkFBaEJsZSxhQUE4QmtlLGFBQWVsZSxhQUMvQyx5QkFBeEM5SixPQUFPVyxVQUFVaUwsU0FBU3pKLEtBQUs2bEIsR0NEN0IsRUFBK0JDLFFBQVEsVUNFaEMsRUFBa0IsQ0FBQ3JlLEVBQU9zZSxFQUFTLEVBQUd2a0IsRUFBU2lHLEVBQU1NLFdBQWFnZSxLQUMzRSxJQUFLSCxFQUFjbmUsR0FDZixNQUFNLElBQUkvQyxVQUFVLGtFQUFrRStDLE1BQVVBLE1BRXBHLE9BQU8sRUFBQUYsT0FBT0MsS0FBS0MsRUFBT3NlLEVBQVF2a0IsRUFBTyxFQUVoQ3drQixFQUFhLENBQUN2ZSxFQUFPd2UsS0FDOUIsR0FBcUIsaUJBQVZ4ZSxFQUNQLE1BQU0sSUFBSS9DLFVBQVUscUVBQXFFK0MsTUFBVUEsTUFFdkcsT0FBT3dlLEVBQVcsRUFBQTFlLE9BQU9DLEtBQUtDLEVBQU93ZSxHQUFZLEVBQUExZSxPQUFPQyxLQUFLQyxFQUFNLEVDWDFESCxFQUFZRyxJQUNyQixNQUFNeWUsRUFBTUYsRUFBV3ZlLEVBQU8sUUFDOUIsT0FBTyxJQUFJQyxXQUFXd2UsRUFBSXJlLE9BQVFxZSxFQUFJcGUsV0FBWW9lLEVBQUluZSxXQUFhTCxXQUFXTSxrQkFBa0IsRUNGdkZtZSxFQUFnQmhuQixHQUNMLGlCQUFUQSxFQUNBbUksRUFBU25JLEdBRWhCd0ksWUFBWUMsT0FBT3pJLEdBQ1osSUFBSXVJLFdBQVd2SSxFQUFLMEksT0FBUTFJLEVBQUsySSxXQUFZM0ksRUFBSzRJLFdBQWFMLFdBQVdNLG1CQUU5RSxJQUFJTixXQUFXdkksR0NQYjRqQixFQUFVdGIsR0FBVSxFQUFnQkEsRUFBTUksT0FBUUosRUFBTUssV0FBWUwsRUFBTU0sWUFBWTBCLFNBQVMsUUNDL0YyYyxFQUF1QixhQUd2QkMsRUFBd0Isa0JBQ3hCQyxFQUFvQix1QkFFcEJDLEVBQWMsZ0JBQ2RDLEVBQWtCSixFQUFxQmxFLGNBRXZDdUUsRUFBb0IsQ0FBQ0YsRUFBYUMsRUFEcEIsUUFFZEUsR0FBbUJMLEVBQXNCbkUsY0FDekN5RSxHQUFnQix1QkFDaEJDLEdBQWVOLEVBQWtCcEUsY0FFakMyRSxHQUE0QixDQUNyQ0MsZUFBZSxFQUNmLGlCQUFpQixFQUNqQkMsWUFBWSxFQUNaQyxRQUFRLEVBQ1J4ZixNQUFNLEVBQ04sY0FBYyxFQUNkLGdCQUFnQixFQUNoQnlmLFFBQVEsRUFDUkMsU0FBUyxFQUNUQyxJQUFJLEVBQ0pDLFNBQVMsRUFDVCxxQkFBcUIsRUFDckJDLFNBQVMsRUFDVCxjQUFjLEVBQ2QsbUJBQW1CLEdBRVZDLEdBQXVCLFVBQ3ZCQyxHQUFxQixRQUVyQkMsR0FBdUIsbUJBRXZCQyxHQUE2QiwyQkFHN0JDLEdBQXNCLGVDdEM3QkMsR0FBa0IsQ0FBQyxFQUNuQkMsR0FBYSxHQUNOQyxHQUFjLENBQUNDLEVBQVdDLEVBQVFDLElBQVksR0FBR0YsS0FBYUMsS0FBVUMsS0FBV04sS0F1QjFGTyxHQUFPLENBQUNDLEVBQU1DLEVBQVFocEIsS0FDeEIsTUFBTWlwQixFQUFPLElBQUlGLEVBQUtDLEdBRXRCLE9BREFDLEVBQUszcEIsT0FBTzBuQixFQUFhaG5CLElBQ2xCaXBCLEVBQUt2cEIsUUFBUSxFQzlCWHdwQixHQUFzQixFQUFHekssV0FBVzBLLEVBQW1CQyxLQUNoRSxNQUFNQyxFQUFZLENBQUMsRUFDbkIsSUFBSyxNQUFNdkYsS0FBY3BsQixPQUFPMk0sS0FBS29ULEdBQVM2SyxPQUFRLENBQ2xELEdBQTJCdmpCLE1BQXZCMFksRUFBUXFGLEdBQ1IsU0FFSixNQUFNeUYsRUFBc0J6RixFQUFXZixlQUNuQ3dHLEtBQXVCN0IsSUFDdkJ5QixHQUFtQnBoQixJQUFJd2hCLElBQ3ZCcEIsR0FBcUI1TCxLQUFLZ04sSUFDMUJuQixHQUFtQjdMLEtBQUtnTixPQUNuQkgsR0FBb0JBLElBQW9CQSxFQUFnQnJoQixJQUFJd2hCLE1BSXJFRixFQUFVRSxHQUF1QjlLLEVBQVFxRixHQUFZbFcsT0FBT2tCLFFBQVEsT0FBUSxLQUNoRixDQUNBLE9BQU91YSxDQUFTLEVDbEJQRyxHQUFhQyxHQUFRQyxtQkFBbUJELEdBQUszYSxRQUFRLFdBQVk2YSxJQUN4RUEsR0FBYTFtQixHQUFNLElBQUlBLEVBQUUwRyxXQUFXLEdBQUdXLFNBQVMsSUFBSXNmLGdCQ0c3Q0MsR0FBaUIxSixPQUFTMUIsVUFBU2hhLFFBQVFxbEIsS0FDcEQsSUFBSyxNQUFNaEcsS0FBY3BsQixPQUFPMk0sS0FBS29ULEdBQ2pDLEdBQUlxRixFQUFXZixnQkFBa0J5RSxHQUM3QixPQUFPL0ksRUFBUXFGLEdBR3ZCLEdBQVkvZCxNQUFSdEIsRUFDQSxNQUFPLG1FQUVOLEdBQW9CLGlCQUFUQSxHQUFxQitELFlBQVlDLE9BQU9oRSxJQUFTZ2lCLEVBQWNoaUIsR0FBTyxDQUNsRixNQUFNc2xCLEVBQVcsSUFBSUQsRUFFckIsT0FEQUMsRUFBU3pxQixPQUFPMG5CLEVBQWF2aUIsSUFDdEJ1ZSxRQUFZK0csRUFBU3JxQixTQUNoQyxDQUNBLE1KcUI0QixrQklyQkwsRUNsQmRzcUIsR0FBZSxFQUFHdkwsVUFBU0QsV0FBVXlMLE1BQVcsSUFDdERBLEVBQ0h4TCxRQUFTLElBQUtBLEdBQ2RELE1BQU9BLEVBQVEsR0FBV0EsUUFBU3pZLElBRTFCLEdBQWN5WSxHQUFVOWYsT0FBTzJNLEtBQUttVCxHQUFPYSxRQUFPLENBQUNDLEVBQU9DLEtBQ25FLE1BQU1DLEVBQVFoQixFQUFNZSxHQUNwQixNQUFPLElBQ0FELEVBQ0gsQ0FBQ0MsR0FBWWhlLE1BQU00USxRQUFRcU4sR0FBUyxJQUFJQSxHQUFTQSxFQUNwRCxHQUNGLENBQUMsR0NUUzBLLEdBQWtCakwsSUFDM0JBLEVBQW1DLG1CQUFsQkEsRUFBUUUsTUFBdUJGLEVBQVFFLFFBQVU2SyxHQUFhL0ssR0FDL0UsSUFBSyxNQUFNNkUsS0FBY3BsQixPQUFPMk0sS0FBSzRULEVBQVFSLFNBQ3JDNkksRUFBa0I3a0IsUUFBUXFoQixFQUFXZixnQkFBa0IsVUFDaEQ5RCxFQUFRUixRQUFRcUYsR0FHL0IsT0FBTzdFLENBQU8sRUNJWCxNQUFNLEdBQ1QsV0FBQXJkLEVBQVksY0FBRXVvQixFQUFhLFlBQUVDLEVBQVcsT0FBRXhCLEVBQU0sUUFBRUMsRUFBTyxPQUFFd0IsRUFBTSxjQUFFQyxHQUFnQixJQUMvRXByQixLQUFLcXJCLGlCQUFtQixJQUFJLEVBQWlCM0csRUFBUXpiLEdBQ3JEakosS0FBSzJwQixRQUFVQSxFQUNmM3BCLEtBQUttckIsT0FBU0EsRUFDZG5yQixLQUFLb3JCLGNBQWdCQSxFQUNyQnByQixLQUFLaXJCLGNBQXlDLGtCQUFsQkEsR0FBOEJBLEVBQzFEanJCLEtBQUtzckIsZUFBaUIsRUFBa0I1QixHQUN4QzFwQixLQUFLdXJCLG1CQUFxQixFQUFrQkwsRUFDaEQsQ0FDQSxhQUFNTSxDQUFRQyxFQUFpQnZkLEVBQVUsQ0FBQyxHQUN0QyxNQUFNLFlBQUV3ZCxFQUFjLElBQUl2WSxLQUFNLFVBQUV3WSxFQUFZLEtBQUksa0JBQUUxQixFQUFpQixtQkFBRTJCLEVBQWtCLGdCQUFFMUIsRUFBZSxjQUFFMkIsRUFBYSxlQUFFQyxHQUFvQjVkLEVBQ3pJZ2QsUUFBb0JsckIsS0FBS3VyQixxQkFDL0J2ckIsS0FBSytyQiw0QkFBNEJiLEdBQ2pDLE1BQU14QixFQUFTbUMsU0FBd0I3ckIsS0FBS3NyQixrQkFDdEMsU0FBRVUsRUFBUSxVQUFFdkMsR0FBY3dDLEdBQVdQLEdBQzNDLEdBQUlDLEVQYXFCLE9PWnJCLE9BQU81bUIsUUFBUUUsT0FBTyxvR0FFMUIsTUFBTWluQixFQUFRMUMsR0FBWUMsRUFBV0MsRUFBUW9DLEdBQWtCOXJCLEtBQUsycEIsU0FDOUQ1SixFQ2hDb0IsRUFBQ0EsRUFBUzdSLEVBQVUsQ0FBQyxLQUNuRCxNQUFNLFFBQUVxUixFQUFPLE1BQUVELEVBQVEsQ0FBQyxHQUErQixtQkFBbEJTLEVBQVFFLE1BQXVCRixFQUFRRSxRQUFVNkssR0FBYS9LLEdBQ3JHLElBQUssTUFBTWxOLEtBQVFyVCxPQUFPMk0sS0FBS29ULEdBQVUsQ0FDckMsTUFBTTRNLEVBQVF0WixFQUFLZ1IsY0FDTyxXQUF0QnNJLEVBQU0xTSxNQUFNLEVBQUcsSUFBb0J2UixFQUFRMGQsb0JBQW9CL2lCLElBQUlzakIsS0FDbkU3TSxFQUFNek0sR0FBUTBNLEVBQVExTSxVQUNmME0sRUFBUTFNLEdBRXZCLENBQ0EsTUFBTyxJQUNBa04sRUFDSFIsVUFDQUQsUUFDSCxFRG1CbUI4TSxDQUFtQnBCLEdBQWVTLEdBQWtCLENBQUVHLHVCQUNsRVYsRUFBWW1CLGVBQ1p0TSxFQUFRVCxNQUFNMkksR0FBcUJpRCxFQUFZbUIsY0FFbkR0TSxFQUFRVCxNUHJDcUIsbUJPcUNVNkosR0FDdkNwSixFQUFRVCxNUHJDc0Isb0JPcUNVLEdBQUc0TCxFQUFZb0IsZUFBZUosSUFDdEVuTSxFQUFRVCxNQUFNeUksR0FBd0JpRSxFQUN0Q2pNLEVBQVFULE1QcENtQixpQk9vQ1VxTSxFQUFVdmdCLFNBQVMsSUFDeEQsTUFBTW1oQixFQUFtQnZDLEdBQW9CakssRUFBU2tLLEVBQW1CQyxHQUd6RSxPQUZBbkssRUFBUVQsTVB2QzBCLHVCT3VDVWtOLEdBQXVCRCxHQUNuRXhNLEVBQVFULE1BQU0wSSxTQUErQmhvQixLQUFLeXNCLGFBQWFULEVBQVVFLEVBQU9sc0IsS0FBSzBzQixjQUFjeEIsRUFBYXhCLEVBQVFELEVBQVdxQyxHQUFpQjlyQixLQUFLMnNCLHVCQUF1QjVNLEVBQVN3TSxRQUF3QjVCLEdBQWVjLEVBQWlCenJCLEtBQUttckIsVUFDL09wTCxDQUNYLENBQ0EsVUFBTXpDLENBQUtzUCxFQUFRMWUsR0FDZixNQUFzQixpQkFBWDBlLEVBQ0E1c0IsS0FBSzZzQixXQUFXRCxFQUFRMWUsR0FFMUIwZSxFQUFPck4sU0FBV3FOLEVBQU9FLFFBQ3ZCOXNCLEtBQUsrc0IsVUFBVUgsRUFBUTFlLEdBRXpCMGUsRUFBT3BjLFFBQ0x4USxLQUFLZ3RCLFlBQVlKLEVBQVExZSxHQUd6QmxPLEtBQUtpdEIsWUFBWUwsRUFBUTFlLEVBRXhDLENBQ0EsZUFBTTZlLEVBQVUsUUFBRXhOLEVBQU8sUUFBRXVOLElBQVcsWUFBRXBCLEVBQWMsSUFBSXZZLEtBQU0sZUFBRStaLEVBQWMsY0FBRXJCLEVBQWEsZUFBRUMsSUFDN0YsTUFBTXBDLEVBQVNtQyxTQUF3QjdyQixLQUFLc3JCLGtCQUN0QyxVQUFFN0IsRUFBUyxTQUFFdUMsR0FBYUMsR0FBV1AsR0FDckNRLEVBQVExQyxHQUFZQyxFQUFXQyxFQUFRb0MsR0FBa0I5ckIsS0FBSzJwQixTQUM5RHdELFFBQXNCeEMsR0FBZSxDQUFFcEwsUUFBUyxDQUFDLEVBQUdoYSxLQUFNdW5CLEdBQVc5c0IsS0FBS21yQixRQUMxRXBCLEVBQU8sSUFBSS9wQixLQUFLbXJCLE9BQ3RCcEIsRUFBSzNwQixPQUFPbWYsR0FDWixNQUFNNk4sRUFBZ0J0SixRQUFZaUcsRUFBS3ZwQixVQUNqQzZzQixFQUFlLENBQ2pCakUsR0FDQTRDLEVBQ0FFLEVBQ0FnQixFQUNBRSxFQUNBRCxHQUNGOWhCLEtBQUssTUFDUCxPQUFPckwsS0FBSzZzQixXQUFXUSxFQUFjLENBQUUzQixjQUFhRyxjQUFlbkMsRUFBUW9DLGtCQUMvRSxDQUNBLGlCQUFNa0IsQ0FBWU0sR0FBaUIsWUFBRTVCLEVBQWMsSUFBSXZZLEtBQU0sY0FBRTBZLEVBQWEsZUFBRUMsSUFVMUUsT0FUZ0I5ckIsS0FBSytzQixVQUFVLENBQzNCeE4sUUFBU3ZmLEtBQUtxckIsaUJBQWlCbmEsT0FBT29jLEVBQWdCOWMsUUFBUStPLFNBQzlEdU4sUUFBU1EsRUFBZ0I5YyxRQUFRakwsTUFDbEMsQ0FDQ21tQixjQUNBRyxnQkFDQUMsaUJBQ0FvQixlQUFnQkksRUFBZ0JKLGlCQUVyQjVuQixNQUFNaW9CLElBQ1YsQ0FBRS9jLFFBQVM4YyxFQUFnQjljLFFBQVMrYyxlQUVuRCxDQUNBLGdCQUFNVixDQUFXUSxHQUFjLFlBQUUzQixFQUFjLElBQUl2WSxLQUFNLGNBQUUwWSxFQUFhLGVBQUVDLEdBQW1CLENBQUMsR0FDMUYsTUFBTVosUUFBb0JsckIsS0FBS3VyQixxQkFDL0J2ckIsS0FBSytyQiw0QkFBNEJiLEdBQ2pDLE1BQU14QixFQUFTbUMsU0FBd0I3ckIsS0FBS3NyQixrQkFDdEMsVUFBRTdCLEdBQWN3QyxHQUFXUCxHQUMzQjNCLEVBQU8sSUFBSS9wQixLQUFLbXJCLGFBQWFuckIsS0FBSzBzQixjQUFjeEIsRUFBYXhCLEVBQVFELEVBQVdxQyxJQUV0RixPQURBL0IsRUFBSzNwQixPQUFPMG5CLEVBQWF1RixJQUNsQnZKLFFBQVlpRyxFQUFLdnBCLFNBQzVCLENBQ0EsaUJBQU15c0IsQ0FBWU8sR0FBZSxZQUFFOUIsRUFBYyxJQUFJdlksS0FBTSxnQkFBRStXLEVBQWUsa0JBQUVELEVBQWlCLGNBQUU0QixFQUFhLGVBQUVDLEdBQW9CLENBQUMsR0FDakksTUFBTVosUUFBb0JsckIsS0FBS3VyQixxQkFDL0J2ckIsS0FBSytyQiw0QkFBNEJiLEdBQ2pDLE1BQU14QixFQUFTbUMsU0FBd0I3ckIsS0FBS3NyQixpQkFDdEN2TCxFQUFVaUwsR0FBZXdDLElBQ3pCLFNBQUV4QixFQUFRLFVBQUV2QyxHQUFjd0MsR0FBV1AsR0FDckNRLEVBQVExQyxHQUFZQyxFQUFXQyxFQUFRb0MsR0FBa0I5ckIsS0FBSzJwQixTQUNwRTVKLEVBQVFSLFFBQVE0SSxHQUFtQjZELEVBQy9CZCxFQUFZbUIsZUFDWnRNLEVBQVFSLFFBQVFnSixJQUFnQjJDLEVBQVltQixjQUVoRCxNQUFNb0IsUUFBb0I5QyxHQUFlNUssRUFBUy9mLEtBQUttckIsU0VoSHRDLEVBQUN1QyxFQUFjbk8sS0FDcENtTyxFQUFlQSxFQUFhN0osY0FDNUIsSUFBSyxNQUFNZSxLQUFjcGxCLE9BQU8yTSxLQUFLb1QsR0FDakMsR0FBSW1PLElBQWlCOUksRUFBV2YsY0FDNUIsT0FBTyxFQUdmLE9BQU8sQ0FBSyxFRjBHSDhKLENBQVVyRixHQUFldkksRUFBUVIsVUFBWXZmLEtBQUtpckIsZ0JBQ25EbEwsRUFBUVIsUUFBUStJLElBQWlCbUYsR0FFckMsTUFBTWxCLEVBQW1CdkMsR0FBb0JqSyxFQUFTa0ssRUFBbUJDLEdBQ25FcUQsUUFBa0J2dEIsS0FBS3lzQixhQUFhVCxFQUFVRSxFQUFPbHNCLEtBQUswc0IsY0FBY3hCLEVBQWF4QixFQUFRRCxFQUFXcUMsR0FBaUI5ckIsS0FBSzJzQix1QkFBdUI1TSxFQUFTd00sRUFBa0JrQixJQU10TCxPQUxBMU4sRUFBUVIsUUFBUTJJLEdBQ1osR0FBR2lCLGlCQUNlK0IsRUFBWW9CLGVBQWVKLG9CQUN4Qk0sR0FBdUJELGlCQUMzQmdCLElBQ2R4TixDQUNYLENBQ0Esc0JBQUE0TSxDQUF1QjVNLEVBQVN3TSxFQUFrQmtCLEdBQzlDLE1BQU1HLEVBQWdCcHVCLE9BQU8yTSxLQUFLb2dCLEdBQWtCbkMsT0FDcEQsTUFBTyxHQUFHckssRUFBUVosV0FDeEJuZixLQUFLNnRCLGlCQUFpQjlOLE9HOUhTLEdBQUdULFFBQVEsQ0FBQyxNQUN6QyxNQUFNblQsRUFBTyxHQUNQMmhCLEVBQWEsQ0FBQyxFQUNwQixJQUFLLE1BQU1qcUIsS0FBT3JFLE9BQU8yTSxLQUFLbVQsR0FBTzhLLE9BQVEsQ0FDekMsR0FBSXZtQixFQUFJZ2dCLGdCQUFrQndFLEdBQ3RCLFNBRUpsYyxFQUFLNUYsS0FBSzFDLEdBQ1YsTUFBTWxFLEVBQVEyZixFQUFNemIsR0FDQyxpQkFBVmxFLEVBQ1BtdUIsRUFBV2pxQixHQUFPLEdBQUd5bUIsR0FBVXptQixNQUFReW1CLEdBQVUzcUIsS0FFNUMwQyxNQUFNNFEsUUFBUXRULEtBQ25CbXVCLEVBQVdqcUIsR0FBT2xFLEVBQ2I4ZixNQUFNLEdBQ05VLFFBQU8sQ0FBQ2xWLEVBQVN0TCxJQUFVc0wsRUFBUS9ELE9BQU8sQ0FBQyxHQUFHb2pCLEdBQVV6bUIsTUFBUXltQixHQUFVM3FCLFFBQVksSUFDdEZ5cUIsT0FDQS9lLEtBQUssS0FFbEIsQ0FDQSxPQUFPYyxFQUNGakIsS0FBS3JILEdBQVFpcUIsRUFBV2pxQixLQUN4QmtxQixRQUFRRCxHQUFlQSxJQUN2QnppQixLQUFLLElBQUksRUh3R2hCMmlCLENBQWtCak8sT0FDbEI2TixFQUFjMWlCLEtBQUsySCxHQUFTLEdBQUdBLEtBQVEwWixFQUFpQjFaLE9BQVN4SCxLQUFLLFlBRXRFdWlCLEVBQWN2aUIsS0FBSyxTQUNuQm9pQixHQUNFLENBQ0Esd0JBQU1RLENBQW1CakMsRUFBVWtDLEVBQWlCQyxHQUNoRCxNQUFNcEUsRUFBTyxJQUFJL3BCLEtBQUttckIsT0FDdEJwQixFQUFLM3BCLE9BQU8wbkIsRUFBYXFHLElBQ3pCLE1BQU1DLFFBQXNCckUsRUFBS3ZwQixTQUNqQyxNQUFPLEdBQUcyb0IsT0FDaEI2QyxNQUNBa0MsTUFDQXBLLEVBQU1zSyxJQUNKLENBQ0EsZ0JBQUFQLEVBQWlCLEtBQUVuTyxJQUNmLEdBQUkxZixLQUFLb3JCLGNBQWUsQ0FDcEIsTUFBTWlELEVBQXlCLEdBQy9CLElBQUssTUFBTUMsS0FBZTVPLEVBQUsvTyxNQUFNLEtBQ0wsSUFBeEIyZCxHQUFhbnJCLFFBRUcsTUFBaEJtckIsSUFFZ0IsT0FBaEJBLEVBQ0FELEVBQXVCL25CLE1BR3ZCK25CLEVBQXVCOW5CLEtBQUsrbkIsSUFHcEMsTUFBTUMsRUFBaUIsR0FBRzdPLEdBQU01TSxXQUFXLEtBQU8sSUFBTSxLQUFLdWIsRUFBdUJoakIsS0FBSyxPQUFPZ2pCLEVBQXVCbHJCLE9BQVMsR0FBS3VjLEdBQU10SyxTQUFTLEtBQU8sSUFBTSxLQUVqSyxPQURzQm9WLG1CQUFtQitELEdBQ3BCM2UsUUFBUSxPQUFRLElBQ3pDLENBQ0EsT0FBTzhQLENBQ1gsQ0FDQSxrQkFBTStNLENBQWFULEVBQVVrQyxFQUFpQk0sRUFBWUwsR0FDdEQsTUFBTWQsUUFBcUJydEIsS0FBS2l1QixtQkFBbUJqQyxFQUFVa0MsRUFBaUJDLEdBQ3hFcEUsRUFBTyxJQUFJL3BCLEtBQUttckIsYUFBYXFELEdBRW5DLE9BREF6RSxFQUFLM3BCLE9BQU8wbkIsRUFBYXVGLElBQ2xCdkosUUFBWWlHLEVBQUt2cEIsU0FDNUIsQ0FDQSxhQUFBa3NCLENBQWN4QixFQUFheEIsRUFBUUQsRUFBV0UsR0FDMUMsTU50S3FCMUksT0FBT3dOLEVBQW1CdkQsRUFBYXpCLEVBQVdDLEVBQVFDLEtBQ25GLE1BQ00rRSxFQUFXLEdBQUdqRixLQUFhQyxLQUFVQyxLQUFXN0YsUUFEOUI4RixHQUFLNkUsRUFBbUJ2RCxFQUFZeUQsZ0JBQWlCekQsRUFBWW9CLGlCQUNmcEIsRUFBWW1CLGVBQ3RGLEdBQUlxQyxLQUFZcEYsR0FDWixPQUFPQSxHQUFnQm9GLEdBRzNCLElBREFuRixHQUFXaGpCLEtBQUttb0IsR0FDVG5GLEdBQVdwbUIsT0QyQlEsV0MxQmZtbUIsR0FBZ0JDLEdBQVd4aEIsU0FFdEMsSUFBSWxFLEVBQU0sT0FBT3FuQixFQUFZeUQsa0JBQzdCLElBQUssTUFBTUMsSUFBWSxDQUFDbkYsRUFBV0MsRUFBUUMsRUFBU04sSUFDaER4bEIsUUFBWStsQixHQUFLNkUsRUFBbUI1cUIsRUFBSytxQixHQUU3QyxPQUFRdEYsR0FBZ0JvRixHQUFZN3FCLENBQUksRU13SjdCNm9CLENBQWMxc0IsS0FBS21yQixPQUFRRCxFQUFhekIsRUFBV0MsRUFBUUMsR0FBVzNwQixLQUFLMnBCLFFBQ3RGLENBQ0EsMkJBQUFvQyxDQUE0QmIsR0FDeEIsR0FBMkIsaUJBQWhCQSxHQUM0QixpQkFBNUJBLEVBQVlvQixhQUNvQixpQkFBaENwQixFQUFZeUQsZ0JBQ25CLE1BQU0sSUFBSS9ZLE1BQU0sMENBRXhCLEVBRUosTUFBTXFXLEdBQWM0QyxJQUNoQixNQUFNN0MsR0l2TGM4QyxFSnVMS0QsRUlwTFAsQ0FBQ0MsR0FDQyxpQkFBVEEsRUFDQSxJQUFJM2IsS0FBWSxJQUFQMmIsR0FFQSxpQkFBVEEsRUFDSGpTLE9BQU9pUyxHQUNBLElBQUkzYixLQUFvQixJQUFmMEosT0FBT2lTLElBRXBCLElBQUkzYixLQUFLMmIsR0FFYkEsRUFic0JDLENBQU9ELEdBQ25DRSxjQUNBcGYsUUFBUSxZQUFhLE1KcUxRQSxRQUFRLFNBQVUsSUl2TDdCLElBQUNrZixFSndMcEIsTUFBTyxDQUNIOUMsV0FDQXZDLFVBQVd1QyxFQUFTdk0sTUFBTSxFQUFHLEdBQ2hDLEVBRUMrTSxHQUEwQmpOLEdBQVkvZixPQUFPMk0sS0FBS29ULEdBQVM2SyxPQUFPL2UsS0FBSyxLS3pMaEU0akIsR0FBd0I3bEIsSUFDakMsTUFBTThsQixFQUFrQjlsQixFQUFNOGhCLFlBQ3hCaUUsR0FBNEIvbEIsRUFBTThoQixhQUNsQzloQixFQUFNZ21CLDBCQUEwQmhtQixJQUNoQyxrQkFBRWltQixHQUFvQixFQUFJLGtCQUFFQyxFQUFvQmxtQixFQUFNa21CLG1CQUFxQixFQUFDLE9BQUVuRSxHQUFXL2hCLEVBQy9GLElBQUltbUIsRUFxREosT0FuRElBLEVBREFubUIsRUFBTW1tQixPQUNHLEVBQWtCbm1CLEVBQU1tbUIsUUFFNUJubUIsRUFBTW9tQixtQkFDRixJQUFNLEVBQWtCcG1CLEVBQU1zZ0IsT0FBeEIsR0FDVnBrQixNQUFLMmIsTUFBT3lJLEdBQVcsT0FDakJ0Z0IsRUFBTW9tQixtQkFBbUI5RixFQUFRLENBQ3BDK0Ysc0JBQXVCcm1CLEVBQU1xbUIsa0JBQzdCQywyQkFBNEJ0bUIsRUFBTXNtQiwwQkFDL0IsQ0FBQyxFQUNSaEcsS0FFQ3BrQixNQUFLLEVBQUVxcUIsRUFBWWpHLE1BQ3BCLE1BQU0sY0FBRW1DLEVBQWEsZUFBRUMsR0FBbUI2RCxFQUMxQ3ZtQixFQUFNeWlCLGNBQWdCemlCLEVBQU15aUIsZUFBaUJBLEdBQWlCbkMsRUFDOUR0Z0IsRUFBTXdtQixZQUFjeG1CLEVBQU13bUIsYUFBZTlELEdBQWtCMWlCLEVBQU15bUIsVUFDakUsTUFBTUMsRUFBUyxJQUNSMW1CLEVBQ0g4aEIsWUFBYWdFLEVBQ2J4RixPQUFRdGdCLEVBQU15aUIsY0FDZGxDLFFBQVN2Z0IsRUFBTXdtQixZQUNmekUsU0FDQUMsY0FBZWlFLEdBR25CLE9BQU8sSUFEWWptQixFQUFNMm1CLG1CQUFxQixJQUN4QkQsRUFBTyxJQUl4QjdPLE1BQU8rTyxJQU9aLE1BQU1uRSxHQU5ObUUsRUFBYXh3QixPQUFPcUQsT0FBTyxDQUFDLEVBQUcsQ0FDM0JnUSxLQUFNLFFBQ04rYyxZQUFheG1CLEVBQU13bUIsYUFBZXhtQixFQUFNNm1CLG1CQUN4Q3BFLG9CQUFxQixFQUFrQnppQixFQUFNc2dCLE9BQXhCLEdBQ3JCd0csV0FBWSxDQUFDLEdBQ2RGLElBQzhCbkUsY0FDM0JDLEVBQWlCa0UsRUFBV0osWUFDbEN4bUIsRUFBTXlpQixjQUFnQnppQixFQUFNeWlCLGVBQWlCQSxFQUM3Q3ppQixFQUFNd21CLFlBQWN4bUIsRUFBTXdtQixhQUFlOUQsR0FBa0IxaUIsRUFBTXltQixVQUNqRSxNQUFNQyxFQUFTLElBQ1IxbUIsRUFDSDhoQixZQUFhZ0UsRUFDYnhGLE9BQVF0Z0IsRUFBTXlpQixjQUNkbEMsUUFBU3ZnQixFQUFNd21CLFlBQ2Z6RSxTQUNBQyxjQUFlaUUsR0FHbkIsT0FBTyxJQURZam1CLEVBQU0ybUIsbUJBQXFCLElBQ3hCRCxFQUFPLEVBRzlCLElBQ0ExbUIsRUFDSGttQixvQkFDQUQsb0JBQ0FuRSxZQUFhZ0UsRUFDYkssU0FDSCxFQTRCQ0osR0FBK0JqRSxHQUNOLG1CQUFoQkEsRUFDQWxJLEVBQVFrSSxHQUFjQSxRQUEyQ3JrQixJQUEzQnFrQixFQUFZaUYsWUFDckRqRixFQUFZaUYsV0FBV0MsVUFBWWpkLEtBQUswYixNQWhHbkIsTUFnR3NEM0QsUUFBMkNya0IsSUFBM0Jxa0IsRUFBWWlGLGFBRXhHLEVBQWtCakYsR0NyR2hCbUYsR0FBd0JmLEdBQXNCLElBQUluYyxLQUFLQSxLQUFLMGIsTUFBUVMsR0NDcEVnQixHQUE4QixDQUFDQyxFQUFXQyxLQUNuRCxNQUFNQyxFQUFnQnRkLEtBQUt1SSxNQUFNNlUsR0FDakMsTUNGeUIsRUFBQ0EsRUFBV2pCLElBQXNCbEwsS0FBS0MsSUFBSWdNLEdBQXFCZixHQUFtQmMsVUFBWUcsSUFBYyxJREVsSUcsQ0FBY0QsRUFBZUQsR0FDdEJDLEVBQWdCdGQsS0FBSzBiLE1BRXpCMkIsQ0FBd0IsRUVtQzdCRyxHQUFpQmxRLEdBQWEsRUFBYVgsV0FBV1csR0FBWUEsRUFBU2xCLFNBQVNxUixNQUFRblEsRUFBU2xCLFNBQVNwTSxVQUFPdE0sRUFDOUdncUIsR0FBMkIsQ0FDcENoZSxLQUFNLG9CQUNOMUUsS0FBTSxDQUFDLFlBQWEsV0FDcEIyaUIsU0FBVSxRQUNWQyxhQUFjLGtCQUNkbFEsVUFBVSxHQUVEbVEsR0FBb0I5aUIsSUFBWSxDQUN6QzZTLGFBQWVDLElBQ1hBLEVBQVlpUSxjQWhEYSxDQUFDL2lCLEdBQVksQ0FBQzlNLEVBQU1xZ0IsSUFBWVIsZUFBZ0JDLEdBQzdFLElBQUssRUFBWXBCLFdBQVdvQixFQUFLbkIsU0FDN0IsT0FBTzNlLEVBQUs4ZixHQUNoQixNQUFNOE8sRUFBYXZPLEVBQVF5UCxZQUFZaEIsWUFBWWlCLGNBQWMsR0FDM0RDLEVBQTJDLFdBQXJCcEIsR0FBWW5kLEtBQW9CbWQsR0FBWXFCLGtCQUFrQmhtQixLQUFLLFVBQU94RSxFQUNoRzBvQixRQUFlcmhCLEVBQVFxaEIsT0FBT1MsR0FDcEMsSUFBSXNCLEVBQ0osTUFBTUMsRUFBaUIsQ0FDbkI3RixZQUFhMkUsR0FBcUJuaUIsRUFBUW9oQixtQkFDMUN6RCxjQUFldUYsR0FBdUIzUCxFQUF3QixlQUM5RHFLLGVBQWdCckssRUFBeUIsaUJBRTdDLEdBQUlBLEVBQVErUCxrQkFBbUIsQ0FDM0IsTUFBTUMsRUFBbUJsQyxFQUV6QixHQURBK0IsUUFBc0JHLEVBQWlCQyxvQkFBb0J4USxFQUFLbkIsUUFBUzBCLEVBQVErUCxrQkFBbUJELEdBQ2hHRCxFQUFjL1IsUUFBUSx5QkFBMkIrUixFQUFjL1IsUUFBUSx3QkFDdkUsTUFBTSxJQUFJM0osTUFBTSxnRUFFeEIsTUFFSTBiLFFBQXNCL0IsRUFBT2pTLEtBQUs0RCxFQUFLbkIsUUFBU3dSLEdBRXBELE1BQU1uUCxRQUFlaGhCLEVBQUssSUFDbkI4ZixFQUNIbkIsUUFBU3VSLElBQ1ZLLE9BQU9sd0IsSUFDTixNQUFNbXdCLEVBQWFud0IsRUFBTW93QixZQUFjbEIsR0FBY2x2QixFQUFNcXdCLFdBSTNELE1BSElGLElBQ0ExakIsRUFBUW9oQixrQkFBb0JnQixHQUE0QnNCLEVBQVkxakIsRUFBUW9oQixvQkFFMUU3dEIsQ0FBSyxJQUVUc3dCLEVBQWFwQixHQUFjdk8sRUFBTzNCLFVBSXhDLE9BSElzUixJQUNBN2pCLEVBQVFvaEIsa0JBQW9CZ0IsR0FBNEJ5QixFQUFZN2pCLEVBQVFvaEIsb0JBRXpFbE4sQ0FDWCxFQVdrQzRQLENBQWtCOWpCLEdBQVUyaUIsR0FBeUIsSUNuRGhGLFNBQVNvQixHQUF1QjdvQixHQUNuQyxNQUFPLElBQ0FBLEVBQ0g4b0IsZ0JBQWtELGlCQUExQjlvQixFQUFNOG9CLGdCQUErQixDQUFDLENBQUM5b0IsRUFBTThvQixrQkFBb0I5b0IsRUFBTThvQixnQkFFdkcsQ0NMQSxNQUFNQyxHQUFjLElBQUlwbUIsT0FBTyxvR0FDbEJxbUIsR0FBZXp5QixHQUFVd3lCLEdBQVk5VSxLQUFLMWQsSUFBV0EsRUFBTW1ULFdBQVcsTUFBUW5ULEVBQU15VixTQUFTLEtDRHBHaWQsR0FBeUIsSUFBSXRtQixPQUFPLHFDQUM3QnVtQixHQUFtQixDQUFDM3lCLEVBQU80eUIsR0FBa0IsS0FDdEQsSUFBS0EsRUFDRCxPQUFPRixHQUF1QmhWLEtBQUsxZCxHQUV2QyxNQUFNNnlCLEVBQVM3eUIsRUFBTWdSLE1BQU0sS0FDM0IsSUFBSyxNQUFNL0ssS0FBUzRzQixFQUNoQixJQUFLRixHQUFpQjFzQixHQUNsQixPQUFPLEVBR2YsT0FBTyxDQUFJLEVDWEY2c0IsR0FBMEIsQ0FBQyxFQ0EzQkMsR0FBVSxZQ0FoQixTQUFTQyxHQUFjdnBCLEdBQzFCLE1BQXFCLGlCQUFWQSxHQUErQixNQUFUQSxFQUN0QkEsRUFFUCxRQUFTQSxFQUNGLElBQUl1cEIsR0FBY3ZwQixFQUFNd3BCLE9BRS9CLE9BQVF4cEIsRUFDRCxHQUFHQSxFQUFNeXBCLE9BQU96cEIsRUFBTTBwQixNQUFRLElBQUk1bkIsSUFBSXluQixJQUFldG5CLEtBQUssU0FFOURxRSxLQUFLQyxVQUFVdkcsRUFBTyxLQUFNLEVBQ3ZDLENDWE8sTUFBTTJwQixXQUFzQm5kLE1BQy9CLFdBQUFsVCxDQUFZOE4sR0FDUndpQixNQUFNeGlCLEdBQ054USxLQUFLNlMsS0FBTyxlQUNoQixFQ0pHLE1DRU1vZ0IsR0FBVSxDQUFDdHpCLEVBQU8rZixJQ0RBLENBQUNBLElBQzVCLE1BQU13VCxFQUFReFQsRUFBSy9PLE1BQU0sS0FDbkJ3aUIsRUFBVyxHQUNqQixJQUFLLE1BQU1DLEtBQVFGLEVBQU8sQ0FDdEIsTUFBTUcsRUFBcUJELEVBQUs3dkIsUUFBUSxLQUN4QyxJQUE0QixJQUF4Qjh2QixFQUEyQixDQUMzQixHQUFJRCxFQUFLN3ZCLFFBQVEsT0FBUzZ2QixFQUFLandCLE9BQVMsRUFDcEMsTUFBTSxJQUFJNHZCLEdBQWMsVUFBVXJULDRCQUV0QyxNQUFNNFQsRUFBYUYsRUFBSzNULE1BQU00VCxFQUFxQixHQUFJLEdBQ3ZELEdBQUl4VyxPQUFPMFcsTUFBTXpXLFNBQVN3VyxJQUN0QixNQUFNLElBQUlQLEdBQWMseUJBQXlCTyxnQkFBeUI1VCxNQUVuRCxJQUF2QjJULEdBQ0FGLEVBQVM1c0IsS0FBSzZzQixFQUFLM1QsTUFBTSxFQUFHNFQsSUFFaENGLEVBQVM1c0IsS0FBSytzQixFQUNsQixNQUVJSCxFQUFTNXNCLEtBQUs2c0IsRUFFdEIsQ0FDQSxPQUFPRCxDQUFRLEVEckJxQkssQ0FBZ0I5VCxHQUFNUyxRQUFPLENBQUNzVCxFQUFLeG1CLEtBQ3ZFLEdBQW1CLGlCQUFSd21CLEVBQ1AsTUFBTSxJQUFJVixHQUFjLFVBQVU5bEIsVUFBY3lTLG9CQUF1QmhRLEtBQUtDLFVBQVVoUSxPQUVyRixPQUFJMEMsTUFBTTRRLFFBQVF3Z0IsR0FDWkEsRUFBSTNXLFNBQVM3UCxJQUVqQndtQixFQUFJeG1CLEVBQU0sR0FDbEJ0TixHRVJHK3pCLEdBQWdCLENBQ2xCLENBQUM3VSxFQUFrQjhVLE1BQU8sR0FDMUIsQ0FBQzlVLEVBQWtCK1UsT0FBUSxLQ0hsQkMsR0FBb0IsQ0FDN0JDLGNKRnlCLENBQUNDLEVBQVFDLElBQVdELElBQVdDLEVJR3hEZixRQUFPLEdBQ1BnQixNQ0prQnQwQixHQUFtQixNQUFUQSxFREs1QjJ5QixpQkFBZ0IsR0FDaEI0QixJRU5nQnYwQixJQUFXQSxFRk8zQncwQixTRERxQngwQixJQUNyQixNQUFNeTBCLEVBQVksTUFDZCxJQUNJLEdBQUl6MEIsYUFBaUIwMEIsSUFDakIsT0FBTzEwQixFQUVYLEdBQXFCLGlCQUFWQSxHQUFzQixhQUFjQSxFQUFPLENBQ2xELE1BQU0sU0FBRXlmLEVBQVEsS0FBRUMsRUFBSSxTQUFFRyxFQUFXLEdBQUUsS0FBRUUsRUFBTyxHQUFFLE1BQUVKLEVBQVEsQ0FBQyxHQUFNM2YsRUFDM0QyMEIsRUFBTSxJQUFJRCxJQUFJLEdBQUc3VSxNQUFhSixJQUFXQyxFQUFPLElBQUlBLElBQVMsS0FBS0ssS0FJeEUsT0FIQTRVLEVBQUlqWixPQUFTN2IsT0FBTyswQixRQUFRalYsR0FDdkJwVSxLQUFJLEVBQUV2RSxFQUFHUixLQUFPLEdBQUdRLEtBQUtSLE1BQ3hCa0YsS0FBSyxLQUNIaXBCLENBQ1gsQ0FDQSxPQUFPLElBQUlELElBQUkxMEIsRUFDbkIsQ0FDQSxNQUFPOEIsR0FDSCxPQUFPLElBQ1gsQ0FDSCxFQWxCaUIsR0FtQmxCLElBQUsyeUIsRUFFRCxPQURBSSxRQUFRL3lCLE1BQU0sbUJBQW1CaU8sS0FBS0MsVUFBVWhRLHVCQUN6QyxLQUVYLE1BQU04MEIsRUFBWUwsRUFBVU0sTUFDdEIsS0FBRXJULEVBQUksU0FBRWpDLEVBQVEsU0FBRXVWLEVBQVEsU0FBRW5WLEVBQVEsT0FBRW5FLEdBQVcrWSxFQUN2RCxHQUFJL1ksRUFDQSxPQUFPLEtBRVgsTUFBTXVaLEVBQVNwVixFQUFTQyxNQUFNLEdBQUksR0FDbEMsSUFBS2pnQixPQUFPcTFCLE9BQU9oVyxHQUFtQnhKLFNBQVN1ZixHQUMzQyxPQUFPLEtBRVgsTUFBTUUsRUFBTzFDLEdBQVloVCxHQUl6QixNQUFPLENBQ0h3VixTQUNBRyxVQUhjLEdBQUcxVCxJQUZZb1QsRUFBVXBmLFNBQVMsR0FBR2dNLEtBQVFxUyxHQUFja0IsT0FDdkQsaUJBQVZqMUIsR0FBc0JBLEVBQU0wVixTQUFTLEdBQUdnTSxLQUFRcVMsR0FBY2tCLE1BQ25CLElBQUlsQixHQUFja0IsS0FBWSxLQUlqRmxWLEtBQU1pVixFQUNOcEcsZUFBZ0JvRyxFQUFTdmYsU0FBUyxLQUFPdWYsRUFBVyxHQUFHQSxLQUN2REcsT0FDSCxFQ3pDREUsYUdSd0IsQ0FBQ2pCLEVBQVFDLElBQVdELElBQVdDLEVIU3ZEcmxCLFVJVHFCLENBQUN2RixFQUFPc0UsRUFBT3VuQixFQUFNQyxJQUN0Q3huQixHQUFTdW5CLEdBQVE3ckIsRUFBTWpHLE9BQVM4eEIsRUFDekIsS0FFTkMsRUFHRTlyQixFQUFNdUYsVUFBVXZGLEVBQU1qRyxPQUFTOHhCLEVBQU03ckIsRUFBTWpHLE9BQVN1SyxHQUZoRHRFLEVBQU11RixVQUFVakIsRUFBT3VuQixHSktsQ0UsVUtWc0J4MUIsR0FBVTZxQixtQkFBbUI3cUIsR0FBT2lRLFFBQVEsWUFBYTdMLEdBQU0sSUFBSUEsRUFBRTBHLFdBQVcsR0FBR1csU0FBUyxJQUFJc2YsbUJDQzdHMEssR0FBbUIsQ0FBQ0MsRUFBVW5uQixLQUN2QyxNQUFNb25CLEVBQXVCLEdBQ3ZCQyxFQUFrQixJQUNqQnJuQixFQUFRc25CLGtCQUNSdG5CLEVBQVF1bkIsaUJBRWYsSUFBSUMsRUFBZSxFQUNuQixLQUFPQSxFQUFlTCxFQUFTbHlCLFFBQVEsQ0FDbkMsTUFBTXd5QixFQUFvQk4sRUFBUzl4QixRQUFRLElBQUtteUIsR0FDaEQsSUFBMkIsSUFBdkJDLEVBQTBCLENBQzFCTCxFQUFxQi91QixLQUFLOHVCLEVBQVM1VixNQUFNaVcsSUFDekMsS0FDSixDQUNBSixFQUFxQi91QixLQUFLOHVCLEVBQVM1VixNQUFNaVcsRUFBY0MsSUFDdkQsTUFBTUMsRUFBb0JQLEVBQVM5eEIsUUFBUSxJQUFLb3lCLEdBQ2hELElBQTJCLElBQXZCQyxFQUEwQixDQUMxQk4sRUFBcUIvdUIsS0FBSzh1QixFQUFTNVYsTUFBTWtXLElBQ3pDLEtBQ0osQ0FDd0MsTUFBcENOLEVBQVNNLEVBQW9CLElBQWtELE1BQXBDTixFQUFTTyxFQUFvQixLQUN4RU4sRUFBcUIvdUIsS0FBSzh1QixFQUFTNVYsTUFBTWtXLEVBQW9CLEVBQUdDLElBQ2hFRixFQUFlRSxFQUFvQixHQUV2QyxNQUFNQyxFQUFnQlIsRUFBUzFtQixVQUFVZ25CLEVBQW9CLEVBQUdDLEdBQ2hFLEdBQUlDLEVBQWN4Z0IsU0FBUyxLQUFNLENBQzdCLE1BQU95Z0IsRUFBUzNsQixHQUFZMGxCLEVBQWNsbEIsTUFBTSxLQUNoRDJrQixFQUFxQi91QixLQUFLMHNCLEdBQVFzQyxFQUFnQk8sR0FBVTNsQixHQUNoRSxNQUVJbWxCLEVBQXFCL3VCLEtBQUtndkIsRUFBZ0JNLElBRTlDSCxFQUFlRSxFQUFvQixDQUN2QyxDQUNBLE9BQU9OLEVBQXFCanFCLEtBQUssR0FBRyxFQzlCM0IwcUIsR0FBcUIsQ0FBQzdwQixFQUFLOHBCLEVBQVM5bkIsS0FDN0MsR0FBbUIsaUJBQVJoQyxFQUNQLE9BQU9rcEIsR0FBaUJscEIsRUFBS2dDLEdBRTVCLEdBQUloQyxFQUFRLEdBQ2IsT0FBTytwQixHQUFhL3BCLEVBQUtnQyxHQUV4QixHQUFJaEMsRUFBUyxJQUNkLE1DWnlCLEdBQUcwbUIsT0FBTzFrQixLQUNmLElBQ2pCQSxFQUFRc25CLGtCQUNSdG5CLEVBQVF1bkIsaUJBRVE3QyxJRE9ac0QsQ0FBa0JocUIsRUFBS2dDLEdBRWxDLE1BQU0sSUFBSTZrQixHQUFjLElBQUlpRCxPQUFhbHJCLE9BQU9vQiw2Q0FBK0MsRUVYdEYrcEIsR0FBZSxFQUFHcEQsS0FBSUMsUUFBUTVrQixLQUN2QyxNQUFNaW9CLEVBQWdCckQsRUFBSzVuQixLQUFLc2MsR0FBUSxDQUFDLFVBQVcsVUFBVW5TLGdCQUFnQm1TLEdBQU9BLEVBQU11TyxHQUFtQnZPLEVBQUssTUFBT3RaLEtBQ3BIa29CLEVBQWF2RCxFQUFHbGlCLE1BQU0sS0FDNUIsT0FBSXlsQixFQUFXLEtBQU0zRCxJQUE0QyxNQUFqQjJELEVBQVcsR0FDaEQzRCxHQUF3QjJELEVBQVcsSUFBSUEsRUFBVyxPQUFPRCxHQUU3RHRDLEdBQWtCaEIsTUFBT3NELEVBQWMsRUNOckNFLEdBQW9CLEVBQUd4ekIsWUFBV3l6QixHQUFVcG9CLEtBQ3JELEdBQUlyTCxHQUFVQSxLQUFVcUwsRUFBUXVuQixnQkFDNUIsTUFBTSxJQUFJMUMsR0FBYyxJQUFJbHdCLDhDQUVoQyxNQUFNbEQsRUFBUXMyQixHQUFhSyxFQUFRcG9CLEdBRW5DLE9BREFBLEVBQVEwVCxRQUFRMlUsUUFBUTdELEdBQVMsc0JBQXNCQyxHQUFjMkQsUUFBYTNELEdBQWNoekIsTUFDekYsQ0FDSDBGLE9BQWtCLEtBQVYxRixLQUF3QkEsS0FDbEIsTUFBVmtELEdBQWtCLENBQUUyekIsU0FBVSxDQUFFM2pCLEtBQU1oUSxFQUFRbEQsVUFDckQsRUNWUTgyQixHQUFxQixDQUFDQyxFQUFhLEdBQUl4b0IsS0FDaEQsTUFBTXlvQixFQUE0QixDQUFDLEVBQ25DLElBQUssTUFBTUMsS0FBYUYsRUFBWSxDQUNoQyxNQUFNLE9BQUVyeEIsRUFBTSxTQUFFbXhCLEdBQWFILEdBQWtCTyxFQUFXLElBQ25EMW9CLEVBQ0h1bkIsZ0JBQWlCLElBQ1Z2bkIsRUFBUXVuQixtQkFDUmtCLEtBR1gsSUFBS3R4QixFQUNELE1BQU8sQ0FBRUEsVUFFVG14QixJQUNBRyxFQUEwQkgsRUFBUzNqQixNQUFRMmpCLEVBQVM3MkIsTUFDcER1TyxFQUFRMFQsUUFBUTJVLFFBQVE3RCxHQUFTLFdBQVc4RCxFQUFTM2pCLFdBQVc4ZixHQUFjNkQsRUFBUzcyQixVQUUvRixDQUNBLE1BQU8sQ0FBRTBGLFFBQVEsRUFBTW93QixnQkFBaUJrQixFQUEyQixFQ2xCMURFLEdBQXFCLENBQUN0WCxFQUFTclIsSUFBWTFPLE9BQU8rMEIsUUFBUWhWLEdBQVNZLFFBQU8sQ0FBQ3NULEdBQU1xRCxFQUFXQyxNQUFlLElBQ2pIdEQsRUFDSCxDQUFDcUQsR0FBWUMsRUFBVTdyQixLQUFLOHJCLElBQ3hCLE1BQU1DLEVBQWdCbEIsR0FBbUJpQixFQUFnQixxQkFBc0I5b0IsR0FDL0UsR0FBNkIsaUJBQWxCK29CLEVBQ1AsTUFBTSxJQUFJbEUsR0FBYyxXQUFXK0QsYUFBcUJHLHNCQUU1RCxPQUFPQSxDQUFhLE9BRXhCLENBQUMsR0NSUUMsR0FBc0IsQ0FBQ2hiLEVBQVVoTyxLQUMxQyxHQUFJN0wsTUFBTTRRLFFBQVFpSixHQUNkLE9BQU9BLEVBQVNoUixLQUFLaXNCLEdBQWtCRCxHQUFvQkMsRUFBZWpwQixLQUU5RSxjQUFlZ08sR0FDWCxJQUFLLFNBQ0QsT0FBT2taLEdBQWlCbFosRUFBVWhPLEdBQ3RDLElBQUssU0FDRCxHQUFpQixPQUFiZ08sRUFDQSxNQUFNLElBQUk2VyxHQUFjLGlDQUFpQzdXLEtBRTdELE9BQU9rYixHQUFzQmxiLEVBQVVoTyxHQUMzQyxJQUFLLFVBQ0QsT0FBT2dPLEVBQ1gsUUFDSSxNQUFNLElBQUk2VyxHQUFjLDZDQUE2QzdXLEdBQzdFLEVDbEJTa2IsR0FBd0IsQ0FBQ2xILEVBQVloaUIsSUFBWTFPLE9BQU8rMEIsUUFBUXJFLEdBQVkvUCxRQUFPLENBQUNzVCxHQUFNNEQsRUFBYUMsTUFBaUIsSUFDOUg3RCxFQUNILENBQUM0RCxHQUFjSCxHQUFvQkksRUFBYXBwQixNQUNoRCxDQUFDLEdDRlFxcEIsR0FBaUIsQ0FBQ0MsRUFBYXRwQixLQUN4QyxNQUFNdXBCLEVBQWExQixHQUFtQnlCLEVBQWEsZUFBZ0J0cEIsR0FDbkUsR0FBMEIsaUJBQWZ1cEIsRUFDUCxJQUNJLE9BQU8sSUFBSXBELElBQUlvRCxFQUNuQixDQUNBLE1BQU9oMkIsR0FFSCxNQURBK3lCLFFBQVEveUIsTUFBTSxnQ0FBZ0NnMkIsSUFBY2gyQixHQUN0REEsQ0FDVixDQUVKLE1BQU0sSUFBSXN4QixHQUFjLDZDQUE2QzBFLEVBQWEsRUNSekVDLEdBQXVCLENBQUNDLEVBQWN6cEIsS0FDL0MsTUFBTSxXQUFFd29CLEVBQVUsU0FBRWtCLEdBQWFELEdBQzNCLE9BQUV0eUIsRUFBTSxnQkFBRW93QixHQUFvQmdCLEdBQW1CQyxFQUFZeG9CLEdBQ25FLElBQUs3SSxFQUNELE9BRUosTUFBTXd5QixFQUFzQixJQUNyQjNwQixFQUNIdW5CLGdCQUFpQixJQUFLdm5CLEVBQVF1bkIsbUJBQW9CQSxLQUVoRCxJQUFFbkIsRUFBRyxXQUFFcEUsRUFBVSxRQUFFM1EsR0FBWXFZLEVBRXJDLE9BREExcEIsRUFBUTBULFFBQVEyVSxRQUFRN0QsR0FBUyxxQ0FBcUNDLEdBQWNpRixNQUM3RSxJQUNZL3dCLE1BQVgwWSxHQUF3QixDQUN4QkEsUUFBU3NYLEdBQW1CdFgsRUFBU3NZLE9BRXZCaHhCLE1BQWRxcEIsR0FBMkIsQ0FDM0JBLFdBQVlrSCxHQUFzQmxILEVBQVkySCxJQUVsRHZELElBQUtpRCxHQUFlakQsRUFBS3VELEdBQzVCLEVDdEJRQyxHQUFvQixDQUFDQyxFQUFXN3BCLEtBQ3pDLE1BQU0sV0FBRXdvQixFQUFVLE1BQUVqMUIsR0FBVXMyQixHQUN4QixPQUFFMXlCLEVBQU0sZ0JBQUVvd0IsR0FBb0JnQixHQUFtQkMsRUFBWXhvQixHQUNuRSxHQUFLN0ksRUFHTCxNQUFNLElBQUkwdEIsR0FBY2dELEdBQW1CdDBCLEVBQU8sUUFBUyxJQUNwRHlNLEVBQ0h1bkIsZ0JBQWlCLElBQUt2bkIsRUFBUXVuQixtQkFBb0JBLEtBQ25ELEVDVk11QyxHQUFtQixDQUFDQyxFQUFVL3BCLEtBQ3ZDLE1BQU0sV0FBRXdvQixFQUFVLE1BQUV3QixHQUFVRCxHQUN4QixPQUFFNXlCLEVBQU0sZ0JBQUVvd0IsR0FBb0JnQixHQUFtQkMsRUFBWXhvQixHQUNuRSxHQUFLN0ksRUFHTCxPQUFPOHlCLEdBQWNELEVBQU8sSUFDckJocUIsRUFDSHVuQixnQkFBaUIsSUFBS3ZuQixFQUFRdW5CLG1CQUFvQkEsSUFDcEQsRUNQTzBDLEdBQWdCLENBQUNELEVBQU9ocUIsS0FDakMsSUFBSyxNQUFNa3FCLEtBQVFGLEVBQ2YsR0FBa0IsYUFBZEUsRUFBS25ULEtBQXFCLENBQzFCLE1BQU1vVCxFQUFzQlgsR0FBcUJVLEVBQU1scUIsR0FDdkQsR0FBSW1xQixFQUNBLE9BQU9BLENBRWYsTUFDSyxHQUFrQixVQUFkRCxFQUFLblQsS0FDVjZTLEdBQWtCTSxFQUFNbHFCLE9BRXZCLElBQWtCLFNBQWRrcUIsRUFBS25ULEtBT1YsTUFBTSxJQUFJOE4sR0FBYywwQkFBMEJxRixLQVB2QixDQUMzQixNQUFNQyxFQUFzQkwsR0FBaUJJLEVBQU1scUIsR0FDbkQsR0FBSW1xQixFQUNBLE9BQU9BLENBRWYsQ0FHQSxDQUVKLE1BQU0sSUFBSXRGLEdBQWMsMEJBQTBCLEVDdEJ6Q3VGLEdBQWtCLENBQUNDLEVBQWVycUIsS0FDM0MsTUFBTSxlQUFFc25CLEVBQWMsT0FBRTVULEdBQVcxVCxHQUM3QixXQUFFc3FCLEVBQVUsTUFBRU4sR0FBVUssRUFDOUJycUIsRUFBUTBULFFBQVEyVSxRQUFRLEdBQUc3RCw4QkFBbUNDLEdBQWM2QyxNQUM1RSxNQUFNaUQsRUFBb0JqNUIsT0FBTyswQixRQUFRaUUsR0FDcEN6SyxRQUFPLEVBQUUsQ0FBRTVuQixLQUFvQixNQUFiQSxFQUFFcUMsVUFDcEIwQyxLQUFJLEVBQUV2RSxFQUFHUixLQUFPLENBQUNRLEVBQUdSLEVBQUVxQyxXQUMzQixHQUFJaXdCLEVBQWtCdDFCLE9BQVMsRUFDM0IsSUFBSyxNQUFPdTFCLEVBQVVDLEtBQXNCRixFQUN4Q2pELEVBQWVrRCxHQUFZbEQsRUFBZWtELElBQWFDLEVBRy9ELE1BQU1DLEVBQWlCcDVCLE9BQU8rMEIsUUFBUWlFLEdBQ2pDekssUUFBTyxFQUFFLENBQUU1bkIsS0FBT0EsRUFBRTB5QixXQUNwQjN0QixLQUFJLEVBQUV2RSxLQUFPQSxJQUNsQixJQUFLLE1BQU1teUIsS0FBaUJGLEVBQ3hCLEdBQXFDLE1BQWpDcEQsRUFBZXNELEdBQ2YsTUFBTSxJQUFJL0YsR0FBYyxnQ0FBZ0MrRixNQUdoRSxNQUFNbEIsRUFBV08sR0FBY0QsRUFBTyxDQUFFMUMsaUJBQWdCNVQsU0FBUTZULGdCQUFpQixDQUFDLElBQ2xGLEdBQUl2bkIsRUFBUXNuQixnQkFBZ0J1RCxTQUN4QixJQUNJLE1BQU1DLEVBQWdCLElBQUkzRSxJQUFJbm1CLEVBQVFzbkIsZUFBZXVELFdBQy9DLFNBQUV2WixFQUFRLEtBQUVILEdBQVMyWixFQUMzQnBCLEVBQVN0RCxJQUFJOVUsU0FBV0EsRUFDeEJvWSxFQUFTdEQsSUFBSWpWLEtBQU9BLENBQ3hCLENBQ0EsTUFBTy9iLEdBQ1AsQ0FHSixPQURBNEssRUFBUTBULFFBQVEyVSxRQUFRLEdBQUc3RCx5QkFBOEJDLEdBQWNpRixNQUNoRUEsQ0FBUSxFQ2pDTnFCLEdBQTRCLENBQUN0NUIsRUFBTzR5QixHQUFrQixLQUMvRCxHQUFJQSxFQUFpQixDQUNqQixJQUFLLE1BQU0zc0IsS0FBU2pHLEVBQU1nUixNQUFNLEtBQzVCLElBQUtzb0IsR0FBMEJyekIsR0FDM0IsT0FBTyxFQUdmLE9BQU8sQ0FDWCxDQUNBLFNBQUswc0IsR0FBaUIzeUIsSUFHbEJBLEVBQU13RCxPQUFTLEdBQUt4RCxFQUFNd0QsT0FBUyxJQUduQ3hELElBQVVBLEVBQU1ra0IsZUFHaEJ1TyxHQUFZenlCLEdBR0wsRUN0QmYsSUFBSXU1Qiw4NkhBRUcsTUNDREMsR0FBdUIsQ0FDekJGLDBCQUEyQkEsR0FDM0JHLFNDTnFCejVCLElBQ3JCLE1BQU0wNUIsRUFBVzE1QixFQUFNZ1IsTUFBTSxLQUM3QixHQUFJMG9CLEVBQVNsMkIsT0FBUyxFQUNsQixPQUFPLEtBQ1gsTUFBT20yQixFQUFLQyxFQUFXNVAsRUFBU0QsRUFBUThQLEtBQWNDLEdBQWNKLEVBQ3BFLE1BQVksUUFBUkMsR0FBK0IsS0FBZEMsR0FBZ0MsS0FBWjVQLEdBQW9DLEtBQWxCOFAsRUFBVyxHQUMzRCxLQUNKLENBQ0hGLFlBQ0E1UCxVQUNBRCxTQUNBOFAsWUFDQUMsV0FBWUEsRUFBVyxHQUFHcGtCLFNBQVMsS0FBT29rQixFQUFXLEdBQUc5b0IsTUFBTSxLQUFPOG9CLEVBQ3hFLEVETkRGLFVESnNCNTVCLElBQ3RCLE1BQU0sV0FBRSs1QixHQUFlUixHQUN2QixJQUFLLE1BQU1LLEtBQWFHLEVBQVksQ0FDaEMsTUFBTSxRQUFFQyxFQUFPLFFBQUVDLEdBQVlMLEVBQzdCLElBQUssTUFBTzdQLEVBQVFtUSxLQUFlcjZCLE9BQU8rMEIsUUFBUW9GLEdBQzlDLEdBQUlqUSxJQUFXL3BCLEVBQ1gsTUFBTyxJQUNBaTZCLEtBQ0FDLEVBSW5CLENBQ0EsSUFBSyxNQUFNTixLQUFhRyxFQUFZLENBQ2hDLE1BQU0sWUFBRUksRUFBVyxRQUFFRixHQUFZTCxFQUNqQyxHQUFJLElBQUl4dEIsT0FBTyt0QixHQUFhemMsS0FBSzFkLEdBQzdCLE1BQU8sSUFDQWk2QixFQUdmLENBQ0EsTUFBTUcsRUFBb0JMLEVBQVdNLE1BQU1ULEdBQStCLFFBQWpCQSxFQUFVVSxLQUNuRSxJQUFLRixFQUNELE1BQU0sSUFBSW5rQixNQUFNLHFIQUdwQixNQUFPLElBQ0Fta0IsRUFBa0JILFFBQ3hCLEdDdEJMbkgsR0FBd0J5SCxJQUFNZixHRVR2QixNQUFNZ0IsR0FBYSxhQUNiQyxHQUFtQixtQkFHbkJDLEdBQXVCLHVDQUN2QkMsR0FBd0IseUNDOEIvQkMsR0FBbUJDLElBQ3JCLE1BQU0zbkIsRUFBTzJuQixFQUFjLEdBQ3RCN3BCLE1EbEN3QixLQ21DeEJ6RixLQUFLa29CLEdBQVNBLEVBQUt4akIsUUFBUXlxQixHRGhDTixPQ2lDckJodkIsS0RwQ3dCLEtDcUN2Qm92QixFQUFVRCxFQUFjLElBQUk1cUIsUUFBUTBxQixHRGxDaEIsS0NtQ3BCSSxFQUF1QjduQixFQUFLdFAsUUR0Q0wsS0N1Q3ZCZ1YsRUFBUzFGLEVBQUtsRSxVQUFVLEVBQUcrckIsR0FDakMsSUFBSUMsRUFBUzluQixFQUFLbEUsVUFBVStyQixFQUF1QixHQUluRCxNQUhlLFFBQVhuaUIsSUFDQW9pQixFQUFTQSxFQUFPOVcsZUFFYixDQUFDdEwsRUFBUW9pQixFQUFRRixHQUNuQjFNLFFBQVFyYSxHQUFTQSxHQUFRQSxFQUFLdlEsT0FBUyxJQUN2Q2dkLFFBQU8sQ0FBQ3NULEVBQUsvZixFQUFNekcsS0FDcEIsT0FBUUEsR0FDSixLQUFLLEVBQ0QsT0FBT3lHLEVBQ1gsS0FBSyxFQUNELE1BQU8sR0FBRytmLEtBQU8vZixJQUNyQixRQUNJLE1BQU8sR0FBRytmLEtBQU8vZixJQUN6QixHQUNELEdBQUcsRUFFR2tuQixHQUFnQyxDQUN6Qy9uQixLQUFNLHlCQUNOMU4sS0FBTSxRQUNOeWIsU0FBVSxNQUNWelMsS0FBTSxDQUFDLGlCQUFrQixjQUN6QjBTLFVBQVUsR0FFRGdhLEdBQXNCQyxJQUFXLENBQzFDL1osYUFBZUMsSUFqRWdCLElBQUM5UyxFQWtFNUI4UyxFQUFZbkgsS0FsRWdCM0wsRUFrRVE0c0IsRUFsRUksQ0FBQzE1QixFQUFNcWdCLElBQVlSLE1BQU9DLElBQ3RFLE1BQU0sUUFBRW5CLEdBQVltQixFQUNwQixJQUFLLEVBQVlwQixXQUFXQyxHQUN4QixPQUFPM2UsRUFBSzhmLEdBQ2hCLE1BQU0sUUFBRTNCLEdBQVlRLEVBQ2RnYixFQUFZdFosR0FBU3NaLFdBQVc3dkIsSUFBSXF2QixLQUFvQixHQUN4RFMsU0FBMEI5c0IsRUFBUStzQiw0QkFBNEIvdkIsSUFBSXF2QixJQUNsRXJJLEVBQWtCaGtCLEdBQVNna0IsaUJBQWlCaG5CLElBQUlxdkIsS0FBb0IsR0FFcEVXLEVBQXlDLEdBQzFDaDBCLE9BQU8sSUFBSTh6QixLQUFxQkQsS0FBYzdJLElBQzlDN21CLEtEWlksS0NhWDh2QixFQUFnQixJQUNmSCxFQUFpQmpOLFFBQVFxTixHQUFZQSxFQUFRdG9CLFdBQVcsaUJBQ3hEb2YsR0FDTDdtQixLRGhCZSxLQzRCakIsTUFYd0IsWUFBcEI2QyxFQUFRdVUsU0FDSjBZLElBQ0E1YixFQUFRNmEsSUFBb0I3YSxFQUFRNmEsSUFDOUIsR0FBRzdhLEVBQVE0YSxPQUFlZ0IsSUFDMUJBLEdBRVY1YixFQUFRNGEsSUFBY2UsR0FHdEIzYixFQUFRNmEsSUFBb0JjLEVBRXpCOTVCLEVBQUssSUFDTDhmLEVBQ0huQixXQUNGLEdBb0MrQzZhLEdBQThCLElDckU1RSxJQUFJUyxJQUNYLFNBQVdBLEdBQ1BBLEVBQWtCLElBQUksTUFDdEJBLEVBQXFCLE9BQUkscUJBQzVCLENBSEQsQ0FHR0EsS0FBaUJBLEdBQWUsQ0FBQyxJQUM3QixNQUFNQyxHQUFrQixDQUFDcHZCLEVBQUtySSxFQUFLb2hCLEtBQ3RDLEdBQU1waEIsS0FBT3FJLEVBQWIsQ0FFQSxHQUFpQixTQUFiQSxFQUFJckksR0FDSixPQUFPLEVBQ1gsR0FBaUIsVUFBYnFJLEVBQUlySSxHQUNKLE9BQU8sRUFDWCxNQUFNLElBQUkrUixNQUFNLGVBQWVxUCxNQUFTcGhCLHVDQUF5Q3FJLEVBQUlySSxNQUxqRSxDQUt5RSxFQ1JwRjAzQixHQUE2QyxDQUN0REMsNEJBQThCNVksR0FBUTBZLEdBQWdCMVksRUFKaEIsNkJBSWlEeVksR0FBYUksS0FDcEdDLG1CQUFxQkMsR0FBWUwsR0FBZ0JLLEVBSlIseUJBSWdETixHQUFhTyxRQUN0R3B6QixTQUFTLEdDSEFxekIsR0FBd0MsQ0FDakRMLDRCQUE4QjVZLEdBQVEwWSxHQUFnQjFZLEVBSnJCLHdCQUlpRHlZLEdBQWFJLEtBQy9GQyxtQkFBcUJDLEdBQVlMLEdBQWdCSyxFQUpiLG9CQUlnRE4sR0FBYU8sUUFDakdwekIsU0FBUyxHQ0xBc3pCLEdBQTZCLENBQ3RDTiw0QkFBOEI1WSxHQUFRQSxFQUFtQixXQUN6RDhZLG1CQUFxQkMsR0FBWUEsRUFBdUIsT0FDeERuekIsUUFBUyxLQUNMLE1BQU0sSUFBSW9OLE1BQU0sb0JBQW9CLEdBRy9CbW1CLEdBQWtDLENBQzNDQyxjQUFlLGVDVk5DLEdBQWdCdlMsR0FBNkIsaUJBQVhBLElBQXdCQSxFQUFPNVcsV0FBVyxVQUFZNFcsRUFBT3RVLFNBQVMsVUNDeEc4bUIsR0FBaUJ4UyxHQUFXdVMsR0FBYXZTLEdBQ2hELENBQUMsa0JBQW1CLFlBQVlyVSxTQUFTcVUsR0FDckMsWUFDQUEsRUFBTzlaLFFBQVEsMkJBQTRCLElBQy9DOFosRUNIT3lTLEdBQXVCL3lCLElBQ2hDLE1BQU0sT0FBRXNnQixFQUFNLGdCQUFFK0YsR0FBb0JybUIsRUFDcEMsSUFBS3NnQixFQUNELE1BQU0sSUFBSTlULE1BQU0scUJBRXBCLE1BQU8sSUFDQXhNLEVBQ0hzZ0IsT0FBUXpJLFVBQ0osR0FBc0IsaUJBQVh5SSxFQUNQLE9BQU93UyxHQUFjeFMsR0FFekIsTUFBTTBTLFFBQXVCMVMsSUFDN0IsT0FBT3dTLEdBQWNFLEVBQWUsRUFFeEMzTSxnQkFBaUJ4TyxVQUNiLE1BQU1tYixFQUFtQyxpQkFBWDFTLEVBQXNCQSxRQUFlQSxJQUNuRSxRQUFJdVMsR0FBYUcsS0FHaUIsbUJBQXBCM00sRUFBaUMxcUIsUUFBUUMsVUFBVXlxQixHQUFtQkEsSUFBaUIsRUFFNUcsRUN0QkM0TSxHQUF3QixpQkEyQmpCQyxHQUFpQyxDQUMxQ24zQixLQUFNLFFBQ05nSixLQUFNLENBQUMscUJBQXNCLGtCQUM3QjBFLEtBQU0sMEJBQ05nTyxVQUFVLEdBRUQwYixHQUEwQnJ1QixJQUFZLENBQy9DNlMsYUFBZUMsSUFqQ1osSUFBaUN3YixFQWtDaEN4YixFQUFZbkgsS0FsQ29CMmlCLEVBa0NRdHVCLEVBQVFzdUIsa0JBakM1Q3A3QixHQUFTNmYsTUFBT0MsSUFDcEIsTUFBTW5CLEVBQVVtQixFQUFLbkIsUUFDckIsR0FBSSxFQUFZRCxXQUFXQyxHQUFVLENBQ2pDLE1BQU0sS0FBRXhhLEVBQUksUUFBRWdhLEdBQVlRLEVBQzFCLEdBQUl4YSxJQUd5QyxJQUZ6Qy9GLE9BQU8yTSxLQUFLb1QsR0FDUHJVLEtBQUsyUCxHQUFRQSxFQUFJZ0osZ0JBQ2pCdGdCLFFBQVE4NEIsSUFDYixJQUNJLE1BQU1sNUIsRUFBU3E1QixFQUFrQmozQixHQUNqQ3dhLEVBQVFSLFFBQVUsSUFDWFEsRUFBUVIsUUFDWCxDQUFDOGMsSUFBd0J2eEIsT0FBTzNILEdBRXhDLENBQ0EsTUFBTzFCLEdBQ1AsQ0FFUixDQUNBLE9BQU9MLEVBQUssSUFDTDhmLEVBQ0huQixXQUNGLEdBV2tFdWMsR0FBK0IsSUNkckdHLEdBQWlCLHVDQUNqQkMsR0FBcUIsZ0JBQ3JCQyxHQUFlLE9DeEJSQyxHQUE0QixDQUFDQyxFQUFXQyxFQUEyQmhDLEtBQzVFLE1BQU1pQyxFQUFpQjliLFVBQ25CLE1BQU0rYixFQUFjbEMsRUFBTytCLElBQWMvQixFQUFPZ0MsR0FDaEQsTUFBMkIsbUJBQWhCRSxFQUNBQSxJQUVKQSxDQUFXLEVBRXRCLE1BQWtCLGFBQWRILEdBQTBELGFBQTlCQyxFQUNyQjdiLFVBQ0gsTUFBTTJXLFFBQWlCbUYsSUFDdkIsR0FBSW5GLEdBQWdDLGlCQUFiQSxFQUF1QixDQUMxQyxHQUFJLFFBQVNBLEVBQ1QsT0FBT0EsRUFBU3RELElBQUlJLEtBRXhCLEdBQUksYUFBY2tELEVBQVUsQ0FDeEIsTUFBTSxTQUFFcFksRUFBUSxTQUFFSixFQUFRLEtBQUVDLEVBQUksS0FBRUssR0FBU2tZLEVBQzNDLE1BQU8sR0FBR3BZLE1BQWFKLElBQVdDLEVBQU8sSUFBTUEsRUFBTyxLQUFLSyxHQUMvRCxDQUNKLENBQ0EsT0FBT2tZLENBQVEsRUFHaEJtRixDQUFjLEVDdkJsQixNQUFNRSxXQUFzQnJuQixNQUMvQixXQUFBbFQsQ0FBWThOLEVBQVMwc0IsR0FBYyxHQUMvQmxLLE1BQU14aUIsR0FDTnhRLEtBQUtrOUIsWUFBY0EsRUFDbkJsOUIsS0FBSzZTLEtBQU8sZ0JBQ1pyVCxPQUFPMkMsZUFBZW5DLEtBQU1pOUIsR0FBYzk4QixVQUM5QyxDQUNBLFdBQU9nSixDQUFLMUgsRUFBT3k3QixHQUFjLEdBQzdCLE9BQU8xOUIsT0FBT3FELE9BQU8sSUFBSTdDLEtBQUt5QixFQUFNK08sUUFBUzBzQixHQUFjejdCLEVBQy9ELEVDUkcsTUFBTTA3QixHQUFRLElBQUlDLElBQWNuYyxVQUNuQyxHQUF5QixJQUFyQm1jLEVBQVVqNkIsT0FDVixNQUFNLElBQUk4NUIsR0FBYyx5QkFFNUIsSUFBSUksRUFDSixJQUFLLE1BQU1wYSxLQUFZbWEsRUFDbkIsSUFFSSxhQUQwQm5hLEdBRTlCLENBQ0EsTUFBTzNVLEdBRUgsR0FEQSt1QixFQUFvQi91QixFQUNoQkEsR0FBSzR1QixZQUNMLFNBRUosTUFBTTV1QixDQUNWLENBRUosTUFBTSt1QixDQUFpQixFQ2xCcEIsTUFBTUMsV0FBaUNMLEdBQzFDLFdBQUF2NkIsQ0FBWThOLEVBQVMwc0IsR0FBYyxHQUMvQmxLLE1BQU14aUIsRUFBUzBzQixHQUNmbDlCLEtBQUtrOUIsWUFBY0EsRUFDbkJsOUIsS0FBSzZTLEtBQU8sMkJBQ1pyVCxPQUFPMkMsZUFBZW5DLEtBQU1zOUIsR0FBeUJuOUIsVUFDekQsRUNORyxNQ0RELEdBQStCc25CLFFBQVEsTUNBdkMsR0FBK0JBLFFBQVEsUUNFdkM4VixHQUFlLENBQUMsRUFPVEMsR0FBYSxLQUN0QixNQUFNLEtBQUVDLEVBQUksWUFBRUMsRUFBVyxTQUFFQyxFQUFRLFVBQUVDLEVBQVksS0FBSyxHQUFBQyxPQUFVbGIsUUFBUUMsSUFDeEUsR0FBSTZhLEVBQ0EsT0FBT0EsRUFDWCxHQUFJQyxFQUNBLE9BQU9BLEVBQ1gsR0FBSUMsRUFDQSxNQUFPLEdBQUdDLElBQVlELElBQzFCLE1BQU1HLEVBYkZuYixTQUFXQSxRQUFRb2IsUUFDWixHQUFHcGIsUUFBUW9iLFlBRWYsVUFhUCxPQUZLUixHQUFhTyxLQUNkUCxHQUFhTyxJQUFtQixLQUFBRSxZQUM3QlQsR0FBYU8sRUFBZ0IsRUNwQjNCRyxHQUFjLGNBRWRDLEdBQWtCQyxHQUFTQSxFQUFLeEMsU0FBV2haLFFBQVFDLElBQUlxYixLQURyQyxVQ0R6QixHQUErQnhXLFFBQVEseUJDR3RDLE1BQU0yVyxHQUF1Qm5FLElBQ2hDLE1BQ01vRSxHQURTLEtBQUFDLFlBQVcsUUFDRGwrQixPQUFPNjVCLEdBQUl6NUIsT0FBTyxPQUMzQyxPQUFPLEtBQUE2SyxNQUFLbXlCLEtBQWMsT0FBUSxNQUFPLFFBQVMsR0FBR2EsU0FBaUIsRUNOcEUsR0FBK0I1VyxRQUFRLE9DRXZDLFNBQUU4VyxJQUFhLFlBQ1JDLEdBQXNCdmQsTUFBT2daLElBQ3RDLE1BQU13RSxFQUFtQkwsR0FBb0JuRSxHQUN2Q3lFLFFBQXFCSCxHQUFTRSxFQUFrQixRQUN0RCxPQUFPL3VCLEtBQUtnTSxNQUFNZ2pCLEVBQWEsRUNKdEJDLEdBQWlCNzlCLEdBQVN0QixPQUFPKzBCLFFBQVF6ekIsR0FDakRpdEIsUUFBTyxFQUFFbHFCLE1BQ1YsTUFBTSs2QixFQUFXLzZCLEVBQUk4TSxNQUFNa3VCLElBQzNCLFFBQXdCLElBQXBCRCxFQUFTejdCLFNBQWdCM0QsT0FBT3ExQixPQUFPNVYsR0FBZ0I1SixTQUFTdXBCLEVBQVMsSUFHakUsSUFFWHplLFFBQU8sQ0FBQ3NULEdBQU01dkIsRUFBS2xFLE1BRXBCOHpCLEVBRG1CNXZCLEVBQUlpUCxXQUFXbU0sRUFBZTZmLFNBQVdqN0IsRUFBSThNLE1BQU1rdUIsSUFBeUIsR0FBS2g3QixHQUNsRmxFLEVBQ1g4ekIsSUFDUixJQUNLM3lCLEVBQUswSCxTQUFXLENBQUVBLFFBQVMxSCxFQUFLMEgsV0NaM0J1MkIsR0FBb0IsSUFBTXBjLFFBQVFDLElBQW1CLGtCQUFLLEtBQUF2WCxNQUFLbXlCLEtBQWMsT0FBUSxVQ0FyRndCLEdBQXlCLElBQU1yYyxRQUFRQyxJQUF3Qiw4QkFBSyxLQUFBdlgsTUFBS215QixLQUFjLE9BQVEsZUNEdEd5QixHQUFpQix3Q0FDakJDLEdBQXVCLENBQUMsWUFBYSxxQkFDOUJDLEdBQVlDLElBQ3JCLE1BQU1sMEIsRUFBTSxDQUFDLEVBQ2IsSUFBSW0wQixFQUNBQyxFQUNKLElBQUssTUFBTUMsS0FBV0gsRUFBUXp1QixNQUFNLFNBQVUsQ0FDMUMsTUFBTTZ1QixFQUFjRCxFQUFRNXVCLE1BQU0sY0FBYyxHQUFHakMsT0FFbkQsR0FEcUMsTUFBbkI4d0IsRUFBWSxJQUFzRCxNQUF4Q0EsRUFBWUEsRUFBWXI4QixPQUFTLEdBQzlELENBQ1hrOEIsT0FBaUJ4NEIsRUFDakJ5NEIsT0FBb0J6NEIsRUFDcEIsTUFBTTQ0QixFQUFjRCxFQUFZN3dCLFVBQVUsRUFBRzZ3QixFQUFZcjhCLE9BQVMsR0FDNUR5SixFQUFVcXlCLEdBQWV4eUIsS0FBS2d6QixHQUNwQyxHQUFJN3lCLEVBQVMsQ0FDVCxNQUFPLENBQUUyTCxFQUFRLENBQUUxRixHQUFRakcsRUFDdkJwTixPQUFPcTFCLE9BQU81VixHQUFnQjVKLFNBQVNrRCxLQUN2QzhtQixFQUFpQixDQUFDOW1CLEVBQVExRixHQUFNeEgsS0FBS3d6QixJQUU3QyxNQUVJUSxFQUFpQkksRUFFckIsR0FBSVAsR0FBcUI3cEIsU0FBU29xQixHQUM5QixNQUFNLElBQUk3cEIsTUFBTSwrQkFBK0I2cEIsS0FFdkQsTUFDSyxHQUFJSixFQUFnQixDQUNyQixNQUFNSyxFQUFvQkYsRUFBWWo4QixRQUFRLEtBQzlDLElBQUssQ0FBQyxHQUFJLEdBQUc4UixTQUFTcXFCLEdBQW9CLENBQ3RDLE1BQU83c0IsRUFBTWxULEdBQVMsQ0FDbEI2L0IsRUFBWTd3QixVQUFVLEVBQUcrd0IsR0FBbUJoeEIsT0FDNUM4d0IsRUFBWTd3QixVQUFVK3dCLEVBQW9CLEdBQUdoeEIsUUFFakQsR0FBYyxLQUFWL08sRUFDQTIvQixFQUFvQnpzQixNQUVuQixDQUNHeXNCLEdBQXFCQyxFQUFRSSxjQUFnQkosSUFDN0NELE9BQW9CejRCLEdBRXhCcUUsRUFBSW0wQixHQUFrQm4wQixFQUFJbTBCLElBQW1CLENBQUMsRUFDOUMsTUFBTXg3QixFQUFNeTdCLEVBQW9CLENBQUNBLEVBQW1CenNCLEdBQU14SCxLQUFLd3pCLElBQTJCaHNCLEVBQzFGM0gsRUFBSW0wQixHQUFnQng3QixHQUFPbEUsQ0FDL0IsQ0FDSixDQUNKLENBQ0osQ0FDQSxPQUFPdUwsQ0FBRyxHQ2pETnF6QixTQUFRLElBQUssWUFDZnFCLEdBQW1CLENBQUMsRUFDYkMsR0FBWSxDQUFDbmdCLEVBQU14UixLQUN2QjB4QixHQUFpQmxnQixLQUFTeFIsR0FBUzR4QixjQUNwQ0YsR0FBaUJsZ0IsR0FBUSxHQUFTQSxFQUFNLFNBRXJDa2dCLEdBQWlCbGdCLElDRnRCcWdCLEdBQWUsS0FBTSxDQUFHLEdBQ2pCbEIsR0FBMEIsSUFDMUJtQixHQUF3Qi9lLE1BQU9rZCxFQUFPLENBQUMsS0FDaEQsTUFBTSxTQUFFOEIsRUFBV2pCLEtBQXdCLGVBQUVrQixFQUFpQm5CLE1BQXdCWixFQUNoRmdDLFFBQW9CcDdCLFFBQVFxN0IsSUFBSSxDQUNsQ1AsR0FBVUssRUFBZ0IsQ0FDdEJKLFlBQWEzQixFQUFLMkIsY0FFakJ4NkIsS0FBSzY1QixJQUNMNzVCLEtBQUtxNUIsSUFDTGhOLE1BQU1vTyxJQUNYRixHQUFVSSxFQUFVLENBQ2hCSCxZQUFhM0IsRUFBSzJCLGNBRWpCeDZCLEtBQUs2NUIsSUFDTHhOLE1BQU1vTyxNQUVmLE1BQU8sQ0FDSE0sV0FBWUYsRUFBWSxHQUN4QkcsZ0JBQWlCSCxFQUFZLEdBQ2hDLEVDdkJRSSxHQUFxQnovQixHQUFTdEIsT0FBTyswQixRQUFRenpCLEdBQ3JEaXRCLFFBQU8sRUFBRWxxQixLQUFTQSxFQUFJaVAsV0FBV21NLEVBQWV1aEIsWUFBYzNCLE1BQzlEMWUsUUFBTyxDQUFDc1QsR0FBTTV2QixFQUFLbEUsTUFBVyxJQUFNOHpCLEVBQUssQ0FBQzV2QixFQUFJOE0sTUFBTWt1QixJQUF5QixJQUFLbC9CLEtBQVUsQ0FBQyxHQ0E1RixHQUFlLEtBQU0sQ0FBRyxHQUNqQjhnQyxHQUFxQnhmLE1BQU9rZCxFQUFPLENBQUMsSUFBTTBCLEdBQVUxQixFQUFLK0IsZ0JBQWtCbkIsTUFDbkZ6NUIsS0FBSzY1QixJQUNMNzVCLEtBQUtpN0IsSUFDTDVPLE1BQU0sSUNORStPLEdBQWtCemYsTUFBT2tkLElBQ2xDLE1BQU1nQyxRQUFvQkgsR0FBc0I3QixHQUNoRCxNQ0o0QixLQUFJd0MsS0FDaEMsTUFBTUMsRUFBUyxDQUFDLEVBQ2hCLElBQUssTUFBTUMsS0FBUUYsRUFDZixJQUFLLE1BQU85OEIsRUFBS2d4QixLQUFXcjFCLE9BQU8rMEIsUUFBUXNNLFFBQ25CaDZCLElBQWhCKzVCLEVBQU8vOEIsR0FDUHJFLE9BQU9xRCxPQUFPKzlCLEVBQU8vOEIsR0FBTWd4QixHQUczQitMLEVBQU8vOEIsR0FBT2d4QixFQUkxQixPQUFPK0wsQ0FBTSxFRFJORSxDQUFpQlgsRUFBWUUsV0FBWUYsRUFBWUcsZ0JBQWdCLEVFQW5FUyxHQUFhLEVBQUd2Riw4QkFBNkJFLHFCQUFvQmx6QixRQUFTdzRCLEdBQWdCQyxFQUFnQixDQUFDLEtBQU1qZSxTQUFRbWEsSW5CSDlHK0QsRW1CRzRIMUYsRW5CSHpHdmEsVUFDdkMsSUFDSSxNQUFNNlosRUFBU29HLEVBQWV2ZSxRQUFRQyxLQUN0QyxRQUFlL2IsSUFBWGkwQixFQUNBLE1BQU0sSUFBSWxsQixNQUVkLE9BQU9rbEIsQ0FDWCxDQUNBLE1BQU94M0IsR0FDSCxNQUFNLElBQUlnNkIsR0FBeUJoNkIsRUFBRWtOLFNBQVcsOERBQThEMHdCLElBQ2xILElvQlRpQyxFQUFDQyxHQUFrQm5GLGdCQUFnQixZQUFhbUMsR0FBUyxDQUFDLElBQU1sZCxVQUNqRyxNQUFNMGEsRUFBVXVDLEdBQWVDLElBQ3pCLFdBQUVrQyxFQUFVLGdCQUFFQyxTQUEwQk4sR0FBc0I3QixHQUM5RGlELEVBQXlCZCxFQUFnQjNFLElBQVksQ0FBQyxFQUN0RDBGLEVBQW9CaEIsRUFBVzFFLElBQVksQ0FBQyxFQUM1QzJGLEVBQWtDLFdBQWxCdEYsRUFDaEIsSUFBS29GLEtBQTJCQyxHQUNoQyxJQUFLQSxLQUFzQkQsR0FDakMsSUFDSSxNQUNNcEUsRUFBY21FLEVBQWVHLEVBREQsV0FBbEJ0RixFQUE2QnFFLEVBQWFDLEdBRTFELFFBQW9CejVCLElBQWhCbTJCLEVBQ0EsTUFBTSxJQUFJcG5CLE1BRWQsT0FBT29uQixDQUNYLENBQ0EsTUFBTzE1QixHQUNILE1BQU0sSUFBSWc2QixHQUF5Qmg2QixFQUFFa04sU0FBVyxrQ0FBa0NtckIsNkNBQW1Ed0YsSUFDekksR0RoQjhLSSxDQUFzQjdGLEVBQW9CdUYsR0VGbE0sQ0FBQ0QsSUFBaUJRLE1BREMsbUJBQ1VSLEVBQWdCL2YsZUFBa0IrZixLQ0Y5RFMsRURFaUdULEVDRmpGLElBQU1qOEIsUUFBUUMsUUFBUXk4QixJQUF2QyxJQUFDQSxDREU4RyxFRkVtRyxDQUFXVCxLbkJIaE8sSUFBQ0UsQ21CRzhPLEVJSGhRUSxHQUFtQixtQkFDbkJDLEdBQXNCLGVDRGZDLEdBQVl0TixJQUNyQixHQUFtQixpQkFBUkEsRUFDUCxPQUFPc04sR0FBUyxJQUFJdk4sSUFBSUMsSUFFNUIsTUFBTSxTQUFFbFYsRUFBUSxTQUFFdVYsRUFBUSxLQUFFdFYsRUFBSSxTQUFFRyxFQUFRLE9BQUVuRSxHQUFXaVosRUFDdkQsSUFBSWhWLEVBSUosT0FISWpFLElBQ0FpRSxFQ1JELFNBQTBCdWlCLEdBQzdCLE1BQU12aUIsRUFBUSxDQUFDLEVBRWYsR0FEQXVpQixFQUFjQSxFQUFZanlCLFFBQVEsTUFBTyxJQUVyQyxJQUFLLE1BQU1reUIsS0FBUUQsRUFBWWx4QixNQUFNLEtBQU0sQ0FDdkMsSUFBSzlNLEVBQUtsRSxFQUFRLE1BQVFtaUMsRUFBS254QixNQUFNLEtBQ3JDOU0sRUFBTXlILG1CQUFtQnpILEdBQ3JCbEUsSUFDQUEsRUFBUTJMLG1CQUFtQjNMLElBRXpCa0UsS0FBT3liLEVBR0pqZCxNQUFNNFEsUUFBUXFNLEVBQU16YixJQUN6QnliLEVBQU16YixHQUFLMEMsS0FBSzVHLEdBR2hCMmYsRUFBTXpiLEdBQU8sQ0FBQ3liLEVBQU16YixHQUFNbEUsR0FOMUIyZixFQUFNemIsR0FBT2xFLENBUXJCLENBRUosT0FBTzJmLENBQ1gsQ0RkZ0J5aUIsQ0FBaUIxbUIsSUFFdEIsQ0FDSCtELFdBQ0FDLEtBQU1BLEVBQU92QyxTQUFTdUMsUUFBUXhZLEVBQzlCMlksV0FDQUUsS0FBTWlWLEVBQ05yVixRQUNILEVFZlEwaUIsR0FBZ0JwSyxHQUNELGlCQUFiQSxFQUNILFFBQVNBLEVBQ0ZnSyxHQUFTaEssRUFBU3RELEtBRXRCc0QsRUFFSmdLLEdBQVNoSyxHQ1VQcUssR0FBZ0JoaEIsTUFBT2loQixFQUFjQyxFQUFzQkMsS0FDcEUsTUFBTTVNLEVBQWlCLENBQUMsRUFDbEI2TSxFQUFlRixHQUFzQkcsc0NBQXdDLENBQUMsRUFDcEYsSUFBSyxNQUFPenZCLEVBQU0wdkIsS0FBZ0IvaUMsT0FBTyswQixRQUFROE4sR0FDN0MsT0FBUUUsRUFBWXRkLE1BQ2hCLElBQUssc0JBQ0R1USxFQUFlM2lCLEdBQVEwdkIsRUFBWTVpQyxNQUNuQyxNQUNKLElBQUssZ0JBQ0Q2MUIsRUFBZTNpQixHQUFRcXZCLEVBQWFLLEVBQVkxdkIsTUFDaEQsTUFDSixJQUFLLHNCQUNMLElBQUssZ0JBQ0QyaUIsRUFBZTNpQixTQUFjK3BCLEdBQTBCMkYsRUFBWTF2QixLQUFNQSxFQUFNdXZCLEVBQWxEeEYsR0FDN0IsTUFDSixRQUNJLE1BQU0sSUFBSWhuQixNQUFNLGdEQUFrRGxHLEtBQUtDLFVBQVU0eUIsSUFTN0YsT0FOeUMsSUFBckMvaUMsT0FBTzJNLEtBQUtrMkIsR0FBY2wvQixRQUMxQjNELE9BQU9xRCxPQUFPMnlCLEVBQWdCNE0sR0FFbUIsT0FBakR0M0IsT0FBT3MzQixFQUFhdlMsV0FBV2hNLG9CaEN4Q0w1QyxPQUFPdVUsSUFDckMsTUFBTWdOLEVBQVNoTixHQUFnQmlOLFFBQVUsR0FJekMsR0FIcUMsaUJBQTFCak4sRUFBZWlOLFNBQ3RCak4sRUFBZWlOLE9BQVNELEVBQU81eUIsUUFBUSxLQUFNNGEsbUJBQW1CLE1BQU01YSxRQUFRLE1BQU80YSxtQkFBbUIsT0F5QmpGLENBQUNrWSxJQUM1QixNQUFPcEosRUFBS0MsRUFBVzVQLEVBQVNELEVBQVFpWixFQUFTQyxHQUFZRixFQUFXL3hCLE1BQU0sS0FDeEVreUIsRUFBZ0IsUUFBUnZKLEdBQWlCb0osRUFBVy94QixNQUFNLEtBQUt4TixRQUFVLEVBQ3pEMi9CLEVBQXFGLElBQXhFLENBQUN4SixFQUFLQyxFQUFXNVAsRUFBU2daLEVBQVNDLEdBQVU3VSxPQUFPZ1YsU0FBUzUvQixPQUNoRixHQUFJMC9CLElBQVVDLEVBQ1YsTUFBTSxJQUFJbHRCLE1BQU0sZ0JBQWdCOHNCLHlCQUVwQyxTQUFlLFFBQVJwSixHQUFtQkMsR0FBZTVQLEdBQWFnWixHQUFhQyxFQUFRLEVBOUJ2RUksQ0FBZ0JSLElBQ2hCLElBQXNDLElBQWxDaE4sRUFBZXlOLGVBQ2YsTUFBTSxJQUFJcnRCLE1BQU0sOERBb0JjOHNCLEVBakJGRixJQWlCaUIvRixHQUFlcGYsS0FBS3FsQixJQUFnQmhHLEdBQW1CcmYsS0FBS3FsQixJQUFnQi9GLEdBQWF0ZixLQUFLcWxCLEtBaEJySCxJQUF6QkYsRUFBT2ovQixRQUFRLE9BQWdCdUgsT0FBTzBxQixFQUFldUQsVUFBVWptQixXQUFXLFVBQzNFMHZCLEVBQU8zZSxnQkFBa0IyZSxHQUN6QkEsRUFBT3IvQixPQUFTLEtBQ2hCcXlCLEVBQWV5TixnQkFBaUIsR0FhQyxJQUFDUCxFQVB0QyxPQUpJbE4sRUFBZTBOLGlDQUNmMU4sRUFBZTJOLGdDQUFpQyxFQUNoRDNOLEVBQWU0TixhQUFjLEdBRTFCNU4sQ0FBYyxFZ0NxQlg2TixDQUFtQjdOLEdBRXRCQSxDQUFjLEVDekNaOE4sR0FBcUIsRUFBR3hJLFNBQVF1SCxrQkFDbEMsQ0FBQ2poQyxFQUFNcWdCLElBQVlSLE1BQU9DLElBQzdCLE1BQU0wVyxPREE2QjNXLE9BQU9paEIsRUFBY0MsRUFBc0JDLEVBQWMzZ0IsS0FDaEcsSUFBSzJnQixFQUFheEssU0FBVSxDQUN4QixNQUFNMkwsT0VKdUJ0aUIsT0FBTzRPLEdBQWNrUixHTkN0QixDQUFDbFIsSUFBYyxDQUMvQzJMLDRCQUE4QjVZLElBQzFCLE1BQU00Z0IsRUFBcUIzVCxFQUFVbGYsTUFBTSxLQUFLekYsS0FBS3U0QixHQUFNQSxFQUFFL1ksZ0JBRTdELE9BRDJCOUgsRUFBSSxDQUFDOGUsTUFBcUI4QixHQUFvQm40QixLQUFLLE9BRzFEdVgsRUFBSThlLFVBQ3hCLENBRWdCLEVBRXBCaEcsbUJBQW9CLENBQUNDLEVBQVNiLEtBQzFCLEdBQUlBLEdBQVVhLEVBQVErSCxTQUFVLENBQzVCLE1BQU1DLEVBQWtCN0ksRUFBTyxDQUFDLFdBQVlhLEVBQVErSCxVQUFVcjRCLEtBQUt3ekIsS0FDbkUsR0FBSThFLEVBQWlCLENBQ2pCLE1BQU1DLEVBQXFCL1QsRUFBVWxmLE1BQU0sS0FBS3pGLEtBQUt1NEIsR0FBTUEsRUFBRTVmLGdCQUN2RDJULEVBQWNtTSxFQUFnQixDQUFDQyxFQUFtQnY0QixLQUFLLEtBQU1zMkIsSUFBcUJ0MkIsS0FBS3d6QixLQUM3RixHQUFJckgsRUFDQSxPQUFPQSxDQUNmLENBQ0osQ0FDQSxNQUFNQSxFQUFjbUUsRUFBUWdHLElBQzVCLEdBQUluSyxFQUNBLE9BQU9BLENBQ0ssRUFFcEJodkIsYUFBUzNCLElNM0J3RGc5QixDQUFxQmhVLEdBQWhDa1IsR0ZJakIrQyxDQUFzQjFCLEVBQWF2UyxXQUFhLElBQzdFMFQsSUFDQW5CLEVBQWF4SyxTQUFXLElBQU03eUIsUUFBUUMsUUFBUWc5QixHQUFhdUIsSUFFbkUsQ0FDQSxNQUFNL04sUUFBdUJ5TSxHQUFjQyxFQUFjQyxFQUFzQkMsR0FDL0UsR0FBNkMsbUJBQWxDQSxFQUFhMkIsaUJBQ3BCLE1BQU0sSUFBSW51QixNQUFNLHVDQUdwQixPQURpQndzQixFQUFhMkIsaUJBQWlCdk8sRUFBZ0IvVCxFQUNoRCxFQ1pZdWlCLENBQTRCOWlCLEVBQUs5WCxNQUFPLENBQzNEazVCLGlDQUFnQyxJQUNyQkQsR0FFWixJQUFLdkgsR0FBVXJaLEdBQ2xCQSxFQUFReVAsV0FBYTBHLEVBQ3JCblcsRUFBUTBQLFlBQWN5RyxFQUFTMUgsWUFBWWlCLFlBQzNDLE1BQU1uQixFQUFhdk8sRUFBUTBQLGNBQWMsR0FDekMsR0FBSW5CLEVBQVksQ0FDWnZPLEVBQXdCLGVBQUl1TyxFQUFXbkUsY0FDdkNwSyxFQUF5QixnQkFBSXVPLEVBQVdKLFlBQ3hDLE1BQU1xVSxFeEdkYyxDQUFDeGlCLEdBQVlBLEVBQVF6QyxLQUF3QnlDLEVBQVF6QyxHQUFzQixDQUFDLEd3R2MxRWtsQixDQUFpQnppQixHQUNqQzBpQixFQUFpQkYsR0FBZUcsd0JBQXdCRCxlQUMxREEsSUFDQUEsRUFBZUUsa0JBQW9CN2tDLE9BQU9xRCxPQUFPc2hDLEVBQWVFLG1CQUFxQixDQUFDLEVBQUcsQ0FDckZDLGVBQWdCdFUsRUFBV25FLGNBQzNCQSxjQUFlbUUsRUFBV25FLGNBQzFCMFksZ0JBQWlCdlUsRUFBV0osWUFDNUJBLFlBQWFJLEVBQVdKLFlBQ3hCeUIsaUJBQWtCckIsRUFBV3FCLGtCQUM5QnJCLEVBQVdFLFlBRXRCLENBQ0EsT0FBTzl1QixFQUFLLElBQ0w4ZixHQUNMLEVFM0JHc2pCLEdBQStCLENBQ3hDM3hCLEtBQU0seUJBQ04xTixLQUFNLGNBQ05nSixLQUFNLENBQUMsZ0JBQ1AwUyxVQUFVLEdBRUQ0akIsR0FBNkIsQ0FDdEM1eEIsS0FBTSx1QkFDTjFOLEtBQU0sWUFDTmdKLEtBQU0sQ0FBQyxjQUNQMFMsVUFBVSxHQUVQLFNBQVM2akIsR0FBZTVKLEVBQVE2SixFQUFZQyxHQUMvQyxNQUFPLENBQ0g3akIsYUFBZThqQixJQUNYQSxFQUFhaHJCLElDakJhLEVBQUMzTCxFQUFTMDJCLElBQWlCLENBQUN4akMsRUFBTXFnQixJQUFZUixNQUFPQyxJQUN2RixNQUFNLFNBQUVULFNBQW1CcmYsRUFBSzhmLEdBQ2hDLElBRUksTUFBTyxDQUNIVCxXQUNBMkIsYUFIaUJ3aUIsRUFBYW5rQixFQUFVdlMsR0FLaEQsQ0FDQSxNQUFPek0sR0FJSCxHQUhBakMsT0FBT0MsZUFBZWdDLEVBQU8sWUFBYSxDQUN0QzlCLE1BQU84Z0IsTUFFTCxjQUFlaGYsR0FBUSxDQUN6QixNQUFNcWpDLEVBQU8sNkdBQ2JyakMsRUFBTStPLFNBQVcsT0FBU3MwQixDQUM5QixDQUNBLE1BQU1yakMsQ0FDVixHRER5QnNqQyxDQUF1QmpLLEVBQVE4SixHQUFlSixJQUMvREssRUFBYWhyQixJRWxCVyxFQUFDM0wsRUFBU3kyQixJQUFlLENBQUN2akMsRUFBTXFnQixJQUFZUixNQUFPQyxJQUNuRixNQUFNMFcsRUFBV25XLEVBQVF5UCxZQUFZb0QsS0FBT3BtQixFQUFRODJCLFVBQzlDL2pCLFNBQVkvUyxFQUFRODJCLFVBQVV2akIsRUFBUXlQLFdBQVdvRCxLQUNqRHBtQixFQUFRMHBCLFNBQ2QsSUFBS0EsRUFDRCxNQUFNLElBQUloaUIsTUFBTSx5Q0FFcEIsTUFBTW1LLFFBQWdCNGtCLEVBQVd6akIsRUFBSzlYLE1BQU8sSUFBSzhFLEVBQVMwcEIsYUFDM0QsT0FBT3gyQixFQUFLLElBQ0w4ZixFQUNIbkIsV0FDRixFRk91QmtsQixDQUFxQm5LLEVBQVE2SixHQUFhRixHQUEyQixFQUdsRyxDR25CTyxNQUFNUyxHQUE0QixDQUNyQy8vQixLQUFNLFlBQ05nSixLQUFNLENBQUMsc0JBQXVCLGNBQWUsWUFDN0MwRSxLQUFNLHVCQUNOZ08sVUFBVSxFQUNWaVEsU0FBVSxTQUNWQyxhQUFjMFQsR0FBMkI1eEIsTUFFaENzeUIsR0FBb0IsQ0FBQ3JLLEVBQVF1SCxLQUFpQixDQUN2RHRoQixhQUFlQyxJQUNYQSxFQUFZaVEsY0FBY3FTLEdBQW1CLENBQ3pDeEksU0FDQXVILGlCQUNBNkMsR0FBMEIsSUNiekJFLEdBQXlCaDhCLElBQ2xDLE1BQU1pOEIsRUFBTWo4QixFQUFNaThCLE1BQU8sR0FDbkIsU0FBRXpOLEdBQWF4dUIsRUFDZms4QixFQUFxQyxNQUFaMU4sRUFBbUIzVyxTQUFZK2dCLFNBQW1CLEVBQWtCcEssRUFBbEIsU0FBaUMvd0IsRUFDNUcwK0IsSUFBcUIzTixFQUMzQixNQUFPLElBQ0F4dUIsRUFDSHd1QixTQUFVME4sRUFDVkQsTUFDQUUsbUJBQ0E3VixxQkFBc0IsRUFBa0J0bUIsRUFBTXNtQix1QkFBd0IsR0FDdEVELGdCQUFpQixFQUFrQnJtQixFQUFNcW1CLGtCQUFtQixHQUMvRCxFQ2RFLElBQUksR0FDQStWLE9BR1IsS0FBZ0IsR0FBYyxDQUFDLElBRlIsU0FBSSxXQUMxQkEsR0FBc0IsU0FBSSxXQUV2QixNQUNNQyxHQUFxQixHQUFZQyxTQ0VqQ0MsR0FBeUIsQ0FDbEMseUJBQ0Esd0JBQ0EseUJBQ0EsMEJBQ0EseUNBQ0EsdUJBQ0EsbUJBQ0EsNEJBQ0EsV0FDQSxxQkFDQSxhQUNBLHNCQUNBLDJCQUNBLGtDQUVTQyxHQUF3QixDQUFDLGVBQWdCLGlCQUFrQiwyQkFDM0RDLEdBQStCLENBQUMsSUFBSyxJQUFLLElBQUssS0FDL0NDLEdBQTZCLENBQUMsYUFBYyxlQUFnQixRQUFTLGFDdkJyRSxHQUFxQnJrQyxHQUE4QyxNQUFwQ0EsRUFBTXlnQixXQUFXNmpCLGdCQUN6REosR0FBdUJ0d0IsU0FBUzVULEVBQU1vUixPQUNOLEdBQWhDcFIsRUFBTXVrQyxZQUFZQyxXQUNUQyxHQUFvQnprQyxHQUFVbWtDLEdBQXNCdndCLFNBQVM1VCxFQUFNb1IsT0FDNUVpekIsR0FBMkJ6d0IsU0FBUzVULEdBQU95TixNQUFRLEtBQ25EMjJCLEdBQTZCeHdCLFNBQVM1VCxFQUFNeWdCLFdBQVc2akIsZ0JBQWtCLEdDUHRFLE1BQU0sR0FDVCxXQUFBcmpDLENBQVl3TCxHQUNSbE8sS0FBS21tQyxnQkFBa0IsRUFDdkJubUMsS0FBS29tQyxTQUFVLEVBQ2ZwbUMsS0FBS3FtQyxZQUFjLEVBQ25Ccm1DLEtBQUtzbUMsZUFBaUIsRUFDdEJ0bUMsS0FBS3VtQyxhQUFlLEVBQ3BCdm1DLEtBQUt3bUMsY0FBZ0IsRUFDckJ4bUMsS0FBS3ltQyxXQUFhLEVBQ2xCem1DLEtBQUswbUMsS0FBT3g0QixHQUFTdzRCLE1BQVEsR0FDN0IxbUMsS0FBSzJtQyxZQUFjejRCLEdBQVN5NEIsYUFBZSxFQUMzQzNtQyxLQUFLNG1DLFlBQWMxNEIsR0FBUzA0QixhQUFlLEdBQzNDNW1DLEtBQUs2bUMsY0FBZ0IzNEIsR0FBUzI0QixlQUFpQixHQUMvQzdtQyxLQUFLOG1DLE9BQVM1NEIsR0FBUzQ0QixRQUFVLEdBQ2pDLE1BQU1DLEVBQXVCL21DLEtBQUtnbkMsMEJBQ2xDaG5DLEtBQUtpbkMsaUJBQW1CRixFQUN4Qi9tQyxLQUFLa25DLGlCQUFtQjlpQixLQUFLK2lCLE1BQU1ubkMsS0FBS2duQywyQkFDeENobkMsS0FBS29uQyxTQUFXcG5DLEtBQUs0bUMsWUFDckI1bUMsS0FBS3FuQyxZQUFjcm5DLEtBQUsybUMsV0FDNUIsQ0FDQSx1QkFBQUssR0FDSSxPQUFPN3pCLEtBQUswYixNQUFRLEdBQ3hCLENBQ0Esa0JBQU15WSxHQUNGLE9BQU90bkMsS0FBS3VuQyxtQkFBbUIsRUFDbkMsQ0FDQSx3QkFBTUEsQ0FBbUJDLEdBQ3JCLEdBQUt4bkMsS0FBS29tQyxRQUFWLENBSUEsR0FEQXBtQyxLQUFLeW5DLG9CQUNERCxFQUFTeG5DLEtBQUttbUMsZ0JBQWlCLENBQy9CLE1BQU11QixHQUFVRixFQUFTeG5DLEtBQUttbUMsaUJBQW1Cbm1DLEtBQUtvbkMsU0FBWSxVQUM1RCxJQUFJcmlDLFNBQVNDLEdBQVkyaUMsV0FBVzNpQyxFQUFTMGlDLElBQ3ZELENBQ0ExbkMsS0FBS21tQyxnQkFBa0JubUMsS0FBS21tQyxnQkFBa0JxQixDQU45QyxDQU9KLENBQ0EsaUJBQUFDLEdBQ0ksTUFBTUcsRUFBWTVuQyxLQUFLZ25DLDBCQUN2QixJQUFLaG5DLEtBQUt3bUMsY0FFTixZQURBeG1DLEtBQUt3bUMsY0FBZ0JvQixHQUd6QixNQUFNQyxHQUFjRCxFQUFZNW5DLEtBQUt3bUMsZUFBaUJ4bUMsS0FBS29uQyxTQUMzRHBuQyxLQUFLbW1DLGdCQUFrQi9oQixLQUFLMGpCLElBQUk5bkMsS0FBS3FuQyxZQUFhcm5DLEtBQUttbUMsZ0JBQWtCMEIsR0FDekU3bkMsS0FBS3dtQyxjQUFnQm9CLENBQ3pCLENBQ0EsdUJBQUFHLENBQXdCdG5CLEdBQ3BCLElBQUl1bkIsRUFFSixHQURBaG9DLEtBQUtpb0MscUJBQ0QsR0FBa0J4bkIsR0FBVyxDQUM3QixNQUFNeW5CLEVBQWFsb0MsS0FBS29tQyxRQUFnQ2hpQixLQUFLMGpCLElBQUk5bkMsS0FBS3NtQyxlQUFnQnRtQyxLQUFLb25DLFVBQXpEcG5DLEtBQUtzbUMsZUFDdkN0bUMsS0FBS3FtQyxZQUFjNkIsRUFDbkJsb0MsS0FBS21vQyxzQkFDTG5vQyxLQUFLaW5DLGlCQUFtQmpuQyxLQUFLZ25DLDBCQUM3QmdCLEVBQWlCaG9DLEtBQUtvb0MsY0FBY0YsR0FDcENsb0MsS0FBS3FvQyxtQkFDVCxNQUVJcm9DLEtBQUttb0Msc0JBQ0xILEVBQWlCaG9DLEtBQUtzb0MsYUFBYXRvQyxLQUFLZ25DLDJCQUU1QyxNQUFNdUIsRUFBVW5rQixLQUFLMGpCLElBQUlFLEVBQWdCLEVBQUlob0MsS0FBS3NtQyxnQkFDbER0bUMsS0FBS3dvQyxzQkFBc0JELEVBQy9CLENBQ0EsbUJBQUFKLEdBQ0lub0MsS0FBS3ltQyxXQUFhem1DLEtBQUt5b0MsV0FBV3JrQixLQUFLc2tCLElBQUsxb0MsS0FBS3FtQyxhQUFlLEVBQUlybUMsS0FBSzBtQyxNQUFTMW1DLEtBQUs2bUMsY0FBZSxFQUFJLEdBQzlHLENBQ0EsYUFBQXVCLENBQWNGLEdBQ1YsT0FBT2xvQyxLQUFLeW9DLFdBQVdQLEVBQVlsb0MsS0FBSzBtQyxLQUM1QyxDQUNBLFlBQUE0QixDQUFhVixHQUNULE9BQU81bkMsS0FBS3lvQyxXQUFXem9DLEtBQUs2bUMsY0FBZ0J6aUIsS0FBS3NrQixJQUFJZCxFQUFZNW5DLEtBQUtpbkMsaUJBQW1Cam5DLEtBQUt5bUMsV0FBWSxHQUFLem1DLEtBQUtxbUMsWUFDeEgsQ0FDQSxpQkFBQWdDLEdBQ0lyb0MsS0FBS29tQyxTQUFVLENBQ25CLENBQ0EscUJBQUFvQyxDQUFzQkQsR0FDbEJ2b0MsS0FBS3luQyxvQkFDTHpuQyxLQUFLb25DLFNBQVdoakIsS0FBS3VrQixJQUFJSixFQUFTdm9DLEtBQUs0bUMsYUFDdkM1bUMsS0FBS3FuQyxZQUFjampCLEtBQUt1a0IsSUFBSUosRUFBU3ZvQyxLQUFLMm1DLGFBQzFDM21DLEtBQUttbUMsZ0JBQWtCL2hCLEtBQUswakIsSUFBSTluQyxLQUFLbW1DLGdCQUFpQm5tQyxLQUFLcW5DLFlBQy9ELENBQ0Esa0JBQUFZLEdBQ0ksTUFBTW5sQyxFQUFJOUMsS0FBS2duQywwQkFDVDRCLEVBQWF4a0IsS0FBSytpQixNQUFVLEVBQUpya0MsR0FBUyxFQUV2QyxHQURBOUMsS0FBS3VtQyxlQUNEcUMsRUFBYTVvQyxLQUFLa25DLGlCQUFrQixDQUNwQyxNQUFNMkIsRUFBYzdvQyxLQUFLdW1DLGNBQWdCcUMsRUFBYTVvQyxLQUFLa25DLGtCQUMzRGxuQyxLQUFLc21DLGVBQWlCdG1DLEtBQUt5b0MsV0FBV0ksRUFBYzdvQyxLQUFLOG1DLE9BQVM5bUMsS0FBS3NtQyxnQkFBa0IsRUFBSXRtQyxLQUFLOG1DLFNBQ2xHOW1DLEtBQUt1bUMsYUFBZSxFQUNwQnZtQyxLQUFLa25DLGlCQUFtQjBCLENBQzVCLENBQ0osQ0FDQSxVQUFBSCxDQUFXeitCLEdBQ1AsT0FBT2dULFdBQVdoVCxFQUFJOCtCLFFBQVEsR0FDbEMsRUNqR0csTUNDTUMsR0FBMEIsRUFBR0MsYUFBWUMsYUFBWUMsZ0JBSXZELENBQ0hDLGNBSmtCLElBQU1GLEVBS3hCRyxjQUprQixJQUFNaGxCLEtBQUswakIsSURGRixJQ0UyQmtCLEdBS3RESyxhQUppQixJQUFNSCxJQ0F4QixNQUFNLEdBQ1QsV0FBQXhtQyxDQUFZNG1DLEdBQ1J0cEMsS0FBS3NwQyxZQUFjQSxFQUNuQnRwQyxLQUFLdXBDLEtBQU8sR0FBWTdELFNBQ3hCMWxDLEtBQUt3cEMsU0ZMdUIsSUVNNUJ4cEMsS0FBS3lwQyxxQkNSaUMsTUFDMUMsSUFBSUMsRUhGZ0MsSUdTcEMsTUFBTyxDQUNIQyx3QkFQNkJDLEdBQ3RCeGxCLEtBQUsraUIsTUFBTS9pQixLQUFLMGpCLElISEksSUdHcUIxakIsS0FBS3lsQixTQUFXLEdBQUtELEVBQVdGLElBT2hGSSxhQUxrQnBDLElBQ2xCZ0MsRUFBWWhDLENBQUssRUFLcEIsRURIK0JxQyxHQUM1Qi9wQyxLQUFLZ3FDLG9CQUE2QyxtQkFBaEJWLEVBQTZCQSxFQUFjcm9CLFNBQVlxb0IsQ0FDN0YsQ0FDQSw4QkFBTVcsQ0FBeUJDLEdBQzNCLE9BQU9uQixHQUF3QixDQUMzQkMsV0ZkNEIsSUVlNUJDLFdBQVksR0FFcEIsQ0FDQSwrQkFBTWtCLENBQTBCQyxFQUFPQyxHQUNuQyxNQUFNZixRQUFvQnRwQyxLQUFLc3FDLGlCQUMvQixHQUFJdHFDLEtBQUt1cUMsWUFBWUgsRUFBT0MsRUFBV2YsR0FBYyxDQUNqRCxNQUFNa0IsRUFBWUgsRUFBVUcsVUFDNUJ4cUMsS0FBS3lwQyxxQkFBcUJLLGFBQTJCLGVBQWRVLEVGcEJSLElBRkgsS0V1QjVCLE1BQU1DLEVBQXFCenFDLEtBQUt5cEMscUJBQXFCRSx3QkFBd0JTLEVBQU1qQixpQkFDN0VILEVBQWFxQixFQUFVSyxlQUN2QnRtQixLQUFLdWtCLElBQUkwQixFQUFVSyxlQUFldGEsVUFBWWpkLEtBQUswYixPQUFTLEVBQUc0YixHQUMvREEsRUFDQUUsRUFBZTNxQyxLQUFLNHFDLGdCQUFnQkosR0FFMUMsT0FEQXhxQyxLQUFLd3BDLFVBQVltQixFQUNWNUIsR0FBd0IsQ0FDM0JDLGFBQ0FDLFdBQVltQixFQUFNakIsZ0JBQWtCLEVBQ3BDRCxVQUFXeUIsR0FFbkIsQ0FDQSxNQUFNLElBQUkvMEIsTUFBTSwyQkFDcEIsQ0FDQSxhQUFBaTFCLENBQWNULEdBQ1ZwcUMsS0FBS3dwQyxTQUFXcGxCLEtBQUt1a0IsSUZuQ08sSUVtQ21CM29DLEtBQUt3cEMsVUFBWVksRUFBTWYsZ0JGaEM1QyxHRWlDOUIsQ0FDQSxXQUFBeUIsR0FDSSxPQUFPOXFDLEtBQUt3cEMsUUFDaEIsQ0FDQSxvQkFBTWMsR0FDRixJQUNJLGFBQWF0cUMsS0FBS2dxQyxxQkFDdEIsQ0FDQSxNQUFPdm9DLEdBRUgsT0FEQSt5QixRQUFRdVcsS0FBSywrRE4zQ1csQ002QzVCLENBQ0osQ0FDQSxXQUFBUixDQUFZUyxFQUFjWCxFQUFXZixHQUVqQyxPQURpQjBCLEVBQWE3QixnQkFBa0IsRUFDN0JHLEdBQ2Z0cEMsS0FBS3dwQyxVQUFZeHBDLEtBQUs0cUMsZ0JBQWdCUCxFQUFVRyxZQUNoRHhxQyxLQUFLaXJDLGlCQUFpQlosRUFBVUcsVUFDeEMsQ0FDQSxlQUFBSSxDQUFnQkosR0FDWixNQUFxQixjQUFkQSxFRnREbUIsR0FEUixDRXdEdEIsQ0FDQSxnQkFBQVMsQ0FBaUJULEdBQ2IsTUFBcUIsZUFBZEEsR0FBNEMsY0FBZEEsQ0FDekMsRUU1REcsTUFBTVUsR0FDVCxXQUFBeG9DLENBQVlzbkMsRUFBcUI5N0IsR0FDN0JsTyxLQUFLZ3FDLG9CQUFzQkEsRUFDM0JocUMsS0FBS3VwQyxLQUFPLEdBQVk0QixTQUN4QixNQUFNLFlBQUVDLEdBQWdCbDlCLEdBQVcsQ0FBQyxFQUNwQ2xPLEtBQUtvckMsWUFBY0EsR0FBZSxJQUFJLEdBQ3RDcHJDLEtBQUtxckMsc0JBQXdCLElBQUksR0FBc0JyQixFQUMzRCxDQUNBLDhCQUFNQyxDQUF5QkMsR0FFM0IsYUFETWxxQyxLQUFLb3JDLFlBQVk5RCxlQUNoQnRuQyxLQUFLcXJDLHNCQUFzQnBCLHlCQUF5QkMsRUFDL0QsQ0FDQSwrQkFBTUMsQ0FBMEJhLEVBQWNYLEdBRTFDLE9BREFycUMsS0FBS29yQyxZQUFZckQsd0JBQXdCc0MsR0FDbENycUMsS0FBS3FyQyxzQkFBc0JsQiwwQkFBMEJhLEVBQWNYLEVBQzlFLENBQ0EsYUFBQVEsQ0FBY1QsR0FDVnBxQyxLQUFLb3JDLFlBQVlyRCx3QkFBd0IsQ0FBQyxHQUMxQy9uQyxLQUFLcXJDLHNCQUFzQlIsY0FBY1QsRUFDN0MsRUNwQkcsTUFBTWtCLEdBQW1CLG1CQUNuQkMsR0FBc0IsZUFDdEJDLEdBQWtDLENBQzNDaFEsNEJBQThCNVksSUFDMUIsTUFBTWpqQixFQUFRaWpCLEVBQUkwb0IsSUFDbEIsSUFBSzNyQyxFQUNELE9BQ0osTUFBTThyQyxFQUFhM3VCLFNBQVNuZCxHQUM1QixHQUFJa2QsT0FBTzBXLE1BQU1rWSxHQUNiLE1BQU0sSUFBSTcxQixNQUFNLHdCQUF3QjAxQiw2QkFBMkMzckMsTUFFdkYsT0FBTzhyQyxDQUFVLEVBRXJCL1AsbUJBQXFCQyxJQUNqQixNQUFNaDhCLEVBQVFnOEIsRUFBUTRQLElBQ3RCLElBQUs1ckMsRUFDRCxPQUNKLE1BQU04ckMsRUFBYTN1QixTQUFTbmQsR0FDNUIsR0FBSWtkLE9BQU8wVyxNQUFNa1ksR0FDYixNQUFNLElBQUk3MUIsTUFBTSw0QkFBNEIyMUIsNkJBQThDNXJDLE1BRTlGLE9BQU84ckMsQ0FBVSxFQUVyQmpqQyxRVHBCZ0MsR1NzQnZCa2pDLEdBQXNCdGlDLElBQy9CLE1BQU0sY0FBRXVpQyxHQUFrQnZpQyxFQUNwQmtnQyxFQUFjLEVBQWtCbGdDLEVBQU1rZ0MsYVR4QlosR1N5QmhDLE1BQU8sSUFDQWxnQyxFQUNIa2dDLGNBQ0FxQyxjQUFlMXFCLFNBQ1AwcUIsVUFHb0IsRUFBa0J2aUMsRUFBTXdpQyxVQUF4QixLQUNOLEdBQVlULFNBQ25CLElBQUlELEdBQXNCNUIsR0FFOUIsSUFBSSxHQUFzQkEsSUFFeEMsRUFJUXVDLEdBQWlDLENBQzFDclEsNEJBQThCNVksR0FBUUEsRUFBa0IsZUFDeEQ4WSxtQkFBcUJDLEdBQVlBLEVBQXlCLFdBQzFEbnpCLFFBQVNpOUIsSUNqRFBxRyxHQUFZLElBQUl6aUMsV0FBVyxLQUVqQyxJQUFJMGlDLEdBQVVELEdBQVUzb0MsT0FDVCxTQUFTNm9DLEtBTXRCLE9BTElELEdBQVVELEdBQVUzb0MsT0FBUyxLQUMvQixvQkFBc0Iyb0MsSUFDdEJDLEdBQVUsR0FHTEQsR0FBVXJzQixNQUFNc3NCLEdBQVNBLElBQVcsR0FDN0MsQ0NYQSwrSENNTUUsR0FBWSxHQUVsQixJQUFLLElBQUlqcEMsRUFBSSxFQUFHQSxFQUFJLE1BQU9BLEVBQ3pCaXBDLEdBQVUxbEMsTUFBTXZELEVBQUksS0FBT29JLFNBQVMsSUFBSXdDLE9BQU8sSUFtQmpELFNBaEJBLFNBQW1CdUcsRUFBS3VULEVBQVMsR0FHL0IsTUFBTXdrQixHQUFRRCxHQUFVOTNCLEVBQUl1VCxFQUFTLElBQU11a0IsR0FBVTkzQixFQUFJdVQsRUFBUyxJQUFNdWtCLEdBQVU5M0IsRUFBSXVULEVBQVMsSUFBTXVrQixHQUFVOTNCLEVBQUl1VCxFQUFTLElBQU0sSUFBTXVrQixHQUFVOTNCLEVBQUl1VCxFQUFTLElBQU11a0IsR0FBVTkzQixFQUFJdVQsRUFBUyxJQUFNLElBQU11a0IsR0FBVTkzQixFQUFJdVQsRUFBUyxJQUFNdWtCLEdBQVU5M0IsRUFBSXVULEVBQVMsSUFBTSxJQUFNdWtCLEdBQVU5M0IsRUFBSXVULEVBQVMsSUFBTXVrQixHQUFVOTNCLEVBQUl1VCxFQUFTLElBQU0sSUFBTXVrQixHQUFVOTNCLEVBQUl1VCxFQUFTLEtBQU91a0IsR0FBVTkzQixFQUFJdVQsRUFBUyxLQUFPdWtCLEdBQVU5M0IsRUFBSXVULEVBQVMsS0FBT3VrQixHQUFVOTNCLEVBQUl1VCxFQUFTLEtBQU91a0IsR0FBVTkzQixFQUFJdVQsRUFBUyxLQUFPdWtCLEdBQVU5M0IsRUFBSXVULEVBQVMsTUFBTTdELGNBTTNmLElDbkJGLFNBQWtCcW9CLEdBQ2hCLE1BQXVCLGlCQUFUQSxHQUFxQixHQUFNN3VCLEtBQUs2dUIsRUFDaEQsQ0RpQk8sQ0FBU0EsR0FDWixNQUFNN2xDLFVBQVUsK0JBR2xCLE9BQU82bEMsQ0FDVCxFRUhBLEdBcEJBLFNBQVloK0IsRUFBUzJaLEVBQUtILEdBRXhCLE1BQU15a0IsR0FETmorQixFQUFVQSxHQUFXLENBQUMsR0FDRDI3QixTQUFXMzdCLEVBQVE4OUIsS0FBT0EsTUFLL0MsR0FIQUcsRUFBSyxHQUFlLEdBQVZBLEVBQUssR0FBWSxHQUMzQkEsRUFBSyxHQUFlLEdBQVZBLEVBQUssR0FBWSxJQUV2QnRrQixFQUFLLENBQ1BILEVBQVNBLEdBQVUsRUFFbkIsSUFBSyxJQUFJMWtCLEVBQUksRUFBR0EsRUFBSSxLQUFNQSxFQUN4QjZrQixFQUFJSCxFQUFTMWtCLEdBQUttcEMsRUFBS25wQyxHQUd6QixPQUFPNmtCLENBQ1QsQ0FFQSxPQUFPLEdBQVVza0IsRUFDbkIsRUN1Q01DLEdBQXFCM3FDLElBQ3ZCLE1BQU00b0MsRUFBWSxDQUNkRyxVQUFXNkIsR0FBa0I1cUMsSUFFM0JpcEMsRUFBaUI0QixHQUFrQjdxQyxFQUFNcXdCLFdBSS9DLE9BSEk0WSxJQUNBTCxFQUFVSyxlQUFpQkEsR0FFeEJMLENBQVMsRUFFZGdDLEdBQXFCNXFDLEdBQ25CLEdBQWtCQSxHQUNYLGFBQ1B5a0MsR0FBaUJ6a0MsR0FDVixZYmpFYyxDQUFDQSxJQUMxQixRQUF3Q29GLElBQXBDcEYsRUFBTXlnQixXQUFXNmpCLGVBQThCLENBQy9DLE1BQU14bEIsRUFBYTllLEVBQU15Z0IsVUFBVTZqQixlQUNuQyxPQUFJLEtBQU94bEIsR0FBY0EsR0FBYyxNQUFRMmxCLEdBQWlCemtDLEVBSXBFLENBQ0EsT0FBTyxDQUFLLEVhMERSOHFDLENBQWM5cUMsR0FDUCxlQUNKLGVBRUUrcUMsR0FBeUIsQ0FDbEMzNUIsS0FBTSxrQkFDTjFFLEtBQU0sQ0FBQyxTQUNQaEosS0FBTSxrQkFDTnliLFNBQVUsT0FDVkMsVUFBVSxHQUVENHJCLEdBQWtCditCLElBQVksQ0FDdkM2UyxhQUFlQyxJQUNYQSxFQUFZbkgsSUFuRlcsQ0FBQzNMLEdBQVksQ0FBQzlNLEVBQU1xZ0IsSUFBWVIsTUFBT0MsSUFDbEUsSUFBSXlxQixRQUFzQno5QixFQUFReTlCLGdCQUNsQyxNQUFNckMsUUFBb0JwN0IsRUFBUW83QixjQUNsQyxJQWlEc0IsQ0FBQ3FDLFFBQW9FLElBQTNDQSxFQUFjMUIsK0JBQ1gsSUFBNUMwQixFQUFjeEIsZ0NBQ2tCLElBQWhDd0IsRUFBY2QsY0FuRGpCNkIsQ0FBa0JmLEdBOENsQixPQUZJQSxHQUFlcEMsT0FDZjluQixFQUFRc1osVUFBWSxJQUFLdFosRUFBUXNaLFdBQWEsR0FBSyxDQUFDLGlCQUFrQjRRLEVBQWNwQyxRQUNqRm9DLEVBQWNnQixNQUFNdnJDLEVBQU04ZixHQTlDQyxDQUVsQyxJQUFJMHJCLFFBQW1CakIsRUFBYzFCLHlCQUF5QnhvQixFQUFzQixjQUNoRm9yQixFQUFZLElBQUlqM0IsTUFDaEJnMEIsRUFBVyxFQUNYa0QsRUFBa0IsRUFDdEIsTUFBTSxRQUFFL3NCLEdBQVltQixFQUlwQixJQUhJLEVBQVlwQixXQUFXQyxLQUN2QkEsRUFBUVIsUVhUZ0IseUJXU2dCLFFBR3hDLElBQ1EsRUFBWU8sV0FBV0MsS0FDdkJBLEVBQVFSLFFYYkUsbUJXYXdCLFdBQVdxcUIsRUFBVyxVQUFVTixLQUV0RSxNQUFNLFNBQUU3b0IsRUFBUSxPQUFFMkIsU0FBaUJoaEIsRUFBSzhmLEdBSXhDLE9BSEF5cUIsRUFBY2QsY0FBYytCLEdBQzVCeHFCLEVBQU9GLFVBQVUwbkIsU0FBV0EsRUFBVyxFQUN2Q3huQixFQUFPRixVQUFVNHFCLGdCQUFrQkEsRUFDNUIsQ0FBRXJzQixXQUFVMkIsU0FDdkIsQ0FDQSxNQUFPOWUsR0FDSCxNQUFNeXBDLEVBQWlCWCxHQUFrQjlvQyxHQUN6Q3VwQyxHQy9CV3ByQyxFRCtCWTZCLGFDOUJkc1MsTUFDVm5VLEVBQ1BBLGFBQWlCakMsT0FDVkEsT0FBT3FELE9BQU8sSUFBSStTLE1BQVNuVSxHQUNqQixpQkFBVkEsRUFDQSxJQUFJbVUsTUFBTW5VLEdBQ2QsSUFBSW1VLE1BQU0sNkJBQTZCblUsS0R5QmxDLElBQ0ltckMsUUFBbUJqQixFQUFjeEIsMEJBQTBCeUMsRUFBWUcsRUFDM0UsQ0FDQSxNQUFPQyxHQU1ILE1BTEtILEVBQVUzcUIsWUFDWDJxQixFQUFVM3FCLFVBQVksQ0FBQyxHQUUzQjJxQixFQUFVM3FCLFVBQVUwbkIsU0FBV0EsRUFBVyxFQUMxQ2lELEVBQVUzcUIsVUFBVTRxQixnQkFBa0JBLEVBQ2hDRCxDQUNWLENBQ0FqRCxFQUFXZ0QsRUFBV3pELGdCQUN0QixNQUFNekIsRUFBUWtGLEVBQVd4RCxnQkFDekIwRCxHQUFtQnBGLFFBQ2IsSUFBSTNpQyxTQUFTQyxHQUFZMmlDLFdBQVczaUMsRUFBUzBpQyxJQUN2RCxDQUVSLENDakRzQixJQUFDam1DLENEdUR2QixFQWlDb0J3ckMsQ0FBZ0IvK0IsR0FBVXMrQixHQUF1QixJQUc1REYsR0FBcUI3ckIsSUFDOUIsSUFBSyxFQUFhWCxXQUFXVyxHQUN6QixPQUNKLE1BQU15c0IsRUFBdUIxdEMsT0FBTzJNLEtBQUtzVSxFQUFTbEIsU0FBU3lhLE1BQU1uMkIsR0FBOEIsZ0JBQXRCQSxFQUFJZ2dCLGdCQUM3RSxJQUFLcXBCLEVBQ0QsT0FDSixNQUFNQyxFQUFhMXNCLEVBQVNsQixRQUFRMnRCLEdBQzlCRSxFQUFvQnZ3QixPQUFPc3dCLEdBQ2pDLE9BQUt0d0IsT0FBTzBXLE1BQU02WixHQUVLLElBQUlqNkIsS0FBS2c2QixHQURyQixJQUFJaDZCLEtBQXlCLElBQXBCaTZCLEVBRUMsRUV0R2xCLE1BQU1DLEdBQ1QsS0FBQUMsR0FBVSxDQUNWLEtBQUEvVyxHQUFVLENBQ1YsSUFBQWxVLEdBQVMsQ0FDVCxJQUFBMG9CLEdBQVMsQ0FDVCxLQUFBdHBDLEdBQVUsRUNMZCxNQUFNOHJDLEdBQWdCLENBQUMxNkIsRUFBTTI2QixLQUN6QixNQUFNQyxFQUFXLEdBSWpCLEdBSEk1NkIsR0FDQTQ2QixFQUFTbG5DLEtBQUtzTSxHQUVkMjZCLEVBQ0EsSUFBSyxNQUFNRSxLQUFTRixFQUNoQkMsRUFBU2xuQyxLQUFLbW5DLEdBR3RCLE9BQU9ELENBQVEsRUFFYkUsR0FBK0IsQ0FBQzk2QixFQUFNMjZCLElBQ2pDLEdBQUczNkIsR0FBUSxjQUFjMjZCLEdBQVdBLEVBQVFycUMsT0FBUyxFQUFJLFlBQVlxcUMsRUFBUW5pQyxLQUFLLFFBQVUsS0FFMUZ1aUMsR0FBaUIsS0FDMUIsSUFBSUMsRUFBa0IsR0FDbEJDLEVBQWtCLEdBQ2xCQyxHQUFvQixFQUN4QixNQUFNQyxFQUFpQixJQUFJQyxJQW9DckJDLEVBQVdDLElBQ2JOLEVBQWdCTyxTQUFTQyxJQUNyQkYsRUFBUXQwQixJQUFJdzBCLEVBQU1DLFdBQVksSUFBS0QsR0FBUSxJQUUvQ1AsRUFBZ0JNLFNBQVNDLElBQ3JCRixFQUFRbGQsY0FBY29kLEVBQU1DLFdBQVksSUFBS0QsR0FBUSxJQUV6REYsRUFBUUosb0JBQW9CUSxFQUFNUixxQkFDM0JJLEdBRUxLLEVBQWdDcmxDLElBQ2xDLE1BQU1zbEMsRUFBeUIsR0FrQi9CLE9BakJBdGxDLEVBQUt1bEMsT0FBT04sU0FBU0MsSUFDVyxJQUF4QkEsRUFBTUssT0FBT3ZyQyxRQUF1QyxJQUF2QmtyQyxFQUFNTSxNQUFNeHJDLE9BQ3pDc3JDLEVBQXVCbG9DLEtBQUs4bkMsR0FHNUJJLEVBQXVCbG9DLFFBQVFpb0MsRUFBNkJILEdBQ2hFLElBRUpJLEVBQXVCbG9DLEtBQUs0QyxHQUM1QkEsRUFBS3dsQyxNQUFNelosVUFBVWtaLFNBQVNDLElBQ0UsSUFBeEJBLEVBQU1LLE9BQU92ckMsUUFBdUMsSUFBdkJrckMsRUFBTU0sTUFBTXhyQyxPQUN6Q3NyQyxFQUF1QmxvQyxLQUFLOG5DLEdBRzVCSSxFQUF1QmxvQyxRQUFRaW9DLEVBQTZCSCxHQUNoRSxJQUVHSSxDQUFzQixFQUUzQkcsRUFBb0IsQ0FBQ3JZLEdBQVEsS0FDL0IsTUFBTXNZLEVBQTRCLEdBQzVCQyxFQUE0QixHQUM1QkMsRUFBMkIsQ0FBQyxFQUNsQ2xCLEVBQWdCTyxTQUFTQyxJQUNyQixNQUFNVyxFQUFrQixJQUNqQlgsRUFDSEssT0FBUSxHQUNSQyxNQUFPLElBRVgsSUFBSyxNQUFNakIsS0FBU0gsR0FBY3lCLEVBQWdCbjhCLEtBQU1tOEIsRUFBZ0J4QixTQUNwRXVCLEVBQXlCckIsR0FBU3NCLEVBRXRDSCxFQUEwQnRvQyxLQUFLeW9DLEVBQWdCLElBRW5EbEIsRUFBZ0JNLFNBQVNDLElBQ3JCLE1BQU1XLEVBQWtCLElBQ2pCWCxFQUNISyxPQUFRLEdBQ1JDLE1BQU8sSUFFWCxJQUFLLE1BQU1qQixLQUFTSCxHQUFjeUIsRUFBZ0JuOEIsS0FBTW04QixFQUFnQnhCLFNBQ3BFdUIsRUFBeUJyQixHQUFTc0IsRUFFdENGLEVBQTBCdm9DLEtBQUt5b0MsRUFBZ0IsSUFFbkRGLEVBQTBCVixTQUFTQyxJQUMvQixHQUFJQSxFQUFNdGQsYUFBYyxDQUNwQixNQUFNQSxFQUFlZ2UsRUFBeUJWLEVBQU10ZCxjQUNwRCxRQUFxQmxxQixJQUFqQmtxQixFQUE0QixDQUM1QixHQUFJd0YsRUFDQSxPQUVKLE1BQU0sSUFBSTNnQixNQUFNLEdBQUd5NEIsRUFBTXRkLHlDQUNsQjRjLEdBQTZCVSxFQUFNeDdCLEtBQU13N0IsRUFBTWIsdUJBQ3BDYSxFQUFNdmQsWUFBWXVkLEVBQU10ZCxlQUM5QyxDQUN1QixVQUFuQnNkLEVBQU12ZCxVQUNOQyxFQUFhNGQsTUFBTXBvQyxLQUFLOG5DLEdBRUwsV0FBbkJBLEVBQU12ZCxVQUNOQyxFQUFhMmQsT0FBT25vQyxLQUFLOG5DLEVBRWpDLEtBRUosTUFBTVksR0EvR0kxYSxFQStHYXNhLEVBL0dEdGEsRUFBUW5LLE1BQUssQ0FBQy9pQixFQUFHbkYsSUFBTWd0QyxHQUFZaHRDLEVBQUVpRCxNQUFRK3BDLEdBQVk3bkMsRUFBRWxDLE9BQ2pGZ3FDLEdBQWdCanRDLEVBQUUwZSxVQUFZLFVBQVl1dUIsR0FBZ0I5bkMsRUFBRXVaLFVBQVksYUErR25FMVYsSUFBSXNqQyxHQUNKcnVCLFFBQU8sQ0FBQ2l2QixFQUFXWCxLQUNwQlcsRUFBVTdvQyxRQUFRa29DLEdBQ1hXLElBQ1IsSUFwSE0sSUFBQzdhLEVBcUhWLE9BQU8wYSxDQUFTLEVBRWRWLEVBQVEsQ0FDVjEwQixJQUFLLENBQUN5MEIsRUFBWXBnQyxFQUFVLENBQUMsS0FDekIsTUFBTSxLQUFFMkUsRUFBSSxTQUFFZ08sRUFBVTJzQixRQUFTQyxHQUFhdi9CLEVBQ3hDbWdDLEVBQVEsQ0FDVmxwQyxLQUFNLGFBQ055YixTQUFVLFNBQ1YwdEIsZ0JBQ0dwZ0MsR0FFRHMvQixFQUFVRCxHQUFjMTZCLEVBQU00NkIsR0FDcEMsR0FBSUQsRUFBUXJxQyxPQUFTLEVBQUcsQ0FDcEIsR0FBSXFxQyxFQUFRNkIsTUFBTTNCLEdBQVVNLEVBQWVubEMsSUFBSTZrQyxLQUFTLENBQ3BELElBQUs3c0IsRUFDRCxNQUFNLElBQUlqTCxNQUFNLDhCQUE4QiszQixHQUE2Qjk2QixFQUFNNDZCLE9BQ3JGLElBQUssTUFBTUMsS0FBU0YsRUFBUyxDQUN6QixNQUFNOEIsRUFBa0J6QixFQUFnQjBCLFdBQVdsQixHQUFVQSxFQUFNeDdCLE9BQVM2NkIsR0FBU1csRUFBTWIsU0FBUzZCLE1BQU1ob0MsR0FBTUEsSUFBTXFtQyxNQUN0SCxJQUF5QixJQUFyQjRCLEVBQ0EsU0FFSixNQUFNRSxFQUFhM0IsRUFBZ0J5QixHQUNuQyxHQUFJRSxFQUFXcnFDLE9BQVNrcEMsRUFBTWxwQyxNQUFRa3BDLEVBQU16dEIsV0FBYTR1QixFQUFXNXVCLFNBQ2hFLE1BQU0sSUFBSWhMLE1BQU0sSUFBSSszQixHQUE2QjZCLEVBQVczOEIsS0FBTTI4QixFQUFXaEMsNkJBQ3RFZ0MsRUFBVzV1Qix3QkFBd0I0dUIsRUFBV3JxQyxzQ0FDNUJ3b0MsR0FBNkI5NkIsRUFBTTQ2Qix1QkFDckRZLEVBQU16dEIsd0JBQXdCeXRCLEVBQU1scEMsY0FFL0Mwb0MsRUFBZ0I0QixPQUFPSCxFQUFpQixFQUM1QyxDQUNKLENBQ0EsSUFBSyxNQUFNNUIsS0FBU0YsRUFDaEJRLEVBQWVuMEIsSUFBSTZ6QixFQUUzQixDQUNBRyxFQUFnQnRuQyxLQUFLOG5DLEVBQU0sRUFFL0JwZCxjQUFlLENBQUNxZCxFQUFZcGdDLEtBQ3hCLE1BQU0sS0FBRTJFLEVBQUksU0FBRWdPLEVBQVUyc0IsUUFBU0MsR0FBYXYvQixFQUN4Q21nQyxFQUFRLENBQ1ZDLGdCQUNHcGdDLEdBRURzL0IsRUFBVUQsR0FBYzE2QixFQUFNNDZCLEdBQ3BDLEdBQUlELEVBQVFycUMsT0FBUyxFQUFHLENBQ3BCLEdBQUlxcUMsRUFBUTZCLE1BQU0zQixHQUFVTSxFQUFlbmxDLElBQUk2a0MsS0FBUyxDQUNwRCxJQUFLN3NCLEVBQ0QsTUFBTSxJQUFJakwsTUFBTSw4QkFBOEIrM0IsR0FBNkI5NkIsRUFBTTQ2QixPQUNyRixJQUFLLE1BQU1DLEtBQVNGLEVBQVMsQ0FDekIsTUFBTThCLEVBQWtCeEIsRUFBZ0J5QixXQUFXbEIsR0FBVUEsRUFBTXg3QixPQUFTNjZCLEdBQVNXLEVBQU1iLFNBQVM2QixNQUFNaG9DLEdBQU1BLElBQU1xbUMsTUFDdEgsSUFBeUIsSUFBckI0QixFQUNBLFNBRUosTUFBTUUsRUFBYTFCLEVBQWdCd0IsR0FDbkMsR0FBSUUsRUFBV3plLGVBQWlCc2QsRUFBTXRkLGNBQWdCeWUsRUFBVzFlLFdBQWF1ZCxFQUFNdmQsU0FDaEYsTUFBTSxJQUFJbGIsTUFBTSxJQUFJKzNCLEdBQTZCNkIsRUFBVzM4QixLQUFNMjhCLEVBQVdoQyx3QkFDdEVnQyxFQUFXMWUsYUFBYTBlLEVBQVd6ZSxxREFDL0I0YyxHQUE2Qjk2QixFQUFNNDZCLGtCQUF5QlksRUFBTXZkLGFBQ3JFdWQsRUFBTXRkLDZCQUVsQitjLEVBQWdCMkIsT0FBT0gsRUFBaUIsRUFDNUMsQ0FDSixDQUNBLElBQUssTUFBTTVCLEtBQVNGLEVBQ2hCUSxFQUFlbjBCLElBQUk2ekIsRUFFM0IsQ0FDQUksRUFBZ0J2bkMsS0FBSzhuQyxFQUFNLEVBRS9CcHVCLE1BQU8sSUFBTWl1QixFQUFRTixNQUNyQjhCLElBQU1DLElBQ0ZBLEVBQU81dUIsYUFBYXd0QixFQUFNLEVBRTlCcUIsT0FBU0MsR0FDbUIsaUJBQWJBLEVBN0xFLENBQUNBLElBQ2xCLElBQUlDLEdBQVksRUFDaEIsTUFBTUMsRUFBWTFCLElBQ2QsTUFBTWIsRUFBVUQsR0FBY2MsRUFBTXg3QixLQUFNdzdCLEVBQU1iLFNBQ2hELEdBQUlBLEVBQVFuNEIsU0FBU3c2QixHQUFXLENBQzVCQyxHQUFZLEVBQ1osSUFBSyxNQUFNcEMsS0FBU0YsRUFDaEJRLEVBQWVnQyxPQUFPdEMsR0FFMUIsT0FBTyxDQUNYLENBQ0EsT0FBTyxDQUFJLEVBSWYsT0FGQUcsRUFBa0JBLEVBQWdCOWYsT0FBT2dpQixHQUN6Q2pDLEVBQWtCQSxFQUFnQi9mLE9BQU9naUIsR0FDbENELENBQVMsRUErS0RHLENBQWFKLEdBN0tOLENBQUNBLElBQ3ZCLElBQUlDLEdBQVksRUFDaEIsTUFBTUMsRUFBWTFCLElBQ2QsR0FBSUEsRUFBTUMsYUFBZXVCLEVBQVUsQ0FDL0JDLEdBQVksRUFDWixJQUFLLE1BQU1wQyxLQUFTSCxHQUFjYyxFQUFNeDdCLEtBQU13N0IsRUFBTWIsU0FDaERRLEVBQWVnQyxPQUFPdEMsR0FFMUIsT0FBTyxDQUNYLENBQ0EsT0FBTyxDQUFJLEVBSWYsT0FGQUcsRUFBa0JBLEVBQWdCOWYsT0FBT2dpQixHQUN6Q2pDLEVBQWtCQSxFQUFnQi9mLE9BQU9naUIsR0FDbENELENBQVMsRUFpS0RJLENBQWtCTCxHQUVqQ00sWUFBY04sSUFDVixJQUFJQyxHQUFZLEVBQ2hCLE1BQU1DLEVBQVkxQixJQUNkLE1BQU0sS0FBRWxnQyxFQUFJLEtBQUUwRSxFQUFNMjZCLFFBQVNDLEdBQWFZLEVBQzFDLEdBQUlsZ0MsR0FBUUEsRUFBS2tILFNBQVN3NkIsR0FBVyxDQUNqQyxNQUFNckMsRUFBVUQsR0FBYzE2QixFQUFNNDZCLEdBQ3BDLElBQUssTUFBTUMsS0FBU0YsRUFDaEJRLEVBQWVnQyxPQUFPdEMsR0FHMUIsT0FEQW9DLEdBQVksR0FDTCxDQUNYLENBQ0EsT0FBTyxDQUFJLEVBSWYsT0FGQWpDLEVBQWtCQSxFQUFnQjlmLE9BQU9naUIsR0FDekNqQyxFQUFrQkEsRUFBZ0IvZixPQUFPZ2lCLEdBQ2xDRCxDQUFTLEVBRXBCNW9DLE9BQVNpQyxJQUNMLE1BQU0rVyxFQUFTZ3VCLEVBQVFOLE1BR3ZCLE9BRkExdEIsRUFBT3d2QixJQUFJdm1DLEdBQ1grVyxFQUFPNnRCLGtCQUFrQkEsR0FBcUI3dEIsRUFBTzZ0QixzQkFBd0I1a0MsRUFBSzRrQyx3QkFBeUIsSUFDcEc3dEIsQ0FBTSxFQUVqQmEsYUFBY210QixFQUNka0MsU0FBVSxJQUNDeEIsR0FBa0IsR0FBTTFqQyxLQUFLbWxDLElBQ2hDLE1BQU1sckMsRUFBT2tyQyxFQUFHbHJDLE1BQ1prckMsRUFBR3ZmLFNBQ0MsSUFDQXVmLEVBQUd0ZixhQUNYLE9BQU80YyxHQUE2QjBDLEVBQUd4OUIsS0FBTXc5QixFQUFHN0MsU0FBVyxNQUFRcm9DLENBQUksSUFHL0U0b0Msa0JBQWtCdUMsSUFDUSxrQkFBWEEsSUFDUHZDLEVBQW9CdUMsR0FDakJ2QyxHQUVYL29DLFFBQVMsQ0FBQ3NaLEVBQVNtRCxLQUNmLElBQUssTUFBTTZzQixLQUFjTSxJQUNwQjFqQyxLQUFLbWpDLEdBQVVBLEVBQU1DLGFBQ3JCcFosVUFDRDVXLEVBQVVnd0IsRUFBV2h3QixFQUFTbUQsR0FLbEMsT0FISXNzQixHQUNBdlosUUFBUStiLElBQUloQyxFQUFNNkIsWUFFZjl4QixDQUFPLEdBR3RCLE9BQU9pd0IsQ0FBSyxFQUVWVyxHQUFjLENBQ2hCc0IsV0FBWSxFQUNaQyxVQUFXLEVBQ1gxOUIsTUFBTyxFQUNQMjlCLGdCQUFpQixFQUNqQkMsWUFBYSxHQUVYeEIsR0FBa0IsQ0FDcEJ5QixLQUFNLEVBQ05DLE9BQVEsRUFDUkMsSUFBSyxHQ3RSRixNQUFNQyxHQUNULFdBQUFydUMsQ0FBWW80QixHQUNSOTZCLEtBQUtneEMsZ0JBQWtCcEQsS0FDdkI1dEMsS0FBSzg2QixPQUFTQSxDQUNsQixDQUNBLElBQUFtVyxDQUFLQyxFQUFTQyxFQUFhQyxHQUN2QixNQUFNbGpDLEVBQWlDLG1CQUFoQmlqQyxFQUE2QkEsT0FBY3RxQyxFQUM1RHdxQyxFQUFrQyxtQkFBaEJGLEVBQTZCQSxFQUFjQyxFQUM3RDl5QixFQUFVNHlCLEVBQVFJLGtCQUFrQnR4QyxLQUFLZ3hDLGdCQUFpQmh4QyxLQUFLODZCLE9BQVE1c0IsR0FDN0UsSUFBSW1qQyxFQU1BLE9BQU8veUIsRUFBUTR5QixHQUFTNXJDLE1BQU1ELEdBQVdBLEVBQU8rYyxTQUxoRDlELEVBQVE0eUIsR0FDSDVyQyxNQUFNRCxHQUFXZ3NDLEVBQVMsS0FBTWhzQyxFQUFPK2MsVUFBVTlULEdBQVEraUMsRUFBUy9pQyxLQUNsRXFqQixPQUFNLFFBS25CLENBQ0EsT0FBQTRmLEdBQ1F2eEMsS0FBSzg2QixPQUFPMVosZUFBZW13QixTQUMzQnZ4QyxLQUFLODZCLE9BQU8xWixlQUFlbXdCLFNBQ25DLEVDckJKLE1BQU1DLEdBQWUseUJBQ1JDLEdBQWNyb0MsSUFDdkIsR0FBb0IsRUFBZkEsRUFBTWpHLE9BQWMsR0FBTSxFQUMzQixNQUFNLElBQUlrRCxVQUFVLHVDQUV4QixJQUFLbXJDLEdBQWEva0MsS0FBS3JELEdBQ25CLE1BQU0sSUFBSS9DLFVBQVUsMEJBRXhCLE1BQU1tRCxFQUFTbWUsRUFBV3ZlLEVBQU8sVUFDakMsT0FBTyxJQUFJQyxXQUFXRyxFQUFPQSxPQUFRQSxFQUFPQyxXQUFZRCxFQUFPRSxXQUFXLEVDVGpFZ29DLEdBQVl0b0MsR0FBVSxFQUFnQkEsRUFBTUksT0FBUUosRUFBTUssV0FBWUwsRUFBTU0sWUFBWTBCLFNBQVMsVUNBdkcsTUFBTXVtQyxXQUE4QnRvQyxXQUN2QyxpQkFBT3NlLENBQVdpcUIsRUFBUWhxQixFQUFXLFNBQ2pDLEdBQ1MsaUJBRE1ncUIsRUFFUCxPQ0lULFNBQTZCLzJCLEVBQUsrTSxHQUNyQyxNQUFpQixXQUFiQSxFQUNPK3BCLEdBQXNCRSxPQUFPSixHQUFXNTJCLElBRTVDODJCLEdBQXNCRSxPQUFPNW9DLEVBQVM0UixHQUNqRCxDRFR1QmkzQixDQUFvQkYsRUFBUWhxQixHQUVuQyxNQUFNLElBQUloUyxNQUFNLHNDQUFzQ2c4Qiw4QkFFbEUsQ0FDQSxhQUFPQyxDQUFPRCxHQUVWLE9BREFweUMsT0FBTzJDLGVBQWV5dkMsRUFBUUQsR0FBc0J4eEMsV0FDN0N5eEMsQ0FDWCxDQUNBLGlCQUFBRyxDQUFrQm5xQixFQUFXLFNBQ3pCLE9DWkQsU0FBMkJrRixFQUFTbEYsRUFBVyxTQUNsRCxNQUFpQixXQUFiQSxFQUNPOHBCLEdBQVM1a0IsR0FFYnBJLEVBQU9vSSxFQUNsQixDRE9laWxCLENBQWtCL3hDLEtBQU00bkIsRUFDbkMsRUVoQkosTUFBTSxHQUErQkgsUUFBUSxVQ0F2QyxHQUErQkEsUUFBUSxRQ0F2QyxHQUErQkEsUUFBUSxTQ0FoQyxHQUE2QixDQUFDLGFBQWMsUUFBUyxhQ0E1RCxHQUF5QmxJLElBQzNCLE1BQU15eUIsRUFBcUIsQ0FBQyxFQUM1QixJQUFLLE1BQU1uL0IsS0FBUXJULE9BQU8yTSxLQUFLb1QsR0FBVSxDQUNyQyxNQUFNMHlCLEVBQWUxeUIsRUFBUTFNLEdBQzdCbS9CLEVBQW1Cbi9CLEdBQVF4USxNQUFNNFEsUUFBUWcvQixHQUFnQkEsRUFBYTVtQyxLQUFLLEtBQU80bUMsQ0FDdEYsQ0FDQSxPQUFPRCxDQUFrQixFQ0t0QixNQUFNRSxHQUNULFdBQUF4dkMsQ0FBWXdMLEdBQ1JsTyxLQUFLMEUsU0FBVyxDQUFFeWMsZ0JBQWlCLFlBQ25DbmhCLEtBQUsrOEIsZUFBaUIsSUFBSWg0QixTQUFRLENBQUNDLEVBQVNDLEtBQ2pCLG1CQUFaaUosRUFDUEEsSUFDSzVJLE1BQU02c0MsSUFDUG50QyxFQUFRaEYsS0FBS295QyxxQkFBcUJELEdBQVUsSUFFM0N4Z0IsTUFBTTFzQixHQUdYRCxFQUFRaEYsS0FBS295QyxxQkFBcUJsa0MsR0FDdEMsR0FFUixDQUNBLG9CQUFBa2tDLENBQXFCbGtDLEdBQ2pCLE1BQU0sZUFBRW1rQyxFQUFjLGtCQUFFQyxFQUFpQixjQUFFQyxFQUFhLFVBQUVDLEVBQVMsV0FBRUMsR0FBZXZrQyxHQUFXLENBQUMsRUFHaEcsTUFBTyxDQUNIb2tDLG9CQUNBRCxlQUFnQkEsR0FBa0JFLEVBQ2xDQyxVQUFXQSxHQUFhLElBQUksU0FBTyxDQUFFRSxXQUx2QixFQUtrQ0MsV0FKakMsS0FLZkYsV0FBWUEsR0FBYyxJQUFJLFNBQVEsQ0FBRUMsV0FOMUIsRUFNcUNDLFdBTHBDLEtBT3ZCLENBQ0EsT0FBQXBCLEdBQ0l2eEMsS0FBSzg2QixRQUFRMFgsV0FBV2pCLFVBQ3hCdnhDLEtBQUs4NkIsUUFBUTJYLFlBQVlsQixTQUM3QixDQUNBLFlBQU1xQixDQUFPN3lCLEdBQVMsWUFBRTh5QixHQUFnQixDQUFDLEdBSXJDLE9BSEs3eUMsS0FBSzg2QixTQUNOOTZCLEtBQUs4NkIsYUFBZTk2QixLQUFLKzhCLGdCQUV0QixJQUFJaDRCLFNBQVEsQ0FBQyt0QyxFQUFVQyxLQUMxQixJQUFJQyxFQUNKLE1BSU0vdEMsRUFBU2djLE1BQU91RyxVQUNad3JCLEVBQ05ELEVBQVF2ckIsRUFBSSxFQUVoQixJQUFLeG5CLEtBQUs4NkIsT0FDTixNQUFNLElBQUlsbEIsTUFBTSxvREFFcEIsR0FBSWk5QixHQUFhSSxRQUFTLENBQ3RCLE1BQU1DLEVBQWEsSUFBSXQ5QixNQUFNLG1CQUc3QixPQUZBczlCLEVBQVdyZ0MsS0FBTyxrQkFDbEI1TixFQUFPaXVDLEVBRVgsQ0FDQSxNQUFNQyxFQUE2QixXQUFyQnB6QixFQUFRUCxTQUNoQjR6QixFQ2pFWCxTQUEwQjl6QixHQUM3QixNQUFNNFQsRUFBUSxHQUNkLElBQUssSUFBSXJ2QixLQUFPckUsT0FBTzJNLEtBQUttVCxHQUFPOEssT0FBUSxDQUN2QyxNQUFNenFCLEVBQVEyZixFQUFNemIsR0FFcEIsR0FEQUEsRUFBTXltQixHQUFVem1CLEdBQ1p4QixNQUFNNFEsUUFBUXRULEdBQ2QsSUFBSyxJQUFJcUQsRUFBSSxFQUFHcXdDLEVBQU8xekMsRUFBTXdELE9BQVFILEVBQUlxd0MsRUFBTXJ3QyxJQUMzQ2t3QixFQUFNM3NCLEtBQUssR0FBRzFDLEtBQU95bUIsR0FBVTNxQixFQUFNcUQsV0FHeEMsQ0FDRCxJQUFJc3dDLEVBQVV6dkMsR0FDVmxFLEdBQTBCLGlCQUFWQSxLQUNoQjJ6QyxHQUFXLElBQUlocEIsR0FBVTNxQixNQUU3QnV6QixFQUFNM3NCLEtBQUsrc0MsRUFDZixDQUNKLENBQ0EsT0FBT3BnQixFQUFNN25CLEtBQUssSUFDdEIsQ0Q4Q2dDLENBQWlCMFUsRUFBUVQsT0FBUyxDQUFDLEdBQ3ZELElBQUlpMEIsRUFDb0IsTUFBcEJ4ekIsRUFBUUosVUFBd0MsTUFBcEJJLEVBQVFILFdBR3BDMnpCLEVBQU8sR0FGVXh6QixFQUFRSixVQUFZLE1BQ3BCSSxFQUFRSCxVQUFZLE1BR3pDLElBQUlGLEVBQU9LLEVBQVFMLEtBQ2YwekIsSUFDQTF6QixHQUFRLElBQUkwekIsS0FFWnJ6QixFQUFRRixXQUNSSCxHQUFRLElBQUlLLEVBQVFGLFlBRXhCLE1BQU0yekIsRUFBbUIsQ0FDckJqMEIsUUFBU1EsRUFBUVIsUUFDakI4QixLQUFNdEIsRUFBUVgsU0FDZEQsT0FBUVksRUFBUVosT0FDaEJPLE9BQ0FMLEtBQU1VLEVBQVFWLEtBQ2RvMEIsTUFBT04sRUFBUW56QyxLQUFLODZCLE9BQU8yWCxXQUFhenlDLEtBQUs4NkIsT0FBTzBYLFVBQ3BEZSxRQUdFdnpCLEdBRGNtekIsRUFBUSxXQUFZLFlBQ2hCSyxHQUFtQkUsSUExQzNCenlCLE9BQU91RyxVQUNid3JCLEVBQ05GLEVBQVN0ckIsRUFBSSxFQStDYnhpQixDQUFRLENBQUV5YixTQU5XLElBQUksRUFBYSxDQUNsQ0YsV0FBWW16QixFQUFJbnpCLGFBQWUsRUFDL0JDLE9BQVFrekIsRUFBSUMsY0FDWnAwQixRQUFTLEdBQXNCbTBCLEVBQUluMEIsU0FDbkNoYSxLQUFNbXVDLEtBRXlCLElBRXZDMXpCLEVBQUk0ekIsR0FBRyxTQUFVdGxDLElBQ1QsR0FBMkIrRyxTQUFTL0csRUFBSVksTUFDeENqSyxFQUFPekYsT0FBT3FELE9BQU95TCxFQUFLLENBQUV1RSxLQUFNLGtCQUdsQzVOLEVBQU9xSixFQUNYLElFekdvQixFQUFDeVIsRUFBUzlhLEVBQVE0dUMsRUFBYyxLQUNoRSxJQUFLQSxFQUNELE9BRUosTUFBTUMsRUFBWW5NLFlBQVcsS0FDekI1bkIsRUFBUXd4QixVQUNSdHNDLEVBQU96RixPQUFPcUQsT0FBTyxJQUFJK1MsTUFBTSw2REFBNkRpK0IsUUFBbUIsQ0FDM0doaEMsS0FBTSxpQkFDUCxHQUNKZ2hDLEdBQ0g5ekIsRUFBUTZ6QixHQUFHLFVBQVdHLElBQ2RBLEVBQU9DLFdBQ1BELEVBQU9ILEdBQUcsV0FBVyxLQUNqQkssYUFBYUgsRUFBVSxJQUkzQkcsYUFBYUgsRUFDakIsR0FDRixFRndGTUksQ0FBcUJsMEIsRUFBSy9hLEVBQVFqRixLQUFLODZCLE9BQU93WCxtQkczRzFCLEVBQUN2eUIsRUFBUzlhLEVBQVE0dUMsRUFBYyxLQUM1RDl6QixFQUFRNG5CLFdBQVdrTSxHQUFhLEtBQzVCOXpCLEVBQVF3eEIsVUFDUnRzQyxFQUFPekYsT0FBT3FELE9BQU8sSUFBSStTLE1BQU0sOEJBQThCaStCLFFBQW1CLENBQUVoaEMsS0FBTSxpQkFBa0IsR0FDNUcsRUh3R01zaEMsQ0FBaUJuMEIsRUFBSy9hLEVBQVFqRixLQUFLODZCLE9BQU91WCxnQkFDdENRLElBQ0FBLEVBQVl1QixRQUFVLEtBQ2xCcDBCLEVBQUlxMEIsUUFDSixNQUFNbkIsRUFBYSxJQUFJdDlCLE1BQU0sbUJBQzdCczlCLEVBQVdyZ0MsS0FBTyxhQUNsQjVOLEVBQU9pdUMsRUFBVyxHQUcxQixNQUFNVixFQUFZZ0IsRUFBaUJDLE1BQ1YsaUJBQWRqQixHQUEwQixjQUFlQSxHSXRIOUIsRUFBQ3p5QixHQUFXMnlCLFlBQVc0QixzQkFDbkMsSUFBZDVCLEdBR0ozeUIsRUFBUTZ6QixHQUFHLFVBQVdHLElBQ2xCQSxFQUFPUSxhQUFhN0IsRUFBVzRCLEdBQWtCLEVBQUUsR0FDckQsRUppSFVFLENBQW1CeDBCLEVBQUssQ0FDcEIweUIsVUFBV0YsRUFBVUUsVUFDckI0QixlQUFnQjlCLEVBQVU4QixpQkFHbEN0QixFSzFITC94QixlQUFnQ3d6QixFQUFhMTBCLEVBQVMyMEIsRUFEdkMsS0FFbEIsTUFBTW4xQixFQUFVUSxFQUFRUixTQUFXLENBQUMsRUFDOUJvSixFQUFTcEosRUFBZ0IsUUFBS0EsRUFBZ0IsT0FDcEQsSUFBSXUwQixHQUFhLEVBQ2JhLEdBQVcsRUFDQSxpQkFBWGhzQixTQUNNNWpCLFFBQVE2dkMsS0FBSyxDQUNmLElBQUk3dkMsU0FBU0MsSUFDVDh1QyxFQUFZajNCLE9BQU84cUIsV0FBVzNpQyxFQUFTb2YsS0FBS3VrQixJQVR0QyxJQVN5RCtMLElBQXVCLElBRTFGLElBQUkzdkMsU0FBU0MsSUFDVHl2QyxFQUFZYixHQUFHLFlBQVksS0FDdkJLLGFBQWFILEdBQ2I5dUMsR0FBUyxJQUVieXZDLEVBQVliLEdBQUcsU0FBUyxLQUNwQmUsR0FBVyxFQUNYVixhQUFhSCxHQUNiOXVDLEdBQVMsR0FDWCxNQUlUMnZDLEdBSVQsU0FBbUJGLEVBQWFsdkMsR0FDeEJBLGFBQWdCLEdBQUFzdkMsU0FDaEJ0dkMsRUFBS3V2QyxLQUFLTCxHQUVMbHZDLEVBQ0xrdkMsRUFBWU0sSUFBSTdyQyxPQUFPQyxLQUFLNUQsSUFHNUJrdkMsRUFBWU0sS0FFcEIsQ0FiUUMsQ0FBVVAsRUFBYTEwQixFQUFReGEsS0FFdkMsQ0xnR3NDLENBQWlCeWEsRUFBS0QsRUFBUy9mLEtBQUs4NkIsT0FBT3VYLGdCQUFnQjFnQixNQUFNb2hCLEVBQVEsR0FFM0csQ0FDQSxzQkFBQXgwQixDQUF1QjFhLEVBQUtsRSxHQUN4QkssS0FBSzg2QixZQUFTajBCLEVBQ2Q3RyxLQUFLKzhCLGVBQWlCLzhCLEtBQUsrOEIsZUFBZXozQixNQUFNdzFCLElBQ3JDLElBQ0FBLEVBQ0gsQ0FBQ2ozQixHQUFNbEUsS0FHbkIsQ0FDQSxrQkFBQTZlLEdBQ0ksT0FBT3hlLEtBQUs4NkIsUUFBVSxDQUFDLENBQzNCLEVNMUlpQ3JULFFBQVEsU0NtQnhDeGhCLE9BQU9DLFNDbEJMLE1BQU0rdUMsV0FBa0IsR0FBQUMsU0FDM0IsV0FBQXh5QyxHQUNJc3dCLFNBQVM5dkIsV0FDVGxELEtBQUttMUMsY0FBZ0IsRUFDekIsQ0FDQSxNQUFBQyxDQUFPcndCLEVBQU82QyxFQUFVeXBCLEdBQ3BCcnhDLEtBQUttMUMsY0FBYzV1QyxLQUFLd2UsR0FDeEJzc0IsR0FDSixFQ1JHLE1BQU0sR0FBbUJnRSxHQUFXLElBQUl0d0MsU0FBUSxDQUFDQyxFQUFTQyxLQUM3RCxNQUFNcXdDLEVBQVksSUFBSUwsR0FDdEJJLEVBQU9QLEtBQUtRLEdBQ1pELEVBQU96QixHQUFHLFNBQVV0bEMsSUFDaEJnbkMsRUFBVVAsTUFDVjl2QyxFQUFPcUosRUFBSSxJQUVmZ25DLEVBQVUxQixHQUFHLFFBQVMzdUMsR0FDdEJxd0MsRUFBVTFCLEdBQUcsVUFBVSxXQUNuQixNQUFNcnBDLEVBQVEsSUFBSWxCLFdBQVdILE9BQU9oQyxPQUFPbEgsS0FBS20xQyxnQkFDaERud0MsRUFBUXVGLEVBQ1osR0FBRSxJQ1pBLEdBQStCa2QsUUFBUSxRQ0NoQyxHQUFjeEcsTUFBT3MwQixFQUFhLElBQUlsc0MsV0FBY29ZLEtBQzdELEdBQUk4ekIsYUFBc0Jsc0MsV0FDdEIsT0FBT3NvQyxHQUFzQkUsT0FBTzBELEdBRXhDLElBQUtBLEVBQ0QsT0FBTzVELEdBQXNCRSxPQUFPLElBQUl4b0MsWUFFNUMsTUFBTW1zQyxFQUFjL3pCLEVBQVFnMEIsZ0JBQWdCRixHQUM1QyxPQUFPNUQsR0FBc0JFLGFBQWEyRCxFQUFZLEVDUm5ELE1BQU1FLEdBQ1QsV0FBQWh6QyxHQUNJMUMsS0FBS2d4QyxnQkFBa0JwRCxJQUMzQixFQ0pHLE1BQU0sR0FBbUIsNkJDMENuQitILEdBQWdCaDJDLElBQ3pCLEdBQUlBLFFBQUosQ0FHQSxHQUFxQixpQkFBVkEsRUFBb0IsQ0FDM0IsTUFBTWkyQyxFQUFTNTRCLFdBQVdyZCxHQUMxQixJQUFLa2QsT0FBTzBXLE1BQU1xaUIsR0FJZCxPQUhJOXFDLE9BQU84cUMsS0FBWTlxQyxPQUFPbkwsSUFDMUJpaUIsR0FBT21wQixLQUFLOEssR0FBa0Isd0NBQXdDbDJDLE1BRW5FaTJDLENBRWYsQ0FDQSxHQUFxQixpQkFBVmoyQyxFQUNQLE9BQU9BLEVBRVgsTUFBTSxJQUFJMEcsVUFBVSwrQkFBK0IxRyxNQUFVQSxJQWI3RCxDQWFxRSxFQUVuRW0yQyxHQUFZMXhCLEtBQUsyeEIsS0FBSyxHQUFLLEtBQU8sRUFBSSxJQUFNLEtBVXJDQyxHQUFjcjJDLElBQ3ZCLEdBQUlBLFFBQUosQ0FHQSxHQUFJa2QsT0FBT281QixVQUFVdDJDLEtBQVdrZCxPQUFPMFcsTUFBTTV6QixHQUN6QyxPQUFPQSxFQUVYLE1BQU0sSUFBSTBHLFVBQVUsZ0NBQWdDMUcsTUFBVUEsSUFKOUQsQ0FJc0UsRUFHN0R1MkMsR0FBZXYyQyxHQUFVdzJDLEdBQWV4MkMsRUFBTyxJQUd0RHcyQyxHQUFpQixDQUFDeDJDLEVBQU95MkMsS0FDM0IsTUFBTUMsRUFBV0wsR0FBV3IyQyxHQUM1QixRQUFpQmtILElBQWJ3dkMsR0FBMEJDLEdBQVFELEVBQVVELEtBQVVDLEVBQ3RELE1BQU0sSUFBSWh3QyxVQUFVLFlBQVkrdkMsc0JBQXlCejJDLEtBRTdELE9BQU8wMkMsQ0FBUSxFQUViQyxHQUFVLENBQUMzMkMsRUFBT3kyQyxLQUNwQixPQUFRQSxHQUNKLEtBQUssR0FDRCxPQUFPRyxXQUFXQyxHQUFHNzJDLEdBQU8sR0FDaEMsS0FBSyxHQUNELE9BQU84MkMsV0FBV0QsR0FBRzcyQyxHQUFPLEdBQ2hDLEtBQUssRUFDRCxPQUFPKzJDLFVBQVVGLEdBQUc3MkMsR0FBTyxHQUNuQyxFQUVTZzNDLEdBQWdCLENBQUNoM0MsRUFBT2kzQyxLQUNqQyxHQUFJajNDLFFBQXVDLENBQ3ZDLEdBQUlpM0MsRUFDQSxNQUFNLElBQUl2d0MsVUFBVSxpQ0FBaUN1d0MsS0FFekQsTUFBTSxJQUFJdndDLFVBQVUsNEJBQ3hCLENBQ0EsT0FBTzFHLENBQUssRUFFSGszQyxHQUFnQmwzQyxJQUN6QixHQUFJQSxRQUNBLE9BRUosR0FBcUIsaUJBQVZBLElBQXVCMEMsTUFBTTRRLFFBQVF0VCxHQUM1QyxPQUFPQSxFQUVYLE1BQU1tM0MsRUFBZXowQyxNQUFNNFEsUUFBUXRULEdBQVMsZUFBaUJBLEVBQzdELE1BQU0sSUFBSTBHLFVBQVUsd0JBQXdCeXdDLE1BQWlCbjNDLElBQVEsRUFFNURvM0MsR0FBZ0JwM0MsSUFDekIsR0FBSUEsUUFBSixDQUdBLEdBQXFCLGlCQUFWQSxFQUNQLE9BQU9BLEVBRVgsR0FBSSxDQUFDLFVBQVcsU0FBVSxVQUFVMFYsZ0JBQWdCMVYsR0FFaEQsT0FEQWlpQixHQUFPbXBCLEtBQUs4SyxHQUFrQiwrQkFBK0JsMkMsTUFBVUEsTUFDaEVtTCxPQUFPbkwsR0FFbEIsTUFBTSxJQUFJMEcsVUFBVSwrQkFBK0IxRyxNQUFVQSxJQVI3RCxDQVFxRSxFQStCbkVxM0MsR0FBZSxvRUFDZkMsR0FBZXQzQyxJQUNqQixNQUFNaU4sRUFBVWpOLEVBQU1rTixNQUFNbXFDLElBQzVCLEdBQWdCLE9BQVpwcUMsR0FBb0JBLEVBQVEsR0FBR3pKLFNBQVd4RCxFQUFNd0QsT0FDaEQsTUFBTSxJQUFJa0QsVUFBVSwwQ0FFeEIsT0FBTzJXLFdBQVdyZCxFQUFNLEVBbUNmdTNDLEdBQW9CdjNDLEdBRWxCdTJDLEdBRFUsaUJBQVZ2MkMsRUFDWXMzQyxHQUFZdDNDLEdBRWhCQSxHQWNqQmsyQyxHQUFxQnJsQyxHQUNoQjFGLE9BQU8sSUFBSXpFLFVBQVVtSyxHQUFTKzlCLE9BQVMvOUIsR0FDekNHLE1BQU0sTUFDTjhPLE1BQU0sRUFBRyxHQUNUc08sUUFBUWhyQixJQUFPQSxFQUFFc1MsU0FBUyx1QkFDMUJoSyxLQUFLLE1BRUR1VyxHQUFTLENBQ2xCbXBCLEtBQU12VyxRQUFRdVcsTUNsT1pvTSxHQUFTLENBQUMsTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE9BaUN2RkMsR0FBc0IsSUFBSXJyQyxPQUFPLDZGQUMxQnNyQyxHQUFrQzEzQyxJQUMzQyxHQUFJQSxRQUNBLE9BRUosR0FBcUIsaUJBQVZBLEVBQ1AsTUFBTSxJQUFJMEcsVUFBVSxvREFFeEIsTUFBTXdHLEVBQVF1cUMsR0FBb0IzcUMsS0FBSzlNLEdBQ3ZDLElBQUtrTixFQUNELE1BQU0sSUFBSXhHLFVBQVUsb0NBRXhCLE1BQU9WLEVBQUcyeEMsRUFBU0MsRUFBVUMsRUFBUUMsRUFBT0MsRUFBU0MsRUFBU0MsRUFBd0JDLEdBQWFockMsRUFDN0ZpckMsRURnS3NCLENBQUNuNEMsR0EvSE4sQ0FBQ0EsR0FBVXcyQyxHQUFleDJDLEVBQU8sSUFpSTdDbzRDLENBRFUsaUJBQVZwNEMsRUFDWXMzQyxHQUFZdDNDLEdBRWhCQSxHQ3BLTixDQUFpQnE0QyxHQUFtQlYsSUFDM0NXLEVBQVFDLEdBQWVYLEVBQVUsUUFBUyxFQUFHLElBQzdDWSxFQUFNRCxHQUFlVixFQUFRLE1BQU8sRUFBRyxJQUN2QzVtQixFQUFPd25CLEdBQVVOLEVBQU1HLEVBQU9FLEVBQUssQ0FBRVYsUUFBT0MsVUFBU0MsVUFBU0MsMkJBSXBFLE1BSCtCLEtBQTNCQyxFQUFVbnRCLGVBQ1ZrRyxFQUFLeW5CLFFBQVF6bkIsRUFBS1IsVUFBWWtvQixHQUEwQlQsSUFFckRqbkIsQ0FBSSxFQXFEVHduQixHQUFZLENBQUNOLEVBQU1HLEVBQU9FLEVBQUtycEIsS0FDakMsTUFBTXlwQixFQUFnQk4sRUFBUSxFQUU5QixPQURBTyxHQUFtQlYsRUFBTVMsRUFBZUosR0FDakMsSUFBSWhsQyxLQUFLQSxLQUFLc2xDLElBQUlYLEVBQU1TLEVBQWVKLEVBQUtELEdBQWVwcEIsRUFBSzJvQixNQUFPLE9BQVEsRUFBRyxJQUFLUyxHQUFlcHBCLEVBQUs0b0IsUUFBUyxTQUFVLEVBQUcsSUFBS1EsR0FBZXBwQixFQUFLNm9CLFFBQVMsVUFBVyxFQUFHLElBQUtlLEdBQWtCNXBCLEVBQUs4b0IseUJBQXlCLEVBd0IzT2UsR0FBZ0IsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDN0RILEdBQXFCLENBQUNWLEVBQU1HLEVBQU9FLEtBQ3JDLElBQUlTLEVBQVVELEdBQWNWLEdBSTVCLEdBSGMsSUFBVkEsR0FBZVksR0FBV2YsS0FDMUJjLEVBQVUsSUFFVlQsRUFBTVMsRUFDTixNQUFNLElBQUl2eUMsVUFBVSxtQkFBbUI4d0MsR0FBT2MsU0FBYUgsTUFBU0ssSUFDeEUsRUFFRVUsR0FBY2YsR0FDVEEsRUFBTyxHQUFNLElBQU1BLEVBQU8sS0FBUSxHQUFLQSxFQUFPLEtBQVEsR0FFM0RJLEdBQWlCLENBQUN2NEMsRUFBT3NsQixFQUFNNnpCLEVBQU9DLEtBQ3hDLE1BQU1DLEVEaUVxQixDQUFDcjVDLEdBcElOLENBQUNBLEdBQVV3MkMsR0FBZXgyQyxFQUFPLEdBc0k1Q3M1QyxDQURVLGlCQUFWdDVDLEVBQ1dzM0MsR0FBWXQzQyxHQUVoQkEsR0NyRUZ1NUMsQ0FBZ0JsQixHQUFtQnI0QyxJQUNuRCxHQUFJcTVDLEVBQVVGLEdBQVNFLEVBQVVELEVBQzdCLE1BQU0sSUFBSTF5QyxVQUFVLEdBQUc0ZSxxQkFBd0I2ekIsU0FBYUMsZ0JBRWhFLE9BQU9DLENBQU8sRUFFWk4sR0FBcUIvNEMsR0FDbkJBLFFBQ08sRUFFK0IsSURKWixDQUFDQSxHQTlGTixDQUFDQSxJQUMxQixNQUFNMDJDLEVBQVdWLEdBQWFoMkMsR0FDOUIsUUFBaUJrSCxJQUFid3ZDLElBQTJCeDVCLE9BQU8wVyxNQUFNOGlCLElBQWFBLElBQWE4QyxLQUFZOUMsS0FBYSxLQUN2Rmp5QixLQUFLQyxJQUFJZ3lCLEdBQVlQLEdBQ3JCLE1BQU0sSUFBSXp2QyxVQUFVLDhCQUE4QjFHLEtBRzFELE9BQU8wMkMsQ0FBUSxFQXlGSitDLENBRFMsaUJBQVR6NUMsRUFDY3MzQyxHQUFZdDNDLEdBRWhCQSxHQ0FkMDVDLENBQW1CLEtBQU8xNUMsR0FFL0IyNEMsR0FBNkIzNEMsSUFDL0IsTUFBTTI1QyxFQUFlMzVDLEVBQU0sR0FDM0IsSUFBSTQ1QyxFQUFZLEVBQ2hCLEdBQW9CLEtBQWhCRCxFQUNBQyxFQUFZLE1BRVgsSUFBb0IsS0FBaEJELEVBSUwsTUFBTSxJQUFJanpDLFVBQVUscUJBQXFCaXpDLHlCQUh6Q0MsR0FBYSxDQUlqQixDQUdBLE9BQU9BLEdBQW9CLEdBRmQxOEIsT0FBT2xkLEVBQU1nUCxVQUFVLEVBQUcsSUFDeEJrTyxPQUFPbGQsRUFBTWdQLFVBQVUsRUFBRyxLQUNDLEdBQUssR0FBSSxFQUVqRHFwQyxHQUFzQnI0QyxJQUN4QixJQUFJNjVDLEVBQU0sRUFDVixLQUFPQSxFQUFNNzVDLEVBQU13RCxPQUFTLEdBQTJCLE1BQXRCeEQsRUFBTTZZLE9BQU9naEMsSUFDMUNBLElBRUosT0FBWSxJQUFSQSxFQUNPNzVDLEVBRUpBLEVBQU04ZixNQUFNKzVCLEVBQUksRUN6THBCLE1BQU1DLFdBQXlCN2pDLE1BQ2xDLFdBQUFsVCxDQUFZd0wsR0FDUjhrQixNQUFNOWtCLEVBQVFzQyxTQUNkaFIsT0FBTzJDLGVBQWVuQyxLQUFNeTVDLEdBQWlCdDVDLFdBQzdDSCxLQUFLNlMsS0FBTzNFLEVBQVEyRSxLQUNwQjdTLEtBQUswNUMsT0FBU3hyQyxFQUFRd3JDLE9BQ3RCMTVDLEtBQUtraUIsVUFBWWhVLEVBQVFnVSxTQUM3QixFQUVHLE1BQU15M0IsR0FBMkIsQ0FBQ0MsRUFBV0MsRUFBWSxDQUFDLEtBQzdEcjZDLE9BQU8rMEIsUUFBUXNsQixHQUNWOXJCLFFBQU8sRUFBRSxDQUFFNW5CLFVBQWFVLElBQU5WLElBQ2xCaW9DLFNBQVEsRUFBRXpuQyxFQUFHUixNQUNNVSxNQUFoQit5QyxFQUFVanpDLElBQW9DLEtBQWpCaXpDLEVBQVVqekMsS0FDdkNpekMsRUFBVWp6QyxHQUFLUixFQUNuQixJQUVKLE1BQU1xSyxFQUFVb3BDLEVBQVVwcEMsU0FBV29wQyxFQUFVRSxTQUFXLGVBRzFELE9BRkFGLEVBQVVwcEMsUUFBVUEsU0FDYm9wQyxFQUFVRSxRQUNWRixDQUFTLEVDVFBHLEdBQXFCQyxHQUN2QixFQUFHNTNCLFNBQVE2M0IsYUFBWUMsZ0JBWEQsR0FBRzkzQixTQUFRNjNCLGFBQVlFLGdCQUFlRCxnQkFDbkUsTUFBTWg0QixFQUFZazRCLEdBQW9CaDRCLEdBQ2hDN0IsRUFBYTJCLEVBQVU2akIsZUFBaUI3akIsRUFBVTZqQixlQUFpQixRQUFLbC9CLEVBQ3hFNFosRUFBVyxJQUFJMDVCLEVBQWMsQ0FDL0J0bkMsS0FBTW9uQyxHQUFZL3FDLE1BQVErcUMsR0FBWUksTUFBUUgsR0FBYTM1QixHQUFjLGVBQ3pFbTVCLE9BQVEsU0FDUngzQixjQUVKLE1BQU15M0IsR0FBeUJsNUIsRUFBVXc1QixFQUFXLEVBSWhESyxDQUFrQixDQUFFbDRCLFNBQVE2M0IsYUFBWUUsY0FBZUgsRUFBZUUsYUFBWSxFQUdwRkUsR0FBdUJoNEIsSUFBVyxDQUNwQzJqQixlQUFnQjNqQixFQUFPN0IsV0FDdkJnNkIsVUFBV240QixFQUFPN0MsUUFBUSxxQkFBdUI2QyxFQUFPN0MsUUFBUSxzQkFBd0I2QyxFQUFPN0MsUUFBUSxvQkFDdkdpN0Isa0JBQW1CcDRCLEVBQU83QyxRQUFRLGNBQ2xDazdCLEtBQU1yNEIsRUFBTzdDLFFBQVEsaUJDcEJabTdCLEdBQTZCblIsSUFDdEMsT0FBUUEsR0FDSixJQUFLLFdBVUwsSUFBSyxlQUNELE1BQU8sQ0FDSHFDLFVBQVcsV0FDWDBHLGtCQUFtQixNQVIzQixJQUFLLFlBQ0QsTUFBTyxDQUNIMUcsVUFBVyxXQUNYMEcsa0JBQW1CLE1BTzNCLElBQUssU0FDRCxNQUFPLENBQ0gxRyxVQUFXLFdBQ1gwRyxrQkFBbUIsS0FFM0IsUUFDSSxNQUFPLENBQUMsRUFDaEIsRUN4QkosSUFBSXFJLElBQWlCLEVBQ2QsTUFBTUMsR0FBbUNuZ0IsSUFDeENBLElBQVlrZ0IsSUFBa0I3OUIsU0FBUzJkLEVBQVE5ckIsVUFBVSxFQUFHOHJCLEVBQVFsM0IsUUFBUSxPQUFTLEtBQ3JGbzNDLElBQWlCLEVBQ3JCLEVDRlMsR0FBNEJ4OEIsSUFDckMsTUFBTTA4QixFQUFxQixHQUMzQixJQUFLLE1BQU01Z0IsS0FBTW5iLEVBQWEsQ0FDMUIsTUFBTWc4QixFQUFjaDhCLEVBQVltYixRQUNHcHpCLElBQS9Cc1gsRUFBYzI4QixJQUdsQkQsRUFBbUJ0MEMsS0FBSyxDQUNwQnUwQyxZQUFhLElBQU1BLEVBQ25CQyxvQkFBcUIsSUFBTTU4QixFQUFjMjhCLElBRWpELENBQ0EsTUFBTyxDQUNIRSxvQkFBcUJILEVBQ3JCLG9CQUFBSSxDQUFxQkMsR0FDakJsN0MsS0FBS2c3QyxvQkFBb0J6MEMsS0FBSzIwQyxFQUNsQyxFQUNBLGtCQUFBTCxHQUNJLE9BQU83NkMsS0FBS2c3QyxtQkFDaEIsRUFDSCxFQUVRLEdBQWdDNVksSUFDekMsTUFBTWprQixFQUFnQixDQUFDLEVBSXZCLE9BSEFpa0IsRUFBYXlZLHFCQUFxQnpNLFNBQVMrTSxJQUN2Q2g5QixFQUFjZzlCLEVBQWtCTCxlQUFpQkssRUFBa0JKLHFCQUFxQixJQUVyRjU4QixDQUFhLEVDN0JYaTlCLEdBQXlCajlCLElBQ2xDLElBQUlrOUIsRUFBaUJsOUIsRUFBY3d0QixjQUNuQyxNQUFPLENBQ0gsZ0JBQUEyUCxDQUFpQjNQLEdBQ2IwUCxFQUFpQjFQLENBQ3JCLEVBQ0FBLGNBQWEsSUFDRjBQLEVBRWQsRUFFUUUsR0FBNkJDLElBQ3RDLE1BQU1yOUIsRUFBZ0IsQ0FBQyxFQUV2QixPQURBQSxFQUFjd3RCLGNBQWdCNlAsRUFBMkI3UCxnQkFDbER4dEIsQ0FBYSxFQ1pYczlCLEdBQW9DdDlCLElBQ3RDLElBQ0EsR0FBeUJBLE1BQ3pCaTlCLEdBQXNCajlCLEtBSXBCLEdBQStCMmMsSUFDakMsSUFDQSxHQUE2QkEsTUFDN0J5Z0IsR0FBMEJ6Z0IsS0NaOUIsU0FBUzRnQixHQUEyQjdnQyxHQUN2QyxPQUFPMlAsbUJBQW1CM1AsR0FBS2pMLFFBQVEsWUFBWSxTQUFVN0wsR0FDekQsTUFBTyxJQUFNQSxFQUFFMEcsV0FBVyxHQUFHVyxTQUFTLElBQUlzZixhQUM5QyxHQUNKLENDSk8sTUFBTWl4QixHQUF3Qnp2QyxJQUNqQyxNQUFNNkUsRUFBZSxRQUNyQixJQUFLLE1BQU1sTixLQUFPcUksRUFDVkEsRUFBSTNKLGVBQWVzQixTQUFtQ2dELElBQTNCcUYsRUFBSXJJLEdBQUtrTixHQUNwQzdFLEVBQUlySSxHQUFPcUksRUFBSXJJLEdBQUtrTixHQUVLLGlCQUFiN0UsRUFBSXJJLElBQWtDLE9BQWJxSSxFQUFJckksS0FDekNxSSxFQUFJckksR0FBTzgzQyxHQUFxQnp2QyxFQUFJckksS0FHNUMsT0FBT3FJLENBQUcsRUNWRDB2QyxHQUFnQixXQUN6QixNQUFNQyxFQUFRcjhDLE9BQU9zOEMsZUFBZTk3QyxNQUFNMEMsWUFFcENxNUMsRUFBVyxJQURHQyxTQUFTQyxLQUFLNzRDLE1BQU0wSCxPQUFRLENBQUMsUUFBUzVILGFBRzFELE9BREExRCxPQUFPMkMsZUFBZTQ1QyxFQUFVRixFQUFNMTdDLFdBQy9CNDdDLENBQ1gsRUNOTyxTQUFTLEdBQUlHLEVBQU1DLEVBQU1DLEdBQzVCLElBQUl4NEMsRUFDQW1xQixFQUNBc1UsRUFDSixRQUFvQixJQUFUOFosUUFBd0MsSUFBVEMsRUFDdEN4NEMsRUFBUyxDQUFDLEVBQ1Z5K0IsRUFBZTZaLE1BRWQsQ0FFRCxHQURBdDRDLEVBQVNzNEMsRUFDVyxtQkFBVEMsRUFHUCxPQUZBcHVCLEVBQVNvdUIsRUFDVDlaLEVBQWUrWixFQUNSQyxHQUFjejRDLEVBQVFtcUIsRUFBUXNVLEdBR3JDQSxFQUFlOFosQ0FFdkIsQ0FDQSxJQUFLLE1BQU10NEMsS0FBT3JFLE9BQU8yTSxLQUFLazJCLEdBQ3JCaGdDLE1BQU00USxRQUFRb3ZCLEVBQWF4K0IsSUFJaEN5NEMsR0FBaUIxNEMsRUFBUSxLQUFNeStCLEVBQWN4K0IsR0FIekNELEVBQU9DLEdBQU93K0IsRUFBYXgrQixHQUtuQyxPQUFPRCxDQUNYLENEcEJBZzRDLEdBQWN6N0MsVUFBWVgsT0FBT21ELE9BQU9tSSxPQUFPM0ssVUFBVyxDQUN0RHVDLFlBQWEsQ0FDVC9DLE1BQU9pOEMsR0FDUDk1QyxZQUFZLEVBQ1p5NkMsVUFBVSxFQUNWQyxjQUFjLEtBR3RCaDlDLE9BQU8yQyxlQUFleTVDLEdBQWU5d0MsUUNhOUIsTUFPTSxHQUFPLENBQUM4bUMsRUFBUXZQLEtBQ3pCLE1BQU10ZSxFQUFNLENBQUMsRUFDYixJQUFLLE1BQU1sZ0IsS0FBT3crQixFQUNkaWEsR0FBaUJ2NEIsRUFBSzZ0QixFQUFRdlAsRUFBY3grQixHQUVoRCxPQUFPa2dCLENBQUcsRUFFUnM0QixHQUFnQixDQUFDejRDLEVBQVFtcUIsRUFBUXNVLElBQzVCLEdBQUl6K0IsRUFBUXBFLE9BQU8rMEIsUUFBUThOLEdBQWNsaUIsUUFBTyxDQUFDczhCLEdBQWdCNTRDLEVBQUtsRSxNQUNyRTBDLE1BQU00USxRQUFRdFQsR0FDZDg4QyxFQUFjNTRDLEdBQU9sRSxFQUlqQjg4QyxFQUFjNTRDLEdBREcsbUJBQVZsRSxFQUNjLENBQUNvdUIsRUFBUXB1QixLQUdULENBQUNvdUIsRUFBUXB1QixHQUcvQjg4QyxJQUNSLENBQUMsSUFFRkgsR0FBbUIsQ0FBQzE0QyxFQUFRZ3VDLEVBQVF2UCxFQUFjcWEsS0FDcEQsR0FBZSxPQUFYOUssRUFBaUIsQ0FDakIsSUFBSXJQLEVBQWNGLEVBQWFxYSxHQUNKLG1CQUFoQm5hLElBQ1BBLEVBQWMsQ0FBQyxDQUFFQSxJQUVyQixNQUFPeFUsRUFBUzR1QixHQUFZQyxFQUFVQyxHQUFNQyxFQUFZSixHQUFhbmEsRUFJckUsYUFIdUIsbUJBQVh4VSxHQUF5QkEsRUFBTzZqQixFQUFPa0wsS0FBbUMsbUJBQVgvdUIsR0FBMkJBLEtBQ2xHbnFCLEVBQU84NEMsR0FBYUUsRUFBUWhMLEVBQU9rTCxLQUczQyxDQUNBLElBQUsvdUIsRUFBUXB1QixHQUFTMGlDLEVBQWFxYSxHQUNuQyxHQUFxQixtQkFBVi84QyxFQUFzQixDQUM3QixJQUFJbzlDLEVBQ0osTUFBTUMsT0FBaUNuMkMsSUFBWGtuQixHQUE4QyxPQUFyQmd2QixFQUFTcDlDLEtBQ3hEczlDLEVBQXdDLG1CQUFYbHZCLEtBQTJCQSxPQUFPLElBQStCLG1CQUFYQSxLQUEyQkEsRUFDaEhpdkIsRUFDQXA1QyxFQUFPODRDLEdBQWFLLEVBRWZFLElBQ0xyNUMsRUFBTzg0QyxHQUFhLzhDLElBRTVCLEtBQ0ssQ0FDRCxNQUFNcTlDLE9BQWlDbjJDLElBQVhrbkIsR0FBaUMsTUFBVHB1QixFQUM5Q3M5QyxFQUF3QyxtQkFBWGx2QixLQUEyQkEsRUFBT3B1QixJQUE4QixtQkFBWG91QixLQUEyQkEsR0FDL0dpdkIsR0FBdUJDLEtBQ3ZCcjVDLEVBQU84NEMsR0FBYS84QyxFQUU1QixHQUVFZzlDLEdBQWNoM0MsR0FBVyxNQUFMQSxFQUNwQmszQyxHQUFRbDNDLEdBQU1BLEVDMUZQLEdBQWUsQ0FBQ3UzQyxFQUFjOXpDLEVBQU8rekMsRUFBWUMsRUFBb0JDLEVBQVVDLEtBQ3hGLEdBQWEsTUFBVGwwQyxRQUF1Q3ZDLElBQXRCdUMsRUFBTSt6QyxHQWF2QixNQUFNLElBQUl2bkMsTUFBTSwyQ0FBNkN1bkMsRUFBYSxLQWJ4QixDQUNsRCxNQUFNSSxFQUFhSCxJQUNuQixHQUFJRyxFQUFXcDZDLFFBQVUsRUFDckIsTUFBTSxJQUFJeVMsTUFBTSw4Q0FBZ0R1bkMsRUFBYSxLQUVqRkQsRUFBZUEsRUFBYXR0QyxRQUFReXRDLEVBQVVDLEVBQ3hDQyxFQUNHNXNDLE1BQU0sS0FDTnpGLEtBQUtzeUMsR0FBWTlCLEdBQTJCOEIsS0FDNUNueUMsS0FBSyxLQUNScXdDLEdBQTJCNkIsR0FDckMsQ0FJQSxPQUFPTCxDQUFZLEVDakJWTyxHQUFrQjk5QyxJQUMzQixHQUFJQSxHQUFVQSxFQUNWLE1BQU8sTUFFWCxPQUFRQSxHQUNKLEtBQUt3NUMsSUFDRCxNQUFPLFdBQ1gsS0FBSyxJQUNELE1BQU8sWUFDWCxRQUNJLE9BQU94NUMsRUFDZixFQ1hTLEdBQVN1TSxJQUNsQixHQUFXLE1BQVBBLEVBQ0EsTUFBTyxDQUFDLEVBRVosR0FBSTdKLE1BQU00USxRQUFRL0csR0FDZCxPQUFPQSxFQUFJNmhCLFFBQVFwb0IsR0FBVyxNQUFMQSxJQUU3QixHQUFtQixpQkFBUnVHLEVBQWtCLENBQ3pCLE1BQU10SSxFQUFTLENBQUMsRUFDaEIsSUFBSyxNQUFNQyxLQUFPckUsT0FBTzJNLEtBQUtELEdBQ1YsTUFBWkEsRUFBSXJJLEtBR1JELEVBQU9DLEdBQU8sR0FBTXFJLEVBQUlySSxLQUU1QixPQUFPRCxDQUNYLENBQ0EsT0FBT3NJLENBQUcsRUNmUCxNQUFNd3hDLFdBQTRCLEdBQ3JDLFdBQUFoN0MsQ0FBWXdMLEdBQ1I4a0IsTUFBTTlrQixHQUNOMU8sT0FBTzJDLGVBQWVuQyxLQUFNMDlDLEdBQW9CdjlDLFVBQ3BELEVDSkcsTUFBTXc5QyxXQUE4QixHQUN2QyxXQUFBajdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSx3QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLHdCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNMjlDLEdBQXNCeDlDLFVBQ3RELEVBRUcsTUFBTTA5QyxXQUF5QyxHQUNsRCxXQUFBbjdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxtQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLG1DQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNNjlDLEdBQWlDMTlDLFVBQ2pFLEVBRUcsTUFBTTI5QyxXQUFzQyxHQUMvQyxXQUFBcDdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxnQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLGdDQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNODlDLEdBQThCMzlDLFVBQzlELEVBRUcsTUFBTTQ5QyxXQUFnQyxHQUN6QyxXQUFBcjdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSwwQkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLDBCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNKzlDLEdBQXdCNTlDLFVBQ3hELEVBRUcsTUFBTTY5QyxXQUFrQyxHQUMzQyxXQUFBdDdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSw0QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLDRCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNZytDLEdBQTBCNzlDLFVBQzFELEVBRUcsTUFBTTg5QyxXQUFzQyxHQUMvQyxXQUFBdjdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxnQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLGdDQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNaStDLEdBQThCOTlDLFVBQzlELEVBRUcsTUFBTSs5QyxXQUF1QyxHQUNoRCxXQUFBeDdDLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxpQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLGlDQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNaytDLEdBQStCLzlDLFVBQy9ELEVBY0csTUFBTWcrQyxHQUFpQ2p5QyxJQUFRLElBQy9DQSxLQUNDQSxFQUFJa3lDLGlCQUFtQixDQUFFQSxnQkFBaUIsTUFFckNDLEdBQXdDbnlDLElBQVEsSUFDdERBLEtBQ0NBLEVBQUlveUMsYUFBZSxDQUFFQSxZQUFhSCxHQUE4Qmp5QyxFQUFJb3lDLGdCQVUvREMsR0FBc0RyeUMsSUFBUSxJQUNwRUEsS0FDQ0EsRUFBSXN5QyxrQkFBb0IsQ0FBRUEsaUJBQWtCLE1BRXZDQyxHQUF1RHZ5QyxJQUFRLElBQ3JFQSxLQUNDQSxFQUFJb3lDLGFBQWUsQ0FBRUEsWUFBYUgsR0FBOEJqeUMsRUFBSW95Qyw4QkNuSHJFLE1Bb1hESSxHQUE4Qno5QixNQUFPMDlCLEVBQWNsOUIsS0FDckQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlQyxHQUF5QnQ1QyxFQUFLcVEsTUFBTzZMLEdBQ3BEbTRCLEVBQVksSUFBSStELEdBQXNCLENBQ3hDejdCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRHU1QyxHQUF1Qzc5QixNQUFPMDlCLEVBQWNsOUIsS0FDOUQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlRyxHQUFrQ3g1QyxFQUFLcVEsTUFBTzZMLEdBQzdEbTRCLEVBQVksSUFBSXNFLEdBQStCLENBQ2pEaDhCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRHk1QyxHQUFrQy85QixNQUFPMDlCLEVBQWNsOUIsS0FDekQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlSyxHQUE2QjE1QyxFQUFLcVEsTUFBTzZMLEdBQ3hEbTRCLEVBQVksSUFBSW9FLEdBQTBCLENBQzVDOTdCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQVdoRDI1QyxHQUFzQ2orQixNQUFPMDlCLEVBQWNsOUIsS0FDN0QsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlTyxHQUFpQzU1QyxFQUFLcVEsTUFBTzZMLEdBQzVEbTRCLEVBQVksSUFBSXFFLEdBQThCLENBQ2hELzdCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRDY1QyxHQUF5Q24rQixNQUFPMDlCLEVBQWNsOUIsS0FDaEUsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlUyxHQUFvQzk1QyxFQUFLcVEsTUFBTzZMLEdBQy9EbTRCLEVBQVksSUFBSWlFLEdBQWlDLENBQ25EMzdCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRCs1QyxHQUFzQ3IrQixNQUFPMDlCLEVBQWNsOUIsS0FDN0QsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlVyxHQUFpQ2g2QyxFQUFLcVEsTUFBTzZMLEdBQzVEbTRCLEVBQVksSUFBSWtFLEdBQThCLENBQ2hENTdCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRGk2QyxHQUFnQ3YrQixNQUFPMDlCLEVBQWNsOUIsS0FDdkQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlYSxHQUEyQmw2QyxFQUFLcVEsTUFBTzZMLEdBQ3REbTRCLEVBQVksSUFBSW1FLEdBQXdCLENBQzFDNzdCLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRG02QyxHQUF1QixDQUFDdDJDLEVBQU9xWSxLQUNqQyxNQUFNOFMsRUFBVSxDQUFDLEVBT2pCLEdBTnFCLE1BQWpCbnJCLEVBQU11MkMsVUFDTnByQixFQUFpQixRQUFJbnJCLEVBQU11MkMsU0FFRixNQUF6QnYyQyxFQUFNdzJDLGtCQUNOcnJCLEVBQXlCLGdCQUFJbnJCLEVBQU13MkMsaUJBRWYsTUFBcEJ4MkMsRUFBTXkyQyxXQUFvQixDQUMxQixNQUFNQyxFQUFnQkMsR0FBNEIzMkMsRUFBTXkyQyxXQUFZcCtCLEdBQ25DLElBQTdCclksRUFBTXkyQyxZQUFZMThDLFNBQ2xCb3hCLEVBQVFzckIsV0FBYSxJQUV6QnJnRCxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxjQUFjMXdCLEtBQ1hsRSxDQUFLLEdBRTVCLENBT0EsR0FOb0IsTUFBaEJ5SixFQUFNNDJDLFNBQ056ckIsRUFBZ0IsT0FBSW5yQixFQUFNNDJDLFFBRUQsTUFBekI1MkMsRUFBTTYyQyxrQkFDTjFyQixFQUF5QixnQkFBSW5yQixFQUFNNjJDLGlCQUVyQixNQUFkNzJDLEVBQU04MkMsS0FBYyxDQUNwQixNQUFNSixFQUFnQkssR0FBZS8yQyxFQUFNODJDLEtBQU16K0IsR0FDdEIsSUFBdkJyWSxFQUFNODJDLE1BQU0vOEMsU0FDWm94QixFQUFRMnJCLEtBQU8sSUFFbkIxZ0QsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFksUUFBUTF3QixLQUNMbEUsQ0FBSyxHQUU1QixDQUNBLEdBQStCLE1BQTNCeUosRUFBTWczQyxrQkFBMkIsQ0FDakMsTUFBTU4sRUFBZ0JPLEdBQWtCajNDLEVBQU1nM0Msa0JBQW1CMytCLEdBQ3pCLElBQXBDclksRUFBTWczQyxtQkFBbUJqOUMsU0FDekJveEIsRUFBUTZyQixrQkFBb0IsSUFFaEM1Z0QsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFkscUJBQXFCMXdCLEtBQ2xCbEUsQ0FBSyxHQUU1QixDQWFBLEdBWndCLE1BQXBCeUosRUFBTWszQyxhQUNOL3JCLEVBQW9CLFdBQUluckIsRUFBTWszQyxZQUVSLE1BQXRCbDNDLEVBQU1tM0MsZUFDTmhzQixFQUFzQixhQUFJbnJCLEVBQU1tM0MsY0FFYixNQUFuQm4zQyxFQUFNbzNDLFlBQ05qc0IsRUFBbUIsVUFBSW5yQixFQUFNbzNDLFdBRUwsTUFBeEJwM0MsRUFBTXEzQyxpQkFDTmxzQixFQUF3QixlQUFJbnJCLEVBQU1xM0MsZ0JBRVIsTUFBMUJyM0MsRUFBTXMzQyxpQkFBMEIsQ0FDaEMsTUFBTVosRUFBZ0JhLEdBQTRCdjNDLEVBQU1zM0MsaUJBQWtCai9CLEdBQ25DLElBQW5DclksRUFBTXMzQyxrQkFBa0J2OUMsU0FDeEJveEIsRUFBUW1zQixpQkFBbUIsSUFFL0JsaEQsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFksb0JBQW9CMXdCLEtBQ2pCbEUsQ0FBSyxHQUU1QixDQUNBLE9BQU80MEIsQ0FBTyxFQStCWnFzQixHQUFzQyxDQUFDeDNDLEVBQU9xWSxLQUNoRCxNQUFNOFMsRUFBVSxDQUFDLEVBYWpCLEdBWnFCLE1BQWpCbnJCLEVBQU11MkMsVUFDTnByQixFQUFpQixRQUFJbnJCLEVBQU11MkMsU0FFRixNQUF6QnYyQyxFQUFNdzJDLGtCQUNOcnJCLEVBQXlCLGdCQUFJbnJCLEVBQU13MkMsaUJBRVQsTUFBMUJ4MkMsRUFBTW8xQyxtQkFDTmpxQixFQUEwQixpQkFBSW5yQixFQUFNbzFDLGtCQUVoQixNQUFwQnAxQyxFQUFNeTNDLGFBQ050c0IsRUFBb0IsV0FBSW5yQixFQUFNeTNDLFlBRVYsTUFBcEJ6M0MsRUFBTXkyQyxXQUFvQixDQUMxQixNQUFNQyxFQUFnQkMsR0FBNEIzMkMsRUFBTXkyQyxXQUFZcCtCLEdBQ25DLElBQTdCclksRUFBTXkyQyxZQUFZMThDLFNBQ2xCb3hCLEVBQVFzckIsV0FBYSxJQUV6QnJnRCxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxjQUFjMXdCLEtBQ1hsRSxDQUFLLEdBRTVCLENBT0EsT0FOb0IsTUFBaEJ5SixFQUFNNDJDLFNBQ056ckIsRUFBZ0IsT0FBSW5yQixFQUFNNDJDLFFBRUQsTUFBekI1MkMsRUFBTTYyQyxrQkFDTjFyQixFQUF5QixnQkFBSW5yQixFQUFNNjJDLGlCQUVoQzFyQixDQUFPLEVBa0Vad3JCLEdBQThCLENBQUMzMkMsRUFBT3FZLEtBQ3hDLE1BQU04UyxFQUFVLENBQUMsRUFDakIsSUFBSXVzQixFQUFVLEVBQ2QsSUFBSyxNQUFNelMsS0FBU2psQyxFQUFPLENBQ3ZCLEdBQWMsT0FBVmlsQyxFQUNBLFNBRUosTUFBTXlSLEVBQWdCaUIsR0FBd0IxUyxFQUFPNXNCLEdBQ3JEamlCLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUN6QzQwQixFQUFRLFVBQVV1c0IsS0FBV2o5QyxLQUFTbEUsQ0FBSyxJQUUvQ21oRCxHQUNKLENBQ0EsT0FBT3ZzQixDQUFPLEVBRVp3c0IsR0FBMEIsQ0FBQzMzQyxFQUFPcVksS0FDcEMsTUFBTThTLEVBQVUsQ0FBQyxFQUlqQixPQUhpQixNQUFibnJCLEVBQU1rd0IsTUFDTi9FLEVBQWEsSUFBSW5yQixFQUFNa3dCLEtBRXBCL0UsQ0FBTyxFQUVaeXNCLEdBQXFCLENBQUM1M0MsRUFBT3FZLEtBQy9CLE1BQU04UyxFQUFVLENBQUMsRUFPakIsT0FOeUIsTUFBckJuckIsRUFBTTYzQyxjQUNOMXNCLEVBQXFCLFlBQUluckIsRUFBTTYzQyxhQUVMLE1BQTFCNzNDLEVBQU04M0MsbUJBQ04zc0IsRUFBMEIsaUJBQUluckIsRUFBTTgzQyxrQkFFakMzc0IsQ0FBTyxFQUVab3NCLEdBQThCLENBQUN2M0MsRUFBT3FZLEtBQ3hDLE1BQU04UyxFQUFVLENBQUMsRUFDakIsSUFBSXVzQixFQUFVLEVBQ2QsSUFBSyxNQUFNelMsS0FBU2psQyxFQUFPLENBQ3ZCLEdBQWMsT0FBVmlsQyxFQUNBLFNBRUosTUFBTXlSLEVBQWdCa0IsR0FBbUIzUyxHQUN6Qzd1QyxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFDekM0MEIsRUFBUSxVQUFVdXNCLEtBQVdqOUMsS0FBU2xFLENBQUssSUFFL0NtaEQsR0FDSixDQUNBLE9BQU92c0IsQ0FBTyxFQUVaNHNCLEdBQVMsQ0FBQy8zQyxFQUFPcVksS0FDbkIsTUFBTThTLEVBQVUsQ0FBQyxFQU9qQixPQU5pQixNQUFibnJCLEVBQU1nNEMsTUFDTjdzQixFQUFhLElBQUluckIsRUFBTWc0QyxLQUVSLE1BQWZoNEMsRUFBTWk0QyxRQUNOOXNCLEVBQWUsTUFBSW5yQixFQUFNaTRDLE9BRXRCOXNCLENBQU8sRUFFWjhyQixHQUFvQixDQUFDajNDLEVBQU9xWSxLQUM5QixNQUFNOFMsRUFBVSxDQUFDLEVBQ2pCLElBQUl1c0IsRUFBVSxFQUNkLElBQUssTUFBTXpTLEtBQVNqbEMsRUFDRixPQUFWaWxDLElBR0o5WixFQUFRLFVBQVV1c0IsS0FBYXpTLEVBQy9CeVMsS0FFSixPQUFPdnNCLENBQU8sRUFFWjRyQixHQUFpQixDQUFDLzJDLEVBQU9xWSxLQUMzQixNQUFNOFMsRUFBVSxDQUFDLEVBQ2pCLElBQUl1c0IsRUFBVSxFQUNkLElBQUssTUFBTXpTLEtBQVNqbEMsRUFBTyxDQUN2QixHQUFjLE9BQVZpbEMsRUFDQSxTQUVKLE1BQU15UixFQUFnQnFCLEdBQU85UyxHQUM3Qjd1QyxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFDekM0MEIsRUFBUSxVQUFVdXNCLEtBQVdqOUMsS0FBU2xFLENBQUssSUFFL0NtaEQsR0FDSixDQUNBLE9BQU92c0IsQ0FBTyxFQUVaK3NCLEdBQXFCLENBQUNsL0IsRUFBUVgsS0FDaEMsTUFBTTgvQixFQUFXLENBQUMsRUFPbEIsWUFOZ0MxNkMsSUFBNUJ1YixFQUFzQixnQkFDdEJtL0IsRUFBU0MsY0FBZ0IsR0FBZXAvQixFQUFzQixxQkFFNUN2YixJQUFsQnViLEVBQVksTUFDWm0vQixFQUFTRSxJQUFNLEdBQWVyL0IsRUFBWSxNQUV2Q20vQixDQUFRLEVBMEViRyxHQUFpQixDQUFDdC9CLEVBQVFYLEtBQzVCLE1BQU04L0IsRUFBVyxDQUFDLEVBYWxCLFlBWjhCMTZDLElBQTFCdWIsRUFBb0IsY0FDcEJtL0IsRUFBU0ksWUFBYyxHQUFldi9CLEVBQW9CLG1CQUU1QnZiLElBQTlCdWIsRUFBd0Isa0JBQ3hCbS9CLEVBQVNuRCxnQkFBa0IsR0FBZWg4QixFQUF3Qix1QkFFdkN2YixJQUEzQnViLEVBQXFCLGVBQ3JCbS9CLEVBQVNLLGFBQWUsR0FBZXgvQixFQUFxQixvQkFFbkN2YixJQUF6QnViLEVBQW1CLGFBQ25CbS9CLEVBQVNNLFdBQWEsR0FBZ0IsR0FBaUN6L0IsRUFBbUIsY0FFdkZtL0IsQ0FBUSxFQVNiMUMsR0FBMkIsQ0FBQ3o4QixFQUFRWCxLQUN0QyxNQUFNOC9CLEVBQVcsQ0FBQyxFQUlsQixZQUgwQjE2QyxJQUF0QnViLEVBQWdCLFVBQ2hCbS9CLEVBQVMvd0MsUUFBVSxHQUFlNFIsRUFBZ0IsVUFFL0NtL0IsQ0FBUSxFQW9EYnhDLEdBQW9DLENBQUMzOEIsRUFBUVgsS0FDL0MsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFFYnRDLEdBQStCLENBQUM3OEIsRUFBUVgsS0FDMUMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFTYnBDLEdBQW1DLENBQUMvOEIsRUFBUVgsS0FDOUMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFFYmxDLEdBQXNDLENBQUNqOUIsRUFBUVgsS0FDakQsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFFYmhDLEdBQW1DLENBQUNuOUIsRUFBUVgsS0FDOUMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFFYjlCLEdBQTZCLENBQUNyOUIsRUFBUVgsS0FDeEMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFFYixHQUF1Qm4vQixJQUFXLENBQ3BDMmpCLGVBQWdCM2pCLEVBQU83QixXQUN2Qmc2QixVQUFXbjRCLEVBQU83QyxRQUFRLHFCQUF1QjZDLEVBQU83QyxRQUFRLHNCQUF3QjZDLEVBQU83QyxRQUFRLG9CQUN2R2k3QixrQkFBbUJwNEIsRUFBTzdDLFFBQVEsY0FDbENrN0IsS0FBTXI0QixFQUFPN0MsUUFBUSxpQkFHbkIsR0FBb0J3NkIsR0FBa0IsSUFDdEMrSCxHQUFzQjdnQyxNQUFPUSxFQUFTbEMsRUFBU0csRUFBTXFpQyxFQUFrQng4QyxLQUN6RSxNQUFNLFNBQUU2WixFQUFRLFNBQUVJLEVBQVcsUUFBTyxLQUFFSCxFQUFNSyxLQUFNc2lDLFNBQW1CdmdDLEVBQVFtVyxXQUN2RTJwQixFQUFXLENBQ2IvaEMsV0FDQUosV0FDQUMsT0FDQUYsT0FBUSxPQUNSTyxLQUFNc2lDLEVBQVM1c0MsU0FBUyxLQUFPNHNDLEVBQVN2aUMsTUFBTSxHQUFJLEdBQUtDLEVBQU9zaUMsRUFBV3RpQyxFQUN6RUgsV0FRSixZQU55QjFZLElBQXJCazdDLElBQ0FSLEVBQVNuaUMsU0FBVzJpQyxRQUVYbDdDLElBQVR0QixJQUNBZzhDLEVBQVNoOEMsS0FBT0EsR0FFYixJQUFJLEVBQWNnOEMsRUFBUyxFQUVoQ1UsR0FBaUIsQ0FDbkIsZUFBZ0IscUNBRWRDLEdBQVksQ0FBQzNNLEVBQVk5ekIsSUF2QkwsRUFBQzh6QixFQUFZOXpCLElBQVksR0FBWTh6QixFQUFZOXpCLEdBQVNuYyxNQUFNQyxHQUFTa2MsRUFBUTBnQyxZQUFZNThDLEtBdUI1RTY4QyxDQUFrQjdNLEVBQVk5ekIsR0FBU25jLE1BQU0yRixJQUNwRixHQUFJQSxFQUFROUgsT0FBUSxDQUNoQixNQUFNay9DLEVBQVMsSUFBSSxHQUFBNzJDLFVBQVUsQ0FDekJxRixvQkFBcUIsR0FDckJtRyxjQUFjLEVBQ2RoRyxrQkFBa0IsRUFDbEJpRyxtQkFBbUIsRUFDbkJULGVBQWUsRUFDZkUsWUFBWSxFQUNabkYsa0JBQW1CLENBQUM1TCxFQUFHaU0sSUFBd0IsS0FBZkEsRUFBSWxELFFBQWlCa0QsRUFBSXlELFNBQVMsTUFBUSxRQUFLeE8sSUFFbkZ3N0MsRUFBT3ZtQyxVQUFVLE1BQU8sTUFDeEJ1bUMsRUFBT3ZtQyxVQUFVLE1BQU8sTUFDeEIsTUFBTXdtQyxFQUFZRCxFQUFPM21DLE1BQU16USxHQUN6QjhGLEVBQWUsUUFDZmxOLEVBQU1yRSxPQUFPMk0sS0FBS20yQyxHQUFXLEdBQzdCQyxFQUFvQkQsRUFBVXorQyxHQUtwQyxPQUpJMCtDLEVBQWtCeHhDLEtBQ2xCd3hDLEVBQWtCMStDLEdBQU8wK0MsRUFBa0J4eEMsVUFDcEN3eEMsRUFBa0J4eEMsSUFFdEIsR0FBdUJ3eEMsRUFDbEMsQ0FDQSxNQUFPLENBQUMsQ0FBQyxJQUVQQyxHQUFpQnZoQyxNQUFPd2hDLEVBQVdoaEMsS0FDckMsTUFBTTloQixRQUFjdWlELEdBQVVPLEVBQVdoaEMsR0FJekMsT0FISTloQixFQUFNaVcsUUFDTmpXLEVBQU1pVyxNQUFNcEYsUUFBVTdRLEVBQU1pVyxNQUFNcEYsU0FBVzdRLEVBQU1pVyxNQUFNa2tDLFNBRXREbjZDLENBQUssRUFFVitpRCxHQUE2QkMsR0FBZ0JuakQsT0FBTyswQixRQUFRb3VCLEdBQzdEejNDLEtBQUksRUFBRXJILEVBQUtsRSxLQUFXLEdBQTZCa0UsR0FBTyxJQUFNLEdBQTZCbEUsS0FDN0YwTCxLQUFLLEtBQ0p1M0MsR0FBcUIsQ0FBQ3hnQyxFQUFRdGhCLFNBQ1ArRixJQUFyQi9GLEVBQUs4VSxPQUFPeWtDLEtBQ0x2NUMsRUFBSzhVLE1BQU15a0MsS0FFRyxLQUFyQmo0QixFQUFPN0IsV0FDQSxnQkFEWCxFQ3IrQkcsTUFBTXNpQyxXQUEwQixHQUNuQyx1Q0FBT3ZnQixHQUNILE1BQU8sQ0FDSHdnQixrQkFBbUIsQ0FBRTc5QixLQUFNLGdCQUFpQnBTLEtBQU0scUJBQ2xEa3dDLFFBQVMsQ0FBRTk5QixLQUFNLGdCQUFpQnBTLEtBQU0sbUJBQ3hDa21CLFNBQVUsQ0FBRTlULEtBQU0sZ0JBQWlCcFMsS0FBTSxZQUN6Q213QyxPQUFRLENBQUUvOUIsS0FBTSxnQkFBaUJwUyxLQUFNLFVBQ3ZDb3dDLGFBQWMsQ0FBRWgrQixLQUFNLGdCQUFpQnBTLEtBQU0sd0JBRXJELENBQ0EsV0FBQW5RLENBQVkwRyxHQUNSNHBCLFFBQ0FoekIsS0FBS29KLE1BQVFBLENBQ2pCLENBQ0EsaUJBQUFrb0MsQ0FBa0J0d0IsRUFBYWlnQixFQUFlL3lCLEdBQzFDbE8sS0FBS2d4QyxnQkFBZ0J0QixJQUFJaEwsR0FBZXpELEVBQWVqaEMsS0FBS3l3QyxVQUFXendDLEtBQUsyd0MsY0FDNUUzd0MsS0FBS2d4QyxnQkFBZ0J0QixJQUFJdkssR0FBa0JsRSxFQUFlNGhCLEdBQWtCdmdCLHFDQUM1RXRpQyxLQUFLZ3hDLGdCQUFnQnRCLElBQUkxZSxHQUFpQmlRLElBQzFDLE1BQU1zTixFQUFRdnRCLEVBQVk5WixPQUFPbEgsS0FBS2d4QyxrQkFDaEMsT0FBRXB2QixHQUFXcWYsRUFHYmlpQixFQUEwQixDQUM1QnRoQyxTQUNBRixXQUplLFlBS2ZDLFlBSmdCLG9CQUtoQkssd0JBQTBCcmMsR0FBTUEsRUFDaENzYyx5QkFBMEJvOEIsR0FDMUIsQ0FBQ3IvQixHQUFxQixDQUNsQjJLLFFBQVMsbUNBQ1R3NUIsVUFBVyxnQkFHYixlQUFFL2hDLEdBQW1CNmYsRUFDM0IsT0FBT3NOLEVBQU12cEMsU0FBUythLEdBQVlxQixFQUFld3hCLE9BQU83eUIsRUFBUUEsUUFBUzdSLEdBQVcsQ0FBQyxJQUFJZzFDLEVBQzdGLENBQ0EsU0FBQXpTLENBQVVybkMsRUFBT3FZLEdBQ2IsTUR4QzRCUixPQUFPN1gsRUFBT3FZLEtBQzlDLE1BQU1sQyxFQUFVMGlDLEdBQ2hCLElBQUkxOEMsRUFNSixPQUxBQSxFQUFPbTlDLEdBQTBCLElBQzFCaEQsR0FBcUJ0MkMsRUFBT3FZLEdBQy9CMmhDLE9BQVEsYUFDUkMsUUFBUyxlQUVOdkIsR0FBb0JyZ0MsRUFBU2xDLEVBQVMsU0FBSzFZLEVBQVd0QixFQUFLLEVDZ0N2RCs5QyxDQUFxQmw2QyxFQUFPcVksRUFDdkMsQ0FDQSxXQUFBa3ZCLENBQVl2dUIsRUFBUVgsR0FDaEIsTURxQzRCUixPQUFPbUIsRUFBUVgsS0FDL0MsR0FBSVcsRUFBTzdCLFlBQWMsSUFDckIsTUFXMEJVLE9BQU9tQixFQUFRWCxLQUM3QyxNQUFNazlCLEVBQWUsSUFDZHY4QixFQUNIN2MsV0FBWWk5QyxHQUFlcGdDLEVBQU83YyxLQUFNa2MsSUFFdEN5NEIsRUFBWTBJLEdBQW1CeGdDLEVBQVF1OEIsRUFBYXA1QyxNQUMxRCxPQUFRMjBDLEdBQ0osSUFBSyx3QkFDTCxJQUFLLDBDQUNELFlBQVl3RSxHQUE0QkMsRUFBY2w5QixHQUMxRCxJQUFLLDBCQUNMLElBQUsscURBQ0QsWUFBWTI5QixHQUF1Q1QsRUFBY2w5QixHQUNyRSxJQUFLLHVCQUNMLElBQUssa0RBQ0QsWUFBWTY5QixHQUFvQ1gsRUFBY2w5QixHQUNsRSxJQUFLLDBCQUNMLElBQUssNENBQ0QsWUFBWSs5QixHQUE4QmIsRUFBY2w5QixHQUM1RCxRQUNJLE1BQU13NEIsRUFBYTBFLEVBQWFwNUMsS0FDaEMsT0FBTyxHQUFrQixDQUNyQjZjLFNBQ0E2M0IsV0FBWUEsRUFBV3JrQyxNQUN2QnNrQyxjQUVaLEVBckNXcUosQ0FBMEJuaEMsRUFBUVgsR0FHN0MsSUFBSTgvQixFQUFXLENBQUMsRUFNaEIsT0FMQUEsRUFxb0IwQixFQUFDbi9CLEVBQVFYLEtBQ25DLE1BQU04L0IsRUFBVyxDQUFDLEVBYWxCLFlBWjhCMTZDLElBQTFCdWIsRUFBb0IsY0FDcEJtL0IsRUFBU2pELFlBQWNvRCxHQUFldC9CLEVBQW9CLFlBQUdYLFNBRS9CNWEsSUFBOUJ1YixFQUF3QixrQkFDeEJtL0IsRUFBU2lDLGdCQUFrQmxDLEdBQW1CbC9CLEVBQXdCLHVCQUV2Q3ZiLElBQS9CdWIsRUFBeUIsbUJBQ3pCbS9CLEVBQVNrQyxpQkFBbUIsR0FBbUJyaEMsRUFBeUIsd0JBRTNDdmIsSUFBN0J1YixFQUF1QixpQkFDdkJtL0IsRUFBU2QsZUFBaUIsR0FBZXIrQixFQUF1QixpQkFFN0RtL0IsQ0FBUSxFQW5wQkptQyxRQUZReEIsR0FBVTkvQixFQUFPN2MsS0FBTWtjLElBRUpraUMsaUJBQWtCbGlDLEdBQ3ZDLENBQ2JTLFVBQVcsR0FBb0JFLE1BQzVCbS9CLEVBRVEsRUNoREpxQyxDQUFxQnhoQyxFQUFRWCxFQUN4QyxFQzFDRyxNQUFNb2lDLFdBQXlDLEdBQ2xELHVDQUFPdmhCLEdBQ0gsTUFBTyxDQUNId2dCLGtCQUFtQixDQUFFNzlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxxQkFDbERrd0MsUUFBUyxDQUFFOTlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxtQkFDeENrbUIsU0FBVSxDQUFFOVQsS0FBTSxnQkFBaUJwUyxLQUFNLFlBQ3pDbXdDLE9BQVEsQ0FBRS85QixLQUFNLGdCQUFpQnBTLEtBQU0sVUFDdkNvd0MsYUFBYyxDQUFFaCtCLEtBQU0sZ0JBQWlCcFMsS0FBTSx3QkFFckQsQ0FDQSxXQUFBblEsQ0FBWTBHLEdBQ1I0cEIsUUFDQWh6QixLQUFLb0osTUFBUUEsQ0FDakIsQ0FDQSxpQkFBQWtvQyxDQUFrQnR3QixFQUFhaWdCLEVBQWUveUIsR0FDMUNsTyxLQUFLZ3hDLGdCQUFnQnRCLElBQUloTCxHQUFlekQsRUFBZWpoQyxLQUFLeXdDLFVBQVd6d0MsS0FBSzJ3QyxjQUM1RTN3QyxLQUFLZ3hDLGdCQUFnQnRCLElBQUl2SyxHQUFrQmxFLEVBQWU0aUIsR0FBaUN2aEIscUNBQzNGLE1BQU1pTSxFQUFRdnRCLEVBQVk5WixPQUFPbEgsS0FBS2d4QyxrQkFDaEMsT0FBRXB2QixHQUFXcWYsRUFHYmlpQixFQUEwQixDQUM1QnRoQyxTQUNBRixXQUplLFlBS2ZDLFlBSmdCLG1DQUtoQkssd0JBQXlCdThCLEdBQ3pCdDhCLHlCQUEwQnc4QixHQUMxQixDQUFDei9CLEdBQXFCLENBQ2xCMkssUUFBUyxtQ0FDVHc1QixVQUFXLCtCQUdiLGVBQUUvaEMsR0FBbUI2ZixFQUMzQixPQUFPc04sRUFBTXZwQyxTQUFTK2EsR0FBWXFCLEVBQWV3eEIsT0FBTzd5QixFQUFRQSxRQUFTN1IsR0FBVyxDQUFDLElBQUlnMUMsRUFDN0YsQ0FDQSxTQUFBelMsQ0FBVXJuQyxFQUFPcVksR0FDYixNRmxCMkNSLE9BQU83WCxFQUFPcVksS0FDN0QsTUFBTWxDLEVBQVUwaUMsR0FDaEIsSUFBSTE4QyxFQU1KLE9BTEFBLEVBQU9tOUMsR0FBMEIsSUFDMUI5QixHQUFvQ3gzQyxFQUFPcVksR0FDOUMyaEMsT0FBUSw0QkFDUkMsUUFBUyxlQUVOdkIsR0FBb0JyZ0MsRUFBU2xDLEVBQVMsU0FBSzFZLEVBQVd0QixFQUFLLEVFVXZEdStDLENBQW9DMTZDLEVBQU9xWSxFQUN0RCxDQUNBLFdBQUFrdkIsQ0FBWXZ1QixFQUFRWCxHQUNoQixNRitIMkNSLE9BQU9tQixFQUFRWCxLQUM5RCxHQUFJVyxFQUFPN0IsWUFBYyxJQUNyQixNQVd5Q1UsT0FBT21CLEVBQVFYLEtBQzVELE1BQU1rOUIsRUFBZSxJQUNkdjhCLEVBQ0g3YyxXQUFZaTlDLEdBQWVwZ0MsRUFBTzdjLEtBQU1rYyxJQUV0Q3k0QixFQUFZMEksR0FBbUJ4Z0MsRUFBUXU4QixFQUFhcDVDLE1BQzFELE9BQVEyMEMsR0FDSixJQUFLLHdCQUNMLElBQUssMENBQ0QsWUFBWXdFLEdBQTRCQyxFQUFjbDlCLEdBQzFELElBQUssd0JBQ0wsSUFBSyxtREFDRCxZQUFZcTlCLEdBQXFDSCxFQUFjbDlCLEdBQ25FLElBQUssbUJBQ0wsSUFBSyw4Q0FDRCxZQUFZdTlCLEdBQWdDTCxFQUFjbDlCLEdBQzlELElBQUssdUJBQ0wsSUFBSyxrREFDRCxZQUFZeTlCLEdBQW9DUCxFQUFjbDlCLEdBQ2xFLElBQUssMEJBQ0wsSUFBSyxxREFDRCxZQUFZMjlCLEdBQXVDVCxFQUFjbDlCLEdBQ3JFLElBQUssdUJBQ0wsSUFBSyxrREFDRCxZQUFZNjlCLEdBQW9DWCxFQUFjbDlCLEdBQ2xFLElBQUssMEJBQ0wsSUFBSyw0Q0FDRCxZQUFZKzlCLEdBQThCYixFQUFjbDlCLEdBQzVELFFBQ0ksTUFBTXc0QixFQUFhMEUsRUFBYXA1QyxLQUNoQyxPQUFPLEdBQWtCLENBQ3JCNmMsU0FDQTYzQixXQUFZQSxFQUFXcmtDLE1BQ3ZCc2tDLGNBRVosRUE5Q1c2SixDQUF5QzNoQyxFQUFRWCxHQUc1RCxJQUFJOC9CLEVBQVcsQ0FBQyxFQU1oQixPQUxBQSxFQTRsQnlDLEVBQUNuL0IsRUFBUVgsS0FDbEQsTUFBTTgvQixFQUFXLENBQUMsRUFzQmxCLFlBckI4QjE2QyxJQUExQnViLEVBQW9CLGNBQ3BCbS9CLEVBQVNqRCxZQUFjb0QsR0FBZXQvQixFQUFvQixZQUFHWCxTQUVuQjVhLElBQTFDdWIsRUFBb0MsOEJBQ3BDbS9CLEVBQVN5Qyw0QkFBOEIsR0FBZTVoQyxFQUFvQyxtQ0FFNUR2YixJQUE5QnViLEVBQXdCLGtCQUN4Qm0vQixFQUFTaUMsZ0JBQWtCbEMsR0FBbUJsL0IsRUFBd0IsdUJBRXZDdmIsSUFBL0J1YixFQUF5QixtQkFDekJtL0IsRUFBU2tDLGlCQUFtQixHQUFtQnJoQyxFQUF5Qix3QkFFakR2YixJQUF2QnViLEVBQWlCLFdBQ2pCbS9CLEVBQVMwQyxTQUFXLEdBQWU3aEMsRUFBaUIsZ0JBRTdCdmIsSUFBdkJ1YixFQUFpQixXQUNqQm0vQixFQUFTMkMsU0FBVyxHQUFlOWhDLEVBQWlCLGdCQUV2QnZiLElBQTdCdWIsRUFBdUIsaUJBQ3ZCbS9CLEVBQVNkLGVBQWlCLEdBQWVyK0IsRUFBdUIsaUJBRTdEbS9CLENBQVEsRUFubkJKNEMsUUFGUWpDLEdBQVU5L0IsRUFBTzdjLEtBQU1rYyxJQUVXMmlDLGdDQUFpQzNpQyxHQUNyRSxDQUNiUyxVQUFXLEdBQW9CRSxNQUM1Qm0vQixFQUVRLEVFMUlKOEMsQ0FBb0NqaUMsRUFBUVgsRUFDdkQsRUM3Q0osTUFBTTZpQyxHQUE2QixZQUM3QkMsR0FBeUI3NkIsR0FDTCxtQkFBWEEsT0FDVzdpQixJQUFYNmlCLEVBQXVCNDZCLEdBQTZCNTZCLEVBRXhEekksVUFDSCxJQUNJLGFBQWF5SSxHQUNqQixDQUNBLE1BQU9wbUIsR0FDSCxPQUFPZ2hELEVBQ1gsR0FHS0UsR0FBd0IsQ0FBQ0MsRUFBWUMsS0FDOUMsSUFBSUMsRUFDQUMsRUFDSixPQUFPM2pDLE1BQU80akMsRUFBYS8wQixLQUV2QixHQURBODBCLEVBQXFCQyxHQUNoQkYsRUFBVyxDQUNaLE1BQU0sT0FBRS9pQyxFQUFNLE9BQUU4SCxFQUFNLGVBQUV0SSxHQUFtQnFqQyxFQUMzQ0UsRUFBWSxJQUFJRCxFQUFjLENBQzFCOWlDLFNBQ0F3TiwwQkFBMkIsSUFBTW5PLFNBQVkyakMsRUFDN0NsN0IsT0FBUTY2QixHQUFzQjc2QixHQUFVKzZCLEVBQVcvNkIsV0FDL0N0SSxFQUFpQixDQUFFQSxrQkFBbUIsQ0FBQyxHQUVuRCxDQUNBLE1BQU0sWUFBRWs5QixTQUFzQnFHLEVBQVUxVCxLQUFLLElBQUk0UixHQUFrQi95QixJQUNuRSxJQUFLd3VCLElBQWdCQSxFQUFZcUQsY0FBZ0JyRCxFQUFZRixnQkFDekQsTUFBTSxJQUFJeG9DLE1BQU0sdURBQXVEa2EsRUFBTzZ2QixXQUVsRixNQUFPLENBQ0hyekIsWUFBYWd5QixFQUFZcUQsWUFDekJoekIsZ0JBQWlCMnZCLEVBQVlGLGdCQUM3Qi94QixhQUFjaXlCLEVBQVlzRCxhQUMxQnp4QixXQUFZbXVCLEVBQVl1RCxXQUMzQixDQUNKLEVBRVFpRCxHQUF1QyxDQUFDTCxFQUFZQyxLQUM3RCxJQUFJQyxFQUNKLE9BQU8xakMsTUFBTzZPLElBQ1YsSUFBSzYwQixFQUFXLENBQ1osTUFBTSxPQUFFL2lDLEVBQU0sT0FBRThILEVBQU0sZUFBRXRJLEdBQW1CcWpDLEVBQzNDRSxFQUFZLElBQUlELEVBQWMsQ0FDMUI5aUMsU0FDQThILE9BQVE2NkIsR0FBc0I3NkIsR0FBVSs2QixFQUFXLzZCLFdBQy9DdEksRUFBaUIsQ0FBRUEsa0JBQW1CLENBQUMsR0FFbkQsQ0FDQSxNQUFNLFlBQUVrOUIsU0FBc0JxRyxFQUFVMVQsS0FBSyxJQUFJNFMsR0FBaUMvekIsSUFDbEYsSUFBS3d1QixJQUFnQkEsRUFBWXFELGNBQWdCckQsRUFBWUYsZ0JBQ3pELE1BQU0sSUFBSXhvQyxNQUFNLHNFQUFzRWthLEVBQU82dkIsV0FFakcsTUFBTyxDQUNIcnpCLFlBQWFneUIsRUFBWXFELFlBQ3pCaHpCLGdCQUFpQjJ2QixFQUFZRixnQkFDN0IveEIsYUFBY2l5QixFQUFZc0QsYUFDMUJ6eEIsV0FBWW11QixFQUFZdUQsV0FDM0IsQ0FDSixFQy9ETCxJQUFJLElBQWlCLEVBQ2QsTUFBTSxHQUFtQ3BuQixJQUN4Q0EsSUFBWSxJQUFrQjNkLFNBQVMyZCxFQUFROXJCLFVBQVUsRUFBRzhyQixFQUFRbDNCLFFBQVEsT0FBUyxLQUNyRixJQUFpQixFQUNqQm9mLFFBQVFvaUMsWUFBWSw4U0FPeEIsRUNOUyxHQUFVLElBQU05akMsVUFDekIsTUFBTXFMLEVBQWMzSixRQUFRQyxJQUFXLGtCQUNqQytMLEVBQWtCaE0sUUFBUUMsSUFBYyxzQkFDeEN5SixFQUFlMUosUUFBUUMsSUFBZSxrQkFDdENvaUMsRUFBU3JpQyxRQUFRQyxJQUFrQiwwQkFDekMsR0FBSTBKLEdBQWVxQyxFQUNmLE1BQU8sQ0FDSHJDLGNBQ0FxQyxxQkFDSXRDLEdBQWdCLENBQUVBLG1CQUNsQjI0QixHQUFVLENBQUU3MEIsV0FBWSxJQUFJaGQsS0FBSzZ4QyxLQUc3QyxNQUFNLElBQUkxbkIsR0FBeUIsbURBQW1ELEVDbEJwRixHQUErQjdWLFFBQVEsT0NHdEMsU0FBU2d0QixHQUFZdm1DLEdBQ3hCLE9BQU8sSUFBSW5KLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDekIsTUFBTSthLEdBQU0sS0FBQUQsU0FBUSxDQUNoQlosT0FBUSxTQUNMalIsRUFDSGtSLFNBQVVsUixFQUFRa1IsVUFBVXhQLFFBQVEsYUFBYyxRQUV0RG9RLEVBQUk0ekIsR0FBRyxTQUFVdGxDLElBQ2JySixFQUFPekYsT0FBT3FELE9BQU8sSUFBSW82QixHQUFjLGtEQUFtRDN1QixJQUMxRjBSLEVBQUl1eEIsU0FBUyxJQUVqQnZ4QixFQUFJNHpCLEdBQUcsV0FBVyxLQUNkM3VDLEVBQU8sSUFBSWc0QixHQUFjLGdEQUN6QmpkLEVBQUl1eEIsU0FBUyxJQUVqQnZ4QixFQUFJNHpCLEdBQUcsWUFBYUYsSUFDaEIsTUFBTSxXQUFFbnpCLEVBQWEsS0FBUW16QixHQUN6Qm56QixFQUFhLEtBQU8sS0FBT0EsS0FDM0J0YixFQUFPekYsT0FBT3FELE9BQU8sSUFBSW82QixHQUFjLDBEQUEyRCxDQUFFMWMsZ0JBQ3BHUCxFQUFJdXhCLFdBRVIsTUFBTTVzQixFQUFTLEdBQ2YrdUIsRUFBSUUsR0FBRyxRQUFTN3VCLElBQ1pKLEVBQU9wZSxLQUFLd2UsRUFBTSxJQUV0QjJ1QixFQUFJRSxHQUFHLE9BQU8sS0FDVjV1QyxFQUFRLEVBQUFrRSxPQUFPaEMsT0FBT3lkLElBQ3RCM0UsRUFBSXV4QixTQUFTLEdBQ2YsSUFFTnZ4QixFQUFJKzBCLEtBQUssR0FFakIsQ0NuQ08sTUFBTWtRLEdBQXFCejlCLEdBQVF1YixRQUFRdmIsSUFDL0IsaUJBQVJBLEdBQ29CLGlCQUFwQkEsRUFBSW02QixhQUNvQixpQkFBeEJuNkIsRUFBSTQyQixpQkFDVSxpQkFBZDUyQixFQUFJMDlCLE9BQ2UsaUJBQW5CMTlCLEVBQUlxNkIsV0FDRnNELEdBQXVCQyxJQUFVLENBQzFDOTRCLFlBQWE4NEIsRUFBTXpELFlBQ25CaHpCLGdCQUFpQnkyQixFQUFNaEgsZ0JBQ3ZCL3hCLGFBQWMrNEIsRUFBTUYsTUFDcEIvMEIsV0FBWSxJQUFJaGQsS0FBS2l5QyxFQUFNdkQsY0NSbEJ3RCxHQUF5QixFQUFHQyxhQUROLEVBQ3dDQyxVQUY1QyxRQUU2RSxDQUFHRCxhQUFZQyxZQ0Y5RzVZLEdBQVEsQ0FBQzZZLEVBQVNGLEtBQzNCLElBQUlHLEVBQVVELElBQ2QsSUFBSyxJQUFJeGlELEVBQUksRUFBR0EsRUFBSXNpRCxFQUFZdGlELElBQzVCeWlELEVBQVVBLEVBQVE5ekIsTUFBTTZ6QixHQUU1QixPQUFPQyxDQUFPLEVDQ0xDLEdBQW9CLHFDQUNwQkMsR0FBd0IseUNBQ3hCQyxHQUFzQixvQ0FDdEJDLEdBQXdCLENBQUMxbkIsRUFBTyxDQUFDLEtBQzFDLE1BQU0sUUFBRW9uQixFQUFPLFdBQUVELEdBQWVELEdBQXVCbG5CLEdBQ3ZELE1BQU8sSUFBTXdPLElBQU0xckIsVUFDZixNQUFNNmtDLFFBQXVCQyxLQUN2QkMsRUFBZ0J0MkMsS0FBS2dNLFlBQVl1cUMsR0FBbUJWLEVBQVNPLElBQ25FLElBQUtiLEdBQWtCZSxHQUNuQixNQUFNLElBQUkxb0IsR0FBeUIsNkRBRXZDLE9BQU82bkIsR0FBb0JhLEVBQWMsR0FDMUNWLEVBQVcsRUFFWlcsR0FBcUJobEMsTUFBT3NrQyxFQUFTcjNDLEtBQ25DeVUsUUFBUUMsSUFBSWdqQyxNQUNaMTNDLEVBQVFxUixRQUFVLElBQ1hyUixFQUFRcVIsUUFDWDJtQyxjQUFldmpDLFFBQVFDLElBQUlnakMsYUFHZG5SLEdBQVksSUFDMUJ2bUMsRUFDSHEzQyxhQUVVbjZDLFlBR1orNkMsR0FBbUIsQ0FDckJDLFdBQVcsRUFDWCxhQUFhLEdBRVhDLEdBQXVCLENBQ3pCLFNBQVMsRUFDVCxVQUFVLEdBRVJOLEdBQWE5a0MsVUFDZixHQUFJMEIsUUFBUUMsSUFBSStpQyxJQUNaLE1BQU8sQ0FDSHZtQyxTQVpJLGdCQWFKTSxLQUFNaUQsUUFBUUMsSUFBSStpQyxLQUcxQixHQUFJaGpDLFFBQVFDLElBQUk4aUMsSUFBb0IsQ0FDaEMsTUFBTTlQLEdBQVMsS0FBQWw2QixPQUFNaUgsUUFBUUMsSUFBSThpQyxLQUNqQyxJQUFLOVAsRUFBT3gyQixZQUFjdzJCLEVBQU94MkIsWUFBWSttQyxJQUN6QyxNQUFNLElBQUk3b0IsR0FBeUIsR0FBR3NZLEVBQU94MkIsK0RBQStELEdBRWhILElBQUt3MkIsRUFBT3AyQixZQUFjbzJCLEVBQU9wMkIsWUFBWTZtQyxJQUN6QyxNQUFNLElBQUkvb0IsR0FBeUIsR0FBR3NZLEVBQU9wMkIsK0RBQStELEdBRWhILE1BQU8sSUFDQW8yQixFQUNIdjJCLEtBQU11MkIsRUFBT3YyQixLQUFPdkMsU0FBUzg0QixFQUFPdjJCLEtBQU0sU0FBTXhZLEVBRXhELENBQ0EsTUFBTSxJQUFJeTJCLEdBQ04sd0VBQVFxb0IsU0FBNEJELGtDQUNoQixFQUFNLEVDL0QzQixNQUFNWSxXQUF3Q2hwQixHQUNqRCxXQUFBNTZCLENBQVk4TixFQUFTMHNCLEdBQWMsR0FDL0JsSyxNQUFNeGlCLEVBQVMwc0IsR0FDZmw5QixLQUFLazlCLFlBQWNBLEVBQ25CbDlCLEtBQUs2UyxLQUFPLGtDQUNaclQsT0FBTzJDLGVBQWVuQyxLQUFNc21ELEdBQWdDbm1ELFVBQ2hFLEVDUEcsSUFBSTQ0QixJQUNYLFNBQVdBLEdBQ1BBLEVBQWUsS0FBSSx5QkFDbkJBLEVBQWUsS0FBSSx3QkFDdEIsQ0FIRCxDQUdHQSxLQUFhQSxHQUFXLENBQUMsSUNKckIsTUFFTXd0QixHQUEwQixDQUNuQy9xQiw0QkFBOEI1WSxHQUFRQSxFQUFxQixrQ0FDM0Q4WSxtQkFBcUJDLEdBQVlBLEVBQTRCLDhCQUM3RG56QixhQUFTM0IsR0NMTixJQUFJMi9DLElBQ1gsU0FBV0EsR0FDUEEsRUFBbUIsS0FBSSxPQUN2QkEsRUFBbUIsS0FBSSxNQUMxQixDQUhELENBR0dBLEtBQWlCQSxHQUFlLENBQUMsSUNIN0IsTUFFTUMsR0FBK0IsQ0FDeENqckIsNEJBQThCNVksR0FBUUEsRUFBMEIsdUNBQ2hFOFksbUJBQXFCQyxHQUFZQSxFQUFpQyxtQ0FDbEVuekIsUUFBU2crQyxHQUFhRSxNQ0FiQyxHQUE4QjFsQyxTQUFZMmdCLFNBQWdCZ2xCLFlBQW1DQyxNQUNwR0QsR0FBd0IzbEMsU0FBWThmLEdBQVd3bEIsR0FBWHhsQixHQUNwQzhsQixHQUE0QjVsQyxVQUM5QixNQUFNNmxDLFFBQXFCL2xCLEdBQVcwbEIsR0FBWDFsQixHQUMzQixPQUFRK2xCLEdBQ0osS0FBS04sR0FBYUUsS0FDZCxPQUFPLEdBQXlCQSxLQUNwQyxLQUFLRixHQUFhTyxLQUNkLE9BQU8sR0FBeUJBLEtBQ3BDLFFBQ0ksTUFBTSxJQUFJbnhDLE1BQU0sOEJBQThCa3hDLGtCQUFrQ3RuRCxPQUFPcTFCLE9BQU8yeEIsT0FDdEcsRUNkU1EsR0FBeUMsQ0FBQzk3QixFQUFhdEosS0FDaEUsTUFBTXFsQyxFQUp3QyxJQUsxQzdpQyxLQUFLK2lCLE1BSm1ELElBSTdDL2lCLEtBQUt5bEIsVUFDZHFkLEVBQWdCLElBQUkvekMsS0FBS0EsS0FBSzBiLE1BQTBCLElBQWxCbzRCLEdBQzVDcmxDLEVBQU9tcEIsS0FBSyxzU0FHWixNQUFNb2MsRUFBcUJqOEIsRUFBWWk4QixvQkFBc0JqOEIsRUFBWWlGLFdBQ3pFLE1BQU8sSUFDQWpGLEtBQ0NpOEIsRUFBcUIsQ0FBRUEsc0JBQXVCLENBQUMsRUFDbkRoM0IsV0FBWSsyQixFQUNmLEVDTkNFLEdBQVksOENBRVpDLEdBQStCLCtCQUMvQkMsR0FBdUMsMkJBQ3ZDQyxHQUEyQiwyQkFDcEJDLEdBQXVCLENBQUNycEIsRUFBTyxDQUFDLElDYk4sRUFBQ2xiLEVBQVUvVSxFQUFVLENBQUMsS0FDekQsTUFBTTBULEVBQVMxVCxHQUFTMFQsUUFBVTRTLFFBQ2xDLElBQUlpekIsRUFDSixPQUFPeG1DLFVBQ0gsSUFBSWlLLEVBQ0osSUFDSUEsUUFBb0JqSSxJQUNoQmlJLEVBQVlpRixZQUFjakYsRUFBWWlGLFdBQVdDLFVBQVlqZCxLQUFLMGIsUUFDbEUzRCxFQUFjODdCLEdBQXVDOTdCLEVBQWF0SixHQUUxRSxDQUNBLE1BQU90ZSxHQUNILElBQUlta0QsRUFLQSxNQUFNbmtELEVBSk5zZSxFQUFPbXBCLEtBQUssNEJBQTZCem5DLEdBQ3pDNG5CLEVBQWM4N0IsR0FBdUNTLEVBQWlCN2xDLEVBSzlFLENBRUEsT0FEQTZsQyxFQUFrQnY4QixFQUNYQSxDQUFXLENBQ3JCLEVEVDhDdzhCLENBQXdCQyxHQUF3QnhwQixHQUFPLENBQUV2YyxPQUFRdWMsRUFBS3ZjLFNBQ25IK2xDLEdBQTJCeHBCLElBQzdCLElBQUl5cEIsR0FBb0IsRUFDeEIsTUFBTSxPQUFFaG1DLEVBQU0sUUFBRStaLEdBQVl3QyxHQUN0QixRQUFFb25CLEVBQU8sV0FBRUQsR0FBZUQsR0FBdUJsbkIsR0FDakQwcEIsRUFBaUI1bUMsTUFBT3FrQyxFQUFZcDNDLEtBRXRDLEdBRHlCMDVDLEdBQW9FLE1BQS9DMTVDLEVBQVFxUixVQUFVZ29DLElBQzFDLENBQ2xCLElBQUlPLEdBQTZCLEVBQzdCQyxHQUFnQyxFQUNwQyxNQUFNL3FCLFFBQW9CK0QsR0FBVyxDQUNqQ3ZGLDRCQUE4QjVZLElBQzFCLE1BQU1vbEMsRUFBV3BsQyxFQUFJeWtDLElBRXJCLEdBREFVLElBQWtDQyxHQUF5QixVQUFiQSxPQUM3Qm5oRCxJQUFibWhELEVBQ0EsTUFBTSxJQUFJMXFCLEdBQXlCLEdBQUcrcEIsaURBRTFDLE9BQU9VLENBQTZCLEVBRXhDcnNCLG1CQUFxQkMsSUFDakIsTUFBTXNzQixFQUFldHNCLEVBQVEyckIsSUFFN0IsT0FEQVEsSUFBK0JHLEdBQWlDLFVBQWpCQSxFQUN4Q0gsQ0FBMEIsRUFFckN0L0MsU0FBUyxHQUNWLENBQ0NtekIsV0FoQnNCb0YsR0FrQjFCLEdBQUk1QyxFQUFLK3BCLHVCQUF5QmxyQixFQUFhLENBQzNDLE1BQU1tckIsRUFBUyxHQU9mLE1BTklocUIsRUFBSytwQix1QkFDTEMsRUFBTzVoRCxLQUFLLDZFQUNadWhELEdBQ0FLLEVBQU81aEQsS0FBSyx3QkFBd0IrZ0QsT0FDcENTLEdBQ0FJLEVBQU81aEQsS0FBSyxpQ0FBaUM4Z0QsT0FDM0MsSUFBSWYsR0FBZ0MsNkZBQTZGNkIsRUFBTzk4QyxLQUFLLFVBQ3ZKLENBQ0osQ0FDQSxNQUFNKzhDLFNBQXFCemIsSUFBTTFyQixVQUM3QixJQUFJMGEsRUFDSixJQUNJQSxRQUFnQjBzQixHQUFXbjZDLEVBQy9CLENBQ0EsTUFBT0ksR0FJSCxNQUh1QixNQUFuQkEsRUFBSWlTLGFBQ0pxbkMsR0FBb0IsR0FFbEJ0NUMsQ0FDVixDQUNBLE9BQU9xdEIsQ0FBTyxHQUNmMnBCLElBQWE1MkMsT0FDaEIsT0FBT2krQixJQUFNMXJCLFVBQ1QsSUFBSW1rQyxFQUNKLElBQ0lBLFFBQWNrRCxHQUEwQkYsRUFBYWw2QyxFQUN6RCxDQUNBLE1BQU9JLEdBSUgsTUFIdUIsTUFBbkJBLEVBQUlpUyxhQUNKcW5DLEdBQW9CLEdBRWxCdDVDLENBQ1YsQ0FDQSxPQUFPODJDLENBQUssR0FDYkUsRUFBVyxFQUVsQixPQUFPcmtDLFVBQ0gsTUFBTTJXLFFBQWlCK3VCLEtBQ3ZCLEdBQUlpQixFQUVBLE9BREFobUMsR0FBUTJVLE1BQU0sNEJBQTZCLHNDQUNwQ3N4QixFQUFldkMsRUFBWSxJQUFLMXRCLEVBQVUydEIsWUFFaEQsQ0FDRCxJQUFJbmIsRUFDSixJQUNJQSxTQUFlbWUsR0FBaUIsSUFBSzN3QixFQUFVMnRCLGFBQVluNkMsVUFDL0QsQ0FDQSxNQUFPM0osR0FDSCxHQUEwQixNQUF0QkEsR0FBTzhlLFdBQ1AsTUFBTS9nQixPQUFPcUQsT0FBT3BCLEVBQU8sQ0FDdkIrTyxRQUFTLDhDQU9qQixPQUoyQixpQkFBbEIvTyxFQUFNK08sU0FBOEIsQ0FBQyxJQUFLLElBQUssS0FBSzZFLFNBQVM1VCxFQUFNOGUsZUFDeEVxbkMsR0FBb0IsR0FFeEJobUMsR0FBUTJVLE1BQU0sNEJBQTZCLCtCQUNwQ3N4QixFQUFldkMsRUFBWSxJQUFLMXRCLEVBQVUydEIsV0FDckQsQ0FDQSxPQUFPc0MsRUFBZXZDLEVBQVksSUFDM0IxdEIsRUFDSHJZLFFBQVMsQ0FDTCxDQUFDZ29DLElBQTJCbmQsR0FFaENtYixXQUVSLEVBQ0gsRUFFQ2dELEdBQW1CdG5DLE1BQU8vUyxHQUFZdW1DLEdBQVksSUFDakR2bUMsRUFDSHdSLEtBekdvQixvQkEwR3BCUCxPQUFRLE1BQ1JJLFFBQVMsQ0FDTCx1Q0FBd0MsV0FHMUM4b0MsR0FBYXBuQyxNQUFPL1MsVUFBbUJ1bUMsR0FBWSxJQUFLdm1DLEVBQVN3UixLQUFNMG5DLE1BQWNoOEMsV0FDckZrOUMsR0FBNEJybkMsTUFBTzBhLEVBQVN6dEIsS0FDOUMsTUFBTTgzQyxFQUFnQnQyQyxLQUFLZ00sYUFBYSs0QixHQUFZLElBQzdDdm1DLEVBQ0h3UixLQUFNMG5DLEdBQVl6ckIsS0FDbEJ2d0IsWUFDSixJQUFLNjVDLEdBQWtCZSxHQUNuQixNQUFNLElBQUkxb0IsR0FBeUIsNkRBRXZDLE9BQU82bkIsR0FBb0JhLEVBQWMsRUVsSXZDLEdBQStCditCLFFBQVEsaUJDRWhDK2dDLEdBQWMsQ0FBQ3JxQixFQUFPLENBQUMsSUFBTWxkLFVBQ3RDLE1BQU13bkMsUUFBaUIvbkIsR0FBZ0J2QyxHQUN2QyxNQ0FxQ2xkLE9BQU95bkMsRUFBYUQsS0FDekQsTUFBTTlzQixFQUFVOHNCLEVBQVNDLEdBQ3pCLElBQUlELEVBQVNDLEdBd0JULE1BQU0sSUFBSXByQixHQUF5QixXQUFXb3JCLG9EQXhCdkIsQ0FDdkIsTUFBTUMsRUFBb0JodEIsRUFBNEIsbUJBQ3RELFFBQTBCOTBCLElBQXRCOGhELEVBa0JBLE1BQU0sSUFBSXJyQixHQUF5QixXQUFXb3JCLHlDQWxCYixDQUNqQyxNQUFNRSxHQUFjLEtBQUFDLFdBQVUsR0FBQXA4QyxNQUM5QixJQUNJLE1BQU0sT0FBRXE4QyxTQUFpQkYsRUFBWUQsR0FDckMsSUFBSTduRCxFQUNKLElBQ0lBLEVBQU80TyxLQUFLZ00sTUFBTW90QyxFQUFPcDZDLE9BQzdCLENBQ0EsTUFDSSxNQUFNa0gsTUFBTSxXQUFXOHlDLDhDQUMzQixDQUNBLE1DbkI4QixFQUFDQSxFQUFhNW5ELEtBQ3hELEdBQXFCLElBQWpCQSxFQUFLdWlELFFBQ0wsTUFBTXp0QyxNQUFNLFdBQVc4eUMsa0RBRTNCLFFBQXlCN2hELElBQXJCL0YsRUFBSzZnRCxrQkFBc0Q5NkMsSUFBekIvRixFQUFLczlDLGdCQUN2QyxNQUFNeG9DLE1BQU0sV0FBVzh5QyxzREFFM0IsR0FBSTVuRCxFQUFLK2dELFdBQVksQ0FDakIsTUFBTWtILEVBQWMsSUFBSTUxQyxLQUV4QixHQURtQixJQUFJQSxLQUFLclMsRUFBSytnRCxZQUNoQmtILEVBQ2IsTUFBTW56QyxNQUFNLFdBQVc4eUMscURBRS9CLENBQ0EsTUFBTyxDQUNIcDhCLFlBQWF4ckIsRUFBSzZnRCxZQUNsQmh6QixnQkFBaUI3dEIsRUFBS3M5QyxtQkFDbEJ0OUMsRUFBSzhnRCxjQUFnQixDQUFFdjFCLGFBQWN2ckIsRUFBSzhnRCxpQkFDMUM5Z0QsRUFBSytnRCxZQUFjLENBQUUxeEIsV0FBWSxJQUFJaGQsS0FBS3JTLEVBQUsrZ0QsYUFDdEQsRURBa0JtSCxDQUErQk4sRUFBYTVuRCxFQUN2RCxDQUNBLE1BQU9XLEdBQ0gsTUFBTSxJQUFJNjdCLEdBQXlCNzdCLEVBQU0rTyxRQUM3QyxDQUNKLENBSUosQ0FHQSxFRDNCT3k0QyxDQUEwQi9xQixHQUFlQyxHQUFPc3FCLEVBQVMsRUdKdkRTLEdBQWdCMWhDLEdBQVFBLElBQ0gsaUJBQXRCQSxFQUFJMmhDLGVBQ3NCLGlCQUF2QjNoQyxFQUFJNGhDLGdCQUNnQixpQkFBcEI1aEMsRUFBSTZoQyxhQUNlLGlCQUFuQjdoQyxFQUFJOGhDLFlBQ2tCLGlCQUF0QjloQyxFQUFJK2hDLGVDTGIsR0FBK0I5aEMsUUFBUSxXQ09oQ3VULEdBQW1CLEVBQUduTCxZQUFXMjVCLG9CQUMxQyxNQUFNNXFCLEVBQVcsQ0FDYixDQUFDLGFBQWM0cUIsR0FDZixDQUFDLEtBQU0sT0FDUCxDQUFDLE9BQU0sS0FBQUMsZUFBYyxLQUFBQyxZQUNyQixDQUFDLFdBQ0QsQ0FBQyxZQUFhLEdBQUcsR0FBQUMsU0FBU2p0QyxTQU0xQm1ULEdBQ0ErTyxFQUFTcjRCLEtBQUssQ0FBQyxPQUFPc3BCLElBQWEyNUIsSUFFbkMsR0FBQTVtQyxJQUFJZ25DLG1CQUNKaHJCLEVBQVNyNEIsS0FBSyxDQUFDLFlBQVksR0FBQXFjLElBQUlnbkMsc0JBRW5DLE1BQU1DLEVBQWU5b0IsR0FBVyxDQUM1QnZGLDRCQUE4QjVZLEdBQVFBLEVBQXNCLGtCQUM1RDhZLG1CQUFxQkMsR0FBWUEsRUFyQlAsaUJBc0IxQm56QixhQUFTM0IsR0FIUWs2QixHQUtyQixJQUFJK29CLEVBQ0osT0FBTzdvQyxVQUNILElBQUs2b0MsRUFBbUIsQ0FDcEIsTUFBTUMsUUFBY0YsRUFDcEJDLEVBQW9CQyxFQUFRLElBQUluckIsRUFBVSxDQUFDLE9BQU9tckIsTUFBWSxJQUFJbnJCLEVBQ3RFLENBQ0EsT0FBT2tyQixDQUFpQixDQUMzQixFQ2pDRSxNQUFNRSxHQUNULFdBQUF0bkQsQ0FBWXVuRCxFQUFxQm5nQyxHQUM3QjlwQixLQUFLaXFELG9CQUFzQkEsRUFDM0JqcUQsS0FBSzhwQixPQUFTQSxFQUNkOXBCLEtBQUthLE9BQ1QsQ0FDQSxNQUFBVCxDQUFPQyxFQUFRdW5CLEdBQ1g1bkIsS0FBSytwQixLQUFLM3BCLE9BQU8wbkIsRUFBYW9pQyxHQUFlN3BELEVBQVF1bkIsSUFDekQsQ0FDQSxNQUFBcG5CLEdBQ0ksT0FBT3VFLFFBQVFDLFFBQVFoRixLQUFLK3BCLEtBQUt2cEIsU0FDckMsQ0FDQSxLQUFBSyxHQUNJYixLQUFLK3BCLEtBQU8vcEIsS0FBSzhwQixRQUNYLEtBQUFxZ0MsWUFBV25xRCxLQUFLaXFELG9CQUFxQkMsR0FBZWxxRCxLQUFLOHBCLFVBQ3pELEtBQUF3VSxZQUFXdCtCLEtBQUtpcUQsb0JBQzFCLEVBRUosU0FBU0MsR0FBZUUsRUFBUXhpQyxHQUM1QixPQUFJLEVBQUExZSxPQUFPbWhELFNBQVNELEdBQ1RBLEVBRVcsaUJBQVhBLEVBQ0F6aUMsRUFBV3lpQyxFQUFReGlDLEdBRTFCdGUsWUFBWUMsT0FBTzZnRCxHQUNaLEVBQWdCQSxFQUFPNWdELE9BQVE0Z0QsRUFBTzNnRCxXQUFZMmdELEVBQU8xZ0QsWUFFN0QsRUFBZ0IwZ0QsRUFDM0IsQ0NoQ08sTUFBTUUsR0FBdUIva0QsSUFDaEMsSUFBS0EsRUFDRCxPQUFPLEVBRVgsR0FBb0IsaUJBQVRBLEVBQ1AsT0FBTzJELE9BQU9DLEtBQUs1RCxHQUFNcEMsT0FFeEIsR0FBK0IsaUJBQXBCb0MsRUFBS21FLFdBQ2pCLE9BQU9uRSxFQUFLbUUsV0FFWCxHQUF5QixpQkFBZG5FLEVBQUs2d0MsS0FDakIsT0FBTzd3QyxFQUFLNndDLEtBRVgsR0FBMEIsaUJBQWY3d0MsRUFBS21JLE9BQTBDLGlCQUFibkksRUFBS3d2QyxJQUNuRCxPQUFPeHZDLEVBQUt3dkMsSUFBTSxFQUFJeHZDLEVBQUttSSxNQUUxQixHQUF5QixpQkFBZG5JLEVBQUttYSxNQUFxQnhXLE9BQU9taEQsU0FBUzlrRCxFQUFLbWEsTUFDM0QsT0FBTyxLQUFBNnFDLFdBQVVobEQsRUFBS21hLE1BQU0wMkIsS0FFM0IsR0FBdUIsaUJBQVo3d0MsRUFBS2lsRCxHQUNqQixPQUFPLEtBQUFDLFdBQVVsbEQsRUFBS2lsRCxJQUFJcFUsS0FFOUIsTUFBTSxJQUFJeGdDLE1BQU0sc0NBQXNDclEsSUFBTyxFQ3ZCM0RtbEQsR0FBSSxXQUFZdmtELEdBQUksS0FBTXM5QixHQUFJLE9BQVFrbkIsR0FBSSxNQUNoQ3pvRCxHQUFJLFFBQVM2QixHQUFJLGdCQUFpQjlCLEdBQUksUUFBU3FCLEdBQUksV0FBWWtDLEdBQUksT0FBUUUsR0FBSSxrQkFBbUJrbEQsR0FBSSxVQUFXNW5ELEdBQUksQ0FBRSxDQUFDMG5ELEtBQUksRUFBTyxLQUFRLFVBQVlwakQsR0FBSSxDQUFFLENBQUNvakQsS0FBSSxFQUFNLFNBQVcsRUFBTyxLQUFRLFdBQWEvakQsR0FBSSxDQUFFLENBQUNna0QsSUFBSSxZQUFjRSxHQUFJLENBQUUsQ0FBQzFrRCxJQUFJcEMsR0FBRyxDQUFDMC9CLElBQUksQ0FBQyxDQUFFLENBQUNrbkIsSUFBSSxZQUFhLElBQVNqa0QsR0FBSSxDQUFFLENBQUNQLElBQUlwQyxHQUFHLENBQUMwL0IsSUFBSSxDQUFDLENBQUUsQ0FBQ2tuQixJQUFJLGlCQUFrQixJQUFTMW5ELEdBQUksQ0FBQyxFQUFHd0QsR0FBSSxDQUFFLENBQUNOLElBQUl5a0QsR0FBRyxDQUFDbm5CLElBQUksQ0FBQyxDQUFFLENBQUNrbkIsSUFBSWpsRCxJQUFLLGlCQUFtQnBELEdBQUksQ0FBRSxDQUFDcW9ELElBQUlqbEQsSUFBS2lDLEdBQUksQ0FBRSxDQUFDeEIsSUFBSXBDLEdBQUcsQ0FBQzAvQixJQUFJLEVBQUMsRUFBTSxDQUFFLENBQUN0OUIsSUFBSXlrRCxHQUFHLENBQUNubkIsSUFBSSxDQUFDbmhDLEdBQUcsd0JBQTJCMEIsR0FBSSxDQUFDNm1ELElBQUk5bkQsR0FBSSxDQUFDMkQsSUFBSTVELEdBQUksQ0FBQyxDQUFFLENBQUM2bkQsSUFBSSxXQUVuZ0JHLEdBREMsQ0FBRXJ3QixRQUFTLE1BQU9qQyxXQUFZLENBQUV3cUIsT0FBUWhnRCxHQUFHaWdELGFBQWMzN0MsR0FBR3k3QyxRQUFTejdDLEdBQUd5eEIsU0FBVS8xQixJQUFLazFCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQ3Z3QixJQUFJakUsR0FBRyxDQUFDdWhDLElBQUksQ0FBQzk4QixNQUFPdXhCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWTF5QixHQUFHdkMsTUFBTyxvRUFBcUV3akIsS0FBTWhqQixJQUFLLENBQUV5MEIsV0FBWTN6QixHQUFHdEIsTUFBTyx5RUFBMEV3akIsS0FBTWhqQixJQUFLLENBQUUyMUIsU0FBVSxDQUFFdEQsSUFBSzN0QixHQUFHdXBCLFdBQVlqdEIsR0FBR3NjLFFBQVN0YyxJQUFLZ2lCLEtBQU0zaEIsS0FBTTJoQixLQUFNemYsSUFBSyxDQUFFa3hCLFdBQVksQ0FBQyxDQUFFLENBQUN2d0IsSUFBSWpFLEdBQUcsQ0FBQ3VoQyxJQUFJM2dDLEtBQU1vMUIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDdndCLElBQUksZ0JBQWlCLENBQUNzOUIsSUFBSTNnQyxHQUFHRCxPQUFRNkMsS0FBTXd5QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQ20wQixHQUFHbmtELElBQUl3eEIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDdndCLElBQUlwQyxHQUFHLENBQUMwL0IsSUFBSSxFQUQ3bEIsRUFDaW1CaDlCLEtBQU1rQixJQUFJdXdCLE1BQU8sQ0FBQyxDQUFFTixTQUFVLENBQUV0RCxJQUFLLHdFQUF5RXBFLFdBQVlqdEIsR0FBR3NjLFFBQVN0YyxJQUFLZ2lCLEtBQU0zaEIsS0FBTTJoQixLQUFNemYsSUFBSyxDQUFFL0QsTUFBTyxrRkFBbUZ3akIsS0FBTWhqQixLQUFNZ2pCLEtBQU16ZixJQUFLLENBQUVreEIsV0FBWTF5QixHQUFHazBCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQ3Z3QixJQUFJcEMsR0FBRyxDQUFDMC9CLElBQUksQ0FBQ2g5QixJQUQ5NkIsS0FDdzdCeXhCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQ3Z3QixJQUFJLGVBQWdCLENBQUNzOUIsSUFBSSxDQUFDLENBQUUsQ0FBQ3Q5QixJQUFJeWtELEdBQUcsQ0FBQ25uQixJQUFJLENBQUNuaEMsR0FBRyxTQUFXLGdCQUFrQnMxQixTQUFVLENBQUV0RCxJQUFLLDRDQUE2Q3BFLFdBQVlqdEIsR0FBR3NjLFFBQVN0YyxJQUFLZ2lCLEtBQU0zaEIsSUFBSyxDQUFFczBCLFNBQVUsQ0FBRXRELElBQUssK0RBQWdFcEUsV0FBWWp0QixHQUFHc2MsUUFBU3RjLElBQUtnaUIsS0FBTTNoQixLQUFNMmhCLEtBQU16ZixJQUFLLENBQUUvRCxNQUFPLDJEQUE0RHdqQixLQUFNaGpCLEtBQU1nakIsS0FBTXpmLElBQUssQ0FBRWt4QixXQUFZM3pCLEdBQUdtMUIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMvdUIsSUFBSXV3QixNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSyxtRUFBb0VwRSxXQUFZanRCLEdBQUdzYyxRQUFTdGMsSUFBS2dpQixLQUFNM2hCLEtBQU0yaEIsS0FBTXpmLElBQUssQ0FBRS9ELE1BQU8scUVBQXNFd2pCLEtBQU1oakIsS0FBTWdqQixLQUFNemYsSUFBSyxDQUFFb3lCLFNBQVUsQ0FBRXRELElBQUssMERBQTJEcEUsV0FBWWp0QixHQUFHc2MsUUFBU3RjLElBQUtnaUIsS0FBTTNoQixLQUFNMmhCLEtBQU16ZixLQUFNeWYsS0FBTXpmLElBQUssQ0FBRS9ELE1BQU8sd0NBQXlDd2pCLEtBQU1oakIsTUNBNzBEOG9ELEdBQTBCLENBQUN2MUIsRUFBZ0IvVCxFQUFVLENBQUMsSUFDeEQ2VyxHQUFnQnd5QixHQUFTLENBQzVCdDFCLGVBQWdCQSxFQUNoQjVULE9BQVFILEVBQVFHLFNDSlhvcEMsR0FBaUIsYUFDakJDLEdBQXlCLHFCQUV6QkMsR0FBd0IsQ0FBQyxZQUFhLGVBQWdCLFNBQVUsV0FBWSxVQ0Y1RUMsR0FBb0MsQ0FDN0MzdkIsNEJBQThCNVksR0FDbkJBLEVBQXlCLGtCQUVwQzhZLG1CQUFxQkMsR0FDVkEsRUFBZ0MsY0FFM0NuekIsUUFBUyxVQ0hBNGlELEdBQTRCLEVBQUcxaEMsU0FBU3FYLEdBQVdqRixJQUE2QnV2QixlQUFldHFCLEdBQVdvcUIsS0FBd0MsQ0FBQyxJQUFNbm9DLEdBQVEvQixVQUMxSyxNQUFNc29CLEVBQStCLG1CQUFqQjhoQixRQUFvQ0EsSUFBaUJBLEVBQ3pFLE9BQVE5aEIsR0FBTTFsQixlQUNWLElBQUssT0FDRCxPQUFPeW5DLEdBQTRCNWhDLEdBQ3ZDLElBQUssWUFDTCxJQUFLLGVBQ0wsSUFBSyxTQUNMLElBQUssV0FDTCxJQUFLLFNBQ0QsT0FBTzNrQixRQUFRQyxRQUFRdWtDLEdBQU1naUIscUJBQ2pDLFVBQUsxa0QsRUFDRCxPQUFPOUIsUUFBUUMsUUFBUSxVQUMzQixRQUNJLE1BQU0sSUFBSTRRLE1BQU0sZ0RBQWdEczFDLEdBQXNCNy9DLEtBQUssY0FBY2srQixLQUNqSCxJQUVFK2hCLEdBQThCcnFDLE1BQU91cUMsSUFDdkMsR0FBSUEsRUFBYyxDQUNkLE1BQU1DLEVBQXlDLG1CQUFqQkQsUUFBb0NBLElBQWlCQSxFQUM3RUUsUUFBdUJDLEtBQzdCLE9BQUtELEVBR0RELElBQW1CQyxFQUNaLFlBR0EsZUFOQSxVQVFmLENBQ0EsTUFBTyxVQUFVLEVBRWZDLEdBQXNCMXFDLFVBQ3hCLEdBQUkwQixRQUFRQyxJQUFxQixvQkFBTUQsUUFBUUMsSUFBSW9vQyxLQUFtQnJvQyxRQUFRQyxJQUFJcW9DLEtBQzlFLE9BQU90b0MsUUFBUUMsSUFBSW9vQyxLQUFtQnJvQyxRQUFRQyxJQUFJcW9DLElBRXRELElBQUt0b0MsUUFBUUMsSUFBcUIsMEJBQzlCLElBQ0ksTUFBTWdWLFFBQWlCK3VCLEtBQ3ZCLGFBQWNsUyxHQUFZLElBQUs3YyxFQUFVbFksS0Z6Q3JCLHdDRXlDZ0R0VSxVQUN4RSxDQUNBLE1BQU85SCxHQUNQLENBQ0osRUNsRFNzb0QsR0FBc0N6dEMsSUFDL0MsSUFBSTB0QyxFQUFzQjVxQyxVQUN0QixRQUE2QnBhLElBQXpCc1gsRUFBY3VMLE9BQ2QsTUFBTSxJQUFJOVQsTUFBTSx3Q0FFcEIsTUFBTThULEVBQVN2TCxFQUFjdUwsT0FDN0IsTUFBc0IsaUJBQVhBLEVBQ0FBLEVBRUpBLEdBQVEsRUFFbkIsTUFBTyxDQUNILFNBQUFvaUMsQ0FBVXBpQyxHQUNObWlDLEVBQXNCbmlDLENBQzFCLEVBQ0FBLE9BQU0sSUFDS21pQyxFQUVkLEVBRVFFLEdBQTBDQyxJQUM1QyxDQUNIdGlDLE9BQVFzaUMsRUFBZ0N0aUMsV0NUekMsTUFBTXVpQyxXQUFrQixHQUMzQixXQUFBdnBELEtBQWdCdStCLElBQ1osTUFDTWlyQixHQ2hCa0NoK0MsRUNjaEIsQ0FBQzRzQixJQUM3QjhmLEdBQWdDajRCLFFBQVE4WCxTQUN4QyxNQUFNNHdCLEVBQWVELEdBQTBCdHdCLEdBQ3pDcXhCLEVBQXdCLElBQU1kLElBQWUvbEQsS0FBS28xQyxJQUNsRDBSLEVDYnNCLENBQUN0eEIsSUFDdEIsQ0FDSHV4QixXQUFZLGFBQ1pDLGNBQWV4eEIsR0FBUXd4QixlQUFpQjdhLEdBQ3hDOGEsY0FBZXp4QixHQUFReXhCLGVBQWlCN2EsR0FDeEM4YSxrQkFBbUIxeEIsR0FBUTB4QixvQkFBcUIsRUFDaER6b0IsaUJBQWtCakosR0FBUWlKLGtCQUFvQmduQixHQUM5QzBCLFdBQVkzeEIsR0FBUTJ4QixZQUFjLEdBQ2xDN3FDLE9BQVFrWixHQUFRbFosUUFBVSxJQUFJeXJCLEdBQzlCeGQsVUFBV2lMLEdBQVFqTCxXQUFhLE1BQ2hDbVYsVUFBV2xLLEdBQVFrSyxXQUFhcEQsR0FDaEM4cUIsWUFBYTV4QixHQUFRNHhCLGFBQWV6akQsRUFDcENrNUMsWUFBYXJuQixHQUFRcW5CLGFBQWV6OUIsSURDYixDQUF1Qm9XLEdBRWxELE9BREEsR0FBZ0JuWSxRQUFROFgsU0FDakIsSUFDQTJ4QixLQUNBdHhCLEVBQ0hyWSxRQUFTLE9BQ1Q0b0MsZUFDQTd1QixrQkFBbUIxQixHQUFRMEIsbUJBQXFCOHRCLEdBQ2hEcnZCLHlCQUEwQkgsR0FBUUcsMEJBQzlCRCxHQUFpQixDQUFFbkwsVUFBV3U4QixFQUFtQnY4QixVQUFXMjVCLDBCQUNoRWxnQixZQUFheE8sR0FBUXdPLGFBQWUsR0FBZWtDLElBQ25EOWhCLE9BQVFvUixHQUFRcFIsUUFBVSxHQUFlb1MsR0FBNEJDLElBQ3JFM2EsZUFBZ0IwWixHQUFRMVosZ0JBQWtCLElBQUksR0FBZStxQyxHQUM3RHZnQixVQUFXOVEsR0FBUThRLFdBQ2YsR0FBZSxJQUNSQyxHQUNIcmpDLFFBQVN5WSxnQkFBbUJrckMsS0FBeUJ2Z0IsV0FBYW5HLEtBRTFFdGEsT0FBUTJQLEdBQVEzUCxRQUFVNitCLEdBQUsvTixLQUFLLEtBQU0sVUFDMUN4RyxnQkFBaUIzYSxHQUFRMmEsaUJBQW1CLEdBQzVDL2xCLHFCQUFzQm9MLEdBQVFwTCxzQkFBd0IsR0FBZTZMLElBQ3JFOUwsZ0JBQWlCcUwsR0FBUXJMLGlCQUFtQixHQUFlb00sSUFDOUQsRUZ6QnFCLENBQW1Cb0YsR0FBaUIsQ0FBQyxHQ2RwRCxJQUNBL3lCLEVBQ0h3aEIscUJBQXNCeGhCLEVBQVF3aEIsdUJBQXdCLEVBQ3RERCxnQkFBaUJ2aEIsRUFBUXVoQixrQkFBbUIsRUFDNUNRLG1CQUFvQixpQkFMbUIsSUFBQy9oQixFRGlCeEMsTUFBTXkrQyxFQUFZeHdCLEdBQW9CK3ZCLEdBQ2hDVSxFQUFZeG5CLEdBQXNCdW5CLEdBSWxDRSxFSWxCMEIsRUFBQzF1QyxFQUFlc3VDLEtBQ3BELE1BQU1LLEVBQXlCLElBQ2RsQixHQUFtQ3p0QyxNQUNuQ3M5QixHQUFpQ3Q5QixNQUNqQ0QsRUFBcUNDLElBR3RELE9BREFzdUMsRUFBV3JlLFNBQVMyZSxHQUFjQSxFQUFVQyxVQUFVRixLQUMvQyxJQUNBM3VDLEtBQ0E0dEMsR0FBdUNlLE1BQ3ZDLEdBQTRCQSxNQUM1QnJ1QyxFQUFnQ3F1QyxHQUN0QyxFSk1xQkcsQ0FEQWg3QixHQUZBeVosR0FBbUJraEIsSUFHaUIzckIsR0FBZXdyQixZQUFjLElBQ25GejVCLE1BQU02NUIsR0FDTjdzRCxLQUFLODZCLE9BQVMreEIsRUFDZDdzRCxLQUFLZ3hDLGdCQUFnQnRCLElBQUlqRCxHQUFlenNDLEtBQUs4NkIsU0FDN0M5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJblQsR0FBdUJ2OEIsS0FBSzg2QixTQUNyRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUk1dUIsRUFBb0I5Z0IsS0FBSzg2QixTQUNsRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUlsdUIsRUFBZ0J4aEIsS0FBSzg2QixTQUM5Qzk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUlsdEIsRUFBNEJ4aUIsS0FBSzg2QixTQUMxRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUk3VSxHQUFtQjc2QixLQUFLODZCLFFBQ3JELENBQ0EsT0FBQXlXLEdBQ0l2ZSxNQUFNdWUsU0FDVixFS2hDRyxNQUFNMmIsV0FBNEIsR0FDckMsV0FBQXhxRCxDQUFZd0wsR0FDUjhrQixNQUFNOWtCLEdBQ04xTyxPQUFPMkMsZUFBZW5DLEtBQU1rdEQsR0FBb0Ivc0QsVUFDcEQsRUNKRyxNQUFNLFdBQWdDLEdBQ3pDLFdBQUF1QyxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sMEJBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTywwQkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTSxHQUF3QkcsVUFDeEQsRUFFRyxNQUFNLFdBQWtDLEdBQzNDLFdBQUF1QyxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sNEJBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyw0QkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTSxHQUEwQkcsVUFDMUQsRUFFRyxNQUFNZ3RELFdBQWlDLEdBQzFDLFdBQUF6cUQsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLDJCQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sMkJBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU1tdEQsR0FBeUJodEQsVUFDekQsRUFFRyxNQUFNaXRELFdBQThCLEdBQ3ZDLFdBQUExcUQsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLHdCQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sd0JBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU1vdEQsR0FBc0JqdEQsVUFDdEQsRUFFRyxNQUFNa3RELEdBQStDbmhELElBQVEsSUFDN0RBLEtBQ0NBLEVBQUlvaEQsYUFBZSxDQUFFQSxZQUFhLE1BRTdCQyxHQUFxQ3JoRCxJQUFRLElBQ25EQSxLQUNDQSxFQUFJeWlCLGlCQUFtQixDQUFFQSxnQkFBaUIsT0FDMUN6aUIsRUFBSW1nQixjQUFnQixDQUFFQSxhQUFjLE1BRS9CbWhDLEdBQWdEdGhELElBQVEsSUFDOURBLEtBQ0NBLEVBQUl1aEQsaUJBQW1CLENBQUVBLGdCQUFpQkYsR0FBa0NyaEQsRUFBSXVoRCxvQkM4TGxGLEdBQW9CMVQsR0FBa0IsSUFDdEMyVCxHQUFnQ3pzQyxNQUFPMDlCLEVBQWNsOUIsS0FDdkQsTUFBTTgvQixFQUFXLEdBQUksQ0FBQyxHQUNoQnpnRCxFQUFPNjlDLEVBQWFwNUMsS0FDcEJvb0QsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkIwUCxRQUFTLEtBRWJoUixPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSSxHQUF3QixDQUMxQzEzQixVQUFXLEdBQW9CeThCLE1BQzVCNEMsSUFFUCxPQUFPLEdBQTJCM0gsRUFBVytFLEVBQWFwNUMsS0FBSyxFQUU3RHFvRCxHQUFrQzNzQyxNQUFPMDlCLEVBQWNsOUIsS0FDekQsTUFBTTgvQixFQUFXLEdBQUksQ0FBQyxHQUNoQnpnRCxFQUFPNjlDLEVBQWFwNUMsS0FDcEJvb0QsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkIwUCxRQUFTLEtBRWJoUixPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSSxHQUEwQixDQUM1QzEzQixVQUFXLEdBQW9CeThCLE1BQzVCNEMsSUFFUCxPQUFPLEdBQTJCM0gsRUFBVytFLEVBQWFwNUMsS0FBSyxFQUU3RHNvRCxHQUFpQzVzQyxNQUFPMDlCLEVBQWNsOUIsS0FDeEQsTUFBTTgvQixFQUFXLEdBQUksQ0FBQyxHQUNoQnpnRCxFQUFPNjlDLEVBQWFwNUMsS0FDcEJvb0QsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkIwUCxRQUFTLEtBRWJoUixPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSXVULEdBQXlCLENBQzNDanJDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRTdEdW9ELEdBQThCN3NDLE1BQU8wOUIsRUFBY2w5QixLQUNyRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQjBQLFFBQVMsS0FFYmhSLE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJd1QsR0FBc0IsQ0FDeENsckMsVUFBVyxHQUFvQnk4QixNQUM1QjRDLElBRVAsT0FBTyxHQUEyQjNILEVBQVcrRSxFQUFhcDVDLEtBQUssRUFFN0QsR0FBdUI2YyxJQUFXLENBQ3BDMmpCLGVBQWdCM2pCLEVBQU83QixXQUN2Qmc2QixVQUFXbjRCLEVBQU83QyxRQUFRLHFCQUF1QjZDLEVBQU83QyxRQUFRLHNCQUF3QjZDLEVBQU83QyxRQUFRLG9CQUN2R2k3QixrQkFBbUJwNEIsRUFBTzdDLFFBQVEsY0FDbENrN0IsS0FBTXI0QixFQUFPN0MsUUFBUSxpQkFHbkJ3dUMsR0FBNkJwdUQsS0FBVUEsU0FFL0IsS0FBVkEsR0FDRUgsT0FBT3d1RCxvQkFBb0JydUQsR0FBTzBWLFNBQVMsV0FBNkIsR0FBaEIxVixFQUFNd0QsUUFDOUQzRCxPQUFPd3VELG9CQUFvQnJ1RCxHQUFPMFYsU0FBUyxTQUF5QixHQUFkMVYsRUFBTXkyQyxNQUM1RCxHQUFZLENBQUNiLEVBQVk5ekIsSUFOTCxFQUFDOHpCLEVBQVk5ekIsSUFBWSxHQUFZOHpCLEVBQVk5ekIsR0FBU25jLE1BQU1DLEdBQVNrYyxFQUFRMGdDLFlBQVk1OEMsS0FNNUUsQ0FBa0Jnd0MsRUFBWTl6QixHQUFTbmMsTUFBTTJGLEdBQ2hGQSxFQUFROUgsT0FDRHVNLEtBQUtnTSxNQUFNelEsR0FFZixDQUFDLElBRU4sR0FBaUJnVyxNQUFPd2hDLEVBQVdoaEMsS0FDckMsTUFBTTloQixRQUFjLEdBQVU4aUQsRUFBV2hoQyxHQUV6QyxPQURBOWhCLEVBQU02USxRQUFVN1EsRUFBTTZRLFNBQVc3USxFQUFNbTZDLFFBQ2hDbjZDLENBQUssRUFFVnN1RCxHQUF3QixDQUFDN3JDLEVBQVF0aEIsS0FDbkMsTUFDTW90RCxFQUFxQkMsSUFDdkIsSUFBSUMsRUFBYUQsRUFhakIsTUFaMEIsaUJBQWZDLElBQ1BBLEVBQWFBLEVBQVdoakQsWUFFeEJnakQsRUFBVzdxRCxRQUFRLE1BQVEsSUFDM0I2cUQsRUFBYUEsRUFBV3o5QyxNQUFNLEtBQUssSUFFbkN5OUMsRUFBVzdxRCxRQUFRLE1BQVEsSUFDM0I2cUQsRUFBYUEsRUFBV3o5QyxNQUFNLEtBQUssSUFFbkN5OUMsRUFBVzdxRCxRQUFRLE1BQVEsSUFDM0I2cUQsRUFBYUEsRUFBV3o5QyxNQUFNLEtBQUssSUFFaEN5OUMsQ0FBVSxFQUVmdDNCLEdBakJXdmtCLEVBaUJTNlAsRUFBTzdDLFFBQVMsbUJBakJUL2YsT0FBTzJNLEtBQUtvRyxHQUFReW5CLE1BQU1yekIsR0FBTUEsRUFBRWtkLGdCQWlCekIsbUJBakIrQ0EsaUJBQXpFLElBQUN0UixFQWtCakIsWUFBa0IxTCxJQUFkaXdCLEVBQ09vM0IsRUFBa0I5ckMsRUFBTzdDLFFBQVF1WCxTQUUxQmp3QixJQUFkL0YsRUFBS29PLEtBQ0VnL0MsRUFBa0JwdEQsRUFBS29PLFdBRVhySSxJQUFuQi9GLEVBQWEsT0FDTm90RCxFQUFrQnB0RCxFQUFhLGFBRDFDLENBRUEsRUMzVkcsTUFBTXV0RCxXQUFrQyxHQUMzQyx1Q0FBTy9yQixHQUNILE1BQU8sQ0FDSHlnQixRQUFTLENBQUU5OUIsS0FBTSxnQkFBaUJwUyxLQUFNLG1CQUN4Q2ttQixTQUFVLENBQUU5VCxLQUFNLGdCQUFpQnBTLEtBQU0sWUFDekNtd0MsT0FBUSxDQUFFLzlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxVQUN2Q293QyxhQUFjLENBQUVoK0IsS0FBTSxnQkFBaUJwUyxLQUFNLHdCQUVyRCxDQUNBLFdBQUFuUSxDQUFZMEcsR0FDUjRwQixRQUNBaHpCLEtBQUtvSixNQUFRQSxDQUNqQixDQUNBLGlCQUFBa29DLENBQWtCdHdCLEVBQWFpZ0IsRUFBZS95QixHQUMxQ2xPLEtBQUtneEMsZ0JBQWdCdEIsSUFBSWhMLEdBQWV6RCxFQUFlamhDLEtBQUt5d0MsVUFBV3p3QyxLQUFLMndDLGNBQzVFM3dDLEtBQUtneEMsZ0JBQWdCdEIsSUFBSXZLLEdBQWtCbEUsRUFBZW90QixHQUEwQi9yQixxQ0FDcEYsTUFBTWlNLEVBQVF2dEIsRUFBWTlaLE9BQU9sSCxLQUFLZ3hDLGtCQUNoQyxPQUFFcHZCLEdBQVdxZixFQUdiaWlCLEVBQTBCLENBQzVCdGhDLFNBQ0FGLFdBSmUsWUFLZkMsWUFKZ0IsNEJBS2hCSyx3QkFBeUJxckMsR0FDekJwckMseUJBQTBCdXJDLEdBQzFCLENBQUN4dUMsR0FBcUIsQ0FDbEIySyxRQUFTLG1CQUNUdzVCLFVBQVcsd0JBR2IsZUFBRS9oQyxHQUFtQjZmLEVBQzNCLE9BQU9zTixFQUFNdnBDLFNBQVMrYSxHQUFZcUIsRUFBZXd4QixPQUFPN3lCLEVBQVFBLFFBQVM3UixHQUFXLENBQUMsSUFBSWcxQyxFQUM3RixDQUNBLFNBQUF6UyxDQUFVcm5DLEVBQU9xWSxHQUNiLE1EdENvQ1IsT0FBTzdYLEVBQU9xWSxLQUN0RCxNQUFNLFNBQUVyQyxFQUFRLFNBQUVJLEVBQVcsUUFBTyxLQUFFSCxFQUFNSyxLQUFNc2lDLFNBQW1CdmdDLEVBQVFtVyxXQUN2RXJZLEVBQVUsR0FBSSxDQUFDLEVBQUd3dUMsR0FBMkIsQ0FDL0MseUJBQTBCM2tELEVBQU1ra0QsY0FFOUJwUSxFQUFlLEdBQUc4RSxHQUFVNXNDLFNBQVMsS0FBTzRzQyxFQUFTdmlDLE1BQU0sR0FBSSxHQUFLdWlDLEdBQVksNEJBQ2hGMWlDLEVBQVEsR0FBSSxDQUNkZ3ZDLFVBQVcsQ0FBQyxDQUFFLEdBQWdCbGxELEVBQU1tbEQsU0FBVSxhQUM5Q0MsV0FBWSxDQUFDLENBQUUsR0FBZ0JwbEQsRUFBTW93QixVQUFXLGdCQUdwRCxPQUFPLElBQUksRUFBYyxDQUNyQmhhLFdBQ0FKLFdBQ0FDLE9BQ0FGLE9BQVEsTUFDUkksVUFDQUcsS0FBTXc5QixFQUNONTlCLFFBQ0EvWixVQVRBQSxHQVVGLEVDa0JTa3BELENBQTZCcmxELEVBQU9xWSxFQUMvQyxDQUNBLFdBQUFrdkIsQ0FBWXZ1QixFQUFRWCxHQUNoQixNRDJDb0NSLE9BQU9tQixFQUFRWCxLQUN2RCxHQUEwQixNQUF0QlcsRUFBTzdCLFlBQXNCNkIsRUFBTzdCLFlBQWMsSUFDbEQsTUFZa0NVLE9BQU9tQixFQUFRWCxLQUNyRCxNQUFNazlCLEVBQWUsSUFDZHY4QixFQUNIN2MsV0FBWSxHQUFlNmMsRUFBTzdjLEtBQU1rYyxJQUV0Q3k0QixFQUFZK1QsR0FBc0I3ckMsRUFBUXU4QixFQUFhcDVDLE1BQzdELE9BQVEyMEMsR0FDSixJQUFLLDBCQUNMLElBQUssNENBQ0QsWUFBWXdULEdBQThCL08sRUFBY2w5QixHQUM1RCxJQUFLLDRCQUNMLElBQUssOENBQ0QsWUFBWW1zQyxHQUFnQ2pQLEVBQWNsOUIsR0FDOUQsSUFBSywyQkFDTCxJQUFLLDZDQUNELFlBQVlvc0MsR0FBK0JsUCxFQUFjbDlCLEdBQzdELElBQUssd0JBQ0wsSUFBSywwQ0FDRCxZQUFZcXNDLEdBQTRCblAsRUFBY2w5QixHQUMxRCxRQUNJLE1BQU13NEIsRUFBYTBFLEVBQWFwNUMsS0FDaEMsT0FBTyxHQUFrQixDQUNyQjZjLFNBQ0E2M0IsYUFDQUMsY0FFWixFQXRDV3dVLENBQWtDdHNDLEVBQVFYLEdBRXJELE1BQU04L0IsRUFBVyxHQUFJLENBQ2pCci9CLFVBQVcsR0FBb0JFLEtBRTdCdGhCLEVBQU8sR0FBZ0IsU0FBcUIsR0FBVXNoQixFQUFPN2MsS0FBTWtjLElBQVcsUUFDOUVrc0MsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkIyc0QsZ0JBQWlCLEtBR3JCLE9BREFqdUQsT0FBT3FELE9BQU8wK0MsRUFBVW9NLEdBQ2pCcE0sQ0FBUSxFQ3ZESm9OLENBQTZCdnNDLEVBQVFYLEVBQ2hELEVDN0NHLE1BQU1tdEMsV0FBMkIzeEIsR0FDcEMsV0FBQXY2QixDQUFZOE4sRUFBUzBzQixHQUFjLEdBQy9CbEssTUFBTXhpQixFQUFTMHNCLEdBQ2ZsOUIsS0FBS2s5QixZQUFjQSxFQUNuQmw5QixLQUFLNlMsS0FBTyxxQkFDWnJULE9BQU8yQyxlQUFlbkMsS0FBTTR1RCxHQUFtQnp1RCxVQUNuRCxFQ1BHLE1BQ00wdUQsR0FBa0Isa0ZDUS9CLElBc0JJLEdBQUksV0FDSixHQUFJLEtBQ0osR0FBSSxPQUNKLEdBQUksTUFDSixHQUFJLFFBQ0osR0FBSSxPQUNKLEdBQUksUUFDSixHQUFJLFdBQ0osR0FBSSxrQkFDSixHQUFJLFVBQ0osR0FBSSxDQUFFLENBQUMsS0FBSSxFQUFPNXBDLEtBQU0sVUFDeEIsR0FBSSxDQUFFLENBQUMsS0FBSSxFQUFNemMsU0FBUyxFQUFPeWMsS0FBTSxXQUN2QyxHQUFJLENBQUUsQ0FBQyxJQUFJLFlBQ1gsR0FBSSxDQUFFLENBQUMsSUFBSSxnQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksWUFBYSxJQUN0RCxHQUFJLENBQUUsQ0FBQyxJQUFJLGdCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxpQkFBa0IsSUFDM0QsR0FBSSxDQUFDLEVBQ0wsR0FBSSxDQUFFLENBQUMsSUFBSSxnQkFBaUIsQ0FBQyxJQUFJLEVBQUMsRUFBTSxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLElBQUssbUJBQ3BFLEdBQUksQ0FBRSxDQUFDLElBQUksSUFDWCxHQUFJLENBQUUsQ0FBQyxJQUFJLGdCQUFpQixDQUFDLElBQUksRUFBQyxFQUFNLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyx3QkFDM0QsR0FBSSxDQUFDLElBQ0wsR0FBSSxDQUFDLElBQ0wsR0FBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLFdBcUdaLEdBcEdRLENBQ1J3VixRQUFTLE1BQ1RqQyxXQUFZLENBQUV3cUIsT0FBUSxHQUFHQyxhQUFjLEdBQUdGLFFBQVMsR0FBR2hxQixTQUFVLElBQ2hFYixNQUFPLENBQ0gsQ0FDSXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQzdCelIsS0FBTSxHQUNOaVQsTUFBTyxDQUNILENBQUV4QixXQUFZLEdBQUdqMUIsTUFBTyxvRUFBcUV3akIsS0FBTSxJQUNuRyxDQUFFeVIsV0FBWSxHQUFHajFCLE1BQU8seUVBQTBFd2pCLEtBQU0sSUFDeEcsQ0FBRTJTLFNBQVUsQ0FBRXRELElBQUssR0FBR3BFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sTUFHakUsQ0FDSXlSLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUM1QnpSLEtBQU0sR0FDTmlULE1BQU8sQ0FDSCxDQUNJeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLGdCQUFpQixDQUFDLElBQUksR0FBRzd6QixPQUFRLEtBQ3JEb2lCLEtBQU0sR0FDTmlULE1BQU8sQ0FDSCxDQUNJeEIsV0FBWSxDQUFDLEdBQUcsSUFDaEJ6UixLQUFNLEdBQ05pVCxNQUFPLENBQ0gsQ0FDSXhCLFdBQVksQ0FBQyxHQUFHLElBQ2hCelIsS0FBTSxHQUNOaVQsTUFBTyxDQUNILENBQ0lOLFNBQVUsQ0FDTnRELElBQUssa0VBQ0xwRSxXQUFZLEdBQ1ozUSxRQUFTLElBRWIwRixLQUFNLE1BSWxCLENBQUV4akIsTUFBTyxrRkFBbUZ3akIsS0FBTSxNQUcxRyxDQUNJeVIsV0FBWSxHQUNaelIsS0FBTSxHQUNOaVQsTUFBTyxDQUNILENBQ0l4QixXQUFZLENBQUMsSUFDYnpSLEtBQU0sR0FDTmlULE1BQU8sQ0FDSCxDQUNJeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLGVBQWdCLENBQUMsSUFBSSxDQUFDLGFBQWMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLFlBQzNFa0IsU0FBVSxDQUFFdEQsSUFBSyxzQ0FBdUNwRSxXQUFZLEdBQUczUSxRQUFTLElBQ2hGMEYsS0FBTSxJQUVWLENBQ0kyUyxTQUFVLENBQ050RCxJQUFLLHlEQUNMcEUsV0FBWSxHQUNaM1EsUUFBUyxJQUViMEYsS0FBTSxNQUlsQixDQUFFeGpCLE1BQU8sMkRBQTREd2pCLEtBQU0sTUFHbkYsQ0FDSXlSLFdBQVksR0FDWnpSLEtBQU0sR0FDTmlULE1BQU8sQ0FDSCxDQUNJeEIsV0FBWSxDQUFDLElBQ2J6UixLQUFNLEdBQ05pVCxNQUFPLENBQ0gsQ0FDSU4sU0FBVSxDQUNOdEQsSUFBSyw2REFDTHBFLFdBQVksR0FDWjNRLFFBQVMsSUFFYjBGLEtBQU0sTUFJbEIsQ0FBRXhqQixNQUFPLHFFQUFzRXdqQixLQUFNLE1BRzdGLENBQ0kyUyxTQUFVLENBQUV0RCxJQUFLLG9EQUFxRHBFLFdBQVksR0FBRzNRLFFBQVMsSUFDOUYwRixLQUFNLFFBTTFCLENBQUV4akIsTUFBTyx3Q0FBeUN3akIsS0FBTSxNQUk1RCxHQUEwQixDQUFDdVEsRUFBZ0IvVCxFQUFVLENBQUMsSUFDL0M2VyxHQUFnQixHQUFTLENBQzVCOUMsaUJBQ0E1VCxPQUFRSCxFQUFRRyxTQWdFcEJrdEMsR0FBZ0IsY0FBYyxHQUM5QixXQUFBcHNELEtBQWdCdStCLElBQ1osTUFDTWlyQixHQXZOeUJoK0MsRUF1S2YsQ0FBQzRzQixJQUNyQjhmLEdBQWdDajRCLFFBQVE4WCxTQUN4QyxNQUFNNHdCLEVBQWVELEdBQTBCdHdCLEdBQ3pDcXhCLEVBQXdCLElBQU1kLElBQWUvbEQsS0FBS28xQyxJQUNsRDBSLEVBcEJhLENBQUN0eEIsSUFBVyxDQUMvQnV4QixXQUFZLGFBQ1pDLGNBQWV4eEIsR0FBUXd4QixlQUFpQjdhLEdBQ3hDOGEsY0FBZXp4QixHQUFReXhCLGVBQWlCN2EsR0FDeEM4YSxrQkFBbUIxeEIsR0FBUTB4QixvQkFBcUIsRUFDaER6b0IsaUJBQWtCakosR0FBUWlKLGtCQUFvQixHQUM5QzBvQixXQUFZM3hCLEdBQVEyeEIsWUFBYyxHQUNsQzdxQyxPQUFRa1osR0FBUWxaLFFBQVUsSUFBSXlyQixHQUM5QnhkLFVBQVdpTCxHQUFRakwsV0FBYSxXQUNoQ21WLFVBQVdsSyxHQUFRa0ssV0FBYXBELEdBQ2hDOHFCLFlBQWE1eEIsR0FBUTR4QixhQUFlempELEVBQ3BDazVDLFlBQWFybkIsR0FBUXFuQixhQUFlejlCLElBU1QsQ0FBaUJvVyxHQUM1QyxNQUFPLElBQ0FzeEIsS0FDQXR4QixFQUNIclksUUFBUyxPQUNUNG9DLGVBQ0E3dUIsa0JBQW1CMUIsR0FBUTBCLG1CQUFxQjh0QixHQUNoRHJ2Qix5QkFBMEJILEdBQVFHLDBCQUM5QkQsR0FBaUIsQ0FBRW5MLFVBQVd1OEIsRUFBbUJ2OEIsVUFBVzI1QixjQTNLdkMsWUE0S3pCbGdCLFlBQWF4TyxHQUFRd08sYUFBZSxHQUFla0MsSUFDbkQ5aEIsT0FBUW9SLEdBQVFwUixRQUFVLEdBQWVvUyxHQUE0QkMsSUFDckUzYSxlQUFnQjBaLEdBQVExWixnQkFBa0IsSUFBSSxHQUFlK3FDLEdBQzdEdmdCLFVBQVc5USxHQUFROFEsV0FDZixHQUFlLElBQ1JDLEdBQ0hyakMsUUFBU3lZLGdCQUFtQmtyQyxLQUF5QnZnQixXQUFhbkcsS0FFMUV0YSxPQUFRMlAsR0FBUTNQLFFBQVU2K0IsR0FBSy9OLEtBQUssS0FBTSxVQUMxQ3hHLGdCQUFpQjNhLEdBQVEyYSxpQkFBbUIsR0FDNUMvbEIscUJBQXNCb0wsR0FBUXBMLHNCQUF3QixHQUFlNkwsSUFDckU5TCxnQkFBaUJxTCxHQUFRckwsaUJBQW1CLEdBQWVvTSxJQUM5RCxFQXNCcUJrekIsQ0FBa0I5dEIsR0FBaUIsQ0FBQyxHQXJObkQsSUFDQS95QixFQUNId2hCLHFCQUFzQnhoQixFQUFRd2hCLHVCQUF3QixFQUN0REQsZ0JBQWlCdmhCLEVBQVF1aEIsa0JBQW1CLEVBQzVDUSxtQkFBb0IsZUFMVSxJQUFDL2hCLEVBd04vQixNQUFNeStDLEVBQVl4d0IsR0FBb0IrdkIsR0FDaENVLEVBQVl4bkIsR0FBc0J1bkIsR0FJbENFLEVBdkJpQixFQUFDMXVDLEVBQWVzdUMsS0FDM0MsTUFBTUssRUFBeUIsSUFDZGxCLEdBQW1DenRDLE1BQ25DczlCLEdBQWlDdDlCLE1BQ2pDRCxFQUFxQ0MsSUFHdEQsT0FEQXN1QyxFQUFXcmUsU0FBUzJlLEdBQWNBLEVBQVVDLFVBQVVGLEtBQy9DLElBQ0EzdUMsS0FDQTR0QyxHQUF1Q2UsTUFDdkMsR0FBNEJBLE1BQzVCcnVDLEVBQWdDcXVDLEdBQ3RDLEVBV3FCLENBREE3NkIsR0FGQXlaLEdBQW1Ca2hCLElBR2lCM3JCLEdBQWV3ckIsWUFBYyxJQUNuRno1QixNQUFNNjVCLEdBQ043c0QsS0FBSzg2QixPQUFTK3hCLEVBQ2Q3c0QsS0FBS2d4QyxnQkFBZ0J0QixJQUFJakQsR0FBZXpzQyxLQUFLODZCLFNBQzdDOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSW5ULEdBQXVCdjhCLEtBQUs4NkIsU0FDckQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJNXVCLEVBQW9COWdCLEtBQUs4NkIsU0FDbEQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJbHVCLEVBQWdCeGhCLEtBQUs4NkIsU0FDOUM5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJbHRCLEVBQTRCeGlCLEtBQUs4NkIsU0FDMUQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJN1UsR0FBbUI3NkIsS0FBSzg2QixRQUNyRCxDQUNBLE9BQUF5VyxHQUNJdmUsTUFBTXVlLFNBQ1YsR0FVQXlkLEdBQTBCLE1BQU1DLFVBQWlDLEdBQ2pFLFdBQUF2c0QsQ0FBWXdMLEdBQ1I4a0IsTUFBTTlrQixHQUNOMU8sT0FBTzJDLGVBQWVuQyxLQUFNaXZELEVBQXlCOXVELFVBQ3pELEdBRUEsR0FBd0IsTUFBTSt1RCxVQUErQkYsR0FDN0QsV0FBQXRzRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sd0JBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyx3QkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTWt2RCxFQUF1Qi91RCxXQUNuREgsS0FBS3lCLE1BQVFtOEMsRUFBS244QyxNQUNsQnpCLEtBQUttdkQsa0JBQW9CdlIsRUFBS3VSLGlCQUNsQyxHQUVBQyxHQUFnQyxNQUFNQyxVQUF1Q0wsR0FDN0UsV0FBQXRzRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sZ0NBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyxnQ0FDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTXF2RCxFQUErQmx2RCxXQUMzREgsS0FBS3lCLE1BQVFtOEMsRUFBS244QyxNQUNsQnpCLEtBQUttdkQsa0JBQW9CdlIsRUFBS3VSLGlCQUNsQyxHQUVBLEdBQXdCLE1BQU1HLFVBQStCTixHQUM3RCxXQUFBdHNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSx3QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLHdCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNc3ZELEVBQXVCbnZELFdBQ25ESCxLQUFLeUIsTUFBUW04QyxFQUFLbjhDLE1BQ2xCekIsS0FBS212RCxrQkFBb0J2UixFQUFLdVIsaUJBQ2xDLEdBRUFJLEdBQTBCLE1BQU1DLFVBQWlDUixHQUNqRSxXQUFBdHNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSwwQkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLDBCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNd3ZELEVBQXlCcnZELFdBQ3JESCxLQUFLeUIsTUFBUW04QyxFQUFLbjhDLE1BQ2xCekIsS0FBS212RCxrQkFBb0J2UixFQUFLdVIsaUJBQ2xDLEdBRUFNLEdBQXlCLE1BQU1DLFVBQWdDVixHQUMvRCxXQUFBdHNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSx5QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLHlCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNMHZELEVBQXdCdnZELFdBQ3BESCxLQUFLeUIsTUFBUW04QyxFQUFLbjhDLE1BQ2xCekIsS0FBS212RCxrQkFBb0J2UixFQUFLdVIsaUJBQ2xDLEdBRUFRLEdBQXdCLE1BQU1DLFVBQStCWixHQUM3RCxXQUFBdHNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSx3QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLHdCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNNHZELEVBQXVCenZELFdBQ25ESCxLQUFLeUIsTUFBUW04QyxFQUFLbjhDLE1BQ2xCekIsS0FBS212RCxrQkFBb0J2UixFQUFLdVIsaUJBQ2xDLEdBRUEsR0FBMEIsTUFBTVUsVUFBaUNiLEdBQ2pFLFdBQUF0c0QsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLDBCQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sMEJBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU02dkQsRUFBeUIxdkQsV0FDckRILEtBQUt5QixNQUFRbThDLEVBQUtuOEMsTUFDbEJ6QixLQUFLbXZELGtCQUFvQnZSLEVBQUt1UixpQkFDbEMsR0FFQVcsR0FBd0IsTUFBTUMsVUFBK0JmLEdBQzdELFdBQUF0c0QsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLHdCQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sd0JBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU0rdkQsRUFBdUI1dkQsV0FDbkRILEtBQUt5QixNQUFRbThDLEVBQUtuOEMsTUFDbEJ6QixLQUFLbXZELGtCQUFvQnZSLEVBQUt1UixpQkFDbEMsR0FFQWEsR0FBb0IsTUFBTUMsVUFBMkJqQixHQUNyRCxXQUFBdHNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxvQkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLG9CQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNaXdELEVBQW1COXZELFdBQy9DSCxLQUFLeUIsTUFBUW04QyxFQUFLbjhDLE1BQ2xCekIsS0FBS212RCxrQkFBb0J2UixFQUFLdVIsaUJBQ2xDLEdBRUFlLEdBQThCLE1BQU1DLFVBQXFDbkIsR0FDekUsV0FBQXRzRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sOEJBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyw4QkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTW13RCxFQUE2Qmh3RCxXQUN6REgsS0FBS3lCLE1BQVFtOEMsRUFBS244QyxNQUNsQnpCLEtBQUttdkQsa0JBQW9CdlIsRUFBS3VSLGlCQUNsQyxHQUVBaUIsR0FBZ0MsTUFBTUMsVUFBdUNyQixHQUM3RSxXQUFBdHNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxnQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLGdDQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNcXdELEVBQStCbHdELFdBQzNESCxLQUFLeUIsTUFBUW04QyxFQUFLbjhDLE1BQ2xCekIsS0FBS212RCxrQkFBb0J2UixFQUFLdVIsaUJBQ2xDLEdBRUFtQixHQUFpQyxNQUFNQyxVQUF3Q3ZCLEdBQy9FLFdBQUF0c0QsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLGlDQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8saUNBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU11d0QsRUFBZ0Nwd0QsV0FDNURILEtBQUt5QixNQUFRbThDLEVBQUtuOEMsTUFDbEJ6QixLQUFLbXZELGtCQUFvQnZSLEVBQUt1UixpQkFDbEMsR0E2T0EsR0FBb0JwVixHQUFrQmlWLElBQ3RDd0IsR0FBOEJ2dkMsTUFBTzA5QixFQUFjbDlCLEtBQ25ELE1BQU04L0IsRUFBVyxHQUFJLENBQUMsR0FDaEJ6Z0QsRUFBTzY5QyxFQUFhcDVDLEtBQ3BCb29ELEVBQU0sR0FBSzdzRCxFQUFNLENBQ25CVyxNQUFPLEdBQ1AwdEQsa0JBQW1CLEtBRXZCM3ZELE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJLEdBQXNCLENBQ3hDMTNCLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9Ea3JELEdBQXNDeHZDLE1BQU8wOUIsRUFBY2w5QixLQUMzRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSXdWLEdBQThCLENBQ2hEbHRDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9ELEdBQThCMGIsTUFBTzA5QixFQUFjbDlCLEtBQ25ELE1BQU04L0IsRUFBVyxHQUFJLENBQUMsR0FDaEJ6Z0QsRUFBTzY5QyxFQUFhcDVDLEtBQ3BCb29ELEVBQU0sR0FBSzdzRCxFQUFNLENBQ25CVyxNQUFPLEdBQ1AwdEQsa0JBQW1CLEtBRXZCM3ZELE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJLEdBQXNCLENBQ3hDMTNCLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9EbXJELEdBQWdDenZDLE1BQU8wOUIsRUFBY2w5QixLQUNyRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSTJWLEdBQXdCLENBQzFDcnRDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9Eb3JELEdBQStCMXZDLE1BQU8wOUIsRUFBY2w5QixLQUNwRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSTZWLEdBQXVCLENBQ3pDdnRDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9EcXJELEdBQXVDM3ZDLE1BQU8wOUIsRUFBY2w5QixLQUM1RCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSTBXLEdBQStCLENBQ2pEcHVDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9Ec3JELEdBQThCNXZDLE1BQU8wOUIsRUFBY2w5QixLQUNuRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSStWLEdBQXNCLENBQ3hDenRDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9ELEdBQWdDMGIsTUFBTzA5QixFQUFjbDlCLEtBQ3JELE1BQU04L0IsRUFBVyxHQUFJLENBQUMsR0FDaEJ6Z0QsRUFBTzY5QyxFQUFhcDVDLEtBQ3BCb29ELEVBQU0sR0FBSzdzRCxFQUFNLENBQ25CVyxNQUFPLEdBQ1AwdEQsa0JBQW1CLEtBRXZCM3ZELE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJLEdBQXdCLENBQzFDMTNCLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9EdXJELEdBQThCN3ZDLE1BQU8wOUIsRUFBY2w5QixLQUNuRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSWtXLEdBQXNCLENBQ3hDNXRDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9Ed3JELEdBQTBCOXZDLE1BQU8wOUIsRUFBY2w5QixLQUMvQyxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSW9XLEdBQWtCLENBQ3BDOXRDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9EeXJELEdBQW9DL3ZDLE1BQU8wOUIsRUFBY2w5QixLQUN6RCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSXNXLEdBQTRCLENBQzlDaHVDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9EMHJELEdBQXNDaHdDLE1BQU8wOUIsRUFBY2w5QixLQUMzRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQlcsTUFBTyxHQUNQMHRELGtCQUFtQixLQUV2QjN2RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSXdXLEdBQThCLENBQ2hEbHVDLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRS9ELEdBQXVCNmMsSUFBVyxDQUNsQzJqQixlQUFnQjNqQixFQUFPN0IsV0FDdkJnNkIsVUFBV240QixFQUFPN0MsUUFBUSxxQkFBdUI2QyxFQUFPN0MsUUFBUSxzQkFBd0I2QyxFQUFPN0MsUUFBUSxvQkFDdkdpN0Isa0JBQW1CcDRCLEVBQU83QyxRQUFRLGNBQ2xDazdCLEtBQU1yNEIsRUFBTzdDLFFBQVEsaUJBR3JCLEdBQVksQ0FBQ2cyQixFQUFZOXpCLElBREwsRUFBQzh6QixFQUFZOXpCLElBQVksR0FBWTh6QixFQUFZOXpCLEdBQVNuYyxNQUFNQyxHQUFTa2MsRUFBUTBnQyxZQUFZNThDLEtBQzVFLENBQWtCZ3dDLEVBQVk5ekIsR0FBU25jLE1BQU0yRixHQUM5RUEsRUFBUTlILE9BQ0R1TSxLQUFLZ00sTUFBTXpRLEdBRWYsQ0FBQyxJQUVSLEdBQWlCZ1csTUFBT3doQyxFQUFXaGhDLEtBQ25DLE1BQU05aEIsUUFBYyxHQUFVOGlELEVBQVdoaEMsR0FFekMsT0FEQTloQixFQUFNNlEsUUFBVTdRLEVBQU02USxTQUFXN1EsRUFBTW02QyxRQUNoQ242QyxDQUFLLEVBRVosR0FBd0IsQ0FBQ3lpQixFQUFRdGhCLEtBQ2pDLE1BQ01vdEQsRUFBcUJDLElBQ3ZCLElBQUlDLEVBQWFELEVBYWpCLE1BWjBCLGlCQUFmQyxJQUNQQSxFQUFhQSxFQUFXaGpELFlBRXhCZ2pELEVBQVc3cUQsUUFBUSxNQUFRLElBQzNCNnFELEVBQWFBLEVBQVd6OUMsTUFBTSxLQUFLLElBRW5DeTlDLEVBQVc3cUQsUUFBUSxNQUFRLElBQzNCNnFELEVBQWFBLEVBQVd6OUMsTUFBTSxLQUFLLElBRW5DeTlDLEVBQVc3cUQsUUFBUSxNQUFRLElBQzNCNnFELEVBQWFBLEVBQVd6OUMsTUFBTSxLQUFLLElBRWhDeTlDLENBQVUsRUFFZnQzQixHQWpCV3ZrQixFQWlCUzZQLEVBQU83QyxRQUFTLG1CQWpCVC9mLE9BQU8yTSxLQUFLb0csR0FBUXluQixNQUFNcHpCLEdBQU9BLEVBQUdpZCxnQkFpQjNCLG1CQWpCaURBLGlCQUEzRSxJQUFDdFIsRUFrQmpCLFlBQWtCLElBQWR1a0IsRUFDT28zQixFQUFrQjlyQyxFQUFPN0MsUUFBUXVYLFNBRTFCLElBQWRoMkIsRUFBS29PLEtBQ0VnL0MsRUFBa0JwdEQsRUFBS29PLFdBRVgsSUFBbkJwTyxFQUFhLE9BQ05vdEQsRUFBa0JwdEQsRUFBYSxhQUQxQyxDQUVBLEVBRUFvd0QsR0FBcUIsTUFBTUMsVUFBNEIsR0FDdkQsV0FBQXp1RCxDQUFZMEcsR0FDUjRwQixRQUNBaHpCLEtBQUtvSixNQUFRQSxDQUNqQixDQUNBLHVDQUFPazVCLEdBQ0gsTUFBTyxDQUNIeWdCLFFBQVMsQ0FBRTk5QixLQUFNLGdCQUFpQnBTLEtBQU0sbUJBQ3hDa21CLFNBQVUsQ0FBRTlULEtBQU0sZ0JBQWlCcFMsS0FBTSxZQUN6Q213QyxPQUFRLENBQUUvOUIsS0FBTSxnQkFBaUJwUyxLQUFNLFVBQ3ZDb3dDLGFBQWMsQ0FBRWgrQixLQUFNLGdCQUFpQnBTLEtBQU0sd0JBRXJELENBQ0EsaUJBQUF5K0IsQ0FBa0J0d0IsRUFBYWlnQixFQUFlL3lCLEdBQzFDbE8sS0FBS2d4QyxnQkFBZ0J0QixJQUFJaEwsR0FBZXpELEVBQWVqaEMsS0FBS3l3QyxVQUFXendDLEtBQUsyd0MsY0FDNUUzd0MsS0FBS2d4QyxnQkFBZ0J0QixJQUFJdkssR0FBa0JsRSxFQUFla3dCLEVBQW9CN3VCLHFDQUM5RSxNQUFNaU0sRUFBUXZ0QixFQUFZOVosT0FBT2xILEtBQUtneEMsa0JBQ2hDLE9BQUVwdkIsR0FBV3FmLEVBR2JpaUIsRUFBMEIsQ0FDNUJ0aEMsU0FDQUYsV0FKZSxnQkFLZkMsWUFKZ0IscUJBS2hCSyx3QkFBMEJyYyxHQUFNQSxFQUNoQ3NjLHlCQUEyQnRjLEdBQU1BLEVBQ2pDLENBQUNxWixHQUFxQixDQUNsQjJLLFFBQVMsb0JBQ1R3NUIsVUFBVyxpQkFHYixlQUFFL2hDLEdBQW1CNmYsRUFDM0IsT0FBT3NOLEVBQU12cEMsU0FBUythLEdBQVlxQixFQUFld3hCLE9BQU83eUIsRUFBUUEsUUFBUzdSLEdBQVcsQ0FBQyxJQUFJZzFDLEVBQzdGLENBQ0EsU0FBQXpTLENBQVVybkMsRUFBT3FZLEdBQ2IsTUF0ZW9CUixPQUFPN1gsRUFBT3FZLEtBQ3RDLE1BQU0sU0FBRXJDLEVBQVEsU0FBRUksRUFBVyxRQUFPLEtBQUVILEVBQU1LLEtBQU1zaUMsU0FBbUJ2Z0MsRUFBUW1XLFdBSXZFc2xCLEVBQWUsR0FBRzhFLEdBQVU1c0MsU0FBUyxLQUFPNHNDLEVBQVN2aUMsTUFBTSxHQUFJLEdBQUt1aUMsR0FBWSxXQUN0RixJQUFJejhDLEVBV0osT0FWQUEsRUFBT21LLEtBQUtDLFVBQVUsR0FBS3ZHLEVBQU8sQ0FDOUJnb0QsU0FBVSxHQUNWQyxhQUFjLEdBQ2RuaUQsS0FBTSxHQUNOb2lELFdBQVksR0FDWkMsVUFBVyxHQUNYQyxZQUFhLEdBQ2JDLGFBQWMsR0FDZHZsQyxNQUFRdm1CLEdBQU0sR0FBTUEsTUFFakIsSUFBSSxFQUFjLENBQ3JCNlosV0FDQUosV0FDQUMsT0FDQUYsT0FBUSxPQUNSSSxRQXBCWSxDQUNaLGVBQWdCLG9CQW9CaEJHLEtBQU13OUIsRUFDTjMzQyxRQUNGLEVBNmNTbXNELENBQXNCdG9ELEVBQU9xWSxFQUN4QyxDQUNBLFdBQUFrdkIsQ0FBWXZ1QixFQUFRWCxHQUNoQixNQWxhb0JSLE9BQU9tQixFQUFRWCxLQUN2QyxHQUEwQixNQUF0QlcsRUFBTzdCLFlBQXNCNkIsRUFBTzdCLFlBQWMsSUFDbEQsTUFnQnlCVSxPQUFPbUIsRUFBUVgsS0FDNUMsTUFBTWs5QixFQUFlLElBQ2R2OEIsRUFDSDdjLFdBQVksR0FBZTZjLEVBQU83YyxLQUFNa2MsSUFFdEN5NEIsRUFBWSxHQUFzQjkzQixFQUFRdThCLEVBQWFwNUMsTUFDN0QsT0FBUTIwQyxHQUNKLElBQUssd0JBQ0wsSUFBSyw4Q0FDRCxZQUFZc1csR0FBNEI3UixFQUFjbDlCLEdBQzFELElBQUssZ0NBQ0wsSUFBSyxzREFDRCxZQUFZZ3ZDLEdBQW9DOVIsRUFBY2w5QixHQUNsRSxJQUFLLHdCQUNMLElBQUssOENBQ0QsWUFBWSxHQUE0Qms5QixFQUFjbDlCLEdBQzFELElBQUssMEJBQ0wsSUFBSyxnREFDRCxZQUFZaXZDLEdBQThCL1IsRUFBY2w5QixHQUM1RCxJQUFLLHlCQUNMLElBQUssK0NBQ0QsWUFBWWt2QyxHQUE2QmhTLEVBQWNsOUIsR0FDM0QsSUFBSyx3QkFDTCxJQUFLLDhDQUNELFlBQVlvdkMsR0FBNEJsUyxFQUFjbDlCLEdBQzFELElBQUssMEJBQ0wsSUFBSyxnREFDRCxZQUFZLEdBQThCazlCLEVBQWNsOUIsR0FDNUQsSUFBSyx3QkFDTCxJQUFLLDhDQUNELFlBQVlxdkMsR0FBNEJuUyxFQUFjbDlCLEdBQzFELElBQUssb0JBQ0wsSUFBSywwQ0FDRCxZQUFZc3ZDLEdBQXdCcFMsRUFBY2w5QixHQUN0RCxJQUFLLDhCQUNMLElBQUssb0RBQ0QsWUFBWXV2QyxHQUFrQ3JTLEVBQWNsOUIsR0FDaEUsSUFBSyxnQ0FDTCxJQUFLLHNEQUNELFlBQVl3dkMsR0FBb0N0UyxFQUFjbDlCLEdBQ2xFLFFBQ0ksTUFBTXc0QixFQUFhMEUsRUFBYXA1QyxLQUNoQyxPQUFPLEdBQWtCLENBQ3JCNmMsU0FDQTYzQixhQUNBQyxjQUVaLEVBL0RXeVgsQ0FBMkJ2dkMsRUFBUVgsR0FFOUMsTUFBTTgvQixFQUFXLEdBQUksQ0FDakJyL0IsVUFBVyxHQUFvQkUsS0FFN0J0aEIsRUFBTyxHQUFnQixTQUFxQixHQUFVc2hCLEVBQU83YyxLQUFNa2MsSUFBVyxRQUM5RWtzQyxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQndzRCxZQUFhLEdBQ2IzaEMsVUFBVyxHQUNYaW1DLFFBQVMsR0FDVEgsYUFBYyxHQUNkSSxVQUFXLEtBR2YsT0FEQXJ5RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDakJwTSxDQUFRLEVBa1pKdVEsQ0FBc0IxdkMsRUFBUVgsRUFDekMsR0E0RkFzd0MsR0FBVyxDQUNYYixzQkFDQWMsc0JBeEZ3QixNQUFNQyxVQUErQixHQUM3RCxXQUFBdnZELENBQVkwRyxHQUNSNHBCLFFBQ0FoekIsS0FBS29KLE1BQVFBLENBQ2pCLENBQ0EsdUNBQU9rNUIsR0FDSCxNQUFPLENBQ0h5Z0IsUUFBUyxDQUFFOTlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxtQkFDeENrbUIsU0FBVSxDQUFFOVQsS0FBTSxnQkFBaUJwUyxLQUFNLFlBQ3pDbXdDLE9BQVEsQ0FBRS85QixLQUFNLGdCQUFpQnBTLEtBQU0sVUFDdkNvd0MsYUFBYyxDQUFFaCtCLEtBQU0sZ0JBQWlCcFMsS0FBTSx3QkFFckQsQ0FDQSxpQkFBQXkrQixDQUFrQnR3QixFQUFhaWdCLEVBQWUveUIsR0FDMUNsTyxLQUFLZ3hDLGdCQUFnQnRCLElBQUloTCxHQUFnQnpELEVBQWVqaEMsS0FBS3l3QyxVQUFXendDLEtBQUsyd0MsY0FDN0Uzd0MsS0FBS2d4QyxnQkFBZ0J0QixJQUFJdkssR0FBbUJsRSxFQUFlZ3hCLEVBQXVCM3ZCLHFDQUNsRixNQUFNaU0sRUFBUXZ0QixFQUFZOVosT0FBT2xILEtBQUtneEMsa0JBQ2hDLE9BQUVwdkIsR0FBV3FmLEVBR2JpaUIsRUFBMEIsQ0FDNUJ0aEMsU0FDQUYsV0FKZSxnQkFLZkMsWUFKZ0Isd0JBS2hCSyx3QkFBMEJyYyxHQUFNQSxFQUNoQ3NjLHlCQUEyQnRjLEdBQU1BLEVBQ2pDLENBQUNxWixHQUFzQixDQUNuQjJLLFFBQVMsb0JBQ1R3NUIsVUFBVyxvQkFHYixlQUFFL2hDLEdBQW1CNmYsRUFDM0IsT0FBT3NOLEVBQU12cEMsU0FBUythLEdBQVlxQixFQUFld3hCLE9BQU83eUIsRUFBUUEsUUFBUzdSLEdBQVcsQ0FBQyxJQUFJZzFDLEVBQzdGLENBQ0EsU0FBQXpTLENBQVVybkMsRUFBT3FZLEdBQ2IsTUF4ZnVCUixPQUFPN1gsRUFBT3FZLEtBQ3pDLE1BQU0sU0FBRXJDLEVBQVEsU0FBRUksRUFBVyxRQUFPLEtBQUVILEVBQU1LLEtBQU1zaUMsU0FBbUJ2Z0MsRUFBUW1XLFdBSXZFc2xCLEVBQWUsR0FBRzhFLEdBQVU1c0MsU0FBUyxLQUFPNHNDLEVBQVN2aUMsTUFBTSxHQUFJLEdBQUt1aUMsR0FBWSxxQkFDdEYsSUFBSXo4QyxFQU1KLE9BTEFBLEVBQU9tSyxLQUFLQyxVQUFVLEdBQUt2RyxFQUFPLENBQzlCc1ksV0FBWSxHQUNad3dDLFdBQVksR0FDWkMsT0FBU3hzRCxHQUFNLEdBQU1BLE1BRWxCLElBQUksRUFBYyxDQUNyQjZaLFdBQ0FKLFdBQ0FDLE9BQ0FGLE9BQVEsT0FDUkksUUFmWSxDQUNaLGVBQWdCLG9CQWVoQkcsS0FBTXc5QixFQUNOMzNDLFFBQ0YsRUFvZVM2c0QsQ0FBeUJocEQsRUFBT3FZLEVBQzNDLENBQ0EsV0FBQWt2QixDQUFZdnVCLEVBQVFYLEdBQ2hCLE1BNVl1QlIsT0FBT21CLEVBQVFYLEtBQzFDLEdBQTBCLE1BQXRCVyxFQUFPN0IsWUFBc0I2QixFQUFPN0IsWUFBYyxJQUNsRCxNQWlCNEJVLE9BQU9tQixFQUFRWCxLQUMvQyxNQUFNazlCLEVBQWUsSUFDZHY4QixFQUNIN2MsV0FBWSxHQUFlNmMsRUFBTzdjLEtBQU1rYyxJQUV0Q3k0QixFQUFZLEdBQXNCOTNCLEVBQVF1OEIsRUFBYXA1QyxNQUM3RCxPQUFRMjBDLEdBQ0osSUFBSywwQkFDTCxJQUFLLGdEQUNELFlBQVl3VyxHQUE4Qi9SLEVBQWNsOUIsR0FDNUQsSUFBSyxpQ0FDTCxJQUFLLHVEQUNELFlBQVltdkMsR0FBcUNqUyxFQUFjbDlCLEdBQ25FLElBQUssMEJBQ0wsSUFBSyxnREFDRCxZQUFZLEdBQThCazlCLEVBQWNsOUIsR0FDNUQsSUFBSyx3QkFDTCxJQUFLLDhDQUNELFlBQVlxdkMsR0FBNEJuUyxFQUFjbDlCLEdBQzFELFFBQ0ksTUFBTXc0QixFQUFhMEUsRUFBYXA1QyxLQUNoQyxPQUFPLEdBQWtCLENBQ3JCNmMsU0FDQTYzQixhQUNBQyxjQUVaLEVBM0NXbVksQ0FBOEJqd0MsRUFBUVgsR0FFakQsTUFBTTgvQixFQUFXLEdBQUksQ0FDakJyL0IsVUFBVyxHQUFvQkUsS0FFN0J0aEIsRUFBTyxHQUFnQixTQUFxQixHQUFVc2hCLEVBQU83YyxLQUFNa2MsSUFBVyxRQUM5RWtzQyxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQnd4RCxzQkFBdUIsR0FDdkJsQixTQUFVLEdBQ1ZtQixpQkFBa0IsR0FDbEJsQixhQUFjLEdBQ2RtQixzQkFBdUIsR0FDdkJDLGNBQWUsS0FHbkIsT0FEQWp6RCxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDakJwTSxDQUFRLEVBMlhKbVIsQ0FBeUJ0d0MsRUFBUVgsRUFDNUMsR0FrREFreEMsZ0NBNUNrQyxNQUFNQyxVQUF5QyxHQUNqRixXQUFBbHdELENBQVkwRyxHQUNSNHBCLFFBQ0FoekIsS0FBS29KLE1BQVFBLENBQ2pCLENBQ0EsdUNBQU9rNUIsR0FDSCxNQUFPLENBQ0h5Z0IsUUFBUyxDQUFFOTlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxtQkFDeENrbUIsU0FBVSxDQUFFOVQsS0FBTSxnQkFBaUJwUyxLQUFNLFlBQ3pDbXdDLE9BQVEsQ0FBRS85QixLQUFNLGdCQUFpQnBTLEtBQU0sVUFDdkNvd0MsYUFBYyxDQUFFaCtCLEtBQU0sZ0JBQWlCcFMsS0FBTSx3QkFFckQsQ0FDQSxpQkFBQXkrQixDQUFrQnR3QixFQUFhaWdCLEVBQWUveUIsR0FDMUNsTyxLQUFLZ3hDLGdCQUFnQnRCLElBQUloTCxHQUFnQnpELEVBQWVqaEMsS0FBS3l3QyxVQUFXendDLEtBQUsyd0MsY0FDN0Uzd0MsS0FBS2d4QyxnQkFBZ0J0QixJQUFJdkssR0FBbUJsRSxFQUFlMnhCLEVBQWlDdHdCLHFDQUM1RixNQUFNaU0sRUFBUXZ0QixFQUFZOVosT0FBT2xILEtBQUtneEMsa0JBQ2hDLE9BQUVwdkIsR0FBV3FmLEVBR2JpaUIsRUFBMEIsQ0FDNUJ0aEMsU0FDQUYsV0FKZSxnQkFLZkMsWUFKZ0Isa0NBS2hCSyx3QkFBMEJyYyxHQUFNQSxFQUNoQ3NjLHlCQUEyQnRjLEdBQU1BLEVBQ2pDLENBQUNxWixHQUFzQixDQUNuQjJLLFFBQVMsb0JBQ1R3NUIsVUFBVyw4QkFHYixlQUFFL2hDLEdBQW1CNmYsRUFDM0IsT0FBT3NOLEVBQU12cEMsU0FBUythLEdBQVlxQixFQUFld3hCLE9BQU83eUIsRUFBUUEsUUFBUzdSLEdBQVcsQ0FBQyxJQUFJZzFDLEVBQzdGLENBQ0EsU0FBQXpTLENBQVVybkMsRUFBT3FZLEdBQ2IsTUEvZ0JpQ1IsT0FBTzdYLEVBQU9xWSxLQUNuRCxNQUFNLFNBQUVyQyxFQUFRLFNBQUVJLEVBQVcsUUFBTyxLQUFFSCxFQUFNSyxLQUFNc2lDLFNBQW1CdmdDLEVBQVFtVyxXQUl2RXNsQixFQUFlLEdBQUc4RSxHQUFVNXNDLFNBQVMsS0FBTzRzQyxFQUFTdmlDLE1BQU0sR0FBSSxHQUFLdWlDLEdBQVksMEJBQ3RGLElBQUl6OEMsRUFNSixPQUxBQSxFQUFPbUssS0FBS0MsVUFBVSxHQUFLdkcsRUFBTyxDQUM5QmdvRCxTQUFVLEdBQ1ZDLGFBQWMsR0FDZHdCLFNBQVUsTUFFUCxJQUFJLEVBQWMsQ0FDckJyekMsV0FDQUosV0FDQUMsT0FDQUYsT0FBUSxPQUNSSSxRQWZZLENBQ1osZUFBZ0Isb0JBZWhCRyxLQUFNdzlCLEVBQ04zM0MsUUFDRixFQTJmU3V0RCxDQUFtQzFwRCxFQUFPcVksRUFDckQsQ0FDQSxXQUFBa3ZCLENBQVl2dUIsRUFBUVgsR0FDaEIsTUExWWlDUixPQUFPbUIsRUFBUVgsS0FDcEQsR0FBMEIsTUFBdEJXLEVBQU83QixZQUFzQjZCLEVBQU83QixZQUFjLElBQ2xELE1BaUJzQ1UsT0FBT21CLEVBQVFYLEtBQ3pELE1BQU1rOUIsRUFBZSxJQUNkdjhCLEVBQ0g3YyxXQUFZLEdBQWU2YyxFQUFPN2MsS0FBTWtjLElBRXRDeTRCLEVBQVksR0FBc0I5M0IsRUFBUXU4QixFQUFhcDVDLE1BQzdELE9BQVEyMEMsR0FDSixJQUFLLDBCQUNMLElBQUssZ0RBQ0QsWUFBWXdXLEdBQThCL1IsRUFBY2w5QixHQUM1RCxJQUFLLHlCQUNMLElBQUssK0NBQ0QsWUFBWWt2QyxHQUE2QmhTLEVBQWNsOUIsR0FDM0QsSUFBSywwQkFDTCxJQUFLLGdEQUNELFlBQVksR0FBOEJrOUIsRUFBY2w5QixHQUM1RCxJQUFLLG9CQUNMLElBQUssMENBQ0QsWUFBWXN2QyxHQUF3QnBTLEVBQWNsOUIsR0FDdEQsSUFBSyw4QkFDTCxJQUFLLG9EQUNELFlBQVl1dkMsR0FBa0NyUyxFQUFjbDlCLEdBQ2hFLFFBQ0ksTUFBTXc0QixFQUFhMEUsRUFBYXA1QyxLQUNoQyxPQUFPLEdBQWtCLENBQ3JCNmMsU0FDQTYzQixhQUNBQyxjQUVaLEVBOUNXNlksQ0FBd0Mzd0MsRUFBUVgsR0FFM0QsTUFBTTgvQixFQUFXLEdBQUksQ0FDakJyL0IsVUFBVyxHQUFvQkUsS0FFN0J0aEIsRUFBTyxHQUFnQixTQUFxQixHQUFVc2hCLEVBQU83YyxLQUFNa2MsSUFBVyxRQUM5RWtzQyxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQnd3RCxXQUFZLEdBQ1ozbEMsVUFBVyxHQUNYcW5DLFNBQVUsR0FDVkMsU0FBVSxHQUNWQyxnQkFBaUIsR0FDakJDLHdCQUF5QixLQUc3QixPQURBM3pELE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUNqQnBNLENBQVEsRUF5WEo2UixDQUFtQ2h4QyxFQUFRWCxFQUN0RCxJQzkrQmtDLEVBQUNzd0MsRUFBVWhoQixLQUM3QyxJQUFLLE1BQU1HLEtBQVcxeEMsT0FBTzJNLEtBQUs0bEQsR0FBVyxDQUN6QyxNQUFNc0IsRUFBY3RCLEVBQVM3Z0IsR0FDdkJvaUIsRUFBYXJ5QyxlQUFnQkMsRUFBTWl3QixFQUFhQyxHQUNsRCxNQUFNRixFQUFVLElBQUltaUIsRUFBWW55QyxHQUNoQyxHQUEyQixtQkFBaEJpd0IsRUFDUG54QyxLQUFLaXhDLEtBQUtDLEVBQVNDLE9BRWxCLElBQWtCLG1CQUFQQyxFQU1aLE9BQU9weEMsS0FBS2l4QyxLQUFLQyxFQUFTQyxHQUwxQixHQUEyQixpQkFBaEJBLEVBQ1AsTUFBTSxJQUFJdjdCLE1BQU0sd0NBQXdDdTdCLEdBQzVEbnhDLEtBQUtpeEMsS0FBS0MsRUFBU0MsR0FBZSxDQUFDLEVBQUdDLEVBSTFDLENBQ0osRUFDTW1pQixHQUFjcmlCLEVBQVEsR0FBR3J0QixjQUFnQnF0QixFQUFRenhCLE1BQU0sSUFBSTdQLFFBQVEsV0FBWSxJQUNyRm1oQyxFQUFPNXdDLFVBQVVvekQsR0FBY0QsQ0FDbkMsR0RvK0JKRSxDQUF1QnpCLEdBRlQsY0FBY2pELE1FcC9CNUIsTUFBTTJFLEdBQXFCLENBQUMsRUNDZkMsR0FBdUJ0cEIsSUFDaEMsR0FBSUEsRUFBTWphLFlBQWNpYSxFQUFNamEsV0FBV0MsVUFBWWpkLEtBQUswYixNQUN0RCxNQUFNLElBQUkrL0IsR0FBbUIscUJBQXFCQyxNQUFtQixFQUN6RSxFQ0hTOEUsR0FBbUIsQ0FBQzl2RCxFQUFLbEUsRUFBT2kwRCxHQUFhLEtBQ3RELFFBQXFCLElBQVZqMEQsRUFDUCxNQUFNLElBQUlpdkQsR0FBbUIsMEJBQTBCL3FELGtCQUFvQit2RCxFQUFhLG1CQUFxQixPQUFPL0UsTUFBbUIsRUFDM0ksR0NIRSxVQUFFZ0YsSUFBYyxZQ0toQkMsR0FBeUIsSUFBSTNnRCxLQUFLLEdBQzNCNGdELEdBQVUsQ0FBQzUxQixFQUFPLENBQUMsSUFBTWxkLFVBQ2xDLE1BQU13bkMsUUFBaUIvbkIsR0FBZ0J2QyxHQUNqQ3VxQixFQUFjeHFCLEdBQWVDLEdBQzdCeEMsRUFBVThzQixFQUFTQyxHQUN6QixJQUFLL3NCLEVBQ0QsTUFBTSxJQUFJaXpCLEdBQW1CLFlBQVlsRyxxREFBK0QsR0FFdkcsSUFBSy9zQixFQUFxQixZQUMzQixNQUFNLElBQUlpekIsR0FBbUIsWUFBWWxHLGtEQUU3QyxNQUFNc0wsRUFBaUJyNEIsRUFBcUIsWUFFdENzNEIsU0FEb0J4ekIsR0FBbUJ0QyxJQUNkNjFCLEdBQy9CLElBQUtDLEVBQ0QsTUFBTSxJQUFJckYsR0FBbUIsZ0JBQWdCb0YscURBQWtFLEdBRW5ILElBQUssTUFBTUUsSUFBeUIsQ0FBQyxnQkFBaUIsY0FDbEQsSUFBS0QsRUFBV0MsR0FDWixNQUFNLElBQUl0RixHQUFtQixnQkFBZ0JvRixvQ0FBaURFLE9BQTJCLEdBRzdHRCxFQUEwQixjQUE5QyxNQUNNRSxFQUFZRixFQUF1QixXQUN6QyxJQUFJRyxFQUNKLElBQ0lBLFFBQWlCNTFCLEdBQW9CdzFCLEVBQ3pDLENBQ0EsTUFBTzF3RCxHQUNILE1BQU0sSUFBSXNyRCxHQUFtQixpREFBaURsRyxrQ0FBNENtRyxNQUFtQixFQUNqSixDQUNBOEUsR0FBaUIsY0FBZVMsRUFBUzlHLGFBQ3pDcUcsR0FBaUIsWUFBYVMsRUFBU0MsV0FDdkMsTUFBTSxZQUFFL0csRUFBVyxVQUFFK0csR0FBY0QsRUFDN0JFLEVBQWdCLENBQUVscUIsTUFBT2tqQixFQUFhbjlCLFdBQVksSUFBSWhkLEtBQUtraEQsSUFDakUsR0FBSUMsRUFBY25rQyxXQUFXQyxVQUFZamQsS0FBSzBiLE1QMUNsQixJTzJDeEIsT0FBT3lsQyxFQUVYLEdBQUluaEQsS0FBSzBiLE1BQVFpbEMsR0FBdUIxakMsVUFBWSxJQUVoRCxPQURBc2pDLEdBQW9CWSxHQUNiQSxFQUVYWCxHQUFpQixXQUFZUyxFQUFTaEQsVUFBVSxHQUNoRHVDLEdBQWlCLGVBQWdCUyxFQUFTL0MsY0FBYyxHQUN4RHNDLEdBQWlCLGVBQWdCUyxFQUFTM0MsY0FBYyxHQUN4RCxJQUNJcUMsR0FBdUJ6YixRQUFRbGxDLEtBQUswYixPQUNwQyxNQUFNMGxDLE9DcERvQixFQUFDSCxFQUFVRCxLQUN6QyxNQUFNSyxFTERzQixDQUFDTCxJQUM3QixHQUFJVixHQUFtQlUsR0FDbkIsT0FBT1YsR0FBbUJVLEdBRTlCLE1BQU1LLEVBQWdCLElBQUkxRixHQUFjLENBQUVwbEMsT0FBUXlxQyxJQUVsRCxPQURBVixHQUFtQlUsR0FBYUssRUFDekJBLENBQWEsRUtMRUMsQ0FBaUJOLEdBQ3ZDLE9BQU9LLEVBQWN2akIsS0FBSyxJQUFJaWdCLEdBQW1CLENBQzdDRSxTQUFVZ0QsRUFBU2hELFNBQ25CQyxhQUFjK0MsRUFBUy9DLGFBQ3ZCSSxhQUFjMkMsRUFBUzNDLGFBQ3ZCRixVQUFXLGtCQUNaLEVENkMrQm1ELENBQW1CTixFQUFVRCxHQUMzRFIsR0FBaUIsY0FBZVksRUFBZ0JqSCxhQUNoRHFHLEdBQWlCLFlBQWFZLEVBQWdCNW9DLFdBQzlDLE1BQU1ncEMsRUFBcUIsSUFBSXhoRCxLQUFLQSxLQUFLMGIsTUFBb0MsSUFBNUIwbEMsRUFBZ0I1b0MsV0FDakUsU0R2RDJCLEVBQUNzTyxFQUFJbTZCLEtBQ3BDLE1BQU1RLEVBQWdCeDJCLEdBQW9CbkUsR0FDcEM0NkIsRUFBY25sRCxLQUFLQyxVQUFVeWtELEVBQVUsS0FBTSxHQUNuRCxPQUFPUCxHQUFVZSxFQUFlQyxFQUFZLEVDcUQ5QkMsQ0FBb0JkLEVBQWdCLElBQ25DSSxFQUNIOUcsWUFBYWlILEVBQWdCakgsWUFDN0IrRyxVQUFXTSxFQUFtQjNsQyxjQUM5QnlpQyxhQUFjOEMsRUFBZ0I5QyxjQUV0QyxDQUNBLE1BQU9od0QsR0FDUCxDQUNBLE1BQU8sQ0FDSDJvQyxNQUFPbXFCLEVBQWdCakgsWUFDdkJuOUIsV0FBWXdrQyxFQUVwQixDQUNBLE1BQU9sekQsR0FFSCxPQURBaXlELEdBQW9CWSxHQUNiQSxDQUNYLEdFeEVFUyxJQUErQixFQUN4QkMsR0FBd0IvekMsT0FBU2cwQyxjQUFhaEIsYUFBWWlCLGVBQWNmLFlBQVdnQixjQUFhQyxZQUFXejVCLGNBQ3BILElBQUl5TyxFQUNKLE1BQU1pckIsRUFBaUIsZ0ZBQ3ZCLEdBQUlwQixFQUNBLElBQ0ksTUFBTXFCLFFBQWUsR0FBb0IsQ0FBRTM1QixXQUF0QixHQUNyQnlPLEVBQVEsQ0FDSmtqQixZQUFhZ0ksRUFBT2xyQixNQUNwQmlxQixVQUFXLElBQUlsaEQsS0FBS21pRCxFQUFPbmxDLFlBQVluQixjQUUvQyxDQUNBLE1BQU8xckIsR0FDSCxNQUFNLElBQUlnNkIsR0FBeUJoNkIsRUFBRWtOLFFBQVN1a0QsR0FDbEQsTUFHQSxJQUNJM3FCLFFBQWM1TCxHQUFvQnkyQixFQUN0QyxDQUNBLE1BQU8zeEQsR0FDSCxNQUFNLElBQUlnNkIsR0FBeUIsNERBQTREKzNCLElBQWtCTixHQUNySCxDQUVKLEdBQUksSUFBSTVoRCxLQUFLaTNCLEVBQU1pcUIsV0FBV2prQyxVQUFZamQsS0FBSzBiLE9BQVMsRUFDcEQsTUFBTSxJQUFJeU8sR0FBeUIsNkRBQTZEKzNCLElBQWtCTixJQUV0SCxNQUFNLFlBQUV6SCxHQUFnQmxqQixFQUNsQm1yQixFQUFNSCxHQUFhLElBQUluSixHQUFVLENBQUV2aUMsT0FBUXlxQyxJQUNqRCxJQUFJcUIsRUFDSixJQUNJQSxRQUFnQkQsRUFBSXRrQixLQUFLLElBQUlvZCxHQUEwQixDQUNuRDcwQixVQUFXMDdCLEVBQ1gzRyxTQUFVNEcsRUFDVjdILGdCQUVSLENBQ0EsTUFBT2hxRCxHQUNILE1BQU1nNkIsR0FBeUJuMEIsS0FBSzdGLEVBQUd5eEQsR0FDM0MsQ0FDQSxNQUFRdEgsaUJBQWlCLFlBQUVuaEMsRUFBVyxnQkFBRXFDLEVBQWUsYUFBRXRDLEVBQVksV0FBRThELEdBQWUsQ0FBQyxHQUFNcWxDLEVBQzdGLEtBQUtscEMsR0FBZ0JxQyxHQUFvQnRDLEdBQWlCOEQsR0FDdEQsTUFBTSxJQUFJbU4sR0FBeUIsK0NBQWdEeTNCLElBRXZGLE1BQU8sQ0FBRXpvQyxjQUFhcUMsa0JBQWlCdEMsZUFBYzhELFdBQVksSUFBSWhkLEtBQUtnZCxHQUFhLEVDL0M5RXNsQyxHQUFzQjk1QixJQUMvQixNQUFNLGNBQUV3dEIsRUFBYSxlQUFFQyxFQUFjLFdBQUVFLEVBQVUsY0FBRUMsR0FBa0I1dEIsRUFDckUsS0FBS3d0QixHQUFrQkMsR0FBbUJFLEdBQWVDLEdBQ3JELE1BQU0sSUFBSWpzQixHQUNOLGlKQUF1RDk5QixPQUFPMk0sS0FBS3d2QixHQUFTdHdCLEtBQUssNkZBQTZGLEdBRXRMLE9BQU9zd0IsQ0FBTyxFQ0ZMKzVCLEdBQVUsQ0FBQ3YzQixFQUFPLENBQUMsSUFBTWxkLFVBQ2xDLE1BQU0sWUFBRWcwQyxFQUFXLGFBQUVDLEVBQVksVUFBRWYsRUFBUyxZQUFFZ0IsRUFBVyxVQUFFQyxFQUFTLFdBQUVuQixHQUFlOTFCLEVBQy9FdXFCLEVBQWN4cUIsR0FBZUMsR0FDbkMsR0FBSzgyQixHQUFnQkMsR0FBaUJmLEdBQWNnQixHQUFnQmxCLEVBaUMvRCxJQUFLZ0IsR0FBZ0JDLEdBQWlCZixHQUFjZ0IsRUFLckQsT0FBT0gsR0FBc0IsQ0FDekJDLGNBQ0FoQixhQUNBaUIsZUFDQWYsWUFDQWdCLGNBQ0FDLFlBQ0F6NUIsUUFBUytzQixJQVhiLE1BQU0sSUFBSXByQixHQUF5QiwrSEFhdkMsQ0EvQ2dGLENBQzVFLE1BQ00zQixTQURpQitFLEdBQWdCdkMsSUFDZHVxQixHQUN6QixJQUFLL3NCLEVBQ0QsTUFBTSxJQUFJMkIsR0FBeUIsV0FBV29yQixvQkFFbEQsSUFBS1EsR0FBYXZ0QixHQUNkLE1BQU0sSUFBSTJCLEdBQXlCLFdBQVdvckIsNkNBRWxELEdBQUkvc0IsR0FBUzB0QixZQUFhLENBQ3RCLE1BQ01zTSxTQURvQmwxQixHQUFtQnRDLElBQ2pCeEMsRUFBUTB0QixhQUM5QnVNLEVBQWMsOEJBQThCbE4scUJBQStCL3NCLEVBQVEwdEIsY0FDekYsR0FBSThLLEdBQWFBLElBQWN3QixFQUFRck0sV0FDbkMsTUFBTSxJQUFJaHNCLEdBQXlCLHlCQUEyQnM0QixHQUFhLEdBRS9FLEdBQUlYLEdBQWVBLElBQWdCVSxFQUFReE0sY0FDdkMsTUFBTSxJQUFJN3JCLEdBQXlCLDRCQUE4QnM0QixHQUFhLEdBRWxGajZCLEVBQVEydEIsV0FBYXFNLEVBQVFyTSxXQUM3QjN0QixFQUFRd3RCLGNBQWdCd00sRUFBUXhNLGFBQ3BDLENBQ0EsTUFBTSxjQUFFQSxFQUFhLGVBQUVDLEVBQWMsV0FBRUUsRUFBVSxjQUFFQyxFQUFhLFlBQUVGLEdBQWdCb00sR0FBbUI5NUIsR0FDckcsT0FBT3E1QixHQUFzQixDQUN6QkMsWUFBYTlMLEVBQ2I4SyxXQUFZNUssRUFDWjZMLGFBQWM5TCxFQUNkK0ssVUFBVzdLLEVBQ1g2TCxZQUFhNUwsRUFDYjZMLFVBQVdBLEVBQ1h6NUIsUUFBUytzQixHQUVqQixDQWVBLEVDdkRTbU4sR0FBd0JydUMsR0FBUXViLFFBQVF2YixJQUNsQyxpQkFBUkEsR0FDMEIsaUJBQTFCQSxFQUFJc3VDLG1CQUMwQixpQkFBOUJ0dUMsRUFBSXV1Qyx1QkFDWCxDQUFDLFlBQWEsVUFBVXh5RCxlQUFlaWtCLEVBQUl3dUMsb0JBQXNCLEVBQ3hEQyxHQUE0QnQ2QixHQUFZNTJCLFFBQVFDLFFBQVEsQ0FDakVzbkIsWUFBYXFQLEVBQVFtNkIsa0JBQ3JCbm5DLGdCQUFpQmdOLEVBQVFvNkIsc0JBQ3pCMXBDLGFBQWNzUCxFQUFRcTZCLG9CQ0ZiRSxHQUFnQixDQUFDLzNCLEVBQU8sQ0FBQyxJQUFNbGQsVUFDeEMsTUFBTWsxQyxFQUF1Qmg0QixHQUFNZzRCLHNCQUF3Qnh6QyxRQUFRQyxJQUFrQiw0QkFDL0V3ekMsRUFBVWo0QixHQUFNaTRCLFNBQVd6ekMsUUFBUUMsSUFBZ0IsYUFDbkR5ekMsRUFBa0JsNEIsR0FBTWs0QixpQkFBbUIxekMsUUFBUUMsSUFBeUIsc0JBQ2xGLElBQUt1ekMsSUFBeUJDLEVBQzFCLE1BQU0sSUFBSTk0QixHQUF5Qiw0Q0FFdkMsTUNad0IsQ0FBQ2EsR0FBUyxLQUNsQyxNQUFNLFFBQUVpNEIsRUFBTyxnQkFBRUMsRUFBZSxpQkFBRUMsRUFBZ0IsV0FBRUMsRUFBVSxXQUFFQyxFQUFVLE9BQUVDLEVBQU0sZ0JBQUVDLEVBQWUsMkJBQUVDLEdBQWdDeDRCLEVBQ3JJLElBQUt3NEIsRUFDRCxNQUFNLElBQUlyNUIsR0FBeUIsYUFBYTg0QiwyRkFDTSxHQUUxRCxPQUFPTyxFQUEyQixDQUM5QmhYLFFBQVN5VyxFQUNUeFcsZ0JBQWlCeVcsR0FBbUIsc0JBQXNCbGpELEtBQUswYixRQUMvRDJ2QixpQkFBa0I4WCxFQUNsQnpWLFdBQVkwVixFQUNaMVcsV0FBWTJXLEVBQ1p4VyxPQUFReVcsRUFDUnhXLGdCQUFpQnlXLEdBQ25CLEVERktFLENBQWEsSUFDYno0QixFQUNIbTRCLGtCQUFrQixLQUFBTyxjQUFhVixFQUFzQixDQUFFdnVDLFNBQVUsVUFDakV3dUMsVUFDQUMsbUJBSkdPLEVBS0gsRUVaS0UsR0FBcUI3MUMsTUFBT3luQyxFQUFhRCxFQUFVdjZDLEVBQVM2b0QsRUFBa0IsQ0FBQyxLQUN4RixNQUFNajJELEVBQU8ybkQsRUFBU0MsR0FDdEIsR0FBSWxwRCxPQUFPMk0sS0FBSzRxRCxHQUFpQjV6RCxPQUFTLEdBQUsweUQsR0FBcUIvMEQsR0FDaEUsT0FBT20xRCxHQUF5Qm4xRCxHQUVwQyxHQ1BnQzBtQixFRE9SMW1CLEVDUGdCaWlDLFFBQVF2YixJQUNqQyxpQkFBUkEsR0FDaUIsaUJBQWpCQSxFQUFJd3ZDLFVBQ1gsQ0FBQyxZQUFhLFVBQVV6ekQsZUFBZWlrQixFQUFJeXZDLG9CQUFzQixHQUNqRSxDQUFDLFlBQWEsVUFBVTF6RCxlQUFlaWtCLEVBQUkwdkMsY0FBZ0IsR0FDM0QsQ0FBQyxZQUFhLFVBQVUzekQsZUFBZWlrQixFQUFJMnZDLGFBQWUsSUFFeEIsQ0FBQzN2QyxHQUFzQyxpQkFBdkJBLEVBQUk0dkMscUJBQWdFLElBQTFCNXZDLEVBQUk2dkMsa0JBRC9GQyxDQUE4Qjl2QyxJQUVLLENBQUNBLEdBQXlDLGlCQUExQkEsRUFBSTZ2Qyx3QkFBZ0UsSUFBdkI3dkMsRUFBSTR2QyxlQUY5REcsQ0FBZ0MvdkMsSURFbkUsTUNDb0N2RyxPQUFPeW5DLEVBQWFELEVBQVV2NkMsRUFBUzZvRCxFQUFrQixDQUFDLEtBQ2xHLE1BQU1qMkQsRUFBTzJuRCxFQUFTQyxHQUN0QixJQUFLeDZDLEVBQVFzcEQsWUFDVCxNQUFNLElBQUlsNkIsR0FBeUIsV0FBV29yQixrRkFBNEYsR0FFOUksTUFBTSxlQUFFME8sR0FBbUJ0MkQsRUFDM0IsR0FBSXMyRCxHQUFrQkEsS0FBa0JMLEVBQ3BDLE1BQU0sSUFBSXo1QixHQUNOLGtFQUFJWSxHQUFlaHdCLHlCQUNuQjFPLE9BQU8yTSxLQUFLNHFELEdBQWlCMXJELEtBQUssT0FBTyxHQUVqRCxNQUFNb3NELEVBQXNCTCxFQUN0Qk4sR0FBbUJNLEVBQWdCM08sRUFBVXY2QyxFQUFTLElBQ2pENm9ELEVBQ0gsQ0FBQ0ssSUFBaUIsSUN4QlMsRUFBQ00sRUFBa0JoUCxLQUN0RCxNQUFNaVAsRUFBcUIsQ0FDdkJDLGFBQWMvUixHQUNkZ1Msb0JBQXFCclEsR0FDckJzUSxZQUFhLElBRWpCLEdBQUlKLEtBQW9CQyxFQUNwQixPQUFPQSxFQUFtQkQsS0FHMUIsTUFBTSxJQUFJcDZCLEdBQXlCLDRDQUE0Q29yQixVQUFvQmdQLGtFQUV2RyxFRGNNSyxDQUF3QmozRCxFQUFLdTJELGtCQUFtQjNPLEVBQWhEcVAsR0FDQWpvQyxFQUFTLENBQ1g2dkIsUUFBUzcrQyxFQUFLazJELFNBQ2RwWCxnQkFBaUI5K0MsRUFBS20yRCxtQkFBcUIsY0FBYzlqRCxLQUFLMGIsUUFDOUR5eEIsV0FBWXgvQyxFQUFLbzJELFlBQ2pCalgsZ0JBQWlCbmpDLFNBQVNoYyxFQUFLazNELGtCQUFvQixPQUFRLE1BRXpELFdBQUViLEdBQWVyMkQsRUFDdkIsR0FBSXEyRCxFQUFZLENBQ1osSUFBS2pwRCxFQUFRK3BELGdCQUNULE1BQU0sSUFBSTM2QixHQUF5QixXQUFXb3JCLGtGQUE0RixHQUU5STU0QixFQUFPeXdCLGFBQWU0VyxFQUN0QnJuQyxFQUFPMHdCLGdCQUFrQnR5QyxFQUFRK3BELGdCQUFnQmQsRUFDckQsQ0FDQSxNQUFNdFMsUUFBb0I0UyxFQUMxQixPQUFPdnBELEVBQVFzcEQsWUFBWTNTLEVBQWEvMEIsRUFBTyxFRGpDcENvb0MsQ0FBNkJ4UCxFQUFhRCxFQUFVdjZDLEVBQVM2b0QsR0NSekMsSUFBQ3Z2QyxFRFVoQyxHQUFJcXVDLEdBQXFCLzBELEdBQ3JCLE9BQU9tMUQsR0FBeUJuMUQsR0FFcEMsR0doQmdDLENBQUMwbUIsR0FBUXViLFFBQVF2YixJQUNsQyxpQkFBUkEsR0FDZ0MsaUJBQWhDQSxFQUFJMndDLHlCQUNhLGlCQUFqQjN3QyxFQUFJd3ZDLFVBQ1gsQ0FBQyxZQUFhLFVBQVV6ekQsZUFBZWlrQixFQUFJeXZDLG9CQUFzQixFSFk3RG1CLENBQXFCdDNELEdBQ3JCLE1HWnFDbWdCLE9BQU8wYSxFQUFTenRCLElBQVlnb0QsR0FBYyxDQUNuRkMscUJBQXNCeDZCLEVBQVF3OEIsd0JBQzlCL0IsUUFBU3o2QixFQUFRcTdCLFNBQ2pCWCxnQkFBaUIxNkIsRUFBUXM3QixrQkFDekJOLDJCQUE0QnpvRCxFQUFReW9ELDRCQUppQ1QsR0hZMURtQyxDQUE4QnYzRCxFQUFNb04sR0FFL0MsR0luQjRCLENBQUNzWixHQUFRdWIsUUFBUXZiLElBQXVCLGlCQUFSQSxHQUFzRCxpQkFBM0JBLEVBQUk4d0MsbUJKbUJ2RkMsQ0FBaUJ6M0QsR0FDakIsTUluQmlDbWdCLE9BQU8vUyxFQUFTeXRCLElBQVk2c0IsR0FBWSxJQUMxRXQ2QyxFQUNIeXRCLFdBRmlFNnNCLEdKbUJ0RCxDQUEwQnQ2QyxFQUFTdzZDLEdBRTlDLEdBQUlRLEdBQWFwb0QsR0FDYixNS3RCNkIsQ0FBQ0EsSUFDbEMsTUFBTSxjQUFFcW9ELEVBQWEsZUFBRUMsRUFBYyxZQUFFQyxFQUFXLFdBQUVDLEVBQVUsY0FBRUMsR0FBa0JrTSxHQUFtQjMwRCxHQUNyRyxPQUFPNDBELEdBQVEsQ0FDWFQsWUFBYTlMLEVBQ2IrTCxhQUFjOUwsRUFDZDZLLFdBQVk1SyxFQUNaOEssVUFBVzdLLEVBQ1g2TCxZQUFhNUwsR0FMVm1NLEVBTUgsRUxjTzhDLENBQXNCMTNELEdBRWpDLE1BQU0sSUFBSXc4QixHQUF5QixXQUFXb3JCLDZEQUF1RSxFTWxCNUcrUCxHQUFrQixDQUFDdDZCLEVBQU8sQ0FBQyxJQUFNbmIsRUFBUW1hLE1BQVVnQixFQUFLeEMsU0FBV2haLFFBQVFDLElBQUlxYixJQUFlLEdBQUssQ0FBQyxNQUFheTNCLEdBQVF2M0IsR0NOL0csRUFBQ0EsRUFBTyxDQUFDLElBQU1sZCxVQUNsQyxNQUFNd25DLFFBQWlCL25CLEdBQWdCdkMsR0FDdkMsT0FBTzI0QixHQUFtQjU0QixHQUFlQyxHQUFPc3FCLEVBQVV0cUIsRUFBSyxFREkwRXU2QixDQUFRdjZCLEdBQU9xcUIsR0FBWXJxQixHQUFPKzNCLEdBQWMvM0IsR0VML0osQ0FBQ0EsR0FDdkJ4YixRQUFRQyxJQUFJK2lDLEtBQTBCaGpDLFFBQVFDLElBQUk4aUMsSUFDM0NHLEdBQXNCMW5CLEdBRTdCeGIsUUFBUUMsSUFBcUIsMEJBQ3RCM0IsVUFDSCxNQUFNLElBQUlxYyxHQUF5QixnREFBZ0QsRUFHcEZrcUIsR0FBcUJycEIsR0ZKb0t3NkIsQ0FBZXg2QixJQUFPbGQsVUFDdE4sTUFBTSxJQUFJcWMsR0FBeUIsaURBQWlELEVBQU0sS0FDekZwUyxRQUEyQ3JrQixJQUEzQnFrQixFQUFZaUYsWUFBNEJqRixFQUFZaUYsV0FBV0MsVUFBWWpkLEtBQUswYixNQUFRLE1BQVMzRCxRQUEyQ3JrQixJQUEzQnFrQixFQUFZaUYsYUdWNUl5b0MsR0FBSSxXQUFZQyxHQUFJLE9BQVFDLEdBQUksS0FBTUMsR0FBSSxPQUFRQyxHQUFJLE1BQzNDLElBQUksRUFBTSxHQUFJLGdCQUFpQixHQUFJLGVBQWdCLEdBQUksUUFBb0IsR0FBSSxZQUFhLEdBQUksV0FBWSxHQUFJLG1EQUFvRCxHQUFJLE9BQVEsR0FBSSxRQUFTLEdBQUksVUFBVyxHQUFJLENBQUUsQ0FBQ0osS0FBSSxFQUFPLENBQUNDLElBQUksVUFBWSxHQUFJLENBQUUsQ0FBQ0QsS0FBSSxFQUFNLFNBQVcsRUFBTyxDQUFDQyxJQUFJLFdBQWEsR0FBSSxDQUFFLENBQUNHLElBQUksWUFBYyxHQUFJLENBQUUsQ0FBQ0YsSUFBSSxRQUFTLENBQUNDLElBQUksQ0FBQyxDQUFFLENBQUNDLElBQUksWUFBZSxHQUFJLENBQUUsQ0FBQ0EsSUFBSSxVQUFZLEdBQUksQ0FBRSxDQUFDRixJQUFJLGdCQUFpQixDQUFDQyxJQUFJLENBQUMsSUFBSSxPQUFVLG1CQUFxQixHQUFJLENBQUUsQ0FBQ0MsSUFBSSxXQUFhLEdBQUksQ0FBRSxDQUFDQSxJQUFJLGdCQUFrQixHQUFJLENBQUUsSUFBTyw0QkFBNkIsV0FBYyxDQUFFLFlBQWUsQ0FBQyxDQUFFLEtBQVEsR0FBRyxZQUFqaEIsTUFBbWlCLGNBQWlCLE1BQVEsUUFBVyxDQUFDLEdBQUssR0FBSSxDQUFDLEVBQUcsR0FBSSxDQUFFLFdBQWMsQ0FBQyxDQUFFLENBQUNGLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxnQkFBa0IsQ0FBQyxJQUFJLEdBQUcsQ0FBQ0YsSUFBSSxJQUFLLEdBQUksQ0FBRSxDQUFDQyxJQUFJLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDLElBQUcsSUFBU3R6RCxHQUFJLENBQUUsQ0FBQ3F6RCxJQUFJLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDLElBQUcsSUFBU0UsR0FBSSxDQUFFLENBQUNILElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsQ0FBRSxDQUFDQyxJQUFJLG1CQUFxQixpQkFBbUJFLEdBQUksQ0FBRSxDQUFDRixJQUFJLG1CQUFxQkcsR0FBSSxDQUFFLENBQUNMLElBQUksR0FBRyxDQUFDQyxJQUFJLEVBQUMsRUFBTSxDQUFFLENBQUNELElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUNHLEdBQUcsd0JBQTJCRSxHQUFJLENBQUMsQ0FBRSxDQUFDTixJQUFJLFFBQVMsQ0FBQ0MsSUFBSSxDQUFDLE1BQU9NLEdBQUksQ0FBQyxJQUFJQyxHQUFJLENBQUM3ekQsSUFFcGdDLEdBREMsQ0FBRWcxQixRQUFTLE1BQU9qQyxXQUFZLENBQUV3cUIsT0FBUSxHQUFHQyxhQUFjLEdBQUdGLFFBQVMsR0FBR2hxQixTQUFVLEdBQUcrcEIsa0JBQW1CLElBQUs1cUIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsQ0FBRSxDQUFDQyxJQUFJLHFCQUF1QixLQUFNLENBQUUsQ0FBQ0YsSUFBSSxNQUFPLENBQUNDLElBQUlLLElBQUssR0FBRyxHQUFHLENBQUUsQ0FBQ04sSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxJQUQxTyxJQUNtUCxDQUFFLENBQUNELElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsSUFEblEsS0FDNlE3Z0MsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxvQkFBc0JuaEMsU0FBVSxHQUFHLENBQUNpaEMsSUFBSSxJQUFLLENBQUVuaUMsV0FBWSxDQUFDLENBQUUsQ0FBQ29pQyxJQUFJLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsZ0JBQWtCbmhDLFNBQVUsR0FBRyxDQUFDaWhDLElBQUksSUFBSyxDQUFFbmlDLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxHQUFHLG9CQUFzQm5oQyxTQUFVLEdBQUcsQ0FBQ2loQyxJQUFJLElBQUssQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxvQkFBc0JuaEMsU0FBVSxHQUFHLENBQUNpaEMsSUFBSSxJQUFLLEdBQUcsQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxrQkFBb0JuaEMsU0FBVSxHQUFHLENBQUNpaEMsSUFBSSxJQUFLLENBQUVuaUMsV0FBWSxDQUFDLENBQUUsQ0FBQ29pQyxJQUFJLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsa0JBQW9CbmhDLFNBQVUsR0FBRyxDQUFDaWhDLElBQUksSUFBSyxDQUFFbmlDLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxHQUFHLGdCQUFrQm5oQyxTQUFVLEdBQUcsQ0FBQ2loQyxJQUFJLElBQUssQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxlQUFpQm5oQyxTQUFVLEdBQUcsQ0FBQ2loQyxJQUFJLElBQUssQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxlQUFpQm5oQyxTQUFVLEdBQUcsQ0FBQ2loQyxJQUFJLElBQUssQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxlQUFpQm5oQyxTQUFVLEdBQUcsQ0FBQ2loQyxJQUFJLElBQUssQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxlQUFpQm5oQyxTQUFVLEdBQUcsQ0FBQ2loQyxJQUFJLElBQUssQ0FBRW5pQyxXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUMsR0FBRyxNQUFPbmhDLFNBQVUsR0FBRyxDQUFDaWhDLElBQUksSUFBSyxDQUFFbmlDLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxHQUFHLGVBQWlCbmhDLFNBQVUsR0FBRyxDQUFDaWhDLElBQUksSUFBSyxDQUFFbmlDLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxHQUFHLGVBQWlCbmhDLFNBQVUsR0FBRyxDQUFDaWhDLElBQUksSUFBSyxDQUFFbmlDLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxHQUFHLGVBQWlCbmhDLFNBQVUsR0FBRyxDQUFDaWhDLElBQUksSUFBSyxDQUFFamhDLFNBQVUsQ0FBRXRELElBQUssR0FBR3BFLFdBQVksQ0FBRWlCLFlBQWEsQ0FBQyxDQUFFdGUsS0FBTSxHQUFHK2MsWUFENzJDLE1BQzYzQy9ELGNBQWUsY0FBaUJ0TSxRQUFTLElBQUssQ0FBQ3M1QyxJQUFJLEtBQU0sQ0FBQ0EsSUFBSSxJQUFLLENBQUVuaUMsV0FBWTBpQyxHQUFHbGhDLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWTJpQyxHQUFHNTNELE1BQU8sb0VBQXFFLENBQUNvM0QsSUFBSSxJQUFLLENBQUVuaUMsV0FBWTRpQyxHQUFHNzNELE1BQU8seUVBQTBFLENBQUNvM0QsSUFBSSxJQUFLLENBQUVqaEMsU0FBVSxDQUFFdEQsSUFBSyxHQUFHcEUsV0FBWSxHQUFHM1EsUUFBUyxJQUFLLENBQUNzNUMsSUFBSSxLQUFNLENBQUNBLElBQUksSUFBSyxDQUFFbmlDLFdBQVksQ0FBQyxJQUFJd0IsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsSUFBSXdCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLEdBQUdqeEIsSUFBSXl5QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxHQUFHRSxLQUFNRSxJQUFJamhDLE1BQU8sQ0FBQyxDQUFFTixTQUFVLENBQUV0RCxJQUFLLGlFQUFrRXBFLFdBQVksR0FBRzNRLFFBQVMsSUFBSyxDQUFDczVDLElBQUksS0FBTSxDQUFDQSxJQUFJLElBQUssQ0FBRXAzRCxNQUFPLGtGQUFtRixDQUFDbzNELElBQUksS0FBTSxDQUFDQSxJQUFJLElBQUssQ0FBRW5pQyxXQUFZMmlDLEdBQUduaEMsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDb2lDLElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUNFLEdBQUcsTUFBTy9nQyxNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUNvaUMsSUFBSSxHQUFHLENBQUNDLElBQUksQ0FBQyxDQUFFLENBQUNELElBQUksR0FBRyxDQUFDQyxJQUFJLENBQUNHLEdBQUcsU0FBVyxnQkFBa0J0aEMsU0FBVSxDQUFFdEQsSUFBSyxxQ0FBc0NwRSxXQUFZLEdBQUczUSxRQUFTLElBQUssQ0FBQ3M1QyxJQUFJLElBQUssQ0FBRWpoQyxTQUFVLENBQUV0RCxJQUFLLHdEQUF5RHBFLFdBQVksR0FBRzNRLFFBQVMsSUFBSyxDQUFDczVDLElBQUksS0FBTSxDQUFDQSxJQUFJLElBQUssQ0FBRXAzRCxNQUFPLDJEQUE0RCxDQUFDbzNELElBQUksS0FBTSxDQUFDQSxJQUFJLElBQUssQ0FBRW5pQyxXQUFZNGlDLEdBQUdwaEMsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUN5aUMsSUFBSWpoQyxNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSyw0REFBNkRwRSxXQUFZLEdBQUczUSxRQUFTLElBQUssQ0FBQ3M1QyxJQUFJLEtBQU0sQ0FBQ0EsSUFBSSxJQUFLLENBQUVwM0QsTUFBTyxxRUFBc0UsQ0FBQ28zRCxJQUFJLEtBQU0sQ0FBQ0EsSUFBSSxJQUFLLEdBQUcsQ0FBRWpoQyxTQUFVLENBQUV0RCxJQUFLLEdBQUdwRSxXQUFZLEdBQUczUSxRQUFTLElBQUssQ0FBQ3M1QyxJQUFJLEtBQU0sQ0FBQ0EsSUFBSSxLQUFNLENBQUNBLElBQUksSUFBSyxDQUFFcDNELE1BQU8sd0NBQXlDLENBQUNvM0QsSUFBSSxNQ0FsakcsR0FBMEIsQ0FBQ3JqQyxFQUFnQi9ULEVBQVUsQ0FBQyxJQUN4RDZXLEdBQWdCLEdBQVMsQ0FDNUI5QyxlQUFnQkEsRUFDaEI1VCxPQUFRSCxFQUFRRyxTQ1NqQixNQUFNMjNDLFdBQWtCLEdBQzNCLFdBQUE3MkQsS0FBZ0J1K0IsSUFDWixNQUNNaXJCLEdDakJrQ2grQyxFQ2dCaEIsQ0FBQzRzQixJQUM3QjhmLEdBQWdDajRCLFFBQVE4WCxTQUN4QyxNQUFNNHdCLEVBQWVELEdBQTBCdHdCLEdBQ3pDcXhCLEVBQXdCLElBQU1kLElBQWUvbEQsS0FBS28xQyxJQUNsRDBSLEVDZnNCLENBQUN0eEIsSUFDdEIsQ0FDSHV4QixXQUFZLGFBQ1pDLGNBQWV4eEIsR0FBUXd4QixlQUFpQjdhLEdBQ3hDOGEsY0FBZXp4QixHQUFReXhCLGVBQWlCN2EsR0FDeEM4YSxrQkFBbUIxeEIsR0FBUTB4QixvQkFBcUIsRUFDaER6b0IsaUJBQWtCakosR0FBUWlKLGtCQUFvQixHQUM5QzBvQixXQUFZM3hCLEdBQVEyeEIsWUFBYyxHQUNsQzdxQyxPQUFRa1osR0FBUWxaLFFBQVUsSUFBSXlyQixHQUM5QnhkLFVBQVdpTCxHQUFRakwsV0FBYSxNQUNoQ21WLFVBQVdsSyxHQUFRa0ssV0FBYXBELEdBQ2hDOHFCLFlBQWE1eEIsR0FBUTR4QixhQUFlempELEVBQ3BDazVDLFlBQWFybkIsR0FBUXFuQixhQUFlejlCLElER2IsQ0FBdUJvVyxHQUVsRCxPQURBLEdBQWdCblksUUFBUThYLFNBQ2pCLElBQ0EyeEIsS0FDQXR4QixFQUNIclksUUFBUyxPQUNUNG9DLGVBQ0E3dUIsa0JBQW1CMUIsR0FBUTBCLG1CQUFxQjh0QixHQUNoRGw3QiwwQkFBMkIwTCxHQUFRMUwsNEJ2RXFDT25NLEV1RXJDd0QsR3ZFcUMxQzdaLEdBQVU2WixFQUFTLENBQy9FdTBDLFlBQWFoVCxHQUFzQnA3QyxFQUFPQSxFQUFNczdDLGVBQ2hEaVMsMkJBQTRCN1IsR0FBcUMxN0MsRUFBT0EsRUFBTXM3QyxrQkFDM0V0N0MsS3VFdkNDNnhCLHlCQUEwQkgsR0FBUUcsMEJBQzlCRCxHQUFpQixDQUFFbkwsVUFBV3U4QixFQUFtQnY4QixVQUFXMjVCLDBCQUNoRWxnQixZQUFheE8sR0FBUXdPLGFBQWUsR0FBZWtDLElBQ25EOWhCLE9BQVFvUixHQUFRcFIsUUFBVSxHQUFlb1MsR0FBNEJDLElBQ3JFM2EsZUFBZ0IwWixHQUFRMVosZ0JBQWtCLElBQUksR0FBZStxQyxHQUM3RHZnQixVQUFXOVEsR0FBUThRLFdBQ2YsR0FBZSxJQUNSQyxHQUNIcmpDLFFBQVN5WSxnQkFBbUJrckMsS0FBeUJ2Z0IsV0FBYW5HLEtBRTFFdGEsT0FBUTJQLEdBQVEzUCxRQUFVNitCLEdBQUsvTixLQUFLLEtBQU0sVUFDMUN4RyxnQkFBaUIzYSxHQUFRMmEsaUJBQW1CLEdBQzVDL2xCLHFCQUFzQm9MLEdBQVFwTCxzQkFBd0IsR0FBZTZMLElBQ3JFOUwsZ0JBQWlCcUwsR0FBUXJMLGlCQUFtQixHQUFlb00sS3ZFdUJsQixJQUFDNVksQ3VFdEI3QyxFRjNCcUIsQ0FBbUJnZSxHQUFpQixDQUFDLEdDZnBELElBQ0EveUIsRUFDSHdoQixxQkFBc0J4aEIsRUFBUXdoQix1QkFBd0IsRUFDdERELGdCQUFpQnZoQixFQUFRdWhCLGtCQUFtQixFQUM1QytwQyxrQkFBbUJ0ckQsRUFBUXNyRCxvQkFBcUIsRUFDaER2cEMsbUJBQW9CLFFBTm1CLElBQUMvaEIsRURrQnhDLE1BQU15K0MsRUFBWXh3QixHQUFvQit2QixHQUNoQ1UsRUFBWXhuQixHQUFzQnVuQixHQUtsQzhNLEVJcEIwQixFQUFDdDdDLEVBQWVzdUMsS0FDcEQsTUFBTUssRUFBeUIsSUFDZGxCLEdBQW1DenRDLE1BQ25DczlCLEdBQWlDdDlCLE1BQ2pDRCxFQUFxQ0MsSUFHdEQsT0FEQXN1QyxFQUFXcmUsU0FBUzJlLEdBQWNBLEVBQVVDLFVBQVVGLEtBQy9DLElBQ0EzdUMsS0FDQTR0QyxHQUF1Q2UsTUFDdkMsR0FBNEJBLE1BQzVCcnVDLEVBQWdDcXVDLEdBQ3RDLEVKUXFCLENBREE3NkIsR0t0QlUsRUFBQzdvQixHQUFTczdDLG1CQUFvQnoxQixHQUFxQixJQUNoRjdsQixFQUNIczdDLGtCTG1Cc0JnVixDQUZBaHVCLEdBQW1Ca2hCLEdBRWEsQ0FBRWxJLGNBQWU2VSxNQUVidDRCLEdBQWV3ckIsWUFBYyxJQUNuRno1QixNQUFNeW1DLEdBQ056NUQsS0FBSzg2QixPQUFTMitCLEVBQ2R6NUQsS0FBS2d4QyxnQkFBZ0J0QixJQUFJakQsR0FBZXpzQyxLQUFLODZCLFNBQzdDOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSW5ULEdBQXVCdjhCLEtBQUs4NkIsU0FDckQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJNXVCLEVBQW9COWdCLEtBQUs4NkIsU0FDbEQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJbHVCLEVBQWdCeGhCLEtBQUs4NkIsU0FDOUM5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJbHRCLEVBQTRCeGlCLEtBQUs4NkIsU0FDMUQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJN1UsR0FBbUI3NkIsS0FBSzg2QixRQUNyRCxDQUNBLE9BQUF5VyxHQUNJdmUsTUFBTXVlLFNBQ1YsRU1sQ0osTUFBTW9vQixHQUErQixDQUFDQyxFQUFVQyxJQUN2Q0EsRUFHTSxjQUFvQ0QsRUFDdkMsV0FBQWwzRCxDQUFZbzRCLEdBQ1I5SCxNQUFNOEgsR0FDTixJQUFLLE1BQU1nL0IsS0FBaUJELEVBQ3hCNzVELEtBQUtneEMsZ0JBQWdCdEIsSUFBSW9xQixFQUVqQyxHQVJHRixFQVdGLEdBQXdCLENBQUNuVixFQUFhLENBQUMsRUFBR3NWLElBQWUsR0FBeUJ0VixFQUFZa1YsR0FBNkJKLEdBQVdRLElBQ3RJLEdBQXVDLENBQUN0VixFQUFhLENBQUMsRUFBR3NWLElBQWUsR0FBd0N0VixFQUFZa1YsR0FBNkJKLEdBQVdRLElBQ3BLLEdBQXFDOTJDLEdBQWM3WixHQUFVNlosRUFBUyxDQUMvRXUwQyxZQUFhLEdBQXNCcHVELEdBQ25DdXRELDJCQUE0QixHQUFxQ3Z0RCxNQUM5REEsSUNwQkQsR0FBSSxXQUFZLEdBQUksS0FBTSxHQUFJLE9BQVEsR0FBSSxNQUNoQyxHQUFJLFFBQVMsR0FBSSxnQkFBaUIsR0FBSSxRQUFTLEdBQUksV0FBWSxHQUFJLE9BQVEsR0FBSSxrQkFBbUIsR0FBSSxlQUFnQixHQUFJLENBQUUsQ0FBQyxLQUFJLEVBQU8sS0FBUSxVQUFZLEdBQUksQ0FBRSxDQUFDLEtBQUksRUFBTSxTQUFXLEVBQU8sS0FBUSxXQUFhLEdBQUksQ0FBRSxDQUFDLElBQUksWUFBYyxHQUFJLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksWUFBYSxJQUFTLEdBQUksQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxpQkFBa0IsSUFBUyxHQUFJLENBQUMsRUFBRyxHQUFJLENBQUUsQ0FBQyxJQUFJLFVBQVksR0FBSSxDQUFFLENBQUMsSUFBSSxVQUFXLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLElBQUssaUJBQW1CLEdBQUksQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksRUFBQyxFQUFNLENBQUUsQ0FBQyxJQUFJLFVBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksSUFBSyx3QkFBMkIsR0FBSSxDQUFDLElBQUksR0FBSSxDQUFDLElBQUksR0FBSSxDQUFDLElBRWppQixHQURDLENBQUVxeEIsUUFBUyxNQUFPakMsV0FBWSxDQUFFd3FCLE9BQVEsR0FBR0MsYUFBYyxHQUFHRixRQUFTLEdBQUdocUIsU0FBVSxJQUFLYixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU93QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksR0FBR2oxQixNQUFPLG9FQUFxRXdqQixLQUFNLElBQUssQ0FBRXlSLFdBQVksR0FBR2oxQixNQUFPLHlFQUEwRXdqQixLQUFNLElBQUssQ0FBRTJTLFNBQVUsQ0FBRXRELElBQUssR0FBR3BFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksS0FBTXdCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLGdCQUFpQixDQUFDLElBQUksR0FBRzd6QixPQUFRLEtBQU1xMUIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsR0FBRyxJQUFJd0IsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksRUFEN2xCLEVBQ2ltQixLQUFNLElBQUl3QixNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSyx3RUFBeUVwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8sa0ZBQW1Gd2pCLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLEdBQUd3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLElBRDk2QixLQUN3N0J3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsbUJBQXFCa0IsU0FBVSxDQUFFdEQsSUFBSyxpREFBa0RwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLElBQUssQ0FBRXlSLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsbUJBQXFCa0IsU0FBVSxDQUFFdEQsSUFBSyxpREFBa0RwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLElBQUssQ0FBRTJTLFNBQVUsQ0FBRXRELElBQUssK0RBQWdFcEUsV0FBWSxHQUFHM1EsUUFBUyxJQUFLMEYsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXhqQixNQUFPLDJEQUE0RHdqQixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeVIsV0FBWSxHQUFHd0IsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsSUFBSXdCLE1BQU8sQ0FBQyxDQUFFTixTQUFVLENBQUV0RCxJQUFLLG1FQUFvRXBFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV4akIsTUFBTyxxRUFBc0V3akIsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRTJTLFNBQVUsQ0FBRXRELElBQUssMERBQTJEcEUsV0FBWSxHQUFHM1EsUUFBUyxJQUFLMEYsS0FBTSxLQUFNQSxLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8sd0NBQXlDd2pCLEtBQU0sTUNBLzhELEdBQTBCLENBQUN1USxFQUFnQi9ULEVBQVUsQ0FBQyxJQUN4RDZXLEdBQWdCLEdBQVMsQ0FDNUI5QyxlQUFnQkEsRUFDaEI1VCxPQUFRSCxFQUFRRyxTQ1NqQixNQUFNbzRDLFdBQXlCLEdBQ2xDLFdBQUF0M0QsS0FBZ0J1K0IsSUFDWixNQUNNaXJCLEdDakJrQ2grQyxFQ2dCaEIsQ0FBQzRzQixJQUM3QjhmLEdBQWdDajRCLFFBQVE4WCxTQUN4QyxNQUFNNHdCLEVBQWVELEdBQTBCdHdCLEdBQ3pDcXhCLEVBQXdCLElBQU1kLElBQWUvbEQsS0FBS28xQyxJQUNsRDBSLEVDZnNCLENBQUN0eEIsSUFDdEIsQ0FDSHV4QixXQUFZLGFBQ1pDLGNBQWV4eEIsR0FBUXd4QixlQUFpQjdhLEdBQ3hDOGEsY0FBZXp4QixHQUFReXhCLGVBQWlCN2EsR0FDeEM4YSxrQkFBbUIxeEIsR0FBUTB4QixvQkFBcUIsRUFDaER6b0IsaUJBQWtCakosR0FBUWlKLGtCQUFvQixHQUM5QzBvQixXQUFZM3hCLEdBQVEyeEIsWUFBYyxHQUNsQzdxQyxPQUFRa1osR0FBUWxaLFFBQVUsSUFBSXlyQixHQUM5QnhkLFVBQVdpTCxHQUFRakwsV0FBYSxhQUNoQ21WLFVBQVdsSyxHQUFRa0ssV0FBYXBELEdBQ2hDOHFCLFlBQWE1eEIsR0FBUTR4QixhQUFlempELEVBQ3BDazVDLFlBQWFybkIsR0FBUXFuQixhQUFlejlCLElER2IsQ0FBdUJvVyxHQUVsRCxPQURBLEdBQWdCblksUUFBUThYLFNBQ2pCLElBQ0EyeEIsS0FDQXR4QixFQUNIclksUUFBUyxPQUNUNG9DLGVBQ0E3dUIsa0JBQW1CMUIsR0FBUTBCLG1CQUFxQjh0QixHQUNoRGw3QiwwQkFBMkIwTCxHQUFRMUwsMkJBQTZCLEdBQWtDLElBQ2xHNkwseUJBQTBCSCxHQUFRRywwQkFDOUJELEdBQWlCLENBQUVuTCxVQUFXdThCLEVBQW1CdjhCLFVBQVcyNUIsMEJBQ2hFbGdCLFlBQWF4TyxHQUFRd08sYUFBZSxHQUFla0MsSUFDbkQ5aEIsT0FBUW9SLEdBQVFwUixRQUFVLEdBQWVvUyxHQUE0QkMsSUFDckUzYSxlQUFnQjBaLEdBQVExWixnQkFBa0IsSUFBSSxHQUFlK3FDLEdBQzdEdmdCLFVBQVc5USxHQUFROFEsV0FDZixHQUFlLElBQ1JDLEdBQ0hyakMsUUFBU3lZLGdCQUFtQmtyQyxLQUF5QnZnQixXQUFhbkcsS0FFMUV0YSxPQUFRMlAsR0FBUTNQLFFBQVU2K0IsR0FBSy9OLEtBQUssS0FBTSxVQUMxQ3hHLGdCQUFpQjNhLEdBQVEyYSxpQkFBbUIsR0FDNUMvbEIscUJBQXNCb0wsR0FBUXBMLHNCQUF3QixHQUFlNkwsSUFDckU5TCxnQkFBaUJxTCxHQUFRckwsaUJBQW1CLEdBQWVvTSxJQUM5RCxFRjNCcUIsQ0FBbUJvRixHQUFpQixDQUFDLEdDZnBELElBQ0EveUIsRUFDSHdoQixxQkFBc0J4aEIsRUFBUXdoQix1QkFBd0IsRUFDdERELGdCQUFpQnZoQixFQUFRdWhCLGtCQUFtQixFQUM1Q1EsbUJBQW9CLGVBTG1CLElBQUMvaEIsRURrQnhDLE1BQU15K0MsRUFBWXh3QixHQUFvQit2QixHQUNoQ1UsRUFBWXhuQixHQUFzQnVuQixHQUNsQ3NOLEVBQVl2dUIsR0FBbUJraEIsR0FJL0I2TSxFSXBCMEIsRUFBQ3Q3QyxFQUFlc3VDLEtBQ3BELE1BQU1LLEVBQXlCLElBQ2RsQixHQUFtQ3p0QyxNQUNuQ3M5QixHQUFpQ3Q5QixNQUNqQ0QsRUFBcUNDLElBR3RELE9BREFzdUMsRUFBV3JlLFNBQVMyZSxHQUFjQSxFQUFVQyxVQUFVRixLQUMvQyxJQUNBM3VDLEtBQ0E0dEMsR0FBdUNlLE1BQ3ZDLEdBQTRCQSxNQUM1QnJ1QyxFQUFnQ3F1QyxHQUN0QyxFSlFxQixDQURBNzZCLEdBREFoRCxHQUR3QmdyQyxJQUdZaDVCLEdBQWV3ckIsWUFBYyxJQUNuRno1QixNQUFNeW1DLEdBQ056NUQsS0FBSzg2QixPQUFTMitCLEVBQ2R6NUQsS0FBS2d4QyxnQkFBZ0J0QixJQUFJakQsR0FBZXpzQyxLQUFLODZCLFNBQzdDOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSW5ULEdBQXVCdjhCLEtBQUs4NkIsU0FDckQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJNXVCLEVBQW9COWdCLEtBQUs4NkIsU0FDbEQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJbHVCLEVBQWdCeGhCLEtBQUs4NkIsU0FDOUM5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJbHRCLEVBQTRCeGlCLEtBQUs4NkIsU0FDMUQ5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJMWUsR0FBaUJoeEIsS0FBSzg2QixTQUMvQzk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUk3VSxHQUFtQjc2QixLQUFLODZCLFFBQ3JELENBQ0EsT0FBQXlXLEdBQ0l2ZSxNQUFNdWUsU0FDVixFS25DRyxNQUFNMm9CLFdBQW1DLEdBQzVDLFdBQUF4M0QsQ0FBWXdMLEdBQ1I4a0IsTUFBTTlrQixHQUNOMU8sT0FBTzJDLGVBQWVuQyxLQUFNazZELEdBQTJCLzVELFVBQzNELEVDMk1HLE1BQU1nNkQsV0FBdUMsR0FDaEQsV0FBQXozRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0saUNBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyxpQ0FDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTW02RCxHQUErQmg2RCxXQUMzREgsS0FBSzg1QyxRQUFVOEQsRUFBSzlELE9BQ3hCLEVBeUNHLE1BQU1zZ0IsV0FBc0MsR0FDL0MsV0FBQTEzRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sZ0NBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyxnQ0FDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTW82RCxHQUE4Qmo2RCxXQUMxREgsS0FBSzg1QyxRQUFVOEQsRUFBSzlELE9BQ3hCLEVBOHBCRyxNQUFNdWdCLFdBQW1DLEdBQzVDLFdBQUEzM0QsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLDZCQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sNkJBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU1xNkQsR0FBMkJsNkQsV0FDdkRILEtBQUs4NUMsUUFBVThELEVBQUs5RCxPQUN4QixFQUVHLE1BQU13Z0IsV0FBa0MsR0FDM0MsV0FBQTUzRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sNEJBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyw0QkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTXM2RCxHQUEwQm42RCxXQUN0REgsS0FBSzg1QyxRQUFVOEQsRUFBSzlELE9BQ3hCLEVBT0csTUFBTXlnQixXQUFrQyxHQUMzQyxXQUFBNzNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSw0QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLDRCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNdTZELEdBQTBCcDZELFdBQ3RESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsT0FDeEIsRUF5Q0csTUFBTTBnQixXQUFzQyxHQUMvQyxXQUFBOTNELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxnQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLGdDQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNdzZELEdBQThCcjZELFdBQzFESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsT0FDeEIsRUFFRyxNQUFNMmdCLFdBQXlDLEdBQ2xELFdBQUEvM0QsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLG1DQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sbUNBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU15NkQsR0FBaUN0NkQsV0FDN0RILEtBQUs4NUMsUUFBVThELEVBQUs5RCxPQUN4QixFQ3JoQ0csTUEyNUdENGdCLEdBQXNDejVDLE1BQU8wOUIsRUFBY2w5QixLQUM3RCxNQUFNbGMsRUFBT281QyxFQUFhcDVDLEtBQ3BCcTVDLEVBQWUsR0FBTXI1QyxHQUNyQnEwQyxFQUFZLElBQUk0Z0IsR0FBOEIsQ0FDaER0NEMsVUFBVyxHQUFvQnk4QixNQUM1QkMsSUFFUCxPQUFPLEdBQTJCaEYsRUFBV3IwQyxFQUFLLEVBaUVoRG8xRCxHQUF5QzE1QyxNQUFPMDlCLEVBQWNsOUIsS0FDaEUsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlLEdBQU1yNUMsR0FDckJxMEMsRUFBWSxJQUFJNmdCLEdBQWlDLENBQ25EdjRDLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRHExRCxHQUFtQzM1QyxNQUFPMDlCLEVBQWNsOUIsS0FDMUQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlLEdBQU1yNUMsR0FDckJxMEMsRUFBWSxJQUFJeWdCLEdBQTJCLENBQzdDbjRDLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRHMxRCxHQUFrQzU1QyxNQUFPMDlCLEVBQWNsOUIsS0FDekQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlLEdBQU1yNUMsR0FDckJxMEMsRUFBWSxJQUFJMGdCLEdBQTBCLENBQzVDcDRDLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQW1GaER1MUQsR0FBa0M3NUMsTUFBTzA5QixFQUFjbDlCLEtBQ3pELE1BQU1sYyxFQUFPbzVDLEVBQWFwNUMsS0FDcEJxNUMsRUFBZSxHQUFNcjVDLEdBQ3JCcTBDLEVBQVksSUFBSTJnQixHQUEwQixDQUM1Q3I0QyxVQUFXLEdBQW9CeThCLE1BQzVCQyxJQUVQLE9BQU8sR0FBMkJoRixFQUFXcjBDLEVBQUssRUE0RmhEdzFELEdBQXVDOTVDLE1BQU8wOUIsRUFBY2w5QixLQUM5RCxNQUFNbGMsRUFBT281QyxFQUFhcDVDLEtBQ3BCcTVDLEVBQWUsR0FBTXI1QyxHQUNyQnEwQyxFQUFZLElBQUl1Z0IsR0FBK0IsQ0FDakRqNEMsVUFBVyxHQUFvQnk4QixNQUM1QkMsSUFFUCxPQUFPLEdBQTJCaEYsRUFBV3IwQyxFQUFLLEVBZ0loRHkxRCxHQUFzQy81QyxNQUFPMDlCLEVBQWNsOUIsS0FDN0QsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlLEdBQU1yNUMsR0FDckJxMEMsRUFBWSxJQUFJd2dCLEdBQThCLENBQ2hEbDRDLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQWtFaEQwMUQsR0FBVyxDQUFDNzRDLEVBQVFYLElBQ2YsR0FBS1csRUFBUSxDQUNoQnUvQixZQUFhLEdBQ2J1WixnQkFBaUIsR0FDakJDLFFBQVMsR0FDVEMsVUFBVyxHQUNYQyxZQUFhLEdBQ2JDLFVBQVkzMUQsR0FBTSxHekdwekhTLENBQUNoRyxJQUNoQyxHQUFJQSxRQUNBLE9BRUosSUFBSTQ3RCxFQUNKLEdBQXFCLGlCQUFWNTdELEVBQ1A0N0QsRUFBZ0I1N0QsTUFFZixJQUFxQixpQkFBVkEsRUFJWixNQUFNLElBQUkwRyxVQUFVLCtGQUhwQmsxRCxFRGtEeUIsQ0FBQzU3RCxHQUVuQmcyQyxHQURTLGlCQUFUaDJDLEVBQ2FzM0MsR0FBWXQzQyxHQUVoQkEsR0N0REE2N0QsQ0FBa0I3N0QsRUFJdEMsQ0FDQSxHQUFJa2QsT0FBTzBXLE1BQU1nb0MsSUFBa0JBLElBQWtCcGlCLEtBQVlvaUIsS0FBa0IsSUFDL0UsTUFBTSxJQUFJbDFELFVBQVUsa0VBRXhCLE9BQU8sSUFBSThNLEtBQUtpUixLQUFLRSxNQUFzQixJQUFoQmkzQyxHQUFzQixFeUdteUhYLENBQXNCLEdBQWU1MUQsS0FDdkU4MUQsU0FBVSxHQUNWQyxVQUFXLEdBQ1hDLFNBQVUsS0FpUlosR0FBdUJ2NUMsSUFBVyxDQUNwQzJqQixlQUFnQjNqQixFQUFPN0IsV0FDdkJnNkIsVUFBV240QixFQUFPN0MsUUFBUSxxQkFBdUI2QyxFQUFPN0MsUUFBUSxzQkFBd0I2QyxFQUFPN0MsUUFBUSxvQkFDdkdpN0Isa0JBQW1CcDRCLEVBQU83QyxRQUFRLGNBQ2xDazdCLEtBQU1yNEIsRUFBTzdDLFFBQVEsaUJBR25CLEdBQW9CdzZCLEdBQWtCLElBeUI1QyxNQUFNLEdBQVksQ0FBQ3hFLEVBQVk5ekIsSUExQkwsRUFBQzh6QixFQUFZOXpCLElBQVksR0FBWTh6QixFQUFZOXpCLEdBQVNuYyxNQUFNQyxHQUFTa2MsRUFBUTBnQyxZQUFZNThDLEtBMEI1RSxDQUFrQmd3QyxFQUFZOXpCLEdBQVNuYyxNQUFNMkYsR0FDaEZBLEVBQVE5SCxPQUNEdU0sS0FBS2dNLE1BQU16USxHQUVmLENBQUMsSUFFTixHQUFpQmdXLE1BQU93aEMsRUFBV2hoQyxLQUNyQyxNQUFNOWhCLFFBQWMsR0FBVThpRCxFQUFXaGhDLEdBRXpDLE9BREE5aEIsRUFBTTZRLFFBQVU3USxFQUFNNlEsU0FBVzdRLEVBQU1tNkMsUUFDaENuNkMsQ0FBSyxFQUVWLEdBQXdCLENBQUN5aUIsRUFBUXRoQixLQUNuQyxNQUNNb3RELEVBQXFCQyxJQUN2QixJQUFJQyxFQUFhRCxFQWFqQixNQVowQixpQkFBZkMsSUFDUEEsRUFBYUEsRUFBV2hqRCxZQUV4QmdqRCxFQUFXN3FELFFBQVEsTUFBUSxJQUMzQjZxRCxFQUFhQSxFQUFXejlDLE1BQU0sS0FBSyxJQUVuQ3k5QyxFQUFXN3FELFFBQVEsTUFBUSxJQUMzQjZxRCxFQUFhQSxFQUFXejlDLE1BQU0sS0FBSyxJQUVuQ3k5QyxFQUFXN3FELFFBQVEsTUFBUSxJQUMzQjZxRCxFQUFhQSxFQUFXejlDLE1BQU0sS0FBSyxJQUVoQ3k5QyxDQUFVLEVBRWZ0M0IsR0FqQld2a0IsRUFpQlM2UCxFQUFPN0MsUUFBUyxtQkFqQlQvZixPQUFPMk0sS0FBS29HLEdBQVF5bkIsTUFBTXJ6QixHQUFNQSxFQUFFa2QsZ0JBaUJ6QixtQkFqQitDQSxpQkFBekUsSUFBQ3RSLEVBa0JqQixZQUFrQjFMLElBQWRpd0IsRUFDT28zQixFQUFrQjlyQyxFQUFPN0MsUUFBUXVYLFNBRTFCandCLElBQWQvRixFQUFLb08sS0FDRWcvQyxFQUFrQnB0RCxFQUFLb08sV0FFWHJJLElBQW5CL0YsRUFBYSxPQUNOb3RELEVBQWtCcHRELEVBQWEsYUFEMUMsQ0FFQSxFQ2p1SUcsTUFBTTg2RCxXQUE0QixHQUNyQyx1Q0FBT3Q1QixHQUNILE1BQU8sQ0FDSHlnQixRQUFTLENBQUU5OUIsS0FBTSxnQkFBaUJwUyxLQUFNLG1CQUN4Q2ttQixTQUFVLENBQUU5VCxLQUFNLGdCQUFpQnBTLEtBQU0sWUFDekNtd0MsT0FBUSxDQUFFLzlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxVQUN2Q293QyxhQUFjLENBQUVoK0IsS0FBTSxnQkFBaUJwUyxLQUFNLHdCQUVyRCxDQUNBLFdBQUFuUSxDQUFZMEcsR0FDUjRwQixRQUNBaHpCLEtBQUtvSixNQUFRQSxDQUNqQixDQUNBLGlCQUFBa29DLENBQWtCdHdCLEVBQWFpZ0IsRUFBZS95QixHQUMxQ2xPLEtBQUtneEMsZ0JBQWdCdEIsSUFBSWhMLEdBQWV6RCxFQUFlamhDLEtBQUt5d0MsVUFBV3p3QyxLQUFLMndDLGNBQzVFM3dDLEtBQUtneEMsZ0JBQWdCdEIsSUFBSXZLLEdBQWtCbEUsRUFBZTI2QixHQUFvQnQ1QixxQ0FDOUUsTUFBTWlNLEVBQVF2dEIsRUFBWTlaLE9BQU9sSCxLQUFLZ3hDLGtCQUNoQyxPQUFFcHZCLEdBQVdxZixFQUdiaWlCLEVBQTBCLENBQzVCdGhDLFNBQ0FGLFdBSmUsbUJBS2ZDLFlBSmdCLHNCQUtoQkssd0JBQTBCcmMsR0FBTUEsRUFDaENzYyx5QkFBMkJ0YyxHQUFNQSxFQUNqQyxDQUFDcVosR0FBcUIsQ0FDbEIySyxRQUFTLHNCQUNUdzVCLFVBQVcsa0JBR2IsZUFBRS9oQyxHQUFtQjZmLEVBQzNCLE9BQU9zTixFQUFNdnBDLFNBQVMrYSxHQUFZcUIsRUFBZXd4QixPQUFPN3lCLEVBQVFBLFFBQVM3UixHQUFXLENBQUMsSUFBSWcxQyxFQUM3RixDQUNBLFNBQUF6UyxDQUFVcm5DLEVBQU9xWSxHQUNiLE1EcUo4QlIsT0FBTzdYLEVBQU9xWSxLQUNoRCxNQUFNbEMsRUE2L0hDLENBQ0gsZUFBZ0IsNkJBQ2hCLGVBQWdCLHVCQS8vSFUsa0JBQzlCLElBQUloYSxFQUVKLE9BREFBLEVBQU9tSyxLQUFLQyxVQXNwSGUsRUFBQ3ZHLEVBQU9xWSxJQUM1QixHQUFLclksRUFBTyxDQUNmeXlELFFBQVVsMkQsR0FBTXllLEtBQUtFLE1BQU0zZSxFQUFFeXFCLFVBQVksS0FDekMwckMsY0FBZSxHQUNmQyxpQkFBa0IsR0FDbEJDLFdBQVksR0FDWkMsVUFBVyxHQUNYQyxVQUFZdjJELEdBQU15ZSxLQUFLRSxNQUFNM2UsRUFBRXlxQixVQUFZLE9BN3BIekIrckMsQ0FBdUIveUQsSUF3K0hyQjZYLE9BQU9RLEVBQVNsQyxFQUFTRyxFQUFNcWlDLEVBQWtCeDhDLEtBQ3pFLE1BQU0sU0FBRTZaLEVBQVEsU0FBRUksRUFBVyxRQUFPLEtBQUVILEVBQU1LLEtBQU1zaUMsU0FBbUJ2Z0MsRUFBUW1XLFdBQ3ZFMnBCLEVBQVcsQ0FDYi9oQyxXQUNBSixXQUNBQyxPQUNBRixPQUFRLE9BQ1JPLEtBQU1zaUMsRUFBUzVzQyxTQUFTLEtBQU80c0MsRUFBU3ZpQyxNQUFNLEdBQUksR0FBS0MsRUFBT3NpQyxFQUFXdGlDLEVBQ3pFSCxXQVFKLFlBTnlCMVksSUFBckJrN0MsSUFDQVIsRUFBU25pQyxTQUFXMmlDLFFBRVhsN0MsSUFBVHRCLElBQ0FnOEMsRUFBU2g4QyxLQUFPQSxHQUViLElBQUksRUFBY2c4QyxFQUFTLEVBdi9IM0IsQ0FBb0I5L0IsRUFBU2xDLEVBQVMsU0FBSzFZLEVBQVd0QixFQUFLLEVDekp2RDYyRCxDQUF1Qmh6RCxFQUFPcVksRUFDekMsQ0FDQSxXQUFBa3ZCLENBQVl2dUIsRUFBUVgsR0FDaEIsTUQwN0Q4QlIsT0FBT21CLEVBQVFYLEtBQ2pELEdBQUlXLEVBQU83QixZQUFjLElBQ3JCLE1BVzRCVSxPQUFPbUIsRUFBUVgsS0FDL0MsTUFBTWs5QixFQUFlLElBQ2R2OEIsRUFDSDdjLFdBQVksR0FBZTZjLEVBQU83YyxLQUFNa2MsSUFFdEN5NEIsRUFBWSxHQUFzQjkzQixFQUFRdThCLEVBQWFwNUMsTUFDN0QsT0FBUTIwQyxHQUNKLElBQUssZ0NBQ0wsSUFBSyx5REFDRCxZQUFZd2dCLEdBQW9DL2IsRUFBY2w5QixHQUNsRSxJQUFLLG1DQUNMLElBQUssNERBQ0QsWUFBWWs1QyxHQUF1Q2hjLEVBQWNsOUIsR0FDckUsSUFBSyw2QkFDTCxJQUFLLHNEQUNELFlBQVltNUMsR0FBaUNqYyxFQUFjbDlCLEdBQy9ELElBQUssNEJBQ0wsSUFBSyxxREFDRCxZQUFZbzVDLEdBQWdDbGMsRUFBY2w5QixHQUM5RCxJQUFLLDRCQUNMLElBQUsscURBQ0QsWUFBWXE1QyxHQUFnQ25jLEVBQWNsOUIsR0FDOUQsSUFBSyxpQ0FDTCxJQUFLLDBEQUNELFlBQVlzNUMsR0FBcUNwYyxFQUFjbDlCLEdBQ25FLElBQUssZ0NBQ0wsSUFBSyx5REFDRCxZQUFZdTVDLEdBQW9DcmMsRUFBY2w5QixHQUNsRSxRQUNJLE1BQU13NEIsRUFBYTBFLEVBQWFwNUMsS0FDaEMsT0FBTyxHQUFrQixDQUNyQjZjLFNBQ0E2M0IsYUFDQUMsY0FFWixFQTlDV21pQixDQUE0Qmo2QyxFQUFRWCxHQUcvQyxJQUFJOC9CLEVBQVcsQ0FBQyxFQU1oQixPQUxBQSxFQTRrRTRCLEVBQUNuL0IsRUFBUVgsSUFDOUIsR0FBS1csRUFBUSxDQUNoQms2QyxPQUFTMzJELEdBakpLLEVBQUN5YyxFQUFRWCxLQUMzQixNQUFNODZDLEdBQVVuNkMsR0FBVSxJQUNyQjJMLFFBQVF6cUIsR0FBVyxNQUFMQSxJQUNkNEgsS0FBS21qQyxHQUNDNHNCLEdBQVM1c0IsS0FFcEIsT0FBT2t1QixDQUFNLEVBMklNQyxDQUFjNzJELEdBQzdCczJELFVBQVcsS0Eva0VKUSxPQUZRLEdBQVVyNkMsRUFBTzdjLEtBQU1rYyxJQUd6QixDQUNiUyxVQUFXLEdBQW9CRSxNQUM1Qm0vQixFQUVRLEVDcjhESm1iLENBQXVCdDZDLEVBQVFYLEVBQzFDLEVDM0NKLE9BS0MsU0FBWWs3QyxHQUNYLElBQ00sRUFEa0JqdEQsS0FBS2dNLE1BQU1paEQsRUFBTXpCLGlCQUNBMEIsYUFBYXRqQyxJQUFJM29CLE1BQU0sS0FBSzhPLE1BQU0sR0FBcEVvOUMsRUFBSSxLQUFFbEgsRUFBTyxLQUVwQjMxRCxLQUFLODhELFFBQVVELEVBQ2Y3OEQsS0FBSys4RCxXQUFhcEgsRUFDbEIzMUQsS0FBS2c5RCxVQUFZTCxFQUFNckIsU0FDeEIsRUNWRCwyQkFDUyxLQUFBMkIsaUJBQW1CLElBQUlqRCxHQUFpQixDQUFDLEVBOENsRCxRQTFDYyxZQUFBa0QsNkJBQWIsU0FBMENDLDZwQ0FDbkNDLEVBQWdDLEdBRWxDQyxFQUFvQixzQkFhSSxPQVhyQkMsRUFBc0IsSUFBSTFCLEdBQW9CLENBQ25ERyxpQkFBa0IsQ0FDakIsQ0FDQ3dCLGFBQWMsY0FDZEMsZUFBZ0IsNkJBR2xCdEIsVUFBV2lCLEVBQ1hsQixVQUFXb0IsSUFHZSxHQUFNcjlELEtBQUtpOUQsaUJBQWlCaHNCLEtBQUtxc0IsV0FBdERHLEVBQXFCLFNBRTNCSixFQUFZSSxFQUFtQnhCLFVBRS9Cd0IsRUFBbUJuQixPQUFPbHVCLFNBQVEsU0FBQ3V1QixHQUFVLE9BQUFTLEVBQU83MkQsS0FBSyxJQUFJbTNELEdBQW9CZixHQUFwQyx3QkFDckNVLEVBQVMsNkJBRWxCLE1BQU8sQ0FBUCxFQUFPRCx3U0FHRCxZQUFBTyxrQkFBUCxTQUF5QkMsRUFBc0JSLEdBQzlDLElBQU1TLEVBQTJCVCxFQUFPcnZDLFFBQU8sU0FBQzR1QyxHQUFVLE9BQUFpQixFQUFLZCxVQUFZSCxFQUFNRyxTQUFXYyxFQUFLYixhQUFlSixFQUFNSSxVQUE1RCxJQUUxRCxHQUF3QyxJQUFwQ2MsRUFBeUIxNkQsT0FHNUIsT0FEQXF4QixRQUFRK0IsTUFBTSxVQUFHcW5DLEVBQUtkLFFBQU8sWUFBSWMsRUFBS2IsV0FBVSxnQ0FDekMsSUFBSTVwRCxLQUFLLEdBSWpCLElBQU0ycUQsRUFBY0QsRUFBeUJ6ekMsTUFBSyxTQUFDL2lCLEVBQUduRixHQUFNLE9BQUFtRixFQUFFMjFELFdBQWE5NkQsRUFBRTg2RCxVQUFZLEdBQUssQ0FBbEMsSUFBcUMsR0FJakcsT0FGQXhvQyxRQUFRK0IsTUFBTSxVQUFHcW5DLEVBQUtkLFFBQU8sWUFBSWMsRUFBS2IsV0FBVSwwQkFBa0JydEQsS0FBS0MsVUFBVW11RCxFQUFhLEtBQU0sS0FFN0ZBLEVBQVlkLFNBQ3BCLEVBQ0QsRUEvQ0EsR0NKTyxNQ0FELEdBQUksV0FBWSxHQUFJLEtBQU0sR0FBSSxPQUFRLEdBQUksTUFDaEMsR0FBSSxRQUFTLEdBQUksZ0JBQWlCLEdBQUksUUFBUyxHQUFJLFdBQVksR0FBSSxPQUFRLEdBQUksa0JBQW1CLEdBQUksVUFBVyxHQUFJLENBQUUsQ0FBQyxLQUFJLEVBQU8sS0FBUSxVQUFZLEdBQUksQ0FBRSxDQUFDLEtBQUksRUFBTSxTQUFXLEVBQU8sS0FBUSxXQUFhLEdBQUksQ0FBRSxDQUFDLElBQUksWUFBYyxHQUFJLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksWUFBYSxJQUFTLEdBQUksQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxpQkFBa0IsSUFBUyxHQUFJLENBQUMsRUFBRyxHQUFJLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksSUFBSyxpQkFBbUIsR0FBSSxDQUFFLENBQUMsSUFBSSxJQUFLLEdBQUksQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksRUFBQyxFQUFNLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyx3QkFBMkIsR0FBSSxDQUFDLElBQUksR0FBSSxDQUFDLElBQUksR0FBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLFdBRW5nQixHQURDLENBQUV2aUMsUUFBUyxNQUFPakMsV0FBWSxDQUFFd3FCLE9BQVEsR0FBR0MsYUFBYyxHQUFHRixRQUFTLEdBQUdocUIsU0FBVSxJQUFLYixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU93QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksR0FBR2oxQixNQUFPLG9FQUFxRXdqQixLQUFNLElBQUssQ0FBRXlSLFdBQVksR0FBR2oxQixNQUFPLHlFQUEwRXdqQixLQUFNLElBQUssQ0FBRTJTLFNBQVUsQ0FBRXRELElBQUssR0FBR3BFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksS0FBTXdCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLGdCQUFpQixDQUFDLElBQUksR0FBRzd6QixPQUFRLEtBQU1xMUIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsR0FBRyxJQUFJd0IsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksRUFEN2xCLEVBQ2ltQixLQUFNLElBQUl3QixNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSyx3RUFBeUVwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8sa0ZBQW1Gd2pCLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLEdBQUd3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLElBRDk2QixLQUN3N0J3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxlQUFnQixDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsU0FBVyxnQkFBa0JrQixTQUFVLENBQUV0RCxJQUFLLDRDQUE2Q3BFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sSUFBSyxDQUFFMlMsU0FBVSxDQUFFdEQsSUFBSywrREFBZ0VwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8sMkRBQTREd2pCLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLEdBQUd3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxJQUFJd0IsTUFBTyxDQUFDLENBQUVOLFNBQVUsQ0FBRXRELElBQUssbUVBQW9FcEUsV0FBWSxHQUFHM1EsUUFBUyxJQUFLMEYsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXhqQixNQUFPLHFFQUFzRXdqQixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFMlMsU0FBVSxDQUFFdEQsSUFBSywwREFBMkRwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV4akIsTUFBTyx3Q0FBeUN3akIsS0FBTSxNQ0E3MEQsR0FBMEIsQ0FBQ3VRLEVBQWdCL1QsRUFBVSxDQUFDLElBQ3hENlcsR0FBZ0IsR0FBUyxDQUM1QjlDLGVBQWdCQSxFQUNoQjVULE9BQVFILEVBQVFHLFNDU2pCLE1BQU1tOEMsV0FBeUIsR0FDbEMsV0FBQXI3RCxLQUFnQnUrQixJQUNaLE1BQ01pckIsR0hqQmtDaCtDLEVJZ0JoQixDQUFDNHNCLElBQzdCOGYsR0FBZ0NqNEIsUUFBUThYLFNBQ3hDLE1BQU00d0IsRUFBZUQsR0FBMEJ0d0IsR0FDekNxeEIsRUFBd0IsSUFBTWQsSUFBZS9sRCxLQUFLbzFDLElBQ2xEMFIsRUNmc0IsQ0FBQ3R4QixJQUN0QixDQUNIdXhCLFdBQVksYUFDWkMsY0FBZXh4QixHQUFRd3hCLGVBQWlCN2EsR0FDeEM4YSxjQUFlenhCLEdBQVF5eEIsZUFBaUI3YSxHQUN4QzhhLGtCQUFtQjF4QixHQUFRMHhCLG9CQUFxQixFQUNoRHpvQixpQkFBa0JqSixHQUFRaUosa0JBQW9CLEdBQzlDMG9CLFdBQVkzeEIsR0FBUTJ4QixZQUFjLEdBQ2xDN3FDLE9BQVFrWixHQUFRbFosUUFBVSxJQUFJeXJCLEdBQzlCeGQsVUFBV2lMLEdBQVFqTCxXQUFhLGFBQ2hDbVYsVUFBV2xLLEdBQVFrSyxXQUFhcEQsR0FDaEM4cUIsWUFBYTV4QixHQUFRNHhCLGFBQWV6akQsRUFDcENrNUMsWUFBYXJuQixHQUFRcW5CLGFBQWV6OUIsSURHYixDQUF1Qm9XLEdBRWxELE9BREEsR0FBZ0JuWSxRQUFROFgsU0FDakIsSUFDQTJ4QixLQUNBdHhCLEVBQ0hyWSxRQUFTLE9BQ1Q0b0MsZUFDQTd1QixrQkFBbUIxQixHQUFRMEIsbUJBQXFCOHRCLEdBQ2hEbDdCLDBCQUEyQjBMLEdBQVExTCwyQkFBNkIsR0FBa0MsSUFDbEc2TCx5QkFBMEJILEdBQVFHLDBCQUM5QkQsR0FBaUIsQ0FBRW5MLFVBQVd1OEIsRUFBbUJ2OEIsVUFBVzI1QiwwQkFDaEVsZ0IsWUFBYXhPLEdBQVF3TyxhQUFlLEdBQWVrQyxJQUNuRDloQixPQUFRb1IsR0FBUXBSLFFBQVUsR0FBZW9TLEdBQTRCQyxJQUNyRTNhLGVBQWdCMFosR0FBUTFaLGdCQUFrQixJQUFJLEdBQWUrcUMsR0FDN0R2Z0IsVUFBVzlRLEdBQVE4USxXQUNmLEdBQWUsSUFDUkMsR0FDSHJqQyxRQUFTeVksZ0JBQW1Ca3JDLEtBQXlCdmdCLFdBQWFuRyxLQUUxRXRhLE9BQVEyUCxHQUFRM1AsUUFBVTYrQixHQUFLL04sS0FBSyxLQUFNLFVBQzFDeEcsZ0JBQWlCM2EsR0FBUTJhLGlCQUFtQixHQUM1Qy9sQixxQkFBc0JvTCxHQUFRcEwsc0JBQXdCLEdBQWU2TCxJQUNyRTlMLGdCQUFpQnFMLEdBQVFyTCxpQkFBbUIsR0FBZW9NLElBQzlELEVEM0JxQixDQUFtQm9GLEdBQWlCLENBQUMsR0hmcEQsSUFDQS95QixFQUNId2hCLHFCQUFzQnhoQixFQUFRd2hCLHVCQUF3QixFQUN0REQsZ0JBQWlCdmhCLEVBQVF1aEIsa0JBQW1CLEVBQzVDUSxtQkFBb0IsZUFMbUIsSUFBQy9oQixFR2tCeEMsTUFBTXkrQyxFQUFZeHdCLEdBQW9CK3ZCLEdBQ2hDVSxFQUFZeG5CLEdBQXNCdW5CLEdBQ2xDc04sRUFBWXZ1QixHQUFtQmtoQixHQUkvQjZNLEVHcEIwQixFQUFDdDdDLEVBQWVzdUMsS0FDcEQsTUFBTUssRUFBeUIsSUFDZGxCLEdBQW1DenRDLE1BQ25DczlCLEdBQWlDdDlCLE1BQ2pDRCxFQUFxQ0MsSUFHdEQsT0FEQXN1QyxFQUFXcmUsU0FBUzJlLEdBQWNBLEVBQVVDLFVBQVVGLEtBQy9DLElBQ0EzdUMsS0FDQTR0QyxHQUF1Q2UsTUFDdkMsR0FBNEJBLE1BQzVCcnVDLEVBQWdDcXVDLEdBQ3RDLEVIUXFCLENBREE3NkIsR0FEQWhELEdBRHdCZ3JDLElBR1loNUIsR0FBZXdyQixZQUFjLElBQ25GejVCLE1BQU15bUMsR0FDTno1RCxLQUFLODZCLE9BQVMyK0IsRUFDZHo1RCxLQUFLZ3hDLGdCQUFnQnRCLElBQUlqRCxHQUFlenNDLEtBQUs4NkIsU0FDN0M5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJblQsR0FBdUJ2OEIsS0FBSzg2QixTQUNyRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUk1dUIsRUFBb0I5Z0IsS0FBSzg2QixTQUNsRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUlsdUIsRUFBZ0J4aEIsS0FBSzg2QixTQUM5Qzk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUlsdEIsRUFBNEJ4aUIsS0FBSzg2QixTQUMxRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUkxZSxHQUFpQmh4QixLQUFLODZCLFNBQy9DOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSTdVLEdBQW1CNzZCLEtBQUs4NkIsUUFDckQsQ0FDQSxPQUFBeVcsR0FDSXZlLE1BQU11ZSxTQUNWLEVJbkNHLE1BQU15c0IsV0FBbUMsR0FDNUMsV0FBQXQ3RCxDQUFZd0wsR0FDUjhrQixNQUFNOWtCLEdBQ04xTyxPQUFPMkMsZUFBZW5DLEtBQU1nK0QsR0FBMkI3OUQsVUFDM0QsRUMrR0csTUFBTTg5RCxXQUE2QixHQUN0QyxXQUFBdjdELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSx1QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLHVCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNaStELEdBQXFCOTlELFdBQ2pESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsT0FDeEIsRUFFRyxNQUFNLFdBQTZDLEdBQ3RELFdBQUFwM0MsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLHVDQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sdUNBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU0sR0FBcUNHLFVBQ3JFLEVBRUcsTUFBTSs5RCxXQUF1QyxHQUNoRCxXQUFBeDdELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxpQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLGlDQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNaytELEdBQStCLzlELFVBQy9ELEVBRUcsTUFBTWcrRCxXQUEwQyxHQUNuRCxXQUFBejdELENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxvQ0FDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLG9DQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNbStELEdBQWtDaCtELFVBQ2xFLEVDL0pHLE1BaXVERGkrRCxHQUE2Qm45QyxNQUFPMDlCLEVBQWNsOUIsS0FDcEQsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFleWYsR0FBd0I5NEQsRUFBS3FRLE1BQU82TCxHQUNuRG00QixFQUFZLElBQUlxa0IsR0FBcUIsQ0FDdkMvN0MsVUFBVyxHQUFvQnk4QixNQUM1QkMsSUFFUCxPQUFPLEdBQTJCaEYsRUFBV3IwQyxFQUFLLEVBb0JoRCxHQUE2QzBiLE1BQU8wOUIsRUFBY2w5QixLQUNwRSxNQUFNbGMsRUFBT281QyxFQUFhcDVDLEtBQ3BCcTVDLEVBQWUwZixHQUF3Qy80RCxFQUFLcVEsTUFBTzZMLEdBQ25FbTRCLEVBQVksSUFBSSxHQUFxQyxDQUN2RDEzQixVQUFXLEdBQW9CeThCLE1BQzVCQyxJQUVQLE9BQU8sR0FBMkJoRixFQUFXcjBDLEVBQUssRUFFaERnNUQsR0FBdUN0OUMsTUFBTzA5QixFQUFjbDlCLEtBQzlELE1BQU1sYyxFQUFPbzVDLEVBQWFwNUMsS0FDcEJxNUMsRUFBZTRmLEdBQWtDajVELEVBQUtxUSxNQUFPNkwsR0FDN0RtNEIsRUFBWSxJQUFJc2tCLEdBQStCLENBQ2pEaDhDLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQW9CaERrNUQsR0FBMEN4OUMsTUFBTzA5QixFQUFjbDlCLEtBQ2pFLE1BQU1sYyxFQUFPbzVDLEVBQWFwNUMsS0FDcEJxNUMsRUFBZThmLEdBQXFDbjVELEVBQUtxUSxNQUFPNkwsR0FDaEVtNEIsRUFBWSxJQUFJdWtCLEdBQWtDLENBQ3BEajhDLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQW9XaERvNUQsR0FBZSxDQUFDdjFELEVBQU9xWSxLQUN6QixNQUFNOFMsRUFBVSxDQUFDLEVBT2pCLE9BTmtCLE1BQWRuckIsRUFBTXcxRCxPQUNOcnFDLEVBQWMsS0FBSW5yQixFQUFNdzFELE1BRVQsTUFBZngxRCxFQUFNaTRDLFFBQ045c0IsRUFBZSxNQUFJbnJCLEVBQU1pNEMsT0FFdEI5c0IsQ0FBTyxFQXVkWnNxQyxHQUFpQixDQUFDejFELEVBQU9xWSxLQUMzQixNQUFNOFMsRUFBVSxDQUFDLEVBSWpCLEdBSHdCLE1BQXBCbnJCLEVBQU0wMUQsYUFDTnZxQyxFQUFvQixXQUFJbnJCLEVBQU0wMUQsWUFFVixNQUFwQjExRCxFQUFNMjFELFdBQW9CLENBQzFCLE1BQU1qZixFQWxjUSxFQUFDMTJDLEVBQU9xWSxLQUMxQixNQUFNOFMsRUFBVSxDQUFDLEVBQ2pCLElBQUl1c0IsRUFBVSxFQUNkLElBQUssTUFBTXpTLEtBQVNqbEMsRUFBTyxDQUN2QixHQUFjLE9BQVZpbEMsRUFDQSxTQUVKLE1BQU15UixFQUFnQjZlLEdBQWF0d0IsR0FDbkM3dUMsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BQ3pDNDBCLEVBQVEsVUFBVXVzQixLQUFXajlDLEtBQVNsRSxDQUFLLElBRS9DbWhELEdBQ0osQ0FDQSxPQUFPdnNCLENBQU8sRUFxYll5cUMsQ0FBYzUxRCxFQUFNMjFELFlBQ1QsSUFBN0IzMUQsRUFBTTIxRCxZQUFZNTdELFNBQ2xCb3hCLEVBQVF3cUMsV0FBYSxJQUV6QnYvRCxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxjQUFjMXdCLEtBQ1hsRSxDQUFLLEdBRTVCLENBT0EsR0FOdUIsTUFBbkJ5SixFQUFNNjFELFlBQ04xcUMsRUFBbUIsVUFBSW5yQixFQUFNNjFELFVBQVVqd0MsY0FBY3JlLE1BQU0sS0FBSyxHQUFLLEtBRXRELE1BQWZ2SCxFQUFNaTRDLFFBQ045c0IsRUFBZSxNQUFJLEdBQWlCbnJCLEVBQU1pNEMsUUFFakIsTUFBekJqNEMsRUFBTTgxRCxnQkFBeUIsQ0FDL0IsTUFBTXBmLEVBQWdCcWYsR0FBZ0IvMUQsRUFBTTgxRCxnQkFBaUJ6OUMsR0FDN0RqaUIsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFksbUJBQW1CMXdCLEtBQ2hCbEUsQ0FBSyxHQUU1QixDQUNBLEdBQW9CLE1BQWhCeUosRUFBTWcyRCxPQUFnQixDQUN0QixNQUFNdGYsRUFBZ0J1ZixHQUFVajJELEVBQU1nMkQsT0FBUTM5QyxHQUNqQixJQUF6QnJZLEVBQU1nMkQsUUFBUWo4RCxTQUNkb3hCLEVBQVE2cUMsT0FBUyxJQUVyQjUvRCxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxVQUFVMXdCLEtBQ1BsRSxDQUFLLEdBRTVCLENBQ0EsR0FBb0IsTUFBaEJ5SixFQUFNazJELE9BQWdCLENBQ3RCLE1BQU14ZixFQWx4QkksRUFBQzEyQyxFQUFPcVksS0FDdEIsTUFBTThTLEVBQVUsQ0FBQyxFQUNqQixJQUFJdXNCLEVBQVUsRUFDZCxJQUFLLE1BQU16UyxLQUFTamxDLEVBQ0YsT0FBVmlsQyxJQUdKOVosRUFBUSxVQUFVdXNCLEtBQWEsR0FBaUJ6UyxHQUNoRHlTLEtBRUosT0FBT3ZzQixDQUFPLEVBd3dCWWdyQyxDQUFVbjJELEVBQU1rMkQsUUFDVCxJQUF6QmwyRCxFQUFNazJELFFBQVFuOEQsU0FDZG94QixFQUFRK3FDLE9BQVMsSUFFckI5L0QsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFksVUFBVTF3QixLQUNQbEUsQ0FBSyxHQUU1QixDQU9BLE9BTmtCLE1BQWR5SixFQUFNbzJELE9BQ05qckMsRUFBYyxLQUFJbnJCLEVBQU1vMkQsTUFFRyxNQUEzQnAyRCxFQUFNcTJELG9CQUNObHJDLEVBQTJCLGtCQUFJbnJCLEVBQU1xMkQsbUJBRWxDbHJDLENBQU8sRUFvYlptckMsR0FBd0IsQ0FBQ3QyRCxFQUFPcVksS0FDbEMsTUFBTThTLEVBQVUsQ0FBQyxFQUlqQixHQUh1QixNQUFuQm5yQixFQUFNdTJELFlBQ05wckMsRUFBbUIsVUFBSW5yQixFQUFNdTJELFdBRVQsTUFBcEJ2MkQsRUFBTXcyRCxXQUFvQixDQUMxQixNQUFNOWYsRUEzaUJRLEVBQUMxMkMsRUFBT3FZLEtBQzFCLE1BQU04UyxFQUFVLENBQUMsRUFDakIsSUFBSXVzQixFQUFVLEVBQ2QsSUFBSyxNQUFNelMsS0FBU2psQyxFQUFPLENBQ3ZCLEdBQWMsT0FBVmlsQyxFQUNBLFNBRUosTUFBTXlSLEVBQWdCK2UsR0FBZXh3QixFQUFPNXNCLEdBQzVDamlCLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUN6QzQwQixFQUFRLFVBQVV1c0IsS0FBV2o5QyxLQUFTbEUsQ0FBSyxJQUUvQ21oRCxHQUNKLENBQ0EsT0FBT3ZzQixDQUFPLEVBOGhCWXNyQyxDQUFjejJELEVBQU13MkQsV0FBWW4rQyxHQUNyQixJQUE3QnJZLEVBQU13MkQsWUFBWXo4RCxTQUNsQm94QixFQUFRcXJDLFdBQWEsSUFFekJwZ0UsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFksY0FBYzF3QixLQUNYbEUsQ0FBSyxHQUU1QixDQUNBLE9BQU80MEIsQ0FBTyxFQW9KWjRxQyxHQUFrQixDQUFDLzFELEVBQU9xWSxLQUM1QixNQUFNOFMsRUFBVSxDQUFDLEVBYWpCLE9BWnlCLE1BQXJCbnJCLEVBQU0wMkQsY0FDTnZyQyxFQUFxQixZQUFJLEdBQWlCbnJCLEVBQU0wMkQsY0FFbkMsTUFBYjEyRCxFQUFNMjJELE1BQ054ckMsRUFBYSxJQUFJLEdBQWlCbnJCLEVBQU0yMkQsTUFFdkIsTUFBakIzMkQsRUFBTTQyRCxVQUNOenJDLEVBQWlCLFFBQUksR0FBaUJuckIsRUFBTTQyRCxVQUUzQixNQUFqQjUyRCxFQUFNNjJELFVBQ04xckMsRUFBaUIsUUFBSSxHQUFpQm5yQixFQUFNNjJELFVBRXpDMXJDLENBQU8sRUF1Rlo4cUMsR0FBWSxDQUFDajJELEVBQU9xWSxLQUN0QixNQUFNOFMsRUFBVSxDQUFDLEVBQ2pCLElBQUl1c0IsRUFBVSxFQUNkLElBQUssTUFBTXpTLEtBQVNqbEMsRUFDRixPQUFWaWxDLElBR0o5WixFQUFRLFVBQVV1c0IsS0FBYSxHQUFpQnpTLEdBQ2hEeVMsS0FFSixPQUFPdnNCLENBQU8sRUFrcUJaOHBDLEdBQTBCLENBQUNqOEMsRUFBUVgsS0FDckMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTekgsUUFBVSxHQUFlMTNCLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFnQmIrYyxHQUEwQyxDQUFDbDhDLEVBQVFYLEtBQ3JELE1BQU04L0IsRUFBVyxDQUFDLEVBSWxCLFlBSDBCMTZDLElBQXRCdWIsRUFBZ0IsVUFDaEJtL0IsRUFBUy93QyxRQUFVLEdBQWU0UixFQUFnQixVQUUvQ20vQixDQUFRLEVBRWJpZCxHQUFvQyxDQUFDcDhDLEVBQVFYLEtBQy9DLE1BQU04L0IsRUFBVyxDQUFDLEVBSWxCLFlBSDBCMTZDLElBQXRCdWIsRUFBZ0IsVUFDaEJtL0IsRUFBUy93QyxRQUFVLEdBQWU0UixFQUFnQixVQUUvQ20vQixDQUFRLEVBc2RibWQsR0FBdUMsQ0FBQ3Q4QyxFQUFRWCxLQUNsRCxNQUFNOC9CLEVBQVcsQ0FBQyxFQUlsQixZQUgwQjE2QyxJQUF0QnViLEVBQWdCLFVBQ2hCbS9CLEVBQVMvd0MsUUFBVSxHQUFlNFIsRUFBZ0IsVUFFL0NtL0IsQ0FBUSxFQTZKYixHQUF1Qm4vQixJQUFXLENBQ3BDMmpCLGVBQWdCM2pCLEVBQU83QixXQUN2Qmc2QixVQUFXbjRCLEVBQU83QyxRQUFRLHFCQUF1QjZDLEVBQU83QyxRQUFRLHNCQUF3QjZDLEVBQU83QyxRQUFRLG9CQUN2R2k3QixrQkFBbUJwNEIsRUFBTzdDLFFBQVEsY0FDbENrN0IsS0FBTXI0QixFQUFPN0MsUUFBUSxpQkFHbkIsR0FBb0J3NkIsR0FBa0IsSUFtQnRDLEdBQWlCLENBQ25CLGVBQWdCLHFDQTJCZCxHQUFpQjk0QixNQUFPd2hDLEVBQVdoaEMsS0FDckMsTUFBTTloQixPQTFCUSxFQUFDNDFDLEVBQVk5ekIsSUF2QkwsRUFBQzh6QixFQUFZOXpCLElBQVksR0FBWTh6QixFQUFZOXpCLEdBQVNuYyxNQUFNQyxHQUFTa2MsRUFBUTBnQyxZQUFZNThDLEtBdUI1RSxDQUFrQmd3QyxFQUFZOXpCLEdBQVNuYyxNQUFNMkYsSUFDcEYsR0FBSUEsRUFBUTlILE9BQVEsQ0FDaEIsTUFBTWsvQyxFQUFTLElBQUksR0FBQTcyQyxVQUFVLENBQ3pCcUYsb0JBQXFCLEdBQ3JCbUcsY0FBYyxFQUNkaEcsa0JBQWtCLEVBQ2xCaUcsbUJBQW1CLEVBQ25CVCxlQUFlLEVBQ2ZFLFlBQVksRUFDWm5GLGtCQUFtQixDQUFDNUwsRUFBR2lNLElBQXdCLEtBQWZBLEVBQUlsRCxRQUFpQmtELEVBQUl5RCxTQUFTLE1BQVEsUUFBS3hPLElBRW5GdzdDLEVBQU92bUMsVUFBVSxNQUFPLE1BQ3hCdW1DLEVBQU92bUMsVUFBVSxNQUFPLE1BQ3hCLE1BQU13bUMsRUFBWUQsRUFBTzNtQyxNQUFNelEsR0FDekI4RixFQUFlLFFBQ2ZsTixFQUFNckUsT0FBTzJNLEtBQUttMkMsR0FBVyxHQUM3QkMsRUFBb0JELEVBQVV6K0MsR0FLcEMsT0FKSTArQyxFQUFrQnh4QyxLQUNsQnd4QyxFQUFrQjErQyxHQUFPMCtDLEVBQWtCeHhDLFVBQ3BDd3hDLEVBQWtCeHhDLElBRXRCLEdBQXVCd3hDLEVBQ2xDLENBQ0EsTUFBTyxDQUFDLENBQUMsSUFHVyxDQUFVRSxFQUFXaGhDLEdBSXpDLE9BSEk5aEIsRUFBTWlXLFFBQ05qVyxFQUFNaVcsTUFBTXBGLFFBQVU3USxFQUFNaVcsTUFBTXBGLFNBQVc3USxFQUFNaVcsTUFBTWtrQyxTQUV0RG42QyxDQUFLLEVBS1YsR0FBcUIsQ0FBQ3lpQixFQUFRdGhCLFNBQ1ArRixJQUFyQi9GLEVBQUs4VSxPQUFPeWtDLEtBQ0x2NUMsRUFBSzhVLE1BQU15a0MsS0FFRyxLQUFyQmo0QixFQUFPN0IsV0FDQSxnQkFEWCxFQ3B1SkcsTUFBTTIvQyxXQUE2QixHQUN0Qyx1Q0FBTzU5QixHQUNILE1BQU8sQ0FDSHlnQixRQUFTLENBQUU5OUIsS0FBTSxnQkFBaUJwUyxLQUFNLG1CQUN4Q2ttQixTQUFVLENBQUU5VCxLQUFNLGdCQUFpQnBTLEtBQU0sWUFDekNtd0MsT0FBUSxDQUFFLzlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxVQUN2Q293QyxhQUFjLENBQUVoK0IsS0FBTSxnQkFBaUJwUyxLQUFNLHdCQUVyRCxDQUNBLFdBQUFuUSxDQUFZMEcsR0FDUjRwQixRQUNBaHpCLEtBQUtvSixNQUFRQSxDQUNqQixDQUNBLGlCQUFBa29DLENBQWtCdHdCLEVBQWFpZ0IsRUFBZS95QixHQUMxQ2xPLEtBQUtneEMsZ0JBQWdCdEIsSUFBSWhMLEdBQWV6RCxFQUFlamhDLEtBQUt5d0MsVUFBV3p3QyxLQUFLMndDLGNBQzVFM3dDLEtBQUtneEMsZ0JBQWdCdEIsSUFBSXZLLEdBQWtCbEUsRUFBZWkvQixHQUFxQjU5QixxQ0FDL0UsTUFBTWlNLEVBQVF2dEIsRUFBWTlaLE9BQU9sSCxLQUFLZ3hDLGtCQUNoQyxPQUFFcHZCLEdBQVdxZixFQUdiaWlCLEVBQTBCLENBQzVCdGhDLFNBQ0FGLFdBSmUsbUJBS2ZDLFlBSmdCLHVCQUtoQkssd0JBQTBCcmMsR0FBTUEsRUFDaENzYyx5QkFBMkJ0YyxHQUFNQSxFQUNqQyxDQUFDcVosR0FBcUIsQ0FDbEIySyxRQUFTLGdDQUNUdzVCLFVBQVcsbUJBR2IsZUFBRS9oQyxHQUFtQjZmLEVBQzNCLE9BQU9zTixFQUFNdnBDLFNBQVMrYSxHQUFZcUIsRUFBZXd4QixPQUFPN3lCLEVBQVFBLFFBQVM3UixHQUFXLENBQUMsSUFBSWcxQyxFQUM3RixDQUNBLFNBQUF6UyxDQUFVcm5DLEVBQU9xWSxHQUNiLE1Ea1IrQlIsT0FBTzdYLEVBQU9xWSxLQUNqRCxNQUFNbEMsRUFBVSxHQUNoQixJQUFJaGEsRUFNSixPQWc2SStCbzlDLEVBcjZJRSxJQUMxQitjLEdBQXNCdDJELEVBQU9xWSxHQUNoQzJoQyxPQUFRLGdCQUNSQyxRQUFTLGNBSGI5OUMsRUFxNkkrQy9GLE9BQU8rMEIsUUFBUW91QixHQUM3RHozQyxLQUFJLEVBQUVySCxFQUFLbEUsS0FBVyxHQUE2QmtFLEdBQU8sSUFBTSxHQUE2QmxFLEtBQzdGMEwsS0FBSyxLQXZEa0I0VixPQUFPUSxFQUFTbEMsRUFBU0csRUFBTXFpQyxFQUFrQng4QyxLQUN6RSxNQUFNLFNBQUU2WixFQUFRLFNBQUVJLEVBQVcsUUFBTyxLQUFFSCxFQUFNSyxLQUFNc2lDLFNBQW1CdmdDLEVBQVFtVyxXQUN2RTJwQixFQUFXLENBQ2IvaEMsV0FDQUosV0FDQUMsT0FDQUYsT0FBUSxPQUNSTyxLQUFNc2lDLEVBQVM1c0MsU0FBUyxLQUFPNHNDLEVBQVN2aUMsTUFBTSxHQUFJLEdBQUtDLEVBQU9zaUMsRUFBV3RpQyxFQUN6RUgsV0FRSixZQU55QjFZLElBQXJCazdDLElBQ0FSLEVBQVNuaUMsU0FBVzJpQyxRQUVYbDdDLElBQVR0QixJQUNBZzhDLEVBQVNoOEMsS0FBT0EsR0FFYixJQUFJLEVBQWNnOEMsRUFBUyxFQTMzSTNCLENBQW9COS9CLEVBQVNsQyxFQUFTLFNBQUsxWSxFQUFXdEIsR0FnNkkvQixJQUFDbzlDLENBaDZJbUMsRUMxUnZEd2QsQ0FBd0IvMkQsRUFBT3FZLEVBQzFDLENBQ0EsV0FBQWt2QixDQUFZdnVCLEVBQVFYLEdBQ2hCLE1EKzRDK0JSLE9BQU9tQixFQUFRWCxJQUM5Q1csRUFBTzdCLFlBQWMsSUFTUVUsT0FBT21CLEVBQVFYLEtBQ2hELE1BQU1rOUIsRUFBZSxJQUNkdjhCLEVBQ0g3YyxXQUFZLEdBQWU2YyxFQUFPN2MsS0FBTWtjLElBRXRDeTRCLEVBQVksR0FBbUI5M0IsRUFBUXU4QixFQUFhcDVDLE1BQzFELE9BQVEyMEMsR0FDSixJQUFLLHVCQUNMLElBQUssZ0RBQ0QsWUFBWWtrQixHQUEyQnpmLEVBQWNsOUIsR0FDekQsSUFBSyw4QkFDTCxJQUFLLGdFQUNELFlBQVksR0FBMkNrOUIsRUFBY2w5QixHQUN6RSxJQUFLLHdCQUNMLElBQUssMERBQ0QsWUFBWTg4QyxHQUFxQzVmLEVBQWNsOUIsR0FDbkUsSUFBSyxtQkFDTCxJQUFLLDZEQUNELFlBQVlnOUMsR0FBd0M5ZixFQUFjbDlCLEdBQ3RFLFFBQ0ksTUFBTXc0QixFQUFhMEUsRUFBYXA1QyxLQUNoQyxPQUFPLEdBQWtCLENBQ3JCNmMsU0FDQTYzQixXQUFZQSxFQUFXcmtDLE1BQ3ZCc2tDLGNBRVosRUFsQ1drbUIsQ0FBNkJoK0MsRUFBUVgsVUFFMUMsR0FBWVcsRUFBTzdjLEtBQU1rYyxHQUNkLENBQ2JTLFVBQVcsR0FBb0JFLEtDcjVDeEJpK0MsQ0FBd0JqK0MsRUFBUVgsRUFDM0MsTUMzQ0osMkJBQ1MsS0FBQTYrQyxXQUE0QixHQUM1QixLQUFBQyxpQkFBbUIsSUFBSXhDLEdBQWlCLENBQUMsRUFvQmxELFFBakJRLFlBQUF5QyxZQUFQLFNBQW1CQyxHQUNsQnpnRSxLQUFLc2dFLFdBQVcvNUQsS0FBS2s2RCxFQUN0QixFQUVhLFlBQUFDLGtCQUFiLCtwQ0FTQyxPQVJNQyxFQUF1QixJQUFJVCxHQUFxQixDQUNyRFAsVUFBV2g5QyxRQUFRQyxJQUFJZytDLHlCQUN2QmhCLFdBQVk1L0QsS0FBS3NnRSxhQUlsQjlyQyxRQUFRK0IsTUFBTSw2QkFBc0I3bUIsS0FBS0MsVUFBVWd4RCxFQUFxQnYzRCxNQUFPLEtBQU0sS0FFckYsR0FBTXBKLEtBQUt1Z0UsaUJBQWlCdHZCLEtBQUswdkIsa0JBQWpDLFNBRUEzZ0UsS0FBS3NnRSxXQUFhLDRTQUVwQixFQXRCQSxHQ0ZPLE1DQUQsR0FBSSxXQUFZLEdBQUksS0FBTSxHQUFJLE9BQVEsR0FBSSxNQUNoQyxHQUFJLFFBQVMsR0FBSSxnQkFBaUIsR0FBSSxRQUFTLEdBQUksV0FBWSxHQUFJLE9BQVEsR0FBSSxrQkFBbUIsR0FBSSxDQUFFLENBQUMsS0FBSSxFQUFPLEtBQVEsVUFBWSxHQUFJLENBQUUsQ0FBQyxLQUFJLEVBQU0sU0FBVyxFQUFPLEtBQVEsV0FBYSxHQUFJLENBQUUsQ0FBQyxJQUFJLFlBQWMsR0FBSSxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLFlBQWEsSUFBUyxHQUFJLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksaUJBQWtCLElBQVMsR0FBSSxDQUFDLEVBQUcsR0FBSSxDQUFFLENBQUMsSUFBSSxVQUFXLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLElBQUssaUJBQW1CLEdBQUksQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksRUFBQyxFQUFNLENBQUUsQ0FBQyxJQUFJLFVBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksSUFBSyx3QkFBMkIsR0FBSSxDQUFDLElBQUksR0FBSSxDQUFDLElBQUksR0FBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLFdBRTdmLEdBREMsQ0FBRTdsQyxRQUFTLE1BQU9qQyxXQUFZLENBQUV3cUIsT0FBUSxHQUFHQyxhQUFjLEdBQUdGLFFBQVMsR0FBR2hxQixTQUFVLElBQUtiLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBT3dCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxHQUFHajFCLE1BQU8sb0VBQXFFd2pCLEtBQU0sSUFBSyxDQUFFeVIsV0FBWSxHQUFHajFCLE1BQU8seUVBQTBFd2pCLEtBQU0sSUFBSyxDQUFFMlMsU0FBVSxDQUFFdEQsSUFBSyxHQUFHcEUsV0FBWSxHQUFHM1EsUUFBUyxJQUFLMEYsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXlSLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFNd0IsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksZ0JBQWlCLENBQUMsSUFBSSxHQUFHN3pCLE9BQVEsS0FBTXExQixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxHQUFHLElBQUl3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxFQUQ3bEIsRUFDaW1CLEtBQU0sSUFBSXdCLE1BQU8sQ0FBQyxDQUFFTixTQUFVLENBQUV0RCxJQUFLLG1FQUFvRXBFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV4akIsTUFBTyxrRkFBbUZ3akIsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXlSLFdBQVksR0FBR3dCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFEejZCLEtBQ203QndCLE1BQU8sQ0FBQyxDQUFFTixTQUFVLENBQUV0RCxJQUFLLDBEQUEyRHBFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV4akIsTUFBTywyREFBNER3akIsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXlSLFdBQVksR0FBR3dCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLElBQUl3QixNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSyw4REFBK0RwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8scUVBQXNFd2pCLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUUyUyxTQUFVLENBQUV0RCxJQUFLLHFEQUFzRHBFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXhqQixNQUFPLHdDQUF5Q3dqQixLQUFNLE1DQXZuRCxHQUEwQixDQUFDdVEsRUFBZ0IvVCxFQUFVLENBQUMsSUFDeEQ2VyxHQUFnQixHQUFTLENBQzVCOUMsZUFBZ0JBLEVBQ2hCNVQsT0FBUUgsRUFBUUcsU0NTakIsTUFBTWkvQyxXQUFrQixHQUMzQixXQUFBbitELEtBQWdCdStCLElBQ1osTUFDTWlyQixHSGpCa0NoK0MsRUlnQmhCLENBQUM0c0IsSUFDN0I4ZixHQUFnQ2o0QixRQUFROFgsU0FDeEMsTUFBTTR3QixFQUFlRCxHQUEwQnR3QixHQUN6Q3F4QixFQUF3QixJQUFNZCxJQUFlL2xELEtBQUtvMUMsSUFDbEQwUixFQ2ZzQixDQUFDdHhCLElBQ3RCLENBQ0h1eEIsV0FBWSxhQUNaQyxjQUFleHhCLEdBQVF3eEIsZUFBaUI3YSxHQUN4QzhhLGNBQWV6eEIsR0FBUXl4QixlQUFpQjdhLEdBQ3hDOGEsa0JBQW1CMXhCLEdBQVEweEIsb0JBQXFCLEVBQ2hEem9CLGlCQUFrQmpKLEdBQVFpSixrQkFBb0IsR0FDOUMwb0IsV0FBWTN4QixHQUFRMnhCLFlBQWMsR0FDbEM3cUMsT0FBUWtaLEdBQVFsWixRQUFVLElBQUl5ckIsR0FDOUJ4ZCxVQUFXaUwsR0FBUWpMLFdBQWEsTUFDaENtVixVQUFXbEssR0FBUWtLLFdBQWFwRCxHQUNoQzhxQixZQUFhNXhCLEdBQVE0eEIsYUFBZXpqRCxFQUNwQ2s1QyxZQUFhcm5CLEdBQVFxbkIsYUFBZXo5QixJREdiLENBQXVCb1csR0FFbEQsT0FEQSxHQUFnQm5ZLFFBQVE4WCxTQUNqQixJQUNBMnhCLEtBQ0F0eEIsRUFDSHJZLFFBQVMsT0FDVDRvQyxlQUNBN3VCLGtCQUFtQjFCLEdBQVEwQixtQkFBcUI4dEIsR0FDaERsN0IsMEJBQTJCMEwsR0FBUTFMLDJCQUE2QixHQUFrQyxJQUNsRzZMLHlCQUEwQkgsR0FBUUcsMEJBQzlCRCxHQUFpQixDQUFFbkwsVUFBV3U4QixFQUFtQnY4QixVQUFXMjVCLDBCQUNoRWxnQixZQUFheE8sR0FBUXdPLGFBQWUsR0FBZWtDLElBQ25EOWhCLE9BQVFvUixHQUFRcFIsUUFBVSxHQUFlb1MsR0FBNEJDLElBQ3JFM2EsZUFBZ0IwWixHQUFRMVosZ0JBQWtCLElBQUksR0FBZStxQyxHQUM3RHZnQixVQUFXOVEsR0FBUThRLFdBQ2YsR0FBZSxJQUNSQyxHQUNIcmpDLFFBQVN5WSxnQkFBbUJrckMsS0FBeUJ2Z0IsV0FBYW5HLEtBRTFFdGEsT0FBUTJQLEdBQVEzUCxRQUFVNitCLEdBQUsvTixLQUFLLEtBQU0sVUFDMUN4RyxnQkFBaUIzYSxHQUFRMmEsaUJBQW1CLEdBQzVDL2xCLHFCQUFzQm9MLEdBQVFwTCxzQkFBd0IsR0FBZTZMLElBQ3JFOUwsZ0JBQWlCcUwsR0FBUXJMLGlCQUFtQixHQUFlb00sSUFDOUQsRUQzQnFCLENBQW1Cb0YsR0FBaUIsQ0FBQyxHSGZwRCxJQUNBL3lCLEVBQ0h3aEIscUJBQXNCeGhCLEVBQVF3aEIsdUJBQXdCLEVBQ3RERCxnQkFBaUJ2aEIsRUFBUXVoQixrQkFBbUIsRUFDNUNRLG1CQUFvQixRQUxtQixJQUFDL2hCLEVHa0J4QyxNQUFNeStDLEVBQVl4d0IsR0FBb0IrdkIsR0FDaENVLEVBQVl4bkIsR0FBc0J1bkIsR0FDbENzTixFQUFZdnVCLEdBQW1Ca2hCLEdBSS9CNk0sRUdwQjBCLEVBQUN0N0MsRUFBZXN1QyxLQUNwRCxNQUFNSyxFQUF5QixJQUNkbEIsR0FBbUN6dEMsTUFDbkNzOUIsR0FBaUN0OUIsTUFDakNELEVBQXFDQyxJQUd0RCxPQURBc3VDLEVBQVdyZSxTQUFTMmUsR0FBY0EsRUFBVUMsVUFBVUYsS0FDL0MsSUFDQTN1QyxLQUNBNHRDLEdBQXVDZSxNQUN2QyxHQUE0QkEsTUFDNUJydUMsRUFBZ0NxdUMsR0FDdEMsRUhRcUIsQ0FEQTc2QixHQURBaEQsR0FEd0JnckMsSUFHWWg1QixHQUFld3JCLFlBQWMsSUFDbkZ6NUIsTUFBTXltQyxHQUNOejVELEtBQUs4NkIsT0FBUzIrQixFQUNkejVELEtBQUtneEMsZ0JBQWdCdEIsSUFBSWpELEdBQWV6c0MsS0FBSzg2QixTQUM3Qzk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUluVCxHQUF1QnY4QixLQUFLODZCLFNBQ3JEOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSTV1QixFQUFvQjlnQixLQUFLODZCLFNBQ2xEOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSWx1QixFQUFnQnhoQixLQUFLODZCLFNBQzlDOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSWx0QixFQUE0QnhpQixLQUFLODZCLFNBQzFEOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSTFlLEdBQWlCaHhCLEtBQUs4NkIsU0FDL0M5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJN1UsR0FBbUI3NkIsS0FBSzg2QixRQUNyRCxDQUNBLE9BQUF5VyxHQUNJdmUsTUFBTXVlLFNBQ1YsRUluQ0csTUFBTXV2QixXQUE0QixHQUNyQyxXQUFBcCtELENBQVl3TCxHQUNSOGtCLE1BQU05a0IsR0FDTjFPLE9BQU8yQyxlQUFlbkMsS0FBTThnRSxHQUFvQjNnRSxVQUNwRCxFQ0xHLE1BQU00Z0UsV0FBc0MsR0FDL0MsV0FBQXIrRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sZ0NBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyxnQ0FDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTStnRSxHQUE4QjVnRSxVQUM5RCxFQWdIRyxNQUFNNmdFLFdBQThDLEdBQ3ZELFdBQUF0K0QsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLHdDQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sd0NBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU1naEUsR0FBc0M3Z0UsV0FDbEVILEtBQUtpaEUscUJBQXVCcmpCLEVBQUtxakIsb0JBQ3JDLEVBRUcsTUFBTUMsV0FBK0MsR0FDeEQsV0FBQXgrRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0seUNBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyx5Q0FDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTWtoRSxHQUF1Qy9nRSxXQUNuRUgsS0FBS2loRSxxQkFBdUJyakIsRUFBS3FqQixvQkFDckMsRUE4VUcsTUFBTUUsV0FBMkMsR0FDcEQsV0FBQXorRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0scUNBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyxxQ0FDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTW1oRSxHQUFtQ2hoRSxVQUNuRSxFQUVHLE1BQU1paEUsV0FBd0IsR0FDakMsV0FBQTErRCxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sa0JBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyxrQkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTW9oRSxHQUFnQmpoRSxVQUNoRCxFQ2xmRyxNQTQ0RkRraEUsR0FBc0NwZ0QsTUFBTzA5QixFQUFjbDlCLEtBQzdELE1BQU1sYyxFQUFPbzVDLEVBQWFwNUMsS0FDcEJxNUMsRUFBZTBpQixHQUFpQy83RCxFQUFLcVEsTUFBTzZMLEdBQzVEbTRCLEVBQVksSUFBSW1uQixHQUE4QixDQUNoRDcrQyxVQUFXLEdBQW9CeThCLE1BQzVCQyxJQUVQLE9BQU8sR0FBMkJoRixFQUFXcjBDLEVBQUssRUE2QmhEZzhELEdBQThDdGdELE1BQU8wOUIsRUFBY2w5QixLQUNyRSxNQUFNbGMsRUFBT281QyxFQUFhcDVDLEtBQ3BCcTVDLEVBQWU0aUIsR0FBeUNqOEQsRUFBS3FRLE1BQU82TCxHQUNwRW00QixFQUFZLElBQUlvbkIsR0FBc0MsQ0FDeEQ5K0MsVUFBVyxHQUFvQnk4QixNQUM1QkMsSUFFUCxPQUFPLEdBQTJCaEYsRUFBV3IwQyxFQUFLLEVBRWhEazhELEdBQStDeGdELE1BQU8wOUIsRUFBY2w5QixLQUN0RSxNQUFNbGMsRUFBT281QyxFQUFhcDVDLEtBQ3BCcTVDLEVBQWU4aUIsR0FBMENuOEQsRUFBS3FRLE1BQU82TCxHQUNyRW00QixFQUFZLElBQUlzbkIsR0FBdUMsQ0FDekRoL0MsVUFBVyxHQUFvQnk4QixNQUM1QkMsSUFFUCxPQUFPLEdBQTJCaEYsRUFBV3IwQyxFQUFLLEVBNktoRG84RCxHQUEyQzFnRCxNQUFPMDlCLEVBQWNsOUIsS0FDbEUsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFlZ2pCLEdBQXNDcjhELEVBQUtxUSxNQUFPNkwsR0FDakVtNEIsRUFBWSxJQUFJdW5CLEdBQW1DLENBQ3JEai9DLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQUVoRHM4RCxHQUF3QjVnRCxNQUFPMDlCLEVBQWNsOUIsS0FDL0MsTUFBTWxjLEVBQU9vNUMsRUFBYXA1QyxLQUNwQnE1QyxFQUFla2pCLEdBQW1CdjhELEVBQUtxUSxNQUFPNkwsR0FDOUNtNEIsRUFBWSxJQUFJd25CLEdBQWdCLENBQ2xDbC9DLFVBQVcsR0FBb0J5OEIsTUFDNUJDLElBRVAsT0FBTyxHQUEyQmhGLEVBQVdyMEMsRUFBSyxFQTJFaER3OEQsR0FBaUIsQ0FBQzM0RCxFQUFPcVksS0FDM0IsTUFBTThTLEVBQVUsQ0FBQyxFQUNqQixJQUFJdXNCLEVBQVUsRUFDZCxJQUFLLE1BQU16UyxLQUFTamxDLEVBQ0YsT0FBVmlsQyxJQUdKOVosRUFBUSxVQUFVdXNCLEtBQWF6UyxFQUMvQnlTLEtBRUosT0FBT3ZzQixDQUFPLEVBd0xaeXRDLEdBQWEsQ0FBQzU0RCxFQUFPcVksS0FDdkIsTUFBTThTLEVBQVUsQ0FBQyxFQU9qQixPQU5rQixNQUFkbnJCLEVBQU02NEQsT0FDTjF0QyxFQUFjLEtBQUluckIsRUFBTTY0RCxNQUVQLE1BQWpCNzRELEVBQU04NEQsVUFDTjN0QyxFQUFpQixRQUFJbnJCLEVBQU04NEQsU0FFeEIzdEMsQ0FBTyxFQTZqQlo0dEMsR0FBZ0IsQ0FBQy80RCxFQUFPcVksS0FDMUIsTUFBTThTLEVBQVUsQ0FBQyxFQU9qQixPQU5rQixNQUFkbnJCLEVBQU13MUQsT0FDTnJxQyxFQUFjLEtBQUluckIsRUFBTXcxRCxNQUVULE1BQWZ4MUQsRUFBTWk0QyxRQUNOOXNCLEVBQWUsTUFBSW5yQixFQUFNaTRDLE9BRXRCOXNCLENBQU8sRUFnWVo2dEMsR0FBc0IsQ0FBQ2g1RCxFQUFPcVksS0FDaEMsTUFBTThTLEVBQVUsQ0FBQyxFQUlqQixHQUhvQixNQUFoQm5yQixFQUFNaTVELFNBQ045dEMsRUFBZ0IsT0FBSW5yQixFQUFNaTVELFFBRUwsTUFBckJqNUQsRUFBTWs1RCxZQUFxQixDQUMzQixNQUFNeGlCLEVBM3RCUyxFQUFDMTJDLEVBQU9xWSxLQUMzQixNQUFNOFMsRUFBVSxDQUFDLEVBQ2pCLEdBQXlCLE1BQXJCbnJCLEVBQU1tNUQsWUFBcUIsQ0FDM0IsTUFBTXppQixFQUFnQmlpQixHQUFlMzRELEVBQU1tNUQsYUFDVCxJQUE5Qm41RCxFQUFNbTVELGFBQWFwL0QsU0FDbkJveEIsRUFBUWd1QyxZQUFjLElBRTFCL2lFLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUV6QzQwQixFQURZLGVBQWUxd0IsS0FDWmxFLENBQUssR0FFNUIsQ0FDQSxHQUF5QixNQUFyQnlKLEVBQU1vNUQsWUFBcUIsQ0FDM0IsTUFBTTFpQixFQUFnQmlpQixHQUFlMzRELEVBQU1vNUQsYUFDVCxJQUE5QnA1RCxFQUFNbzVELGFBQWFyL0QsU0FDbkJveEIsRUFBUWl1QyxZQUFjLElBRTFCaGpFLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUV6QzQwQixFQURZLGVBQWUxd0IsS0FDWmxFLENBQUssR0FFNUIsQ0FDQSxHQUEwQixNQUF0QnlKLEVBQU1xNUQsYUFBc0IsQ0FDNUIsTUFBTTNpQixFQUFnQmlpQixHQUFlMzRELEVBQU1xNUQsY0FDUixJQUEvQnI1RCxFQUFNcTVELGNBQWN0L0QsU0FDcEJveEIsRUFBUWt1QyxhQUFlLElBRTNCampFLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUV6QzQwQixFQURZLGdCQUFnQjF3QixLQUNibEUsQ0FBSyxHQUU1QixDQUNBLE9BQU80MEIsQ0FBTyxFQTJyQlltdUMsQ0FBZXQ1RCxFQUFNazVELGFBQzNDOWlFLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUV6QzQwQixFQURZLGVBQWUxd0IsS0FDWmxFLENBQUssR0FFNUIsQ0FDQSxHQUFxQixNQUFqQnlKLEVBQU0wd0MsUUFBaUIsQ0FDdkIsTUFBTWdHLEVBM2JLLEVBQUMxMkMsRUFBT3FZLEtBQ3ZCLE1BQU04UyxFQUFVLENBQUMsRUFDakIsR0FBcUIsTUFBakJuckIsRUFBTXU1RCxRQUFpQixDQUN2QixNQUFNN2lCLEVBQWdCa2lCLEdBQVc1NEQsRUFBTXU1RCxTQUN2Q25qRSxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxXQUFXMXdCLEtBQ1JsRSxDQUFLLEdBRTVCLENBQ0EsR0FBa0IsTUFBZHlKLEVBQU13NUQsS0FBYyxDQUNwQixNQUFNOWlCLEVBL3RCRSxFQUFDMTJDLEVBQU9xWSxLQUNwQixNQUFNOFMsRUFBVSxDQUFDLEVBQ2pCLEdBQWtCLE1BQWRuckIsRUFBTXk1RCxLQUFjLENBQ3BCLE1BQU0vaUIsRUFBZ0JraUIsR0FBVzU0RCxFQUFNeTVELE1BQ3ZDcmpFLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUV6QzQwQixFQURZLFFBQVExd0IsS0FDTGxFLENBQUssR0FFNUIsQ0FDQSxHQUFrQixNQUFkeUosRUFBTTA1RCxLQUFjLENBQ3BCLE1BQU1oakIsRUFBZ0JraUIsR0FBVzU0RCxFQUFNMDVELE1BQ3ZDdGpFLE9BQU8rMEIsUUFBUXVyQixHQUFlMVIsU0FBUSxFQUFFdnFDLEVBQUtsRSxNQUV6QzQwQixFQURZLFFBQVExd0IsS0FDTGxFLENBQUssR0FFNUIsQ0FDQSxPQUFPNDBCLENBQU8sRUErc0JZd3VDLENBQVEzNUQsRUFBTXc1RCxNQUNwQ3BqRSxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxRQUFRMXdCLEtBQ0xsRSxDQUFLLEdBRTVCLENBQ0EsT0FBTzQwQixDQUFPLEVBMmFZeXVDLENBQVc1NUQsRUFBTTB3QyxTQUN2Q3Q2QyxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxXQUFXMXdCLEtBQ1JsRSxDQUFLLEdBRTVCLENBQ0EsR0FBOEIsTUFBMUJ5SixFQUFNNjVELGlCQUEwQixDQUNoQyxNQUFNbmpCLEVBQWdCaWlCLEdBQWUzNEQsRUFBTTY1RCxrQkFDSixJQUFuQzc1RCxFQUFNNjVELGtCQUFrQjkvRCxTQUN4Qm94QixFQUFRMHVDLGlCQUFtQixJQUUvQnpqRSxPQUFPKzBCLFFBQVF1ckIsR0FBZTFSLFNBQVEsRUFBRXZxQyxFQUFLbEUsTUFFekM0MEIsRUFEWSxvQkFBb0Ixd0IsS0FDakJsRSxDQUFLLEdBRTVCLENBVUEsR0FUd0IsTUFBcEJ5SixFQUFNODVELGFBQ04zdUMsRUFBb0IsV0FBSW5yQixFQUFNODVELFlBRVgsTUFBbkI5NUQsRUFBTSs1RCxZQUNONXVDLEVBQW1CLFVBQUluckIsRUFBTSs1RCxXQUVOLE1BQXZCLzVELEVBQU1nNkQsZ0JBQ043dUMsRUFBdUIsY0FBSW5yQixFQUFNZzZELGVBRW5CLE1BQWRoNkQsRUFBTTgyQyxLQUFjLENBQ3BCLE1BQU1KLEVBcmFZLEVBQUMxMkMsRUFBT3FZLEtBQzlCLE1BQU04UyxFQUFVLENBQUMsRUFDakIsSUFBSXVzQixFQUFVLEVBQ2QsSUFBSyxNQUFNelMsS0FBU2psQyxFQUFPLENBQ3ZCLEdBQWMsT0FBVmlsQyxFQUNBLFNBRUosTUFBTXlSLEVBQWdCcWlCLEdBQWM5ekIsR0FDcEM3dUMsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BQ3pDNDBCLEVBQVEsVUFBVXVzQixLQUFXajlDLEtBQVNsRSxDQUFLLElBRS9DbWhELEdBQ0osQ0FDQSxPQUFPdnNCLENBQU8sRUF3Wlk4dUMsQ0FBa0JqNkQsRUFBTTgyQyxNQUNuQixJQUF2QjkyQyxFQUFNODJDLE1BQU0vOEMsU0FDWm94QixFQUFRMnJCLEtBQU8sSUFFbkIxZ0QsT0FBTyswQixRQUFRdXJCLEdBQWUxUixTQUFRLEVBQUV2cUMsRUFBS2xFLE1BRXpDNDBCLEVBRFksUUFBUTF3QixLQUNMbEUsQ0FBSyxHQUU1QixDQUlBLE9BSGtDLE1BQTlCeUosRUFBTTYzRCx1QkFDTjFzQyxFQUE4QixxQkFBSW5yQixFQUFNNjNELHNCQUVyQzFzQyxDQUFPLEVBOFhaK3NDLEdBQW1DLENBQUNsL0MsRUFBUVgsS0FDOUMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFrSWJpZ0IsR0FBMkMsQ0FBQ3AvQyxFQUFRWCxLQUN0RCxNQUFNOC9CLEVBQVcsQ0FBQyxFQU9sQixZQU51QzE2QyxJQUFuQ3ViLEVBQTZCLHVCQUM3Qm0vQixFQUFTMGYscUJBQXVCLEdBQWU3K0MsRUFBNkIsNEJBRXREdmIsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUFTYm1nQixHQUE0QyxDQUFDdC9DLEVBQVFYLEtBQ3ZELE1BQU04L0IsRUFBVyxDQUFDLEVBT2xCLFlBTnVDMTZDLElBQW5DdWIsRUFBNkIsdUJBQzdCbS9CLEVBQVMwZixxQkFBdUIsR0FBZTcrQyxFQUE2Qiw0QkFFdER2YixJQUF0QnViLEVBQWdCLFVBQ2hCbS9CLEVBQVMvd0MsUUFBVSxHQUFlNFIsRUFBZ0IsVUFFL0NtL0IsQ0FBUSxFQTZyQmJxZ0IsR0FBd0MsQ0FBQ3gvQyxFQUFRWCxLQUNuRCxNQUFNOC9CLEVBQVcsQ0FBQyxFQUlsQixZQUgwQjE2QyxJQUF0QnViLEVBQWdCLFVBQ2hCbS9CLEVBQVMvd0MsUUFBVSxHQUFlNFIsRUFBZ0IsVUFFL0NtL0IsQ0FBUSxFQUVidWdCLEdBQXFCLENBQUMxL0MsRUFBUVgsS0FDaEMsTUFBTTgvQixFQUFXLENBQUMsRUFJbEIsWUFIMEIxNkMsSUFBdEJ1YixFQUFnQixVQUNoQm0vQixFQUFTL3dDLFFBQVUsR0FBZTRSLEVBQWdCLFVBRS9DbS9CLENBQVEsRUF5ZWIsR0FBdUJuL0IsSUFBVyxDQUNwQzJqQixlQUFnQjNqQixFQUFPN0IsV0FDdkJnNkIsVUFBV240QixFQUFPN0MsUUFBUSxxQkFBdUI2QyxFQUFPN0MsUUFBUSxzQkFBd0I2QyxFQUFPN0MsUUFBUSxvQkFDdkdpN0Isa0JBQW1CcDRCLEVBQU83QyxRQUFRLGNBQ2xDazdCLEtBQU1yNEIsRUFBTzdDLFFBQVEsaUJBR25CLEdBQW9CdzZCLEdBQWtCLElBbUJ0QyxHQUFpQixDQUNuQixlQUFnQixxQ0FFZCxHQUFZLENBQUN4RSxFQUFZOXpCLElBdkJMLEVBQUM4ekIsRUFBWTl6QixJQUFZLEdBQVk4ekIsRUFBWTl6QixHQUFTbmMsTUFBTUMsR0FBU2tjLEVBQVEwZ0MsWUFBWTU4QyxLQXVCNUUsQ0FBa0Jnd0MsRUFBWTl6QixHQUFTbmMsTUFBTTJGLElBQ3BGLEdBQUlBLEVBQVE5SCxPQUFRLENBQ2hCLE1BQU1rL0MsRUFBUyxJQUFJLEdBQUE3MkMsVUFBVSxDQUN6QnFGLG9CQUFxQixHQUNyQm1HLGNBQWMsRUFDZGhHLGtCQUFrQixFQUNsQmlHLG1CQUFtQixFQUNuQlQsZUFBZSxFQUNmRSxZQUFZLEVBQ1puRixrQkFBbUIsQ0FBQzVMLEVBQUdpTSxJQUF3QixLQUFmQSxFQUFJbEQsUUFBaUJrRCxFQUFJeUQsU0FBUyxNQUFRLFFBQUt4TyxJQUVuRnc3QyxFQUFPdm1DLFVBQVUsTUFBTyxNQUN4QnVtQyxFQUFPdm1DLFVBQVUsTUFBTyxNQUN4QixNQUFNd21DLEVBQVlELEVBQU8zbUMsTUFBTXpRLEdBQ3pCOEYsRUFBZSxRQUNmbE4sRUFBTXJFLE9BQU8yTSxLQUFLbTJDLEdBQVcsR0FDN0JDLEVBQW9CRCxFQUFVeitDLEdBS3BDLE9BSkkwK0MsRUFBa0J4eEMsS0FDbEJ3eEMsRUFBa0IxK0MsR0FBTzArQyxFQUFrQnh4QyxVQUNwQ3d4QyxFQUFrQnh4QyxJQUV0QixHQUF1Qnd4QyxFQUNsQyxDQUNBLE1BQU8sQ0FBQyxDQUFDLElBRVAsR0FBaUJ0aEMsTUFBT3doQyxFQUFXaGhDLEtBQ3JDLE1BQU05aEIsUUFBYyxHQUFVOGlELEVBQVdoaEMsR0FJekMsT0FISTloQixFQUFNaVcsUUFDTmpXLEVBQU1pVyxNQUFNcEYsUUFBVTdRLEVBQU1pVyxNQUFNcEYsU0FBVzdRLEVBQU1pVyxNQUFNa2tDLFNBRXREbjZDLENBQUssRUFLVixHQUFxQixDQUFDeWlCLEVBQVF0aEIsU0FDUCtGLElBQXJCL0YsRUFBSzhVLE9BQU95a0MsS0FDTHY1QyxFQUFLOFUsTUFBTXlrQyxLQUVHLEtBQXJCajRCLEVBQU83QixXQUNBLGdCQURYLEVDN3BNRyxNQUFNK2lELFdBQXlCLEdBQ2xDLHVDQUFPaGhDLEdBQ0gsTUFBTyxDQUNIeWdCLFFBQVMsQ0FBRTk5QixLQUFNLGdCQUFpQnBTLEtBQU0sbUJBQ3hDa21CLFNBQVUsQ0FBRTlULEtBQU0sZ0JBQWlCcFMsS0FBTSxZQUN6Q213QyxPQUFRLENBQUUvOUIsS0FBTSxnQkFBaUJwUyxLQUFNLFVBQ3ZDb3dDLGFBQWMsQ0FBRWgrQixLQUFNLGdCQUFpQnBTLEtBQU0sd0JBRXJELENBQ0EsV0FBQW5RLENBQVkwRyxHQUNSNHBCLFFBQ0FoekIsS0FBS29KLE1BQVFBLENBQ2pCLENBQ0EsaUJBQUFrb0MsQ0FBa0J0d0IsRUFBYWlnQixFQUFlL3lCLEdBQzFDbE8sS0FBS2d4QyxnQkFBZ0J0QixJQUFJaEwsR0FBZXpELEVBQWVqaEMsS0FBS3l3QyxVQUFXendDLEtBQUsyd0MsY0FDNUUzd0MsS0FBS2d4QyxnQkFBZ0J0QixJQUFJdkssR0FBa0JsRSxFQUFlcWlDLEdBQWlCaGhDLHFDQUMzRSxNQUFNaU0sRUFBUXZ0QixFQUFZOVosT0FBT2xILEtBQUtneEMsa0JBQ2hDLE9BQUVwdkIsR0FBV3FmLEVBR2JpaUIsRUFBMEIsQ0FDNUJ0aEMsU0FDQUYsV0FKZSxZQUtmQyxZQUpnQixtQkFLaEJLLHdCQUEwQnJjLEdBQU1BLEVBQ2hDc2MseUJBQTJCdGMsR0FBTUEsRUFDakMsQ0FBQ3FaLEdBQXFCLENBQ2xCMkssUUFBUyxxQkFDVHc1QixVQUFXLGVBR2IsZUFBRS9oQyxHQUFtQjZmLEVBQzNCLE9BQU9zTixFQUFNdnBDLFNBQVMrYSxHQUFZcUIsRUFBZXd4QixPQUFPN3lCLEVBQVFBLFFBQVM3UixHQUFXLENBQUMsSUFBSWcxQyxFQUM3RixDQUNBLFNBQUF6UyxDQUFVcm5DLEVBQU9xWSxHQUNiLE1Eb2IyQlIsT0FBTzdYLEVBQU9xWSxLQUM3QyxNQUFNbEMsRUFBVSxHQUNoQixJQUFJaGEsRUFNSixPQXVyTCtCbzlDLEVBNXJMRSxJQUMxQnlmLEdBQW9CaDVELEdBQ3ZCZzZDLE9BQVEsWUFDUkMsUUFBUyxjQUhiOTlDLEVBNHJMK0MvRixPQUFPKzBCLFFBQVFvdUIsR0FDN0R6M0MsS0FBSSxFQUFFckgsRUFBS2xFLEtBQVcsR0FBNkJrRSxHQUFPLElBQU0sR0FBNkJsRSxLQUM3RjBMLEtBQUssS0F2RGtCNFYsT0FBT1EsRUFBU2xDLEVBQVNHLEVBQU1xaUMsRUFBa0J4OEMsS0FDekUsTUFBTSxTQUFFNlosRUFBUSxTQUFFSSxFQUFXLFFBQU8sS0FBRUgsRUFBTUssS0FBTXNpQyxTQUFtQnZnQyxFQUFRbVcsV0FDdkUycEIsRUFBVyxDQUNiL2hDLFdBQ0FKLFdBQ0FDLE9BQ0FGLE9BQVEsT0FDUk8sS0FBTXNpQyxFQUFTNXNDLFNBQVMsS0FBTzRzQyxFQUFTdmlDLE1BQU0sR0FBSSxHQUFLQyxFQUFPc2lDLEVBQVd0aUMsRUFDekVILFdBUUosWUFOeUIxWSxJQUFyQms3QyxJQUNBUixFQUFTbmlDLFNBQVcyaUMsUUFFWGw3QyxJQUFUdEIsSUFDQWc4QyxFQUFTaDhDLEtBQU9BLEdBRWIsSUFBSSxFQUFjZzhDLEVBQVMsRUFscEwzQixDQUFvQjkvQixFQUFTbEMsRUFBUyxTQUFLMVksRUFBV3RCLEdBdXJML0IsSUFBQ285QyxDQXZyTG1DLEVDNWJ2RDRnQixDQUFvQm42RCxFQUFPcVksRUFDdEMsQ0FDQSxXQUFBa3ZCLENBQVl2dUIsRUFBUVgsR0FDaEIsTURzbkUyQlIsT0FBT21CLEVBQVFYLEtBQzlDLEdBQUlXLEVBQU83QixZQUFjLElBQ3JCLE1BV3lCVSxPQUFPbUIsRUFBUVgsS0FDNUMsTUFBTWs5QixFQUFlLElBQ2R2OEIsRUFDSDdjLFdBQVksR0FBZTZjLEVBQU83YyxLQUFNa2MsSUFFdEN5NEIsRUFBWSxHQUFtQjkzQixFQUFRdThCLEVBQWFwNUMsTUFDMUQsT0FBUTIwQyxHQUNKLElBQUssZ0NBQ0wsSUFBSyxrREFDRCxZQUFZbW5CLEdBQW9DMWlCLEVBQWNsOUIsR0FDbEUsSUFBSywrQkFDTCxJQUFLLDBEQUNELFlBQVk4L0MsR0FBNEM1aUIsRUFBY2w5QixHQUMxRSxJQUFLLHlDQUNMLElBQUssMkRBQ0QsWUFBWWdnRCxHQUE2QzlpQixFQUFjbDlCLEdBQzNFLElBQUsscUNBQ0wsSUFBSyx1REFDRCxZQUFZa2dELEdBQXlDaGpCLEVBQWNsOUIsR0FDdkUsSUFBSyxrQkFDTCxJQUFLLG9DQUNELFlBQVlvZ0QsR0FBc0JsakIsRUFBY2w5QixHQUNwRCxRQUNJLE1BQU13NEIsRUFBYTBFLEVBQWFwNUMsS0FDaEMsT0FBTyxHQUFrQixDQUNyQjZjLFNBQ0E2M0IsV0FBWUEsRUFBV3JrQyxNQUN2QnNrQyxjQUVaLEVBeENXc3BCLENBQXlCcGhELEVBQVFYLEdBRzVDLElBQUk4L0IsRUFBVyxDQUFDLEVBTWhCLE9BTEFBLEVBK3RIeUIsRUFBQ24vQixFQUFRWCxLQUNsQyxNQUFNOC9CLEVBQVcsQ0FBQyxFQUlsQixZQUg0QjE2QyxJQUF4QnViLEVBQWtCLFlBQ2xCbS9CLEVBQVNraUIsVUFBWSxHQUFlcmhELEVBQWtCLFlBRW5EbS9CLENBQVEsRUFwdUhKbWlCLFFBRlEsR0FBVXRoRCxFQUFPN2MsS0FBTWtjLElBRUxraUQsaUJBQ3BCLENBQ2J6aEQsVUFBVyxHQUFvQkUsTUFDNUJtL0IsRUFFUSxFQ2pvRUpxaUIsQ0FBb0J4aEQsRUFBUVgsRUFDdkMsTUNyQlFvaUQsR0NyQlosMkJBQ1MsS0FBQUMsVUFBWSxJQUFJakQsR0FBVSxDQUFDLEdBQzNCLEtBQUFrRCxpQkFBbUIsSUFBSTV3RCxLQUFLLEdBQUc2d0QsZ0JBaUR4QyxRQS9DYyxZQUFBQyxXQUFiLFNBQXdCckcsNnBDQTZDdkIsT0EzQ0FwcEMsUUFBUStCLE1BQU0sb0JBQWE3bUIsS0FBS0MsVUFBVWl1RCxFQUFNLEtBQU0sS0FHaERzRyxFQUNMdEcsRUFBS3NHLFdBQVdGLG1CQUFxQmhrRSxLQUFLK2pFLGlCQUN2QywwQkFBbUJwaEQsUUFBUUMsSUFBSXVoRCxXQUFVLFNBQ3pDdkcsRUFBS3NHLFdBQVdFLHFCQUVkQyxFQUFVLDZCQUFzQnpHLEVBQUtqK0MsU0FBUSx1QkFBZWdELFFBQVFDLElBQUkwaEQsYUFBWSxvQkFDcEYvK0QsRUFBTywrSUFDaUJxNEQsRUFBS2orQyxTQUFRLDRFQUNrQmdELFFBQVFDLElBQUl1aEQsV0FBVSw4RUFDekJELEVBQVUsNGRBT2hEdmhELFFBQVFDLElBQUkyaEQsYUFBWSxzQ0FDekI1aEQsUUFBUUMsSUFBSTBoRCxhQUFZLHFDQUN6QjFHLEVBQUtkLFFBQU8sOEJBQ25CYyxFQUFLNEcsTUFBSyxpRkFFK0I3aEQsUUFBUUMsSUFBSTZoRCxRQUFPLGFBQUs5aEQsUUFBUUMsSUFBSTZoRCxRQUFPLHFFQUd6RkMsRUFBbUIsSUFBSXBCLEdBQWlCLENBQzdDakIsT0FBUSxVQUFHMS9DLFFBQVFDLElBQUkwaEQsYUFBWSx3Q0FBZ0MzaEQsUUFBUUMsSUFBSXpaLEtBQUksS0FDbkZtNUQsWUFBYSxDQUNaQyxZQUFhLENBQUMzRSxFQUFLNEcsT0FDbkJoQyxZQUFhOXlELEtBQUtnTSxNQUFNaUgsUUFBUUMsSUFBSStoRCxLQUVyQzFCLGlCQUFrQixDQUFDdGdELFFBQVFDLElBQUlnaUQsU0FDL0J6QixVQUFXeGdELFFBQVFDLElBQUlpaUQsT0FDdkIvcUIsUUFBUyxDQUNSNm9CLFFBQVMsQ0FBRVYsS0FBTW9DLEdBQ2pCekIsS0FBTSxDQUNMRSxLQUFNLENBQUViLEtBQU0xOEQsT0FLakIsR0FBTXZGLEtBQUs4akUsVUFBVTd5QixLQUFLeXpCLGtCQUExQixrVEFFRixFQW5EQSxHRERBLEdBVUMsU0FBWUksR0FDWDlrRSxLQUFLczVCLElBQU13ckMsRUFBZXJqQixJQUMxQnpoRCxLQUFLd2tFLE1BQVFNLEVBQWVDLE1BQzVCL2tFLEtBQUs2OEQsS0FBT2dILEdBQWVpQixFQUFlRSxNQUMxQ2hsRSxLQUFLMmYsU0FBV21sRCxFQUFlRyxTQUMvQmpsRSxLQUFLa2xFLFFBQTRCLFFBQWxCbGxFLEtBQUsyZixTQUNkLE1BQXdCM2YsS0FBSzJmLFNBQVNoUCxNQUFNLEtBQTNDbXNELEVBQU8sS0FBRUMsRUFBVSxLQUMxQi84RCxLQUFLODhELFFBQVVBLEVBQ2Y5OEQsS0FBSys4RCxXQUFhQSxDQUNuQixHQUdELFNBQVk4RyxHQUNYLGtCQUFtQixrQkFBbUIsZUFDdEMsQ0FGRCxDQUFZQSxLQUFBQSxHQUFjLEtFeEJuQixNQ0FELEdBQUksV0FBWSxHQUFJLEtBQU0sR0FBSSxPQUFRLEdBQUksTUFDaEMsR0FBSSxRQUFTLEdBQUksZ0JBQWlCLEdBQUksUUFBUyxHQUFJLFdBQVksR0FBSSxPQUFRLEdBQUksa0JBQW1CLEdBQUksQ0FBRSxDQUFDLEtBQUksRUFBTyxLQUFRLFVBQVksR0FBSSxDQUFFLENBQUMsS0FBSSxFQUFNLFNBQVcsRUFBTyxLQUFRLFdBQWEsR0FBSSxDQUFFLENBQUMsSUFBSSxZQUFjLEdBQUksQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxZQUFhLElBQVMsR0FBSSxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLGlCQUFrQixJQUFTLEdBQUksQ0FBQyxFQUFHLEdBQUksQ0FBRSxDQUFDLElBQUksVUFBVyxDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxJQUFLLGlCQUFtQixHQUFJLENBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEVBQUMsRUFBTSxDQUFFLENBQUMsSUFBSSxVQUFXLENBQUMsSUFBSSxDQUFDLENBQUUsQ0FBQyxJQUFJLElBQUssd0JBQTJCLEdBQUksQ0FBQyxJQUFJLEdBQUksQ0FBQyxJQUFJLEdBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxXQUU3ZixHQURDLENBQUVwcEMsUUFBUyxNQUFPakMsV0FBWSxDQUFFd3FCLE9BQVEsR0FBR0MsYUFBYyxHQUFHRixRQUFTLEdBQUdocUIsU0FBVSxJQUFLYixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU93QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksR0FBR2oxQixNQUFPLG9FQUFxRXdqQixLQUFNLElBQUssQ0FBRXlSLFdBQVksR0FBR2oxQixNQUFPLHlFQUEwRXdqQixLQUFNLElBQUssQ0FBRTJTLFNBQVUsQ0FBRXRELElBQUssR0FBR3BFLFdBQVksR0FBRzNRLFFBQVMsSUFBSzBGLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksS0FBTXdCLE1BQU8sQ0FBQyxDQUFFeEIsV0FBWSxDQUFDLENBQUUsQ0FBQyxJQUFJLGdCQUFpQixDQUFDLElBQUksR0FBRzd6QixPQUFRLEtBQU1xMUIsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsR0FBRyxJQUFJd0IsTUFBTyxDQUFDLENBQUV4QixXQUFZLENBQUMsQ0FBRSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksRUFEN2xCLEVBQ2ltQixLQUFNLElBQUl3QixNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSyx3RUFBeUVwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8sa0ZBQW1Gd2pCLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLEdBQUd3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxDQUFFLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLElBRDk2QixLQUN3N0J3QixNQUFPLENBQUMsQ0FBRU4sU0FBVSxDQUFFdEQsSUFBSywrREFBZ0VwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFeGpCLE1BQU8sMkRBQTREd2pCLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV5UixXQUFZLEdBQUd3QixNQUFPLENBQUMsQ0FBRXhCLFdBQVksQ0FBQyxJQUFJd0IsTUFBTyxDQUFDLENBQUVOLFNBQVUsQ0FBRXRELElBQUssbUVBQW9FcEUsV0FBWSxHQUFHM1EsUUFBUyxJQUFLMEYsS0FBTSxLQUFNQSxLQUFNLElBQUssQ0FBRXhqQixNQUFPLHFFQUFzRXdqQixLQUFNLEtBQU1BLEtBQU0sSUFBSyxDQUFFMlMsU0FBVSxDQUFFdEQsSUFBSywwREFBMkRwRSxXQUFZLEdBQUczUSxRQUFTLElBQUswRixLQUFNLEtBQU1BLEtBQU0sS0FBTUEsS0FBTSxJQUFLLENBQUV4akIsTUFBTyx3Q0FBeUN3akIsS0FBTSxNQ0Ezb0QsR0FBMEIsQ0FBQ3VRLEVBQWdCL1QsRUFBVSxDQUFDLElBQ3hENlcsR0FBZ0IsR0FBUyxDQUM1QjlDLGVBQWdCQSxFQUNoQjVULE9BQVFILEVBQVFHLFNDU2pCLE1BQU11akQsV0FBeUIsR0FDbEMsV0FBQXppRSxLQUFnQnUrQixJQUNaLE1BQ01pckIsR0hqQmtDaCtDLEVJZ0JoQixDQUFDNHNCLElBQzdCOGYsR0FBZ0NqNEIsUUFBUThYLFNBQ3hDLE1BQU00d0IsRUFBZUQsR0FBMEJ0d0IsR0FDekNxeEIsRUFBd0IsSUFBTWQsSUFBZS9sRCxLQUFLbzFDLElBQ2xEMFIsRUNmc0IsQ0FBQ3R4QixJQUN0QixDQUNIdXhCLFdBQVksYUFDWkMsY0FBZXh4QixHQUFRd3hCLGVBQWlCN2EsR0FDeEM4YSxjQUFlenhCLEdBQVF5eEIsZUFBaUI3YSxHQUN4QzhhLGtCQUFtQjF4QixHQUFRMHhCLG9CQUFxQixFQUNoRHpvQixpQkFBa0JqSixHQUFRaUosa0JBQW9CLEdBQzlDMG9CLFdBQVkzeEIsR0FBUTJ4QixZQUFjLEdBQ2xDN3FDLE9BQVFrWixHQUFRbFosUUFBVSxJQUFJeXJCLEdBQzlCeGQsVUFBV2lMLEdBQVFqTCxXQUFhLGFBQ2hDbVYsVUFBV2xLLEdBQVFrSyxXQUFhcEQsR0FDaEM4cUIsWUFBYTV4QixHQUFRNHhCLGFBQWV6akQsRUFDcENrNUMsWUFBYXJuQixHQUFRcW5CLGFBQWV6OUIsSURHYixDQUF1Qm9XLEdBRWxELE9BREEsR0FBZ0JuWSxRQUFROFgsU0FDakIsSUFDQTJ4QixLQUNBdHhCLEVBQ0hyWSxRQUFTLE9BQ1Q0b0MsZUFDQTd1QixrQkFBbUIxQixHQUFRMEIsbUJBQXFCOHRCLEdBQ2hEbDdCLDBCQUEyQjBMLEdBQVExTCwyQkFBNkIsR0FBa0MsSUFDbEc2TCx5QkFBMEJILEdBQVFHLDBCQUM5QkQsR0FBaUIsQ0FBRW5MLFVBQVd1OEIsRUFBbUJ2OEIsVUFBVzI1QiwwQkFDaEVsZ0IsWUFBYXhPLEdBQVF3TyxhQUFlLEdBQWVrQyxJQUNuRDloQixPQUFRb1IsR0FBUXBSLFFBQVUsR0FBZW9TLEdBQTRCQyxJQUNyRTNhLGVBQWdCMFosR0FBUTFaLGdCQUFrQixJQUFJLEdBQWUrcUMsR0FDN0R2Z0IsVUFBVzlRLEdBQVE4USxXQUNmLEdBQWUsSUFDUkMsR0FDSHJqQyxRQUFTeVksZ0JBQW1Ca3JDLEtBQXlCdmdCLFdBQWFuRyxLQUUxRXRhLE9BQVEyUCxHQUFRM1AsUUFBVTYrQixHQUFLL04sS0FBSyxLQUFNLFVBQzFDeEcsZ0JBQWlCM2EsR0FBUTJhLGlCQUFtQixHQUM1Qy9sQixxQkFBc0JvTCxHQUFRcEwsc0JBQXdCLEdBQWU2TCxJQUNyRTlMLGdCQUFpQnFMLEdBQVFyTCxpQkFBbUIsR0FBZW9NLElBQzlELEVEM0JxQixDQUFtQm9GLEdBQWlCLENBQUMsR0hmcEQsSUFDQS95QixFQUNId2hCLHFCQUFzQnhoQixFQUFRd2hCLHVCQUF3QixFQUN0REQsZ0JBQWlCdmhCLEVBQVF1aEIsa0JBQW1CLEVBQzVDUSxtQkFBb0IsZUFMbUIsSUFBQy9oQixFR2tCeEMsTUFBTXkrQyxFQUFZeHdCLEdBQW9CK3ZCLEdBQ2hDVSxFQUFZeG5CLEdBQXNCdW5CLEdBQ2xDc04sRUFBWXZ1QixHQUFtQmtoQixHQUkvQjZNLEVHcEIwQixFQUFDdDdDLEVBQWVzdUMsS0FDcEQsTUFBTUssRUFBeUIsSUFDZGxCLEdBQW1DenRDLE1BQ25DczlCLEdBQWlDdDlCLE1BQ2pDRCxFQUFxQ0MsSUFHdEQsT0FEQXN1QyxFQUFXcmUsU0FBUzJlLEdBQWNBLEVBQVVDLFVBQVVGLEtBQy9DLElBQ0EzdUMsS0FDQTR0QyxHQUF1Q2UsTUFDdkMsR0FBNEJBLE1BQzVCcnVDLEVBQWdDcXVDLEdBQ3RDLEVIUXFCLENBREE3NkIsR0FEQWhELEdBRHdCZ3JDLElBR1loNUIsR0FBZXdyQixZQUFjLElBQ25GejVCLE1BQU15bUMsR0FDTno1RCxLQUFLODZCLE9BQVMyK0IsRUFDZHo1RCxLQUFLZ3hDLGdCQUFnQnRCLElBQUlqRCxHQUFlenNDLEtBQUs4NkIsU0FDN0M5NkIsS0FBS2d4QyxnQkFBZ0J0QixJQUFJblQsR0FBdUJ2OEIsS0FBSzg2QixTQUNyRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUk1dUIsRUFBb0I5Z0IsS0FBSzg2QixTQUNsRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUlsdUIsRUFBZ0J4aEIsS0FBSzg2QixTQUM5Qzk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUlsdEIsRUFBNEJ4aUIsS0FBSzg2QixTQUMxRDk2QixLQUFLZ3hDLGdCQUFnQnRCLElBQUkxZSxHQUFpQmh4QixLQUFLODZCLFNBQy9DOTZCLEtBQUtneEMsZ0JBQWdCdEIsSUFBSTdVLEdBQW1CNzZCLEtBQUs4NkIsUUFDckQsQ0FDQSxPQUFBeVcsR0FDSXZlLE1BQU11ZSxTQUNWLEVJbkNHLE1BQU02ekIsV0FBbUMsR0FDNUMsV0FBQTFpRSxDQUFZd0wsR0FDUjhrQixNQUFNOWtCLEdBQ04xTyxPQUFPMkMsZUFBZW5DLEtBQU1vbEUsR0FBMkJqbEUsVUFDM0QsRUNKRyxNQUFNLFdBQThCLEdBQ3ZDLFdBQUF1QyxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sd0JBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyx3QkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTSxHQUFzQkcsV0FDbERILEtBQUs4NUMsUUFBVThELEVBQUs5RCxRQUNwQjk1QyxLQUFLcWxFLFVBQVl6bkIsRUFBS3luQixTQUMxQixFQ3VERyxJQUFJQyxHQTZVQSxHQWlEQUMsSUE3WFgsU0FBV0QsR0FDUEEsRUFBcUJFLE1BQVEsQ0FBQzdsRSxFQUFPOGxFLFNBQ1c1K0QsSUFBeENsSCxFQUFNK2xFLDhCQUNDRCxFQUFRQyw4QkFBOEIvbEUsRUFBTStsRSxvQ0FDeEI3K0QsSUFBM0JsSCxFQUFNZ21FLGlCQUNDRixFQUFRRSxpQkFBaUJobUUsRUFBTWdtRSx1QkFDWDkrRCxJQUEzQmxILEVBQU1pbUUsaUJBQ0NILEVBQVFHLGlCQUFpQmptRSxFQUFNaW1FLHVCQUNELytELElBQXJDbEgsRUFBTWttRSwyQkFDQ0osRUFBUUksMkJBQTJCbG1FLEVBQU1rbUUsaUNBQ1poL0QsSUFBcENsSCxFQUFNbW1FLDBCQUNDTCxFQUFRSywwQkFBMEJubUUsRUFBTW1tRSxnQ0FDdEJqL0QsSUFBekJsSCxFQUFNb21FLGVBQ0NOLEVBQVFNLGVBQWVwbUUsRUFBTW9tRSxxQkFDUmwvRCxJQUE1QmxILEVBQU1xbUUsa0JBQ0NQLEVBQVFPLGtCQUFrQnJtRSxFQUFNcW1FLHdCQUNibi9ELElBQTFCbEgsRUFBTXNtRSxnQkFDQ1IsRUFBUVEsZ0JBQWdCdG1FLEVBQU1zbUUsc0JBQ1ZwL0QsSUFBM0JsSCxFQUFNdW1FLGlCQUNDVCxFQUFRUyxpQkFBaUJ2bUUsRUFBTXVtRSx1QkFDUHIvRCxJQUEvQmxILEVBQU13bUUscUJBQ0NWLEVBQVFVLHFCQUFxQnhtRSxFQUFNd21FLDJCQUNmdC9ELElBQTNCbEgsRUFBTXltRSxpQkFDQ1gsRUFBUVcsaUJBQWlCem1FLEVBQU15bUUsdUJBQ2R2L0QsSUFBeEJsSCxFQUFNMG1FLGNBQ0NaLEVBQVFZLGNBQWMxbUUsRUFBTTBtRSxvQkFDTngvRCxJQUE3QmxILEVBQU0ybUUsbUJBQ0NiLEVBQVFhLG1CQUFtQjNtRSxFQUFNMm1FLHlCQUNqQnovRCxJQUF2QmxILEVBQU00bUUsYUFDQ2QsRUFBUWMsYUFBYTVtRSxFQUFNNG1FLG1CQUNIMS9ELElBQS9CbEgsRUFBTTZtRSxxQkFDQ2YsRUFBUWUscUJBQXFCN21FLEVBQU02bUUsMkJBQ1ozL0QsSUFBOUJsSCxFQUFNOG1FLG9CQUNDaEIsRUFBUWdCLG9CQUFvQjltRSxFQUFNOG1FLDBCQUNmNS9ELElBQTFCbEgsRUFBTSttRSxnQkFDQ2pCLEVBQVFpQixnQkFBZ0IvbUUsRUFBTSttRSxzQkFDUDcvRCxJQUE5QmxILEVBQU1nbkUsb0JBQ0NsQixFQUFRa0Isb0JBQW9CaG5FLEVBQU1nbkUsMEJBQ1o5L0QsSUFBN0JsSCxFQUFNaW5FLG1CQUNDbkIsRUFBUW1CLG1CQUFtQmpuRSxFQUFNaW5FLHlCQUNaLy9ELElBQTVCbEgsRUFBTWtuRSxrQkFDQ3BCLEVBQVFvQixrQkFBa0JsbkUsRUFBTWtuRSx3QkFDRmhnRSxJQUFyQ2xILEVBQU1tbkUsMkJBQ0NyQixFQUFRcUIsMkJBQTJCbm5FLEVBQU1tbkUsaUNBQ3JCamdFLElBQTNCbEgsRUFBTW9uRSxpQkFDQ3RCLEVBQVFzQixpQkFBaUJwbkUsRUFBTW9uRSx1QkFDUGxnRSxJQUEvQmxILEVBQU1xbkUscUJBQ0N2QixFQUFRdUIscUJBQXFCcm5FLEVBQU1xbkUsMkJBQ1puZ0UsSUFBOUJsSCxFQUFNc25FLG9CQUNDeEIsRUFBUXdCLG9CQUFvQnRuRSxFQUFNc25FLDBCQUNmcGdFLElBQTFCbEgsRUFBTXVuRSxnQkFDQ3pCLEVBQVF5QixnQkFBZ0J2bkUsRUFBTXVuRSxzQkFDUnJnRSxJQUE3QmxILEVBQU13bkUsbUJBQ0MxQixFQUFRMEIsbUJBQW1CeG5FLEVBQU13bkUsb0JBQ3JDMUIsRUFBUTkvRCxFQUFFaEcsRUFBTXluRSxTQUFTLEdBQUl6bkUsRUFBTXluRSxTQUFTLEdBRTFELENBeERELENBd0RHOUIsS0FBeUJBLEdBQXVCLENBQUMsSUFzQzdDLE1BQU0rQixXQUFpQyxHQUMxQyxXQUFBM2tFLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSwyQkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLDJCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNcW5FLEdBQXlCbG5FLFdBQ3JESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsUUFDcEI5NUMsS0FBS3FsRSxVQUFZem5CLEVBQUt5bkIsU0FDMUIsRUFFRyxNQUFNLFdBQXVDLEdBQ2hELFdBQUEzaUUsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLGlDQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8saUNBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU0sR0FBK0JHLFdBQzNESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsUUFDcEI5NUMsS0FBS3FsRSxVQUFZem5CLEVBQUt5bkIsU0FDMUIsRUE0QkcsTUFBTSxXQUFrQyxHQUMzQyxXQUFBM2lFLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSw0QkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLDRCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNLEdBQTBCRyxXQUN0REgsS0FBSzg1QyxRQUFVOEQsRUFBSzlELFFBQ3BCOTVDLEtBQUtzbkUsYUFBZTFwQixFQUFLMHBCLGFBQ3pCdG5FLEtBQUtxbEUsVUFBWXpuQixFQUFLeW5CLFNBQzFCLEVBRUcsTUFBTSxXQUE0QixHQUNyQyxXQUFBM2lFLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSxzQkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLHNCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNLEdBQW9CRyxXQUNoREgsS0FBSzg1QyxRQUFVOEQsRUFBSzlELFFBQ3BCOTVDLEtBQUtxbEUsVUFBWXpuQixFQUFLeW5CLFNBQzFCLEVBbUZHLE1BQU1rQyxXQUFxQyxHQUM5QyxXQUFBN2tFLENBQVlrN0MsR0FDUjVxQixNQUFNLENBQ0ZuZ0IsS0FBTSwrQkFDTjZtQyxPQUFRLFlBQ0xrRSxJQUVQNTlDLEtBQUs2UyxLQUFPLCtCQUNaN1MsS0FBSzA1QyxPQUFTLFNBQ2RsNkMsT0FBTzJDLGVBQWVuQyxLQUFNdW5FLEdBQTZCcG5FLFdBQ3pESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsUUFDcEI5NUMsS0FBS3NuRSxhQUFlMXBCLEVBQUswcEIsYUFDekJ0bkUsS0FBS3FsRSxVQUFZem5CLEVBQUt5bkIsU0FDMUIsRUFFRyxNQUFNbUMsV0FBb0MsR0FDN0MsV0FBQTlrRSxDQUFZazdDLEdBQ1I1cUIsTUFBTSxDQUNGbmdCLEtBQU0sOEJBQ042bUMsT0FBUSxZQUNMa0UsSUFFUDU5QyxLQUFLNlMsS0FBTyw4QkFDWjdTLEtBQUswNUMsT0FBUyxTQUNkbDZDLE9BQU8yQyxlQUFlbkMsS0FBTXduRSxHQUE0QnJuRSxXQUN4REgsS0FBSzg1QyxRQUFVOEQsRUFBSzlELFFBQ3BCOTVDLEtBQUtxbEUsVUFBWXpuQixFQUFLeW5CLFNBQzFCLEdBb0VELEtBQXVCLEdBQXFCLENBQUMsSUFuQnpCRyxNQUFRLENBQUM3bEUsRUFBTzhsRSxTQUNBNStELElBQTNCbEgsRUFBTThuRSxpQkFDQ2hDLEVBQVFnQyxpQkFBaUI5bkUsRUFBTThuRSx1QkFDWjVnRSxJQUExQmxILEVBQU0rbkUsZ0JBQ0NqQyxFQUFRaUMsZ0JBQWdCL25FLEVBQU0rbkUsc0JBQ0o3Z0UsSUFBakNsSCxFQUFNZ29FLHVCQUNDbEMsRUFBUWtDLHVCQUF1QmhvRSxFQUFNZ29FLDZCQUNaOWdFLElBQWhDbEgsRUFBTWlvRSxzQkFDQ25DLEVBQVFtQyxzQkFBc0Jqb0UsRUFBTWlvRSw0QkFDVC9nRSxJQUFsQ2xILEVBQU1rb0Usd0JBQ0NwQyxFQUFRb0Msd0JBQXdCbG9FLEVBQU1rb0UsOEJBQ2hCaGhFLElBQTdCbEgsRUFBTW1vRSxtQkFDQ3JDLEVBQVFxQyxtQkFBbUJub0UsRUFBTW1vRSx5QkFDVGpoRSxJQUEvQmxILEVBQU1vb0UscUJBQ0N0QyxFQUFRc0MscUJBQXFCcG9FLEVBQU1vb0UsMkJBQ0VsaEUsSUFBNUNsSCxFQUFNcW9FLGtDQUNDdkMsRUFBUXVDLGtDQUFrQ3JvRSxFQUFNcW9FLG1DQUNwRHZDLEVBQVE5L0QsRUFBRWhHLEVBQU15bkUsU0FBUyxHQUFJem5FLEVBQU15bkUsU0FBUyxJQStCM0QsU0FBVzdCLEdBQ1BBLEVBQWNDLE1BQVEsQ0FBQzdsRSxFQUFPOGxFLFNBQ0k1K0QsSUFBMUJsSCxFQUFNc29FLGdCQUNDeEMsRUFBUXdDLGdCQUFnQnRvRSxFQUFNc29FLHNCQUNqQnBoRSxJQUFwQmxILEVBQU11b0UsVUFDQ3pDLEVBQVF5QyxVQUFVdm9FLEVBQU11b0UsZ0JBQ1pyaEUsSUFBbkJsSCxFQUFNd29FLFNBQ0MxQyxFQUFRMEMsU0FBU3hvRSxFQUFNd29FLFVBQzNCMUMsRUFBUTkvRCxFQUFFaEcsRUFBTXluRSxTQUFTLEdBQUl6bkUsRUFBTXluRSxTQUFTLEdBRTFELENBVkQsQ0FVRzdCLEtBQWtCQSxHQUFnQixDQUFDLElDcFUvQixNQUFNLFdBQWtDLEdBQzNDLFdBQUE3aUUsQ0FBWWs3QyxHQUNSNXFCLE1BQU0sQ0FDRm5nQixLQUFNLDRCQUNONm1DLE9BQVEsWUFDTGtFLElBRVA1OUMsS0FBSzZTLEtBQU8sNEJBQ1o3UyxLQUFLMDVDLE9BQVMsU0FDZGw2QyxPQUFPMkMsZUFBZW5DLEtBQU0sR0FBMEJHLFdBQ3RESCxLQUFLODVDLFFBQVU4RCxFQUFLOUQsUUFDcEI5NUMsS0FBS3FsRSxVQUFZem5CLEVBQUt5bkIsU0FDMUIsRUFvTkcsTUMraVpELEdBQW9CdHJCLEdBQWtCLElBQ3RDLEdBQThCOTRCLE1BQU8wOUIsRUFBY2w5QixLQUNyRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQmc1QyxRQUFTLEdBQ1R1ckIsVUFBVyxLQUVmN2xFLE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJLEdBQXNCLENBQ3hDMTNCLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBMEQ3RDZpRSxHQUFpQ25uRCxNQUFPMDlCLEVBQWNsOUIsS0FDeEQsTUFBTTgvQixFQUFXLEdBQUksQ0FBQyxHQUNoQnpnRCxFQUFPNjlDLEVBQWFwNUMsS0FDcEJvb0QsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkJnNUMsUUFBUyxHQUNUdXJCLFVBQVcsS0FFZjdsRSxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSXl0QixHQUF5QixDQUMzQ25sRCxVQUFXLEdBQW9CeThCLE1BQzVCNEMsSUFFUCxPQUFPLEdBQTJCM0gsRUFBVytFLEVBQWFwNUMsS0FBSyxFQUU3RCxHQUFrQzBiLE1BQU8wOUIsRUFBY2w5QixLQUN6RCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQmc1QyxRQUFTLEdBQ1R1ckIsVUFBVyxLQUVmN2xFLE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJLEdBQTBCLENBQzVDMTNCLFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBRTdELEdBQXVDMGIsTUFBTzA5QixFQUFjbDlCLEtBQzlELE1BQU04L0IsRUFBVyxHQUFJLENBQUMsR0FDaEJ6Z0QsRUFBTzY5QyxFQUFhcDVDLEtBQ3BCb29ELEVBQU0sR0FBSzdzRCxFQUFNLENBQ25CZzVDLFFBQVMsR0FDVHVyQixVQUFXLEtBRWY3bEUsT0FBT3FELE9BQU8wK0MsRUFBVW9NLEdBQ3hCLE1BQU0vVCxFQUFZLElBQUksR0FBK0IsQ0FDakQxM0IsVUFBVyxHQUFvQnk4QixNQUM1QjRDLElBRVAsT0FBTyxHQUEyQjNILEVBQVcrRSxFQUFhcDVDLEtBQUssRUErQjdEOGlFLEdBQW9DcG5ELE1BQU8wOUIsRUFBY2w5QixLQUMzRCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQmc1QyxRQUFTLEdBQ1R1ckIsVUFBVyxLQUVmN2xFLE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixNQUFNL1QsRUFBWSxJQUFJNHRCLEdBQTRCLENBQzlDdGxELFVBQVcsR0FBb0J5OEIsTUFDNUI0QyxJQUVQLE9BQU8sR0FBMkIzSCxFQUFXK0UsRUFBYXA1QyxLQUFLLEVBK0I3RCxHQUFrQzBiLE1BQU8wOUIsRUFBY2w5QixLQUN6RCxNQUFNOC9CLEVBQVcsR0FBSSxDQUFDLEdBQ2hCemdELEVBQU82OUMsRUFBYXA1QyxLQUNwQm9vRCxFQUFNLEdBQUs3c0QsRUFBTSxDQUNuQmc1QyxRQUFTLEdBQ1R1ckIsVUFBVyxHQUNYaUMsYUFBYyxLQUVsQjluRSxPQUFPcUQsT0FBTzArQyxFQUFVb00sR0FDeEIsTUFBTS9ULEVBQVksSUFBSSxHQUEwQixDQUM1QzEzQixVQUFXLEdBQW9CeThCLE1BQzVCNEMsSUFFUCxPQUFPLEdBQTJCM0gsRUFBVytFLEVBQWFwNUMsS0FBSyxFQUU3RCtpRSxHQUFxQ3JuRCxNQUFPMDlCLEVBQWNsOUIsS0FDNUQsTUFBTTgvQixFQUFXLEdBQUksQ0FBQyxHQUNoQnpnRCxFQUFPNjlDLEVBQWFwNUMsS0FDcEJvb0QsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkJnNUMsUUFBUyxHQUNUdXJCLFVBQVcsR0FDWGlDLGFBQWMsS0FFbEI5bkUsT0FBT3FELE9BQU8wK0MsRUFBVW9NLEdBQ3hCLE1BQU0vVCxFQUFZLElBQUkydEIsR0FBNkIsQ0FDL0NybEQsVUFBVyxHQUFvQnk4QixNQUM1QjRDLElBRVAsT0FBTyxHQUEyQjNILEVBQVcrRSxFQUFhcDVDLEtBQUssRUFnQjdELEdBQTRCMGIsTUFBTzA5QixFQUFjbDlCLEtBQ25ELE1BQU04L0IsRUFBVyxHQUFJLENBQUMsR0FDaEJ6Z0QsRUFBTzY5QyxFQUFhcDVDLEtBQ3BCb29ELEVBQU0sR0FBSzdzRCxFQUFNLENBQ25CZzVDLFFBQVMsR0FDVHVyQixVQUFXLEtBRWY3bEUsT0FBT3FELE9BQU8wK0MsRUFBVW9NLEdBQ3hCLE1BQU0vVCxFQUFZLElBQUksR0FBb0IsQ0FDdEMxM0IsVUFBVyxHQUFvQnk4QixNQUM1QjRDLElBRVAsT0FBTyxHQUEyQjNILEVBQVcrRSxFQUFhcDVDLEtBQUssRUFtL0o3RCxHQUF1QjZjLElBQVcsQ0FDcEMyakIsZUFBZ0IzakIsRUFBTzdCLFdBQ3ZCZzZCLFVBQVduNEIsRUFBTzdDLFFBQVEscUJBQXVCNkMsRUFBTzdDLFFBQVEsc0JBQXdCNkMsRUFBTzdDLFFBQVEsb0JBQ3ZHaTdCLGtCQUFtQnA0QixFQUFPN0MsUUFBUSxjQUNsQ2s3QixLQUFNcjRCLEVBQU83QyxRQUFRLGlCQVFuQixHQUFZLENBQUNnMkIsRUFBWTl6QixJQU5MLEVBQUM4ekIsRUFBWTl6QixJQUFZLEdBQVk4ekIsRUFBWTl6QixHQUFTbmMsTUFBTUMsR0FBU2tjLEVBQVEwZ0MsWUFBWTU4QyxLQU01RSxDQUFrQmd3QyxFQUFZOXpCLEdBQVNuYyxNQUFNMkYsR0FDaEZBLEVBQVE5SCxPQUNEdU0sS0FBS2dNLE1BQU16USxHQUVmLENBQUMsSUFFTixHQUFpQmdXLE1BQU93aEMsRUFBV2hoQyxLQUNyQyxNQUFNOWhCLFFBQWMsR0FBVThpRCxFQUFXaGhDLEdBRXpDLE9BREE5aEIsRUFBTTZRLFFBQVU3USxFQUFNNlEsU0FBVzdRLEVBQU1tNkMsUUFDaENuNkMsQ0FBSyxFQUVWLEdBQXdCLENBQUN5aUIsRUFBUXRoQixLQUNuQyxNQUNNb3RELEVBQXFCQyxJQUN2QixJQUFJQyxFQUFhRCxFQWFqQixNQVowQixpQkFBZkMsSUFDUEEsRUFBYUEsRUFBV2hqRCxZQUV4QmdqRCxFQUFXN3FELFFBQVEsTUFBUSxJQUMzQjZxRCxFQUFhQSxFQUFXejlDLE1BQU0sS0FBSyxJQUVuQ3k5QyxFQUFXN3FELFFBQVEsTUFBUSxJQUMzQjZxRCxFQUFhQSxFQUFXejlDLE1BQU0sS0FBSyxJQUVuQ3k5QyxFQUFXN3FELFFBQVEsTUFBUSxJQUMzQjZxRCxFQUFhQSxFQUFXejlDLE1BQU0sS0FBSyxJQUVoQ3k5QyxDQUFVLEVBRWZ0M0IsR0FqQld2a0IsRUFpQlM2UCxFQUFPN0MsUUFBUyxtQkFqQlQvZixPQUFPMk0sS0FBS29HLEdBQVF5bkIsTUFBTXJ6QixHQUFNQSxFQUFFa2QsZ0JBaUJ6QixtQkFqQitDQSxpQkFBekUsSUFBQ3RSLEVBa0JqQixZQUFrQjFMLElBQWRpd0IsRUFDT28zQixFQUFrQjlyQyxFQUFPN0MsUUFBUXVYLFNBRTFCandCLElBQWQvRixFQUFLb08sS0FDRWcvQyxFQUFrQnB0RCxFQUFLb08sV0FFWHJJLElBQW5CL0YsRUFBYSxPQUNOb3RELEVBQWtCcHRELEVBQWEsYUFEMUMsQ0FFQSxFQ3pxa0JHLE1BQU15bkUsV0FBeUIsR0FDbEMsdUNBQU9qbUMsR0FDSCxNQUFPLENBQ0h5Z0IsUUFBUyxDQUFFOTlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxtQkFDeENrbUIsU0FBVSxDQUFFOVQsS0FBTSxnQkFBaUJwUyxLQUFNLFlBQ3pDbXdDLE9BQVEsQ0FBRS85QixLQUFNLGdCQUFpQnBTLEtBQU0sVUFDdkNvd0MsYUFBYyxDQUFFaCtCLEtBQU0sZ0JBQWlCcFMsS0FBTSx3QkFFckQsQ0FDQSxXQUFBblEsQ0FBWTBHLEdBQ1I0cEIsUUFDQWh6QixLQUFLb0osTUFBUUEsQ0FDakIsQ0FDQSxpQkFBQWtvQyxDQUFrQnR3QixFQUFhaWdCLEVBQWUveUIsR0FDMUNsTyxLQUFLZ3hDLGdCQUFnQnRCLElBQUloTCxHQUFlekQsRUFBZWpoQyxLQUFLeXdDLFVBQVd6d0MsS0FBSzJ3QyxjQUM1RTN3QyxLQUFLZ3hDLGdCQUFnQnRCLElBQUl2SyxHQUFrQmxFLEVBQWVzbkMsR0FBaUJqbUMscUNBQzNFLE1BQU1pTSxFQUFRdnRCLEVBQVk5WixPQUFPbEgsS0FBS2d4QyxrQkFDaEMsT0FBRXB2QixHQUFXcWYsRUFHYmlpQixFQUEwQixDQUM1QnRoQyxTQUNBRixXQUplLG1CQUtmQyxZQUpnQixtQkFLaEJLLHdCQUEwQnJjLEdBQU1BLEVBQ2hDc2MseUJBQTJCdGMsR0FBTUEsRUFDakMsQ0FBQ3FaLEdBQXFCLENBQ2xCMkssUUFBUyxzQkFDVHc1QixVQUFXLGVBR2IsZUFBRS9oQyxHQUFtQjZmLEVBQzNCLE9BQU9zTixFQUFNdnBDLFNBQVMrYSxHQUFZcUIsRUFBZXd4QixPQUFPN3lCLEVBQVFBLFFBQVM3UixHQUFXLENBQUMsSUFBSWcxQyxFQUM3RixDQUNBLFNBQUF6UyxDQUFVcm5DLEVBQU9xWSxHQUNiLE1Eb2lGMkJSLE9BQU83WCxFQUFPcVksS0FDN0MsTUFBTSxTQUFFckMsRUFBUSxTQUFFSSxFQUFXLFFBQU8sS0FBRUgsRUFBTUssS0FBTXNpQyxTQUFtQnZnQyxFQUFRbVcsV0FFN0UsSUFBSXNsQixFQUFlLEdBQUc4RSxHQUFVNXNDLFNBQVMsS0FBTzRzQyxFQUFTdmlDLE1BQU0sR0FBSSxHQUFLdWlDLEdBQVksMERBRXBGOUUsRUFBZSxHQUFlQSxFQUFjOXpDLEVBQU8sZ0JBQWdCLElBQU1BLEVBQU1vL0QsY0FBYyxrQkFBa0IsR0FDL0d0ckIsRUFBZSxHQUFlQSxFQUFjOXpDLEVBQU8sYUFBYSxJQUFNQSxFQUFNdTJELFdBQVcsZUFBZSxHQUN0RyxNQUFNcmdELEVBQVEsR0FBSSxDQUNkLGFBQWMsQ0FBQyxDQUFFbFcsRUFBTTZ5RCxXQUN2QixjQUFlLENBQUMsU0FBMkIsSUFBckI3eUQsRUFBTTR5RCxXQUF1QixJQUFNNXlELEVBQU00eUQsV0FBVzV3RCxjQUc5RSxPQUFPLElBQUksRUFBYyxDQUNyQm9VLFdBQ0FKLFdBQ0FDLE9BQ0FGLE9BQVEsTUFDUkksUUFmWSxDQUFDLEVBZ0JiRyxLQUFNdzlCLEVBQ041OUIsUUFDQS9aLFVBVEFBLEdBVUYsRUN6akZTa2pFLENBQW9Cci9ELEVBQU9xWSxFQUN0QyxDQUNBLFdBQUFrdkIsQ0FBWXZ1QixFQUFRWCxHQUNoQixNRGd6VTJCUixPQUFPbUIsRUFBUVgsS0FDOUMsR0FBMEIsTUFBdEJXLEVBQU83QixZQUFzQjZCLEVBQU83QixZQUFjLElBQ2xELE1BaUJ5QlUsT0FBT21CLEVBQVFYLEtBQzVDLE1BQU1rOUIsRUFBZSxJQUNkdjhCLEVBQ0g3YyxXQUFZLEdBQWU2YyxFQUFPN2MsS0FBTWtjLElBRXRDeTRCLEVBQVksR0FBc0I5M0IsRUFBUXU4QixFQUFhcDVDLE1BQzdELE9BQVEyMEMsR0FDSixJQUFLLHdCQUNMLElBQUssaURBQ0QsWUFBWSxHQUE0QnlFLEVBQWNsOUIsR0FDMUQsSUFBSywyQkFDTCxJQUFLLG9EQUNELFlBQVkybUQsR0FBK0J6cEIsRUFBY2w5QixHQUM3RCxJQUFLLDRCQUNMLElBQUsscURBQ0QsWUFBWSxHQUFnQ2s5QixFQUFjbDlCLEdBQzlELElBQUssaUNBQ0wsSUFBSywwREFDRCxZQUFZLEdBQXFDazlCLEVBQWNsOUIsR0FDbkUsSUFBSyw4QkFDTCxJQUFLLHVEQUNELFlBQVk0bUQsR0FBa0MxcEIsRUFBY2w5QixHQUNoRSxJQUFLLDRCQUNMLElBQUsscURBQ0QsWUFBWSxHQUFnQ2s5QixFQUFjbDlCLEdBQzlELElBQUssK0JBQ0wsSUFBSyx3REFDRCxZQUFZNm1ELEdBQW1DM3BCLEVBQWNsOUIsR0FDakUsSUFBSyxzQkFDTCxJQUFLLCtDQUNELFlBQVksR0FBMEJrOUIsRUFBY2w5QixHQUN4RCxRQUNJLE1BQU13NEIsRUFBYTBFLEVBQWFwNUMsS0FDaEMsT0FBTyxHQUFrQixDQUNyQjZjLFNBQ0E2M0IsYUFDQUMsY0FFWixFQXZEV3d1QixDQUF5QnRtRCxFQUFRWCxHQUU1QyxNQUFNOC9CLEVBQVcsR0FBSSxDQUNqQnIvQixVQUFXLEdBQW9CRSxLQUU3QnRoQixFQUFPLEdBQWdCLFNBQXFCLEdBQVVzaEIsRUFBTzdjLEtBQU1rYyxJQUFXLFFBQzlFa3NDLEVBQU0sR0FBSzdzRCxFQUFNLENBQ25CbTdELFVBQVcsR0FDWG9KLFVBQVcsR0FDWHNELFNBQVUsS0FNZCxPQUpBbnBFLE9BQU9xRCxPQUFPMCtDLEVBQVVvTSxHQUN4QixHQUFJcE0sRUFBVSxDQUNWcW5CLE9BQVEsQ0FBQyxDQUFFeG1ELEVBQU83QixjQUVmZ2hDLENBQVEsRUNqMFVKc25CLENBQW9Cem1ELEVBQVFYLEVBQ3ZDLEVDdkNHLE1BQU1xbkQsV0FBMEIsR0FDbkMsdUNBQU94bUMsR0FDSCxNQUFPLENBQ0h5Z0IsUUFBUyxDQUFFOTlCLEtBQU0sZ0JBQWlCcFMsS0FBTSxtQkFDeENrbUIsU0FBVSxDQUFFOVQsS0FBTSxnQkFBaUJwUyxLQUFNLFlBQ3pDbXdDLE9BQVEsQ0FBRS85QixLQUFNLGdCQUFpQnBTLEtBQU0sVUFDdkNvd0MsYUFBYyxDQUFFaCtCLEtBQU0sZ0JBQWlCcFMsS0FBTSx3QkFFckQsQ0FDQSxXQUFBblEsQ0FBWTBHLEdBQ1I0cEIsUUFDQWh6QixLQUFLb0osTUFBUUEsQ0FDakIsQ0FDQSxpQkFBQWtvQyxDQUFrQnR3QixFQUFhaWdCLEVBQWUveUIsR0FDMUNsTyxLQUFLZ3hDLGdCQUFnQnRCLElBQUloTCxHQUFlekQsRUFBZWpoQyxLQUFLeXdDLFVBQVd6d0MsS0FBSzJ3QyxjQUM1RTN3QyxLQUFLZ3hDLGdCQUFnQnRCLElBQUl2SyxHQUFrQmxFLEVBQWU2bkMsR0FBa0J4bUMscUNBQzVFLE1BQU1pTSxFQUFRdnRCLEVBQVk5WixPQUFPbEgsS0FBS2d4QyxrQkFDaEMsT0FBRXB2QixHQUFXcWYsRUFHYmlpQixFQUEwQixDQUM1QnRoQyxTQUNBRixXQUplLG1CQUtmQyxZQUpnQixvQkFLaEJLLHdCQUEwQnJjLEdBQU1BLEVBQ2hDc2MseUJBQTJCdGMsR0FBTUEsRUFDakMsQ0FBQ3FaLEdBQXFCLENBQ2xCMkssUUFBUyxzQkFDVHc1QixVQUFXLGdCQUdiLGVBQUUvaEMsR0FBbUI2ZixFQUMzQixPQUFPc04sRUFBTXZwQyxTQUFTK2EsR0FBWXFCLEVBQWV3eEIsT0FBTzd5QixFQUFRQSxRQUFTN1IsR0FBVyxDQUFDLElBQUlnMUMsRUFDN0YsQ0FDQSxTQUFBelMsQ0FBVXJuQyxFQUFPcVksR0FDYixNRmsvQjRCUixPQUFPN1gsRUFBT3FZLEtBQzlDLE1BQU0sU0FBRXJDLEVBQVEsU0FBRUksRUFBVyxRQUFPLEtBQUVILEVBQU1LLEtBQU1zaUMsU0FBbUJ2Z0MsRUFBUW1XLFdBRTdFLElBQUlzbEIsRUFBZSxHQUFHOEUsR0FBVTVzQyxTQUFTLEtBQU80c0MsRUFBU3ZpQyxNQUFNLEdBQUksR0FBS3VpQyxHQUFZLHFFQU1wRixPQUpBOUUsRUFBZSxHQUFlQSxFQUFjOXpDLEVBQU8sWUFBWSxJQUFNQSxFQUFNNjdELFVBQVUsY0FBYyxHQUNuRy9uQixFQUFlLEdBQWVBLEVBQWM5ekMsRUFBTyxnQkFBZ0IsSUFBTUEsRUFBTW8vRCxjQUFjLGtCQUFrQixHQUMvR3RyQixFQUFlLEdBQWVBLEVBQWM5ekMsRUFBTyxhQUFhLElBQU1BLEVBQU11MkQsV0FBVyxlQUFlLEdBRS9GLElBQUksRUFBYyxDQUNyQm5nRCxXQUNBSixXQUNBQyxPQUNBRixPQUFRLFNBQ1JJLFFBWlksQ0FBQyxFQWFiRyxLQUFNdzlCLEVBQ04zM0MsVUFSQUEsR0FTRixFRW5nQ1N3akUsQ0FBcUIzL0QsRUFBT3FZLEVBQ3ZDLENBQ0EsV0FBQWt2QixDQUFZdnVCLEVBQVFYLEdBQ2hCLE1Gc3RNNEJSLE9BQU9tQixFQUFRWCxLQUMvQyxHQUEwQixNQUF0QlcsRUFBTzdCLFlBQXNCNkIsRUFBTzdCLFlBQWMsSUFDbEQsTUFlMEJVLE9BQU9tQixFQUFRWCxLQUM3QyxNQUFNazlCLEVBQWUsSUFDZHY4QixFQUNIN2MsV0FBWSxHQUFlNmMsRUFBTzdjLEtBQU1rYyxJQUV0Q3k0QixFQUFZLEdBQXNCOTNCLEVBQVF1OEIsRUFBYXA1QyxNQUM3RCxPQUFRMjBDLEdBQ0osSUFBSyx3QkFDTCxJQUFLLGlEQUNELFlBQVksR0FBNEJ5RSxFQUFjbDlCLEdBQzFELElBQUssMkJBQ0wsSUFBSyxvREFDRCxZQUFZMm1ELEdBQStCenBCLEVBQWNsOUIsR0FDN0QsSUFBSyxpQ0FDTCxJQUFLLDBEQUNELFlBQVksR0FBcUNrOUIsRUFBY2w5QixHQUNuRSxJQUFLLDhCQUNMLElBQUssdURBQ0QsWUFBWTRtRCxHQUFrQzFwQixFQUFjbDlCLEdBQ2hFLElBQUssNEJBQ0wsSUFBSyxxREFDRCxZQUFZLEdBQWdDazlCLEVBQWNsOUIsR0FDOUQsSUFBSywrQkFDTCxJQUFLLHdEQUNELFlBQVk2bUQsR0FBbUMzcEIsRUFBY2w5QixHQUNqRSxJQUFLLHNCQUNMLElBQUssK0NBQ0QsWUFBWSxHQUEwQms5QixFQUFjbDlCLEdBQ3hELFFBQ0ksTUFBTXc0QixFQUFhMEUsRUFBYXA1QyxLQUNoQyxPQUFPLEdBQWtCLENBQ3JCNmMsU0FDQTYzQixhQUNBQyxjQUVaLEVBbERXOHVCLENBQTBCNW1ELEVBQVFYLEdBRTdDLE1BQU04L0IsRUFBVyxHQUFJLENBQ2pCci9CLFVBQVcsR0FBb0JFLEtBRTdCdGhCLEVBQU8sR0FBZ0IsU0FBcUIsR0FBVXNoQixFQUFPN2MsS0FBTWtjLElBQVcsUUFDOUVrc0MsRUFBTSxHQUFLN3NELEVBQU0sQ0FDbkJ1a0UsVUFBVyxLQU1mLE9BSkE3bEUsT0FBT3FELE9BQU8wK0MsRUFBVW9NLEdBQ3hCLEdBQUlwTSxFQUFVLENBQ1ZxbkIsT0FBUSxDQUFDLENBQUV4bUQsRUFBTzdCLGNBRWZnaEMsQ0FBUSxFRXJ1TUowbkIsQ0FBcUI3bUQsRUFBUVgsRUFDeEMsMDJDQzFDSiwyQkFDUyxLQUFBOGlELGFBQWU1aEQsUUFBUUMsSUFBSTJoRCxhQUUzQixLQUFBMkUsaUJBQW1CLElBQUkvRCxHQUFpQixDQUFDLEVBOEJsRCxRQTVCYyxZQUFBZ0UsY0FBYixtSEFDT0MsRUFBb0MsR0FFdEMvTCxFQUFZLG9CQUdvQixPQUQ3QmdNLEVBQW1CLElBQUlkLEdBQWlCLENBQUVDLGFBQWN4b0UsS0FBS3VrRSxhQUFjNUUsVUFBVzJKLEVBQXNCQyxVQUFXdE4sVUFBV29CLElBQ3JHLEdBQU1yOUQsS0FBS2twRSxpQkFBaUJqNEIsS0FBS280QixXQUE5REcsRUFBNkIsU0FFbkNuTSxFQUFZbU0sRUFBMkJ2TixVQUV2Q3VOLEVBQTJCYixTQUFTdjZCLFNBQVEsU0FBQ3d2QixHQUFTLE9BQUF3TCxFQUFnQjdpRSxLQUFLLElBQUlrakUsR0FBZTdMLEdBQXhDLHdCQUM5Q1AsRUFBUyw2QkFFbEIsTUFBTyxDQUFQLEVBQU8rTCxXQUdLLFlBQUFNLFdBQWIsU0FBd0I5TCxxR0FVdkIsT0FSQXBwQyxRQUFRK0IsTUFBTSxtQkFBWTdtQixLQUFLQyxVQUFVaXVELEVBQU0sS0FBTSxLQUUvQytMLEVBQW9CLElBQUliLEdBQWtCLENBQy9DTixhQUFjeG9FLEtBQUt1a0UsYUFDbkI1RSxVQUFXMkosRUFBc0JDLFVBQ2pDdEUsU0FBVXJILEVBQUtqK0MsV0FHaEIsR0FBTTNmLEtBQUtrcEUsaUJBQWlCajRCLEtBQUswNEIsa0JBQWpDLHFCQTdCYyxFQUFBSixVQUFZLFVBK0I1QixFQWpDQSxHQ0dBLG9CQUFlLDRyQ0FvQlUsT0FuQmxCLEVBQTZCNW1ELFFBQVFDLElBQW5DdWhELEVBQVUsYUFBRXlGLEVBQVUsYUFDeEJDLEVBQXdELFNBQW5DbG5ELFFBQVFDLElBQUlpbkQsbUJBQ2pDQyxFQUFhLElBQUkzMkQsS0FDakI0MkQsRUFBYSxJQUFJNTJELEtBQ3ZCMjJELEVBQVdFLFFBQVFGLEVBQVdHLFVBQVludEQsU0FBU3FuRCxJQUNuRDRGLEVBQVdDLFFBQVFELEVBQVdFLFVBQVludEQsU0FBUzhzRCxJQUduRHAxQyxRQUFRblMsS0FBSyxvREFBNkMwbkQsRUFBVzNGLHFCQUFvQixhQUFLd0YsRUFBVSxnQkFFeEdwMUMsUUFBUW5TLEtBQUssNkRBQXNEeW5ELEVBQVcxRixxQkFBb0IsYUFBS0QsRUFBVSxnQkFFakgzdkMsUUFBUW5TLEtBQUssZ0NBQXlCd25ELEVBQWtCLE1BRWxESyxFQUF3QixJQUFJWixHQUM1QmEsRUFBNkIsSUFBSUMsR0FDakNDLEVBQXNCLElBQUlDLEdBQzFCQyxFQUF5QixJQUFJQyxHQUVYLEdBQU1OLEVBQXNCZix3QkFDdkIsT0FEdkJDLEVBQWtCLFNBQ0ssR0FBTWUsRUFBMkJqTiw2QkFBNkI0TSxXQUUzRixJQUZNVyxFQUF1QixTQUV4QixFQUFMLEVBQTZCLEVBQUFyQixFQUFBLGdCQUFsQnRFLEVBQWMsTUFDVFosV0FBYWlHLEVBQTJCeE0sa0JBQWtCbUgsRUFBZ0IyRixHQUkxRmoyQyxRQUFRK0IsTUFBTSw2QkFBc0I3bUIsS0FBS0MsVUFBVXk1RCxFQUFpQixLQUFNLEtBQzFFbUIsRUFBdUIvSixZQUFZLENBQUUxQixXQUFZLDRCQUE2QnpkLE1BQU8rbkIsRUFBZ0JqbUUsU0FFakd1bkUsRUFBZSxFQUNmQyxFQUFlLEVBQ2ZDLEVBQW9CLE1BRUssRUFBQXhCLDBCQUFBLFlBQWxCdEUsRUFBYyxNQUNMSSxTQUVsQjF3QyxRQUFRdVcsS0FBSyx3QkFBaUJyN0IsS0FBS0MsVUFBVW0xRCxLQUM3QzRGLFdBSEcsTUFEdUMsb0JBS2hDNUYsRUFBZVosV0FBYTRGLEdBQ3RDYSxJQUNBLEdBQU1ULEVBQXNCUixXQUFXNUUsS0FGN0Isb0JBRVYsNkJBQ1UrRSxHQUNKL0UsRUFBZWpJLE9BQVNnSCxHQUFlZ0gsUUFDdkMvRixFQUFlWixXQUFXRSx1QkFBeUIyRixFQUFXM0Ysc0JBQ3BFd0csSUFDQSxHQUFNUCxFQUFvQnBHLFdBQVdhLEtBSjNCLGFBSVYsaUNBWjJCLGlCQW9CN0IsT0FKQXlGLEVBQXVCL0osWUFBWSxDQUFFMUIsV0FBWSxvQkFBcUJ6ZCxNQUFPcXBCLElBQzdFSCxFQUF1Qi9KLFlBQVksQ0FBRTFCLFdBQVksb0JBQXFCemQsTUFBT3NwQixJQUM3RUosRUFBdUIvSixZQUFZLENBQUUxQixXQUFZLHlCQUEwQnpkLE1BQU91cEIsSUFDbEZMLEVBQXVCL0osWUFBWSxDQUFFMUIsV0FBWSxnQ0FBaUN6ZCxNQUFPK25CLEVBQWdCam1FLE9BQVN3bkUsSUFDbEgsR0FBTUosRUFBdUI3SixvQ0FBN0IsOEJBdkRjLGtSQXdEZCIsInNvdXJjZXMiOlsid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vY3JjMzIvYnVpbGQvYXdzX2NyYzMyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vY3JjMzIvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by9jcmMzMi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vdXRpbC9idWlsZC9jb252ZXJ0VG9CdWZmZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by91dGlsL2J1aWxkL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vdXRpbC9idWlsZC9pc0VtcHR5RGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvbnVtVG9VaW50OC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvdWludDMyQXJyYXlGcm9tLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11dGY4LWJyb3dzZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtdXRmOC1icm93c2VyL2Rpc3QtZXMvd2hhdHdnRW5jb2RpbmdBcGkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXV0ZjgtYnJvd3Nlci9kaXN0LWVzL3B1cmVKcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMvZnhwLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy91dGlsLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy92YWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbGJ1aWxkZXIvanNvbjJ4bWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbGJ1aWxkZXIvb3JkZXJlZEpzMlhtbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL0RvY1R5cGVSZWFkZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci9PcHRpb25zQnVpbGRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL09yZGVyZWRPYmpQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci9YTUxQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci9ub2RlMmpzb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3htbHBhcnNlci94bWxOb2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvc3RybnVtL3N0cm51bS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvdG9jb2wtaHR0cC9kaXN0LWVzL2V4dGVuc2lvbnMvaHR0cEV4dGVuc2lvbkNvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3R5cGVzL2Rpc3QtZXMvYXV0aC9hdXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS90eXBlcy9kaXN0LWVzL2F1dGgvSHR0cEFwaUtleUF1dGguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3R5cGVzL2Rpc3QtZXMvZW5kcG9pbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3R5cGVzL2Rpc3QtZXMvZXh0ZW5zaW9ucy9jaGVja3N1bS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdHlwZXMvZGlzdC1lcy9odHRwLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS90eXBlcy9kaXN0LWVzL21pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3R5cGVzL2Rpc3QtZXMvcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdHlwZXMvZGlzdC1lcy90cmFuc2Zlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvdG9jb2wtaHR0cC9kaXN0LWVzL2h0dHBSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9wcm90b2NvbC1odHRwL2Rpc3QtZXMvaHR0cFJlc3BvbnNlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlci9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXIvZGlzdC1lcy9sb2dnZXJNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvbWVtb2l6ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmcvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9JbnQ2NC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9IZWFkZXJNYXJzaGFsbGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ldmVudHN0cmVhbS1jb2RlYy9kaXN0LWVzL01lc3NhZ2VEZWNvZGVyU3RyZWFtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ldmVudHN0cmVhbS1jb2RlYy9kaXN0LWVzL01lc3NhZ2VFbmNvZGVyU3RyZWFtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ldmVudHN0cmVhbS1jb2RlYy9kaXN0LWVzL1NtaXRoeU1lc3NhZ2VEZWNvZGVyU3RyZWFtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ldmVudHN0cmVhbS1jb2RlYy9kaXN0LWVzL1NtaXRoeU1lc3NhZ2VFbmNvZGVyU3RyZWFtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLW1pZGRsZXdhcmUvZGlzdC1lcy9nZXRTbWl0aHlDb250ZXh0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLW1pZGRsZXdhcmUvZGlzdC1lcy9ub3JtYWxpemVQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvaXMtYXJyYXktYnVmZmVyL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiYnVmZmVyXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtYnVmZmVyLWZyb20vZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC11dGY4L2Rpc3QtZXMvZnJvbVV0ZjguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtdXRmOC9kaXN0LWVzL3RvVWludDhBcnJheS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC11dGY4L2Rpc3QtZXMvdG9VdGY4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL2NyZWRlbnRpYWxEZXJpdmF0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy9nZXRDYW5vbmljYWxIZWFkZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXVyaS1lc2NhcGUvZGlzdC1lcy9lc2NhcGUtdXJpLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy9nZXRQYXlsb2FkSGFzaC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvY2xvbmVSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaWduYXR1cmUtdjQvZGlzdC1lcy9wcmVwYXJlUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvU2lnbmF0dXJlVjQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL21vdmVIZWFkZXJzVG9RdWVyeS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvaGVhZGVyVXRpbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvZ2V0Q2Fub25pY2FsUXVlcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NpZ25hdHVyZS12NC9kaXN0LWVzL3V0aWxEYXRlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nL2Rpc3QtZXMvYXdzQXV0aENvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmcvZGlzdC1lcy91dGlscy9nZXRTa2V3Q29ycmVjdGVkRGF0ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZy9kaXN0LWVzL3V0aWxzL2dldFVwZGF0ZWRTeXN0ZW1DbG9ja09mZnNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZy9kaXN0LWVzL3V0aWxzL2lzQ2xvY2tTa2V3ZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmcvZGlzdC1lcy9hd3NBdXRoTWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudC9kaXN0LWVzL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9pc0lwQWRkcmVzcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvaXNWYWxpZEhvc3RMYWJlbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9jdXN0b21FbmRwb2ludEZ1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9kZWJ1Zy9kZWJ1Z0lkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2RlYnVnL3RvRGVidWdTdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdHlwZXMvRW5kcG9pbnRFcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvYm9vbGVhbkVxdWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvZ2V0QXR0ci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvZ2V0QXR0clBhdGhMaXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9wYXJzZVVSTC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9lbmRwb2ludEZ1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvaXNTZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL25vdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvc3RyaW5nRXF1YWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9zdWJzdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL3VyaUVuY29kZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZVRlbXBsYXRlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlRXhwcmVzc2lvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRSZWZlcmVuY2VWYWx1ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9jYWxsRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVDb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVDb25kaXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2dldEVuZHBvaW50SGVhZGVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRFbmRwb2ludFByb3BlcnR5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2dldEVuZHBvaW50UHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRFbmRwb2ludFVybC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZUVuZHBvaW50UnVsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZUVycm9yUnVsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZVRyZWVSdWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlUnVsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvcmVzb2x2ZUVuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvYXdzL2lzVmlydHVhbEhvc3RhYmxlUzNCdWNrZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9hd3MvcGFydGl0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9hd3MuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9hd3MvcGFyc2VBcm4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnQvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnQvZGlzdC1lcy91c2VyLWFnZW50LW1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtY29uZmlnLXByb3ZpZGVyL2Rpc3QtZXMvYm9vbGVhblNlbGVjdG9yLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9lbmRwb2ludHNDb25maWcvTm9kZVVzZUR1YWxzdGFja0VuZHBvaW50Q29uZmlnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY29uZmlnLXJlc29sdmVyL2Rpc3QtZXMvZW5kcG9pbnRzQ29uZmlnL05vZGVVc2VGaXBzRW5kcG9pbnRDb25maWdPcHRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9yZWdpb25Db25maWcvY29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9yZWdpb25Db25maWcvaXNGaXBzUmVnaW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9yZWdpb25Db25maWcvZ2V0UmVhbFJlZ2lvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY29uZmlnLXJlc29sdmVyL2Rpc3QtZXMvcmVnaW9uQ29uZmlnL3Jlc29sdmVSZWdpb25Db25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtY29udGVudC1sZW5ndGgvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludC9kaXN0LWVzL3NlcnZpY2UtY3VzdG9taXphdGlvbnMvczMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9hZGFwdG9ycy9jcmVhdGVDb25maWdWYWx1ZVByb3ZpZGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlci9kaXN0LWVzL1Byb3ZpZGVyRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvY2hhaW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvQ3JlZGVudGlhbHNQcm92aWRlckVycm9yLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlci9kaXN0LWVzL2Zyb21FbnYuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwib3NcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRIb21lRGlyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0UHJvZmlsZU5hbWUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiY3J5cHRvXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRTU09Ub2tlbkZpbGVwYXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRTU09Ub2tlbkZyb21GaWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0Q29uZmlnRGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2dldENvbmZpZ0ZpbGVwYXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0Q3JlZGVudGlhbHNGaWxlcGF0aC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL3BhcnNlSW5pLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvc2x1cnBGaWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvbG9hZFNoYXJlZENvbmZpZ0ZpbGVzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0U3NvU2Vzc2lvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9sb2FkU3NvU2Vzc2lvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9wYXJzZUtub3duRmlsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9tZXJnZUNvbmZpZ0ZpbGVzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlci9kaXN0LWVzL2NvbmZpZ0xvYWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXIvZGlzdC1lcy9mcm9tU2hhcmVkQ29uZmlnRmlsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyL2Rpc3QtZXMvZnJvbVN0YXRpYy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvcGVydHktcHJvdmlkZXIvZGlzdC1lcy9mcm9tU3RhdGljLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvYWRhcHRvcnMvZ2V0RW5kcG9pbnRVcmxDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3VybC1wYXJzZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcXVlcnlzdHJpbmctcGFyc2VyL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9hZGFwdG9ycy90b0VuZHBvaW50VjEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9hZGFwdG9ycy9nZXRFbmRwb2ludEZyb21JbnN0cnVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9lbmRwb2ludE1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9hZGFwdG9ycy9nZXRFbmRwb2ludEZyb21Db25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtc2VyZGUvZGlzdC1lcy9zZXJkZVBsdWdpbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1zZXJkZS9kaXN0LWVzL2Rlc2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtc2VyZGUvZGlzdC1lcy9zZXJpYWxpemVyTWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludC9kaXN0LWVzL2dldEVuZHBvaW50UGx1Z2luLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvcmVzb2x2ZUVuZHBvaW50Q29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXJldHJ5L2Rpc3QtZXMvY29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uL2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtcmV0cnkvZGlzdC1lcy9EZWZhdWx0UmF0ZUxpbWl0ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtcmV0cnkvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtcmV0cnkvZGlzdC1lcy9kZWZhdWx0UmV0cnlUb2tlbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1yZXRyeS9kaXN0LWVzL1N0YW5kYXJkUmV0cnlTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1yZXRyeS9kaXN0LWVzL2RlZmF1bHRSZXRyeUJhY2tvZmZTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1yZXRyeS9kaXN0LWVzL0FkYXB0aXZlUmV0cnlTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1yZXRyeS9kaXN0LWVzL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JuZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9yZWdleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtcmV0cnkvZGlzdC1lcy9yZXRyeU1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L21pZGRsZXdhcmUtcmV0cnkvZGlzdC1lcy91dGlsLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvTm9PcExvZ2dlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbWlkZGxld2FyZS1zdGFjay9kaXN0LWVzL01pZGRsZXdhcmVTdGFjay5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1iYXNlNjQvZGlzdC1lcy9mcm9tQmFzZTY0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWJhc2U2NC9kaXN0LWVzL3RvQmFzZTY0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXN0cmVhbS9kaXN0LWVzL2Jsb2IvVWludDhBcnJheUJsb2JBZGFwdGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLXN0cmVhbS9kaXN0LWVzL2Jsb2IvdHJhbnNmb3Jtcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJzdHJlYW1cIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiaHR0cHNcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvZ2V0LXRyYW5zZm9ybWVkLWhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvbm9kZS1odHRwLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3F1ZXJ5c3RyaW5nLWJ1aWxkZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9zZXQtY29ubmVjdGlvbi10aW1lb3V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9ub2RlLWh0dHAtaGFuZGxlci9kaXN0LWVzL3NldC1zb2NrZXQtdGltZW91dC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9zZXQtc29ja2V0LWtlZXAtYWxpdmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvd3JpdGUtcmVxdWVzdC1ib2R5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImh0dHAyXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvbm9kZS1odHRwMi1jb25uZWN0aW9uLXBvb2wuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc3RyZWFtLWNvbGxlY3Rvci9jb2xsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc3RyZWFtLWNvbGxlY3Rvci9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJ1dGlsXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9jb2xsZWN0LXN0cmVhbS1ib2R5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvY29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL3BhcnNlLXV0aWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2V4Y2VwdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9kZWZhdWx0LWVycm9yLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9kZWZhdWx0cy1tb2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2V4dGVuc2lvbnMvY2hlY2tzdW0uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9leHRlbnNpb25zL3JldHJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZXh0ZW5zaW9ucy9kZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvc21pdGh5LWNsaWVudC9kaXN0LWVzL2V4dGVuZGVkLWVuY29kZS11cmktY29tcG9uZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZ2V0LXZhbHVlLWZyb20tdGV4dC1ub2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvbGF6eS1qc29uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvb2JqZWN0LW1hcHBpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9yZXNvbHZlLXBhdGguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9zZXItdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3NtaXRoeS1jbGllbnQvZGlzdC1lcy9zZXJkZS1qc29uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL21vZGVscy9TVFNTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL21vZGVscy9tb2RlbHNfMC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3F1ZXJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2NvbW1hbmRzL0Fzc3VtZVJvbGVDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2NvbW1hbmRzL0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2RlZmF1bHRTdHNSb2xlQXNzdW1lcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jb3JlL2Rpc3QtZXMvY2xpZW50L2VtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWVudi9kaXN0LWVzL2Zyb21FbnYuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwidXJsXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3JlbW90ZVByb3ZpZGVyL2h0dHBSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9yZW1vdGVQcm92aWRlci9JbWRzQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3JlbW90ZVByb3ZpZGVyL1JlbW90ZVByb3ZpZGVySW5pdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvcmVtb3RlUHJvdmlkZXIvcmV0cnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2Zyb21Db250YWluZXJNZXRhZGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvZXJyb3IvSW5zdGFuY2VNZXRhZGF0YVYxRmFsbGJhY2tFcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvY29uZmlnL0VuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9jb25maWcvRW5kcG9pbnRDb25maWdPcHRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9jb25maWcvRW5kcG9pbnRNb2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9jb25maWcvRW5kcG9pbnRNb2RlQ29uZmlnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvdXRpbHMvZ2V0SW5zdGFuY2VNZXRhZGF0YUVuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy91dGlscy9nZXRFeHRlbmRlZEluc3RhbmNlTWV0YWRhdGFDcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvZnJvbUluc3RhbmNlTWV0YWRhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3V0aWxzL3N0YXRpY1N0YWJpbGl0eVByb3ZpZGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNoaWxkX3Byb2Nlc3NcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItcHJvY2Vzcy9kaXN0LWVzL2Zyb21Qcm9jZXNzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzL2Rpc3QtZXMvcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItcHJvY2Vzcy9kaXN0LWVzL2dldFZhbGlkYXRlZFByb2Nlc3NDcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvL2Rpc3QtZXMvaXNTc29Qcm9maWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInByb2Nlc3NcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L2hhc2gtbm9kZS9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWJvZHktbGVuZ3RoLW5vZGUvZGlzdC1lcy9jYWxjdWxhdGVCb2R5TGVuZ3RoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGUvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlL2Rpc3QtZXMvZGVmYXVsdHNNb2RlQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZS9kaXN0LWVzL3Jlc29sdmVEZWZhdWx0c01vZGVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9yZWdpb24tY29uZmlnLXJlc29sdmVyL2Rpc3QtZXMvZXh0ZW5zaW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9TU09DbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvcnVudGltZUV4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvbW9kZWxzL1NTT1NlcnZpY2VFeGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvbW9kZWxzL21vZGVsc18wLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL2NvbW1hbmRzL0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvVG9rZW5Qcm92aWRlckVycm9yLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvYnVuZGxlL2NsaWVudC1zc28tb2lkYy1ub2RlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQHNtaXRoeS9zbWl0aHktY2xpZW50L2Rpc3QtZXMvY3JlYXRlLWFnZ3JlZ2F0ZWQtY2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvZ2V0U3NvT2lkY0NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL3ZhbGlkYXRlVG9rZW5FeHBpcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy92YWxpZGF0ZVRva2VuS2V5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvd3JpdGVTU09Ub2tlblRvRmlsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL2Zyb21Tc28uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy9nZXROZXdTc29PaWRjVG9rZW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzby9kaXN0LWVzL3Jlc29sdmVTU09DcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvL2Rpc3QtZXMvdmFsaWRhdGVTc29Qcm9maWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc28vZGlzdC1lcy9mcm9tU1NPLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXdlYi1pZGVudGl0eS9kaXN0LWVzL2Zyb21Ub2tlbkZpbGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXdlYi1pZGVudGl0eS9kaXN0LWVzL2Zyb21XZWJUb2tlbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZVByb2ZpbGVEYXRhLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlQ3JlZGVudGlhbFNvdXJjZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVTc29DcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9kaXN0LWVzL2RlZmF1bHRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvZnJvbUluaS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9kaXN0LWVzL3JlbW90ZVByb3ZpZGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9TVFNDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvcnVudGltZUV4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zdHMvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9kZWZhdWx0Um9sZUFzc3VtZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9DbG91ZFRyYWlsQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9ydW50aW1lRXh0ZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvbW9kZWxzL0Nsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL3Byb3RvY29scy9Bd3NfanNvbjFfMS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvY29tbWFuZHMvTG9va3VwRXZlbnRzQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vc3JjL0Nsb3VkVHJhaWxVc2VyRXZlbnQudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9DbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9DbG91ZFdhdGNoQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9ydW50aW1lQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvcnVudGltZUV4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL21vZGVscy9DbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvbW9kZWxzL21vZGVsc18wLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3F1ZXJ5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9jb21tYW5kcy9QdXRNZXRyaWNEYXRhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vc3JjL0Nsb3VkV2F0Y2hNZXRyaWNDbGllbnQudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9TRVNDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9ydW50aW1lRXh0ZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9tb2RlbHMvU0VTU2VydmljZUV4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvcHJvdG9jb2xzL0F3c19xdWVyeS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9jb21tYW5kcy9TZW5kRW1haWxDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9zcmMvUXVpY2tTaWdodFVzZXIudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9Ob3RpZmljYXRpb25NYW5hZ2VyLnRzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL1F1aWNrU2lnaHRDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9ydW50aW1lRXh0ZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvbW9kZWxzL1F1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL21vZGVscy9tb2RlbHNfMi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvbW9kZWxzL21vZGVsc18zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3Jlc3RKc29uMS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvY29tbWFuZHMvTGlzdFVzZXJzQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvY29tbWFuZHMvRGVsZXRlVXNlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9RdWlja1NpZ2h0VXNlck1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9wcnVuZVF1aWNrU2lnaHRVc2Vycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bd3NDcmMzMiA9IHZvaWQgMDtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCJAYXdzLWNyeXB0by91dGlsXCIpO1xudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi9pbmRleFwiKTtcbnZhciBBd3NDcmMzMiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBd3NDcmMzMigpIHtcbiAgICAgICAgdGhpcy5jcmMzMiA9IG5ldyBpbmRleF8xLkNyYzMyKCk7XG4gICAgfVxuICAgIEF3c0NyYzMyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodG9IYXNoKSB7XG4gICAgICAgIGlmICgoMCwgdXRpbF8xLmlzRW1wdHlEYXRhKSh0b0hhc2gpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmNyYzMyLnVwZGF0ZSgoMCwgdXRpbF8xLmNvbnZlcnRUb0J1ZmZlcikodG9IYXNoKSk7XG4gICAgfTtcbiAgICBBd3NDcmMzMi5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAoMCwgdXRpbF8xLm51bVRvVWludDgpKHRoaXMuY3JjMzIuZGlnZXN0KCkpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF3c0NyYzMyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmMzMiA9IG5ldyBpbmRleF8xLkNyYzMyKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXdzQ3JjMzI7XG59KCkpO1xuZXhwb3J0cy5Bd3NDcmMzMiA9IEF3c0NyYzMyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXdzX2NyYzMyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bd3NDcmMzMiA9IGV4cG9ydHMuQ3JjMzIgPSBleHBvcnRzLmNyYzMyID0gdm9pZCAwO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIkBhd3MtY3J5cHRvL3V0aWxcIik7XG5mdW5jdGlvbiBjcmMzMihkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBDcmMzMigpLnVwZGF0ZShkYXRhKS5kaWdlc3QoKTtcbn1cbmV4cG9ydHMuY3JjMzIgPSBjcmMzMjtcbnZhciBDcmMzMiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDcmMzMigpIHtcbiAgICAgICAgdGhpcy5jaGVja3N1bSA9IDB4ZmZmZmZmZmY7XG4gICAgfVxuICAgIENyYzMyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGRhdGFfMSA9IHRzbGliXzEuX192YWx1ZXMoZGF0YSksIGRhdGFfMV8xID0gZGF0YV8xLm5leHQoKTsgIWRhdGFfMV8xLmRvbmU7IGRhdGFfMV8xID0gZGF0YV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja3N1bSA9XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmNoZWNrc3VtID4+PiA4KSBeIGxvb2t1cFRhYmxlWyh0aGlzLmNoZWNrc3VtIF4gYnl0ZSkgJiAweGZmXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFfMV8xICYmICFkYXRhXzFfMS5kb25lICYmIChfYSA9IGRhdGFfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBDcmMzMi5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY2hlY2tzdW0gXiAweGZmZmZmZmZmKSA+Pj4gMDtcbiAgICB9O1xuICAgIHJldHVybiBDcmMzMjtcbn0oKSk7XG5leHBvcnRzLkNyYzMyID0gQ3JjMzI7XG4vLyBwcmV0dGllci1pZ25vcmVcbnZhciBhX2xvb2tVcFRhYmxlID0gW1xuICAgIDB4MDAwMDAwMDAsIDB4NzcwNzMwOTYsIDB4RUUwRTYxMkMsIDB4OTkwOTUxQkEsXG4gICAgMHgwNzZEQzQxOSwgMHg3MDZBRjQ4RiwgMHhFOTYzQTUzNSwgMHg5RTY0OTVBMyxcbiAgICAweDBFREI4ODMyLCAweDc5RENCOEE0LCAweEUwRDVFOTFFLCAweDk3RDJEOTg4LFxuICAgIDB4MDlCNjRDMkIsIDB4N0VCMTdDQkQsIDB4RTdCODJEMDcsIDB4OTBCRjFEOTEsXG4gICAgMHgxREI3MTA2NCwgMHg2QUIwMjBGMiwgMHhGM0I5NzE0OCwgMHg4NEJFNDFERSxcbiAgICAweDFBREFENDdELCAweDZERERFNEVCLCAweEY0RDRCNTUxLCAweDgzRDM4NUM3LFxuICAgIDB4MTM2Qzk4NTYsIDB4NjQ2QkE4QzAsIDB4RkQ2MkY5N0EsIDB4OEE2NUM5RUMsXG4gICAgMHgxNDAxNUM0RiwgMHg2MzA2NkNEOSwgMHhGQTBGM0Q2MywgMHg4RDA4MERGNSxcbiAgICAweDNCNkUyMEM4LCAweDRDNjkxMDVFLCAweEQ1NjA0MUU0LCAweEEyNjc3MTcyLFxuICAgIDB4M0MwM0U0RDEsIDB4NEIwNEQ0NDcsIDB4RDIwRDg1RkQsIDB4QTUwQUI1NkIsXG4gICAgMHgzNUI1QThGQSwgMHg0MkIyOTg2QywgMHhEQkJCQzlENiwgMHhBQ0JDRjk0MCxcbiAgICAweDMyRDg2Q0UzLCAweDQ1REY1Qzc1LCAweERDRDYwRENGLCAweEFCRDEzRDU5LFxuICAgIDB4MjZEOTMwQUMsIDB4NTFERTAwM0EsIDB4QzhENzUxODAsIDB4QkZEMDYxMTYsXG4gICAgMHgyMUI0RjRCNSwgMHg1NkIzQzQyMywgMHhDRkJBOTU5OSwgMHhCOEJEQTUwRixcbiAgICAweDI4MDJCODlFLCAweDVGMDU4ODA4LCAweEM2MENEOUIyLCAweEIxMEJFOTI0LFxuICAgIDB4MkY2RjdDODcsIDB4NTg2ODRDMTEsIDB4QzE2MTFEQUIsIDB4QjY2NjJEM0QsXG4gICAgMHg3NkRDNDE5MCwgMHgwMURCNzEwNiwgMHg5OEQyMjBCQywgMHhFRkQ1MTAyQSxcbiAgICAweDcxQjE4NTg5LCAweDA2QjZCNTFGLCAweDlGQkZFNEE1LCAweEU4QjhENDMzLFxuICAgIDB4NzgwN0M5QTIsIDB4MEYwMEY5MzQsIDB4OTYwOUE4OEUsIDB4RTEwRTk4MTgsXG4gICAgMHg3RjZBMERCQiwgMHgwODZEM0QyRCwgMHg5MTY0NkM5NywgMHhFNjYzNUMwMSxcbiAgICAweDZCNkI1MUY0LCAweDFDNkM2MTYyLCAweDg1NjUzMEQ4LCAweEYyNjIwMDRFLFxuICAgIDB4NkMwNjk1RUQsIDB4MUIwMUE1N0IsIDB4ODIwOEY0QzEsIDB4RjUwRkM0NTcsXG4gICAgMHg2NUIwRDlDNiwgMHgxMkI3RTk1MCwgMHg4QkJFQjhFQSwgMHhGQ0I5ODg3QyxcbiAgICAweDYyREQxRERGLCAweDE1REEyRDQ5LCAweDhDRDM3Q0YzLCAweEZCRDQ0QzY1LFxuICAgIDB4NERCMjYxNTgsIDB4M0FCNTUxQ0UsIDB4QTNCQzAwNzQsIDB4RDRCQjMwRTIsXG4gICAgMHg0QURGQTU0MSwgMHgzREQ4OTVENywgMHhBNEQxQzQ2RCwgMHhEM0Q2RjRGQixcbiAgICAweDQzNjlFOTZBLCAweDM0NkVEOUZDLCAweEFENjc4ODQ2LCAweERBNjBCOEQwLFxuICAgIDB4NDQwNDJENzMsIDB4MzMwMzFERTUsIDB4QUEwQTRDNUYsIDB4REQwRDdDQzksXG4gICAgMHg1MDA1NzEzQywgMHgyNzAyNDFBQSwgMHhCRTBCMTAxMCwgMHhDOTBDMjA4NixcbiAgICAweDU3NjhCNTI1LCAweDIwNkY4NUIzLCAweEI5NjZENDA5LCAweENFNjFFNDlGLFxuICAgIDB4NUVERUY5MEUsIDB4MjlEOUM5OTgsIDB4QjBEMDk4MjIsIDB4QzdEN0E4QjQsXG4gICAgMHg1OUIzM0QxNywgMHgyRUI0MEQ4MSwgMHhCN0JENUMzQiwgMHhDMEJBNkNBRCxcbiAgICAweEVEQjg4MzIwLCAweDlBQkZCM0I2LCAweDAzQjZFMjBDLCAweDc0QjFEMjlBLFxuICAgIDB4RUFENTQ3MzksIDB4OUREMjc3QUYsIDB4MDREQjI2MTUsIDB4NzNEQzE2ODMsXG4gICAgMHhFMzYzMEIxMiwgMHg5NDY0M0I4NCwgMHgwRDZENkEzRSwgMHg3QTZBNUFBOCxcbiAgICAweEU0MEVDRjBCLCAweDkzMDlGRjlELCAweDBBMDBBRTI3LCAweDdEMDc5RUIxLFxuICAgIDB4RjAwRjkzNDQsIDB4ODcwOEEzRDIsIDB4MUUwMUYyNjgsIDB4NjkwNkMyRkUsXG4gICAgMHhGNzYyNTc1RCwgMHg4MDY1NjdDQiwgMHgxOTZDMzY3MSwgMHg2RTZCMDZFNyxcbiAgICAweEZFRDQxQjc2LCAweDg5RDMyQkUwLCAweDEwREE3QTVBLCAweDY3REQ0QUNDLFxuICAgIDB4RjlCOURGNkYsIDB4OEVCRUVGRjksIDB4MTdCN0JFNDMsIDB4NjBCMDhFRDUsXG4gICAgMHhENkQ2QTNFOCwgMHhBMUQxOTM3RSwgMHgzOEQ4QzJDNCwgMHg0RkRGRjI1MixcbiAgICAweEQxQkI2N0YxLCAweEE2QkM1NzY3LCAweDNGQjUwNkRELCAweDQ4QjIzNjRCLFxuICAgIDB4RDgwRDJCREEsIDB4QUYwQTFCNEMsIDB4MzYwMzRBRjYsIDB4NDEwNDdBNjAsXG4gICAgMHhERjYwRUZDMywgMHhBODY3REY1NSwgMHgzMTZFOEVFRiwgMHg0NjY5QkU3OSxcbiAgICAweENCNjFCMzhDLCAweEJDNjY4MzFBLCAweDI1NkZEMkEwLCAweDUyNjhFMjM2LFxuICAgIDB4Q0MwQzc3OTUsIDB4QkIwQjQ3MDMsIDB4MjIwMjE2QjksIDB4NTUwNTI2MkYsXG4gICAgMHhDNUJBM0JCRSwgMHhCMkJEMEIyOCwgMHgyQkI0NUE5MiwgMHg1Q0IzNkEwNCxcbiAgICAweEMyRDdGRkE3LCAweEI1RDBDRjMxLCAweDJDRDk5RThCLCAweDVCREVBRTFELFxuICAgIDB4OUI2NEMyQjAsIDB4RUM2M0YyMjYsIDB4NzU2QUEzOUMsIDB4MDI2RDkzMEEsXG4gICAgMHg5QzA5MDZBOSwgMHhFQjBFMzYzRiwgMHg3MjA3Njc4NSwgMHgwNTAwNTcxMyxcbiAgICAweDk1QkY0QTgyLCAweEUyQjg3QTE0LCAweDdCQjEyQkFFLCAweDBDQjYxQjM4LFxuICAgIDB4OTJEMjhFOUIsIDB4RTVENUJFMEQsIDB4N0NEQ0VGQjcsIDB4MEJEQkRGMjEsXG4gICAgMHg4NkQzRDJENCwgMHhGMUQ0RTI0MiwgMHg2OEREQjNGOCwgMHgxRkRBODM2RSxcbiAgICAweDgxQkUxNkNELCAweEY2QjkyNjVCLCAweDZGQjA3N0UxLCAweDE4Qjc0Nzc3LFxuICAgIDB4ODgwODVBRTYsIDB4RkYwRjZBNzAsIDB4NjYwNjNCQ0EsIDB4MTEwMTBCNUMsXG4gICAgMHg4RjY1OUVGRiwgMHhGODYyQUU2OSwgMHg2MTZCRkZEMywgMHgxNjZDQ0Y0NSxcbiAgICAweEEwMEFFMjc4LCAweEQ3MEREMkVFLCAweDRFMDQ4MzU0LCAweDM5MDNCM0MyLFxuICAgIDB4QTc2NzI2NjEsIDB4RDA2MDE2RjcsIDB4NDk2OTQ3NEQsIDB4M0U2RTc3REIsXG4gICAgMHhBRUQxNkE0QSwgMHhEOUQ2NUFEQywgMHg0MERGMEI2NiwgMHgzN0Q4M0JGMCxcbiAgICAweEE5QkNBRTUzLCAweERFQkI5RUM1LCAweDQ3QjJDRjdGLCAweDMwQjVGRkU5LFxuICAgIDB4QkRCREYyMUMsIDB4Q0FCQUMyOEEsIDB4NTNCMzkzMzAsIDB4MjRCNEEzQTYsXG4gICAgMHhCQUQwMzYwNSwgMHhDREQ3MDY5MywgMHg1NERFNTcyOSwgMHgyM0Q5NjdCRixcbiAgICAweEIzNjY3QTJFLCAweEM0NjE0QUI4LCAweDVENjgxQjAyLCAweDJBNkYyQjk0LFxuICAgIDB4QjQwQkJFMzcsIDB4QzMwQzhFQTEsIDB4NUEwNURGMUIsIDB4MkQwMkVGOEQsXG5dO1xudmFyIGxvb2t1cFRhYmxlID0gKDAsIHV0aWxfMS51aW50MzJBcnJheUZyb20pKGFfbG9va1VwVGFibGUpO1xudmFyIGF3c19jcmMzMl8xID0gcmVxdWlyZShcIi4vYXdzX2NyYzMyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXdzQ3JjMzJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF3c19jcmMzMl8xLkF3c0NyYzMyOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29udmVydFRvQnVmZmVyID0gdm9pZCAwO1xudmFyIHV0aWxfdXRmOF9icm93c2VyXzEgPSByZXF1aXJlKFwiQGF3cy1zZGsvdXRpbC11dGY4LWJyb3dzZXJcIik7XG4vLyBRdWljayBwb2x5ZmlsbFxudmFyIGZyb21VdGY4ID0gdHlwZW9mIEJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBCdWZmZXIuZnJvbVxuICAgID8gZnVuY3Rpb24gKGlucHV0KSB7IHJldHVybiBCdWZmZXIuZnJvbShpbnB1dCwgXCJ1dGY4XCIpOyB9XG4gICAgOiB1dGlsX3V0ZjhfYnJvd3Nlcl8xLmZyb21VdGY4O1xuZnVuY3Rpb24gY29udmVydFRvQnVmZmVyKGRhdGEpIHtcbiAgICAvLyBBbHJlYWR5IGEgVWludDgsIGRvIG5vdGhpbmdcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG59XG5leHBvcnRzLmNvbnZlcnRUb0J1ZmZlciA9IGNvbnZlcnRUb0J1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnZlcnRUb0J1ZmZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51aW50MzJBcnJheUZyb20gPSBleHBvcnRzLm51bVRvVWludDggPSBleHBvcnRzLmlzRW1wdHlEYXRhID0gZXhwb3J0cy5jb252ZXJ0VG9CdWZmZXIgPSB2b2lkIDA7XG52YXIgY29udmVydFRvQnVmZmVyXzEgPSByZXF1aXJlKFwiLi9jb252ZXJ0VG9CdWZmZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb252ZXJ0VG9CdWZmZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnZlcnRUb0J1ZmZlcl8xLmNvbnZlcnRUb0J1ZmZlcjsgfSB9KTtcbnZhciBpc0VtcHR5RGF0YV8xID0gcmVxdWlyZShcIi4vaXNFbXB0eURhdGFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc0VtcHR5RGF0YVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNFbXB0eURhdGFfMS5pc0VtcHR5RGF0YTsgfSB9KTtcbnZhciBudW1Ub1VpbnQ4XzEgPSByZXF1aXJlKFwiLi9udW1Ub1VpbnQ4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibnVtVG9VaW50OFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVtVG9VaW50OF8xLm51bVRvVWludDg7IH0gfSk7XG52YXIgdWludDMyQXJyYXlGcm9tXzEgPSByZXF1aXJlKFwiLi91aW50MzJBcnJheUZyb21cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1aW50MzJBcnJheUZyb21cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVpbnQzMkFycmF5RnJvbV8xLnVpbnQzMkFycmF5RnJvbTsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20gSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzRW1wdHlEYXRhID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNFbXB0eURhdGEoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLmJ5dGVMZW5ndGggPT09IDA7XG59XG5leHBvcnRzLmlzRW1wdHlEYXRhID0gaXNFbXB0eURhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0VtcHR5RGF0YS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5udW1Ub1VpbnQ4ID0gdm9pZCAwO1xuZnVuY3Rpb24gbnVtVG9VaW50OChudW0pIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAobnVtICYgMHhmZjAwMDAwMCkgPj4gMjQsXG4gICAgICAgIChudW0gJiAweDAwZmYwMDAwKSA+PiAxNixcbiAgICAgICAgKG51bSAmIDB4MDAwMGZmMDApID4+IDgsXG4gICAgICAgIG51bSAmIDB4MDAwMDAwZmYsXG4gICAgXSk7XG59XG5leHBvcnRzLm51bVRvVWludDggPSBudW1Ub1VpbnQ4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtVG9VaW50OC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51aW50MzJBcnJheUZyb20gPSB2b2lkIDA7XG4vLyBJRSAxMSBkb2VzIG5vdCBzdXBwb3J0IEFycmF5LmZyb20sIHNvIHdlIGRvIGl0IG1hbnVhbGx5XG5mdW5jdGlvbiB1aW50MzJBcnJheUZyb20oYV9sb29rVXBUYWJsZSkge1xuICAgIGlmICghVWludDMyQXJyYXkuZnJvbSkge1xuICAgICAgICB2YXIgcmV0dXJuX2FycmF5ID0gbmV3IFVpbnQzMkFycmF5KGFfbG9va1VwVGFibGUubGVuZ3RoKTtcbiAgICAgICAgdmFyIGFfaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoYV9pbmRleCA8IGFfbG9va1VwVGFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm5fYXJyYXlbYV9pbmRleF0gPSBhX2xvb2tVcFRhYmxlW2FfaW5kZXhdO1xuICAgICAgICAgICAgYV9pbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5fYXJyYXk7XG4gICAgfVxuICAgIHJldHVybiBVaW50MzJBcnJheS5mcm9tKGFfbG9va1VwVGFibGUpO1xufVxuZXhwb3J0cy51aW50MzJBcnJheUZyb20gPSB1aW50MzJBcnJheUZyb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD11aW50MzJBcnJheUZyb20uanMubWFwIiwiaW1wb3J0IHsgZnJvbVV0ZjggYXMganNGcm9tVXRmOCwgdG9VdGY4IGFzIGpzVG9VdGY4IH0gZnJvbSBcIi4vcHVyZUpzXCI7XG5pbXBvcnQgeyBmcm9tVXRmOCBhcyB0ZXh0RW5jb2RlckZyb21VdGY4LCB0b1V0ZjggYXMgdGV4dEVuY29kZXJUb1V0ZjggfSBmcm9tIFwiLi93aGF0d2dFbmNvZGluZ0FwaVwiO1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0KSA9PiB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0KSA9PiB0eXBlb2YgVGV4dERlY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyVG9VdGY4KGlucHV0KSA6IGpzVG9VdGY4KGlucHV0KTtcbiIsImV4cG9ydCBmdW5jdGlvbiBmcm9tVXRmOChpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVXRmOChpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKS5kZWNvZGUoaW5wdXQpO1xufVxuIiwiZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAodmFsdWUgPCAweDgwKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiA2KSB8IDBiMTEwMDAwMDAsICh2YWx1ZSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICAgICAgICBieXRlcy5wdXNoKChzdXJyb2dhdGVQYWlyID4+IDE4KSB8IDBiMTExMTAwMDAsICgoc3Vycm9nYXRlUGFpciA+PiAxMikgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwLCAoKHN1cnJvZ2F0ZVBhaXIgPj4gNikgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwLCAoc3Vycm9nYXRlUGFpciAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gMTIpIHwgMGIxMTEwMDAwMCwgKCh2YWx1ZSA+PiA2KSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDAsICh2YWx1ZSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oYnl0ZXMpO1xufTtcbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQpID0+IHtcbiAgICBsZXQgZGVjb2RlZCA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJ5dGUgPSBpbnB1dFtpXTtcbiAgICAgICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoMGIxMTAwMDAwMCA8PSBieXRlICYmIGJ5dGUgPCAwYjExMTAwMDAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Qnl0ZSA9IGlucHV0WysraV07XG4gICAgICAgICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChieXRlICYgMGIxMTExMSkgPDwgNikgfCAobmV4dEJ5dGUgJiAwYjExMTExMSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKDBiMTExMTAwMDAgPD0gYnl0ZSAmJiBieXRlIDwgMGIxMDExMDExMDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSBbYnl0ZSwgaW5wdXRbKytpXSwgaW5wdXRbKytpXSwgaW5wdXRbKytpXV07XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVkID0gXCIlXCIgKyBzdXJyb2dhdGVQYWlyLm1hcCgoYnl0ZVZhbHVlKSA9PiBieXRlVmFsdWUudG9TdHJpbmcoMTYpKS5qb2luKFwiJVwiKTtcbiAgICAgICAgICAgIGRlY29kZWQgKz0gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYnl0ZSAmIDBiMTExMSkgPDwgMTIpIHwgKChpbnB1dFsrK2ldICYgMGIxMTExMTEpIDw8IDYpIHwgKGlucHV0WysraV0gJiAwYjExMTExMSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdmFsaWRhdG9yID0gcmVxdWlyZSgnLi92YWxpZGF0b3InKTtcbmNvbnN0IFhNTFBhcnNlciA9IHJlcXVpcmUoJy4veG1scGFyc2VyL1hNTFBhcnNlcicpO1xuY29uc3QgWE1MQnVpbGRlciA9IHJlcXVpcmUoJy4veG1sYnVpbGRlci9qc29uMnhtbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgWE1MUGFyc2VyOiBYTUxQYXJzZXIsXG4gIFhNTFZhbGlkYXRvcjogdmFsaWRhdG9yLFxuICBYTUxCdWlsZGVyOiBYTUxCdWlsZGVyXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBuYW1lU3RhcnRDaGFyID0gJzpBLVphLXpfXFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkQnO1xuY29uc3QgbmFtZUNoYXIgPSBuYW1lU3RhcnRDaGFyICsgJ1xcXFwtLlxcXFxkXFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDAnO1xuY29uc3QgbmFtZVJlZ2V4cCA9ICdbJyArIG5hbWVTdGFydENoYXIgKyAnXVsnICsgbmFtZUNoYXIgKyAnXSonXG5jb25zdCByZWdleE5hbWUgPSBuZXcgUmVnRXhwKCdeJyArIG5hbWVSZWdleHAgKyAnJCcpO1xuXG5jb25zdCBnZXRBbGxNYXRjaGVzID0gZnVuY3Rpb24oc3RyaW5nLCByZWdleCkge1xuICBjb25zdCBtYXRjaGVzID0gW107XG4gIGxldCBtYXRjaCA9IHJlZ2V4LmV4ZWMoc3RyaW5nKTtcbiAgd2hpbGUgKG1hdGNoKSB7XG4gICAgY29uc3QgYWxsbWF0Y2hlcyA9IFtdO1xuICAgIGFsbG1hdGNoZXMuc3RhcnRJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleCAtIG1hdGNoWzBdLmxlbmd0aDtcbiAgICBjb25zdCBsZW4gPSBtYXRjaC5sZW5ndGg7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgYWxsbWF0Y2hlcy5wdXNoKG1hdGNoW2luZGV4XSk7XG4gICAgfVxuICAgIG1hdGNoZXMucHVzaChhbGxtYXRjaGVzKTtcbiAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMoc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn07XG5cbmNvbnN0IGlzTmFtZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICBjb25zdCBtYXRjaCA9IHJlZ2V4TmFtZS5leGVjKHN0cmluZyk7XG4gIHJldHVybiAhKG1hdGNoID09PSBudWxsIHx8IHR5cGVvZiBtYXRjaCA9PT0gJ3VuZGVmaW5lZCcpO1xufTtcblxuZXhwb3J0cy5pc0V4aXN0ID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gdHlwZW9mIHYgIT09ICd1bmRlZmluZWQnO1xufTtcblxuZXhwb3J0cy5pc0VtcHR5T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn07XG5cbi8qKlxuICogQ29weSBhbGwgdGhlIHByb3BlcnRpZXMgb2YgYSBpbnRvIGIuXG4gKiBAcGFyYW0geyp9IHRhcmdldFxuICogQHBhcmFtIHsqfSBhXG4gKi9cbmV4cG9ydHMubWVyZ2UgPSBmdW5jdGlvbih0YXJnZXQsIGEsIGFycmF5TW9kZSkge1xuICBpZiAoYSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhKTsgLy8gd2lsbCByZXR1cm4gYW4gYXJyYXkgb2Ygb3duIHByb3BlcnRpZXNcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDsgLy9kb24ndCBtYWtlIGl0IGlubGluZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChhcnJheU1vZGUgPT09ICdzdHJpY3QnKSB7XG4gICAgICAgIHRhcmdldFtrZXlzW2ldXSA9IFsgYVtrZXlzW2ldXSBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleXNbaV1dID0gYVtrZXlzW2ldXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4vKiBleHBvcnRzLm1lcmdlID1mdW5jdGlvbiAoYixhKXtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYixhKTtcbn0gKi9cblxuZXhwb3J0cy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgaWYgKGV4cG9ydHMuaXNFeGlzdCh2KSkge1xuICAgIHJldHVybiB2O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuLy8gY29uc3QgZmFrZUNhbGwgPSBmdW5jdGlvbihhKSB7cmV0dXJuIGE7fTtcbi8vIGNvbnN0IGZha2VDYWxsTm9SZXR1cm4gPSBmdW5jdGlvbigpIHt9O1xuXG5leHBvcnRzLmlzTmFtZSA9IGlzTmFtZTtcbmV4cG9ydHMuZ2V0QWxsTWF0Y2hlcyA9IGdldEFsbE1hdGNoZXM7XG5leHBvcnRzLm5hbWVSZWdleHAgPSBuYW1lUmVnZXhwO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBhbGxvd0Jvb2xlYW5BdHRyaWJ1dGVzOiBmYWxzZSwgLy9BIHRhZyBjYW4gaGF2ZSBhdHRyaWJ1dGVzIHdpdGhvdXQgYW55IHZhbHVlXG4gIHVucGFpcmVkVGFnczogW11cbn07XG5cbi8vY29uc3QgdGFnc1BhdHRlcm4gPSBuZXcgUmVnRXhwKFwiPFxcXFwvPyhbXFxcXHc6XFxcXC1fXFwuXSspXFxcXHMqXFwvPz5cIixcImdcIik7XG5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKHhtbERhdGEsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAvL3htbERhdGEgPSB4bWxEYXRhLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sXCJcIik7Ly9tYWtlIGl0IHNpbmdsZSBsaW5lXG4gIC8veG1sRGF0YSA9IHhtbERhdGEucmVwbGFjZSgvKF5cXHMqPFxcP3htbC4qP1xcPz4pL2csXCJcIik7Ly9SZW1vdmUgWE1MIHN0YXJ0aW5nIHRhZ1xuICAvL3htbERhdGEgPSB4bWxEYXRhLnJlcGxhY2UoLyg8IURPQ1RZUEVbXFxzXFx3XFxcIlxcLlxcL1xcLVxcOl0rKFxcWy4qXFxdKSpcXHMqPikvZyxcIlwiKTsvL1JlbW92ZSBET0NUWVBFXG4gIGNvbnN0IHRhZ3MgPSBbXTtcbiAgbGV0IHRhZ0ZvdW5kID0gZmFsc2U7XG5cbiAgLy9pbmRpY2F0ZXMgdGhhdCB0aGUgcm9vdCB0YWcgaGFzIGJlZW4gY2xvc2VkIChha2EuIGRlcHRoIDAgaGFzIGJlZW4gcmVhY2hlZClcbiAgbGV0IHJlYWNoZWRSb290ID0gZmFsc2U7XG5cbiAgaWYgKHhtbERhdGFbMF0gPT09ICdcXHVmZWZmJykge1xuICAgIC8vIGNoZWNrIGZvciBieXRlIG9yZGVyIG1hcmsgKEJPTSlcbiAgICB4bWxEYXRhID0geG1sRGF0YS5zdWJzdHIoMSk7XG4gIH1cbiAgXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuXG4gICAgaWYgKHhtbERhdGFbaV0gPT09ICc8JyAmJiB4bWxEYXRhW2krMV0gPT09ICc/Jykge1xuICAgICAgaSs9MjtcbiAgICAgIGkgPSByZWFkUEkoeG1sRGF0YSxpKTtcbiAgICAgIGlmIChpLmVycikgcmV0dXJuIGk7XG4gICAgfWVsc2UgaWYgKHhtbERhdGFbaV0gPT09ICc8Jykge1xuICAgICAgLy9zdGFydGluZyBvZiB0YWdcbiAgICAgIC8vcmVhZCB1bnRpbCB5b3UgcmVhY2ggdG8gJz4nIGF2b2lkaW5nIGFueSAnPicgaW4gYXR0cmlidXRlIHZhbHVlXG4gICAgICBsZXQgdGFnU3RhcnRQb3MgPSBpO1xuICAgICAgaSsrO1xuICAgICAgXG4gICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJyEnKSB7XG4gICAgICAgIGkgPSByZWFkQ29tbWVudEFuZENEQVRBKHhtbERhdGEsIGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBjbG9zaW5nVGFnID0gZmFsc2U7XG4gICAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnLycpIHtcbiAgICAgICAgICAvL2Nsb3NpbmcgdGFnXG4gICAgICAgICAgY2xvc2luZ1RhZyA9IHRydWU7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vcmVhZCB0YWduYW1lXG4gICAgICAgIGxldCB0YWdOYW1lID0gJyc7XG4gICAgICAgIGZvciAoOyBpIDwgeG1sRGF0YS5sZW5ndGggJiZcbiAgICAgICAgICB4bWxEYXRhW2ldICE9PSAnPicgJiZcbiAgICAgICAgICB4bWxEYXRhW2ldICE9PSAnICcgJiZcbiAgICAgICAgICB4bWxEYXRhW2ldICE9PSAnXFx0JyAmJlxuICAgICAgICAgIHhtbERhdGFbaV0gIT09ICdcXG4nICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJ1xccic7IGkrK1xuICAgICAgICApIHtcbiAgICAgICAgICB0YWdOYW1lICs9IHhtbERhdGFbaV07XG4gICAgICAgIH1cbiAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudHJpbSgpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRhZ05hbWUpO1xuXG4gICAgICAgIGlmICh0YWdOYW1lW3RhZ05hbWUubGVuZ3RoIC0gMV0gPT09ICcvJykge1xuICAgICAgICAgIC8vc2VsZiBjbG9zaW5nIHRhZyB3aXRob3V0IGF0dHJpYnV0ZXNcbiAgICAgICAgICB0YWdOYW1lID0gdGFnTmFtZS5zdWJzdHJpbmcoMCwgdGFnTmFtZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAvL2NvbnRpbnVlO1xuICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbGlkYXRlVGFnTmFtZSh0YWdOYW1lKSkge1xuICAgICAgICAgIGxldCBtc2c7XG4gICAgICAgICAgaWYgKHRhZ05hbWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbXNnID0gXCJJbnZhbGlkIHNwYWNlIGFmdGVyICc8Jy5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbXNnID0gXCJUYWcgJ1wiK3RhZ05hbWUrXCInIGlzIGFuIGludmFsaWQgbmFtZS5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkVGFnJywgbXNnLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZEF0dHJpYnV0ZVN0cih4bWxEYXRhLCBpKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRBdHRyJywgXCJBdHRyaWJ1dGVzIGZvciAnXCIrdGFnTmFtZStcIicgaGF2ZSBvcGVuIHF1b3RlLlwiLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhdHRyU3RyID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpID0gcmVzdWx0LmluZGV4O1xuXG4gICAgICAgIGlmIChhdHRyU3RyW2F0dHJTdHIubGVuZ3RoIC0gMV0gPT09ICcvJykge1xuICAgICAgICAgIC8vc2VsZiBjbG9zaW5nIHRhZ1xuICAgICAgICAgIGNvbnN0IGF0dHJTdHJTdGFydCA9IGkgLSBhdHRyU3RyLmxlbmd0aDtcbiAgICAgICAgICBhdHRyU3RyID0gYXR0clN0ci5zdWJzdHJpbmcoMCwgYXR0clN0ci5sZW5ndGggLSAxKTtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdGVBdHRyaWJ1dGVTdHJpbmcoYXR0clN0ciwgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKGlzVmFsaWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRhZ0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vY29udGludWU7IC8vdGV4dCBtYXkgcHJlc2VudHMgYWZ0ZXIgc2VsZiBjbG9zaW5nIHRhZ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3RoZSByZXN1bHQgZnJvbSB0aGUgbmVzdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBlcnJvciB3aXRoaW4gdGhlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy9pbiBvcmRlciB0byBnZXQgdGhlICd0cnVlJyBlcnJvciBsaW5lLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGF0dHJpYnV0ZSBiZWdpbnMgKGkgLSBhdHRyU3RyLmxlbmd0aCkgYW5kIHRoZW4gYWRkIHRoZSBwb3NpdGlvbiB3aXRoaW4gdGhlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy90aGlzIGdpdmVzIHVzIHRoZSBhYnNvbHV0ZSBpbmRleCBpbiB0aGUgZW50aXJlIHhtbCwgd2hpY2ggd2UgY2FuIHVzZSB0byBmaW5kIHRoZSBsaW5lIGF0IGxhc3RcbiAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdChpc1ZhbGlkLmVyci5jb2RlLCBpc1ZhbGlkLmVyci5tc2csIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBhdHRyU3RyU3RhcnQgKyBpc1ZhbGlkLmVyci5saW5lKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNsb3NpbmdUYWcpIHtcbiAgICAgICAgICBpZiAoIXJlc3VsdC50YWdDbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFRhZycsIFwiQ2xvc2luZyB0YWcgJ1wiK3RhZ05hbWUrXCInIGRvZXNuJ3QgaGF2ZSBwcm9wZXIgY2xvc2luZy5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJTdHIudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFRhZycsIFwiQ2xvc2luZyB0YWcgJ1wiK3RhZ05hbWUrXCInIGNhbid0IGhhdmUgYXR0cmlidXRlcyBvciBpbnZhbGlkIHN0YXJ0aW5nLlwiLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgdGFnU3RhcnRQb3MpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgb3RnID0gdGFncy5wb3AoKTtcbiAgICAgICAgICAgIGlmICh0YWdOYW1lICE9PSBvdGcudGFnTmFtZSkge1xuICAgICAgICAgICAgICBsZXQgb3BlblBvcyA9IGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBvdGcudGFnU3RhcnRQb3MpO1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLFxuICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgY2xvc2luZyB0YWcgJ1wiK290Zy50YWdOYW1lK1wiJyAob3BlbmVkIGluIGxpbmUgXCIrb3BlblBvcy5saW5lK1wiLCBjb2wgXCIrb3BlblBvcy5jb2wrXCIpIGluc3RlYWQgb2YgY2xvc2luZyB0YWcgJ1wiK3RhZ05hbWUrXCInLlwiLFxuICAgICAgICAgICAgICAgIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCB0YWdTdGFydFBvcykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3doZW4gdGhlcmUgYXJlIG5vIG1vcmUgdGFncywgd2UgcmVhY2hlZCB0aGUgcm9vdCBsZXZlbC5cbiAgICAgICAgICAgIGlmICh0YWdzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgIHJlYWNoZWRSb290ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlQXR0cmlidXRlU3RyaW5nKGF0dHJTdHIsIG9wdGlvbnMpO1xuICAgICAgICAgIGlmIChpc1ZhbGlkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAvL3RoZSByZXN1bHQgZnJvbSB0aGUgbmVzdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBlcnJvciB3aXRoaW4gdGhlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy9pbiBvcmRlciB0byBnZXQgdGhlICd0cnVlJyBlcnJvciBsaW5lLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGF0dHJpYnV0ZSBiZWdpbnMgKGkgLSBhdHRyU3RyLmxlbmd0aCkgYW5kIHRoZW4gYWRkIHRoZSBwb3NpdGlvbiB3aXRoaW4gdGhlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy90aGlzIGdpdmVzIHVzIHRoZSBhYnNvbHV0ZSBpbmRleCBpbiB0aGUgZW50aXJlIHhtbCwgd2hpY2ggd2UgY2FuIHVzZSB0byBmaW5kIHRoZSBsaW5lIGF0IGxhc3RcbiAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdChpc1ZhbGlkLmVyci5jb2RlLCBpc1ZhbGlkLmVyci5tc2csIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpIC0gYXR0clN0ci5sZW5ndGggKyBpc1ZhbGlkLmVyci5saW5lKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9pZiB0aGUgcm9vdCBsZXZlbCBoYXMgYmVlbiByZWFjaGVkIGJlZm9yZSAuLi5cbiAgICAgICAgICBpZiAocmVhY2hlZFJvb3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFhtbCcsICdNdWx0aXBsZSBwb3NzaWJsZSByb290IG5vZGVzIGZvdW5kLicsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgICAgICAgfSBlbHNlIGlmKG9wdGlvbnMudW5wYWlyZWRUYWdzLmluZGV4T2YodGFnTmFtZSkgIT09IC0xKXtcbiAgICAgICAgICAgIC8vZG9uJ3QgcHVzaCBpbnRvIHN0YWNrXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZ3MucHVzaCh7dGFnTmFtZSwgdGFnU3RhcnRQb3N9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFnRm91bmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9za2lwIHRhZyB0ZXh0IHZhbHVlXG4gICAgICAgIC8vSXQgbWF5IGluY2x1ZGUgY29tbWVudHMgYW5kIENEQVRBIHZhbHVlXG4gICAgICAgIGZvciAoaSsrOyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcpIHtcbiAgICAgICAgICAgIGlmICh4bWxEYXRhW2kgKyAxXSA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgIC8vY29tbWVudCBvciBDQURBVEFcbiAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICBpID0gcmVhZENvbW1lbnRBbmRDREFUQSh4bWxEYXRhLCBpKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHhtbERhdGFbaSsxXSA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgIGkgPSByZWFkUEkoeG1sRGF0YSwgKytpKTtcbiAgICAgICAgICAgICAgaWYgKGkuZXJyKSByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh4bWxEYXRhW2ldID09PSAnJicpIHtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyQW1wID0gdmFsaWRhdGVBbXBlcnNhbmQoeG1sRGF0YSwgaSk7XG4gICAgICAgICAgICBpZiAoYWZ0ZXJBbXAgPT0gLTEpXG4gICAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZENoYXInLCBcImNoYXIgJyYnIGlzIG5vdCBleHBlY3RlZC5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgICAgICAgIGkgPSBhZnRlckFtcDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmIChyZWFjaGVkUm9vdCA9PT0gdHJ1ZSAmJiAhaXNXaGl0ZVNwYWNlKHhtbERhdGFbaV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFhtbCcsIFwiRXh0cmEgdGV4dCBhdCB0aGUgZW5kXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vZW5kIG9mIHJlYWRpbmcgdGFnIHRleHQgdmFsdWVcbiAgICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICc8Jykge1xuICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIGlzV2hpdGVTcGFjZSh4bWxEYXRhW2ldKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZENoYXInLCBcImNoYXIgJ1wiK3htbERhdGFbaV0rXCInIGlzIG5vdCBleHBlY3RlZC5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXRhZ0ZvdW5kKSB7XG4gICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkWG1sJywgJ1N0YXJ0IHRhZyBleHBlY3RlZC4nLCAxKTtcbiAgfWVsc2UgaWYgKHRhZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFRhZycsIFwiVW5jbG9zZWQgdGFnICdcIit0YWdzWzBdLnRhZ05hbWUrXCInLlwiLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgdGFnc1swXS50YWdTdGFydFBvcykpO1xuICB9ZWxzZSBpZiAodGFncy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRYbWwnLCBcIkludmFsaWQgJ1wiK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRhZ3MubWFwKHQgPT4gdC50YWdOYW1lKSwgbnVsbCwgNCkucmVwbGFjZSgvXFxyP1xcbi9nLCAnJykrXG4gICAgICAgICAgXCInIGZvdW5kLlwiLCB7bGluZTogMSwgY29sOiAxfSk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIGlzV2hpdGVTcGFjZShjaGFyKXtcbiAgcmV0dXJuIGNoYXIgPT09ICcgJyB8fCBjaGFyID09PSAnXFx0JyB8fCBjaGFyID09PSAnXFxuJyAgfHwgY2hhciA9PT0gJ1xccic7XG59XG4vKipcbiAqIFJlYWQgUHJvY2Vzc2luZyBpbnNzdHJ1Y3Rpb25zIGFuZCBza2lwXG4gKiBAcGFyYW0geyp9IHhtbERhdGFcbiAqIEBwYXJhbSB7Kn0gaVxuICovXG5mdW5jdGlvbiByZWFkUEkoeG1sRGF0YSwgaSkge1xuICBjb25zdCBzdGFydCA9IGk7XG4gIGZvciAoOyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh4bWxEYXRhW2ldID09ICc/JyB8fCB4bWxEYXRhW2ldID09ICcgJykge1xuICAgICAgLy90YWduYW1lXG4gICAgICBjb25zdCB0YWduYW1lID0geG1sRGF0YS5zdWJzdHIoc3RhcnQsIGkgLSBzdGFydCk7XG4gICAgICBpZiAoaSA+IDUgJiYgdGFnbmFtZSA9PT0gJ3htbCcpIHtcbiAgICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkWG1sJywgJ1hNTCBkZWNsYXJhdGlvbiBhbGxvd2VkIG9ubHkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBkb2N1bWVudC4nLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgfSBlbHNlIGlmICh4bWxEYXRhW2ldID09ICc/JyAmJiB4bWxEYXRhW2kgKyAxXSA9PSAnPicpIHtcbiAgICAgICAgLy9jaGVjayBpZiB2YWxpZCBhdHRyaWJ1dCBzdHJpbmdcbiAgICAgICAgaSsrO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gcmVhZENvbW1lbnRBbmRDREFUQSh4bWxEYXRhLCBpKSB7XG4gIGlmICh4bWxEYXRhLmxlbmd0aCA+IGkgKyA1ICYmIHhtbERhdGFbaSArIDFdID09PSAnLScgJiYgeG1sRGF0YVtpICsgMl0gPT09ICctJykge1xuICAgIC8vY29tbWVudFxuICAgIGZvciAoaSArPSAzOyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICctJyAmJiB4bWxEYXRhW2kgKyAxXSA9PT0gJy0nICYmIHhtbERhdGFbaSArIDJdID09PSAnPicpIHtcbiAgICAgICAgaSArPSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgeG1sRGF0YS5sZW5ndGggPiBpICsgOCAmJlxuICAgIHhtbERhdGFbaSArIDFdID09PSAnRCcgJiZcbiAgICB4bWxEYXRhW2kgKyAyXSA9PT0gJ08nICYmXG4gICAgeG1sRGF0YVtpICsgM10gPT09ICdDJyAmJlxuICAgIHhtbERhdGFbaSArIDRdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2kgKyA1XSA9PT0gJ1knICYmXG4gICAgeG1sRGF0YVtpICsgNl0gPT09ICdQJyAmJlxuICAgIHhtbERhdGFbaSArIDddID09PSAnRSdcbiAgKSB7XG4gICAgbGV0IGFuZ2xlQnJhY2tldHNDb3VudCA9IDE7XG4gICAgZm9yIChpICs9IDg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJzwnKSB7XG4gICAgICAgIGFuZ2xlQnJhY2tldHNDb3VudCsrO1xuICAgICAgfSBlbHNlIGlmICh4bWxEYXRhW2ldID09PSAnPicpIHtcbiAgICAgICAgYW5nbGVCcmFja2V0c0NvdW50LS07XG4gICAgICAgIGlmIChhbmdsZUJyYWNrZXRzQ291bnQgPT09IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChcbiAgICB4bWxEYXRhLmxlbmd0aCA+IGkgKyA5ICYmXG4gICAgeG1sRGF0YVtpICsgMV0gPT09ICdbJyAmJlxuICAgIHhtbERhdGFbaSArIDJdID09PSAnQycgJiZcbiAgICB4bWxEYXRhW2kgKyAzXSA9PT0gJ0QnICYmXG4gICAgeG1sRGF0YVtpICsgNF0gPT09ICdBJyAmJlxuICAgIHhtbERhdGFbaSArIDVdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2kgKyA2XSA9PT0gJ0EnICYmXG4gICAgeG1sRGF0YVtpICsgN10gPT09ICdbJ1xuICApIHtcbiAgICBmb3IgKGkgKz0gODsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnXScgJiYgeG1sRGF0YVtpICsgMV0gPT09ICddJyAmJiB4bWxEYXRhW2kgKyAyXSA9PT0gJz4nKSB7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGk7XG59XG5cbmNvbnN0IGRvdWJsZVF1b3RlID0gJ1wiJztcbmNvbnN0IHNpbmdsZVF1b3RlID0gXCInXCI7XG5cbi8qKlxuICogS2VlcCByZWFkaW5nIHhtbERhdGEgdW50aWwgJzwnIGlzIGZvdW5kIG91dHNpZGUgdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB4bWxEYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gaVxuICovXG5mdW5jdGlvbiByZWFkQXR0cmlidXRlU3RyKHhtbERhdGEsIGkpIHtcbiAgbGV0IGF0dHJTdHIgPSAnJztcbiAgbGV0IHN0YXJ0Q2hhciA9ICcnO1xuICBsZXQgdGFnQ2xvc2VkID0gZmFsc2U7XG4gIGZvciAoOyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh4bWxEYXRhW2ldID09PSBkb3VibGVRdW90ZSB8fCB4bWxEYXRhW2ldID09PSBzaW5nbGVRdW90ZSkge1xuICAgICAgaWYgKHN0YXJ0Q2hhciA9PT0gJycpIHtcbiAgICAgICAgc3RhcnRDaGFyID0geG1sRGF0YVtpXTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnRDaGFyICE9PSB4bWxEYXRhW2ldKSB7XG4gICAgICAgIC8vaWYgdmF1ZSBpcyBlbmNsb3NlZCB3aXRoIGRvdWJsZSBxdW90ZSB0aGVuIHNpbmdsZSBxdW90ZXMgYXJlIGFsbG93ZWQgaW5zaWRlIHRoZSB2YWx1ZSBhbmQgdmljZSB2ZXJzYVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRDaGFyID0gJyc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh4bWxEYXRhW2ldID09PSAnPicpIHtcbiAgICAgIGlmIChzdGFydENoYXIgPT09ICcnKSB7XG4gICAgICAgIHRhZ0Nsb3NlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBhdHRyU3RyICs9IHhtbERhdGFbaV07XG4gIH1cbiAgaWYgKHN0YXJ0Q2hhciAhPT0gJycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZhbHVlOiBhdHRyU3RyLFxuICAgIGluZGV4OiBpLFxuICAgIHRhZ0Nsb3NlZDogdGFnQ2xvc2VkXG4gIH07XG59XG5cbi8qKlxuICogU2VsZWN0IGFsbCB0aGUgYXR0cmlidXRlcyB3aGV0aGVyIHZhbGlkIG9yIGludmFsaWQuXG4gKi9cbmNvbnN0IHZhbGlkQXR0clN0clJlZ3hwID0gbmV3IFJlZ0V4cCgnKFxcXFxzKikoW15cXFxccz1dKykoXFxcXHMqPSk/KFxcXFxzKihbXFwnXCJdKSgoW1xcXFxzXFxcXFNdKSo/KVxcXFw1KT8nLCAnZycpO1xuXG4vL2F0dHIsID1cInNkXCIsIGE9XCJhbWl0J3NcIiwgYT1cInNkXCJiPVwic2FmXCIsIGFiICBjZD1cIlwiXG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXR0cmlidXRlU3RyaW5nKGF0dHJTdHIsIG9wdGlvbnMpIHtcbiAgLy9jb25zb2xlLmxvZyhcInN0YXJ0OlwiK2F0dHJTdHIrXCI6ZW5kXCIpO1xuXG4gIC8vaWYoYXR0clN0ci50cmltKCkubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTsgLy9lbXB0eSBzdHJpbmdcblxuICBjb25zdCBtYXRjaGVzID0gdXRpbC5nZXRBbGxNYXRjaGVzKGF0dHJTdHIsIHZhbGlkQXR0clN0clJlZ3hwKTtcbiAgY29uc3QgYXR0ck5hbWVzID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG1hdGNoZXNbaV1bMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAvL25vc3BhY2UgYmVmb3JlIGF0dHJpYnV0ZSBuYW1lOiBhPVwic2RcImI9XCJzYWZcIlxuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlICdcIittYXRjaGVzW2ldWzJdK1wiJyBoYXMgbm8gc3BhY2UgaW4gc3RhcnRpbmcuXCIsIGdldFBvc2l0aW9uRnJvbU1hdGNoKG1hdGNoZXNbaV0pKVxuICAgIH0gZWxzZSBpZiAobWF0Y2hlc1tpXVszXSAhPT0gdW5kZWZpbmVkICYmIG1hdGNoZXNbaV1bNF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlICdcIittYXRjaGVzW2ldWzJdK1wiJyBpcyB3aXRob3V0IHZhbHVlLlwiLCBnZXRQb3NpdGlvbkZyb21NYXRjaChtYXRjaGVzW2ldKSk7XG4gICAgfSBlbHNlIGlmIChtYXRjaGVzW2ldWzNdID09PSB1bmRlZmluZWQgJiYgIW9wdGlvbnMuYWxsb3dCb29sZWFuQXR0cmlidXRlcykge1xuICAgICAgLy9pbmRlcGVuZGVudCBhdHRyaWJ1dGU6IGFiXG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRBdHRyJywgXCJib29sZWFuIGF0dHJpYnV0ZSAnXCIrbWF0Y2hlc1tpXVsyXStcIicgaXMgbm90IGFsbG93ZWQuXCIsIGdldFBvc2l0aW9uRnJvbU1hdGNoKG1hdGNoZXNbaV0pKTtcbiAgICB9XG4gICAgLyogZWxzZSBpZihtYXRjaGVzW2ldWzZdID09PSB1bmRlZmluZWQpey8vYXR0cmlidXRlIHdpdGhvdXQgdmFsdWU6IGFiPVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBlcnI6IHsgY29kZTpcIkludmFsaWRBdHRyXCIsbXNnOlwiYXR0cmlidXRlIFwiICsgbWF0Y2hlc1tpXVsyXSArIFwiIGhhcyBubyB2YWx1ZSBhc3NpZ25lZC5cIn19O1xuICAgICAgICAgICAgICAgIH0gKi9cbiAgICBjb25zdCBhdHRyTmFtZSA9IG1hdGNoZXNbaV1bMl07XG4gICAgaWYgKCF2YWxpZGF0ZUF0dHJOYW1lKGF0dHJOYW1lKSkge1xuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlICdcIithdHRyTmFtZStcIicgaXMgYW4gaW52YWxpZCBuYW1lLlwiLCBnZXRQb3NpdGlvbkZyb21NYXRjaChtYXRjaGVzW2ldKSk7XG4gICAgfVxuICAgIGlmICghYXR0ck5hbWVzLmhhc093blByb3BlcnR5KGF0dHJOYW1lKSkge1xuICAgICAgLy9jaGVjayBmb3IgZHVwbGljYXRlIGF0dHJpYnV0ZS5cbiAgICAgIGF0dHJOYW1lc1thdHRyTmFtZV0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRBdHRyJywgXCJBdHRyaWJ1dGUgJ1wiK2F0dHJOYW1lK1wiJyBpcyByZXBlYXRlZC5cIiwgZ2V0UG9zaXRpb25Gcm9tTWF0Y2gobWF0Y2hlc1tpXSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZU51bWJlckFtcGVyc2FuZCh4bWxEYXRhLCBpKSB7XG4gIGxldCByZSA9IC9cXGQvO1xuICBpZiAoeG1sRGF0YVtpXSA9PT0gJ3gnKSB7XG4gICAgaSsrO1xuICAgIHJlID0gL1tcXGRhLWZBLUZdLztcbiAgfVxuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJzsnKVxuICAgICAgcmV0dXJuIGk7XG4gICAgaWYgKCF4bWxEYXRhW2ldLm1hdGNoKHJlKSlcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBbXBlcnNhbmQoeG1sRGF0YSwgaSkge1xuICAvLyBodHRwczovL3d3dy53My5vcmcvVFIveG1sLyNkdC1jaGFycmVmXG4gIGkrKztcbiAgaWYgKHhtbERhdGFbaV0gPT09ICc7JylcbiAgICByZXR1cm4gLTE7XG4gIGlmICh4bWxEYXRhW2ldID09PSAnIycpIHtcbiAgICBpKys7XG4gICAgcmV0dXJuIHZhbGlkYXRlTnVtYmVyQW1wZXJzYW5kKHhtbERhdGEsIGkpO1xuICB9XG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAoOyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKywgY291bnQrKykge1xuICAgIGlmICh4bWxEYXRhW2ldLm1hdGNoKC9cXHcvKSAmJiBjb3VudCA8IDIwKVxuICAgICAgY29udGludWU7XG4gICAgaWYgKHhtbERhdGFbaV0gPT09ICc7JylcbiAgICAgIGJyZWFrO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gaTtcbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JPYmplY3QoY29kZSwgbWVzc2FnZSwgbGluZU51bWJlcikge1xuICByZXR1cm4ge1xuICAgIGVycjoge1xuICAgICAgY29kZTogY29kZSxcbiAgICAgIG1zZzogbWVzc2FnZSxcbiAgICAgIGxpbmU6IGxpbmVOdW1iZXIubGluZSB8fCBsaW5lTnVtYmVyLFxuICAgICAgY29sOiBsaW5lTnVtYmVyLmNvbCxcbiAgICB9LFxuICB9O1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUF0dHJOYW1lKGF0dHJOYW1lKSB7XG4gIHJldHVybiB1dGlsLmlzTmFtZShhdHRyTmFtZSk7XG59XG5cbi8vIGNvbnN0IHN0YXJ0c1dpdGhYTUwgPSAvXnhtbC9pO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVRhZ05hbWUodGFnbmFtZSkge1xuICByZXR1cm4gdXRpbC5pc05hbWUodGFnbmFtZSkgLyogJiYgIXRhZ25hbWUubWF0Y2goc3RhcnRzV2l0aFhNTCkgKi87XG59XG5cbi8vdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBsaW5lIG51bWJlciBmb3IgdGhlIGNoYXJhY3RlciBhdCB0aGUgZ2l2ZW4gaW5kZXhcbmZ1bmN0aW9uIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpbmRleCkge1xuICBjb25zdCBsaW5lcyA9IHhtbERhdGEuc3Vic3RyaW5nKDAsIGluZGV4KS5zcGxpdCgvXFxyP1xcbi8pO1xuICByZXR1cm4ge1xuICAgIGxpbmU6IGxpbmVzLmxlbmd0aCxcblxuICAgIC8vIGNvbHVtbiBudW1iZXIgaXMgbGFzdCBsaW5lJ3MgbGVuZ3RoICsgMSwgYmVjYXVzZSBjb2x1bW4gbnVtYmVyaW5nIHN0YXJ0cyBhdCAxOlxuICAgIGNvbDogbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoICsgMVxuICB9O1xufVxuXG4vL3RoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBtYXRjaCB3aXRoaW4gYXR0clN0clxuZnVuY3Rpb24gZ2V0UG9zaXRpb25Gcm9tTWF0Y2gobWF0Y2gpIHtcbiAgcmV0dXJuIG1hdGNoLnN0YXJ0SW5kZXggKyBtYXRjaFsxXS5sZW5ndGg7XG59XG4iLCIndXNlIHN0cmljdCc7XG4vL3BhcnNlIEVtcHR5IE5vZGUgYXMgc2VsZiBjbG9zaW5nIG5vZGVcbmNvbnN0IGJ1aWxkRnJvbU9yZGVyZWRKcyA9IHJlcXVpcmUoJy4vb3JkZXJlZEpzMlhtbCcpO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgYXR0cmlidXRlTmFtZVByZWZpeDogJ0BfJyxcbiAgYXR0cmlidXRlc0dyb3VwTmFtZTogZmFsc2UsXG4gIHRleHROb2RlTmFtZTogJyN0ZXh0JyxcbiAgaWdub3JlQXR0cmlidXRlczogdHJ1ZSxcbiAgY2RhdGFQcm9wTmFtZTogZmFsc2UsXG4gIGZvcm1hdDogZmFsc2UsXG4gIGluZGVudEJ5OiAnICAnLFxuICBzdXBwcmVzc0VtcHR5Tm9kZTogZmFsc2UsXG4gIHN1cHByZXNzVW5wYWlyZWROb2RlOiB0cnVlLFxuICBzdXBwcmVzc0Jvb2xlYW5BdHRyaWJ1dGVzOiB0cnVlLFxuICB0YWdWYWx1ZVByb2Nlc3NvcjogZnVuY3Rpb24oa2V5LCBhKSB7XG4gICAgcmV0dXJuIGE7XG4gIH0sXG4gIGF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yOiBmdW5jdGlvbihhdHRyTmFtZSwgYSkge1xuICAgIHJldHVybiBhO1xuICB9LFxuICBwcmVzZXJ2ZU9yZGVyOiBmYWxzZSxcbiAgY29tbWVudFByb3BOYW1lOiBmYWxzZSxcbiAgdW5wYWlyZWRUYWdzOiBbXSxcbiAgZW50aXRpZXM6IFtcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiJlwiLCBcImdcIiksIHZhbDogXCImYW1wO1wiIH0sLy9pdCBtdXN0IGJlIG9uIHRvcFxuICAgIHsgcmVnZXg6IG5ldyBSZWdFeHAoXCI+XCIsIFwiZ1wiKSwgdmFsOiBcIiZndDtcIiB9LFxuICAgIHsgcmVnZXg6IG5ldyBSZWdFeHAoXCI8XCIsIFwiZ1wiKSwgdmFsOiBcIiZsdDtcIiB9LFxuICAgIHsgcmVnZXg6IG5ldyBSZWdFeHAoXCJcXCdcIiwgXCJnXCIpLCB2YWw6IFwiJmFwb3M7XCIgfSxcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiXFxcIlwiLCBcImdcIiksIHZhbDogXCImcXVvdDtcIiB9XG4gIF0sXG4gIHByb2Nlc3NFbnRpdGllczogdHJ1ZSxcbiAgc3RvcE5vZGVzOiBbXSxcbiAgLy8gdHJhbnNmb3JtVGFnTmFtZTogZmFsc2UsXG4gIC8vIHRyYW5zZm9ybUF0dHJpYnV0ZU5hbWU6IGZhbHNlLFxuICBvbmVMaXN0R3JvdXA6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBCdWlsZGVyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICBpZiAodGhpcy5vcHRpb25zLmlnbm9yZUF0dHJpYnV0ZXMgfHwgdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWUpIHtcbiAgICB0aGlzLmlzQXR0cmlidXRlID0gZnVuY3Rpb24oLyphKi8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYXR0clByZWZpeExlbiA9IHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lUHJlZml4Lmxlbmd0aDtcbiAgICB0aGlzLmlzQXR0cmlidXRlID0gaXNBdHRyaWJ1dGU7XG4gIH1cblxuICB0aGlzLnByb2Nlc3NUZXh0T3JPYmpOb2RlID0gcHJvY2Vzc1RleHRPck9iak5vZGVcblxuICBpZiAodGhpcy5vcHRpb25zLmZvcm1hdCkge1xuICAgIHRoaXMuaW5kZW50YXRlID0gaW5kZW50YXRlO1xuICAgIHRoaXMudGFnRW5kQ2hhciA9ICc+XFxuJztcbiAgICB0aGlzLm5ld0xpbmUgPSAnXFxuJztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmluZGVudGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgdGhpcy50YWdFbmRDaGFyID0gJz4nO1xuICAgIHRoaXMubmV3TGluZSA9ICcnO1xuICB9XG59XG5cbkJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oak9iaikge1xuICBpZih0aGlzLm9wdGlvbnMucHJlc2VydmVPcmRlcil7XG4gICAgcmV0dXJuIGJ1aWxkRnJvbU9yZGVyZWRKcyhqT2JqLCB0aGlzLm9wdGlvbnMpO1xuICB9ZWxzZSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheShqT2JqKSAmJiB0aGlzLm9wdGlvbnMuYXJyYXlOb2RlTmFtZSAmJiB0aGlzLm9wdGlvbnMuYXJyYXlOb2RlTmFtZS5sZW5ndGggPiAxKXtcbiAgICAgIGpPYmogPSB7XG4gICAgICAgIFt0aGlzLm9wdGlvbnMuYXJyYXlOb2RlTmFtZV0gOiBqT2JqXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmoyeChqT2JqLCAwKS52YWw7XG4gIH1cbn07XG5cbkJ1aWxkZXIucHJvdG90eXBlLmoyeCA9IGZ1bmN0aW9uKGpPYmosIGxldmVsKSB7XG4gIGxldCBhdHRyU3RyID0gJyc7XG4gIGxldCB2YWwgPSAnJztcbiAgZm9yIChsZXQga2V5IGluIGpPYmopIHtcbiAgICBpZiAodHlwZW9mIGpPYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIHN1cHJlc3MgdW5kZWZpbmVkIG5vZGVcbiAgICB9IGVsc2UgaWYgKGpPYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgaWYoa2V5WzBdID09PSBcIj9cIikgdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgIGVsc2UgdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICcvJyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgIC8vIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnLycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgfSBlbHNlIGlmIChqT2JqW2tleV0gaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICB2YWwgKz0gdGhpcy5idWlsZFRleHRWYWxOb2RlKGpPYmpba2V5XSwga2V5LCAnJywgbGV2ZWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGpPYmpba2V5XSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIC8vcHJlbWl0aXZlIHR5cGVcbiAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLmlzQXR0cmlidXRlKGtleSk7XG4gICAgICBpZiAoYXR0cikge1xuICAgICAgICBhdHRyU3RyICs9IHRoaXMuYnVpbGRBdHRyUGFpclN0cihhdHRyLCAnJyArIGpPYmpba2V5XSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIC8vdGFnIHZhbHVlXG4gICAgICAgIGlmIChrZXkgPT09IHRoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWUpIHtcbiAgICAgICAgICBsZXQgbmV3dmFsID0gdGhpcy5vcHRpb25zLnRhZ1ZhbHVlUHJvY2Vzc29yKGtleSwgJycgKyBqT2JqW2tleV0pO1xuICAgICAgICAgIHZhbCArPSB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlKG5ld3ZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsICs9IHRoaXMuYnVpbGRUZXh0VmFsTm9kZShqT2JqW2tleV0sIGtleSwgJycsIGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqT2JqW2tleV0pKSB7XG4gICAgICAvL3JlcGVhdGVkIG5vZGVzXG4gICAgICBjb25zdCBhcnJMZW4gPSBqT2JqW2tleV0ubGVuZ3RoO1xuICAgICAgbGV0IGxpc3RUYWdWYWwgPSBcIlwiO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJMZW47IGorKykge1xuICAgICAgICBjb25zdCBpdGVtID0gak9ialtrZXldW2pdO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gc3VwcmVzcyB1bmRlZmluZWQgbm9kZVxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICBpZihrZXlbMF0gPT09IFwiP1wiKSB2YWwgKz0gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgJz8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgICAgICAgIGVsc2UgdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICcvJyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgICAgICAvLyB2YWwgKz0gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgJy8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmKHRoaXMub3B0aW9ucy5vbmVMaXN0R3JvdXAgKXtcbiAgICAgICAgICAgIGxpc3RUYWdWYWwgKz0gdGhpcy5qMngoaXRlbSwgbGV2ZWwgKyAxKS52YWw7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBsaXN0VGFnVmFsICs9IHRoaXMucHJvY2Vzc1RleHRPck9iak5vZGUoaXRlbSwga2V5LCBsZXZlbClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGlzdFRhZ1ZhbCArPSB0aGlzLmJ1aWxkVGV4dFZhbE5vZGUoaXRlbSwga2V5LCAnJywgbGV2ZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZih0aGlzLm9wdGlvbnMub25lTGlzdEdyb3VwKXtcbiAgICAgICAgbGlzdFRhZ1ZhbCA9IHRoaXMuYnVpbGRPYmplY3ROb2RlKGxpc3RUYWdWYWwsIGtleSwgJycsIGxldmVsKTtcbiAgICAgIH1cbiAgICAgIHZhbCArPSBsaXN0VGFnVmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL25lc3RlZCBub2RlXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWUgJiYga2V5ID09PSB0aGlzLm9wdGlvbnMuYXR0cmlidXRlc0dyb3VwTmFtZSkge1xuICAgICAgICBjb25zdCBLcyA9IE9iamVjdC5rZXlzKGpPYmpba2V5XSk7XG4gICAgICAgIGNvbnN0IEwgPSBLcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTDsgaisrKSB7XG4gICAgICAgICAgYXR0clN0ciArPSB0aGlzLmJ1aWxkQXR0clBhaXJTdHIoS3Nbal0sICcnICsgak9ialtrZXldW0tzW2pdXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCArPSB0aGlzLnByb2Nlc3NUZXh0T3JPYmpOb2RlKGpPYmpba2V5XSwga2V5LCBsZXZlbClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHthdHRyU3RyOiBhdHRyU3RyLCB2YWw6IHZhbH07XG59O1xuXG5CdWlsZGVyLnByb3RvdHlwZS5idWlsZEF0dHJQYWlyU3RyID0gZnVuY3Rpb24oYXR0ck5hbWUsIHZhbCl7XG4gIHZhbCA9IHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcihhdHRyTmFtZSwgJycgKyB2YWwpO1xuICB2YWwgPSB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlKHZhbCk7XG4gIGlmICh0aGlzLm9wdGlvbnMuc3VwcHJlc3NCb29sZWFuQXR0cmlidXRlcyAmJiB2YWwgPT09IFwidHJ1ZVwiKSB7XG4gICAgcmV0dXJuICcgJyArIGF0dHJOYW1lO1xuICB9IGVsc2UgcmV0dXJuICcgJyArIGF0dHJOYW1lICsgJz1cIicgKyB2YWwgKyAnXCInO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzVGV4dE9yT2JqTm9kZSAob2JqZWN0LCBrZXksIGxldmVsKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHRoaXMuajJ4KG9iamVjdCwgbGV2ZWwgKyAxKTtcbiAgaWYgKG9iamVjdFt0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lXSAhPT0gdW5kZWZpbmVkICYmIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbGRUZXh0VmFsTm9kZShvYmplY3RbdGhpcy5vcHRpb25zLnRleHROb2RlTmFtZV0sIGtleSwgcmVzdWx0LmF0dHJTdHIsIGxldmVsKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5idWlsZE9iamVjdE5vZGUocmVzdWx0LnZhbCwga2V5LCByZXN1bHQuYXR0clN0ciwgbGV2ZWwpO1xuICB9XG59XG5cbkJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkT2JqZWN0Tm9kZSA9IGZ1bmN0aW9uKHZhbCwga2V5LCBhdHRyU3RyLCBsZXZlbCkge1xuICBpZih2YWwgPT09IFwiXCIpe1xuICAgIGlmKGtleVswXSA9PT0gXCI/XCIpIHJldHVybiAgdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0cisgJz8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIgKyB0aGlzLmNsb3NlVGFnKGtleSkgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgfVxuICB9ZWxzZXtcblxuICAgIGxldCB0YWdFbmRFeHAgPSAnPC8nICsga2V5ICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIGxldCBwaUNsb3NpbmdDaGFyID0gXCJcIjtcbiAgICBcbiAgICBpZihrZXlbMF0gPT09IFwiP1wiKSB7XG4gICAgICBwaUNsb3NpbmdDaGFyID0gXCI/XCI7XG4gICAgICB0YWdFbmRFeHAgPSBcIlwiO1xuICAgIH1cbiAgXG4gICAgaWYgKGF0dHJTdHIgJiYgdmFsLmluZGV4T2YoJzwnKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiAoIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArICBrZXkgKyBhdHRyU3RyICsgcGlDbG9zaW5nQ2hhciArICc+JyArIHZhbCArIHRhZ0VuZEV4cCApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbW1lbnRQcm9wTmFtZSAhPT0gZmFsc2UgJiYga2V5ID09PSB0aGlzLm9wdGlvbnMuY29tbWVudFByb3BOYW1lICYmIHBpQ2xvc2luZ0NoYXIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgYDwhLS0ke3ZhbH0tLT5gICsgdGhpcy5uZXdMaW5lO1xuICAgIH1lbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIgKyBwaUNsb3NpbmdDaGFyICsgdGhpcy50YWdFbmRDaGFyICtcbiAgICAgICAgdmFsICtcbiAgICAgICAgdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgdGFnRW5kRXhwICAgICk7XG4gICAgfVxuICB9XG59XG5cbkJ1aWxkZXIucHJvdG90eXBlLmNsb3NlVGFnID0gZnVuY3Rpb24oa2V5KXtcbiAgbGV0IGNsb3NlVGFnID0gXCJcIjtcbiAgaWYodGhpcy5vcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKGtleSkgIT09IC0xKXsgLy91bnBhaXJlZFxuICAgIGlmKCF0aGlzLm9wdGlvbnMuc3VwcHJlc3NVbnBhaXJlZE5vZGUpIGNsb3NlVGFnID0gXCIvXCJcbiAgfWVsc2UgaWYodGhpcy5vcHRpb25zLnN1cHByZXNzRW1wdHlOb2RlKXsgLy9lbXB0eVxuICAgIGNsb3NlVGFnID0gXCIvXCI7XG4gIH1lbHNle1xuICAgIGNsb3NlVGFnID0gYD48LyR7a2V5fWBcbiAgfVxuICByZXR1cm4gY2xvc2VUYWc7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRW1wdHlPYmpOb2RlKHZhbCwga2V5LCBhdHRyU3RyLCBsZXZlbCkge1xuICBpZiAodmFsICE9PSAnJykge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkT2JqZWN0Tm9kZSh2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpO1xuICB9IGVsc2Uge1xuICAgIGlmKGtleVswXSA9PT0gXCI/XCIpIHJldHVybiAgdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0cisgJz8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuICB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyBhdHRyU3RyICsgJy8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgICAgLy8gcmV0dXJuIHRoaXMuYnVpbGRUYWdTdHIobGV2ZWwsa2V5LCBhdHRyU3RyKTtcbiAgICB9XG4gIH1cbn1cblxuQnVpbGRlci5wcm90b3R5cGUuYnVpbGRUZXh0VmFsTm9kZSA9IGZ1bmN0aW9uKHZhbCwga2V5LCBhdHRyU3RyLCBsZXZlbCkge1xuICBpZiAodGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUgIT09IGZhbHNlICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgYDwhW0NEQVRBWyR7dmFsfV1dPmAgKyAgdGhpcy5uZXdMaW5lO1xuICB9ZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbW1lbnRQcm9wTmFtZSAhPT0gZmFsc2UgJiYga2V5ID09PSB0aGlzLm9wdGlvbnMuY29tbWVudFByb3BOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIGA8IS0tJHt2YWx9LS0+YCArICB0aGlzLm5ld0xpbmU7XG4gIH1lbHNlIGlmKGtleVswXSA9PT0gXCI/XCIpIHsvL1BJIHRhZ1xuICAgIHJldHVybiAgdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0cisgJz8nICsgdGhpcy50YWdFbmRDaGFyOyBcbiAgfWVsc2V7XG4gICAgbGV0IHRleHRWYWx1ZSA9IHRoaXMub3B0aW9ucy50YWdWYWx1ZVByb2Nlc3NvcihrZXksIHZhbCk7XG4gICAgdGV4dFZhbHVlID0gdGhpcy5yZXBsYWNlRW50aXRpZXNWYWx1ZSh0ZXh0VmFsdWUpO1xuICBcbiAgICBpZiggdGV4dFZhbHVlID09PSAnJyl7XG4gICAgICByZXR1cm4gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0ciArIHRoaXMuY2xvc2VUYWcoa2V5KSArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyBhdHRyU3RyICsgJz4nICtcbiAgICAgICAgIHRleHRWYWx1ZSArXG4gICAgICAgICc8LycgKyBrZXkgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgfVxuICB9XG59XG5cbkJ1aWxkZXIucHJvdG90eXBlLnJlcGxhY2VFbnRpdGllc1ZhbHVlID0gZnVuY3Rpb24odGV4dFZhbHVlKXtcbiAgaWYodGV4dFZhbHVlICYmIHRleHRWYWx1ZS5sZW5ndGggPiAwICYmIHRoaXMub3B0aW9ucy5wcm9jZXNzRW50aXRpZXMpe1xuICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLm9wdGlvbnMuZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMub3B0aW9ucy5lbnRpdGllc1tpXTtcbiAgICAgIHRleHRWYWx1ZSA9IHRleHRWYWx1ZS5yZXBsYWNlKGVudGl0eS5yZWdleCwgZW50aXR5LnZhbCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZXh0VmFsdWU7XG59XG5cbmZ1bmN0aW9uIGluZGVudGF0ZShsZXZlbCkge1xuICByZXR1cm4gdGhpcy5vcHRpb25zLmluZGVudEJ5LnJlcGVhdChsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIGlzQXR0cmlidXRlKG5hbWUgLyosIG9wdGlvbnMqLykge1xuICBpZiAobmFtZS5zdGFydHNXaXRoKHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xuICAgIHJldHVybiBuYW1lLnN1YnN0cih0aGlzLmF0dHJQcmVmaXhMZW4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJ1aWxkZXI7XG4iLCJjb25zdCBFT0wgPSBcIlxcblwiO1xuXG4vKipcbiAqIFxuICogQHBhcmFtIHthcnJheX0gakFycmF5IFxuICogQHBhcmFtIHthbnl9IG9wdGlvbnMgXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gdG9YbWwoakFycmF5LCBvcHRpb25zKSB7XG4gICAgbGV0IGluZGVudGF0aW9uID0gXCJcIjtcbiAgICBpZiAob3B0aW9ucy5mb3JtYXQgJiYgb3B0aW9ucy5pbmRlbnRCeS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGluZGVudGF0aW9uID0gRU9MO1xuICAgIH1cbiAgICByZXR1cm4gYXJyVG9TdHIoakFycmF5LCBvcHRpb25zLCBcIlwiLCBpbmRlbnRhdGlvbik7XG59XG5cbmZ1bmN0aW9uIGFyclRvU3RyKGFyciwgb3B0aW9ucywgalBhdGgsIGluZGVudGF0aW9uKSB7XG4gICAgbGV0IHhtbFN0ciA9IFwiXCI7XG4gICAgbGV0IGlzUHJldmlvdXNFbGVtZW50VGFnID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0YWdPYmogPSBhcnJbaV07XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBwcm9wTmFtZSh0YWdPYmopO1xuICAgICAgICBsZXQgbmV3SlBhdGggPSBcIlwiO1xuICAgICAgICBpZiAoalBhdGgubGVuZ3RoID09PSAwKSBuZXdKUGF0aCA9IHRhZ05hbWVcbiAgICAgICAgZWxzZSBuZXdKUGF0aCA9IGAke2pQYXRofS4ke3RhZ05hbWV9YDtcblxuICAgICAgICBpZiAodGFnTmFtZSA9PT0gb3B0aW9ucy50ZXh0Tm9kZU5hbWUpIHtcbiAgICAgICAgICAgIGxldCB0YWdUZXh0ID0gdGFnT2JqW3RhZ05hbWVdO1xuICAgICAgICAgICAgaWYgKCFpc1N0b3BOb2RlKG5ld0pQYXRoLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIHRhZ1RleHQgPSBvcHRpb25zLnRhZ1ZhbHVlUHJvY2Vzc29yKHRhZ05hbWUsIHRhZ1RleHQpO1xuICAgICAgICAgICAgICAgIHRhZ1RleHQgPSByZXBsYWNlRW50aXRpZXNWYWx1ZSh0YWdUZXh0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1ByZXZpb3VzRWxlbWVudFRhZykge1xuICAgICAgICAgICAgICAgIHhtbFN0ciArPSBpbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhtbFN0ciArPSB0YWdUZXh0O1xuICAgICAgICAgICAgaXNQcmV2aW91c0VsZW1lbnRUYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09IG9wdGlvbnMuY2RhdGFQcm9wTmFtZSkge1xuICAgICAgICAgICAgaWYgKGlzUHJldmlvdXNFbGVtZW50VGFnKSB7XG4gICAgICAgICAgICAgICAgeG1sU3RyICs9IGluZGVudGF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sU3RyICs9IGA8IVtDREFUQVske3RhZ09ialt0YWdOYW1lXVswXVtvcHRpb25zLnRleHROb2RlTmFtZV19XV0+YDtcbiAgICAgICAgICAgIGlzUHJldmlvdXNFbGVtZW50VGFnID0gZmFsc2U7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSBvcHRpb25zLmNvbW1lbnRQcm9wTmFtZSkge1xuICAgICAgICAgICAgeG1sU3RyICs9IGluZGVudGF0aW9uICsgYDwhLS0ke3RhZ09ialt0YWdOYW1lXVswXVtvcHRpb25zLnRleHROb2RlTmFtZV19LS0+YDtcbiAgICAgICAgICAgIGlzUHJldmlvdXNFbGVtZW50VGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhZ05hbWVbMF0gPT09IFwiP1wiKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRTdHIgPSBhdHRyX3RvX3N0cih0YWdPYmpbXCI6QFwiXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCB0ZW1wSW5kID0gdGFnTmFtZSA9PT0gXCI/eG1sXCIgPyBcIlwiIDogaW5kZW50YXRpb247XG4gICAgICAgICAgICBsZXQgcGlUZXh0Tm9kZU5hbWUgPSB0YWdPYmpbdGFnTmFtZV1bMF1bb3B0aW9ucy50ZXh0Tm9kZU5hbWVdO1xuICAgICAgICAgICAgcGlUZXh0Tm9kZU5hbWUgPSBwaVRleHROb2RlTmFtZS5sZW5ndGggIT09IDAgPyBcIiBcIiArIHBpVGV4dE5vZGVOYW1lIDogXCJcIjsgLy9yZW1vdmUgZXh0cmEgc3BhY2luZ1xuICAgICAgICAgICAgeG1sU3RyICs9IHRlbXBJbmQgKyBgPCR7dGFnTmFtZX0ke3BpVGV4dE5vZGVOYW1lfSR7YXR0U3RyfT8+YDtcbiAgICAgICAgICAgIGlzUHJldmlvdXNFbGVtZW50VGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdJZGVudGF0aW9uID0gaW5kZW50YXRpb247XG4gICAgICAgIGlmIChuZXdJZGVudGF0aW9uICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBuZXdJZGVudGF0aW9uICs9IG9wdGlvbnMuaW5kZW50Qnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXR0U3RyID0gYXR0cl90b19zdHIodGFnT2JqW1wiOkBcIl0sIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCB0YWdTdGFydCA9IGluZGVudGF0aW9uICsgYDwke3RhZ05hbWV9JHthdHRTdHJ9YDtcbiAgICAgICAgY29uc3QgdGFnVmFsdWUgPSBhcnJUb1N0cih0YWdPYmpbdGFnTmFtZV0sIG9wdGlvbnMsIG5ld0pQYXRoLCBuZXdJZGVudGF0aW9uKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudW5wYWlyZWRUYWdzLmluZGV4T2YodGFnTmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdXBwcmVzc1VucGFpcmVkTm9kZSkgeG1sU3RyICs9IHRhZ1N0YXJ0ICsgXCI+XCI7XG4gICAgICAgICAgICBlbHNlIHhtbFN0ciArPSB0YWdTdGFydCArIFwiLz5cIjtcbiAgICAgICAgfSBlbHNlIGlmICgoIXRhZ1ZhbHVlIHx8IHRhZ1ZhbHVlLmxlbmd0aCA9PT0gMCkgJiYgb3B0aW9ucy5zdXBwcmVzc0VtcHR5Tm9kZSkge1xuICAgICAgICAgICAgeG1sU3RyICs9IHRhZ1N0YXJ0ICsgXCIvPlwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhZ1ZhbHVlICYmIHRhZ1ZhbHVlLmVuZHNXaXRoKFwiPlwiKSkge1xuICAgICAgICAgICAgeG1sU3RyICs9IHRhZ1N0YXJ0ICsgYD4ke3RhZ1ZhbHVlfSR7aW5kZW50YXRpb259PC8ke3RhZ05hbWV9PmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4bWxTdHIgKz0gdGFnU3RhcnQgKyBcIj5cIjtcbiAgICAgICAgICAgIGlmICh0YWdWYWx1ZSAmJiBpbmRlbnRhdGlvbiAhPT0gXCJcIiAmJiAodGFnVmFsdWUuaW5jbHVkZXMoXCIvPlwiKSB8fCB0YWdWYWx1ZS5pbmNsdWRlcyhcIjwvXCIpKSkge1xuICAgICAgICAgICAgICAgIHhtbFN0ciArPSBpbmRlbnRhdGlvbiArIG9wdGlvbnMuaW5kZW50QnkgKyB0YWdWYWx1ZSArIGluZGVudGF0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4bWxTdHIgKz0gdGFnVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4bWxTdHIgKz0gYDwvJHt0YWdOYW1lfT5gO1xuICAgICAgICB9XG4gICAgICAgIGlzUHJldmlvdXNFbGVtZW50VGFnID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4geG1sU3RyO1xufVxuXG5mdW5jdGlvbiBwcm9wTmFtZShvYmopIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKGtleSAhPT0gXCI6QFwiKSByZXR1cm4ga2V5O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXR0cl90b19zdHIoYXR0ck1hcCwgb3B0aW9ucykge1xuICAgIGxldCBhdHRyU3RyID0gXCJcIjtcbiAgICBpZiAoYXR0ck1hcCAmJiAhb3B0aW9ucy5pZ25vcmVBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGZvciAobGV0IGF0dHIgaW4gYXR0ck1hcCkge1xuICAgICAgICAgICAgbGV0IGF0dHJWYWwgPSBvcHRpb25zLmF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yKGF0dHIsIGF0dHJNYXBbYXR0cl0pO1xuICAgICAgICAgICAgYXR0clZhbCA9IHJlcGxhY2VFbnRpdGllc1ZhbHVlKGF0dHJWYWwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWwgPT09IHRydWUgJiYgb3B0aW9ucy5zdXBwcmVzc0Jvb2xlYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgYXR0clN0ciArPSBgICR7YXR0ci5zdWJzdHIob3B0aW9ucy5hdHRyaWJ1dGVOYW1lUHJlZml4Lmxlbmd0aCl9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXR0clN0ciArPSBgICR7YXR0ci5zdWJzdHIob3B0aW9ucy5hdHRyaWJ1dGVOYW1lUHJlZml4Lmxlbmd0aCl9PVwiJHthdHRyVmFsfVwiYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXR0clN0cjtcbn1cblxuZnVuY3Rpb24gaXNTdG9wTm9kZShqUGF0aCwgb3B0aW9ucykge1xuICAgIGpQYXRoID0galBhdGguc3Vic3RyKDAsIGpQYXRoLmxlbmd0aCAtIG9wdGlvbnMudGV4dE5vZGVOYW1lLmxlbmd0aCAtIDEpO1xuICAgIGxldCB0YWdOYW1lID0galBhdGguc3Vic3RyKGpQYXRoLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuICAgIGZvciAobGV0IGluZGV4IGluIG9wdGlvbnMuc3RvcE5vZGVzKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnN0b3BOb2Rlc1tpbmRleF0gPT09IGpQYXRoIHx8IG9wdGlvbnMuc3RvcE5vZGVzW2luZGV4XSA9PT0gXCIqLlwiICsgdGFnTmFtZSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZUVudGl0aWVzVmFsdWUodGV4dFZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKHRleHRWYWx1ZSAmJiB0ZXh0VmFsdWUubGVuZ3RoID4gMCAmJiBvcHRpb25zLnByb2Nlc3NFbnRpdGllcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMuZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IG9wdGlvbnMuZW50aXRpZXNbaV07XG4gICAgICAgICAgICB0ZXh0VmFsdWUgPSB0ZXh0VmFsdWUucmVwbGFjZShlbnRpdHkucmVnZXgsIGVudGl0eS52YWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0VmFsdWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHRvWG1sO1xuIiwiY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcblxuLy9UT0RPOiBoYW5kbGUgY29tbWVudHNcbmZ1bmN0aW9uIHJlYWREb2NUeXBlKHhtbERhdGEsIGkpe1xuICAgIFxuICAgIGNvbnN0IGVudGl0aWVzID0ge307XG4gICAgaWYoIHhtbERhdGFbaSArIDNdID09PSAnTycgJiZcbiAgICAgICAgIHhtbERhdGFbaSArIDRdID09PSAnQycgJiZcbiAgICAgICAgIHhtbERhdGFbaSArIDVdID09PSAnVCcgJiZcbiAgICAgICAgIHhtbERhdGFbaSArIDZdID09PSAnWScgJiZcbiAgICAgICAgIHhtbERhdGFbaSArIDddID09PSAnUCcgJiZcbiAgICAgICAgIHhtbERhdGFbaSArIDhdID09PSAnRScpXG4gICAgeyAgICBcbiAgICAgICAgaSA9IGkrOTtcbiAgICAgICAgbGV0IGFuZ2xlQnJhY2tldHNDb3VudCA9IDE7XG4gICAgICAgIGxldCBoYXNCb2R5ID0gZmFsc2UsIGNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGV4cCA9IFwiXCI7XG4gICAgICAgIGZvcig7aTx4bWxEYXRhLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICc8JyAmJiAhY29tbWVudCkgeyAvL0RldGVybWluZSB0aGUgdGFnIHR5cGVcbiAgICAgICAgICAgICAgICBpZiggaGFzQm9keSAmJiBpc0VudGl0eSh4bWxEYXRhLCBpKSl7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gNzsgXG4gICAgICAgICAgICAgICAgICAgIFtlbnRpdHlOYW1lLCB2YWwsaV0gPSByZWFkRW50aXR5RXhwKHhtbERhdGEsaSsxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsLmluZGV4T2YoXCImXCIpID09PSAtMSkgLy9QYXJhbWV0ZXIgZW50aXRpZXMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0aWVzWyB2YWxpZGF0ZUVudGl0eU5hbWUoZW50aXR5TmFtZSkgXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWd4IDogUmVnRXhwKCBgJiR7ZW50aXR5TmFtZX07YCxcImdcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiB2YWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoIGhhc0JvZHkgJiYgaXNFbGVtZW50KHhtbERhdGEsIGkpKSAgaSArPSA4Oy8vTm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgICAgIGVsc2UgaWYoIGhhc0JvZHkgJiYgaXNBdHRsaXN0KHhtbERhdGEsIGkpKSAgaSArPSA4Oy8vTm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgICAgIGVsc2UgaWYoIGhhc0JvZHkgJiYgaXNOb3RhdGlvbih4bWxEYXRhLCBpKSkgaSArPSA5Oy8vTm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgICAgIGVsc2UgaWYoIGlzQ29tbWVudCkgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIERPQ1RZUEVcIik7XG5cbiAgICAgICAgICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQrKztcbiAgICAgICAgICAgICAgICBleHAgPSBcIlwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh4bWxEYXRhW2ldID09PSAnPicpIHsgLy9SZWFkIHRhZyBjb250ZW50XG4gICAgICAgICAgICAgICAgaWYoY29tbWVudCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB4bWxEYXRhW2kgLSAxXSA9PT0gXCItXCIgJiYgeG1sRGF0YVtpIC0gMl0gPT09IFwiLVwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ2xlQnJhY2tldHNDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlQnJhY2tldHNDb3VudC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5nbGVCcmFja2V0c0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZSBpZiggeG1sRGF0YVtpXSA9PT0gJ1snKXtcbiAgICAgICAgICAgICAgICBoYXNCb2R5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGV4cCArPSB4bWxEYXRhW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGFuZ2xlQnJhY2tldHNDb3VudCAhPT0gMCl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuY2xvc2VkIERPQ1RZUEVgKTtcbiAgICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVGFnIGluc3RlYWQgb2YgRE9DVFlQRWApO1xuICAgIH1cbiAgICByZXR1cm4ge2VudGl0aWVzLCBpfTtcbn1cblxuZnVuY3Rpb24gcmVhZEVudGl0eUV4cCh4bWxEYXRhLGkpe1xuICAgIC8vRXh0ZXJuYWwgZW50aXRpZXMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgICAvLyAgICA8IUVOVElUWSBleHQgU1lTVEVNIFwiaHR0cDovL25vcm1hbC13ZWJzaXRlLmNvbVwiID5cblxuICAgIC8vUGFyYW1ldGVyIGVudGl0aWVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgLy8gICAgPCFFTlRJVFkgZW50aXR5bmFtZSBcIiZhbm90aGVyRWxlbWVudDtcIj5cblxuICAgIC8vSW50ZXJuYWwgZW50aXRpZXMgYXJlIHN1cHBvcnRlZFxuICAgIC8vICAgIDwhRU5USVRZIGVudGl0eW5hbWUgXCJyZXBsYWNlbWVudCB0ZXh0XCI+XG4gICAgXG4gICAgLy9yZWFkIEVudGl0eU5hbWVcbiAgICBsZXQgZW50aXR5TmFtZSA9IFwiXCI7XG4gICAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aCAmJiAoeG1sRGF0YVtpXSAhPT0gXCInXCIgJiYgeG1sRGF0YVtpXSAhPT0gJ1wiJyApOyBpKyspIHtcbiAgICAgICAgLy8gaWYoeG1sRGF0YVtpXSA9PT0gXCIgXCIpIGNvbnRpbnVlO1xuICAgICAgICAvLyBlbHNlIFxuICAgICAgICBlbnRpdHlOYW1lICs9IHhtbERhdGFbaV07XG4gICAgfVxuICAgIGVudGl0eU5hbWUgPSBlbnRpdHlOYW1lLnRyaW0oKTtcbiAgICBpZihlbnRpdHlOYW1lLmluZGV4T2YoXCIgXCIpICE9PSAtMSkgdGhyb3cgbmV3IEVycm9yKFwiRXh0ZXJuYWwgZW50aXRlcyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcblxuICAgIC8vcmVhZCBFbnRpdHkgVmFsdWVcbiAgICBjb25zdCBzdGFydENoYXIgPSB4bWxEYXRhW2krK107XG4gICAgbGV0IHZhbCA9IFwiXCJcbiAgICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoICYmIHhtbERhdGFbaV0gIT09IHN0YXJ0Q2hhciA7IGkrKykge1xuICAgICAgICB2YWwgKz0geG1sRGF0YVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIFtlbnRpdHlOYW1lLCB2YWwsIGldO1xufVxuXG5mdW5jdGlvbiBpc0NvbW1lbnQoeG1sRGF0YSwgaSl7XG4gICAgaWYoeG1sRGF0YVtpKzFdID09PSAnIScgJiZcbiAgICB4bWxEYXRhW2krMl0gPT09ICctJyAmJlxuICAgIHhtbERhdGFbaSszXSA9PT0gJy0nKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxufVxuZnVuY3Rpb24gaXNFbnRpdHkoeG1sRGF0YSwgaSl7XG4gICAgaWYoeG1sRGF0YVtpKzFdID09PSAnIScgJiZcbiAgICB4bWxEYXRhW2krMl0gPT09ICdFJyAmJlxuICAgIHhtbERhdGFbaSszXSA9PT0gJ04nICYmXG4gICAgeG1sRGF0YVtpKzRdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2krNV0gPT09ICdJJyAmJlxuICAgIHhtbERhdGFbaSs2XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpKzddID09PSAnWScpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG59XG5mdW5jdGlvbiBpc0VsZW1lbnQoeG1sRGF0YSwgaSl7XG4gICAgaWYoeG1sRGF0YVtpKzFdID09PSAnIScgJiZcbiAgICB4bWxEYXRhW2krMl0gPT09ICdFJyAmJlxuICAgIHhtbERhdGFbaSszXSA9PT0gJ0wnICYmXG4gICAgeG1sRGF0YVtpKzRdID09PSAnRScgJiZcbiAgICB4bWxEYXRhW2krNV0gPT09ICdNJyAmJlxuICAgIHhtbERhdGFbaSs2XSA9PT0gJ0UnICYmXG4gICAgeG1sRGF0YVtpKzddID09PSAnTicgJiZcbiAgICB4bWxEYXRhW2krOF0gPT09ICdUJykgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gaXNBdHRsaXN0KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnQScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs0XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpKzVdID09PSAnTCcgJiZcbiAgICB4bWxEYXRhW2krNl0gPT09ICdJJyAmJlxuICAgIHhtbERhdGFbaSs3XSA9PT0gJ1MnICYmXG4gICAgeG1sRGF0YVtpKzhdID09PSAnVCcpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG59XG5mdW5jdGlvbiBpc05vdGF0aW9uKHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnTicgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICdPJyAmJlxuICAgIHhtbERhdGFbaSs0XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpKzVdID09PSAnQScgJiZcbiAgICB4bWxEYXRhW2krNl0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs3XSA9PT0gJ0knICYmXG4gICAgeG1sRGF0YVtpKzhdID09PSAnTycgJiZcbiAgICB4bWxEYXRhW2krOV0gPT09ICdOJykgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVFbnRpdHlOYW1lKG5hbWUpe1xuICAgIGlmICh1dGlsLmlzTmFtZShuYW1lKSlcblx0cmV0dXJuIG5hbWU7XG4gICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZW50aXR5IG5hbWUgJHtuYW1lfWApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWREb2NUeXBlO1xuIiwiXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwcmVzZXJ2ZU9yZGVyOiBmYWxzZSxcbiAgICBhdHRyaWJ1dGVOYW1lUHJlZml4OiAnQF8nLFxuICAgIGF0dHJpYnV0ZXNHcm91cE5hbWU6IGZhbHNlLFxuICAgIHRleHROb2RlTmFtZTogJyN0ZXh0JyxcbiAgICBpZ25vcmVBdHRyaWJ1dGVzOiB0cnVlLFxuICAgIHJlbW92ZU5TUHJlZml4OiBmYWxzZSwgLy8gcmVtb3ZlIE5TIGZyb20gdGFnIG5hbWUgb3IgYXR0cmlidXRlIG5hbWUgaWYgdHJ1ZVxuICAgIGFsbG93Qm9vbGVhbkF0dHJpYnV0ZXM6IGZhbHNlLCAvL2EgdGFnIGNhbiBoYXZlIGF0dHJpYnV0ZXMgd2l0aG91dCBhbnkgdmFsdWVcbiAgICAvL2lnbm9yZVJvb3RFbGVtZW50IDogZmFsc2UsXG4gICAgcGFyc2VUYWdWYWx1ZTogdHJ1ZSxcbiAgICBwYXJzZUF0dHJpYnV0ZVZhbHVlOiBmYWxzZSxcbiAgICB0cmltVmFsdWVzOiB0cnVlLCAvL1RyaW0gc3RyaW5nIHZhbHVlcyBvZiB0YWcgYW5kIGF0dHJpYnV0ZXNcbiAgICBjZGF0YVByb3BOYW1lOiBmYWxzZSxcbiAgICBudW1iZXJQYXJzZU9wdGlvbnM6IHtcbiAgICAgIGhleDogdHJ1ZSxcbiAgICAgIGxlYWRpbmdaZXJvczogdHJ1ZSxcbiAgICAgIGVOb3RhdGlvbjogdHJ1ZVxuICAgIH0sXG4gICAgdGFnVmFsdWVQcm9jZXNzb3I6IGZ1bmN0aW9uKHRhZ05hbWUsIHZhbCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuICAgIGF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yOiBmdW5jdGlvbihhdHRyTmFtZSwgdmFsKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG4gICAgc3RvcE5vZGVzOiBbXSwgLy9uZXN0ZWQgdGFncyB3aWxsIG5vdCBiZSBwYXJzZWQgZXZlbiBmb3IgZXJyb3JzXG4gICAgYWx3YXlzQ3JlYXRlVGV4dE5vZGU6IGZhbHNlLFxuICAgIGlzQXJyYXk6ICgpID0+IGZhbHNlLFxuICAgIGNvbW1lbnRQcm9wTmFtZTogZmFsc2UsXG4gICAgdW5wYWlyZWRUYWdzOiBbXSxcbiAgICBwcm9jZXNzRW50aXRpZXM6IHRydWUsXG4gICAgaHRtbEVudGl0aWVzOiBmYWxzZSxcbiAgICBpZ25vcmVEZWNsYXJhdGlvbjogZmFsc2UsXG4gICAgaWdub3JlUGlUYWdzOiBmYWxzZSxcbiAgICB0cmFuc2Zvcm1UYWdOYW1lOiBmYWxzZSxcbiAgICB0cmFuc2Zvcm1BdHRyaWJ1dGVOYW1lOiBmYWxzZSxcbiAgICB1cGRhdGVUYWc6IGZ1bmN0aW9uKHRhZ05hbWUsIGpQYXRoLCBhdHRycyl7XG4gICAgICByZXR1cm4gdGFnTmFtZVxuICAgIH0sXG4gICAgLy8gc2tpcEVtcHR5TGlzdEl0ZW06IGZhbHNlXG59O1xuICAgXG5jb25zdCBidWlsZE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbn07XG5cbmV4cG9ydHMuYnVpbGRPcHRpb25zID0gYnVpbGRPcHRpb25zO1xuZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zOyIsIid1c2Ugc3RyaWN0Jztcbi8vL0B0cy1jaGVja1xuXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpO1xuY29uc3QgeG1sTm9kZSA9IHJlcXVpcmUoJy4veG1sTm9kZScpO1xuY29uc3QgcmVhZERvY1R5cGUgPSByZXF1aXJlKFwiLi9Eb2NUeXBlUmVhZGVyXCIpO1xuY29uc3QgdG9OdW1iZXIgPSByZXF1aXJlKFwic3RybnVtXCIpO1xuXG5jb25zdCByZWd4ID1cbiAgJzwoKCFcXFxcW0NEQVRBXFxcXFsoW1xcXFxzXFxcXFNdKj8pKF1dPikpfCgoTkFNRTopPyhOQU1FKSkoW14+XSopPnwoKFxcXFwvKShOQU1FKVxcXFxzKj4pKShbXjxdKiknXG4gIC5yZXBsYWNlKC9OQU1FL2csIHV0aWwubmFtZVJlZ2V4cCk7XG5cbi8vY29uc3QgdGFnc1JlZ3ggPSBuZXcgUmVnRXhwKFwiPChcXFxcLz9bXFxcXHc6XFxcXC1cXC5fXSspKFtePl0qKT4oXFxcXHMqXCIrY2RhdGFSZWd4K1wiKSooW148XSspP1wiLFwiZ1wiKTtcbi8vY29uc3QgdGFnc1JlZ3ggPSBuZXcgUmVnRXhwKFwiPChcXFxcLz8pKChcXFxcdyo6KT8oW1xcXFx3OlxcXFwtXFwuX10rKSkoW14+XSopPihbXjxdKikoXCIrY2RhdGFSZWd4K1wiKFtePF0qKSkqKFtePF0rKT9cIixcImdcIik7XG5cbmNsYXNzIE9yZGVyZWRPYmpQYXJzZXJ7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5jdXJyZW50Tm9kZSA9IG51bGw7XG4gICAgdGhpcy50YWdzTm9kZVN0YWNrID0gW107XG4gICAgdGhpcy5kb2NUeXBlRW50aXRpZXMgPSB7fTtcbiAgICB0aGlzLmxhc3RFbnRpdGllcyA9IHtcbiAgICAgIFwiYXBvc1wiIDogeyByZWdleDogLyYoYXBvc3wjMzl8I3gyNyk7L2csIHZhbCA6IFwiJ1wifSxcbiAgICAgIFwiZ3RcIiA6IHsgcmVnZXg6IC8mKGd0fCM2MnwjeDNFKTsvZywgdmFsIDogXCI+XCJ9LFxuICAgICAgXCJsdFwiIDogeyByZWdleDogLyYobHR8IzYwfCN4M0MpOy9nLCB2YWwgOiBcIjxcIn0sXG4gICAgICBcInF1b3RcIiA6IHsgcmVnZXg6IC8mKHF1b3R8IzM0fCN4MjIpOy9nLCB2YWwgOiBcIlxcXCJcIn0sXG4gICAgfTtcbiAgICB0aGlzLmFtcEVudGl0eSA9IHsgcmVnZXg6IC8mKGFtcHwjMzh8I3gyNik7L2csIHZhbCA6IFwiJlwifTtcbiAgICB0aGlzLmh0bWxFbnRpdGllcyA9IHtcbiAgICAgIFwic3BhY2VcIjogeyByZWdleDogLyYobmJzcHwjMTYwKTsvZywgdmFsOiBcIiBcIiB9LFxuICAgICAgLy8gXCJsdFwiIDogeyByZWdleDogLyYobHR8IzYwKTsvZywgdmFsOiBcIjxcIiB9LFxuICAgICAgLy8gXCJndFwiIDogeyByZWdleDogLyYoZ3R8IzYyKTsvZywgdmFsOiBcIj5cIiB9LFxuICAgICAgLy8gXCJhbXBcIiA6IHsgcmVnZXg6IC8mKGFtcHwjMzgpOy9nLCB2YWw6IFwiJlwiIH0sXG4gICAgICAvLyBcInF1b3RcIiA6IHsgcmVnZXg6IC8mKHF1b3R8IzM0KTsvZywgdmFsOiBcIlxcXCJcIiB9LFxuICAgICAgLy8gXCJhcG9zXCIgOiB7IHJlZ2V4OiAvJihhcG9zfCMzOSk7L2csIHZhbDogXCInXCIgfSxcbiAgICAgIFwiY2VudFwiIDogeyByZWdleDogLyYoY2VudHwjMTYyKTsvZywgdmFsOiBcIsKiXCIgfSxcbiAgICAgIFwicG91bmRcIiA6IHsgcmVnZXg6IC8mKHBvdW5kfCMxNjMpOy9nLCB2YWw6IFwiwqNcIiB9LFxuICAgICAgXCJ5ZW5cIiA6IHsgcmVnZXg6IC8mKHllbnwjMTY1KTsvZywgdmFsOiBcIsKlXCIgfSxcbiAgICAgIFwiZXVyb1wiIDogeyByZWdleDogLyYoZXVyb3wjODM2NCk7L2csIHZhbDogXCLigqxcIiB9LFxuICAgICAgXCJjb3B5cmlnaHRcIiA6IHsgcmVnZXg6IC8mKGNvcHl8IzE2OSk7L2csIHZhbDogXCLCqVwiIH0sXG4gICAgICBcInJlZ1wiIDogeyByZWdleDogLyYocmVnfCMxNzQpOy9nLCB2YWw6IFwiwq5cIiB9LFxuICAgICAgXCJpbnJcIiA6IHsgcmVnZXg6IC8mKGlucnwjODM3Nyk7L2csIHZhbDogXCLigrlcIiB9LFxuICAgIH07XG4gICAgdGhpcy5hZGRFeHRlcm5hbEVudGl0aWVzID0gYWRkRXh0ZXJuYWxFbnRpdGllcztcbiAgICB0aGlzLnBhcnNlWG1sID0gcGFyc2VYbWw7XG4gICAgdGhpcy5wYXJzZVRleHREYXRhID0gcGFyc2VUZXh0RGF0YTtcbiAgICB0aGlzLnJlc29sdmVOYW1lU3BhY2UgPSByZXNvbHZlTmFtZVNwYWNlO1xuICAgIHRoaXMuYnVpbGRBdHRyaWJ1dGVzTWFwID0gYnVpbGRBdHRyaWJ1dGVzTWFwO1xuICAgIHRoaXMuaXNJdFN0b3BOb2RlID0gaXNJdFN0b3BOb2RlO1xuICAgIHRoaXMucmVwbGFjZUVudGl0aWVzVmFsdWUgPSByZXBsYWNlRW50aXRpZXNWYWx1ZTtcbiAgICB0aGlzLnJlYWRTdG9wTm9kZURhdGEgPSByZWFkU3RvcE5vZGVEYXRhO1xuICAgIHRoaXMuc2F2ZVRleHRUb1BhcmVudFRhZyA9IHNhdmVUZXh0VG9QYXJlbnRUYWc7XG4gICAgdGhpcy5hZGRDaGlsZCA9IGFkZENoaWxkO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gYWRkRXh0ZXJuYWxFbnRpdGllcyhleHRlcm5hbEVudGl0aWVzKXtcbiAgY29uc3QgZW50S2V5cyA9IE9iamVjdC5rZXlzKGV4dGVybmFsRW50aXRpZXMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVudEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbnQgPSBlbnRLZXlzW2ldO1xuICAgIHRoaXMubGFzdEVudGl0aWVzW2VudF0gPSB7XG4gICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCImXCIrZW50K1wiO1wiLFwiZ1wiKSxcbiAgICAgICB2YWwgOiBleHRlcm5hbEVudGl0aWVzW2VudF1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGpQYXRoXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRUcmltXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc0F0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNMZWFmTm9kZVxuICogQHBhcmFtIHtib29sZWFufSBlc2NhcGVFbnRpdGllc1xuICovXG5mdW5jdGlvbiBwYXJzZVRleHREYXRhKHZhbCwgdGFnTmFtZSwgalBhdGgsIGRvbnRUcmltLCBoYXNBdHRyaWJ1dGVzLCBpc0xlYWZOb2RlLCBlc2NhcGVFbnRpdGllcykge1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRyaW1WYWx1ZXMgJiYgIWRvbnRUcmltKSB7XG4gICAgICB2YWwgPSB2YWwudHJpbSgpO1xuICAgIH1cbiAgICBpZih2YWwubGVuZ3RoID4gMCl7XG4gICAgICBpZighZXNjYXBlRW50aXRpZXMpIHZhbCA9IHRoaXMucmVwbGFjZUVudGl0aWVzVmFsdWUodmFsKTtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3dmFsID0gdGhpcy5vcHRpb25zLnRhZ1ZhbHVlUHJvY2Vzc29yKHRhZ05hbWUsIHZhbCwgalBhdGgsIGhhc0F0dHJpYnV0ZXMsIGlzTGVhZk5vZGUpO1xuICAgICAgaWYobmV3dmFsID09PSBudWxsIHx8IG5ld3ZhbCA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgLy9kb24ndCBwYXJzZVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfWVsc2UgaWYodHlwZW9mIG5ld3ZhbCAhPT0gdHlwZW9mIHZhbCB8fCBuZXd2YWwgIT09IHZhbCl7XG4gICAgICAgIC8vb3ZlcndyaXRlXG4gICAgICAgIHJldHVybiBuZXd2YWw7XG4gICAgICB9ZWxzZSBpZih0aGlzLm9wdGlvbnMudHJpbVZhbHVlcyl7XG4gICAgICAgIHJldHVybiBwYXJzZVZhbHVlKHZhbCwgdGhpcy5vcHRpb25zLnBhcnNlVGFnVmFsdWUsIHRoaXMub3B0aW9ucy5udW1iZXJQYXJzZU9wdGlvbnMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGNvbnN0IHRyaW1tZWRWYWwgPSB2YWwudHJpbSgpO1xuICAgICAgICBpZih0cmltbWVkVmFsID09PSB2YWwpe1xuICAgICAgICAgIHJldHVybiBwYXJzZVZhbHVlKHZhbCwgdGhpcy5vcHRpb25zLnBhcnNlVGFnVmFsdWUsIHRoaXMub3B0aW9ucy5udW1iZXJQYXJzZU9wdGlvbnMpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVOYW1lU3BhY2UodGFnbmFtZSkge1xuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU5TUHJlZml4KSB7XG4gICAgY29uc3QgdGFncyA9IHRhZ25hbWUuc3BsaXQoJzonKTtcbiAgICBjb25zdCBwcmVmaXggPSB0YWduYW1lLmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJyc7XG4gICAgaWYgKHRhZ3NbMF0gPT09ICd4bWxucycpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgaWYgKHRhZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICB0YWduYW1lID0gcHJlZml4ICsgdGFnc1sxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhZ25hbWU7XG59XG5cbi8vVE9ETzogY2hhbmdlIHJlZ2V4IHRvIGNhcHR1cmUgTlNcbi8vY29uc3QgYXR0cnNSZWd4ID0gbmV3IFJlZ0V4cChcIihbXFxcXHdcXFxcLVxcXFwuXFxcXDpdKylcXFxccyo9XFxcXHMqKFsnXFxcIl0pKCgufFxcbikqPylcXFxcMlwiLFwiZ21cIik7XG5jb25zdCBhdHRyc1JlZ3ggPSBuZXcgUmVnRXhwKCcoW15cXFxccz1dKylcXFxccyooPVxcXFxzKihbXFwnXCJdKShbXFxcXHNcXFxcU10qPylcXFxcMyk/JywgJ2dtJyk7XG5cbmZ1bmN0aW9uIGJ1aWxkQXR0cmlidXRlc01hcChhdHRyU3RyLCBqUGF0aCwgdGFnTmFtZSkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5pZ25vcmVBdHRyaWJ1dGVzICYmIHR5cGVvZiBhdHRyU3RyID09PSAnc3RyaW5nJykge1xuICAgIC8vIGF0dHJTdHIgPSBhdHRyU3RyLnJlcGxhY2UoL1xccj9cXG4vZywgJyAnKTtcbiAgICAvL2F0dHJTdHIgPSBhdHRyU3RyIHx8IGF0dHJTdHIudHJpbSgpO1xuXG4gICAgY29uc3QgbWF0Y2hlcyA9IHV0aWwuZ2V0QWxsTWF0Y2hlcyhhdHRyU3RyLCBhdHRyc1JlZ3gpO1xuICAgIGNvbnN0IGxlbiA9IG1hdGNoZXMubGVuZ3RoOyAvL2Rvbid0IG1ha2UgaXQgaW5saW5lXG4gICAgY29uc3QgYXR0cnMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBhdHRyTmFtZSA9IHRoaXMucmVzb2x2ZU5hbWVTcGFjZShtYXRjaGVzW2ldWzFdKTtcbiAgICAgIGxldCBvbGRWYWwgPSBtYXRjaGVzW2ldWzRdO1xuICAgICAgbGV0IGFOYW1lID0gdGhpcy5vcHRpb25zLmF0dHJpYnV0ZU5hbWVQcmVmaXggKyBhdHRyTmFtZTtcbiAgICAgIGlmIChhdHRyTmFtZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2Zvcm1BdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgYU5hbWUgPSB0aGlzLm9wdGlvbnMudHJhbnNmb3JtQXR0cmlidXRlTmFtZShhTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYU5hbWUgPT09IFwiX19wcm90b19fXCIpIGFOYW1lICA9IFwiI19fcHJvdG9fX1wiO1xuICAgICAgICBpZiAob2xkVmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyaW1WYWx1ZXMpIHtcbiAgICAgICAgICAgIG9sZFZhbCA9IG9sZFZhbC50cmltKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9sZFZhbCA9IHRoaXMucmVwbGFjZUVudGl0aWVzVmFsdWUob2xkVmFsKTtcbiAgICAgICAgICBjb25zdCBuZXdWYWwgPSB0aGlzLm9wdGlvbnMuYXR0cmlidXRlVmFsdWVQcm9jZXNzb3IoYXR0ck5hbWUsIG9sZFZhbCwgalBhdGgpO1xuICAgICAgICAgIGlmKG5ld1ZhbCA9PT0gbnVsbCB8fCBuZXdWYWwgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAvL2Rvbid0IHBhcnNlXG4gICAgICAgICAgICBhdHRyc1thTmFtZV0gPSBvbGRWYWw7XG4gICAgICAgICAgfWVsc2UgaWYodHlwZW9mIG5ld1ZhbCAhPT0gdHlwZW9mIG9sZFZhbCB8fCBuZXdWYWwgIT09IG9sZFZhbCl7XG4gICAgICAgICAgICAvL292ZXJ3cml0ZVxuICAgICAgICAgICAgYXR0cnNbYU5hbWVdID0gbmV3VmFsO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy9wYXJzZVxuICAgICAgICAgICAgYXR0cnNbYU5hbWVdID0gcGFyc2VWYWx1ZShcbiAgICAgICAgICAgICAgb2xkVmFsLFxuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucGFyc2VBdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm51bWJlclBhcnNlT3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmFsbG93Qm9vbGVhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBhdHRyc1thTmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghT2JqZWN0LmtleXMoYXR0cnMpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWUpIHtcbiAgICAgIGNvbnN0IGF0dHJDb2xsZWN0aW9uID0ge307XG4gICAgICBhdHRyQ29sbGVjdGlvblt0aGlzLm9wdGlvbnMuYXR0cmlidXRlc0dyb3VwTmFtZV0gPSBhdHRycztcbiAgICAgIHJldHVybiBhdHRyQ29sbGVjdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJzXG4gIH1cbn1cblxuY29uc3QgcGFyc2VYbWwgPSBmdW5jdGlvbih4bWxEYXRhKSB7XG4gIHhtbERhdGEgPSB4bWxEYXRhLnJlcGxhY2UoL1xcclxcbj8vZywgXCJcXG5cIik7IC8vVE9ETzogcmVtb3ZlIHRoaXMgbGluZVxuICBjb25zdCB4bWxPYmogPSBuZXcgeG1sTm9kZSgnIXhtbCcpO1xuICBsZXQgY3VycmVudE5vZGUgPSB4bWxPYmo7XG4gIGxldCB0ZXh0RGF0YSA9IFwiXCI7XG4gIGxldCBqUGF0aCA9IFwiXCI7XG4gIGZvcihsZXQgaT0wOyBpPCB4bWxEYXRhLmxlbmd0aDsgaSsrKXsvL2ZvciBlYWNoIGNoYXIgaW4gWE1MIGRhdGFcbiAgICBjb25zdCBjaCA9IHhtbERhdGFbaV07XG4gICAgaWYoY2ggPT09ICc8Jyl7XG4gICAgICAvLyBjb25zdCBuZXh0SW5kZXggPSBpKzE7XG4gICAgICAvLyBjb25zdCBfMm5kQ2hhciA9IHhtbERhdGFbbmV4dEluZGV4XTtcbiAgICAgIGlmKCB4bWxEYXRhW2krMV0gPT09ICcvJykgey8vQ2xvc2luZyBUYWdcbiAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCI+XCIsIGksIFwiQ2xvc2luZyBUYWcgaXMgbm90IGNsb3NlZC5cIilcbiAgICAgICAgbGV0IHRhZ05hbWUgPSB4bWxEYXRhLnN1YnN0cmluZyhpKzIsY2xvc2VJbmRleCkudHJpbSgpO1xuXG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5yZW1vdmVOU1ByZWZpeCl7XG4gICAgICAgICAgY29uc3QgY29sb25JbmRleCA9IHRhZ05hbWUuaW5kZXhPZihcIjpcIik7XG4gICAgICAgICAgaWYoY29sb25JbmRleCAhPT0gLTEpe1xuICAgICAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUuc3Vic3RyKGNvbG9uSW5kZXgrMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUpIHtcbiAgICAgICAgICB0YWdOYW1lID0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUodGFnTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihjdXJyZW50Tm9kZSl7XG4gICAgICAgICAgdGV4dERhdGEgPSB0aGlzLnNhdmVUZXh0VG9QYXJlbnRUYWcodGV4dERhdGEsIGN1cnJlbnROb2RlLCBqUGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NoZWNrIGlmIGxhc3QgdGFnIG9mIG5lc3RlZCB0YWcgd2FzIHVucGFpcmVkIHRhZ1xuICAgICAgICBjb25zdCBsYXN0VGFnTmFtZSA9IGpQYXRoLnN1YnN0cmluZyhqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikrMSk7XG4gICAgICAgIGlmKHRhZ05hbWUgJiYgdGhpcy5vcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSApe1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5wYWlyZWQgdGFnIGNhbiBub3QgYmUgdXNlZCBhcyBjbG9zaW5nIHRhZzogPC8ke3RhZ05hbWV9PmApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcm9wSW5kZXggPSAwXG4gICAgICAgIGlmKGxhc3RUYWdOYW1lICYmIHRoaXMub3B0aW9ucy51bnBhaXJlZFRhZ3MuaW5kZXhPZihsYXN0VGFnTmFtZSkgIT09IC0xICl7XG4gICAgICAgICAgcHJvcEluZGV4ID0galBhdGgubGFzdEluZGV4T2YoJy4nLCBqUGF0aC5sYXN0SW5kZXhPZignLicpLTEpXG4gICAgICAgICAgdGhpcy50YWdzTm9kZVN0YWNrLnBvcCgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBwcm9wSW5kZXggPSBqUGF0aC5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgalBhdGggPSBqUGF0aC5zdWJzdHJpbmcoMCwgcHJvcEluZGV4KTtcblxuICAgICAgICBjdXJyZW50Tm9kZSA9IHRoaXMudGFnc05vZGVTdGFjay5wb3AoKTsvL2F2b2lkIHJlY3Vyc2lvbiwgc2V0IHRoZSBwYXJlbnQgdGFnIHNjb3BlXG4gICAgICAgIHRleHREYXRhID0gXCJcIjtcbiAgICAgICAgaSA9IGNsb3NlSW5kZXg7XG4gICAgICB9IGVsc2UgaWYoIHhtbERhdGFbaSsxXSA9PT0gJz8nKSB7XG5cbiAgICAgICAgbGV0IHRhZ0RhdGEgPSByZWFkVGFnRXhwKHhtbERhdGEsaSwgZmFsc2UsIFwiPz5cIik7XG4gICAgICAgIGlmKCF0YWdEYXRhKSB0aHJvdyBuZXcgRXJyb3IoXCJQaSBUYWcgaXMgbm90IGNsb3NlZC5cIik7XG5cbiAgICAgICAgdGV4dERhdGEgPSB0aGlzLnNhdmVUZXh0VG9QYXJlbnRUYWcodGV4dERhdGEsIGN1cnJlbnROb2RlLCBqUGF0aCk7XG4gICAgICAgIGlmKCAodGhpcy5vcHRpb25zLmlnbm9yZURlY2xhcmF0aW9uICYmIHRhZ0RhdGEudGFnTmFtZSA9PT0gXCI/eG1sXCIpIHx8IHRoaXMub3B0aW9ucy5pZ25vcmVQaVRhZ3Mpe1xuXG4gICAgICAgIH1lbHNle1xuICBcbiAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSh0YWdEYXRhLnRhZ05hbWUpO1xuICAgICAgICAgIGNoaWxkTm9kZS5hZGQodGhpcy5vcHRpb25zLnRleHROb2RlTmFtZSwgXCJcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYodGFnRGF0YS50YWdOYW1lICE9PSB0YWdEYXRhLnRhZ0V4cCAmJiB0YWdEYXRhLmF0dHJFeHBQcmVzZW50KXtcbiAgICAgICAgICAgIGNoaWxkTm9kZVtcIjpAXCJdID0gdGhpcy5idWlsZEF0dHJpYnV0ZXNNYXAodGFnRGF0YS50YWdFeHAsIGpQYXRoLCB0YWdEYXRhLnRhZ05hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmFkZENoaWxkKGN1cnJlbnROb2RlLCBjaGlsZE5vZGUsIGpQYXRoKVxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIGkgPSB0YWdEYXRhLmNsb3NlSW5kZXggKyAxO1xuICAgICAgfSBlbHNlIGlmKHhtbERhdGEuc3Vic3RyKGkgKyAxLCAzKSA9PT0gJyEtLScpIHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiLS0+XCIsIGkrNCwgXCJDb21tZW50IGlzIG5vdCBjbG9zZWQuXCIpXG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5jb21tZW50UHJvcE5hbWUpe1xuICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB4bWxEYXRhLnN1YnN0cmluZyhpICsgNCwgZW5kSW5kZXggLSAyKTtcblxuICAgICAgICAgIHRleHREYXRhID0gdGhpcy5zYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgpO1xuXG4gICAgICAgICAgY3VycmVudE5vZGUuYWRkKHRoaXMub3B0aW9ucy5jb21tZW50UHJvcE5hbWUsIFsgeyBbdGhpcy5vcHRpb25zLnRleHROb2RlTmFtZV0gOiBjb21tZW50IH0gXSk7XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGVuZEluZGV4O1xuICAgICAgfSBlbHNlIGlmKCB4bWxEYXRhLnN1YnN0cihpICsgMSwgMikgPT09ICchRCcpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZERvY1R5cGUoeG1sRGF0YSwgaSk7XG4gICAgICAgIHRoaXMuZG9jVHlwZUVudGl0aWVzID0gcmVzdWx0LmVudGl0aWVzO1xuICAgICAgICBpID0gcmVzdWx0Lmk7XG4gICAgICB9ZWxzZSBpZih4bWxEYXRhLnN1YnN0cihpICsgMSwgMikgPT09ICchWycpIHtcbiAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCJdXT5cIiwgaSwgXCJDREFUQSBpcyBub3QgY2xvc2VkLlwiKSAtIDI7XG4gICAgICAgIGNvbnN0IHRhZ0V4cCA9IHhtbERhdGEuc3Vic3RyaW5nKGkgKyA5LGNsb3NlSW5kZXgpO1xuXG4gICAgICAgIHRleHREYXRhID0gdGhpcy5zYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgpO1xuXG4gICAgICAgIC8vY2RhdGEgc2hvdWxkIGJlIHNldCBldmVuIGlmIGl0IGlzIDAgbGVuZ3RoIHN0cmluZ1xuICAgICAgICBpZih0aGlzLm9wdGlvbnMuY2RhdGFQcm9wTmFtZSl7XG4gICAgICAgICAgLy8gbGV0IHZhbCA9IHRoaXMucGFyc2VUZXh0RGF0YSh0YWdFeHAsIHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lLCBqUGF0aCArIFwiLlwiICsgdGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUsIHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAvLyBpZighdmFsKSB2YWwgPSBcIlwiO1xuICAgICAgICAgIGN1cnJlbnROb2RlLmFkZCh0aGlzLm9wdGlvbnMuY2RhdGFQcm9wTmFtZSwgWyB7IFt0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lXSA6IHRhZ0V4cCB9IF0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBsZXQgdmFsID0gdGhpcy5wYXJzZVRleHREYXRhKHRhZ0V4cCwgY3VycmVudE5vZGUudGFnbmFtZSwgalBhdGgsIHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBpZih2YWwgPT0gdW5kZWZpbmVkKSB2YWwgPSBcIlwiO1xuICAgICAgICAgIGN1cnJlbnROb2RlLmFkZCh0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lLCB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpID0gY2xvc2VJbmRleCArIDI7XG4gICAgICB9ZWxzZSB7Ly9PcGVuaW5nIHRhZ1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVhZFRhZ0V4cCh4bWxEYXRhLGksIHRoaXMub3B0aW9ucy5yZW1vdmVOU1ByZWZpeCk7XG4gICAgICAgIGxldCB0YWdOYW1lPSByZXN1bHQudGFnTmFtZTtcbiAgICAgICAgbGV0IHRhZ0V4cCA9IHJlc3VsdC50YWdFeHA7XG4gICAgICAgIGxldCBhdHRyRXhwUHJlc2VudCA9IHJlc3VsdC5hdHRyRXhwUHJlc2VudDtcbiAgICAgICAgbGV0IGNsb3NlSW5kZXggPSByZXN1bHQuY2xvc2VJbmRleDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUpIHtcbiAgICAgICAgICB0YWdOYW1lID0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUodGFnTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vc2F2ZSB0ZXh0IGFzIGNoaWxkIG5vZGVcbiAgICAgICAgaWYgKGN1cnJlbnROb2RlICYmIHRleHREYXRhKSB7XG4gICAgICAgICAgaWYoY3VycmVudE5vZGUudGFnbmFtZSAhPT0gJyF4bWwnKXtcbiAgICAgICAgICAgIC8vd2hlbiBuZXN0ZWQgdGFnIGlzIGZvdW5kXG4gICAgICAgICAgICB0ZXh0RGF0YSA9IHRoaXMuc2F2ZVRleHRUb1BhcmVudFRhZyh0ZXh0RGF0YSwgY3VycmVudE5vZGUsIGpQYXRoLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jaGVjayBpZiBsYXN0IHRhZyB3YXMgdW5wYWlyZWQgdGFnXG4gICAgICAgIGNvbnN0IGxhc3RUYWcgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgaWYobGFzdFRhZyAmJiB0aGlzLm9wdGlvbnMudW5wYWlyZWRUYWdzLmluZGV4T2YobGFzdFRhZy50YWduYW1lKSAhPT0gLTEgKXtcbiAgICAgICAgICBjdXJyZW50Tm9kZSA9IHRoaXMudGFnc05vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgICBqUGF0aCA9IGpQYXRoLnN1YnN0cmluZygwLCBqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRhZ05hbWUgIT09IHhtbE9iai50YWduYW1lKXtcbiAgICAgICAgICBqUGF0aCArPSBqUGF0aCA/IFwiLlwiICsgdGFnTmFtZSA6IHRhZ05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNJdFN0b3BOb2RlKHRoaXMub3B0aW9ucy5zdG9wTm9kZXMsIGpQYXRoLCB0YWdOYW1lKSkgeyAvL1RPRE86IG5hbWVzcGFjZVxuICAgICAgICAgIGxldCB0YWdDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAvL3NlbGYtY2xvc2luZyB0YWdcbiAgICAgICAgICBpZih0YWdFeHAubGVuZ3RoID4gMCAmJiB0YWdFeHAubGFzdEluZGV4T2YoXCIvXCIpID09PSB0YWdFeHAubGVuZ3RoIC0gMSl7XG4gICAgICAgICAgICBpID0gcmVzdWx0LmNsb3NlSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdW5wYWlyZWQgdGFnXG4gICAgICAgICAgZWxzZSBpZih0aGlzLm9wdGlvbnMudW5wYWlyZWRUYWdzLmluZGV4T2YodGFnTmFtZSkgIT09IC0xKXtcbiAgICAgICAgICAgIGkgPSByZXN1bHQuY2xvc2VJbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9ub3JtYWwgdGFnXG4gICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIC8vcmVhZCB1bnRpbCBjbG9zaW5nIHRhZyBpcyBmb3VuZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZWFkU3RvcE5vZGVEYXRhKHhtbERhdGEsIHRhZ05hbWUsIGNsb3NlSW5kZXggKyAxKTtcbiAgICAgICAgICAgIGlmKCFyZXN1bHQpIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBlbmQgb2YgJHt0YWdOYW1lfWApO1xuICAgICAgICAgICAgaSA9IHJlc3VsdC5pO1xuICAgICAgICAgICAgdGFnQ29udGVudCA9IHJlc3VsdC50YWdDb250ZW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5ldyB4bWxOb2RlKHRhZ05hbWUpO1xuICAgICAgICAgIGlmKHRhZ05hbWUgIT09IHRhZ0V4cCAmJiBhdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICBjaGlsZE5vZGVbXCI6QFwiXSA9IHRoaXMuYnVpbGRBdHRyaWJ1dGVzTWFwKHRhZ0V4cCwgalBhdGgsIHRhZ05hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZih0YWdDb250ZW50KSB7XG4gICAgICAgICAgICB0YWdDb250ZW50ID0gdGhpcy5wYXJzZVRleHREYXRhKHRhZ0NvbnRlbnQsIHRhZ05hbWUsIGpQYXRoLCB0cnVlLCBhdHRyRXhwUHJlc2VudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGpQYXRoID0galBhdGguc3Vic3RyKDAsIGpQYXRoLmxhc3RJbmRleE9mKFwiLlwiKSk7XG4gICAgICAgICAgY2hpbGROb2RlLmFkZCh0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lLCB0YWdDb250ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLmFkZENoaWxkKGN1cnJlbnROb2RlLCBjaGlsZE5vZGUsIGpQYXRoKVxuICAgICAgICB9ZWxzZXtcbiAgLy9zZWxmQ2xvc2luZyB0YWdcbiAgICAgICAgICBpZih0YWdFeHAubGVuZ3RoID4gMCAmJiB0YWdFeHAubGFzdEluZGV4T2YoXCIvXCIpID09PSB0YWdFeHAubGVuZ3RoIC0gMSl7XG4gICAgICAgICAgICBpZih0YWdOYW1lW3RhZ05hbWUubGVuZ3RoIC0gMV0gPT09IFwiL1wiKXsgLy9yZW1vdmUgdHJhaWxpbmcgJy8nXG4gICAgICAgICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnN1YnN0cigwLCB0YWdOYW1lLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICB0YWdFeHAgPSB0YWdOYW1lO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIHRhZ0V4cCA9IHRhZ0V4cC5zdWJzdHIoMCwgdGFnRXhwLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZih0aGlzLm9wdGlvbnMudHJhbnNmb3JtVGFnTmFtZSkge1xuICAgICAgICAgICAgICB0YWdOYW1lID0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUodGFnTmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5ldyB4bWxOb2RlKHRhZ05hbWUpO1xuICAgICAgICAgICAgaWYodGFnTmFtZSAhPT0gdGFnRXhwICYmIGF0dHJFeHBQcmVzZW50KXtcbiAgICAgICAgICAgICAgY2hpbGROb2RlW1wiOkBcIl0gPSB0aGlzLmJ1aWxkQXR0cmlidXRlc01hcCh0YWdFeHAsIGpQYXRoLCB0YWdOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY3VycmVudE5vZGUsIGNoaWxkTm9kZSwgalBhdGgpXG4gICAgICAgICAgICBqUGF0aCA9IGpQYXRoLnN1YnN0cigwLCBqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICAgICAgICAgIH1cbiAgICAvL29wZW5pbmcgdGFnXG4gICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5ldyB4bWxOb2RlKCB0YWdOYW1lKTtcbiAgICAgICAgICAgIHRoaXMudGFnc05vZGVTdGFjay5wdXNoKGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYodGFnTmFtZSAhPT0gdGFnRXhwICYmIGF0dHJFeHBQcmVzZW50KXtcbiAgICAgICAgICAgICAgY2hpbGROb2RlW1wiOkBcIl0gPSB0aGlzLmJ1aWxkQXR0cmlidXRlc01hcCh0YWdFeHAsIGpQYXRoLCB0YWdOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY3VycmVudE5vZGUsIGNoaWxkTm9kZSwgalBhdGgpXG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGNoaWxkTm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGV4dERhdGEgPSBcIlwiO1xuICAgICAgICAgIGkgPSBjbG9zZUluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICB0ZXh0RGF0YSArPSB4bWxEYXRhW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4geG1sT2JqLmNoaWxkO1xufVxuXG5mdW5jdGlvbiBhZGRDaGlsZChjdXJyZW50Tm9kZSwgY2hpbGROb2RlLCBqUGF0aCl7XG4gIGNvbnN0IHJlc3VsdCA9IHRoaXMub3B0aW9ucy51cGRhdGVUYWcoY2hpbGROb2RlLnRhZ25hbWUsIGpQYXRoLCBjaGlsZE5vZGVbXCI6QFwiXSlcbiAgaWYocmVzdWx0ID09PSBmYWxzZSl7XG4gIH1lbHNlIGlmKHR5cGVvZiByZXN1bHQgPT09IFwic3RyaW5nXCIpe1xuICAgIGNoaWxkTm9kZS50YWduYW1lID0gcmVzdWx0XG4gICAgY3VycmVudE5vZGUuYWRkQ2hpbGQoY2hpbGROb2RlKTtcbiAgfWVsc2V7XG4gICAgY3VycmVudE5vZGUuYWRkQ2hpbGQoY2hpbGROb2RlKTtcbiAgfVxufVxuXG5jb25zdCByZXBsYWNlRW50aXRpZXNWYWx1ZSA9IGZ1bmN0aW9uKHZhbCl7XG5cbiAgaWYodGhpcy5vcHRpb25zLnByb2Nlc3NFbnRpdGllcyl7XG4gICAgZm9yKGxldCBlbnRpdHlOYW1lIGluIHRoaXMuZG9jVHlwZUVudGl0aWVzKXtcbiAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZG9jVHlwZUVudGl0aWVzW2VudGl0eU5hbWVdO1xuICAgICAgdmFsID0gdmFsLnJlcGxhY2UoIGVudGl0eS5yZWd4LCBlbnRpdHkudmFsKTtcbiAgICB9XG4gICAgZm9yKGxldCBlbnRpdHlOYW1lIGluIHRoaXMubGFzdEVudGl0aWVzKXtcbiAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMubGFzdEVudGl0aWVzW2VudGl0eU5hbWVdO1xuICAgICAgdmFsID0gdmFsLnJlcGxhY2UoIGVudGl0eS5yZWdleCwgZW50aXR5LnZhbCk7XG4gICAgfVxuICAgIGlmKHRoaXMub3B0aW9ucy5odG1sRW50aXRpZXMpe1xuICAgICAgZm9yKGxldCBlbnRpdHlOYW1lIGluIHRoaXMuaHRtbEVudGl0aWVzKXtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5odG1sRW50aXRpZXNbZW50aXR5TmFtZV07XG4gICAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKCBlbnRpdHkucmVnZXgsIGVudGl0eS52YWwpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YWwgPSB2YWwucmVwbGFjZSggdGhpcy5hbXBFbnRpdHkucmVnZXgsIHRoaXMuYW1wRW50aXR5LnZhbCk7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn1cbmZ1bmN0aW9uIHNhdmVUZXh0VG9QYXJlbnRUYWcodGV4dERhdGEsIGN1cnJlbnROb2RlLCBqUGF0aCwgaXNMZWFmTm9kZSkge1xuICBpZiAodGV4dERhdGEpIHsgLy9zdG9yZSBwcmV2aW91c2x5IGNvbGxlY3RlZCBkYXRhIGFzIHRleHROb2RlXG4gICAgaWYoaXNMZWFmTm9kZSA9PT0gdW5kZWZpbmVkKSBpc0xlYWZOb2RlID0gT2JqZWN0LmtleXMoY3VycmVudE5vZGUuY2hpbGQpLmxlbmd0aCA9PT0gMFxuICAgIFxuICAgIHRleHREYXRhID0gdGhpcy5wYXJzZVRleHREYXRhKHRleHREYXRhLFxuICAgICAgY3VycmVudE5vZGUudGFnbmFtZSxcbiAgICAgIGpQYXRoLFxuICAgICAgZmFsc2UsXG4gICAgICBjdXJyZW50Tm9kZVtcIjpAXCJdID8gT2JqZWN0LmtleXMoY3VycmVudE5vZGVbXCI6QFwiXSkubGVuZ3RoICE9PSAwIDogZmFsc2UsXG4gICAgICBpc0xlYWZOb2RlKTtcblxuICAgIGlmICh0ZXh0RGF0YSAhPT0gdW5kZWZpbmVkICYmIHRleHREYXRhICE9PSBcIlwiKVxuICAgICAgY3VycmVudE5vZGUuYWRkKHRoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWUsIHRleHREYXRhKTtcbiAgICB0ZXh0RGF0YSA9IFwiXCI7XG4gIH1cbiAgcmV0dXJuIHRleHREYXRhO1xufVxuXG4vL1RPRE86IHVzZSBqUGF0aCB0byBzaW1wbGlmeSB0aGUgbG9naWNcbi8qKlxuICogXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBzdG9wTm9kZXMgXG4gKiBAcGFyYW0ge3N0cmluZ30galBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW50VGFnTmFtZSBcbiAqL1xuZnVuY3Rpb24gaXNJdFN0b3BOb2RlKHN0b3BOb2RlcywgalBhdGgsIGN1cnJlbnRUYWdOYW1lKXtcbiAgY29uc3QgYWxsTm9kZXNFeHAgPSBcIiouXCIgKyBjdXJyZW50VGFnTmFtZTtcbiAgZm9yIChjb25zdCBzdG9wTm9kZVBhdGggaW4gc3RvcE5vZGVzKSB7XG4gICAgY29uc3Qgc3RvcE5vZGVFeHAgPSBzdG9wTm9kZXNbc3RvcE5vZGVQYXRoXTtcbiAgICBpZiggYWxsTm9kZXNFeHAgPT09IHN0b3BOb2RlRXhwIHx8IGpQYXRoID09PSBzdG9wTm9kZUV4cCAgKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdGFnIEV4cHJlc3Npb24gYW5kIHdoZXJlIGl0IGlzIGVuZGluZyBoYW5kbGluZyBzaW5nbGUtZG91YmxlIHF1b3RlcyBzaXR1YXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB4bWxEYXRhIFxuICogQHBhcmFtIHtudW1iZXJ9IGkgc3RhcnRpbmcgaW5kZXhcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiB0YWdFeHBXaXRoQ2xvc2luZ0luZGV4KHhtbERhdGEsIGksIGNsb3NpbmdDaGFyID0gXCI+XCIpe1xuICBsZXQgYXR0ckJvdW5kYXJ5O1xuICBsZXQgdGFnRXhwID0gXCJcIjtcbiAgZm9yIChsZXQgaW5kZXggPSBpOyBpbmRleCA8IHhtbERhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgbGV0IGNoID0geG1sRGF0YVtpbmRleF07XG4gICAgaWYgKGF0dHJCb3VuZGFyeSkge1xuICAgICAgICBpZiAoY2ggPT09IGF0dHJCb3VuZGFyeSkgYXR0ckJvdW5kYXJ5ID0gXCJcIjsvL3Jlc2V0XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gJ1wiJyB8fCBjaCA9PT0gXCInXCIpIHtcbiAgICAgICAgYXR0ckJvdW5kYXJ5ID0gY2g7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gY2xvc2luZ0NoYXJbMF0pIHtcbiAgICAgIGlmKGNsb3NpbmdDaGFyWzFdKXtcbiAgICAgICAgaWYoeG1sRGF0YVtpbmRleCArIDFdID09PSBjbG9zaW5nQ2hhclsxXSl7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHRhZ0V4cCxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YTogdGFnRXhwLFxuICAgICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcdCcpIHtcbiAgICAgIGNoID0gXCIgXCJcbiAgICB9XG4gICAgdGFnRXhwICs9IGNoO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgc3RyLCBpLCBlcnJNc2cpe1xuICBjb25zdCBjbG9zaW5nSW5kZXggPSB4bWxEYXRhLmluZGV4T2Yoc3RyLCBpKTtcbiAgaWYoY2xvc2luZ0luZGV4ID09PSAtMSl7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZylcbiAgfWVsc2V7XG4gICAgcmV0dXJuIGNsb3NpbmdJbmRleCArIHN0ci5sZW5ndGggLSAxO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRUYWdFeHAoeG1sRGF0YSxpLCByZW1vdmVOU1ByZWZpeCwgY2xvc2luZ0NoYXIgPSBcIj5cIil7XG4gIGNvbnN0IHJlc3VsdCA9IHRhZ0V4cFdpdGhDbG9zaW5nSW5kZXgoeG1sRGF0YSwgaSsxLCBjbG9zaW5nQ2hhcik7XG4gIGlmKCFyZXN1bHQpIHJldHVybjtcbiAgbGV0IHRhZ0V4cCA9IHJlc3VsdC5kYXRhO1xuICBjb25zdCBjbG9zZUluZGV4ID0gcmVzdWx0LmluZGV4O1xuICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IHRhZ0V4cC5zZWFyY2goL1xccy8pO1xuICBsZXQgdGFnTmFtZSA9IHRhZ0V4cDtcbiAgbGV0IGF0dHJFeHBQcmVzZW50ID0gdHJ1ZTtcbiAgaWYoc2VwYXJhdG9ySW5kZXggIT09IC0xKXsvL3NlcGFyYXRlIHRhZyBuYW1lIGFuZCBhdHRyaWJ1dGVzIGV4cHJlc3Npb25cbiAgICB0YWdOYW1lID0gdGFnRXhwLnN1YnN0cigwLCBzZXBhcmF0b3JJbmRleCkucmVwbGFjZSgvXFxzXFxzKiQvLCAnJyk7XG4gICAgdGFnRXhwID0gdGFnRXhwLnN1YnN0cihzZXBhcmF0b3JJbmRleCArIDEpO1xuICB9XG5cbiAgaWYocmVtb3ZlTlNQcmVmaXgpe1xuICAgIGNvbnN0IGNvbG9uSW5kZXggPSB0YWdOYW1lLmluZGV4T2YoXCI6XCIpO1xuICAgIGlmKGNvbG9uSW5kZXggIT09IC0xKXtcbiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnN1YnN0cihjb2xvbkluZGV4KzEpO1xuICAgICAgYXR0ckV4cFByZXNlbnQgPSB0YWdOYW1lICE9PSByZXN1bHQuZGF0YS5zdWJzdHIoY29sb25JbmRleCArIDEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdGFnTmFtZTogdGFnTmFtZSxcbiAgICB0YWdFeHA6IHRhZ0V4cCxcbiAgICBjbG9zZUluZGV4OiBjbG9zZUluZGV4LFxuICAgIGF0dHJFeHBQcmVzZW50OiBhdHRyRXhwUHJlc2VudCxcbiAgfVxufVxuLyoqXG4gKiBmaW5kIHBhaXJlZCB0YWcgZm9yIGEgc3RvcCBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30geG1sRGF0YSBcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIFxuICogQHBhcmFtIHtudW1iZXJ9IGkgXG4gKi9cbmZ1bmN0aW9uIHJlYWRTdG9wTm9kZURhdGEoeG1sRGF0YSwgdGFnTmFtZSwgaSl7XG4gIGNvbnN0IHN0YXJ0SW5kZXggPSBpO1xuICAvLyBTdGFydGluZyBhdCAxIHNpbmNlIHdlIGFscmVhZHkgaGF2ZSBhbiBvcGVuIHRhZ1xuICBsZXQgb3BlblRhZ0NvdW50ID0gMTtcblxuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiggeG1sRGF0YVtpXSA9PT0gXCI8XCIpeyBcbiAgICAgIGlmICh4bWxEYXRhW2krMV0gPT09IFwiL1wiKSB7Ly9jbG9zZSB0YWdcbiAgICAgICAgICBjb25zdCBjbG9zZUluZGV4ID0gZmluZENsb3NpbmdJbmRleCh4bWxEYXRhLCBcIj5cIiwgaSwgYCR7dGFnTmFtZX0gaXMgbm90IGNsb3NlZGApO1xuICAgICAgICAgIGxldCBjbG9zZVRhZ05hbWUgPSB4bWxEYXRhLnN1YnN0cmluZyhpKzIsY2xvc2VJbmRleCkudHJpbSgpO1xuICAgICAgICAgIGlmKGNsb3NlVGFnTmFtZSA9PT0gdGFnTmFtZSl7XG4gICAgICAgICAgICBvcGVuVGFnQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChvcGVuVGFnQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YWdDb250ZW50OiB4bWxEYXRhLnN1YnN0cmluZyhzdGFydEluZGV4LCBpKSxcbiAgICAgICAgICAgICAgICBpIDogY2xvc2VJbmRleFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGk9Y2xvc2VJbmRleDtcbiAgICAgICAgfSBlbHNlIGlmKHhtbERhdGFbaSsxXSA9PT0gJz8nKSB7IFxuICAgICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiPz5cIiwgaSsxLCBcIlN0b3BOb2RlIGlzIG5vdCBjbG9zZWQuXCIpXG4gICAgICAgICAgaT1jbG9zZUluZGV4O1xuICAgICAgICB9IGVsc2UgaWYoeG1sRGF0YS5zdWJzdHIoaSArIDEsIDMpID09PSAnIS0tJykgeyBcbiAgICAgICAgICBjb25zdCBjbG9zZUluZGV4ID0gZmluZENsb3NpbmdJbmRleCh4bWxEYXRhLCBcIi0tPlwiLCBpKzMsIFwiU3RvcE5vZGUgaXMgbm90IGNsb3NlZC5cIilcbiAgICAgICAgICBpPWNsb3NlSW5kZXg7XG4gICAgICAgIH0gZWxzZSBpZih4bWxEYXRhLnN1YnN0cihpICsgMSwgMikgPT09ICchWycpIHsgXG4gICAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCJdXT5cIiwgaSwgXCJTdG9wTm9kZSBpcyBub3QgY2xvc2VkLlwiKSAtIDI7XG4gICAgICAgICAgaT1jbG9zZUluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRhZ0RhdGEgPSByZWFkVGFnRXhwKHhtbERhdGEsIGksICc+JylcblxuICAgICAgICAgIGlmICh0YWdEYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBvcGVuVGFnTmFtZSA9IHRhZ0RhdGEgJiYgdGFnRGF0YS50YWdOYW1lO1xuICAgICAgICAgICAgaWYgKG9wZW5UYWdOYW1lID09PSB0YWdOYW1lICYmIHRhZ0RhdGEudGFnRXhwW3RhZ0RhdGEudGFnRXhwLmxlbmd0aC0xXSAhPT0gXCIvXCIpIHtcbiAgICAgICAgICAgICAgb3BlblRhZ0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpPXRhZ0RhdGEuY2xvc2VJbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfS8vZW5kIGZvciBsb29wXG59XG5cbmZ1bmN0aW9uIHBhcnNlVmFsdWUodmFsLCBzaG91bGRQYXJzZSwgb3B0aW9ucykge1xuICBpZiAoc2hvdWxkUGFyc2UgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAvL2NvbnNvbGUubG9nKG9wdGlvbnMpXG4gICAgY29uc3QgbmV3dmFsID0gdmFsLnRyaW0oKTtcbiAgICBpZihuZXd2YWwgPT09ICd0cnVlJyApIHJldHVybiB0cnVlO1xuICAgIGVsc2UgaWYobmV3dmFsID09PSAnZmFsc2UnICkgcmV0dXJuIGZhbHNlO1xuICAgIGVsc2UgcmV0dXJuIHRvTnVtYmVyKHZhbCwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHV0aWwuaXNFeGlzdCh2YWwpKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcmVkT2JqUGFyc2VyO1xuIiwiY29uc3QgeyBidWlsZE9wdGlvbnN9ID0gcmVxdWlyZShcIi4vT3B0aW9uc0J1aWxkZXJcIik7XG5jb25zdCBPcmRlcmVkT2JqUGFyc2VyID0gcmVxdWlyZShcIi4vT3JkZXJlZE9ialBhcnNlclwiKTtcbmNvbnN0IHsgcHJldHRpZnl9ID0gcmVxdWlyZShcIi4vbm9kZTJqc29uXCIpO1xuY29uc3QgdmFsaWRhdG9yID0gcmVxdWlyZSgnLi4vdmFsaWRhdG9yJyk7XG5cbmNsYXNzIFhNTFBhcnNlcntcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcbiAgICAgICAgdGhpcy5leHRlcm5hbEVudGl0aWVzID0ge307XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGJ1aWxkT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIFhNTCBkYXRzIHRvIEpTIG9iamVjdCBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xCdWZmZXJ9IHhtbERhdGEgXG4gICAgICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gdmFsaWRhdGlvbk9wdGlvbiBcbiAgICAgKi9cbiAgICBwYXJzZSh4bWxEYXRhLHZhbGlkYXRpb25PcHRpb24pe1xuICAgICAgICBpZih0eXBlb2YgeG1sRGF0YSA9PT0gXCJzdHJpbmdcIil7XG4gICAgICAgIH1lbHNlIGlmKCB4bWxEYXRhLnRvU3RyaW5nKXtcbiAgICAgICAgICAgIHhtbERhdGEgPSB4bWxEYXRhLnRvU3RyaW5nKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWE1MIGRhdGEgaXMgYWNjZXB0ZWQgaW4gU3RyaW5nIG9yIEJ5dGVzW10gZm9ybS5cIilcbiAgICAgICAgfVxuICAgICAgICBpZiggdmFsaWRhdGlvbk9wdGlvbil7XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uT3B0aW9uID09PSB0cnVlKSB2YWxpZGF0aW9uT3B0aW9uID0ge307IC8vdmFsaWRhdGUgd2l0aCBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yLnZhbGlkYXRlKHhtbERhdGEsIHZhbGlkYXRpb25PcHRpb24pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB0aHJvdyBFcnJvciggYCR7cmVzdWx0LmVyci5tc2d9OiR7cmVzdWx0LmVyci5saW5lfToke3Jlc3VsdC5lcnIuY29sfWAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JkZXJlZE9ialBhcnNlciA9IG5ldyBPcmRlcmVkT2JqUGFyc2VyKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIG9yZGVyZWRPYmpQYXJzZXIuYWRkRXh0ZXJuYWxFbnRpdGllcyh0aGlzLmV4dGVybmFsRW50aXRpZXMpO1xuICAgICAgICBjb25zdCBvcmRlcmVkUmVzdWx0ID0gb3JkZXJlZE9ialBhcnNlci5wYXJzZVhtbCh4bWxEYXRhKTtcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLnByZXNlcnZlT3JkZXIgfHwgb3JkZXJlZFJlc3VsdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gb3JkZXJlZFJlc3VsdDtcbiAgICAgICAgZWxzZSByZXR1cm4gcHJldHRpZnkob3JkZXJlZFJlc3VsdCwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgRW50aXR5IHdoaWNoIGlzIG5vdCBieSBkZWZhdWx0IHN1cHBvcnRlZCBieSB0aGlzIGxpYnJhcnlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBhZGRFbnRpdHkoa2V5LCB2YWx1ZSl7XG4gICAgICAgIGlmKHZhbHVlLmluZGV4T2YoXCImXCIpICE9PSAtMSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbnRpdHkgdmFsdWUgY2FuJ3QgaGF2ZSAnJidcIilcbiAgICAgICAgfWVsc2UgaWYoa2V5LmluZGV4T2YoXCImXCIpICE9PSAtMSB8fCBrZXkuaW5kZXhPZihcIjtcIikgIT09IC0xKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuIGVudGl0eSBtdXN0IGJlIHNldCB3aXRob3V0ICcmJyBhbmQgJzsnLiBFZy4gdXNlICcjeEQnIGZvciAnJiN4RDsnXCIpXG4gICAgICAgIH1lbHNlIGlmKHZhbHVlID09PSBcIiZcIil7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBlbnRpdHkgd2l0aCB2YWx1ZSAnJicgaXMgbm90IHBlcm1pdHRlZFwiKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmV4dGVybmFsRW50aXRpZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFhNTFBhcnNlcjsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge2FycmF5fSBub2RlIFxuICogQHBhcmFtIHthbnl9IG9wdGlvbnMgXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gcHJldHRpZnkobm9kZSwgb3B0aW9ucyl7XG4gIHJldHVybiBjb21wcmVzcyggbm9kZSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBcbiAqIEBwYXJhbSB7c3RyaW5nfSBqUGF0aCBcbiAqIEByZXR1cm5zIG9iamVjdFxuICovXG5mdW5jdGlvbiBjb21wcmVzcyhhcnIsIG9wdGlvbnMsIGpQYXRoKXtcbiAgbGV0IHRleHQ7XG4gIGNvbnN0IGNvbXByZXNzZWRPYmogPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0YWdPYmogPSBhcnJbaV07XG4gICAgY29uc3QgcHJvcGVydHkgPSBwcm9wTmFtZSh0YWdPYmopO1xuICAgIGxldCBuZXdKcGF0aCA9IFwiXCI7XG4gICAgaWYoalBhdGggPT09IHVuZGVmaW5lZCkgbmV3SnBhdGggPSBwcm9wZXJ0eTtcbiAgICBlbHNlIG5ld0pwYXRoID0galBhdGggKyBcIi5cIiArIHByb3BlcnR5O1xuXG4gICAgaWYocHJvcGVydHkgPT09IG9wdGlvbnMudGV4dE5vZGVOYW1lKXtcbiAgICAgIGlmKHRleHQgPT09IHVuZGVmaW5lZCkgdGV4dCA9IHRhZ09ialtwcm9wZXJ0eV07XG4gICAgICBlbHNlIHRleHQgKz0gXCJcIiArIHRhZ09ialtwcm9wZXJ0eV07XG4gICAgfWVsc2UgaWYocHJvcGVydHkgPT09IHVuZGVmaW5lZCl7XG4gICAgICBjb250aW51ZTtcbiAgICB9ZWxzZSBpZih0YWdPYmpbcHJvcGVydHldKXtcbiAgICAgIFxuICAgICAgbGV0IHZhbCA9IGNvbXByZXNzKHRhZ09ialtwcm9wZXJ0eV0sIG9wdGlvbnMsIG5ld0pwYXRoKTtcbiAgICAgIGNvbnN0IGlzTGVhZiA9IGlzTGVhZlRhZyh2YWwsIG9wdGlvbnMpO1xuXG4gICAgICBpZih0YWdPYmpbXCI6QFwiXSl7XG4gICAgICAgIGFzc2lnbkF0dHJpYnV0ZXMoIHZhbCwgdGFnT2JqW1wiOkBcIl0sIG5ld0pwYXRoLCBvcHRpb25zKTtcbiAgICAgIH1lbHNlIGlmKE9iamVjdC5rZXlzKHZhbCkubGVuZ3RoID09PSAxICYmIHZhbFtvcHRpb25zLnRleHROb2RlTmFtZV0gIT09IHVuZGVmaW5lZCAmJiAhb3B0aW9ucy5hbHdheXNDcmVhdGVUZXh0Tm9kZSl7XG4gICAgICAgIHZhbCA9IHZhbFtvcHRpb25zLnRleHROb2RlTmFtZV07XG4gICAgICB9ZWxzZSBpZihPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgIGlmKG9wdGlvbnMuYWx3YXlzQ3JlYXRlVGV4dE5vZGUpIHZhbFtvcHRpb25zLnRleHROb2RlTmFtZV0gPSBcIlwiO1xuICAgICAgICBlbHNlIHZhbCA9IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIGlmKGNvbXByZXNzZWRPYmpbcHJvcGVydHldICE9PSB1bmRlZmluZWQgJiYgY29tcHJlc3NlZE9iai5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkoY29tcHJlc3NlZE9ialtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICBjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSA9IFsgY29tcHJlc3NlZE9ialtwcm9wZXJ0eV0gXTtcbiAgICAgICAgfVxuICAgICAgICBjb21wcmVzc2VkT2JqW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9UT0RPOiBpZiBhIG5vZGUgaXMgbm90IGFuIGFycmF5LCB0aGVuIGNoZWNrIGlmIGl0IHNob3VsZCBiZSBhbiBhcnJheVxuICAgICAgICAvL2Fsc28gZGV0ZXJtaW5lIGlmIGl0IGlzIGEgbGVhZiBub2RlXG4gICAgICAgIGlmIChvcHRpb25zLmlzQXJyYXkocHJvcGVydHksIG5ld0pwYXRoLCBpc0xlYWYgKSkge1xuICAgICAgICAgIGNvbXByZXNzZWRPYmpbcHJvcGVydHldID0gW3ZhbF07XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGNvbXByZXNzZWRPYmpbcHJvcGVydHldID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICB9XG4gIC8vIGlmKHRleHQgJiYgdGV4dC5sZW5ndGggPiAwKSBjb21wcmVzc2VkT2JqW29wdGlvbnMudGV4dE5vZGVOYW1lXSA9IHRleHQ7XG4gIGlmKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKXtcbiAgICBpZih0ZXh0Lmxlbmd0aCA+IDApIGNvbXByZXNzZWRPYmpbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdID0gdGV4dDtcbiAgfWVsc2UgaWYodGV4dCAhPT0gdW5kZWZpbmVkKSBjb21wcmVzc2VkT2JqW29wdGlvbnMudGV4dE5vZGVOYW1lXSA9IHRleHQ7XG4gIHJldHVybiBjb21wcmVzc2VkT2JqO1xufVxuXG5mdW5jdGlvbiBwcm9wTmFtZShvYmope1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICBpZihrZXkgIT09IFwiOkBcIikgcmV0dXJuIGtleTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25BdHRyaWJ1dGVzKG9iaiwgYXR0ck1hcCwganBhdGgsIG9wdGlvbnMpe1xuICBpZiAoYXR0ck1hcCkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhdHRyTWFwKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDsgLy9kb24ndCBtYWtlIGl0IGlubGluZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGF0cnJOYW1lID0ga2V5c1tpXTtcbiAgICAgIGlmIChvcHRpb25zLmlzQXJyYXkoYXRyck5hbWUsIGpwYXRoICsgXCIuXCIgKyBhdHJyTmFtZSwgdHJ1ZSwgdHJ1ZSkpIHtcbiAgICAgICAgb2JqW2F0cnJOYW1lXSA9IFsgYXR0ck1hcFthdHJyTmFtZV0gXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9ialthdHJyTmFtZV0gPSBhdHRyTWFwW2F0cnJOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMZWFmVGFnKG9iaiwgb3B0aW9ucyl7XG4gIGNvbnN0IHsgdGV4dE5vZGVOYW1lIH0gPSBvcHRpb25zO1xuICBjb25zdCBwcm9wQ291bnQgPSBPYmplY3Qua2V5cyhvYmopLmxlbmd0aDtcbiAgXG4gIGlmIChwcm9wQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChcbiAgICBwcm9wQ291bnQgPT09IDEgJiZcbiAgICAob2JqW3RleHROb2RlTmFtZV0gfHwgdHlwZW9mIG9ialt0ZXh0Tm9kZU5hbWVdID09PSBcImJvb2xlYW5cIiB8fCBvYmpbdGV4dE5vZGVOYW1lXSA9PT0gMClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLnByZXR0aWZ5ID0gcHJldHRpZnk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNsYXNzIFhtbE5vZGV7XG4gIGNvbnN0cnVjdG9yKHRhZ25hbWUpIHtcbiAgICB0aGlzLnRhZ25hbWUgPSB0YWduYW1lO1xuICAgIHRoaXMuY2hpbGQgPSBbXTsgLy9uZXN0ZWQgdGFncywgdGV4dCwgY2RhdGEsIGNvbW1lbnRzIGluIG9yZGVyXG4gICAgdGhpc1tcIjpAXCJdID0ge307IC8vYXR0cmlidXRlcyBtYXBcbiAgfVxuICBhZGQoa2V5LHZhbCl7XG4gICAgLy8gdGhpcy5jaGlsZC5wdXNoKCB7bmFtZSA6IGtleSwgdmFsOiB2YWwsIGlzQ2RhdGE6IGlzQ2RhdGEgfSk7XG4gICAgaWYoa2V5ID09PSBcIl9fcHJvdG9fX1wiKSBrZXkgPSBcIiNfX3Byb3RvX19cIjtcbiAgICB0aGlzLmNoaWxkLnB1c2goIHtba2V5XTogdmFsIH0pO1xuICB9XG4gIGFkZENoaWxkKG5vZGUpIHtcbiAgICBpZihub2RlLnRhZ25hbWUgPT09IFwiX19wcm90b19fXCIpIG5vZGUudGFnbmFtZSA9IFwiI19fcHJvdG9fX1wiO1xuICAgIGlmKG5vZGVbXCI6QFwiXSAmJiBPYmplY3Qua2V5cyhub2RlW1wiOkBcIl0pLmxlbmd0aCA+IDApe1xuICAgICAgdGhpcy5jaGlsZC5wdXNoKCB7IFtub2RlLnRhZ25hbWVdOiBub2RlLmNoaWxkLCBbXCI6QFwiXTogbm9kZVtcIjpAXCJdIH0pO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5jaGlsZC5wdXNoKCB7IFtub2RlLnRhZ25hbWVdOiBub2RlLmNoaWxkIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBYbWxOb2RlOyIsImNvbnN0IGhleFJlZ2V4ID0gL15bLStdPzB4W2EtZkEtRjAtOV0rJC87XG5jb25zdCBudW1SZWdleCA9IC9eKFtcXC1cXCtdKT8oMCopKFxcLlswLTldKyhbZUVdXFwtP1swLTldKyk/fFswLTldKyhcXC5bMC05XSsoW2VFXVxcLT9bMC05XSspPyk/KSQvO1xuLy8gY29uc3Qgb2N0UmVnZXggPSAvMHhbYS16MC05XSsvO1xuLy8gY29uc3QgYmluUmVnZXggPSAvMHhbYS16MC05XSsvO1xuXG5cbi8vcG9seWZpbGxcbmlmICghTnVtYmVyLnBhcnNlSW50ICYmIHdpbmRvdy5wYXJzZUludCkge1xuICAgIE51bWJlci5wYXJzZUludCA9IHdpbmRvdy5wYXJzZUludDtcbn1cbmlmICghTnVtYmVyLnBhcnNlRmxvYXQgJiYgd2luZG93LnBhcnNlRmxvYXQpIHtcbiAgICBOdW1iZXIucGFyc2VGbG9hdCA9IHdpbmRvdy5wYXJzZUZsb2F0O1xufVxuXG4gIFxuY29uc3QgY29uc2lkZXIgPSB7XG4gICAgaGV4IDogIHRydWUsXG4gICAgbGVhZGluZ1plcm9zOiB0cnVlLFxuICAgIGRlY2ltYWxQb2ludDogXCJcXC5cIixcbiAgICBlTm90YXRpb246IHRydWVcbiAgICAvL3NraXBMaWtlOiAvcmVnZXgvXG59O1xuXG5mdW5jdGlvbiB0b051bWJlcihzdHIsIG9wdGlvbnMgPSB7fSl7XG4gICAgLy8gY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGNvbnNpZGVyKTtcbiAgICAvLyBpZihvcHQubGVhZGluZ1plcm9zID09PSBmYWxzZSl7XG4gICAgLy8gICAgIG9wdGlvbnMubGVhZGluZ1plcm9zID0gZmFsc2U7XG4gICAgLy8gfWVsc2UgaWYob3B0LmhleCA9PT0gZmFsc2Upe1xuICAgIC8vICAgICBvcHRpb25zLmhleCA9IGZhbHNlO1xuICAgIC8vIH1cblxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBjb25zaWRlciwgb3B0aW9ucyApO1xuICAgIGlmKCFzdHIgfHwgdHlwZW9mIHN0ciAhPT0gXCJzdHJpbmdcIiApIHJldHVybiBzdHI7XG4gICAgXG4gICAgbGV0IHRyaW1tZWRTdHIgID0gc3RyLnRyaW0oKTtcbiAgICAvLyBpZih0cmltbWVkU3RyID09PSBcIjAuMFwiKSByZXR1cm4gMDtcbiAgICAvLyBlbHNlIGlmKHRyaW1tZWRTdHIgPT09IFwiKzAuMFwiKSByZXR1cm4gMDtcbiAgICAvLyBlbHNlIGlmKHRyaW1tZWRTdHIgPT09IFwiLTAuMFwiKSByZXR1cm4gLTA7XG5cbiAgICBpZihvcHRpb25zLnNraXBMaWtlICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5za2lwTGlrZS50ZXN0KHRyaW1tZWRTdHIpKSByZXR1cm4gc3RyO1xuICAgIGVsc2UgaWYgKG9wdGlvbnMuaGV4ICYmIGhleFJlZ2V4LnRlc3QodHJpbW1lZFN0cikpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlci5wYXJzZUludCh0cmltbWVkU3RyLCAxNik7XG4gICAgLy8gfSBlbHNlIGlmIChvcHRpb25zLnBhcnNlT2N0ICYmIG9jdFJlZ2V4LnRlc3Qoc3RyKSkge1xuICAgIC8vICAgICByZXR1cm4gTnVtYmVyLnBhcnNlSW50KHZhbCwgOCk7XG4gICAgLy8gfWVsc2UgaWYgKG9wdGlvbnMucGFyc2VCaW4gJiYgYmluUmVnZXgudGVzdChzdHIpKSB7XG4gICAgLy8gICAgIHJldHVybiBOdW1iZXIucGFyc2VJbnQodmFsLCAyKTtcbiAgICB9ZWxzZXtcbiAgICAgICAgLy9zZXBhcmF0ZSBuZWdhdGl2ZSBzaWduLCBsZWFkaW5nIHplcm9zLCBhbmQgcmVzdCBudW1iZXJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBudW1SZWdleC5leGVjKHRyaW1tZWRTdHIpO1xuICAgICAgICBpZihtYXRjaCl7XG4gICAgICAgICAgICBjb25zdCBzaWduID0gbWF0Y2hbMV07XG4gICAgICAgICAgICBjb25zdCBsZWFkaW5nWmVyb3MgPSBtYXRjaFsyXTtcbiAgICAgICAgICAgIGxldCBudW1UcmltbWVkQnlaZXJvcyA9IHRyaW1aZXJvcyhtYXRjaFszXSk7IC8vY29tcGxldGUgbnVtIHdpdGhvdXQgbGVhZGluZyB6ZXJvc1xuICAgICAgICAgICAgLy90cmltIGVuZGluZyB6ZXJvcyBmb3IgZmxvYXRpbmcgbnVtYmVyXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGVOb3RhdGlvbiA9IG1hdGNoWzRdIHx8IG1hdGNoWzZdO1xuICAgICAgICAgICAgaWYoIW9wdGlvbnMubGVhZGluZ1plcm9zICYmIGxlYWRpbmdaZXJvcy5sZW5ndGggPiAwICYmIHNpZ24gJiYgdHJpbW1lZFN0clsyXSAhPT0gXCIuXCIpIHJldHVybiBzdHI7IC8vLTAxMjNcbiAgICAgICAgICAgIGVsc2UgaWYoIW9wdGlvbnMubGVhZGluZ1plcm9zICYmIGxlYWRpbmdaZXJvcy5sZW5ndGggPiAwICYmICFzaWduICYmIHRyaW1tZWRTdHJbMV0gIT09IFwiLlwiKSByZXR1cm4gc3RyOyAvLzAxMjNcbiAgICAgICAgICAgIGVsc2V7Ly9ubyBsZWFkaW5nIHplcm9zIG9yIGxlYWRpbmcgemVyb3MgYXJlIGFsbG93ZWRcbiAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIodHJpbW1lZFN0cik7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtU3RyID0gXCJcIiArIG51bTtcbiAgICAgICAgICAgICAgICBpZihudW1TdHIuc2VhcmNoKC9bZUVdLykgIT09IC0xKXsgLy9naXZlbiBudW1iZXIgaXMgbG9uZyBhbmQgcGFyc2VkIHRvIGVOb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZihvcHRpb25zLmVOb3RhdGlvbikgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gc3RyO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGVOb3RhdGlvbil7IC8vZ2l2ZW4gbnVtYmVyIGhhcyBlbm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5lTm90YXRpb24pIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0cmltbWVkU3RyLmluZGV4T2YoXCIuXCIpICE9PSAtMSl7IC8vZmxvYXRpbmcgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRlY2ltYWxQYXJ0ID0gbWF0Y2hbNV0uc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBpbnRQYXJ0ID0gdHJpbW1lZFN0ci5zdWJzdHIoMCx0cmltbWVkU3RyLmluZGV4T2YoXCIuXCIpKTtcblxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgcCA9IG51bVN0ci5pbmRleE9mKFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZ2l2ZW5JbnRQYXJ0ID0gbnVtU3RyLnN1YnN0cigwLHApO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBnaXZlbkRlY1BhcnQgPSBudW1TdHIuc3Vic3RyKHArMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKG51bVN0ciA9PT0gXCIwXCIgJiYgKG51bVRyaW1tZWRCeVplcm9zID09PSBcIlwiKSApIHJldHVybiBudW07IC8vMC4wXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYobnVtU3RyID09PSBudW1UcmltbWVkQnlaZXJvcykgcmV0dXJuIG51bTsgLy8wLjQ1Ni4gMC43OTAwMFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKCBzaWduICYmIG51bVN0ciA9PT0gXCItXCIrbnVtVHJpbW1lZEJ5WmVyb3MpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYobGVhZGluZ1plcm9zKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYobnVtVHJpbW1lZEJ5WmVyb3MgPT09IG51bVN0cil7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZihvcHRpb25zLmxlYWRpbmdaZXJvcykgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICAgICAgLy8gfWVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICAgICAgaWYobnVtVHJpbW1lZEJ5WmVyb3MgPT09IG51bVN0cikgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzaWduK251bVRyaW1tZWRCeVplcm9zID09PSBudW1TdHIpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZih0cmltbWVkU3RyID09PSBudW1TdHIpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgZWxzZSBpZih0cmltbWVkU3RyID09PSBzaWduK251bVN0cikgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICAvLyBlbHNle1xuICAgICAgICAgICAgICAgIC8vICAgICAvL251bWJlciB3aXRoICsvLSBzaWduXG4gICAgICAgICAgICAgICAgLy8gICAgIHRyaW1tZWRTdHIudGVzdCgvWy0rXVswLTldKTtcblxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWxzZSBpZighZU5vdGF0aW9uICYmIHRyaW1tZWRTdHIgJiYgdHJpbW1lZFN0ciAhPT0gTnVtYmVyKHRyaW1tZWRTdHIpICkgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIFxuICAgICAgICB9ZWxzZXsgLy9ub24tbnVtZXJpYyBzdHJpbmdcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gbnVtU3RyIHdpdGhvdXQgbGVhZGluZyB6ZXJvc1xuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIHRyaW1aZXJvcyhudW1TdHIpe1xuICAgIGlmKG51bVN0ciAmJiBudW1TdHIuaW5kZXhPZihcIi5cIikgIT09IC0xKXsvL2Zsb2F0XG4gICAgICAgIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKC8wKyQvLCBcIlwiKTsgLy9yZW1vdmUgZW5kaW5nIHplcm9zXG4gICAgICAgIGlmKG51bVN0ciA9PT0gXCIuXCIpICBudW1TdHIgPSBcIjBcIjtcbiAgICAgICAgZWxzZSBpZihudW1TdHJbMF0gPT09IFwiLlwiKSAgbnVtU3RyID0gXCIwXCIrbnVtU3RyO1xuICAgICAgICBlbHNlIGlmKG51bVN0cltudW1TdHIubGVuZ3RoLTFdID09PSBcIi5cIikgIG51bVN0ciA9IG51bVN0ci5zdWJzdHIoMCxudW1TdHIubGVuZ3RoLTEpO1xuICAgICAgICByZXR1cm4gbnVtU3RyO1xuICAgIH1cbiAgICByZXR1cm4gbnVtU3RyO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0b051bWJlclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCBjb25zdCBnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gPSAocnVudGltZUNvbmZpZykgPT4ge1xuICAgIGxldCBodHRwSGFuZGxlciA9IHJ1bnRpbWVDb25maWcuaHR0cEhhbmRsZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0SHR0cEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICAgICAgaHR0cEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICB9LFxuICAgICAgICBodHRwSGFuZGxlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBodHRwSGFuZGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlSHR0cENsaWVudENvbmZpZyhrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBodHRwSGFuZGxlci51cGRhdGVIdHRwQ2xpZW50Q29uZmlnKGtleSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBodHRwSGFuZGxlckNvbmZpZ3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gaHR0cEhhbmRsZXIuaHR0cEhhbmRsZXJDb25maWdzKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUh0dHBIYW5kbGVyUnVudGltZUNvbmZpZyA9IChodHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBodHRwSGFuZGxlcjogaHR0cEhhbmRsZXJFeHRlbnNpb25Db25maWd1cmF0aW9uLmh0dHBIYW5kbGVyKCksXG4gICAgfTtcbn07XG4iLCJleHBvcnQgdmFyIEh0dHBBdXRoTG9jYXRpb247XG4oZnVuY3Rpb24gKEh0dHBBdXRoTG9jYXRpb24pIHtcbiAgICBIdHRwQXV0aExvY2F0aW9uW1wiSEVBREVSXCJdID0gXCJoZWFkZXJcIjtcbiAgICBIdHRwQXV0aExvY2F0aW9uW1wiUVVFUllcIl0gPSBcInF1ZXJ5XCI7XG59KShIdHRwQXV0aExvY2F0aW9uIHx8IChIdHRwQXV0aExvY2F0aW9uID0ge30pKTtcbiIsImV4cG9ydCB2YXIgSHR0cEFwaUtleUF1dGhMb2NhdGlvbjtcbihmdW5jdGlvbiAoSHR0cEFwaUtleUF1dGhMb2NhdGlvbikge1xuICAgIEh0dHBBcGlLZXlBdXRoTG9jYXRpb25bXCJIRUFERVJcIl0gPSBcImhlYWRlclwiO1xuICAgIEh0dHBBcGlLZXlBdXRoTG9jYXRpb25bXCJRVUVSWVwiXSA9IFwicXVlcnlcIjtcbn0pKEh0dHBBcGlLZXlBdXRoTG9jYXRpb24gfHwgKEh0dHBBcGlLZXlBdXRoTG9jYXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IHZhciBFbmRwb2ludFVSTFNjaGVtZTtcbihmdW5jdGlvbiAoRW5kcG9pbnRVUkxTY2hlbWUpIHtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBcIl0gPSBcImh0dHBcIjtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBTXCJdID0gXCJodHRwc1wiO1xufSkoRW5kcG9pbnRVUkxTY2hlbWUgfHwgKEVuZHBvaW50VVJMU2NoZW1lID0ge30pKTtcbiIsImV4cG9ydCB2YXIgQWxnb3JpdGhtSWQ7XG4oZnVuY3Rpb24gKEFsZ29yaXRobUlkKSB7XG4gICAgQWxnb3JpdGhtSWRbXCJNRDVcIl0gPSBcIm1kNVwiO1xuICAgIEFsZ29yaXRobUlkW1wiQ1JDMzJcIl0gPSBcImNyYzMyXCI7XG4gICAgQWxnb3JpdGhtSWRbXCJDUkMzMkNcIl0gPSBcImNyYzMyY1wiO1xuICAgIEFsZ29yaXRobUlkW1wiU0hBMVwiXSA9IFwic2hhMVwiO1xuICAgIEFsZ29yaXRobUlkW1wiU0hBMjU2XCJdID0gXCJzaGEyNTZcIjtcbn0pKEFsZ29yaXRobUlkIHx8IChBbGdvcml0aG1JZCA9IHt9KSk7XG5leHBvcnQgY29uc3QgZ2V0Q2hlY2tzdW1Db25maWd1cmF0aW9uID0gKHJ1bnRpbWVDb25maWcpID0+IHtcbiAgICBjb25zdCBjaGVja3N1bUFsZ29yaXRobXMgPSBbXTtcbiAgICBpZiAocnVudGltZUNvbmZpZy5zaGEyNTYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjaGVja3N1bUFsZ29yaXRobXMucHVzaCh7XG4gICAgICAgICAgICBhbGdvcml0aG1JZDogKCkgPT4gQWxnb3JpdGhtSWQuU0hBMjU2LFxuICAgICAgICAgICAgY2hlY2tzdW1Db25zdHJ1Y3RvcjogKCkgPT4gcnVudGltZUNvbmZpZy5zaGEyNTYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocnVudGltZUNvbmZpZy5tZDUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNoZWNrc3VtQWxnb3JpdGhtcy5wdXNoKHtcbiAgICAgICAgICAgIGFsZ29yaXRobUlkOiAoKSA9PiBBbGdvcml0aG1JZC5NRDUsXG4gICAgICAgICAgICBjaGVja3N1bUNvbnN0cnVjdG9yOiAoKSA9PiBydW50aW1lQ29uZmlnLm1kNSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIF9jaGVja3N1bUFsZ29yaXRobXM6IGNoZWNrc3VtQWxnb3JpdGhtcyxcbiAgICAgICAgYWRkQ2hlY2tzdW1BbGdvcml0aG0oYWxnbykge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tzdW1BbGdvcml0aG1zLnB1c2goYWxnbyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrc3VtQWxnb3JpdGhtcygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja3N1bUFsZ29yaXRobXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUNoZWNrc3VtUnVudGltZUNvbmZpZyA9IChjbGllbnRDb25maWcpID0+IHtcbiAgICBjb25zdCBydW50aW1lQ29uZmlnID0ge307XG4gICAgY2xpZW50Q29uZmlnLmNoZWNrc3VtQWxnb3JpdGhtcygpLmZvckVhY2goKGNoZWNrc3VtQWxnb3JpdGhtKSA9PiB7XG4gICAgICAgIHJ1bnRpbWVDb25maWdbY2hlY2tzdW1BbGdvcml0aG0uYWxnb3JpdGhtSWQoKV0gPSBjaGVja3N1bUFsZ29yaXRobS5jaGVja3N1bUNvbnN0cnVjdG9yKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJ1bnRpbWVDb25maWc7XG59O1xuIiwiZXhwb3J0IHZhciBGaWVsZFBvc2l0aW9uO1xuKGZ1bmN0aW9uIChGaWVsZFBvc2l0aW9uKSB7XG4gICAgRmllbGRQb3NpdGlvbltGaWVsZFBvc2l0aW9uW1wiSEVBREVSXCJdID0gMF0gPSBcIkhFQURFUlwiO1xuICAgIEZpZWxkUG9zaXRpb25bRmllbGRQb3NpdGlvbltcIlRSQUlMRVJcIl0gPSAxXSA9IFwiVFJBSUxFUlwiO1xufSkoRmllbGRQb3NpdGlvbiB8fCAoRmllbGRQb3NpdGlvbiA9IHt9KSk7XG4iLCJleHBvcnQgY29uc3QgU01JVEhZX0NPTlRFWFRfS0VZID0gXCJfX3NtaXRoeV9jb250ZXh0XCI7XG4iLCJleHBvcnQgdmFyIEluaVNlY3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChJbmlTZWN0aW9uVHlwZSkge1xuICAgIEluaVNlY3Rpb25UeXBlW1wiUFJPRklMRVwiXSA9IFwicHJvZmlsZVwiO1xuICAgIEluaVNlY3Rpb25UeXBlW1wiU1NPX1NFU1NJT05cIl0gPSBcInNzby1zZXNzaW9uXCI7XG4gICAgSW5pU2VjdGlvblR5cGVbXCJTRVJWSUNFU1wiXSA9IFwic2VydmljZXNcIjtcbn0pKEluaVNlY3Rpb25UeXBlIHx8IChJbmlTZWN0aW9uVHlwZSA9IHt9KSk7XG4iLCJleHBvcnQgdmFyIFJlcXVlc3RIYW5kbGVyUHJvdG9jb2w7XG4oZnVuY3Rpb24gKFJlcXVlc3RIYW5kbGVyUHJvdG9jb2wpIHtcbiAgICBSZXF1ZXN0SGFuZGxlclByb3RvY29sW1wiSFRUUF8wXzlcIl0gPSBcImh0dHAvMC45XCI7XG4gICAgUmVxdWVzdEhhbmRsZXJQcm90b2NvbFtcIkhUVFBfMV8wXCJdID0gXCJodHRwLzEuMFwiO1xuICAgIFJlcXVlc3RIYW5kbGVyUHJvdG9jb2xbXCJURFNfOF8wXCJdID0gXCJ0ZHMvOC4wXCI7XG59KShSZXF1ZXN0SGFuZGxlclByb3RvY29sIHx8IChSZXF1ZXN0SGFuZGxlclByb3RvY29sID0ge30pKTtcbiIsImV4cG9ydCBjbGFzcyBIdHRwUmVxdWVzdCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCI7XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgPSBvcHRpb25zLmhvc3RuYW1lIHx8IFwibG9jYWxob3N0XCI7XG4gICAgICAgIHRoaXMucG9ydCA9IG9wdGlvbnMucG9ydDtcbiAgICAgICAgdGhpcy5xdWVyeSA9IG9wdGlvbnMucXVlcnkgfHwge307XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICAgICAgdGhpcy5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICAgICAgICB0aGlzLnByb3RvY29sID0gb3B0aW9ucy5wcm90b2NvbFxuICAgICAgICAgICAgPyBvcHRpb25zLnByb3RvY29sLnNsaWNlKC0xKSAhPT0gXCI6XCJcbiAgICAgICAgICAgICAgICA/IGAke29wdGlvbnMucHJvdG9jb2x9OmBcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMucHJvdG9jb2xcbiAgICAgICAgICAgIDogXCJodHRwczpcIjtcbiAgICAgICAgdGhpcy5wYXRoID0gb3B0aW9ucy5wYXRoID8gKG9wdGlvbnMucGF0aC5jaGFyQXQoMCkgIT09IFwiL1wiID8gYC8ke29wdGlvbnMucGF0aH1gIDogb3B0aW9ucy5wYXRoKSA6IFwiL1wiO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gb3B0aW9ucy51c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IG9wdGlvbnMucGFzc3dvcmQ7XG4gICAgICAgIHRoaXMuZnJhZ21lbnQgPSBvcHRpb25zLmZyYWdtZW50O1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZShyZXF1ZXN0KSB7XG4gICAgICAgIGlmICghcmVxdWVzdClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcmVxID0gcmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIChcIm1ldGhvZFwiIGluIHJlcSAmJlxuICAgICAgICAgICAgXCJwcm90b2NvbFwiIGluIHJlcSAmJlxuICAgICAgICAgICAgXCJob3N0bmFtZVwiIGluIHJlcSAmJlxuICAgICAgICAgICAgXCJwYXRoXCIgaW4gcmVxICYmXG4gICAgICAgICAgICB0eXBlb2YgcmVxW1wicXVlcnlcIl0gPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIHR5cGVvZiByZXFbXCJoZWFkZXJzXCJdID09PSBcIm9iamVjdFwiKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBIdHRwUmVxdWVzdCh7XG4gICAgICAgICAgICAuLi50aGlzLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjbG9uZWQucXVlcnkpXG4gICAgICAgICAgICBjbG9uZWQucXVlcnkgPSBjbG9uZVF1ZXJ5KGNsb25lZC5xdWVyeSk7XG4gICAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xvbmVRdWVyeShxdWVyeSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChjYXJyeSwgcGFyYW1OYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gcXVlcnlbcGFyYW1OYW1lXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNhcnJ5LFxuICAgICAgICAgICAgW3BhcmFtTmFtZV06IEFycmF5LmlzQXJyYXkocGFyYW0pID8gWy4uLnBhcmFtXSA6IHBhcmFtLFxuICAgICAgICB9O1xuICAgIH0sIHt9KTtcbn1cbiIsImV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2Uge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IG9wdGlvbnMucmVhc29uO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgICAgIHRoaXMuYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5zdGFuY2UocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKCFyZXNwb25zZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3Auc3RhdHVzQ29kZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmVzcC5oZWFkZXJzID09PSBcIm9iamVjdFwiO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0O1xufVxuZXhwb3J0IGNvbnN0IGhvc3RIZWFkZXJNaWRkbGV3YXJlID0gKG9wdGlvbnMpID0+IChuZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIGlmICghSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShhcmdzLnJlcXVlc3QpKVxuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgY29uc3QgeyBoYW5kbGVyUHJvdG9jb2wgPSBcIlwiIH0gPSBvcHRpb25zLnJlcXVlc3RIYW5kbGVyLm1ldGFkYXRhIHx8IHt9O1xuICAgIGlmIChoYW5kbGVyUHJvdG9jb2wuaW5kZXhPZihcImgyXCIpID49IDAgJiYgIXJlcXVlc3QuaGVhZGVyc1tcIjphdXRob3JpdHlcIl0pIHtcbiAgICAgICAgZGVsZXRlIHJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl07XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tcIjphdXRob3JpdHlcIl0gPSByZXF1ZXN0Lmhvc3RuYW1lICsgKHJlcXVlc3QucG9ydCA/IFwiOlwiICsgcmVxdWVzdC5wb3J0IDogXCJcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFyZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdKSB7XG4gICAgICAgIGxldCBob3N0ID0gcmVxdWVzdC5ob3N0bmFtZTtcbiAgICAgICAgaWYgKHJlcXVlc3QucG9ydCAhPSBudWxsKVxuICAgICAgICAgICAgaG9zdCArPSBgOiR7cmVxdWVzdC5wb3J0fWA7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl0gPSBob3N0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dChhcmdzKTtcbn07XG5leHBvcnQgY29uc3QgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwiaG9zdEhlYWRlck1pZGRsZXdhcmVcIixcbiAgICBzdGVwOiBcImJ1aWxkXCIsXG4gICAgcHJpb3JpdHk6IFwibG93XCIsXG4gICAgdGFnczogW1wiSE9TVFwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0SG9zdEhlYWRlclBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChob3N0SGVhZGVyTWlkZGxld2FyZShvcHRpb25zKSwgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJleHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZSA9ICgpID0+IChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICAgICAgY29uc3QgeyBjbGllbnROYW1lLCBjb21tYW5kTmFtZSwgbG9nZ2VyLCBkeW5hbW9EYkRvY3VtZW50Q2xpZW50T3B0aW9ucyA9IHt9IH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zdCB7IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2csIG92ZXJyaWRlT3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nIH0gPSBkeW5hbW9EYkRvY3VtZW50Q2xpZW50T3B0aW9ucztcbiAgICAgICAgY29uc3QgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPSBvdmVycmlkZUlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nID8/IGNvbnRleHQuaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c7XG4gICAgICAgIGNvbnN0IG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZyA9IG92ZXJyaWRlT3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nID8/IGNvbnRleHQub3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nO1xuICAgICAgICBjb25zdCB7ICRtZXRhZGF0YSwgLi4ub3V0cHV0V2l0aG91dE1ldGFkYXRhIH0gPSByZXNwb25zZS5vdXRwdXQ7XG4gICAgICAgIGxvZ2dlcj8uaW5mbz8uKHtcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyhhcmdzLmlucHV0KSxcbiAgICAgICAgICAgIG91dHB1dDogb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nKG91dHB1dFdpdGhvdXRNZXRhZGF0YSksXG4gICAgICAgICAgICBtZXRhZGF0YTogJG1ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnROYW1lLCBjb21tYW5kTmFtZSwgbG9nZ2VyLCBkeW5hbW9EYkRvY3VtZW50Q2xpZW50T3B0aW9ucyA9IHt9IH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zdCB7IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgfSA9IGR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zO1xuICAgICAgICBjb25zdCBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyA9IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPz8gY29udGV4dC5pbnB1dEZpbHRlclNlbnNpdGl2ZUxvZztcbiAgICAgICAgbG9nZ2VyPy5lcnJvcj8uKHtcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyhhcmdzLmlucHV0KSxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgbWV0YWRhdGE6IGVycm9yLiRtZXRhZGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJsb2dnZXJNaWRkbGV3YXJlXCIsXG4gICAgdGFnczogW1wiTE9HR0VSXCJdLFxuICAgIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRMb2dnZXJQbHVnaW4gPSAob3B0aW9ucykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGQobG9nZ2VyTWlkZGxld2FyZSgpLCBsb2dnZXJNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5jb25zdCBUUkFDRV9JRF9IRUFERVJfTkFNRSA9IFwiWC1BbXpuLVRyYWNlLUlkXCI7XG5jb25zdCBFTlZfTEFNQkRBX0ZVTkNUSU9OX05BTUUgPSBcIkFXU19MQU1CREFfRlVOQ1RJT05fTkFNRVwiO1xuY29uc3QgRU5WX1RSQUNFX0lEID0gXCJfWF9BTVpOX1RSQUNFX0lEXCI7XG5leHBvcnQgY29uc3QgcmVjdXJzaW9uRGV0ZWN0aW9uTWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpIHx8XG4gICAgICAgIG9wdGlvbnMucnVudGltZSAhPT0gXCJub2RlXCIgfHxcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmhhc093blByb3BlcnR5KFRSQUNFX0lEX0hFQURFUl9OQU1FKSkge1xuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICB9XG4gICAgY29uc3QgZnVuY3Rpb25OYW1lID0gcHJvY2Vzcy5lbnZbRU5WX0xBTUJEQV9GVU5DVElPTl9OQU1FXTtcbiAgICBjb25zdCB0cmFjZUlkID0gcHJvY2Vzcy5lbnZbRU5WX1RSQUNFX0lEXTtcbiAgICBjb25zdCBub25FbXB0eVN0cmluZyA9IChzdHIpID0+IHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIgJiYgc3RyLmxlbmd0aCA+IDA7XG4gICAgaWYgKG5vbkVtcHR5U3RyaW5nKGZ1bmN0aW9uTmFtZSkgJiYgbm9uRW1wdHlTdHJpbmcodHJhY2VJZCkpIHtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1RSQUNFX0lEX0hFQURFUl9OQU1FXSA9IHRyYWNlSWQ7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgYWRkUmVjdXJzaW9uRGV0ZWN0aW9uTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgc3RlcDogXCJidWlsZFwiLFxuICAgIHRhZ3M6IFtcIlJFQ1VSU0lPTl9ERVRFQ1RJT05cIl0sXG4gICAgbmFtZTogXCJyZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG4gICAgcHJpb3JpdHk6IFwibG93XCIsXG59O1xuZXhwb3J0IGNvbnN0IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChyZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlKG9wdGlvbnMpLCBhZGRSZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIiwiZXhwb3J0IGNvbnN0IG1lbW9pemUgPSAocHJvdmlkZXIsIGlzRXhwaXJlZCwgcmVxdWlyZXNSZWZyZXNoKSA9PiB7XG4gICAgbGV0IHJlc29sdmVkO1xuICAgIGxldCBwZW5kaW5nO1xuICAgIGxldCBoYXNSZXN1bHQ7XG4gICAgbGV0IGlzQ29uc3RhbnQgPSBmYWxzZTtcbiAgICBjb25zdCBjb2FsZXNjZVByb3ZpZGVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXBlbmRpbmcpIHtcbiAgICAgICAgICAgIHBlbmRpbmcgPSBwcm92aWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IGF3YWl0IHBlbmRpbmc7XG4gICAgICAgICAgICBoYXNSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgaXNDb25zdGFudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgfTtcbiAgICBpZiAoaXNFeHBpcmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhc1Jlc3VsdCB8fCBvcHRpb25zPy5mb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZCA9IGF3YWl0IGNvYWxlc2NlUHJvdmlkZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgIGlmICghaGFzUmVzdWx0IHx8IG9wdGlvbnM/LmZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSBhd2FpdCBjb2FsZXNjZVByb3ZpZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29uc3RhbnQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWlyZXNSZWZyZXNoICYmICFyZXF1aXJlc1JlZnJlc2gocmVzb2x2ZWQpKSB7XG4gICAgICAgICAgICBpc0NvbnN0YW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNFeHBpcmVkKHJlc29sdmVkKSkge1xuICAgICAgICAgICAgYXdhaXQgY29hbGVzY2VQcm92aWRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICB9O1xufTtcbiIsImNvbnN0IFNIT1JUX1RPX0hFWCA9IHt9O1xuY29uc3QgSEVYX1RPX1NIT1JUID0ge307XG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgbGV0IGVuY29kZWRCeXRlID0gaS50b1N0cmluZygxNikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoZW5jb2RlZEJ5dGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVuY29kZWRCeXRlID0gYDAke2VuY29kZWRCeXRlfWA7XG4gICAgfVxuICAgIFNIT1JUX1RPX0hFWFtpXSA9IGVuY29kZWRCeXRlO1xuICAgIEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV0gPSBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoZW5jb2RlZCkge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGV4IGVuY29kZWQgc3RyaW5ncyBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgbGVuZ3RoXCIpO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCAvIDIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGVuY29kZWQuc2xpY2UoaSwgaSArIDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChlbmNvZGVkQnl0ZSBpbiBIRVhfVE9fU0hPUlQpIHtcbiAgICAgICAgICAgIG91dFtpIC8gMl0gPSBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVjb2RlIHVucmVjb2duaXplZCBzZXF1ZW5jZSAke2VuY29kZWRCeXRlfSBhcyBoZXhhZGVjaW1hbGApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9IZXgoYnl0ZXMpIHtcbiAgICBsZXQgb3V0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgICAgICBvdXQgKz0gU0hPUlRfVE9fSEVYW2J5dGVzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImltcG9ydCB7IHRvSGV4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmdcIjtcbmV4cG9ydCBjbGFzcyBJbnQ2NCB7XG4gICAgY29uc3RydWN0b3IoYnl0ZXMpIHtcbiAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzO1xuICAgICAgICBpZiAoYnl0ZXMuYnl0ZUxlbmd0aCAhPT0gOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW50NjQgYnVmZmVycyBtdXN0IGJlIGV4YWN0bHkgOCBieXRlc1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZnJvbU51bWJlcihudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bWJlciA+IDkyMjMzNzIwMzY4NTQ3NzYwMDAgfHwgbnVtYmVyIDwgLTkyMjMzNzIwMzY4NTQ3NzYwMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtudW1iZXJ9IGlzIHRvbyBsYXJnZSAob3IsIGlmIG5lZ2F0aXZlLCB0b28gc21hbGwpIHRvIHJlcHJlc2VudCBhcyBhbiBJbnQ2NGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gICAgICAgIGZvciAobGV0IGkgPSA3LCByZW1haW5pbmcgPSBNYXRoLmFicyhNYXRoLnJvdW5kKG51bWJlcikpOyBpID4gLTEgJiYgcmVtYWluaW5nID4gMDsgaS0tLCByZW1haW5pbmcgLz0gMjU2KSB7XG4gICAgICAgICAgICBieXRlc1tpXSA9IHJlbWFpbmluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgbmVnYXRlKGJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEludDY0KGJ5dGVzKTtcbiAgICB9XG4gICAgdmFsdWVPZigpIHtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSB0aGlzLmJ5dGVzLnNsaWNlKDApO1xuICAgICAgICBjb25zdCBuZWdhdGl2ZSA9IGJ5dGVzWzBdICYgMGIxMDAwMDAwMDtcbiAgICAgICAgaWYgKG5lZ2F0aXZlKSB7XG4gICAgICAgICAgICBuZWdhdGUoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0b0hleChieXRlcyksIDE2KSAqIChuZWdhdGl2ZSA/IC0xIDogMSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHRoaXMudmFsdWVPZigpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZWdhdGUoYnl0ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICBieXRlc1tpXSBePSAweGZmO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gNzsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgYnl0ZXNbaV0rKztcbiAgICAgICAgaWYgKGJ5dGVzW2ldICE9PSAwKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZnJvbUhleCwgdG9IZXggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgSW50NjQgfSBmcm9tIFwiLi9JbnQ2NFwiO1xuZXhwb3J0IGNsYXNzIEhlYWRlck1hcnNoYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHRvVXRmOCwgZnJvbVV0ZjgpIHtcbiAgICAgICAgdGhpcy50b1V0ZjggPSB0b1V0Zjg7XG4gICAgICAgIHRoaXMuZnJvbVV0ZjggPSBmcm9tVXRmODtcbiAgICB9XG4gICAgZm9ybWF0KGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSB0aGlzLmZyb21VdGY4KGhlYWRlck5hbWUpO1xuICAgICAgICAgICAgY2h1bmtzLnB1c2goVWludDhBcnJheS5mcm9tKFtieXRlcy5ieXRlTGVuZ3RoXSksIGJ5dGVzLCB0aGlzLmZvcm1hdEhlYWRlclZhbHVlKGhlYWRlcnNbaGVhZGVyTmFtZV0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShjaHVua3MucmVkdWNlKChjYXJyeSwgYnl0ZXMpID0+IGNhcnJ5ICsgYnl0ZXMuYnl0ZUxlbmd0aCwgMCkpO1xuICAgICAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICAgICAgb3V0LnNldChjaHVuaywgcG9zaXRpb24pO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBmb3JtYXRIZWFkZXJWYWx1ZShoZWFkZXIpIHtcbiAgICAgICAgc3dpdGNoIChoZWFkZXIudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFtoZWFkZXIudmFsdWUgPyAwIDogMV0pO1xuICAgICAgICAgICAgY2FzZSBcImJ5dGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFsyLCBoZWFkZXIudmFsdWVdKTtcbiAgICAgICAgICAgIGNhc2UgXCJzaG9ydFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IHNob3J0VmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMykpO1xuICAgICAgICAgICAgICAgIHNob3J0Vmlldy5zZXRVaW50OCgwLCAzKTtcbiAgICAgICAgICAgICAgICBzaG9ydFZpZXcuc2V0SW50MTYoMSwgaGVhZGVyLnZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHNob3J0Vmlldy5idWZmZXIpO1xuICAgICAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRWaWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcig1KSk7XG4gICAgICAgICAgICAgICAgaW50Vmlldy5zZXRVaW50OCgwLCA0KTtcbiAgICAgICAgICAgICAgICBpbnRWaWV3LnNldEludDMyKDEsIGhlYWRlci52YWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShpbnRWaWV3LmJ1ZmZlcik7XG4gICAgICAgICAgICBjYXNlIFwibG9uZ1wiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvbmdCeXRlcyA9IG5ldyBVaW50OEFycmF5KDkpO1xuICAgICAgICAgICAgICAgIGxvbmdCeXRlc1swXSA9IDU7XG4gICAgICAgICAgICAgICAgbG9uZ0J5dGVzLnNldChoZWFkZXIudmFsdWUuYnl0ZXMsIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb25nQnl0ZXM7XG4gICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgY29uc3QgYmluVmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMyArIGhlYWRlci52YWx1ZS5ieXRlTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgYmluVmlldy5zZXRVaW50OCgwLCA2KTtcbiAgICAgICAgICAgICAgICBiaW5WaWV3LnNldFVpbnQxNigxLCBoZWFkZXIudmFsdWUuYnl0ZUxlbmd0aCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbkJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluVmlldy5idWZmZXIpO1xuICAgICAgICAgICAgICAgIGJpbkJ5dGVzLnNldChoZWFkZXIudmFsdWUsIDMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBiaW5CeXRlcztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBjb25zdCB1dGY4Qnl0ZXMgPSB0aGlzLmZyb21VdGY4KGhlYWRlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyVmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMyArIHV0ZjhCeXRlcy5ieXRlTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgc3RyVmlldy5zZXRVaW50OCgwLCA3KTtcbiAgICAgICAgICAgICAgICBzdHJWaWV3LnNldFVpbnQxNigxLCB1dGY4Qnl0ZXMuYnl0ZUxlbmd0aCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ckJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc3RyVmlldy5idWZmZXIpO1xuICAgICAgICAgICAgICAgIHN0ckJ5dGVzLnNldCh1dGY4Qnl0ZXMsIDMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJCeXRlcztcbiAgICAgICAgICAgIGNhc2UgXCJ0aW1lc3RhbXBcIjpcbiAgICAgICAgICAgICAgICBjb25zdCB0c0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoOSk7XG4gICAgICAgICAgICAgICAgdHNCeXRlc1swXSA9IDg7XG4gICAgICAgICAgICAgICAgdHNCeXRlcy5zZXQoSW50NjQuZnJvbU51bWJlcihoZWFkZXIudmFsdWUudmFsdWVPZigpKS5ieXRlcywgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRzQnl0ZXM7XG4gICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxuICAgICAgICAgICAgICAgIGlmICghVVVJRF9QQVRURVJOLnRlc3QoaGVhZGVyLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVVVJRCByZWNlaXZlZDogJHtoZWFkZXIudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHV1aWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KDE3KTtcbiAgICAgICAgICAgICAgICB1dWlkQnl0ZXNbMF0gPSA5O1xuICAgICAgICAgICAgICAgIHV1aWRCeXRlcy5zZXQoZnJvbUhleChoZWFkZXIudmFsdWUucmVwbGFjZSgvXFwtL2csIFwiXCIpKSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV1aWRCeXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJzZShoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IHt9O1xuICAgICAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgICAgICB3aGlsZSAocG9zaXRpb24gPCBoZWFkZXJzLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVMZW5ndGggPSBoZWFkZXJzLmdldFVpbnQ4KHBvc2l0aW9uKyspO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMudG9VdGY4KG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgbmFtZUxlbmd0aCkpO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gbmFtZUxlbmd0aDtcbiAgICAgICAgICAgIHN3aXRjaCAoaGVhZGVycy5nZXRVaW50OChwb3NpdGlvbisrKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQk9PTEVBTl9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCT09MRUFOX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCWVRFX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBoZWFkZXJzLmdldEludDgocG9zaXRpb24rKyksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0hPUlRfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMuZ2V0SW50MTYocG9zaXRpb24sIGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJTlRfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMuZ2V0SW50MzIocG9zaXRpb24sIGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBMT05HX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgSW50NjQobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCA4KSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluYXJ5TGVuZ3RoID0gaGVhZGVycy5nZXRVaW50MTYocG9zaXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQklOQVJZX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIGJpbmFyeUxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IGJpbmFyeUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdMZW5ndGggPSBoZWFkZXJzLmdldFVpbnQxNihwb3NpdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAyO1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTVFJJTkdfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudG9VdGY4KG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgc3RyaW5nTGVuZ3RoKSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IHN0cmluZ0xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBUSU1FU1RBTVBfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKG5ldyBJbnQ2NChuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIDgpKS52YWx1ZU9mKCkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSA4O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV1aWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgMTYpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVVVJRF9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYCR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDAsIDQpKX0tJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoNCwgNikpfS0ke3RvSGV4KHV1aWRCeXRlcy5zdWJhcnJheSg2LCA4KSl9LSR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDgsIDEwKSl9LSR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDEwKSl9YCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgaGVhZGVyIHR5cGUgdGFnYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG52YXIgSEVBREVSX1ZBTFVFX1RZUEU7XG4oZnVuY3Rpb24gKEhFQURFUl9WQUxVRV9UWVBFKSB7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJib29sVHJ1ZVwiXSA9IDBdID0gXCJib29sVHJ1ZVwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiYm9vbEZhbHNlXCJdID0gMV0gPSBcImJvb2xGYWxzZVwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiYnl0ZVwiXSA9IDJdID0gXCJieXRlXCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJzaG9ydFwiXSA9IDNdID0gXCJzaG9ydFwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiaW50ZWdlclwiXSA9IDRdID0gXCJpbnRlZ2VyXCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJsb25nXCJdID0gNV0gPSBcImxvbmdcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcImJ5dGVBcnJheVwiXSA9IDZdID0gXCJieXRlQXJyYXlcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInN0cmluZ1wiXSA9IDddID0gXCJzdHJpbmdcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInRpbWVzdGFtcFwiXSA9IDhdID0gXCJ0aW1lc3RhbXBcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInV1aWRcIl0gPSA5XSA9IFwidXVpZFwiO1xufSkoSEVBREVSX1ZBTFVFX1RZUEUgfHwgKEhFQURFUl9WQUxVRV9UWVBFID0ge30pKTtcbmNvbnN0IEJPT0xFQU5fVEFHID0gXCJib29sZWFuXCI7XG5jb25zdCBCWVRFX1RBRyA9IFwiYnl0ZVwiO1xuY29uc3QgU0hPUlRfVEFHID0gXCJzaG9ydFwiO1xuY29uc3QgSU5UX1RBRyA9IFwiaW50ZWdlclwiO1xuY29uc3QgTE9OR19UQUcgPSBcImxvbmdcIjtcbmNvbnN0IEJJTkFSWV9UQUcgPSBcImJpbmFyeVwiO1xuY29uc3QgU1RSSU5HX1RBRyA9IFwic3RyaW5nXCI7XG5jb25zdCBUSU1FU1RBTVBfVEFHID0gXCJ0aW1lc3RhbXBcIjtcbmNvbnN0IFVVSURfVEFHID0gXCJ1dWlkXCI7XG5jb25zdCBVVUlEX1BBVFRFUk4gPSAvXlthLWYwLTldezh9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezEyfSQvO1xuIiwiZXhwb3J0IGNsYXNzIE1lc3NhZ2VEZWNvZGVyU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzeW5jSXRlcmF0b3IoKTtcbiAgICB9XG4gICAgYXN5bmMgKmFzeW5jSXRlcmF0b3IoKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgYnl0ZXMgb2YgdGhpcy5vcHRpb25zLmlucHV0U3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gdGhpcy5vcHRpb25zLmRlY29kZXIuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIHlpZWxkIGRlY29kZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgTWVzc2FnZUVuY29kZXJTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNJdGVyYXRvcigpO1xuICAgIH1cbiAgICBhc3luYyAqYXN5bmNJdGVyYXRvcigpIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtc2cgb2YgdGhpcy5vcHRpb25zLm1lc3NhZ2VTdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWQgPSB0aGlzLm9wdGlvbnMuZW5jb2Rlci5lbmNvZGUobXNnKTtcbiAgICAgICAgICAgIHlpZWxkIGVuY29kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmNsdWRlRW5kRnJhbWUpIHtcbiAgICAgICAgICAgIHlpZWxkIG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNtaXRoeU1lc3NhZ2VEZWNvZGVyU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzeW5jSXRlcmF0b3IoKTtcbiAgICB9XG4gICAgYXN5bmMgKmFzeW5jSXRlcmF0b3IoKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbWVzc2FnZSBvZiB0aGlzLm9wdGlvbnMubWVzc2FnZVN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkID0gYXdhaXQgdGhpcy5vcHRpb25zLmRlc2VyaWFsaXplcihtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChkZXNlcmlhbGl6ZWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHlpZWxkIGRlc2VyaWFsaXplZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTbWl0aHlNZXNzYWdlRW5jb2RlclN0cmVhbSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3luY0l0ZXJhdG9yKCk7XG4gICAgfVxuICAgIGFzeW5jICphc3luY0l0ZXJhdG9yKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMub3B0aW9ucy5pbnB1dFN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZEJ1ZiA9IHRoaXMub3B0aW9ucy5zZXJpYWxpemVyKGNodW5rKTtcbiAgICAgICAgICAgIHlpZWxkIHBheWxvYWRCdWY7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTTUlUSFlfQ09OVEVYVF9LRVkgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuZXhwb3J0IGNvbnN0IGdldFNtaXRoeUNvbnRleHQgPSAoY29udGV4dCkgPT4gY29udGV4dFtTTUlUSFlfQ09OVEVYVF9LRVldIHx8IChjb250ZXh0W1NNSVRIWV9DT05URVhUX0tFWV0gPSB7fSk7XG4iLCJleHBvcnQgY29uc3Qgbm9ybWFsaXplUHJvdmlkZXIgPSAoaW5wdXQpID0+IHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICBjb25zdCBwcm9taXNpZmllZCA9IFByb21pc2UucmVzb2x2ZShpbnB1dCk7XG4gICAgcmV0dXJuICgpID0+IHByb21pc2lmaWVkO1xufTtcbiIsImV4cG9ydCBjb25zdCBpc0FycmF5QnVmZmVyID0gKGFyZykgPT4gKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIGFyZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSBcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI7XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImJ1ZmZlclwiKTsiLCJpbXBvcnQgeyBpc0FycmF5QnVmZmVyIH0gZnJvbSBcIkBzbWl0aHkvaXMtYXJyYXktYnVmZmVyXCI7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XG5leHBvcnQgY29uc3QgZnJvbUFycmF5QnVmZmVyID0gKGlucHV0LCBvZmZzZXQgPSAwLCBsZW5ndGggPSBpbnB1dC5ieXRlTGVuZ3RoIC0gb2Zmc2V0KSA9PiB7XG4gICAgaWYgKCFpc0FycmF5QnVmZmVyKGlucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgXCJpbnB1dFwiIGFyZ3VtZW50IG11c3QgYmUgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgaW5wdXR9ICgke2lucHV0fSlgKTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGlucHV0LCBvZmZzZXQsIGxlbmd0aCk7XG59O1xuZXhwb3J0IGNvbnN0IGZyb21TdHJpbmcgPSAoaW5wdXQsIGVuY29kaW5nKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgXCJpbnB1dFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgaW5wdXR9ICgke2lucHV0fSlgKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kaW5nID8gQnVmZmVyLmZyb20oaW5wdXQsIGVuY29kaW5nKSA6IEJ1ZmZlci5mcm9tKGlucHV0KTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tU3RyaW5nIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1idWZmZXItZnJvbVwiO1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgYnVmID0gZnJvbVN0cmluZyhpbnB1dCwgXCJ1dGY4XCIpO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tVXRmOCB9IGZyb20gXCIuL2Zyb21VdGY4XCI7XG5leHBvcnQgY29uc3QgdG9VaW50OEFycmF5ID0gKGRhdGEpID0+IHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGZyb21VdGY4KGRhdGEpO1xuICAgIH1cbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xufTtcbiIsImltcG9ydCB7IGZyb21BcnJheUJ1ZmZlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtYnVmZmVyLWZyb21cIjtcbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQpID0+IGZyb21BcnJheUJ1ZmZlcihpbnB1dC5idWZmZXIsIGlucHV0LmJ5dGVPZmZzZXQsIGlucHV0LmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwidXRmOFwiKTtcbiIsImV4cG9ydCBjb25zdCBBTEdPUklUSE1fUVVFUllfUEFSQU0gPSBcIlgtQW16LUFsZ29yaXRobVwiO1xuZXhwb3J0IGNvbnN0IENSRURFTlRJQUxfUVVFUllfUEFSQU0gPSBcIlgtQW16LUNyZWRlbnRpYWxcIjtcbmV4cG9ydCBjb25zdCBBTVpfREFURV9RVUVSWV9QQVJBTSA9IFwiWC1BbXotRGF0ZVwiO1xuZXhwb3J0IGNvbnN0IFNJR05FRF9IRUFERVJTX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TaWduZWRIZWFkZXJzXCI7XG5leHBvcnQgY29uc3QgRVhQSVJFU19RVUVSWV9QQVJBTSA9IFwiWC1BbXotRXhwaXJlc1wiO1xuZXhwb3J0IGNvbnN0IFNJR05BVFVSRV9RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2lnbmF0dXJlXCI7XG5leHBvcnQgY29uc3QgVE9LRU5fUVVFUllfUEFSQU0gPSBcIlgtQW16LVNlY3VyaXR5LVRva2VuXCI7XG5leHBvcnQgY29uc3QgUkVHSU9OX1NFVF9QQVJBTSA9IFwiWC1BbXotUmVnaW9uLVNldFwiO1xuZXhwb3J0IGNvbnN0IEFVVEhfSEVBREVSID0gXCJhdXRob3JpemF0aW9uXCI7XG5leHBvcnQgY29uc3QgQU1aX0RBVEVfSEVBREVSID0gQU1aX0RBVEVfUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBEQVRFX0hFQURFUiA9IFwiZGF0ZVwiO1xuZXhwb3J0IGNvbnN0IEdFTkVSQVRFRF9IRUFERVJTID0gW0FVVEhfSEVBREVSLCBBTVpfREFURV9IRUFERVIsIERBVEVfSEVBREVSXTtcbmV4cG9ydCBjb25zdCBTSUdOQVRVUkVfSEVBREVSID0gU0lHTkFUVVJFX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgU0hBMjU2X0hFQURFUiA9IFwieC1hbXotY29udGVudC1zaGEyNTZcIjtcbmV4cG9ydCBjb25zdCBUT0tFTl9IRUFERVIgPSBUT0tFTl9RVUVSWV9QQVJBTS50b0xvd2VyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IEhPU1RfSEVBREVSID0gXCJob3N0XCI7XG5leHBvcnQgY29uc3QgQUxXQVlTX1VOU0lHTkFCTEVfSEVBREVSUyA9IHtcbiAgICBhdXRob3JpemF0aW9uOiB0cnVlLFxuICAgIFwiY2FjaGUtY29udHJvbFwiOiB0cnVlLFxuICAgIGNvbm5lY3Rpb246IHRydWUsXG4gICAgZXhwZWN0OiB0cnVlLFxuICAgIGZyb206IHRydWUsXG4gICAgXCJrZWVwLWFsaXZlXCI6IHRydWUsXG4gICAgXCJtYXgtZm9yd2FyZHNcIjogdHJ1ZSxcbiAgICBwcmFnbWE6IHRydWUsXG4gICAgcmVmZXJlcjogdHJ1ZSxcbiAgICB0ZTogdHJ1ZSxcbiAgICB0cmFpbGVyOiB0cnVlLFxuICAgIFwidHJhbnNmZXItZW5jb2RpbmdcIjogdHJ1ZSxcbiAgICB1cGdyYWRlOiB0cnVlLFxuICAgIFwidXNlci1hZ2VudFwiOiB0cnVlLFxuICAgIFwieC1hbXpuLXRyYWNlLWlkXCI6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IFBST1hZX0hFQURFUl9QQVRURVJOID0gL15wcm94eS0vO1xuZXhwb3J0IGNvbnN0IFNFQ19IRUFERVJfUEFUVEVSTiA9IC9ec2VjLS87XG5leHBvcnQgY29uc3QgVU5TSUdOQUJMRV9QQVRURVJOUyA9IFsvXnByb3h5LS9pLCAvXnNlYy0vaV07XG5leHBvcnQgY29uc3QgQUxHT1JJVEhNX0lERU5USUZJRVIgPSBcIkFXUzQtSE1BQy1TSEEyNTZcIjtcbmV4cG9ydCBjb25zdCBBTEdPUklUSE1fSURFTlRJRklFUl9WNEEgPSBcIkFXUzQtRUNEU0EtUDI1Ni1TSEEyNTZcIjtcbmV4cG9ydCBjb25zdCBFVkVOVF9BTEdPUklUSE1fSURFTlRJRklFUiA9IFwiQVdTNC1ITUFDLVNIQTI1Ni1QQVlMT0FEXCI7XG5leHBvcnQgY29uc3QgVU5TSUdORURfUEFZTE9BRCA9IFwiVU5TSUdORUQtUEFZTE9BRFwiO1xuZXhwb3J0IGNvbnN0IE1BWF9DQUNIRV9TSVpFID0gNTA7XG5leHBvcnQgY29uc3QgS0VZX1RZUEVfSURFTlRJRklFUiA9IFwiYXdzNF9yZXF1ZXN0XCI7XG5leHBvcnQgY29uc3QgTUFYX1BSRVNJR05FRF9UVEwgPSA2MCAqIDYwICogMjQgKiA3O1xuIiwiaW1wb3J0IHsgdG9IZXggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgdG9VaW50OEFycmF5IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBLRVlfVFlQRV9JREVOVElGSUVSLCBNQVhfQ0FDSEVfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY29uc3Qgc2lnbmluZ0tleUNhY2hlID0ge307XG5jb25zdCBjYWNoZVF1ZXVlID0gW107XG5leHBvcnQgY29uc3QgY3JlYXRlU2NvcGUgPSAoc2hvcnREYXRlLCByZWdpb24sIHNlcnZpY2UpID0+IGAke3Nob3J0RGF0ZX0vJHtyZWdpb259LyR7c2VydmljZX0vJHtLRVlfVFlQRV9JREVOVElGSUVSfWA7XG5leHBvcnQgY29uc3QgZ2V0U2lnbmluZ0tleSA9IGFzeW5jIChzaGEyNTZDb25zdHJ1Y3RvciwgY3JlZGVudGlhbHMsIHNob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgY3JlZHNIYXNoID0gYXdhaXQgaG1hYyhzaGEyNTZDb25zdHJ1Y3RvciwgY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCBjcmVkZW50aWFscy5hY2Nlc3NLZXlJZCk7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHtzaG9ydERhdGV9OiR7cmVnaW9ufToke3NlcnZpY2V9OiR7dG9IZXgoY3JlZHNIYXNoKX06JHtjcmVkZW50aWFscy5zZXNzaW9uVG9rZW59YDtcbiAgICBpZiAoY2FjaGVLZXkgaW4gc2lnbmluZ0tleUNhY2hlKSB7XG4gICAgICAgIHJldHVybiBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICAgIH1cbiAgICBjYWNoZVF1ZXVlLnB1c2goY2FjaGVLZXkpO1xuICAgIHdoaWxlIChjYWNoZVF1ZXVlLmxlbmd0aCA+IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVRdWV1ZS5zaGlmdCgpXTtcbiAgICB9XG4gICAgbGV0IGtleSA9IGBBV1M0JHtjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXl9YDtcbiAgICBmb3IgKGNvbnN0IHNpZ25hYmxlIG9mIFtzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSwgS0VZX1RZUEVfSURFTlRJRklFUl0pIHtcbiAgICAgICAga2V5ID0gYXdhaXQgaG1hYyhzaGEyNTZDb25zdHJ1Y3Rvciwga2V5LCBzaWduYWJsZSk7XG4gICAgfVxuICAgIHJldHVybiAoc2lnbmluZ0tleUNhY2hlW2NhY2hlS2V5XSA9IGtleSk7XG59O1xuZXhwb3J0IGNvbnN0IGNsZWFyQ3JlZGVudGlhbENhY2hlID0gKCkgPT4ge1xuICAgIGNhY2hlUXVldWUubGVuZ3RoID0gMDtcbiAgICBPYmplY3Qua2V5cyhzaWduaW5nS2V5Q2FjaGUpLmZvckVhY2goKGNhY2hlS2V5KSA9PiB7XG4gICAgICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICAgIH0pO1xufTtcbmNvbnN0IGhtYWMgPSAoY3Rvciwgc2VjcmV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgaGFzaCA9IG5ldyBjdG9yKHNlY3JldCk7XG4gICAgaGFzaC51cGRhdGUodG9VaW50OEFycmF5KGRhdGEpKTtcbiAgICByZXR1cm4gaGFzaC5kaWdlc3QoKTtcbn07XG4iLCJpbXBvcnQgeyBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTLCBQUk9YWV9IRUFERVJfUEFUVEVSTiwgU0VDX0hFQURFUl9QQVRURVJOIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgZ2V0Q2Fub25pY2FsSGVhZGVycyA9ICh7IGhlYWRlcnMgfSwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycykgPT4ge1xuICAgIGNvbnN0IGNhbm9uaWNhbCA9IHt9O1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKS5zb3J0KCkpIHtcbiAgICAgICAgaWYgKGhlYWRlcnNbaGVhZGVyTmFtZV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5vbmljYWxIZWFkZXJOYW1lID0gaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoY2Fub25pY2FsSGVhZGVyTmFtZSBpbiBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTIHx8XG4gICAgICAgICAgICB1bnNpZ25hYmxlSGVhZGVycz8uaGFzKGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICAgICAgICBQUk9YWV9IRUFERVJfUEFUVEVSTi50ZXN0KGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICAgICAgICBTRUNfSEVBREVSX1BBVFRFUk4udGVzdChjYW5vbmljYWxIZWFkZXJOYW1lKSkge1xuICAgICAgICAgICAgaWYgKCFzaWduYWJsZUhlYWRlcnMgfHwgKHNpZ25hYmxlSGVhZGVycyAmJiAhc2lnbmFibGVIZWFkZXJzLmhhcyhjYW5vbmljYWxIZWFkZXJOYW1lKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYW5vbmljYWxbY2Fub25pY2FsSGVhZGVyTmFtZV0gPSBoZWFkZXJzW2hlYWRlck5hbWVdLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbm9uaWNhbDtcbn07XG4iLCJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaSkgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHVyaSkucmVwbGFjZSgvWyEnKCkqXS9nLCBoZXhFbmNvZGUpO1xuY29uc3QgaGV4RW5jb2RlID0gKGMpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiIsImltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiQHNtaXRoeS9pcy1hcnJheS1idWZmZXJcIjtcbmltcG9ydCB7IHRvSGV4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmdcIjtcbmltcG9ydCB7IHRvVWludDhBcnJheSB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgU0hBMjU2X0hFQURFUiwgVU5TSUdORURfUEFZTE9BRCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IGdldFBheWxvYWRIYXNoID0gYXN5bmMgKHsgaGVhZGVycywgYm9keSB9LCBoYXNoQ29uc3RydWN0b3IpID0+IHtcbiAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gU0hBMjU2X0hFQURFUikge1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvZHkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBcImUzYjBjNDQyOThmYzFjMTQ5YWZiZjRjODk5NmZiOTI0MjdhZTQxZTQ2NDliOTM0Y2E0OTU5OTFiNzg1MmI4NTVcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpIHx8IGlzQXJyYXlCdWZmZXIoYm9keSkpIHtcbiAgICAgICAgY29uc3QgaGFzaEN0b3IgPSBuZXcgaGFzaENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGhhc2hDdG9yLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoYm9keSkpO1xuICAgICAgICByZXR1cm4gdG9IZXgoYXdhaXQgaGFzaEN0b3IuZGlnZXN0KCkpO1xuICAgIH1cbiAgICByZXR1cm4gVU5TSUdORURfUEFZTE9BRDtcbn07XG4iLCJleHBvcnQgY29uc3QgY2xvbmVSZXF1ZXN0ID0gKHsgaGVhZGVycywgcXVlcnksIC4uLnJlc3QgfSkgPT4gKHtcbiAgICAuLi5yZXN0LFxuICAgIGhlYWRlcnM6IHsgLi4uaGVhZGVycyB9LFxuICAgIHF1ZXJ5OiBxdWVyeSA/IGNsb25lUXVlcnkocXVlcnkpIDogdW5kZWZpbmVkLFxufSk7XG5leHBvcnQgY29uc3QgY2xvbmVRdWVyeSA9IChxdWVyeSkgPT4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZSgoY2FycnksIHBhcmFtTmFtZSkgPT4ge1xuICAgIGNvbnN0IHBhcmFtID0gcXVlcnlbcGFyYW1OYW1lXTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jYXJyeSxcbiAgICAgICAgW3BhcmFtTmFtZV06IEFycmF5LmlzQXJyYXkocGFyYW0pID8gWy4uLnBhcmFtXSA6IHBhcmFtLFxuICAgIH07XG59LCB7fSk7XG4iLCJpbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcbmltcG9ydCB7IEdFTkVSQVRFRF9IRUFERVJTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgcHJlcGFyZVJlcXVlc3QgPSAocmVxdWVzdCkgPT4ge1xuICAgIHJlcXVlc3QgPSB0eXBlb2YgcmVxdWVzdC5jbG9uZSA9PT0gXCJmdW5jdGlvblwiID8gcmVxdWVzdC5jbG9uZSgpIDogY2xvbmVSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhyZXF1ZXN0LmhlYWRlcnMpKSB7XG4gICAgICAgIGlmIChHRU5FUkFURURfSEVBREVSUy5pbmRleE9mKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSkgPiAtMSkge1xuICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3QuaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdDtcbn07XG4iLCJpbXBvcnQgeyBIZWFkZXJNYXJzaGFsbGVyIH0gZnJvbSBcIkBzbWl0aHkvZXZlbnRzdHJlYW0tY29kZWNcIjtcbmltcG9ydCB7IHRvSGV4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmdcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZVByb3ZpZGVyIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VaW50OEFycmF5LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IEFMR09SSVRITV9JREVOVElGSUVSLCBBTEdPUklUSE1fUVVFUllfUEFSQU0sIEFNWl9EQVRFX0hFQURFUiwgQU1aX0RBVEVfUVVFUllfUEFSQU0sIEFVVEhfSEVBREVSLCBDUkVERU5USUFMX1FVRVJZX1BBUkFNLCBFVkVOVF9BTEdPUklUSE1fSURFTlRJRklFUiwgRVhQSVJFU19RVUVSWV9QQVJBTSwgTUFYX1BSRVNJR05FRF9UVEwsIFNIQTI1Nl9IRUFERVIsIFNJR05BVFVSRV9RVUVSWV9QQVJBTSwgU0lHTkVEX0hFQURFUlNfUVVFUllfUEFSQU0sIFRPS0VOX0hFQURFUiwgVE9LRU5fUVVFUllfUEFSQU0sIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBjcmVhdGVTY29wZSwgZ2V0U2lnbmluZ0tleSB9IGZyb20gXCIuL2NyZWRlbnRpYWxEZXJpdmF0aW9uXCI7XG5pbXBvcnQgeyBnZXRDYW5vbmljYWxIZWFkZXJzIH0gZnJvbSBcIi4vZ2V0Q2Fub25pY2FsSGVhZGVyc1wiO1xuaW1wb3J0IHsgZ2V0Q2Fub25pY2FsUXVlcnkgfSBmcm9tIFwiLi9nZXRDYW5vbmljYWxRdWVyeVwiO1xuaW1wb3J0IHsgZ2V0UGF5bG9hZEhhc2ggfSBmcm9tIFwiLi9nZXRQYXlsb2FkSGFzaFwiO1xuaW1wb3J0IHsgaGFzSGVhZGVyIH0gZnJvbSBcIi4vaGVhZGVyVXRpbFwiO1xuaW1wb3J0IHsgbW92ZUhlYWRlcnNUb1F1ZXJ5IH0gZnJvbSBcIi4vbW92ZUhlYWRlcnNUb1F1ZXJ5XCI7XG5pbXBvcnQgeyBwcmVwYXJlUmVxdWVzdCB9IGZyb20gXCIuL3ByZXBhcmVSZXF1ZXN0XCI7XG5pbXBvcnQgeyBpc284NjAxIH0gZnJvbSBcIi4vdXRpbERhdGVcIjtcbmV4cG9ydCBjbGFzcyBTaWduYXR1cmVWNCB7XG4gICAgY29uc3RydWN0b3IoeyBhcHBseUNoZWNrc3VtLCBjcmVkZW50aWFscywgcmVnaW9uLCBzZXJ2aWNlLCBzaGEyNTYsIHVyaUVzY2FwZVBhdGggPSB0cnVlLCB9KSB7XG4gICAgICAgIHRoaXMuaGVhZGVyTWFyc2hhbGxlciA9IG5ldyBIZWFkZXJNYXJzaGFsbGVyKHRvVXRmOCwgZnJvbVV0ZjgpO1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgICAgICB0aGlzLnNoYTI1NiA9IHNoYTI1NjtcbiAgICAgICAgdGhpcy51cmlFc2NhcGVQYXRoID0gdXJpRXNjYXBlUGF0aDtcbiAgICAgICAgdGhpcy5hcHBseUNoZWNrc3VtID0gdHlwZW9mIGFwcGx5Q2hlY2tzdW0gPT09IFwiYm9vbGVhblwiID8gYXBwbHlDaGVja3N1bSA6IHRydWU7XG4gICAgICAgIHRoaXMucmVnaW9uUHJvdmlkZXIgPSBub3JtYWxpemVQcm92aWRlcihyZWdpb24pO1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxQcm92aWRlciA9IG5vcm1hbGl6ZVByb3ZpZGVyKGNyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgYXN5bmMgcHJlc2lnbihvcmlnaW5hbFJlcXVlc3QsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IHNpZ25pbmdEYXRlID0gbmV3IERhdGUoKSwgZXhwaXJlc0luID0gMzYwMCwgdW5zaWduYWJsZUhlYWRlcnMsIHVuaG9pc3RhYmxlSGVhZGVycywgc2lnbmFibGVIZWFkZXJzLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJlc29sdmVkQ3JlZGVudGlhbHMoY3JlZGVudGlhbHMpO1xuICAgICAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgICAgICBjb25zdCB7IGxvbmdEYXRlLCBzaG9ydERhdGUgfSA9IGZvcm1hdERhdGUoc2lnbmluZ0RhdGUpO1xuICAgICAgICBpZiAoZXhwaXJlc0luID4gTUFYX1BSRVNJR05FRF9UVEwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlNpZ25hdHVyZSB2ZXJzaW9uIDQgcHJlc2lnbmVkIFVSTHNcIiArIFwiIG11c3QgaGF2ZSBhbiBleHBpcmF0aW9uIGRhdGUgbGVzcyB0aGFuIG9uZSB3ZWVrIGluXCIgKyBcIiB0aGUgZnV0dXJlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoc2hvcnREYXRlLCByZWdpb24sIHNpZ25pbmdTZXJ2aWNlID8/IHRoaXMuc2VydmljZSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBtb3ZlSGVhZGVyc1RvUXVlcnkocHJlcGFyZVJlcXVlc3Qob3JpZ2luYWxSZXF1ZXN0KSwgeyB1bmhvaXN0YWJsZUhlYWRlcnMgfSk7XG4gICAgICAgIGlmIChjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHJlcXVlc3QucXVlcnlbVE9LRU5fUVVFUllfUEFSQU1dID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QucXVlcnlbQUxHT1JJVEhNX1FVRVJZX1BBUkFNXSA9IEFMR09SSVRITV9JREVOVElGSUVSO1xuICAgICAgICByZXF1ZXN0LnF1ZXJ5W0NSRURFTlRJQUxfUVVFUllfUEFSQU1dID0gYCR7Y3JlZGVudGlhbHMuYWNjZXNzS2V5SWR9LyR7c2NvcGV9YDtcbiAgICAgICAgcmVxdWVzdC5xdWVyeVtBTVpfREFURV9RVUVSWV9QQVJBTV0gPSBsb25nRGF0ZTtcbiAgICAgICAgcmVxdWVzdC5xdWVyeVtFWFBJUkVTX1FVRVJZX1BBUkFNXSA9IGV4cGlyZXNJbi50b1N0cmluZygxMCk7XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlcnMgPSBnZXRDYW5vbmljYWxIZWFkZXJzKHJlcXVlc3QsIHVuc2lnbmFibGVIZWFkZXJzLCBzaWduYWJsZUhlYWRlcnMpO1xuICAgICAgICByZXF1ZXN0LnF1ZXJ5W1NJR05FRF9IRUFERVJTX1FVRVJZX1BBUkFNXSA9IGdldENhbm9uaWNhbEhlYWRlckxpc3QoY2Fub25pY2FsSGVhZGVycyk7XG4gICAgICAgIHJlcXVlc3QucXVlcnlbU0lHTkFUVVJFX1FVRVJZX1BBUkFNXSA9IGF3YWl0IHRoaXMuZ2V0U2lnbmF0dXJlKGxvbmdEYXRlLCBzY29wZSwgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpLCB0aGlzLmNyZWF0ZUNhbm9uaWNhbFJlcXVlc3QocmVxdWVzdCwgY2Fub25pY2FsSGVhZGVycywgYXdhaXQgZ2V0UGF5bG9hZEhhc2gob3JpZ2luYWxSZXF1ZXN0LCB0aGlzLnNoYTI1NikpKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuICAgIGFzeW5jIHNpZ24odG9TaWduLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9TaWduID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWduU3RyaW5nKHRvU2lnbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG9TaWduLmhlYWRlcnMgJiYgdG9TaWduLnBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25FdmVudCh0b1NpZ24sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvU2lnbi5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWduTWVzc2FnZSh0b1NpZ24sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2lnblJlcXVlc3QodG9TaWduLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzaWduRXZlbnQoeyBoZWFkZXJzLCBwYXlsb2FkIH0sIHsgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLCBwcmlvclNpZ25hdHVyZSwgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSkge1xuICAgICAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgICAgICBjb25zdCB7IHNob3J0RGF0ZSwgbG9uZ0RhdGUgfSA9IGZvcm1hdERhdGUoc2lnbmluZ0RhdGUpO1xuICAgICAgICBjb25zdCBzY29wZSA9IGNyZWF0ZVNjb3BlKHNob3J0RGF0ZSwgcmVnaW9uLCBzaWduaW5nU2VydmljZSA/PyB0aGlzLnNlcnZpY2UpO1xuICAgICAgICBjb25zdCBoYXNoZWRQYXlsb2FkID0gYXdhaXQgZ2V0UGF5bG9hZEhhc2goeyBoZWFkZXJzOiB7fSwgYm9keTogcGF5bG9hZCB9LCB0aGlzLnNoYTI1Nik7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoKTtcbiAgICAgICAgaGFzaC51cGRhdGUoaGVhZGVycyk7XG4gICAgICAgIGNvbnN0IGhhc2hlZEhlYWRlcnMgPSB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgICAgICAgY29uc3Qgc3RyaW5nVG9TaWduID0gW1xuICAgICAgICAgICAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gICAgICAgICAgICBsb25nRGF0ZSxcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgcHJpb3JTaWduYXR1cmUsXG4gICAgICAgICAgICBoYXNoZWRIZWFkZXJzLFxuICAgICAgICAgICAgaGFzaGVkUGF5bG9hZCxcbiAgICAgICAgXS5qb2luKFwiXFxuXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5zaWduU3RyaW5nKHN0cmluZ1RvU2lnbiwgeyBzaWduaW5nRGF0ZSwgc2lnbmluZ1JlZ2lvbjogcmVnaW9uLCBzaWduaW5nU2VydmljZSB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbk1lc3NhZ2Uoc2lnbmFibGVNZXNzYWdlLCB7IHNpZ25pbmdEYXRlID0gbmV3IERhdGUoKSwgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSkge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5zaWduRXZlbnQoe1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJNYXJzaGFsbGVyLmZvcm1hdChzaWduYWJsZU1lc3NhZ2UubWVzc2FnZS5oZWFkZXJzKSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHNpZ25hYmxlTWVzc2FnZS5tZXNzYWdlLmJvZHksXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHNpZ25pbmdEYXRlLFxuICAgICAgICAgICAgc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgIHNpZ25pbmdTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpb3JTaWduYXR1cmU6IHNpZ25hYmxlTWVzc2FnZS5wcmlvclNpZ25hdHVyZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHNpZ25hdHVyZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogc2lnbmFibGVNZXNzYWdlLm1lc3NhZ2UsIHNpZ25hdHVyZSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2lnblN0cmluZyhzdHJpbmdUb1NpZ24sIHsgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxQcm92aWRlcigpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlUmVzb2x2ZWRDcmVkZW50aWFscyhjcmVkZW50aWFscyk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgICAgIGNvbnN0IHsgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICAgICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1Nihhd2FpdCB0aGlzLmdldFNpZ25pbmdLZXkoY3JlZGVudGlhbHMsIHJlZ2lvbiwgc2hvcnREYXRlLCBzaWduaW5nU2VydmljZSkpO1xuICAgICAgICBoYXNoLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoc3RyaW5nVG9TaWduKSk7XG4gICAgICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgICB9XG4gICAgYXN5bmMgc2lnblJlcXVlc3QocmVxdWVzdFRvU2lnbiwgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHNpZ25hYmxlSGVhZGVycywgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxQcm92aWRlcigpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlUmVzb2x2ZWRDcmVkZW50aWFscyhjcmVkZW50aWFscyk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0VG9TaWduKTtcbiAgICAgICAgY29uc3QgeyBsb25nRGF0ZSwgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzW0FNWl9EQVRFX0hFQURFUl0gPSBsb25nRGF0ZTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbikge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1RPS0VOX0hFQURFUl0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZEhhc2ggPSBhd2FpdCBnZXRQYXlsb2FkSGFzaChyZXF1ZXN0LCB0aGlzLnNoYTI1Nik7XG4gICAgICAgIGlmICghaGFzSGVhZGVyKFNIQTI1Nl9IRUFERVIsIHJlcXVlc3QuaGVhZGVycykgJiYgdGhpcy5hcHBseUNoZWNrc3VtKSB7XG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbU0hBMjU2X0hFQURFUl0gPSBwYXlsb2FkSGFzaDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5vbmljYWxIZWFkZXJzID0gZ2V0Q2Fub25pY2FsSGVhZGVycyhyZXF1ZXN0LCB1bnNpZ25hYmxlSGVhZGVycywgc2lnbmFibGVIZWFkZXJzKTtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy5nZXRTaWduYXR1cmUobG9uZ0RhdGUsIHNjb3BlLCB0aGlzLmdldFNpZ25pbmdLZXkoY3JlZGVudGlhbHMsIHJlZ2lvbiwgc2hvcnREYXRlLCBzaWduaW5nU2VydmljZSksIHRoaXMuY3JlYXRlQ2Fub25pY2FsUmVxdWVzdChyZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzLCBwYXlsb2FkSGFzaCkpO1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnNbQVVUSF9IRUFERVJdID1cbiAgICAgICAgICAgIGAke0FMR09SSVRITV9JREVOVElGSUVSfSBgICtcbiAgICAgICAgICAgICAgICBgQ3JlZGVudGlhbD0ke2NyZWRlbnRpYWxzLmFjY2Vzc0tleUlkfS8ke3Njb3BlfSwgYCArXG4gICAgICAgICAgICAgICAgYFNpZ25lZEhlYWRlcnM9JHtnZXRDYW5vbmljYWxIZWFkZXJMaXN0KGNhbm9uaWNhbEhlYWRlcnMpfSwgYCArXG4gICAgICAgICAgICAgICAgYFNpZ25hdHVyZT0ke3NpZ25hdHVyZX1gO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG4gICAgY3JlYXRlQ2Fub25pY2FsUmVxdWVzdChyZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzLCBwYXlsb2FkSGFzaCkge1xuICAgICAgICBjb25zdCBzb3J0ZWRIZWFkZXJzID0gT2JqZWN0LmtleXMoY2Fub25pY2FsSGVhZGVycykuc29ydCgpO1xuICAgICAgICByZXR1cm4gYCR7cmVxdWVzdC5tZXRob2R9XG4ke3RoaXMuZ2V0Q2Fub25pY2FsUGF0aChyZXF1ZXN0KX1cbiR7Z2V0Q2Fub25pY2FsUXVlcnkocmVxdWVzdCl9XG4ke3NvcnRlZEhlYWRlcnMubWFwKChuYW1lKSA9PiBgJHtuYW1lfToke2Nhbm9uaWNhbEhlYWRlcnNbbmFtZV19YCkuam9pbihcIlxcblwiKX1cblxuJHtzb3J0ZWRIZWFkZXJzLmpvaW4oXCI7XCIpfVxuJHtwYXlsb2FkSGFzaH1gO1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVTdHJpbmdUb1NpZ24obG9uZ0RhdGUsIGNyZWRlbnRpYWxTY29wZSwgY2Fub25pY2FsUmVxdWVzdCkge1xuICAgICAgICBjb25zdCBoYXNoID0gbmV3IHRoaXMuc2hhMjU2KCk7XG4gICAgICAgIGhhc2gudXBkYXRlKHRvVWludDhBcnJheShjYW5vbmljYWxSZXF1ZXN0KSk7XG4gICAgICAgIGNvbnN0IGhhc2hlZFJlcXVlc3QgPSBhd2FpdCBoYXNoLmRpZ2VzdCgpO1xuICAgICAgICByZXR1cm4gYCR7QUxHT1JJVEhNX0lERU5USUZJRVJ9XG4ke2xvbmdEYXRlfVxuJHtjcmVkZW50aWFsU2NvcGV9XG4ke3RvSGV4KGhhc2hlZFJlcXVlc3QpfWA7XG4gICAgfVxuICAgIGdldENhbm9uaWNhbFBhdGgoeyBwYXRoIH0pIHtcbiAgICAgICAgaWYgKHRoaXMudXJpRXNjYXBlUGF0aCkge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGhTZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoU2VnbWVudCBvZiBwYXRoLnNwbGl0KFwiL1wiKSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoU2VnbWVudD8ubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aFNlZ21lbnQgPT09IFwiLlwiKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aFNlZ21lbnQgPT09IFwiLi5cIikge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aFNlZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZFBhdGhTZWdtZW50cy5wdXNoKHBhdGhTZWdtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IGAke3BhdGg/LnN0YXJ0c1dpdGgoXCIvXCIpID8gXCIvXCIgOiBcIlwifSR7bm9ybWFsaXplZFBhdGhTZWdtZW50cy5qb2luKFwiL1wiKX0ke25vcm1hbGl6ZWRQYXRoU2VnbWVudHMubGVuZ3RoID4gMCAmJiBwYXRoPy5lbmRzV2l0aChcIi9cIikgPyBcIi9cIiA6IFwiXCJ9YDtcbiAgICAgICAgICAgIGNvbnN0IGRvdWJsZUVuY29kZWQgPSBlbmNvZGVVUklDb21wb25lbnQobm9ybWFsaXplZFBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIGRvdWJsZUVuY29kZWQucmVwbGFjZSgvJTJGL2csIFwiL1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0U2lnbmF0dXJlKGxvbmdEYXRlLCBjcmVkZW50aWFsU2NvcGUsIGtleVByb21pc2UsIGNhbm9uaWNhbFJlcXVlc3QpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5nVG9TaWduID0gYXdhaXQgdGhpcy5jcmVhdGVTdHJpbmdUb1NpZ24obG9uZ0RhdGUsIGNyZWRlbnRpYWxTY29wZSwgY2Fub25pY2FsUmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoYXdhaXQga2V5UHJvbWlzZSk7XG4gICAgICAgIGhhc2gudXBkYXRlKHRvVWludDhBcnJheShzdHJpbmdUb1NpZ24pKTtcbiAgICAgICAgcmV0dXJuIHRvSGV4KGF3YWl0IGhhc2guZGlnZXN0KCkpO1xuICAgIH1cbiAgICBnZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2VydmljZSkge1xuICAgICAgICByZXR1cm4gZ2V0U2lnbmluZ0tleSh0aGlzLnNoYTI1NiwgY3JlZGVudGlhbHMsIHNob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlIHx8IHRoaXMuc2VydmljZSk7XG4gICAgfVxuICAgIHZhbGlkYXRlUmVzb2x2ZWRDcmVkZW50aWFscyhjcmVkZW50aWFscykge1xuICAgICAgICBpZiAodHlwZW9mIGNyZWRlbnRpYWxzICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQgIT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiBjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc29sdmVkIGNyZWRlbnRpYWwgb2JqZWN0IGlzIG5vdCB2YWxpZFwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGZvcm1hdERhdGUgPSAobm93KSA9PiB7XG4gICAgY29uc3QgbG9uZ0RhdGUgPSBpc284NjAxKG5vdykucmVwbGFjZSgvW1xcLTpdL2csIFwiXCIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvbmdEYXRlLFxuICAgICAgICBzaG9ydERhdGU6IGxvbmdEYXRlLnNsaWNlKDAsIDgpLFxuICAgIH07XG59O1xuY29uc3QgZ2V0Q2Fub25pY2FsSGVhZGVyTGlzdCA9IChoZWFkZXJzKSA9PiBPYmplY3Qua2V5cyhoZWFkZXJzKS5zb3J0KCkuam9pbihcIjtcIik7XG4iLCJpbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcbmV4cG9ydCBjb25zdCBtb3ZlSGVhZGVyc1RvUXVlcnkgPSAocmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBoZWFkZXJzLCBxdWVyeSA9IHt9IH0gPSB0eXBlb2YgcmVxdWVzdC5jbG9uZSA9PT0gXCJmdW5jdGlvblwiID8gcmVxdWVzdC5jbG9uZSgpIDogY2xvbmVSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICBjb25zdCBsbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGxuYW1lLnNsaWNlKDAsIDYpID09PSBcIngtYW16LVwiICYmICFvcHRpb25zLnVuaG9pc3RhYmxlSGVhZGVycz8uaGFzKGxuYW1lKSkge1xuICAgICAgICAgICAgcXVlcnlbbmFtZV0gPSBoZWFkZXJzW25hbWVdO1xuICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcXVlcnksXG4gICAgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgaGFzSGVhZGVyID0gKHNvdWdodEhlYWRlciwgaGVhZGVycykgPT4ge1xuICAgIHNvdWdodEhlYWRlciA9IHNvdWdodEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgZ2V0SGVhZGVyVmFsdWUgPSAoc291Z2h0SGVhZGVyLCBoZWFkZXJzKSA9PiB7XG4gICAgc291Z2h0SGVhZGVyID0gc291Z2h0SGVhZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgIGlmIChzb3VnaHRIZWFkZXIgPT09IGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5leHBvcnQgY29uc3QgZGVsZXRlSGVhZGVyID0gKHNvdWdodEhlYWRlciwgaGVhZGVycykgPT4ge1xuICAgIHNvdWdodEhlYWRlciA9IHNvdWdodEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlck5hbWVdO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGVzY2FwZVVyaSB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXJpLWVzY2FwZVwiO1xuaW1wb3J0IHsgU0lHTkFUVVJFX0hFQURFUiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IGdldENhbm9uaWNhbFF1ZXJ5ID0gKHsgcXVlcnkgPSB7fSB9KSA9PiB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhxdWVyeSkuc29ydCgpKSB7XG4gICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gU0lHTkFUVVJFX0hFQURFUikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgc2VyaWFsaXplZFtrZXldID0gYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWx1ZVxuICAgICAgICAgICAgICAgIC5zbGljZSgwKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGVuY29kZWQsIHZhbHVlKSA9PiBlbmNvZGVkLmNvbmNhdChbYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gXSksIFtdKVxuICAgICAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgICAgICAuam9pbihcIiZcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleXNcbiAgICAgICAgLm1hcCgoa2V5KSA9PiBzZXJpYWxpemVkW2tleV0pXG4gICAgICAgIC5maWx0ZXIoKHNlcmlhbGl6ZWQpID0+IHNlcmlhbGl6ZWQpXG4gICAgICAgIC5qb2luKFwiJlwiKTtcbn07XG4iLCJleHBvcnQgY29uc3QgaXNvODYwMSA9ICh0aW1lKSA9PiB0b0RhdGUodGltZSlcbiAgICAudG9JU09TdHJpbmcoKVxuICAgIC5yZXBsYWNlKC9cXC5cXGR7M31aJC8sIFwiWlwiKTtcbmV4cG9ydCBjb25zdCB0b0RhdGUgPSAodGltZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdGltZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRpbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKE51bWJlcih0aW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKE51bWJlcih0aW1lKSAqIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWU7XG59O1xuIiwiaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBTaWduYXR1cmVWNCB9IGZyb20gXCJAc21pdGh5L3NpZ25hdHVyZS12NFwiO1xuaW1wb3J0IHsgbm9ybWFsaXplUHJvdmlkZXIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLW1pZGRsZXdhcmVcIjtcbmNvbnN0IENSRURFTlRJQUxfRVhQSVJFX1dJTkRPVyA9IDMwMDAwMDtcbmV4cG9ydCBjb25zdCByZXNvbHZlQXdzQXV0aENvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRDcmVkcyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICAgID8gbm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyKGlucHV0LmNyZWRlbnRpYWxzKVxuICAgICAgICA6IGlucHV0LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoaW5wdXQpO1xuICAgIGNvbnN0IHsgc2lnbmluZ0VzY2FwZVBhdGggPSB0cnVlLCBzeXN0ZW1DbG9ja09mZnNldCA9IGlucHV0LnN5c3RlbUNsb2NrT2Zmc2V0IHx8IDAsIHNoYTI1NiB9ID0gaW5wdXQ7XG4gICAgbGV0IHNpZ25lcjtcbiAgICBpZiAoaW5wdXQuc2lnbmVyKSB7XG4gICAgICAgIHNpZ25lciA9IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnNpZ25lcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlucHV0LnJlZ2lvbkluZm9Qcm92aWRlcikge1xuICAgICAgICBzaWduZXIgPSAoKSA9PiBub3JtYWxpemVQcm92aWRlcihpbnB1dC5yZWdpb24pKClcbiAgICAgICAgICAgIC50aGVuKGFzeW5jIChyZWdpb24pID0+IFtcbiAgICAgICAgICAgIChhd2FpdCBpbnB1dC5yZWdpb25JbmZvUHJvdmlkZXIocmVnaW9uLCB7XG4gICAgICAgICAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBhd2FpdCBpbnB1dC51c2VGaXBzRW5kcG9pbnQoKSxcbiAgICAgICAgICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogYXdhaXQgaW5wdXQudXNlRHVhbHN0YWNrRW5kcG9pbnQoKSxcbiAgICAgICAgICAgIH0pKSB8fCB7fSxcbiAgICAgICAgICAgIHJlZ2lvbixcbiAgICAgICAgXSlcbiAgICAgICAgICAgIC50aGVuKChbcmVnaW9uSW5mbywgcmVnaW9uXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9ID0gcmVnaW9uSW5mbztcbiAgICAgICAgICAgIGlucHV0LnNpZ25pbmdSZWdpb24gPSBpbnB1dC5zaWduaW5nUmVnaW9uIHx8IHNpZ25pbmdSZWdpb24gfHwgcmVnaW9uO1xuICAgICAgICAgICAgaW5wdXQuc2lnbmluZ05hbWUgPSBpbnB1dC5zaWduaW5nTmFtZSB8fCBzaWduaW5nU2VydmljZSB8fCBpbnB1dC5zZXJ2aWNlSWQ7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgICAgICAgICByZWdpb246IGlucHV0LnNpZ25pbmdSZWdpb24sXG4gICAgICAgICAgICAgICAgc2VydmljZTogaW5wdXQuc2lnbmluZ05hbWUsXG4gICAgICAgICAgICAgICAgc2hhMjU2LFxuICAgICAgICAgICAgICAgIHVyaUVzY2FwZVBhdGg6IHNpZ25pbmdFc2NhcGVQYXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IFNpZ25lckN0b3IgPSBpbnB1dC5zaWduZXJDb25zdHJ1Y3RvciB8fCBTaWduYXR1cmVWNDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2lnbmVyQ3RvcihwYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNpZ25lciA9IGFzeW5jIChhdXRoU2NoZW1lKSA9PiB7XG4gICAgICAgICAgICBhdXRoU2NoZW1lID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2lndjRcIixcbiAgICAgICAgICAgICAgICBzaWduaW5nTmFtZTogaW5wdXQuc2lnbmluZ05hbWUgfHwgaW5wdXQuZGVmYXVsdFNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgICAgIHNpZ25pbmdSZWdpb246IGF3YWl0IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJlZ2lvbikoKSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgICAgIH0sIGF1dGhTY2hlbWUpO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmluZ1JlZ2lvbiA9IGF1dGhTY2hlbWUuc2lnbmluZ1JlZ2lvbjtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25pbmdTZXJ2aWNlID0gYXV0aFNjaGVtZS5zaWduaW5nTmFtZTtcbiAgICAgICAgICAgIGlucHV0LnNpZ25pbmdSZWdpb24gPSBpbnB1dC5zaWduaW5nUmVnaW9uIHx8IHNpZ25pbmdSZWdpb247XG4gICAgICAgICAgICBpbnB1dC5zaWduaW5nTmFtZSA9IGlucHV0LnNpZ25pbmdOYW1lIHx8IHNpZ25pbmdTZXJ2aWNlIHx8IGlucHV0LnNlcnZpY2VJZDtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogbm9ybWFsaXplZENyZWRzLFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBpbnB1dC5zaWduaW5nTmFtZSxcbiAgICAgICAgICAgICAgICBzaGEyNTYsXG4gICAgICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgU2lnbmVyQ3RvciA9IGlucHV0LnNpZ25lckNvbnN0cnVjdG9yIHx8IFNpZ25hdHVyZVY0O1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduZXJDdG9yKHBhcmFtcyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBzeXN0ZW1DbG9ja09mZnNldCxcbiAgICAgICAgc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgIHNpZ25lcixcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCByZXNvbHZlU2lnVjRBdXRoQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgICAgPyBub3JtYWxpemVDcmVkZW50aWFsUHJvdmlkZXIoaW5wdXQuY3JlZGVudGlhbHMpXG4gICAgICAgIDogaW5wdXQuY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihpbnB1dCk7XG4gICAgY29uc3QgeyBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsIHN5c3RlbUNsb2NrT2Zmc2V0ID0gaW5wdXQuc3lzdGVtQ2xvY2tPZmZzZXQgfHwgMCwgc2hhMjU2IH0gPSBpbnB1dDtcbiAgICBsZXQgc2lnbmVyO1xuICAgIGlmIChpbnB1dC5zaWduZXIpIHtcbiAgICAgICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQuc2lnbmVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNpZ25lciA9IG5vcm1hbGl6ZVByb3ZpZGVyKG5ldyBTaWduYXR1cmVWNCh7XG4gICAgICAgICAgICBjcmVkZW50aWFsczogbm9ybWFsaXplZENyZWRzLFxuICAgICAgICAgICAgcmVnaW9uOiBpbnB1dC5yZWdpb24sXG4gICAgICAgICAgICBzZXJ2aWNlOiBpbnB1dC5zaWduaW5nTmFtZSxcbiAgICAgICAgICAgIHNoYTI1NixcbiAgICAgICAgICAgIHVyaUVzY2FwZVBhdGg6IHNpZ25pbmdFc2NhcGVQYXRoLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBzeXN0ZW1DbG9ja09mZnNldCxcbiAgICAgICAgc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgIHNpZ25lcixcbiAgICB9O1xufTtcbmNvbnN0IG5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlciA9IChjcmVkZW50aWFscykgPT4ge1xuICAgIGlmICh0eXBlb2YgY3JlZGVudGlhbHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbWVtb2l6ZShjcmVkZW50aWFscywgKGNyZWRlbnRpYWxzKSA9PiBjcmVkZW50aWFscy5leHBpcmF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzLmV4cGlyYXRpb24uZ2V0VGltZSgpIC0gRGF0ZS5ub3coKSA8IENSRURFTlRJQUxfRVhQSVJFX1dJTkRPVywgKGNyZWRlbnRpYWxzKSA9PiBjcmVkZW50aWFscy5leHBpcmF0aW9uICE9PSB1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplUHJvdmlkZXIoY3JlZGVudGlhbHMpO1xufTtcbiIsImV4cG9ydCBjb25zdCBnZXRTa2V3Q29ycmVjdGVkRGF0ZSA9IChzeXN0ZW1DbG9ja09mZnNldCkgPT4gbmV3IERhdGUoRGF0ZS5ub3coKSArIHN5c3RlbUNsb2NrT2Zmc2V0KTtcbiIsImltcG9ydCB7IGlzQ2xvY2tTa2V3ZWQgfSBmcm9tIFwiLi9pc0Nsb2NrU2tld2VkXCI7XG5leHBvcnQgY29uc3QgZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0ID0gKGNsb2NrVGltZSwgY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0KSA9PiB7XG4gICAgY29uc3QgY2xvY2tUaW1lSW5NcyA9IERhdGUucGFyc2UoY2xvY2tUaW1lKTtcbiAgICBpZiAoaXNDbG9ja1NrZXdlZChjbG9ja1RpbWVJbk1zLCBjdXJyZW50U3lzdGVtQ2xvY2tPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBjbG9ja1RpbWVJbk1zIC0gRGF0ZS5ub3coKTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRTeXN0ZW1DbG9ja09mZnNldDtcbn07XG4iLCJpbXBvcnQgeyBnZXRTa2V3Q29ycmVjdGVkRGF0ZSB9IGZyb20gXCIuL2dldFNrZXdDb3JyZWN0ZWREYXRlXCI7XG5leHBvcnQgY29uc3QgaXNDbG9ja1NrZXdlZCA9IChjbG9ja1RpbWUsIHN5c3RlbUNsb2NrT2Zmc2V0KSA9PiBNYXRoLmFicyhnZXRTa2V3Q29ycmVjdGVkRGF0ZShzeXN0ZW1DbG9ja09mZnNldCkuZ2V0VGltZSgpIC0gY2xvY2tUaW1lKSA+PSAzMDAwMDA7XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCwgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgZ2V0U2tld0NvcnJlY3RlZERhdGUgfSBmcm9tIFwiLi91dGlscy9nZXRTa2V3Q29ycmVjdGVkRGF0ZVwiO1xuaW1wb3J0IHsgZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0IH0gZnJvbSBcIi4vdXRpbHMvZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0XCI7XG5leHBvcnQgY29uc3QgYXdzQXV0aE1pZGRsZXdhcmUgPSAob3B0aW9ucykgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpXG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IGF1dGhTY2hlbWUgPSBjb250ZXh0LmVuZHBvaW50VjI/LnByb3BlcnRpZXM/LmF1dGhTY2hlbWVzPy5bMF07XG4gICAgY29uc3QgbXVsdGlSZWdpb25PdmVycmlkZSA9IGF1dGhTY2hlbWU/Lm5hbWUgPT09IFwic2lndjRhXCIgPyBhdXRoU2NoZW1lPy5zaWduaW5nUmVnaW9uU2V0Py5qb2luKFwiLFwiKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBvcHRpb25zLnNpZ25lcihhdXRoU2NoZW1lKTtcbiAgICBsZXQgc2lnbmVkUmVxdWVzdDtcbiAgICBjb25zdCBzaWduaW5nT3B0aW9ucyA9IHtcbiAgICAgICAgc2lnbmluZ0RhdGU6IGdldFNrZXdDb3JyZWN0ZWREYXRlKG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQpLFxuICAgICAgICBzaWduaW5nUmVnaW9uOiBtdWx0aVJlZ2lvbk92ZXJyaWRlIHx8IGNvbnRleHRbXCJzaWduaW5nX3JlZ2lvblwiXSxcbiAgICAgICAgc2lnbmluZ1NlcnZpY2U6IGNvbnRleHRbXCJzaWduaW5nX3NlcnZpY2VcIl0sXG4gICAgfTtcbiAgICBpZiAoY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSkge1xuICAgICAgICBjb25zdCBzaWdWNE11bHRpUmVnaW9uID0gc2lnbmVyO1xuICAgICAgICBzaWduZWRSZXF1ZXN0ID0gYXdhaXQgc2lnVjRNdWx0aVJlZ2lvbi5zaWduV2l0aENyZWRlbnRpYWxzKGFyZ3MucmVxdWVzdCwgY29udGV4dC5zM0V4cHJlc3NJZGVudGl0eSwgc2lnbmluZ09wdGlvbnMpO1xuICAgICAgICBpZiAoc2lnbmVkUmVxdWVzdC5oZWFkZXJzW1wiWC1BbXotU2VjdXJpdHktVG9rZW5cIl0gfHwgc2lnbmVkUmVxdWVzdC5oZWFkZXJzW1wieC1hbXotc2VjdXJpdHktdG9rZW5cIl0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlgtQW16LVNlY3VyaXR5LVRva2VuIG11c3Qgbm90IGJlIHNldCBmb3IgczMtZXhwcmVzcyByZXF1ZXN0cy5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNpZ25lZFJlcXVlc3QgPSBhd2FpdCBzaWduZXIuc2lnbihhcmdzLnJlcXVlc3QsIHNpZ25pbmdPcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgbmV4dCh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlcXVlc3Q6IHNpZ25lZFJlcXVlc3QsXG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcnZlclRpbWUgPSBlcnJvci5TZXJ2ZXJUaW1lID8/IGdldERhdGVIZWFkZXIoZXJyb3IuJHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHNlcnZlclRpbWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQgPSBnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQoc2VydmVyVGltZSwgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gICAgY29uc3QgZGF0ZUhlYWRlciA9IGdldERhdGVIZWFkZXIob3V0cHV0LnJlc3BvbnNlKTtcbiAgICBpZiAoZGF0ZUhlYWRlcikge1xuICAgICAgICBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0ID0gZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0KGRhdGVIZWFkZXIsIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufTtcbmNvbnN0IGdldERhdGVIZWFkZXIgPSAocmVzcG9uc2UpID0+IEh0dHBSZXNwb25zZS5pc0luc3RhbmNlKHJlc3BvbnNlKSA/IHJlc3BvbnNlLmhlYWRlcnM/LmRhdGUgPz8gcmVzcG9uc2UuaGVhZGVycz8uRGF0ZSA6IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBhd3NBdXRoTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJhd3NBdXRoTWlkZGxld2FyZVwiLFxuICAgIHRhZ3M6IFtcIlNJR05BVFVSRVwiLCBcIkFXU0FVVEhcIl0sXG4gICAgcmVsYXRpb246IFwiYWZ0ZXJcIixcbiAgICB0b01pZGRsZXdhcmU6IFwicmV0cnlNaWRkbGV3YXJlXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldEF3c0F1dGhQbHVnaW4gPSAob3B0aW9ucykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGRSZWxhdGl2ZVRvKGF3c0F1dGhNaWRkbGV3YXJlKG9wdGlvbnMpLCBhd3NBdXRoTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbmV4cG9ydCBjb25zdCBnZXRTaWdWNEF1dGhQbHVnaW4gPSBnZXRBd3NBdXRoUGx1Z2luO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVc2VyQWdlbnRDb25maWcoaW5wdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgY3VzdG9tVXNlckFnZW50OiB0eXBlb2YgaW5wdXQuY3VzdG9tVXNlckFnZW50ID09PSBcInN0cmluZ1wiID8gW1tpbnB1dC5jdXN0b21Vc2VyQWdlbnRdXSA6IGlucHV0LmN1c3RvbVVzZXJBZ2VudCxcbiAgICB9O1xufVxuIiwiY29uc3QgSVBfVjRfUkVHRVggPSBuZXcgUmVnRXhwKGBeKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M30kYCk7XG5leHBvcnQgY29uc3QgaXNJcEFkZHJlc3MgPSAodmFsdWUpID0+IElQX1Y0X1JFR0VYLnRlc3QodmFsdWUpIHx8ICh2YWx1ZS5zdGFydHNXaXRoKFwiW1wiKSAmJiB2YWx1ZS5lbmRzV2l0aChcIl1cIikpO1xuIiwiY29uc3QgVkFMSURfSE9TVF9MQUJFTF9SRUdFWCA9IG5ldyBSZWdFeHAoYF4oPyEuKi0kKSg/IS0pW2EtekEtWjAtOS1dezEsNjN9JGApO1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRIb3N0TGFiZWwgPSAodmFsdWUsIGFsbG93U3ViRG9tYWlucyA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKCFhbGxvd1N1YkRvbWFpbnMpIHtcbiAgICAgICAgcmV0dXJuIFZBTElEX0hPU1RfTEFCRUxfUkVHRVgudGVzdCh2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGxhYmVscyA9IHZhbHVlLnNwbGl0KFwiLlwiKTtcbiAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIGxhYmVscykge1xuICAgICAgICBpZiAoIWlzVmFsaWRIb3N0TGFiZWwobGFiZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGN1c3RvbUVuZHBvaW50RnVuY3Rpb25zID0ge307XG4iLCJleHBvcnQgY29uc3QgZGVidWdJZCA9IFwiZW5kcG9pbnRzXCI7XG4iLCJleHBvcnQgZnVuY3Rpb24gdG9EZWJ1Z1N0cmluZyhpbnB1dCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIGlmIChcInJlZlwiIGluIGlucHV0KSB7XG4gICAgICAgIHJldHVybiBgJCR7dG9EZWJ1Z1N0cmluZyhpbnB1dC5yZWYpfWA7XG4gICAgfVxuICAgIGlmIChcImZuXCIgaW4gaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGAke2lucHV0LmZufSgkeyhpbnB1dC5hcmd2IHx8IFtdKS5tYXAodG9EZWJ1Z1N0cmluZykuam9pbihcIiwgXCIpfSlgO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5wdXQsIG51bGwsIDIpO1xufVxuIiwiZXhwb3J0IGNsYXNzIEVuZHBvaW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFbmRwb2ludEVycm9yXCI7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGJvb2xlYW5FcXVhbHMgPSAodmFsdWUxLCB2YWx1ZTIpID0+IHZhbHVlMSA9PT0gdmFsdWUyO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0QXR0clBhdGhMaXN0IH0gZnJvbSBcIi4vZ2V0QXR0clBhdGhMaXN0XCI7XG5leHBvcnQgY29uc3QgZ2V0QXR0ciA9ICh2YWx1ZSwgcGF0aCkgPT4gZ2V0QXR0clBhdGhMaXN0KHBhdGgpLnJlZHVjZSgoYWNjLCBpbmRleCkgPT4ge1xuICAgIGlmICh0eXBlb2YgYWNjICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBJbmRleCAnJHtpbmRleH0nIGluICcke3BhdGh9JyBub3QgZm91bmQgaW4gJyR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSdgKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhY2MpKSB7XG4gICAgICAgIHJldHVybiBhY2NbcGFyc2VJbnQoaW5kZXgpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY1tpbmRleF07XG59LCB2YWx1ZSk7XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5leHBvcnQgY29uc3QgZ2V0QXR0clBhdGhMaXN0ID0gKHBhdGgpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICAgIGNvbnN0IHBhdGhMaXN0ID0gW107XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgIGNvbnN0IHNxdWFyZUJyYWNrZXRJbmRleCA9IHBhcnQuaW5kZXhPZihcIltcIik7XG4gICAgICAgIGlmIChzcXVhcmVCcmFja2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAocGFydC5pbmRleE9mKFwiXVwiKSAhPT0gcGFydC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYFBhdGg6ICcke3BhdGh9JyBkb2VzIG5vdCBlbmQgd2l0aCAnXSdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFycmF5SW5kZXggPSBwYXJ0LnNsaWNlKHNxdWFyZUJyYWNrZXRJbmRleCArIDEsIC0xKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VJbnQoYXJyYXlJbmRleCkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYEludmFsaWQgYXJyYXkgaW5kZXg6ICcke2FycmF5SW5kZXh9JyBpbiBwYXRoOiAnJHtwYXRofSdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcXVhcmVCcmFja2V0SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBwYXRoTGlzdC5wdXNoKHBhcnQuc2xpY2UoMCwgc3F1YXJlQnJhY2tldEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXRoTGlzdC5wdXNoKGFycmF5SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0aExpc3QucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGF0aExpc3Q7XG59O1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRVUkxTY2hlbWUgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgaXNJcEFkZHJlc3MgfSBmcm9tIFwiLi9pc0lwQWRkcmVzc1wiO1xuY29uc3QgREVGQVVMVF9QT1JUUyA9IHtcbiAgICBbRW5kcG9pbnRVUkxTY2hlbWUuSFRUUF06IDgwLFxuICAgIFtFbmRwb2ludFVSTFNjaGVtZS5IVFRQU106IDQ0Myxcbn07XG5leHBvcnQgY29uc3QgcGFyc2VVUkwgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCB3aGF0d2dVUkwgPSAoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcImhvc3RuYW1lXCIgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGhvc3RuYW1lLCBwb3J0LCBwcm90b2NvbCA9IFwiXCIsIHBhdGggPSBcIlwiLCBxdWVyeSA9IHt9IH0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX0ke3BvcnQgPyBgOiR7cG9ydH1gIDogXCJcIn0ke3BhdGh9YCk7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaCA9IE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAubWFwKChbaywgdl0pID0+IGAke2t9PSR7dn1gKVxuICAgICAgICAgICAgICAgICAgICAuam9pbihcIiZcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBpZiAoIXdoYXR3Z1VSTCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gcGFyc2UgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGFzIGEgd2hhdHdnIFVSTC5gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHVybFN0cmluZyA9IHdoYXR3Z1VSTC5ocmVmO1xuICAgIGNvbnN0IHsgaG9zdCwgaG9zdG5hbWUsIHBhdGhuYW1lLCBwcm90b2NvbCwgc2VhcmNoIH0gPSB3aGF0d2dVUkw7XG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1lID0gcHJvdG9jb2wuc2xpY2UoMCwgLTEpO1xuICAgIGlmICghT2JqZWN0LnZhbHVlcyhFbmRwb2ludFVSTFNjaGVtZSkuaW5jbHVkZXMoc2NoZW1lKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaXNJcCA9IGlzSXBBZGRyZXNzKGhvc3RuYW1lKTtcbiAgICBjb25zdCBpbnB1dENvbnRhaW5zRGVmYXVsdFBvcnQgPSB1cmxTdHJpbmcuaW5jbHVkZXMoYCR7aG9zdH06JHtERUZBVUxUX1BPUlRTW3NjaGVtZV19YCkgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5pbmNsdWRlcyhgJHtob3N0fToke0RFRkFVTFRfUE9SVFNbc2NoZW1lXX1gKSk7XG4gICAgY29uc3QgYXV0aG9yaXR5ID0gYCR7aG9zdH0ke2lucHV0Q29udGFpbnNEZWZhdWx0UG9ydCA/IGA6JHtERUZBVUxUX1BPUlRTW3NjaGVtZV19YCA6IGBgfWA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NoZW1lLFxuICAgICAgICBhdXRob3JpdHksXG4gICAgICAgIHBhdGg6IHBhdGhuYW1lLFxuICAgICAgICBub3JtYWxpemVkUGF0aDogcGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpID8gcGF0aG5hbWUgOiBgJHtwYXRobmFtZX0vYCxcbiAgICAgICAgaXNJcCxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IGJvb2xlYW5FcXVhbHMsIGdldEF0dHIsIGlzU2V0LCBpc1ZhbGlkSG9zdExhYmVsLCBub3QsIHBhcnNlVVJMLCBzdHJpbmdFcXVhbHMsIHN1YnN0cmluZywgdXJpRW5jb2RlLCB9IGZyb20gXCIuLi9saWJcIjtcbmV4cG9ydCBjb25zdCBlbmRwb2ludEZ1bmN0aW9ucyA9IHtcbiAgICBib29sZWFuRXF1YWxzLFxuICAgIGdldEF0dHIsXG4gICAgaXNTZXQsXG4gICAgaXNWYWxpZEhvc3RMYWJlbCxcbiAgICBub3QsXG4gICAgcGFyc2VVUkwsXG4gICAgc3RyaW5nRXF1YWxzLFxuICAgIHN1YnN0cmluZyxcbiAgICB1cmlFbmNvZGUsXG59O1xuIiwiZXhwb3J0IGNvbnN0IGlzU2V0ID0gKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsO1xuIiwiZXhwb3J0IGNvbnN0IG5vdCA9ICh2YWx1ZSkgPT4gIXZhbHVlO1xuIiwiZXhwb3J0IGNvbnN0IHN0cmluZ0VxdWFscyA9ICh2YWx1ZTEsIHZhbHVlMikgPT4gdmFsdWUxID09PSB2YWx1ZTI7XG4iLCJleHBvcnQgY29uc3Qgc3Vic3RyaW5nID0gKGlucHV0LCBzdGFydCwgc3RvcCwgcmV2ZXJzZSkgPT4ge1xuICAgIGlmIChzdGFydCA+PSBzdG9wIHx8IGlucHV0Lmxlbmd0aCA8IHN0b3ApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghcmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHN0YXJ0LCBzdG9wKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhpbnB1dC5sZW5ndGggLSBzdG9wLCBpbnB1dC5sZW5ndGggLSBzdGFydCk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHVyaUVuY29kZSA9ICh2YWx1ZSkgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKC9bISonKCldL2csIChjKSA9PiBgJSR7Yy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWApO1xuIiwiaW1wb3J0IHsgZ2V0QXR0ciB9IGZyb20gXCIuLi9saWJcIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZVRlbXBsYXRlID0gKHRlbXBsYXRlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZXZhbHVhdGVkVGVtcGxhdGVBcnIgPSBbXTtcbiAgICBjb25zdCB0ZW1wbGF0ZUNvbnRleHQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLFxuICAgIH07XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gICAgd2hpbGUgKGN1cnJlbnRJbmRleCA8IHRlbXBsYXRlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBvcGVuaW5nQnJhY2VJbmRleCA9IHRlbXBsYXRlLmluZGV4T2YoXCJ7XCIsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGlmIChvcGVuaW5nQnJhY2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGV2YWx1YXRlZFRlbXBsYXRlQXJyLnB1c2godGVtcGxhdGUuc2xpY2UoY3VycmVudEluZGV4KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBldmFsdWF0ZWRUZW1wbGF0ZUFyci5wdXNoKHRlbXBsYXRlLnNsaWNlKGN1cnJlbnRJbmRleCwgb3BlbmluZ0JyYWNlSW5kZXgpKTtcbiAgICAgICAgY29uc3QgY2xvc2luZ0JyYWNlSW5kZXggPSB0ZW1wbGF0ZS5pbmRleE9mKFwifVwiLCBvcGVuaW5nQnJhY2VJbmRleCk7XG4gICAgICAgIGlmIChjbG9zaW5nQnJhY2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGV2YWx1YXRlZFRlbXBsYXRlQXJyLnB1c2godGVtcGxhdGUuc2xpY2Uob3BlbmluZ0JyYWNlSW5kZXgpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZW1wbGF0ZVtvcGVuaW5nQnJhY2VJbmRleCArIDFdID09PSBcIntcIiAmJiB0ZW1wbGF0ZVtjbG9zaW5nQnJhY2VJbmRleCArIDFdID09PSBcIn1cIikge1xuICAgICAgICAgICAgZXZhbHVhdGVkVGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZS5zbGljZShvcGVuaW5nQnJhY2VJbmRleCArIDEsIGNsb3NpbmdCcmFjZUluZGV4KSk7XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPSBjbG9zaW5nQnJhY2VJbmRleCArIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1ldGVyTmFtZSA9IHRlbXBsYXRlLnN1YnN0cmluZyhvcGVuaW5nQnJhY2VJbmRleCArIDEsIGNsb3NpbmdCcmFjZUluZGV4KTtcbiAgICAgICAgaWYgKHBhcmFtZXRlck5hbWUuaW5jbHVkZXMoXCIjXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBbcmVmTmFtZSwgYXR0ck5hbWVdID0gcGFyYW1ldGVyTmFtZS5zcGxpdChcIiNcIik7XG4gICAgICAgICAgICBldmFsdWF0ZWRUZW1wbGF0ZUFyci5wdXNoKGdldEF0dHIodGVtcGxhdGVDb250ZXh0W3JlZk5hbWVdLCBhdHRyTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZhbHVhdGVkVGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZUNvbnRleHRbcGFyYW1ldGVyTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRJbmRleCA9IGNsb3NpbmdCcmFjZUluZGV4ICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGV2YWx1YXRlZFRlbXBsYXRlQXJyLmpvaW4oXCJcIik7XG59O1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgY2FsbEZ1bmN0aW9uIH0gZnJvbSBcIi4vY2FsbEZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBldmFsdWF0ZVRlbXBsYXRlIH0gZnJvbSBcIi4vZXZhbHVhdGVUZW1wbGF0ZVwiO1xuaW1wb3J0IHsgZ2V0UmVmZXJlbmNlVmFsdWUgfSBmcm9tIFwiLi9nZXRSZWZlcmVuY2VWYWx1ZVwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlRXhwcmVzc2lvbiA9IChvYmosIGtleU5hbWUsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXZhbHVhdGVUZW1wbGF0ZShvYmosIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmpbXCJmblwiXSkge1xuICAgICAgICByZXR1cm4gY2FsbEZ1bmN0aW9uKG9iaiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9ialtcInJlZlwiXSkge1xuICAgICAgICByZXR1cm4gZ2V0UmVmZXJlbmNlVmFsdWUob2JqLCBvcHRpb25zKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYCcke2tleU5hbWV9JzogJHtTdHJpbmcob2JqKX0gaXMgbm90IGEgc3RyaW5nLCBmdW5jdGlvbiBvciByZWZlcmVuY2UuYCk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFJlZmVyZW5jZVZhbHVlID0gKHsgcmVmIH0sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCByZWZlcmVuY2VSZWNvcmQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLFxuICAgIH07XG4gICAgcmV0dXJuIHJlZmVyZW5jZVJlY29yZFtyZWZdO1xufTtcbiIsImltcG9ydCB7IGN1c3RvbUVuZHBvaW50RnVuY3Rpb25zIH0gZnJvbSBcIi4vY3VzdG9tRW5kcG9pbnRGdW5jdGlvbnNcIjtcbmltcG9ydCB7IGVuZHBvaW50RnVuY3Rpb25zIH0gZnJvbSBcIi4vZW5kcG9pbnRGdW5jdGlvbnNcIjtcbmltcG9ydCB7IGV2YWx1YXRlRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V2YWx1YXRlRXhwcmVzc2lvblwiO1xuZXhwb3J0IGNvbnN0IGNhbGxGdW5jdGlvbiA9ICh7IGZuLCBhcmd2IH0sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBldmFsdWF0ZWRBcmdzID0gYXJndi5tYXAoKGFyZykgPT4gW1wiYm9vbGVhblwiLCBcIm51bWJlclwiXS5pbmNsdWRlcyh0eXBlb2YgYXJnKSA/IGFyZyA6IGV2YWx1YXRlRXhwcmVzc2lvbihhcmcsIFwiYXJnXCIsIG9wdGlvbnMpKTtcbiAgICBjb25zdCBmblNlZ21lbnRzID0gZm4uc3BsaXQoXCIuXCIpO1xuICAgIGlmIChmblNlZ21lbnRzWzBdIGluIGN1c3RvbUVuZHBvaW50RnVuY3Rpb25zICYmIGZuU2VnbWVudHNbMV0gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY3VzdG9tRW5kcG9pbnRGdW5jdGlvbnNbZm5TZWdtZW50c1swXV1bZm5TZWdtZW50c1sxXV0oLi4uZXZhbHVhdGVkQXJncyk7XG4gICAgfVxuICAgIHJldHVybiBlbmRwb2ludEZ1bmN0aW9uc1tmbl0oLi4uZXZhbHVhdGVkQXJncyk7XG59O1xuIiwiaW1wb3J0IHsgZGVidWdJZCwgdG9EZWJ1Z1N0cmluZyB9IGZyb20gXCIuLi9kZWJ1Z1wiO1xuaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgY2FsbEZ1bmN0aW9uIH0gZnJvbSBcIi4vY2FsbEZ1bmN0aW9uXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVDb25kaXRpb24gPSAoeyBhc3NpZ24sIC4uLmZuQXJncyB9LCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKGFzc2lnbiAmJiBhc3NpZ24gaW4gb3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYCcke2Fzc2lnbn0nIGlzIGFscmVhZHkgZGVmaW5lZCBpbiBSZWZlcmVuY2UgUmVjb3JkLmApO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IGNhbGxGdW5jdGlvbihmbkFyZ3MsIG9wdGlvbnMpO1xuICAgIG9wdGlvbnMubG9nZ2VyPy5kZWJ1Zz8uKGRlYnVnSWQsIGBldmFsdWF0ZUNvbmRpdGlvbjogJHt0b0RlYnVnU3RyaW5nKGZuQXJncyl9ID0gJHt0b0RlYnVnU3RyaW5nKHZhbHVlKX1gKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHZhbHVlID09PSBcIlwiID8gdHJ1ZSA6ICEhdmFsdWUsXG4gICAgICAgIC4uLihhc3NpZ24gIT0gbnVsbCAmJiB7IHRvQXNzaWduOiB7IG5hbWU6IGFzc2lnbiwgdmFsdWUgfSB9KSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IGRlYnVnSWQsIHRvRGVidWdTdHJpbmcgfSBmcm9tIFwiLi4vZGVidWdcIjtcbmltcG9ydCB7IGV2YWx1YXRlQ29uZGl0aW9uIH0gZnJvbSBcIi4vZXZhbHVhdGVDb25kaXRpb25cIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZUNvbmRpdGlvbnMgPSAoY29uZGl0aW9ucyA9IFtdLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY29uZGl0aW9uc1JlZmVyZW5jZVJlY29yZCA9IHt9O1xuICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIGNvbmRpdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyByZXN1bHQsIHRvQXNzaWduIH0gPSBldmFsdWF0ZUNvbmRpdGlvbihjb25kaXRpb24sIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICByZWZlcmVuY2VSZWNvcmQ6IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLnJlZmVyZW5jZVJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5jb25kaXRpb25zUmVmZXJlbmNlUmVjb3JkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHQgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9Bc3NpZ24pIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbnNSZWZlcmVuY2VSZWNvcmRbdG9Bc3NpZ24ubmFtZV0gPSB0b0Fzc2lnbi52YWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyPy5kZWJ1Zz8uKGRlYnVnSWQsIGBhc3NpZ246ICR7dG9Bc3NpZ24ubmFtZX0gOj0gJHt0b0RlYnVnU3RyaW5nKHRvQXNzaWduLnZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyByZXN1bHQ6IHRydWUsIHJlZmVyZW5jZVJlY29yZDogY29uZGl0aW9uc1JlZmVyZW5jZVJlY29yZCB9O1xufTtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV2YWx1YXRlRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V2YWx1YXRlRXhwcmVzc2lvblwiO1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50SGVhZGVycyA9IChoZWFkZXJzLCBvcHRpb25zKSA9PiBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5yZWR1Y2UoKGFjYywgW2hlYWRlcktleSwgaGVhZGVyVmFsXSkgPT4gKHtcbiAgICAuLi5hY2MsXG4gICAgW2hlYWRlcktleV06IGhlYWRlclZhbC5tYXAoKGhlYWRlclZhbEVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZEV4cHIgPSBldmFsdWF0ZUV4cHJlc3Npb24oaGVhZGVyVmFsRW50cnksIFwiSGVhZGVyIHZhbHVlIGVudHJ5XCIsIG9wdGlvbnMpO1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3NlZEV4cHIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBIZWFkZXIgJyR7aGVhZGVyS2V5fScgdmFsdWUgJyR7cHJvY2Vzc2VkRXhwcn0nIGlzIG5vdCBhIHN0cmluZ2ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRFeHByO1xuICAgIH0pLFxufSksIHt9KTtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV2YWx1YXRlVGVtcGxhdGUgfSBmcm9tIFwiLi9ldmFsdWF0ZVRlbXBsYXRlXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludFByb3BlcnRpZXMgfSBmcm9tIFwiLi9nZXRFbmRwb2ludFByb3BlcnRpZXNcIjtcbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludFByb3BlcnR5ID0gKHByb3BlcnR5LCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eS5tYXAoKHByb3BlcnR5RW50cnkpID0+IGdldEVuZHBvaW50UHJvcGVydHkocHJvcGVydHlFbnRyeSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gZXZhbHVhdGVUZW1wbGF0ZShwcm9wZXJ0eSwgb3B0aW9ucyk7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBVbmV4cGVjdGVkIGVuZHBvaW50IHByb3BlcnR5OiAke3Byb3BlcnR5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldEVuZHBvaW50UHJvcGVydGllcyhwcm9wZXJ0eSwgb3B0aW9ucyk7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgVW5leHBlY3RlZCBlbmRwb2ludCBwcm9wZXJ0eSB0eXBlOiAke3R5cGVvZiBwcm9wZXJ0eX1gKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQcm9wZXJ0eSB9IGZyb20gXCIuL2dldEVuZHBvaW50UHJvcGVydHlcIjtcbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludFByb3BlcnRpZXMgPSAocHJvcGVydGllcywgb3B0aW9ucykgPT4gT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykucmVkdWNlKChhY2MsIFtwcm9wZXJ0eUtleSwgcHJvcGVydHlWYWxdKSA9PiAoe1xuICAgIC4uLmFjYyxcbiAgICBbcHJvcGVydHlLZXldOiBnZXRFbmRwb2ludFByb3BlcnR5KHByb3BlcnR5VmFsLCBvcHRpb25zKSxcbn0pLCB7fSk7XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9ldmFsdWF0ZUV4cHJlc3Npb25cIjtcbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludFVybCA9IChlbmRwb2ludFVybCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGV4cHJlc3Npb24gPSBldmFsdWF0ZUV4cHJlc3Npb24oZW5kcG9pbnRVcmwsIFwiRW5kcG9pbnQgVVJMXCIsIG9wdGlvbnMpO1xuICAgIGlmICh0eXBlb2YgZXhwcmVzc2lvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwoZXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY29uc3RydWN0IFVSTCB3aXRoICR7ZXhwcmVzc2lvbn1gLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgRW5kcG9pbnQgVVJMIG11c3QgYmUgYSBzdHJpbmcsIGdvdCAke3R5cGVvZiBleHByZXNzaW9ufWApO1xufTtcbiIsImltcG9ydCB7IGRlYnVnSWQsIHRvRGVidWdTdHJpbmcgfSBmcm9tIFwiLi4vZGVidWdcIjtcbmltcG9ydCB7IGV2YWx1YXRlQ29uZGl0aW9ucyB9IGZyb20gXCIuL2V2YWx1YXRlQ29uZGl0aW9uc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRIZWFkZXJzIH0gZnJvbSBcIi4vZ2V0RW5kcG9pbnRIZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludFByb3BlcnRpZXMgfSBmcm9tIFwiLi9nZXRFbmRwb2ludFByb3BlcnRpZXNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50VXJsIH0gZnJvbSBcIi4vZ2V0RW5kcG9pbnRVcmxcIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZUVuZHBvaW50UnVsZSA9IChlbmRwb2ludFJ1bGUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGNvbmRpdGlvbnMsIGVuZHBvaW50IH0gPSBlbmRwb2ludFJ1bGU7XG4gICAgY29uc3QgeyByZXN1bHQsIHJlZmVyZW5jZVJlY29yZCB9ID0gZXZhbHVhdGVDb25kaXRpb25zKGNvbmRpdGlvbnMsIG9wdGlvbnMpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW5kcG9pbnRSdWxlT3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgcmVmZXJlbmNlUmVjb3JkOiB7IC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLCAuLi5yZWZlcmVuY2VSZWNvcmQgfSxcbiAgICB9O1xuICAgIGNvbnN0IHsgdXJsLCBwcm9wZXJ0aWVzLCBoZWFkZXJzIH0gPSBlbmRwb2ludDtcbiAgICBvcHRpb25zLmxvZ2dlcj8uZGVidWc/LihkZWJ1Z0lkLCBgUmVzb2x2aW5nIGVuZHBvaW50IGZyb20gdGVtcGxhdGU6ICR7dG9EZWJ1Z1N0cmluZyhlbmRwb2ludCl9YCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uKGhlYWRlcnMgIT0gdW5kZWZpbmVkICYmIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGdldEVuZHBvaW50SGVhZGVycyhoZWFkZXJzLCBlbmRwb2ludFJ1bGVPcHRpb25zKSxcbiAgICAgICAgfSksXG4gICAgICAgIC4uLihwcm9wZXJ0aWVzICE9IHVuZGVmaW5lZCAmJiB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBnZXRFbmRwb2ludFByb3BlcnRpZXMocHJvcGVydGllcywgZW5kcG9pbnRSdWxlT3B0aW9ucyksXG4gICAgICAgIH0pLFxuICAgICAgICB1cmw6IGdldEVuZHBvaW50VXJsKHVybCwgZW5kcG9pbnRSdWxlT3B0aW9ucyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUNvbmRpdGlvbnMgfSBmcm9tIFwiLi9ldmFsdWF0ZUNvbmRpdGlvbnNcIjtcbmltcG9ydCB7IGV2YWx1YXRlRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V2YWx1YXRlRXhwcmVzc2lvblwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlRXJyb3JSdWxlID0gKGVycm9yUnVsZSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgY29uZGl0aW9ucywgZXJyb3IgfSA9IGVycm9yUnVsZTtcbiAgICBjb25zdCB7IHJlc3VsdCwgcmVmZXJlbmNlUmVjb3JkIH0gPSBldmFsdWF0ZUNvbmRpdGlvbnMoY29uZGl0aW9ucywgb3B0aW9ucyk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihldmFsdWF0ZUV4cHJlc3Npb24oZXJyb3IsIFwiRXJyb3JcIiwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICByZWZlcmVuY2VSZWNvcmQ6IHsgLi4ub3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQsIC4uLnJlZmVyZW5jZVJlY29yZCB9LFxuICAgIH0pKTtcbn07XG4iLCJpbXBvcnQgeyBldmFsdWF0ZUNvbmRpdGlvbnMgfSBmcm9tIFwiLi9ldmFsdWF0ZUNvbmRpdGlvbnNcIjtcbmltcG9ydCB7IGV2YWx1YXRlUnVsZXMgfSBmcm9tIFwiLi9ldmFsdWF0ZVJ1bGVzXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVUcmVlUnVsZSA9ICh0cmVlUnVsZSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgY29uZGl0aW9ucywgcnVsZXMgfSA9IHRyZWVSdWxlO1xuICAgIGNvbnN0IHsgcmVzdWx0LCByZWZlcmVuY2VSZWNvcmQgfSA9IGV2YWx1YXRlQ29uZGl0aW9ucyhjb25kaXRpb25zLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBldmFsdWF0ZVJ1bGVzKHJ1bGVzLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHJlZmVyZW5jZVJlY29yZDogeyAuLi5vcHRpb25zLnJlZmVyZW5jZVJlY29yZCwgLi4ucmVmZXJlbmNlUmVjb3JkIH0sXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVFbmRwb2ludFJ1bGUgfSBmcm9tIFwiLi9ldmFsdWF0ZUVuZHBvaW50UnVsZVwiO1xuaW1wb3J0IHsgZXZhbHVhdGVFcnJvclJ1bGUgfSBmcm9tIFwiLi9ldmFsdWF0ZUVycm9yUnVsZVwiO1xuaW1wb3J0IHsgZXZhbHVhdGVUcmVlUnVsZSB9IGZyb20gXCIuL2V2YWx1YXRlVHJlZVJ1bGVcIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZVJ1bGVzID0gKHJ1bGVzLCBvcHRpb25zKSA9PiB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHJ1bGVzKSB7XG4gICAgICAgIGlmIChydWxlLnR5cGUgPT09IFwiZW5kcG9pbnRcIikge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnRPclVuZGVmaW5lZCA9IGV2YWx1YXRlRW5kcG9pbnRSdWxlKHJ1bGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50T3JVbmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5kcG9pbnRPclVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChydWxlLnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgZXZhbHVhdGVFcnJvclJ1bGUocnVsZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVsZS50eXBlID09PSBcInRyZWVcIikge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnRPclVuZGVmaW5lZCA9IGV2YWx1YXRlVHJlZVJ1bGUocnVsZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRPclVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmRwb2ludE9yVW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYFVua25vd24gZW5kcG9pbnQgcnVsZTogJHtydWxlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBSdWxlcyBldmFsdWF0aW9uIGZhaWxlZGApO1xufTtcbiIsImltcG9ydCB7IGRlYnVnSWQsIHRvRGVidWdTdHJpbmcgfSBmcm9tIFwiLi9kZWJ1Z1wiO1xuaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBldmFsdWF0ZVJ1bGVzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlRW5kcG9pbnQgPSAocnVsZVNldE9iamVjdCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgZW5kcG9pbnRQYXJhbXMsIGxvZ2dlciB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IHBhcmFtZXRlcnMsIHJ1bGVzIH0gPSBydWxlU2V0T2JqZWN0O1xuICAgIG9wdGlvbnMubG9nZ2VyPy5kZWJ1Zz8uKGAke2RlYnVnSWR9IEluaXRpYWwgRW5kcG9pbnRQYXJhbXM6ICR7dG9EZWJ1Z1N0cmluZyhlbmRwb2ludFBhcmFtcyl9YCk7XG4gICAgY29uc3QgcGFyYW1zV2l0aERlZmF1bHQgPSBPYmplY3QuZW50cmllcyhwYXJhbWV0ZXJzKVxuICAgICAgICAuZmlsdGVyKChbLCB2XSkgPT4gdi5kZWZhdWx0ICE9IG51bGwpXG4gICAgICAgIC5tYXAoKFtrLCB2XSkgPT4gW2ssIHYuZGVmYXVsdF0pO1xuICAgIGlmIChwYXJhbXNXaXRoRGVmYXVsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3BhcmFtS2V5LCBwYXJhbURlZmF1bHRWYWx1ZV0gb2YgcGFyYW1zV2l0aERlZmF1bHQpIHtcbiAgICAgICAgICAgIGVuZHBvaW50UGFyYW1zW3BhcmFtS2V5XSA9IGVuZHBvaW50UGFyYW1zW3BhcmFtS2V5XSA/PyBwYXJhbURlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXF1aXJlZFBhcmFtcyA9IE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpXG4gICAgICAgIC5maWx0ZXIoKFssIHZdKSA9PiB2LnJlcXVpcmVkKVxuICAgICAgICAubWFwKChba10pID0+IGspO1xuICAgIGZvciAoY29uc3QgcmVxdWlyZWRQYXJhbSBvZiByZXF1aXJlZFBhcmFtcykge1xuICAgICAgICBpZiAoZW5kcG9pbnRQYXJhbXNbcmVxdWlyZWRQYXJhbV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyOiAnJHtyZXF1aXJlZFBhcmFtfSdgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGV2YWx1YXRlUnVsZXMocnVsZXMsIHsgZW5kcG9pbnRQYXJhbXMsIGxvZ2dlciwgcmVmZXJlbmNlUmVjb3JkOiB7fSB9KTtcbiAgICBpZiAob3B0aW9ucy5lbmRwb2ludFBhcmFtcz8uRW5kcG9pbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGdpdmVuRW5kcG9pbnQgPSBuZXcgVVJMKG9wdGlvbnMuZW5kcG9pbnRQYXJhbXMuRW5kcG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgcG9ydCB9ID0gZ2l2ZW5FbmRwb2ludDtcbiAgICAgICAgICAgIGVuZHBvaW50LnVybC5wcm90b2NvbCA9IHByb3RvY29sO1xuICAgICAgICAgICAgZW5kcG9pbnQudXJsLnBvcnQgPSBwb3J0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnPy4oYCR7ZGVidWdJZH0gUmVzb2x2ZWQgZW5kcG9pbnQ6ICR7dG9EZWJ1Z1N0cmluZyhlbmRwb2ludCl9YCk7XG4gICAgcmV0dXJuIGVuZHBvaW50O1xufTtcbiIsImltcG9ydCB7IGlzVmFsaWRIb3N0TGFiZWwgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgaXNJcEFkZHJlc3MgfSBmcm9tIFwiLi4vaXNJcEFkZHJlc3NcIjtcbmV4cG9ydCBjb25zdCBpc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0ID0gKHZhbHVlLCBhbGxvd1N1YkRvbWFpbnMgPSBmYWxzZSkgPT4ge1xuICAgIGlmIChhbGxvd1N1YkRvbWFpbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBsYWJlbCBvZiB2YWx1ZS5zcGxpdChcIi5cIikpIHtcbiAgICAgICAgICAgIGlmICghaXNWaXJ0dWFsSG9zdGFibGVTM0J1Y2tldChsYWJlbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghaXNWYWxpZEhvc3RMYWJlbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUubGVuZ3RoIDwgMyB8fCB2YWx1ZS5sZW5ndGggPiA2Mykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gdmFsdWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc0lwQWRkcmVzcyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4iLCJpbXBvcnQgcGFydGl0aW9uc0luZm8gZnJvbSBcIi4vcGFydGl0aW9ucy5qc29uXCI7XG5sZXQgc2VsZWN0ZWRQYXJ0aXRpb25zSW5mbyA9IHBhcnRpdGlvbnNJbmZvO1xubGV0IHNlbGVjdGVkVXNlckFnZW50UHJlZml4ID0gXCJcIjtcbmV4cG9ydCBjb25zdCBwYXJ0aXRpb24gPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpdGlvbnMgfSA9IHNlbGVjdGVkUGFydGl0aW9uc0luZm87XG4gICAgZm9yIChjb25zdCBwYXJ0aXRpb24gb2YgcGFydGl0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlZ2lvbnMsIG91dHB1dHMgfSA9IHBhcnRpdGlvbjtcbiAgICAgICAgZm9yIChjb25zdCBbcmVnaW9uLCByZWdpb25EYXRhXSBvZiBPYmplY3QuZW50cmllcyhyZWdpb25zKSkge1xuICAgICAgICAgICAgaWYgKHJlZ2lvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5vdXRwdXRzLFxuICAgICAgICAgICAgICAgICAgICAuLi5yZWdpb25EYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXJ0aXRpb24gb2YgcGFydGl0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlZ2lvblJlZ2V4LCBvdXRwdXRzIH0gPSBwYXJ0aXRpb247XG4gICAgICAgIGlmIChuZXcgUmVnRXhwKHJlZ2lvblJlZ2V4KS50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5vdXRwdXRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBERUZBVUxUX1BBUlRJVElPTiA9IHBhcnRpdGlvbnMuZmluZCgocGFydGl0aW9uKSA9PiBwYXJ0aXRpb24uaWQgPT09IFwiYXdzXCIpO1xuICAgIGlmICghREVGQVVMVF9QQVJUSVRJT04pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZWQgcmVnaW9uIHdhcyBub3QgZm91bmQgaW4gdGhlIHBhcnRpdGlvbiBhcnJheSBvciByZWdleCxcIiArXG4gICAgICAgICAgICBcIiBhbmQgZGVmYXVsdCBwYXJ0aXRpb24gd2l0aCBpZCAnYXdzJyBkb2Vzbid0IGV4aXN0LlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uREVGQVVMVF9QQVJUSVRJT04ub3V0cHV0cyxcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBzZXRQYXJ0aXRpb25JbmZvID0gKHBhcnRpdGlvbnNJbmZvLCB1c2VyQWdlbnRQcmVmaXggPSBcIlwiKSA9PiB7XG4gICAgc2VsZWN0ZWRQYXJ0aXRpb25zSW5mbyA9IHBhcnRpdGlvbnNJbmZvO1xuICAgIHNlbGVjdGVkVXNlckFnZW50UHJlZml4ID0gdXNlckFnZW50UHJlZml4O1xufTtcbmV4cG9ydCBjb25zdCB1c2VEZWZhdWx0UGFydGl0aW9uSW5mbyA9ICgpID0+IHtcbiAgICBzZXRQYXJ0aXRpb25JbmZvKHBhcnRpdGlvbnNJbmZvLCBcIlwiKTtcbn07XG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UHJlZml4ID0gKCkgPT4gc2VsZWN0ZWRVc2VyQWdlbnRQcmVmaXg7XG4iLCJpbXBvcnQgeyBjdXN0b21FbmRwb2ludEZ1bmN0aW9ucyB9IGZyb20gXCJAc21pdGh5L3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBpc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0IH0gZnJvbSBcIi4vbGliL2F3cy9pc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0XCI7XG5pbXBvcnQgeyBwYXJzZUFybiB9IGZyb20gXCIuL2xpYi9hd3MvcGFyc2VBcm5cIjtcbmltcG9ydCB7IHBhcnRpdGlvbiB9IGZyb20gXCIuL2xpYi9hd3MvcGFydGl0aW9uXCI7XG5jb25zdCBhd3NFbmRwb2ludEZ1bmN0aW9ucyA9IHtcbiAgICBpc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0OiBpc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0LFxuICAgIHBhcnNlQXJuOiBwYXJzZUFybixcbiAgICBwYXJ0aXRpb246IHBhcnRpdGlvbixcbn07XG5jdXN0b21FbmRwb2ludEZ1bmN0aW9ucy5hd3MgPSBhd3NFbmRwb2ludEZ1bmN0aW9ucztcbiIsImV4cG9ydCBjb25zdCBwYXJzZUFybiA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gdmFsdWUuc3BsaXQoXCI6XCIpO1xuICAgIGlmIChzZWdtZW50cy5sZW5ndGggPCA2KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBbYXJuLCBwYXJ0aXRpb24sIHNlcnZpY2UsIHJlZ2lvbiwgYWNjb3VudElkLCAuLi5yZXNvdXJjZUlkXSA9IHNlZ21lbnRzO1xuICAgIGlmIChhcm4gIT09IFwiYXJuXCIgfHwgcGFydGl0aW9uID09PSBcIlwiIHx8IHNlcnZpY2UgPT09IFwiXCIgfHwgcmVzb3VyY2VJZFswXSA9PT0gXCJcIilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFydGl0aW9uLFxuICAgICAgICBzZXJ2aWNlLFxuICAgICAgICByZWdpb24sXG4gICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgcmVzb3VyY2VJZDogcmVzb3VyY2VJZFswXS5pbmNsdWRlcyhcIi9cIikgPyByZXNvdXJjZUlkWzBdLnNwbGl0KFwiL1wiKSA6IHJlc291cmNlSWQsXG4gICAgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgVVNFUl9BR0VOVCA9IFwidXNlci1hZ2VudFwiO1xuZXhwb3J0IGNvbnN0IFhfQU1aX1VTRVJfQUdFTlQgPSBcIngtYW16LXVzZXItYWdlbnRcIjtcbmV4cG9ydCBjb25zdCBTUEFDRSA9IFwiIFwiO1xuZXhwb3J0IGNvbnN0IFVBX05BTUVfU0VQQVJBVE9SID0gXCIvXCI7XG5leHBvcnQgY29uc3QgVUFfTkFNRV9FU0NBUEVfUkVHRVggPSAvW15cXCFcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC5cXF5cXF9cXGBcXHxcXH5cXGRcXHddL2c7XG5leHBvcnQgY29uc3QgVUFfVkFMVUVfRVNDQVBFX1JFR0VYID0gL1teXFwhXFwkXFwlXFwmXFwnXFwqXFwrXFwtXFwuXFxeXFxfXFxgXFx8XFx+XFxkXFx3XFwjXS9nO1xuZXhwb3J0IGNvbnN0IFVBX0VTQ0FQRV9DSEFSID0gXCItXCI7XG4iLCJpbXBvcnQgeyBnZXRVc2VyQWdlbnRQcmVmaXggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgU1BBQ0UsIFVBX0VTQ0FQRV9DSEFSLCBVQV9OQU1FX0VTQ0FQRV9SRUdFWCwgVUFfTkFNRV9TRVBBUkFUT1IsIFVBX1ZBTFVFX0VTQ0FQRV9SRUdFWCwgVVNFUl9BR0VOVCwgWF9BTVpfVVNFUl9BR0VOVCwgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCB1c2VyQWdlbnRNaWRkbGV3YXJlID0gKG9wdGlvbnMpID0+IChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpXG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB1c2VyQWdlbnQgPSBjb250ZXh0Py51c2VyQWdlbnQ/Lm1hcChlc2NhcGVVc2VyQWdlbnQpIHx8IFtdO1xuICAgIGNvbnN0IGRlZmF1bHRVc2VyQWdlbnQgPSAoYXdhaXQgb3B0aW9ucy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIoKSkubWFwKGVzY2FwZVVzZXJBZ2VudCk7XG4gICAgY29uc3QgY3VzdG9tVXNlckFnZW50ID0gb3B0aW9ucz8uY3VzdG9tVXNlckFnZW50Py5tYXAoZXNjYXBlVXNlckFnZW50KSB8fCBbXTtcbiAgICBjb25zdCBwcmVmaXggPSBnZXRVc2VyQWdlbnRQcmVmaXgoKTtcbiAgICBjb25zdCBzZGtVc2VyQWdlbnRWYWx1ZSA9IChwcmVmaXggPyBbcHJlZml4XSA6IFtdKVxuICAgICAgICAuY29uY2F0KFsuLi5kZWZhdWx0VXNlckFnZW50LCAuLi51c2VyQWdlbnQsIC4uLmN1c3RvbVVzZXJBZ2VudF0pXG4gICAgICAgIC5qb2luKFNQQUNFKTtcbiAgICBjb25zdCBub3JtYWxVQVZhbHVlID0gW1xuICAgICAgICAuLi5kZWZhdWx0VXNlckFnZW50LmZpbHRlcigoc2VjdGlvbikgPT4gc2VjdGlvbi5zdGFydHNXaXRoKFwiYXdzLXNkay1cIikpLFxuICAgICAgICAuLi5jdXN0b21Vc2VyQWdlbnQsXG4gICAgXS5qb2luKFNQQUNFKTtcbiAgICBpZiAob3B0aW9ucy5ydW50aW1lICE9PSBcImJyb3dzZXJcIikge1xuICAgICAgICBpZiAobm9ybWFsVUFWYWx1ZSkge1xuICAgICAgICAgICAgaGVhZGVyc1tYX0FNWl9VU0VSX0FHRU5UXSA9IGhlYWRlcnNbWF9BTVpfVVNFUl9BR0VOVF1cbiAgICAgICAgICAgICAgICA/IGAke2hlYWRlcnNbVVNFUl9BR0VOVF19ICR7bm9ybWFsVUFWYWx1ZX1gXG4gICAgICAgICAgICAgICAgOiBub3JtYWxVQVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGhlYWRlcnNbVVNFUl9BR0VOVF0gPSBzZGtVc2VyQWdlbnRWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGhlYWRlcnNbWF9BTVpfVVNFUl9BR0VOVF0gPSBzZGtVc2VyQWdlbnRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgICAuLi5hcmdzLFxuICAgICAgICByZXF1ZXN0LFxuICAgIH0pO1xufTtcbmNvbnN0IGVzY2FwZVVzZXJBZ2VudCA9ICh1c2VyQWdlbnRQYWlyKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IHVzZXJBZ2VudFBhaXJbMF1cbiAgICAgICAgLnNwbGl0KFVBX05BTUVfU0VQQVJBVE9SKVxuICAgICAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LnJlcGxhY2UoVUFfTkFNRV9FU0NBUEVfUkVHRVgsIFVBX0VTQ0FQRV9DSEFSKSlcbiAgICAgICAgLmpvaW4oVUFfTkFNRV9TRVBBUkFUT1IpO1xuICAgIGNvbnN0IHZlcnNpb24gPSB1c2VyQWdlbnRQYWlyWzFdPy5yZXBsYWNlKFVBX1ZBTFVFX0VTQ0FQRV9SRUdFWCwgVUFfRVNDQVBFX0NIQVIpO1xuICAgIGNvbnN0IHByZWZpeFNlcGFyYXRvckluZGV4ID0gbmFtZS5pbmRleE9mKFVBX05BTUVfU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwcmVmaXggPSBuYW1lLnN1YnN0cmluZygwLCBwcmVmaXhTZXBhcmF0b3JJbmRleCk7XG4gICAgbGV0IHVhTmFtZSA9IG5hbWUuc3Vic3RyaW5nKHByZWZpeFNlcGFyYXRvckluZGV4ICsgMSk7XG4gICAgaWYgKHByZWZpeCA9PT0gXCJhcGlcIikge1xuICAgICAgICB1YU5hbWUgPSB1YU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIFtwcmVmaXgsIHVhTmFtZSwgdmVyc2lvbl1cbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAmJiBpdGVtLmxlbmd0aCA+IDApXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgc3dpdGNoIChpbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHthY2N9LyR7aXRlbX1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7YWNjfSMke2l0ZW19YDtcbiAgICAgICAgfVxuICAgIH0sIFwiXCIpO1xufTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyQWdlbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImdldFVzZXJBZ2VudE1pZGRsZXdhcmVcIixcbiAgICBzdGVwOiBcImJ1aWxkXCIsXG4gICAgcHJpb3JpdHk6IFwibG93XCIsXG4gICAgdGFnczogW1wiU0VUX1VTRVJfQUdFTlRcIiwgXCJVU0VSX0FHRU5UXCJdLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyQWdlbnRQbHVnaW4gPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZCh1c2VyQWdlbnRNaWRkbGV3YXJlKGNvbmZpZyksIGdldFVzZXJBZ2VudE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJleHBvcnQgdmFyIFNlbGVjdG9yVHlwZTtcbihmdW5jdGlvbiAoU2VsZWN0b3JUeXBlKSB7XG4gICAgU2VsZWN0b3JUeXBlW1wiRU5WXCJdID0gXCJlbnZcIjtcbiAgICBTZWxlY3RvclR5cGVbXCJDT05GSUdcIl0gPSBcInNoYXJlZCBjb25maWcgZW50cnlcIjtcbn0pKFNlbGVjdG9yVHlwZSB8fCAoU2VsZWN0b3JUeXBlID0ge30pKTtcbmV4cG9ydCBjb25zdCBib29sZWFuU2VsZWN0b3IgPSAob2JqLCBrZXksIHR5cGUpID0+IHtcbiAgICBpZiAoIShrZXkgaW4gb2JqKSlcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAob2JqW2tleV0gPT09IFwidHJ1ZVwiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAob2JqW2tleV0gPT09IFwiZmFsc2VcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvYWQgJHt0eXBlfSBcIiR7a2V5fVwiLiBFeHBlY3RlZCBcInRydWVcIiBvciBcImZhbHNlXCIsIGdvdCAke29ialtrZXldfS5gKTtcbn07XG4iLCJpbXBvcnQgeyBib29sZWFuU2VsZWN0b3IsIFNlbGVjdG9yVHlwZSB9IGZyb20gXCJAc21pdGh5L3V0aWwtY29uZmlnLXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgRU5WX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQgPSBcIkFXU19VU0VfRFVBTFNUQUNLX0VORFBPSU5UXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQgPSBcInVzZV9kdWFsc3RhY2tfZW5kcG9pbnRcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMgPSB7XG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiBib29sZWFuU2VsZWN0b3IoZW52LCBFTlZfVVNFX0RVQUxTVEFDS19FTkRQT0lOVCwgU2VsZWN0b3JUeXBlLkVOViksXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gYm9vbGVhblNlbGVjdG9yKHByb2ZpbGUsIENPTkZJR19VU0VfRFVBTFNUQUNLX0VORFBPSU5ULCBTZWxlY3RvclR5cGUuQ09ORklHKSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbn07XG4iLCJpbXBvcnQgeyBib29sZWFuU2VsZWN0b3IsIFNlbGVjdG9yVHlwZSB9IGZyb20gXCJAc21pdGh5L3V0aWwtY29uZmlnLXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgRU5WX1VTRV9GSVBTX0VORFBPSU5UID0gXCJBV1NfVVNFX0ZJUFNfRU5EUE9JTlRcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfVVNFX0ZJUFNfRU5EUE9JTlQgPSBcInVzZV9maXBzX2VuZHBvaW50XCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9VU0VfRklQU19FTkRQT0lOVCA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMgPSB7XG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiBib29sZWFuU2VsZWN0b3IoZW52LCBFTlZfVVNFX0ZJUFNfRU5EUE9JTlQsIFNlbGVjdG9yVHlwZS5FTlYpLFxuICAgIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IGJvb2xlYW5TZWxlY3Rvcihwcm9maWxlLCBDT05GSUdfVVNFX0ZJUFNfRU5EUE9JTlQsIFNlbGVjdG9yVHlwZS5DT05GSUcpLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxufTtcbiIsImV4cG9ydCBjb25zdCBSRUdJT05fRU5WX05BTUUgPSBcIkFXU19SRUdJT05cIjtcbmV4cG9ydCBjb25zdCBSRUdJT05fSU5JX05BTUUgPSBcInJlZ2lvblwiO1xuZXhwb3J0IGNvbnN0IE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gZW52W1JFR0lPTl9FTlZfTkFNRV0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtSRUdJT05fSU5JX05BTUVdLFxuICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIGlzIG1pc3NpbmdcIik7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyA9IHtcbiAgICBwcmVmZXJyZWRGaWxlOiBcImNyZWRlbnRpYWxzXCIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IGlzRmlwc1JlZ2lvbiA9IChyZWdpb24pID0+IHR5cGVvZiByZWdpb24gPT09IFwic3RyaW5nXCIgJiYgKHJlZ2lvbi5zdGFydHNXaXRoKFwiZmlwcy1cIikgfHwgcmVnaW9uLmVuZHNXaXRoKFwiLWZpcHNcIikpO1xuIiwiaW1wb3J0IHsgaXNGaXBzUmVnaW9uIH0gZnJvbSBcIi4vaXNGaXBzUmVnaW9uXCI7XG5leHBvcnQgY29uc3QgZ2V0UmVhbFJlZ2lvbiA9IChyZWdpb24pID0+IGlzRmlwc1JlZ2lvbihyZWdpb24pXG4gICAgPyBbXCJmaXBzLWF3cy1nbG9iYWxcIiwgXCJhd3MtZmlwc1wiXS5pbmNsdWRlcyhyZWdpb24pXG4gICAgICAgID8gXCJ1cy1lYXN0LTFcIlxuICAgICAgICA6IHJlZ2lvbi5yZXBsYWNlKC9maXBzLShka3ItfHByb2QtKT98LWZpcHMvLCBcIlwiKVxuICAgIDogcmVnaW9uO1xuIiwiaW1wb3J0IHsgZ2V0UmVhbFJlZ2lvbiB9IGZyb20gXCIuL2dldFJlYWxSZWdpb25cIjtcbmltcG9ydCB7IGlzRmlwc1JlZ2lvbiB9IGZyb20gXCIuL2lzRmlwc1JlZ2lvblwiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVSZWdpb25Db25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IHJlZ2lvbiwgdXNlRmlwc0VuZHBvaW50IH0gPSBpbnB1dDtcbiAgICBpZiAoIXJlZ2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb24gaXMgbWlzc2luZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIHJlZ2lvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWdpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UmVhbFJlZ2lvbihyZWdpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZWRSZWdpb24gPSBhd2FpdCByZWdpb24oKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRSZWFsUmVnaW9uKHByb3ZpZGVkUmVnaW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlZFJlZ2lvbiA9IHR5cGVvZiByZWdpb24gPT09IFwic3RyaW5nXCIgPyByZWdpb24gOiBhd2FpdCByZWdpb24oKTtcbiAgICAgICAgICAgIGlmIChpc0ZpcHNSZWdpb24ocHJvdmlkZWRSZWdpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHVzZUZpcHNFbmRwb2ludCAhPT0gXCJmdW5jdGlvblwiID8gUHJvbWlzZS5yZXNvbHZlKCEhdXNlRmlwc0VuZHBvaW50KSA6IHVzZUZpcHNFbmRwb2ludCgpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5jb25zdCBDT05URU5UX0xFTkdUSF9IRUFERVIgPSBcImNvbnRlbnQtbGVuZ3RoXCI7XG5leHBvcnQgZnVuY3Rpb24gY29udGVudExlbmd0aE1pZGRsZXdhcmUoYm9keUxlbmd0aENoZWNrZXIpIHtcbiAgICByZXR1cm4gKG5leHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBhcmdzLnJlcXVlc3Q7XG4gICAgICAgIGlmIChIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGJvZHksIGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBpZiAoYm9keSAmJlxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHN0cikgPT4gc3RyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKENPTlRFTlRfTEVOR1RIX0hFQURFUikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gYm9keUxlbmd0aENoZWNrZXIoYm9keSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtDT05URU5UX0xFTkdUSF9IRUFERVJdOiBTdHJpbmcobGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBzdGVwOiBcImJ1aWxkXCIsXG4gICAgdGFnczogW1wiU0VUX0NPTlRFTlRfTEVOR1RIXCIsIFwiQ09OVEVOVF9MRU5HVEhcIl0sXG4gICAgbmFtZTogXCJjb250ZW50TGVuZ3RoTWlkZGxld2FyZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRDb250ZW50TGVuZ3RoUGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlKG9wdGlvbnMuYm9keUxlbmd0aENoZWNrZXIpLCBjb250ZW50TGVuZ3RoTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiIsImV4cG9ydCBjb25zdCByZXNvbHZlUGFyYW1zRm9yUzMgPSBhc3luYyAoZW5kcG9pbnRQYXJhbXMpID0+IHtcbiAgICBjb25zdCBidWNrZXQgPSBlbmRwb2ludFBhcmFtcz8uQnVja2V0IHx8IFwiXCI7XG4gICAgaWYgKHR5cGVvZiBlbmRwb2ludFBhcmFtcy5CdWNrZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXMuQnVja2V0ID0gYnVja2V0LnJlcGxhY2UoLyMvZywgZW5jb2RlVVJJQ29tcG9uZW50KFwiI1wiKSkucmVwbGFjZSgvXFw/L2csIGVuY29kZVVSSUNvbXBvbmVudChcIj9cIikpO1xuICAgIH1cbiAgICBpZiAoaXNBcm5CdWNrZXROYW1lKGJ1Y2tldCkpIHtcbiAgICAgICAgaWYgKGVuZHBvaW50UGFyYW1zLkZvcmNlUGF0aFN0eWxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoLXN0eWxlIGFkZHJlc3NpbmcgY2Fubm90IGJlIHVzZWQgd2l0aCBBUk4gYnVja2V0c1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICghaXNEbnNDb21wYXRpYmxlQnVja2V0TmFtZShidWNrZXQpIHx8XG4gICAgICAgIChidWNrZXQuaW5kZXhPZihcIi5cIikgIT09IC0xICYmICFTdHJpbmcoZW5kcG9pbnRQYXJhbXMuRW5kcG9pbnQpLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSkgfHxcbiAgICAgICAgYnVja2V0LnRvTG93ZXJDYXNlKCkgIT09IGJ1Y2tldCB8fFxuICAgICAgICBidWNrZXQubGVuZ3RoIDwgMykge1xuICAgICAgICBlbmRwb2ludFBhcmFtcy5Gb3JjZVBhdGhTdHlsZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChlbmRwb2ludFBhcmFtcy5EaXNhYmxlTXVsdGlSZWdpb25BY2Nlc3NQb2ludHMpIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXMuZGlzYWJsZU11bHRpUmVnaW9uQWNjZXNzUG9pbnRzID0gdHJ1ZTtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXMuRGlzYWJsZU1SQVAgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZW5kcG9pbnRQYXJhbXM7XG59O1xuY29uc3QgRE9NQUlOX1BBVFRFUk4gPSAvXlthLXowLTldW2EtejAtOVxcLlxcLV17MSw2MX1bYS16MC05XSQvO1xuY29uc3QgSVBfQUREUkVTU19QQVRURVJOID0gLyhcXGQrXFwuKXszfVxcZCsvO1xuY29uc3QgRE9UU19QQVRURVJOID0gL1xcLlxcLi87XG5leHBvcnQgY29uc3QgRE9UX1BBVFRFUk4gPSAvXFwuLztcbmV4cG9ydCBjb25zdCBTM19IT1NUTkFNRV9QQVRURVJOID0gL14oLitcXC4pP3MzKC1maXBzKT8oXFwuZHVhbHN0YWNrKT9bLi1dKFthLXowLTktXSspXFwuLztcbmV4cG9ydCBjb25zdCBpc0Ruc0NvbXBhdGlibGVCdWNrZXROYW1lID0gKGJ1Y2tldE5hbWUpID0+IERPTUFJTl9QQVRURVJOLnRlc3QoYnVja2V0TmFtZSkgJiYgIUlQX0FERFJFU1NfUEFUVEVSTi50ZXN0KGJ1Y2tldE5hbWUpICYmICFET1RTX1BBVFRFUk4udGVzdChidWNrZXROYW1lKTtcbmV4cG9ydCBjb25zdCBpc0FybkJ1Y2tldE5hbWUgPSAoYnVja2V0TmFtZSkgPT4ge1xuICAgIGNvbnN0IFthcm4sIHBhcnRpdGlvbiwgc2VydmljZSwgcmVnaW9uLCBhY2NvdW50LCB0eXBlT3JJZF0gPSBidWNrZXROYW1lLnNwbGl0KFwiOlwiKTtcbiAgICBjb25zdCBpc0FybiA9IGFybiA9PT0gXCJhcm5cIiAmJiBidWNrZXROYW1lLnNwbGl0KFwiOlwiKS5sZW5ndGggPj0gNjtcbiAgICBjb25zdCBpc1ZhbGlkQXJuID0gW2FybiwgcGFydGl0aW9uLCBzZXJ2aWNlLCBhY2NvdW50LCB0eXBlT3JJZF0uZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA9PT0gNTtcbiAgICBpZiAoaXNBcm4gJiYgIWlzVmFsaWRBcm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEFSTjogJHtidWNrZXROYW1lfSB3YXMgYW4gaW52YWxpZCBBUk4uYCk7XG4gICAgfVxuICAgIHJldHVybiBhcm4gPT09IFwiYXJuXCIgJiYgISFwYXJ0aXRpb24gJiYgISFzZXJ2aWNlICYmICEhYWNjb3VudCAmJiAhIXR5cGVPcklkO1xufTtcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVDb25maWdWYWx1ZVByb3ZpZGVyID0gKGNvbmZpZ0tleSwgY2Fub25pY2FsRW5kcG9pbnRQYXJhbUtleSwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgY29uZmlnUHJvdmlkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gY29uZmlnW2NvbmZpZ0tleV0gPz8gY29uZmlnW2Nhbm9uaWNhbEVuZHBvaW50UGFyYW1LZXldO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ1ZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWdWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWdWYWx1ZTtcbiAgICB9O1xuICAgIGlmIChjb25maWdLZXkgPT09IFwiZW5kcG9pbnRcIiB8fCBjYW5vbmljYWxFbmRwb2ludFBhcmFtS2V5ID09PSBcImVuZHBvaW50XCIpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYXdhaXQgY29uZmlnUHJvdmlkZXIoKTtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludCAmJiB0eXBlb2YgZW5kcG9pbnQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJ1cmxcIiBpbiBlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQudXJsLmhyZWY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcImhvc3RuYW1lXCIgaW4gZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIHBhdGggfSA9IGVuZHBvaW50O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfSR7cG9ydCA/IFwiOlwiICsgcG9ydCA6IFwiXCJ9JHtwYXRofWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50O1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnUHJvdmlkZXI7XG59O1xuIiwiZXhwb3J0IGNsYXNzIFByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgdHJ5TmV4dExpbmsgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnRyeU5leHRMaW5rID0gdHJ5TmV4dExpbms7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUHJvdmlkZXJFcnJvclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUHJvdmlkZXJFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShlcnJvciwgdHJ5TmV4dExpbmsgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyB0aGlzKGVycm9yLm1lc3NhZ2UsIHRyeU5leHRMaW5rKSwgZXJyb3IpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiLi9Qcm92aWRlckVycm9yXCI7XG5leHBvcnQgY29uc3QgY2hhaW4gPSAoLi4ucHJvdmlkZXJzKSA9PiBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHByb3ZpZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFByb3ZpZGVyRXJyb3IoXCJObyBwcm92aWRlcnMgaW4gY2hhaW5cIik7XG4gICAgfVxuICAgIGxldCBsYXN0UHJvdmlkZXJFcnJvcjtcbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIHByb3ZpZGVycykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCBwcm92aWRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWxzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxhc3RQcm92aWRlckVycm9yID0gZXJyO1xuICAgICAgICAgICAgaWYgKGVycj8udHJ5TmV4dExpbmspIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBsYXN0UHJvdmlkZXJFcnJvcjtcbn07XG4iLCJpbXBvcnQgeyBQcm92aWRlckVycm9yIH0gZnJvbSBcIi4vUHJvdmlkZXJFcnJvclwiO1xuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciBleHRlbmRzIFByb3ZpZGVyRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRyeU5leHRMaW5rID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB0cnlOZXh0TGluayk7XG4gICAgICAgIHRoaXMudHJ5TmV4dExpbmsgPSB0cnlOZXh0TGluaztcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3JcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgZnJvbUVudiA9IChlbnZWYXJTZWxlY3RvcikgPT4gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGVudlZhclNlbGVjdG9yKHByb2Nlc3MuZW52KTtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGUubWVzc2FnZSB8fCBgQ2Fubm90IGxvYWQgY29uZmlnIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzIHdpdGggZ2V0dGVyOiAke2VudlZhclNlbGVjdG9yfWApO1xuICAgIH1cbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm9zXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicGF0aFwiKTsiLCJpbXBvcnQgeyBob21lZGlyIH0gZnJvbSBcIm9zXCI7XG5pbXBvcnQgeyBzZXAgfSBmcm9tIFwicGF0aFwiO1xuY29uc3QgaG9tZURpckNhY2hlID0ge307XG5jb25zdCBnZXRIb21lRGlyQ2FjaGVLZXkgPSAoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MgJiYgcHJvY2Vzcy5nZXRldWlkKSB7XG4gICAgICAgIHJldHVybiBgJHtwcm9jZXNzLmdldGV1aWQoKX1gO1xuICAgIH1cbiAgICByZXR1cm4gXCJERUZBVUxUXCI7XG59O1xuZXhwb3J0IGNvbnN0IGdldEhvbWVEaXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBIT01FLCBVU0VSUFJPRklMRSwgSE9NRVBBVEgsIEhPTUVEUklWRSA9IGBDOiR7c2VwfWAgfSA9IHByb2Nlc3MuZW52O1xuICAgIGlmIChIT01FKVxuICAgICAgICByZXR1cm4gSE9NRTtcbiAgICBpZiAoVVNFUlBST0ZJTEUpXG4gICAgICAgIHJldHVybiBVU0VSUFJPRklMRTtcbiAgICBpZiAoSE9NRVBBVEgpXG4gICAgICAgIHJldHVybiBgJHtIT01FRFJJVkV9JHtIT01FUEFUSH1gO1xuICAgIGNvbnN0IGhvbWVEaXJDYWNoZUtleSA9IGdldEhvbWVEaXJDYWNoZUtleSgpO1xuICAgIGlmICghaG9tZURpckNhY2hlW2hvbWVEaXJDYWNoZUtleV0pXG4gICAgICAgIGhvbWVEaXJDYWNoZVtob21lRGlyQ2FjaGVLZXldID0gaG9tZWRpcigpO1xuICAgIHJldHVybiBob21lRGlyQ2FjaGVbaG9tZURpckNhY2hlS2V5XTtcbn07XG4iLCJleHBvcnQgY29uc3QgRU5WX1BST0ZJTEUgPSBcIkFXU19QUk9GSUxFXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QUk9GSUxFID0gXCJkZWZhdWx0XCI7XG5leHBvcnQgY29uc3QgZ2V0UHJvZmlsZU5hbWUgPSAoaW5pdCkgPT4gaW5pdC5wcm9maWxlIHx8IHByb2Nlc3MuZW52W0VOVl9QUk9GSUxFXSB8fCBERUZBVUxUX1BST0ZJTEU7XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImNyeXB0b1wiKTsiLCJpbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZXRIb21lRGlyIH0gZnJvbSBcIi4vZ2V0SG9tZURpclwiO1xuZXhwb3J0IGNvbnN0IGdldFNTT1Rva2VuRmlsZXBhdGggPSAoaWQpID0+IHtcbiAgICBjb25zdCBoYXNoZXIgPSBjcmVhdGVIYXNoKFwic2hhMVwiKTtcbiAgICBjb25zdCBjYWNoZU5hbWUgPSBoYXNoZXIudXBkYXRlKGlkKS5kaWdlc3QoXCJoZXhcIik7XG4gICAgcmV0dXJuIGpvaW4oZ2V0SG9tZURpcigpLCBcIi5hd3NcIiwgXCJzc29cIiwgXCJjYWNoZVwiLCBgJHtjYWNoZU5hbWV9Lmpzb25gKTtcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImZzXCIpOyIsImltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IGdldFNTT1Rva2VuRmlsZXBhdGggfSBmcm9tIFwiLi9nZXRTU09Ub2tlbkZpbGVwYXRoXCI7XG5jb25zdCB7IHJlYWRGaWxlIH0gPSBmc1Byb21pc2VzO1xuZXhwb3J0IGNvbnN0IGdldFNTT1Rva2VuRnJvbUZpbGUgPSBhc3luYyAoaWQpID0+IHtcbiAgICBjb25zdCBzc29Ub2tlbkZpbGVwYXRoID0gZ2V0U1NPVG9rZW5GaWxlcGF0aChpZCk7XG4gICAgY29uc3Qgc3NvVG9rZW5UZXh0ID0gYXdhaXQgcmVhZEZpbGUoc3NvVG9rZW5GaWxlcGF0aCwgXCJ1dGY4XCIpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKHNzb1Rva2VuVGV4dCk7XG59O1xuIiwiaW1wb3J0IHsgSW5pU2VjdGlvblR5cGUgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IgfSBmcm9tIFwiLi9sb2FkU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmV4cG9ydCBjb25zdCBnZXRDb25maWdEYXRhID0gKGRhdGEpID0+IE9iamVjdC5lbnRyaWVzKGRhdGEpXG4gICAgLmZpbHRlcigoW2tleV0pID0+IHtcbiAgICBjb25zdCBzZWN0aW9ucyA9IGtleS5zcGxpdChDT05GSUdfUFJFRklYX1NFUEFSQVRPUik7XG4gICAgaWYgKHNlY3Rpb25zLmxlbmd0aCA9PT0gMiAmJiBPYmplY3QudmFsdWVzKEluaVNlY3Rpb25UeXBlKS5pbmNsdWRlcyhzZWN0aW9uc1swXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn0pXG4gICAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBjb25zdCB1cGRhdGVkS2V5ID0ga2V5LnN0YXJ0c1dpdGgoSW5pU2VjdGlvblR5cGUuUFJPRklMRSkgPyBrZXkuc3BsaXQoQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IpWzFdIDoga2V5O1xuICAgIGFjY1t1cGRhdGVkS2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBhY2M7XG59LCB7XG4gICAgLi4uKGRhdGEuZGVmYXVsdCAmJiB7IGRlZmF1bHQ6IGRhdGEuZGVmYXVsdCB9KSxcbn0pO1xuIiwiaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZXRIb21lRGlyIH0gZnJvbSBcIi4vZ2V0SG9tZURpclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9DT05GSUdfUEFUSCA9IFwiQVdTX0NPTkZJR19GSUxFXCI7XG5leHBvcnQgY29uc3QgZ2V0Q29uZmlnRmlsZXBhdGggPSAoKSA9PiBwcm9jZXNzLmVudltFTlZfQ09ORklHX1BBVEhdIHx8IGpvaW4oZ2V0SG9tZURpcigpLCBcIi5hd3NcIiwgXCJjb25maWdcIik7XG4iLCJpbXBvcnQgeyBqb2luIH0gZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IGdldEhvbWVEaXIgfSBmcm9tIFwiLi9nZXRIb21lRGlyXCI7XG5leHBvcnQgY29uc3QgRU5WX0NSRURFTlRJQUxTX1BBVEggPSBcIkFXU19TSEFSRURfQ1JFREVOVElBTFNfRklMRVwiO1xuZXhwb3J0IGNvbnN0IGdldENyZWRlbnRpYWxzRmlsZXBhdGggPSAoKSA9PiBwcm9jZXNzLmVudltFTlZfQ1JFREVOVElBTFNfUEFUSF0gfHwgam9pbihnZXRIb21lRGlyKCksIFwiLmF3c1wiLCBcImNyZWRlbnRpYWxzXCIpO1xuIiwiaW1wb3J0IHsgSW5pU2VjdGlvblR5cGUgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IgfSBmcm9tIFwiLi9sb2FkU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmNvbnN0IHByZWZpeEtleVJlZ2V4ID0gL14oW1xcdy1dKylcXHMoW1wiJ10pPyhbXFx3LUBcXCtcXC4lOi9dKylcXDIkLztcbmNvbnN0IHByb2ZpbGVOYW1lQmxvY2tMaXN0ID0gW1wiX19wcm90b19fXCIsIFwicHJvZmlsZSBfX3Byb3RvX19cIl07XG5leHBvcnQgY29uc3QgcGFyc2VJbmkgPSAoaW5pRGF0YSkgPT4ge1xuICAgIGNvbnN0IG1hcCA9IHt9O1xuICAgIGxldCBjdXJyZW50U2VjdGlvbjtcbiAgICBsZXQgY3VycmVudFN1YlNlY3Rpb247XG4gICAgZm9yIChjb25zdCBpbmlMaW5lIG9mIGluaURhdGEuc3BsaXQoL1xccj9cXG4vKSkge1xuICAgICAgICBjb25zdCB0cmltbWVkTGluZSA9IGluaUxpbmUuc3BsaXQoLyhefFxccylbOyNdLylbMF0udHJpbSgpO1xuICAgICAgICBjb25zdCBpc1NlY3Rpb24gPSB0cmltbWVkTGluZVswXSA9PT0gXCJbXCIgJiYgdHJpbW1lZExpbmVbdHJpbW1lZExpbmUubGVuZ3RoIC0gMV0gPT09IFwiXVwiO1xuICAgICAgICBpZiAoaXNTZWN0aW9uKSB7XG4gICAgICAgICAgICBjdXJyZW50U2VjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGN1cnJlbnRTdWJTZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbk5hbWUgPSB0cmltbWVkTGluZS5zdWJzdHJpbmcoMSwgdHJpbW1lZExpbmUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gcHJlZml4S2V5UmVnZXguZXhlYyhzZWN0aW9uTmFtZSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFssIHByZWZpeCwgLCBuYW1lXSA9IG1hdGNoZXM7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoSW5pU2VjdGlvblR5cGUpLmluY2x1ZGVzKHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlY3Rpb24gPSBbcHJlZml4LCBuYW1lXS5qb2luKENPTkZJR19QUkVGSVhfU0VQQVJBVE9SKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VjdGlvbiA9IHNlY3Rpb25OYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2ZpbGVOYW1lQmxvY2tMaXN0LmluY2x1ZGVzKHNlY3Rpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm91bmQgaW52YWxpZCBwcm9maWxlIG5hbWUgXCIke3NlY3Rpb25OYW1lfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFNlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4T2ZFcXVhbHNTaWduID0gdHJpbW1lZExpbmUuaW5kZXhPZihcIj1cIik7XG4gICAgICAgICAgICBpZiAoIVswLCAtMV0uaW5jbHVkZXMoaW5kZXhPZkVxdWFsc1NpZ24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW25hbWUsIHZhbHVlXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgdHJpbW1lZExpbmUuc3Vic3RyaW5nKDAsIGluZGV4T2ZFcXVhbHNTaWduKS50cmltKCksXG4gICAgICAgICAgICAgICAgICAgIHRyaW1tZWRMaW5lLnN1YnN0cmluZyhpbmRleE9mRXF1YWxzU2lnbiArIDEpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3ViU2VjdGlvbiA9IG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN1YlNlY3Rpb24gJiYgaW5pTGluZS50cmltU3RhcnQoKSA9PT0gaW5pTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN1YlNlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFwW2N1cnJlbnRTZWN0aW9uXSA9IG1hcFtjdXJyZW50U2VjdGlvbl0gfHwge307XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGN1cnJlbnRTdWJTZWN0aW9uID8gW2N1cnJlbnRTdWJTZWN0aW9uLCBuYW1lXS5qb2luKENPTkZJR19QUkVGSVhfU0VQQVJBVE9SKSA6IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl1ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwO1xufTtcbiIsImltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tIFwiZnNcIjtcbmNvbnN0IHsgcmVhZEZpbGUgfSA9IGZzUHJvbWlzZXM7XG5jb25zdCBmaWxlUHJvbWlzZXNIYXNoID0ge307XG5leHBvcnQgY29uc3Qgc2x1cnBGaWxlID0gKHBhdGgsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIWZpbGVQcm9taXNlc0hhc2hbcGF0aF0gfHwgb3B0aW9ucz8uaWdub3JlQ2FjaGUpIHtcbiAgICAgICAgZmlsZVByb21pc2VzSGFzaFtwYXRoXSA9IHJlYWRGaWxlKHBhdGgsIFwidXRmOFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGVQcm9taXNlc0hhc2hbcGF0aF07XG59O1xuIiwiaW1wb3J0IHsgZ2V0Q29uZmlnRGF0YSB9IGZyb20gXCIuL2dldENvbmZpZ0RhdGFcIjtcbmltcG9ydCB7IGdldENvbmZpZ0ZpbGVwYXRoIH0gZnJvbSBcIi4vZ2V0Q29uZmlnRmlsZXBhdGhcIjtcbmltcG9ydCB7IGdldENyZWRlbnRpYWxzRmlsZXBhdGggfSBmcm9tIFwiLi9nZXRDcmVkZW50aWFsc0ZpbGVwYXRoXCI7XG5pbXBvcnQgeyBwYXJzZUluaSB9IGZyb20gXCIuL3BhcnNlSW5pXCI7XG5pbXBvcnQgeyBzbHVycEZpbGUgfSBmcm9tIFwiLi9zbHVycEZpbGVcIjtcbmNvbnN0IHN3YWxsb3dFcnJvciA9ICgpID0+ICh7fSk7XG5leHBvcnQgY29uc3QgQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IgPSBcIi5cIjtcbmV4cG9ydCBjb25zdCBsb2FkU2hhcmVkQ29uZmlnRmlsZXMgPSBhc3luYyAoaW5pdCA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBmaWxlcGF0aCA9IGdldENyZWRlbnRpYWxzRmlsZXBhdGgoKSwgY29uZmlnRmlsZXBhdGggPSBnZXRDb25maWdGaWxlcGF0aCgpIH0gPSBpbml0O1xuICAgIGNvbnN0IHBhcnNlZEZpbGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzbHVycEZpbGUoY29uZmlnRmlsZXBhdGgsIHtcbiAgICAgICAgICAgIGlnbm9yZUNhY2hlOiBpbml0Lmlnbm9yZUNhY2hlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgICAgICAgICAudGhlbihnZXRDb25maWdEYXRhKVxuICAgICAgICAgICAgLmNhdGNoKHN3YWxsb3dFcnJvciksXG4gICAgICAgIHNsdXJwRmlsZShmaWxlcGF0aCwge1xuICAgICAgICAgICAgaWdub3JlQ2FjaGU6IGluaXQuaWdub3JlQ2FjaGUsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihwYXJzZUluaSlcbiAgICAgICAgICAgIC5jYXRjaChzd2FsbG93RXJyb3IpLFxuICAgIF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ0ZpbGU6IHBhcnNlZEZpbGVzWzBdLFxuICAgICAgICBjcmVkZW50aWFsc0ZpbGU6IHBhcnNlZEZpbGVzWzFdLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgSW5pU2VjdGlvblR5cGUgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IgfSBmcm9tIFwiLi9sb2FkU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmV4cG9ydCBjb25zdCBnZXRTc29TZXNzaW9uRGF0YSA9IChkYXRhKSA9PiBPYmplY3QuZW50cmllcyhkYXRhKVxuICAgIC5maWx0ZXIoKFtrZXldKSA9PiBrZXkuc3RhcnRzV2l0aChJbmlTZWN0aW9uVHlwZS5TU09fU0VTU0lPTiArIENPTkZJR19QUkVGSVhfU0VQQVJBVE9SKSlcbiAgICAucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKHsgLi4uYWNjLCBba2V5LnNwbGl0KENPTkZJR19QUkVGSVhfU0VQQVJBVE9SKVsxXV06IHZhbHVlIH0pLCB7fSk7XG4iLCJpbXBvcnQgeyBnZXRDb25maWdGaWxlcGF0aCB9IGZyb20gXCIuL2dldENvbmZpZ0ZpbGVwYXRoXCI7XG5pbXBvcnQgeyBnZXRTc29TZXNzaW9uRGF0YSB9IGZyb20gXCIuL2dldFNzb1Nlc3Npb25EYXRhXCI7XG5pbXBvcnQgeyBwYXJzZUluaSB9IGZyb20gXCIuL3BhcnNlSW5pXCI7XG5pbXBvcnQgeyBzbHVycEZpbGUgfSBmcm9tIFwiLi9zbHVycEZpbGVcIjtcbmNvbnN0IHN3YWxsb3dFcnJvciA9ICgpID0+ICh7fSk7XG5leHBvcnQgY29uc3QgbG9hZFNzb1Nlc3Npb25EYXRhID0gYXN5bmMgKGluaXQgPSB7fSkgPT4gc2x1cnBGaWxlKGluaXQuY29uZmlnRmlsZXBhdGggPz8gZ2V0Q29uZmlnRmlsZXBhdGgoKSlcbiAgICAudGhlbihwYXJzZUluaSlcbiAgICAudGhlbihnZXRTc29TZXNzaW9uRGF0YSlcbiAgICAuY2F0Y2goc3dhbGxvd0Vycm9yKTtcbiIsImltcG9ydCB7IGxvYWRTaGFyZWRDb25maWdGaWxlcyB9IGZyb20gXCIuL2xvYWRTaGFyZWRDb25maWdGaWxlc1wiO1xuaW1wb3J0IHsgbWVyZ2VDb25maWdGaWxlcyB9IGZyb20gXCIuL21lcmdlQ29uZmlnRmlsZXNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZUtub3duRmlsZXMgPSBhc3luYyAoaW5pdCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZEZpbGVzID0gYXdhaXQgbG9hZFNoYXJlZENvbmZpZ0ZpbGVzKGluaXQpO1xuICAgIHJldHVybiBtZXJnZUNvbmZpZ0ZpbGVzKHBhcnNlZEZpbGVzLmNvbmZpZ0ZpbGUsIHBhcnNlZEZpbGVzLmNyZWRlbnRpYWxzRmlsZSk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IG1lcmdlQ29uZmlnRmlsZXMgPSAoLi4uZmlsZXMpID0+IHtcbiAgICBjb25zdCBtZXJnZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGZpbGUpKSB7XG4gICAgICAgICAgICBpZiAobWVyZ2VkW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkW2tleV0sIHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRba2V5XSA9IHZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VkO1xufTtcbiIsImltcG9ydCB7IGNoYWluLCBtZW1vaXplIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGZyb21FbnYgfSBmcm9tIFwiLi9mcm9tRW52XCI7XG5pbXBvcnQgeyBmcm9tU2hhcmVkQ29uZmlnRmlsZXMgfSBmcm9tIFwiLi9mcm9tU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmltcG9ydCB7IGZyb21TdGF0aWMgfSBmcm9tIFwiLi9mcm9tU3RhdGljXCI7XG5leHBvcnQgY29uc3QgbG9hZENvbmZpZyA9ICh7IGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvciwgY29uZmlnRmlsZVNlbGVjdG9yLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfSwgY29uZmlndXJhdGlvbiA9IHt9KSA9PiBtZW1vaXplKGNoYWluKGZyb21FbnYoZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yKSwgZnJvbVNoYXJlZENvbmZpZ0ZpbGVzKGNvbmZpZ0ZpbGVTZWxlY3RvciwgY29uZmlndXJhdGlvbiksIGZyb21TdGF0aWMoZGVmYXVsdFZhbHVlKSkpO1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGdldFByb2ZpbGVOYW1lLCBsb2FkU2hhcmVkQ29uZmlnRmlsZXMgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5leHBvcnQgY29uc3QgZnJvbVNoYXJlZENvbmZpZ0ZpbGVzID0gKGNvbmZpZ1NlbGVjdG9yLCB7IHByZWZlcnJlZEZpbGUgPSBcImNvbmZpZ1wiLCAuLi5pbml0IH0gPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGUgPSBnZXRQcm9maWxlTmFtZShpbml0KTtcbiAgICBjb25zdCB7IGNvbmZpZ0ZpbGUsIGNyZWRlbnRpYWxzRmlsZSB9ID0gYXdhaXQgbG9hZFNoYXJlZENvbmZpZ0ZpbGVzKGluaXQpO1xuICAgIGNvbnN0IHByb2ZpbGVGcm9tQ3JlZGVudGlhbHMgPSBjcmVkZW50aWFsc0ZpbGVbcHJvZmlsZV0gfHwge307XG4gICAgY29uc3QgcHJvZmlsZUZyb21Db25maWcgPSBjb25maWdGaWxlW3Byb2ZpbGVdIHx8IHt9O1xuICAgIGNvbnN0IG1lcmdlZFByb2ZpbGUgPSBwcmVmZXJyZWRGaWxlID09PSBcImNvbmZpZ1wiXG4gICAgICAgID8geyAuLi5wcm9maWxlRnJvbUNyZWRlbnRpYWxzLCAuLi5wcm9maWxlRnJvbUNvbmZpZyB9XG4gICAgICAgIDogeyAuLi5wcm9maWxlRnJvbUNvbmZpZywgLi4ucHJvZmlsZUZyb21DcmVkZW50aWFscyB9O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNmZ0ZpbGUgPSBwcmVmZXJyZWRGaWxlID09PSBcImNvbmZpZ1wiID8gY29uZmlnRmlsZSA6IGNyZWRlbnRpYWxzRmlsZTtcbiAgICAgICAgY29uc3QgY29uZmlnVmFsdWUgPSBjb25maWdTZWxlY3RvcihtZXJnZWRQcm9maWxlLCBjZmdGaWxlKTtcbiAgICAgICAgaWYgKGNvbmZpZ1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWdWYWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlLm1lc3NhZ2UgfHwgYENhbm5vdCBsb2FkIGNvbmZpZyBmb3IgcHJvZmlsZSAke3Byb2ZpbGV9IGluIFNESyBjb25maWd1cmF0aW9uIGZpbGVzIHdpdGggZ2V0dGVyOiAke2NvbmZpZ1NlbGVjdG9yfWApO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBmcm9tU3RhdGljIGFzIGNvbnZlcnRUb1Byb3ZpZGVyIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmNvbnN0IGlzRnVuY3Rpb24gPSAoZnVuYykgPT4gdHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIjtcbmV4cG9ydCBjb25zdCBmcm9tU3RhdGljID0gKGRlZmF1bHRWYWx1ZSkgPT4gaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpID8gYXN5bmMgKCkgPT4gYXdhaXQgZGVmYXVsdFZhbHVlKCkgOiBjb252ZXJ0VG9Qcm92aWRlcihkZWZhdWx0VmFsdWUpO1xuIiwiZXhwb3J0IGNvbnN0IGZyb21TdGF0aWMgPSAoc3RhdGljVmFsdWUpID0+ICgpID0+IFByb21pc2UucmVzb2x2ZShzdGF0aWNWYWx1ZSk7XG4iLCJpbXBvcnQgeyBDT05GSUdfUFJFRklYX1NFUEFSQVRPUiB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmNvbnN0IEVOVl9FTkRQT0lOVF9VUkwgPSBcIkFXU19FTkRQT0lOVF9VUkxcIjtcbmNvbnN0IENPTkZJR19FTkRQT0lOVF9VUkwgPSBcImVuZHBvaW50X3VybFwiO1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50VXJsQ29uZmlnID0gKHNlcnZpY2VJZCkgPT4gKHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICAgICAgY29uc3Qgc2VydmljZVN1ZmZpeFBhcnRzID0gc2VydmljZUlkLnNwbGl0KFwiIFwiKS5tYXAoKHcpID0+IHcudG9VcHBlckNhc2UoKSk7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VFbmRwb2ludFVybCA9IGVudltbRU5WX0VORFBPSU5UX1VSTCwgLi4uc2VydmljZVN1ZmZpeFBhcnRzXS5qb2luKFwiX1wiKV07XG4gICAgICAgIGlmIChzZXJ2aWNlRW5kcG9pbnRVcmwpXG4gICAgICAgICAgICByZXR1cm4gc2VydmljZUVuZHBvaW50VXJsO1xuICAgICAgICBjb25zdCBlbmRwb2ludFVybCA9IGVudltFTlZfRU5EUE9JTlRfVVJMXTtcbiAgICAgICAgaWYgKGVuZHBvaW50VXJsKVxuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50VXJsO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSwgY29uZmlnKSA9PiB7XG4gICAgICAgIGlmIChjb25maWcgJiYgcHJvZmlsZS5zZXJ2aWNlcykge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZXNTZWN0aW9uID0gY29uZmlnW1tcInNlcnZpY2VzXCIsIHByb2ZpbGUuc2VydmljZXNdLmpvaW4oQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IpXTtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlc1NlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2aWNlUHJlZml4UGFydHMgPSBzZXJ2aWNlSWQuc3BsaXQoXCIgXCIpLm1hcCgodykgPT4gdy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludFVybCA9IHNlcnZpY2VzU2VjdGlvbltbc2VydmljZVByZWZpeFBhcnRzLmpvaW4oXCJfXCIpLCBDT05GSUdfRU5EUE9JTlRfVVJMXS5qb2luKENPTkZJR19QUkVGSVhfU0VQQVJBVE9SKV07XG4gICAgICAgICAgICAgICAgaWYgKGVuZHBvaW50VXJsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5kcG9pbnRVcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5kcG9pbnRVcmwgPSBwcm9maWxlW0NPTkZJR19FTkRQT0lOVF9VUkxdO1xuICAgICAgICBpZiAoZW5kcG9pbnRVcmwpXG4gICAgICAgICAgICByZXR1cm4gZW5kcG9pbnRVcmw7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBkZWZhdWx0OiB1bmRlZmluZWQsXG59KTtcbiIsImltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcgfSBmcm9tIFwiQHNtaXRoeS9xdWVyeXN0cmluZy1wYXJzZXJcIjtcbmV4cG9ydCBjb25zdCBwYXJzZVVybCA9ICh1cmwpID0+IHtcbiAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VVcmwobmV3IFVSTCh1cmwpKTtcbiAgICB9XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcGF0aG5hbWUsIHBvcnQsIHByb3RvY29sLCBzZWFyY2ggfSA9IHVybDtcbiAgICBsZXQgcXVlcnk7XG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgICBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcoc2VhcmNoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHBvcnQgPyBwYXJzZUludChwb3J0KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIHBhdGg6IHBhdGhuYW1lLFxuICAgICAgICBxdWVyeSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5c3RyaW5nKSB7XG4gICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICBxdWVyeXN0cmluZyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCBcIlwiKTtcbiAgICBpZiAocXVlcnlzdHJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHF1ZXJ5c3RyaW5nLnNwbGl0KFwiJlwiKSkge1xuICAgICAgICAgICAgbGV0IFtrZXksIHZhbHVlID0gbnVsbF0gPSBwYWlyLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocXVlcnlba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVtrZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVlcnlba2V5XSA9IFtxdWVyeVtrZXldLCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xufVxuIiwiaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5leHBvcnQgY29uc3QgdG9FbmRwb2ludFYxID0gKGVuZHBvaW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBlbmRwb2ludCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoXCJ1cmxcIiBpbiBlbmRwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXJsKGVuZHBvaW50LnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZHBvaW50O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VVcmwoZW5kcG9pbnQpO1xufTtcbiIsImltcG9ydCB7IHJlc29sdmVQYXJhbXNGb3JTMyB9IGZyb20gXCIuLi9zZXJ2aWNlLWN1c3RvbWl6YXRpb25zXCI7XG5pbXBvcnQgeyBjcmVhdGVDb25maWdWYWx1ZVByb3ZpZGVyIH0gZnJvbSBcIi4vY3JlYXRlQ29uZmlnVmFsdWVQcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRGcm9tQ29uZmlnIH0gZnJvbSBcIi4vZ2V0RW5kcG9pbnRGcm9tQ29uZmlnXCI7XG5pbXBvcnQgeyB0b0VuZHBvaW50VjEgfSBmcm9tIFwiLi90b0VuZHBvaW50VjFcIjtcbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludEZyb21JbnN0cnVjdGlvbnMgPSBhc3luYyAoY29tbWFuZElucHV0LCBpbnN0cnVjdGlvbnNTdXBwbGllciwgY2xpZW50Q29uZmlnLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKCFjbGllbnRDb25maWcuZW5kcG9pbnQpIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnRGcm9tQ29uZmlnID0gYXdhaXQgZ2V0RW5kcG9pbnRGcm9tQ29uZmlnKGNsaWVudENvbmZpZy5zZXJ2aWNlSWQgfHwgXCJcIik7XG4gICAgICAgIGlmIChlbmRwb2ludEZyb21Db25maWcpIHtcbiAgICAgICAgICAgIGNsaWVudENvbmZpZy5lbmRwb2ludCA9ICgpID0+IFByb21pc2UucmVzb2x2ZSh0b0VuZHBvaW50VjEoZW5kcG9pbnRGcm9tQ29uZmlnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZW5kcG9pbnRQYXJhbXMgPSBhd2FpdCByZXNvbHZlUGFyYW1zKGNvbW1hbmRJbnB1dCwgaW5zdHJ1Y3Rpb25zU3VwcGxpZXIsIGNsaWVudENvbmZpZyk7XG4gICAgaWYgKHR5cGVvZiBjbGllbnRDb25maWcuZW5kcG9pbnRQcm92aWRlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvbmZpZy5lbmRwb2ludFByb3ZpZGVyIGlzIG5vdCBzZXQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGNsaWVudENvbmZpZy5lbmRwb2ludFByb3ZpZGVyKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW5kcG9pbnQ7XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQYXJhbXMgPSBhc3luYyAoY29tbWFuZElucHV0LCBpbnN0cnVjdGlvbnNTdXBwbGllciwgY2xpZW50Q29uZmlnKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnRQYXJhbXMgPSB7fTtcbiAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnNTdXBwbGllcj8uZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnM/LigpIHx8IHt9O1xuICAgIGZvciAoY29uc3QgW25hbWUsIGluc3RydWN0aW9uXSBvZiBPYmplY3QuZW50cmllcyhpbnN0cnVjdGlvbnMpKSB7XG4gICAgICAgIHN3aXRjaCAoaW5zdHJ1Y3Rpb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInN0YXRpY0NvbnRleHRQYXJhbXNcIjpcbiAgICAgICAgICAgICAgICBlbmRwb2ludFBhcmFtc1tuYW1lXSA9IGluc3RydWN0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRleHRQYXJhbXNcIjpcbiAgICAgICAgICAgICAgICBlbmRwb2ludFBhcmFtc1tuYW1lXSA9IGNvbW1hbmRJbnB1dFtpbnN0cnVjdGlvbi5uYW1lXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjbGllbnRDb250ZXh0UGFyYW1zXCI6XG4gICAgICAgICAgICBjYXNlIFwiYnVpbHRJblBhcmFtc1wiOlxuICAgICAgICAgICAgICAgIGVuZHBvaW50UGFyYW1zW25hbWVdID0gYXdhaXQgY3JlYXRlQ29uZmlnVmFsdWVQcm92aWRlcihpbnN0cnVjdGlvbi5uYW1lLCBuYW1lLCBjbGllbnRDb25maWcpKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBlbmRwb2ludCBwYXJhbWV0ZXIgaW5zdHJ1Y3Rpb246IFwiICsgSlNPTi5zdHJpbmdpZnkoaW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMoaW5zdHJ1Y3Rpb25zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbmRwb2ludFBhcmFtcywgY2xpZW50Q29uZmlnKTtcbiAgICB9XG4gICAgaWYgKFN0cmluZyhjbGllbnRDb25maWcuc2VydmljZUlkKS50b0xvd2VyQ2FzZSgpID09PSBcInMzXCIpIHtcbiAgICAgICAgYXdhaXQgcmVzb2x2ZVBhcmFtc0ZvclMzKGVuZHBvaW50UGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZHBvaW50UGFyYW1zO1xufTtcbiIsImltcG9ydCB7IGdldFNtaXRoeUNvbnRleHQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLW1pZGRsZXdhcmVcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucyB9IGZyb20gXCIuL2FkYXB0b3JzL2dldEVuZHBvaW50RnJvbUluc3RydWN0aW9uc1wiO1xuZXhwb3J0IGNvbnN0IGVuZHBvaW50TWlkZGxld2FyZSA9ICh7IGNvbmZpZywgaW5zdHJ1Y3Rpb25zLCB9KSA9PiB7XG4gICAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucyhhcmdzLmlucHV0LCB7XG4gICAgICAgICAgICBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgeyAuLi5jb25maWcgfSwgY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuZW5kcG9pbnRWMiA9IGVuZHBvaW50O1xuICAgICAgICBjb250ZXh0LmF1dGhTY2hlbWVzID0gZW5kcG9pbnQucHJvcGVydGllcz8uYXV0aFNjaGVtZXM7XG4gICAgICAgIGNvbnN0IGF1dGhTY2hlbWUgPSBjb250ZXh0LmF1dGhTY2hlbWVzPy5bMF07XG4gICAgICAgIGlmIChhdXRoU2NoZW1lKSB7XG4gICAgICAgICAgICBjb250ZXh0W1wic2lnbmluZ19yZWdpb25cIl0gPSBhdXRoU2NoZW1lLnNpZ25pbmdSZWdpb247XG4gICAgICAgICAgICBjb250ZXh0W1wic2lnbmluZ19zZXJ2aWNlXCJdID0gYXV0aFNjaGVtZS5zaWduaW5nTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHNtaXRoeUNvbnRleHQgPSBnZXRTbWl0aHlDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgaHR0cEF1dGhPcHRpb24gPSBzbWl0aHlDb250ZXh0Py5zZWxlY3RlZEh0dHBBdXRoU2NoZW1lPy5odHRwQXV0aE9wdGlvbjtcbiAgICAgICAgICAgIGlmIChodHRwQXV0aE9wdGlvbikge1xuICAgICAgICAgICAgICAgIGh0dHBBdXRoT3B0aW9uLnNpZ25pbmdQcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbihodHRwQXV0aE9wdGlvbi5zaWduaW5nUHJvcGVydGllcyB8fCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduaW5nX3JlZ2lvbjogYXV0aFNjaGVtZS5zaWduaW5nUmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICBzaWduaW5nUmVnaW9uOiBhdXRoU2NoZW1lLnNpZ25pbmdSZWdpb24sXG4gICAgICAgICAgICAgICAgICAgIHNpZ25pbmdfc2VydmljZTogYXV0aFNjaGVtZS5zaWduaW5nTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmluZ05hbWU6IGF1dGhTY2hlbWUuc2lnbmluZ05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25pbmdSZWdpb25TZXQ6IGF1dGhTY2hlbWUuc2lnbmluZ1JlZ2lvblNldCxcbiAgICAgICAgICAgICAgICB9LCBhdXRoU2NoZW1lLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgbG9hZENvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludFVybENvbmZpZyB9IGZyb20gXCIuL2dldEVuZHBvaW50VXJsQ29uZmlnXCI7XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRGcm9tQ29uZmlnID0gYXN5bmMgKHNlcnZpY2VJZCkgPT4gbG9hZENvbmZpZyhnZXRFbmRwb2ludFVybENvbmZpZyhzZXJ2aWNlSWQpKSgpO1xuIiwiaW1wb3J0IHsgZGVzZXJpYWxpemVyTWlkZGxld2FyZSB9IGZyb20gXCIuL2Rlc2VyaWFsaXplck1pZGRsZXdhcmVcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZXJNaWRkbGV3YXJlIH0gZnJvbSBcIi4vc2VyaWFsaXplck1pZGRsZXdhcmVcIjtcbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uID0ge1xuICAgIG5hbWU6IFwiZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiLFxuICAgIHN0ZXA6IFwiZGVzZXJpYWxpemVcIixcbiAgICB0YWdzOiBbXCJERVNFUklBTElaRVJcIl0sXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uID0ge1xuICAgIG5hbWU6IFwic2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgICBzdGVwOiBcInNlcmlhbGl6ZVwiLFxuICAgIHRhZ3M6IFtcIlNFUklBTElaRVJcIl0sXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcmRlUGx1Z2luKGNvbmZpZywgc2VyaWFsaXplciwgZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBwbHlUb1N0YWNrOiAoY29tbWFuZFN0YWNrKSA9PiB7XG4gICAgICAgICAgICBjb21tYW5kU3RhY2suYWRkKGRlc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBkZXNlcmlhbGl6ZXIpLCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uKTtcbiAgICAgICAgICAgIGNvbW1hbmRTdGFjay5hZGQoc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBzZXJpYWxpemVyKSwgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24pO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgY29uc3QgZGVzZXJpYWxpemVyTWlkZGxld2FyZSA9IChvcHRpb25zLCBkZXNlcmlhbGl6ZXIpID0+IChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGF3YWl0IG5leHQoYXJncyk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gYXdhaXQgZGVzZXJpYWxpemVyKHJlc3BvbnNlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgb3V0cHV0OiBwYXJzZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwiJHJlc3BvbnNlXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghKFwiJG1ldGFkYXRhXCIgaW4gZXJyb3IpKSB7XG4gICAgICAgICAgICBjb25zdCBoaW50ID0gYERlc2VyaWFsaXphdGlvbiBlcnJvcjogdG8gc2VlIHRoZSByYXcgcmVzcG9uc2UsIGluc3BlY3QgdGhlIGhpZGRlbiBmaWVsZCB7ZXJyb3J9LiRyZXNwb25zZSBvbiB0aGlzIG9iamVjdC5gO1xuICAgICAgICAgICAgZXJyb3IubWVzc2FnZSArPSBcIlxcbiAgXCIgKyBoaW50O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3Qgc2VyaWFsaXplck1pZGRsZXdhcmUgPSAob3B0aW9ucywgc2VyaWFsaXplcikgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBjb250ZXh0LmVuZHBvaW50VjI/LnVybCAmJiBvcHRpb25zLnVybFBhcnNlclxuICAgICAgICA/IGFzeW5jICgpID0+IG9wdGlvbnMudXJsUGFyc2VyKGNvbnRleHQuZW5kcG9pbnRWMi51cmwpXG4gICAgICAgIDogb3B0aW9ucy5lbmRwb2ludDtcbiAgICBpZiAoIWVuZHBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbGlkIGVuZHBvaW50IHByb3ZpZGVyIGF2YWlsYWJsZS5cIik7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBzZXJpYWxpemVyKGFyZ3MuaW5wdXQsIHsgLi4ub3B0aW9ucywgZW5kcG9pbnQgfSk7XG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgICAuLi5hcmdzLFxuICAgICAgICByZXF1ZXN0LFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IHNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgZW5kcG9pbnRNaWRkbGV3YXJlIH0gZnJvbSBcIi4vZW5kcG9pbnRNaWRkbGV3YXJlXCI7XG5leHBvcnQgY29uc3QgZW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBzdGVwOiBcInNlcmlhbGl6ZVwiLFxuICAgIHRhZ3M6IFtcIkVORFBPSU5UX1BBUkFNRVRFUlNcIiwgXCJFTkRQT0lOVF9WMlwiLCBcIkVORFBPSU5UXCJdLFxuICAgIG5hbWU6IFwiZW5kcG9pbnRWMk1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbiAgICByZWxhdGlvbjogXCJiZWZvcmVcIixcbiAgICB0b01pZGRsZXdhcmU6IHNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uLm5hbWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldEVuZHBvaW50UGx1Z2luID0gKGNvbmZpZywgaW5zdHJ1Y3Rpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oZW5kcG9pbnRNaWRkbGV3YXJlKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgfSksIGVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiIsImltcG9ydCB7IG5vcm1hbGl6ZVByb3ZpZGVyIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyB0b0VuZHBvaW50VjEgfSBmcm9tIFwiLi9hZGFwdG9ycy90b0VuZHBvaW50VjFcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlRW5kcG9pbnRDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0bHMgPSBpbnB1dC50bHMgPz8gdHJ1ZTtcbiAgICBjb25zdCB7IGVuZHBvaW50IH0gPSBpbnB1dDtcbiAgICBjb25zdCBjdXN0b21FbmRwb2ludFByb3ZpZGVyID0gZW5kcG9pbnQgIT0gbnVsbCA/IGFzeW5jICgpID0+IHRvRW5kcG9pbnRWMShhd2FpdCBub3JtYWxpemVQcm92aWRlcihlbmRwb2ludCkoKSkgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgaXNDdXN0b21FbmRwb2ludCA9ICEhZW5kcG9pbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIGVuZHBvaW50OiBjdXN0b21FbmRwb2ludFByb3ZpZGVyLFxuICAgICAgICB0bHMsXG4gICAgICAgIGlzQ3VzdG9tRW5kcG9pbnQsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBub3JtYWxpemVQcm92aWRlcihpbnB1dC51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlKSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCB2YXIgUkVUUllfTU9ERVM7XG4oZnVuY3Rpb24gKFJFVFJZX01PREVTKSB7XG4gICAgUkVUUllfTU9ERVNbXCJTVEFOREFSRFwiXSA9IFwic3RhbmRhcmRcIjtcbiAgICBSRVRSWV9NT0RFU1tcIkFEQVBUSVZFXCJdID0gXCJhZGFwdGl2ZVwiO1xufSkoUkVUUllfTU9ERVMgfHwgKFJFVFJZX01PREVTID0ge30pKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX01BWF9BVFRFTVBUUyA9IDM7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVRSWV9NT0RFID0gUkVUUllfTU9ERVMuU1RBTkRBUkQ7XG4iLCJleHBvcnQgY29uc3QgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUyA9IFtcbiAgICBcIkF1dGhGYWlsdXJlXCIsXG4gICAgXCJJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uXCIsXG4gICAgXCJSZXF1ZXN0RXhwaXJlZFwiLFxuICAgIFwiUmVxdWVzdEluVGhlRnV0dXJlXCIsXG4gICAgXCJSZXF1ZXN0VGltZVRvb1NrZXdlZFwiLFxuICAgIFwiU2lnbmF0dXJlRG9lc05vdE1hdGNoXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRIUk9UVExJTkdfRVJST1JfQ09ERVMgPSBbXG4gICAgXCJCYW5kd2lkdGhMaW1pdEV4Y2VlZGVkXCIsXG4gICAgXCJFQzJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICBcIlByaW9yUmVxdWVzdE5vdENvbXBsZXRlXCIsXG4gICAgXCJQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgIFwiUmVxdWVzdExpbWl0RXhjZWVkZWRcIixcbiAgICBcIlJlcXVlc3RUaHJvdHRsZWRcIixcbiAgICBcIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIlNsb3dEb3duXCIsXG4gICAgXCJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIlRocm90dGxpbmdcIixcbiAgICBcIlRocm90dGxpbmdFeGNlcHRpb25cIixcbiAgICBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiLFxuICAgIFwiVHJhbnNhY3Rpb25JblByb2dyZXNzRXhjZXB0aW9uXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9DT0RFUyA9IFtcIlRpbWVvdXRFcnJvclwiLCBcIlJlcXVlc3RUaW1lb3V0XCIsIFwiUmVxdWVzdFRpbWVvdXRFeGNlcHRpb25cIl07XG5leHBvcnQgY29uc3QgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUyA9IFs1MDAsIDUwMiwgNTAzLCA1MDRdO1xuZXhwb3J0IGNvbnN0IE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTID0gW1wiRUNPTk5SRVNFVFwiLCBcIkVDT05OUkVGVVNFRFwiLCBcIkVQSVBFXCIsIFwiRVRJTUVET1VUXCJdO1xuIiwiaW1wb3J0IHsgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUywgTk9ERUpTX1RJTUVPVVRfRVJST1JfQ09ERVMsIFRIUk9UVExJTkdfRVJST1JfQ09ERVMsIFRSQU5TSUVOVF9FUlJPUl9DT0RFUywgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUywgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBpc1JldHJ5YWJsZUJ5VHJhaXQgPSAoZXJyb3IpID0+IGVycm9yLiRyZXRyeWFibGUgIT09IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBpc0Nsb2NrU2tld0Vycm9yID0gKGVycm9yKSA9PiBDTE9DS19TS0VXX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpO1xuZXhwb3J0IGNvbnN0IGlzVGhyb3R0bGluZ0Vycm9yID0gKGVycm9yKSA9PiBlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlID09PSA0MjkgfHxcbiAgICBUSFJPVFRMSU5HX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpIHx8XG4gICAgZXJyb3IuJHJldHJ5YWJsZT8udGhyb3R0bGluZyA9PSB0cnVlO1xuZXhwb3J0IGNvbnN0IGlzVHJhbnNpZW50RXJyb3IgPSAoZXJyb3IpID0+IFRSQU5TSUVOVF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKSB8fFxuICAgIE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yPy5jb2RlIHx8IFwiXCIpIHx8XG4gICAgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUy5pbmNsdWRlcyhlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlIHx8IDApO1xuZXhwb3J0IGNvbnN0IGlzU2VydmVyRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IuJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSBlcnJvci4kbWV0YWRhdGEuaHR0cFN0YXR1c0NvZGU7XG4gICAgICAgIGlmICg1MDAgPD0gc3RhdHVzQ29kZSAmJiBzdGF0dXNDb2RlIDw9IDU5OSAmJiAhaXNUcmFuc2llbnRFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbiIsImltcG9ydCB7IGlzVGhyb3R0bGluZ0Vycm9yIH0gZnJvbSBcIkBzbWl0aHkvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuZXhwb3J0IGNsYXNzIERlZmF1bHRSYXRlTGltaXRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RNYXhSYXRlID0gMDtcbiAgICAgICAgdGhpcy5tZWFzdXJlZFR4UmF0ZSA9IDA7XG4gICAgICAgIHRoaXMucmVxdWVzdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5sYXN0VGltZXN0YW1wID0gMDtcbiAgICAgICAgdGhpcy50aW1lV2luZG93ID0gMDtcbiAgICAgICAgdGhpcy5iZXRhID0gb3B0aW9ucz8uYmV0YSA/PyAwLjc7XG4gICAgICAgIHRoaXMubWluQ2FwYWNpdHkgPSBvcHRpb25zPy5taW5DYXBhY2l0eSA/PyAxO1xuICAgICAgICB0aGlzLm1pbkZpbGxSYXRlID0gb3B0aW9ucz8ubWluRmlsbFJhdGUgPz8gMC41O1xuICAgICAgICB0aGlzLnNjYWxlQ29uc3RhbnQgPSBvcHRpb25zPy5zY2FsZUNvbnN0YW50ID8/IDAuNDtcbiAgICAgICAgdGhpcy5zbW9vdGggPSBvcHRpb25zPy5zbW9vdGggPz8gMC44O1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZUluU2Vjb25kcyA9IHRoaXMuZ2V0Q3VycmVudFRpbWVJblNlY29uZHMoKTtcbiAgICAgICAgdGhpcy5sYXN0VGhyb3R0bGVUaW1lID0gY3VycmVudFRpbWVJblNlY29uZHM7XG4gICAgICAgIHRoaXMubGFzdFR4UmF0ZUJ1Y2tldCA9IE1hdGguZmxvb3IodGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpKTtcbiAgICAgICAgdGhpcy5maWxsUmF0ZSA9IHRoaXMubWluRmlsbFJhdGU7XG4gICAgICAgIHRoaXMubWF4Q2FwYWNpdHkgPSB0aGlzLm1pbkNhcGFjaXR5O1xuICAgIH1cbiAgICBnZXRDdXJyZW50VGltZUluU2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLyAxMDAwO1xuICAgIH1cbiAgICBhc3luYyBnZXRTZW5kVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmVUb2tlbkJ1Y2tldCgxKTtcbiAgICB9XG4gICAgYXN5bmMgYWNxdWlyZVRva2VuQnVja2V0KGFtb3VudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmaWxsVG9rZW5CdWNrZXQoKTtcbiAgICAgICAgaWYgKGFtb3VudCA+IHRoaXMuY3VycmVudENhcGFjaXR5KSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9ICgoYW1vdW50IC0gdGhpcy5jdXJyZW50Q2FwYWNpdHkpIC8gdGhpcy5maWxsUmF0ZSkgKiAxMDAwO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IHRoaXMuY3VycmVudENhcGFjaXR5IC0gYW1vdW50O1xuICAgIH1cbiAgICByZWZpbGxUb2tlbkJ1Y2tldCgpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gdGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpO1xuICAgICAgICBpZiAoIXRoaXMubGFzdFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbGxBbW91bnQgPSAodGltZXN0YW1wIC0gdGhpcy5sYXN0VGltZXN0YW1wKSAqIHRoaXMuZmlsbFJhdGU7XG4gICAgICAgIHRoaXMuY3VycmVudENhcGFjaXR5ID0gTWF0aC5taW4odGhpcy5tYXhDYXBhY2l0eSwgdGhpcy5jdXJyZW50Q2FwYWNpdHkgKyBmaWxsQW1vdW50KTtcbiAgICAgICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgIH1cbiAgICB1cGRhdGVDbGllbnRTZW5kaW5nUmF0ZShyZXNwb25zZSkge1xuICAgICAgICBsZXQgY2FsY3VsYXRlZFJhdGU7XG4gICAgICAgIHRoaXMudXBkYXRlTWVhc3VyZWRSYXRlKCk7XG4gICAgICAgIGlmIChpc1Rocm90dGxpbmdFcnJvcihyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhdGVUb1VzZSA9ICF0aGlzLmVuYWJsZWQgPyB0aGlzLm1lYXN1cmVkVHhSYXRlIDogTWF0aC5taW4odGhpcy5tZWFzdXJlZFR4UmF0ZSwgdGhpcy5maWxsUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RNYXhSYXRlID0gcmF0ZVRvVXNlO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lV2luZG93KCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RUaHJvdHRsZVRpbWUgPSB0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCk7XG4gICAgICAgICAgICBjYWxjdWxhdGVkUmF0ZSA9IHRoaXMuY3ViaWNUaHJvdHRsZShyYXRlVG9Vc2UpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVUb2tlbkJ1Y2tldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lV2luZG93KCk7XG4gICAgICAgICAgICBjYWxjdWxhdGVkUmF0ZSA9IHRoaXMuY3ViaWNTdWNjZXNzKHRoaXMuZ2V0Q3VycmVudFRpbWVJblNlY29uZHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3UmF0ZSA9IE1hdGgubWluKGNhbGN1bGF0ZWRSYXRlLCAyICogdGhpcy5tZWFzdXJlZFR4UmF0ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlVG9rZW5CdWNrZXRSYXRlKG5ld1JhdGUpO1xuICAgIH1cbiAgICBjYWxjdWxhdGVUaW1lV2luZG93KCkge1xuICAgICAgICB0aGlzLnRpbWVXaW5kb3cgPSB0aGlzLmdldFByZWNpc2UoTWF0aC5wb3coKHRoaXMubGFzdE1heFJhdGUgKiAoMSAtIHRoaXMuYmV0YSkpIC8gdGhpcy5zY2FsZUNvbnN0YW50LCAxIC8gMykpO1xuICAgIH1cbiAgICBjdWJpY1Rocm90dGxlKHJhdGVUb1VzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcmVjaXNlKHJhdGVUb1VzZSAqIHRoaXMuYmV0YSk7XG4gICAgfVxuICAgIGN1YmljU3VjY2Vzcyh0aW1lc3RhbXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJlY2lzZSh0aGlzLnNjYWxlQ29uc3RhbnQgKiBNYXRoLnBvdyh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaHJvdHRsZVRpbWUgLSB0aGlzLnRpbWVXaW5kb3csIDMpICsgdGhpcy5sYXN0TWF4UmF0ZSk7XG4gICAgfVxuICAgIGVuYWJsZVRva2VuQnVja2V0KCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICB1cGRhdGVUb2tlbkJ1Y2tldFJhdGUobmV3UmF0ZSkge1xuICAgICAgICB0aGlzLnJlZmlsbFRva2VuQnVja2V0KCk7XG4gICAgICAgIHRoaXMuZmlsbFJhdGUgPSBNYXRoLm1heChuZXdSYXRlLCB0aGlzLm1pbkZpbGxSYXRlKTtcbiAgICAgICAgdGhpcy5tYXhDYXBhY2l0eSA9IE1hdGgubWF4KG5ld1JhdGUsIHRoaXMubWluQ2FwYWNpdHkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDYXBhY2l0eSA9IE1hdGgubWluKHRoaXMuY3VycmVudENhcGFjaXR5LCB0aGlzLm1heENhcGFjaXR5KTtcbiAgICB9XG4gICAgdXBkYXRlTWVhc3VyZWRSYXRlKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpO1xuICAgICAgICBjb25zdCB0aW1lQnVja2V0ID0gTWF0aC5mbG9vcih0ICogMikgLyAyO1xuICAgICAgICB0aGlzLnJlcXVlc3RDb3VudCsrO1xuICAgICAgICBpZiAodGltZUJ1Y2tldCA+IHRoaXMubGFzdFR4UmF0ZUJ1Y2tldCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFJhdGUgPSB0aGlzLnJlcXVlc3RDb3VudCAvICh0aW1lQnVja2V0IC0gdGhpcy5sYXN0VHhSYXRlQnVja2V0KTtcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZWRUeFJhdGUgPSB0aGlzLmdldFByZWNpc2UoY3VycmVudFJhdGUgKiB0aGlzLnNtb290aCArIHRoaXMubWVhc3VyZWRUeFJhdGUgKiAoMSAtIHRoaXMuc21vb3RoKSk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLmxhc3RUeFJhdGVCdWNrZXQgPSB0aW1lQnVja2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFByZWNpc2UobnVtKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KG51bS50b0ZpeGVkKDgpKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFID0gMTAwO1xuZXhwb3J0IGNvbnN0IE1BWElNVU1fUkVUUllfREVMQVkgPSAyMCAqIDEwMDA7XG5leHBvcnQgY29uc3QgVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFID0gNTAwO1xuZXhwb3J0IGNvbnN0IElOSVRJQUxfUkVUUllfVE9LRU5TID0gNTAwO1xuZXhwb3J0IGNvbnN0IFJFVFJZX0NPU1QgPSA1O1xuZXhwb3J0IGNvbnN0IFRJTUVPVVRfUkVUUllfQ09TVCA9IDEwO1xuZXhwb3J0IGNvbnN0IE5PX1JFVFJZX0lOQ1JFTUVOVCA9IDE7XG5leHBvcnQgY29uc3QgSU5WT0NBVElPTl9JRF9IRUFERVIgPSBcImFtei1zZGstaW52b2NhdGlvbi1pZFwiO1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfSEVBREVSID0gXCJhbXotc2RrLXJlcXVlc3RcIjtcbiIsImltcG9ydCB7IE1BWElNVU1fUkVUUllfREVMQVkgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbiA9ICh7IHJldHJ5RGVsYXksIHJldHJ5Q291bnQsIHJldHJ5Q29zdCwgfSkgPT4ge1xuICAgIGNvbnN0IGdldFJldHJ5Q291bnQgPSAoKSA9PiByZXRyeUNvdW50O1xuICAgIGNvbnN0IGdldFJldHJ5RGVsYXkgPSAoKSA9PiBNYXRoLm1pbihNQVhJTVVNX1JFVFJZX0RFTEFZLCByZXRyeURlbGF5KTtcbiAgICBjb25zdCBnZXRSZXRyeUNvc3QgPSAoKSA9PiByZXRyeUNvc3Q7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0UmV0cnlDb3VudCxcbiAgICAgICAgZ2V0UmV0cnlEZWxheSxcbiAgICAgICAgZ2V0UmV0cnlDb3N0LFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgREVGQVVMVF9NQVhfQVRURU1QVFMsIFJFVFJZX01PREVTIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsIElOSVRJQUxfUkVUUllfVE9LRU5TLCBOT19SRVRSWV9JTkNSRU1FTlQsIFJFVFJZX0NPU1QsIFRIUk9UVExJTkdfUkVUUllfREVMQVlfQkFTRSwgVElNRU9VVF9SRVRSWV9DT1NULCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFJldHJ5QmFja29mZlN0cmF0ZWd5IH0gZnJvbSBcIi4vZGVmYXVsdFJldHJ5QmFja29mZlN0cmF0ZWd5XCI7XG5pbXBvcnQgeyBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbiB9IGZyb20gXCIuL2RlZmF1bHRSZXRyeVRva2VuXCI7XG5leHBvcnQgY2xhc3MgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihtYXhBdHRlbXB0cykge1xuICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gbWF4QXR0ZW1wdHM7XG4gICAgICAgIHRoaXMubW9kZSA9IFJFVFJZX01PREVTLlNUQU5EQVJEO1xuICAgICAgICB0aGlzLmNhcGFjaXR5ID0gSU5JVElBTF9SRVRSWV9UT0tFTlM7XG4gICAgICAgIHRoaXMucmV0cnlCYWNrb2ZmU3RyYXRlZ3kgPSBnZXREZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3koKTtcbiAgICAgICAgdGhpcy5tYXhBdHRlbXB0c1Byb3ZpZGVyID0gdHlwZW9mIG1heEF0dGVtcHRzID09PSBcImZ1bmN0aW9uXCIgPyBtYXhBdHRlbXB0cyA6IGFzeW5jICgpID0+IG1heEF0dGVtcHRzO1xuICAgIH1cbiAgICBhc3luYyBhY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4ocmV0cnlUb2tlblNjb3BlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbih7XG4gICAgICAgICAgICByZXRyeURlbGF5OiBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsXG4gICAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcmVmcmVzaFJldHJ5VG9rZW5Gb3JSZXRyeSh0b2tlbiwgZXJyb3JJbmZvKSB7XG4gICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gYXdhaXQgdGhpcy5nZXRNYXhBdHRlbXB0cygpO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRSZXRyeSh0b2tlbiwgZXJyb3JJbmZvLCBtYXhBdHRlbXB0cykpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVHlwZSA9IGVycm9ySW5mby5lcnJvclR5cGU7XG4gICAgICAgICAgICB0aGlzLnJldHJ5QmFja29mZlN0cmF0ZWd5LnNldERlbGF5QmFzZShlcnJvclR5cGUgPT09IFwiVEhST1RUTElOR1wiID8gVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFIDogREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RnJvbUVycm9yVHlwZSA9IHRoaXMucmV0cnlCYWNrb2ZmU3RyYXRlZ3kuY29tcHV0ZU5leHRCYWNrb2ZmRGVsYXkodG9rZW4uZ2V0UmV0cnlDb3VudCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5RGVsYXkgPSBlcnJvckluZm8ucmV0cnlBZnRlckhpbnRcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KGVycm9ySW5mby5yZXRyeUFmdGVySGludC5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIHx8IDAsIGRlbGF5RnJvbUVycm9yVHlwZSlcbiAgICAgICAgICAgICAgICA6IGRlbGF5RnJvbUVycm9yVHlwZTtcbiAgICAgICAgICAgIGNvbnN0IGNhcGFjaXR5Q29zdCA9IHRoaXMuZ2V0Q2FwYWNpdHlDb3N0KGVycm9yVHlwZSk7XG4gICAgICAgICAgICB0aGlzLmNhcGFjaXR5IC09IGNhcGFjaXR5Q29zdDtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbih7XG4gICAgICAgICAgICAgICAgcmV0cnlEZWxheSxcbiAgICAgICAgICAgICAgICByZXRyeUNvdW50OiB0b2tlbi5nZXRSZXRyeUNvdW50KCkgKyAxLFxuICAgICAgICAgICAgICAgIHJldHJ5Q29zdDogY2FwYWNpdHlDb3N0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmV0cnkgdG9rZW4gYXZhaWxhYmxlXCIpO1xuICAgIH1cbiAgICByZWNvcmRTdWNjZXNzKHRva2VuKSB7XG4gICAgICAgIHRoaXMuY2FwYWNpdHkgPSBNYXRoLm1heChJTklUSUFMX1JFVFJZX1RPS0VOUywgdGhpcy5jYXBhY2l0eSArICh0b2tlbi5nZXRSZXRyeUNvc3QoKSA/PyBOT19SRVRSWV9JTkNSRU1FTlQpKTtcbiAgICB9XG4gICAgZ2V0Q2FwYWNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhcGFjaXR5O1xuICAgIH1cbiAgICBhc3luYyBnZXRNYXhBdHRlbXB0cygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTWF4IGF0dGVtcHRzIHByb3ZpZGVyIGNvdWxkIG5vdCByZXNvbHZlLiBVc2luZyBkZWZhdWx0IG9mICR7REVGQVVMVF9NQVhfQVRURU1QVFN9YCk7XG4gICAgICAgICAgICByZXR1cm4gREVGQVVMVF9NQVhfQVRURU1QVFM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdWxkUmV0cnkodG9rZW5Ub1JlbmV3LCBlcnJvckluZm8sIG1heEF0dGVtcHRzKSB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHRzID0gdG9rZW5Ub1JlbmV3LmdldFJldHJ5Q291bnQoKSArIDE7XG4gICAgICAgIHJldHVybiAoYXR0ZW1wdHMgPCBtYXhBdHRlbXB0cyAmJlxuICAgICAgICAgICAgdGhpcy5jYXBhY2l0eSA+PSB0aGlzLmdldENhcGFjaXR5Q29zdChlcnJvckluZm8uZXJyb3JUeXBlKSAmJlxuICAgICAgICAgICAgdGhpcy5pc1JldHJ5YWJsZUVycm9yKGVycm9ySW5mby5lcnJvclR5cGUpKTtcbiAgICB9XG4gICAgZ2V0Q2FwYWNpdHlDb3N0KGVycm9yVHlwZSkge1xuICAgICAgICByZXR1cm4gZXJyb3JUeXBlID09PSBcIlRSQU5TSUVOVFwiID8gVElNRU9VVF9SRVRSWV9DT1NUIDogUkVUUllfQ09TVDtcbiAgICB9XG4gICAgaXNSZXRyeWFibGVFcnJvcihlcnJvclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yVHlwZSA9PT0gXCJUSFJPVFRMSU5HXCIgfHwgZXJyb3JUeXBlID09PSBcIlRSQU5TSUVOVFwiO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSwgTUFYSU1VTV9SRVRSWV9ERUxBWSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSZXRyeUJhY2tvZmZTdHJhdGVneSA9ICgpID0+IHtcbiAgICBsZXQgZGVsYXlCYXNlID0gREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFO1xuICAgIGNvbnN0IGNvbXB1dGVOZXh0QmFja29mZkRlbGF5ID0gKGF0dGVtcHRzKSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgubWluKE1BWElNVU1fUkVUUllfREVMQVksIE1hdGgucmFuZG9tKCkgKiAyICoqIGF0dGVtcHRzICogZGVsYXlCYXNlKSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXREZWxheUJhc2UgPSAoZGVsYXkpID0+IHtcbiAgICAgICAgZGVsYXlCYXNlID0gZGVsYXk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb21wdXRlTmV4dEJhY2tvZmZEZWxheSxcbiAgICAgICAgc2V0RGVsYXlCYXNlLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgUkVUUllfTU9ERVMgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IERlZmF1bHRSYXRlTGltaXRlciB9IGZyb20gXCIuL0RlZmF1bHRSYXRlTGltaXRlclwiO1xuaW1wb3J0IHsgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5IH0gZnJvbSBcIi4vU3RhbmRhcmRSZXRyeVN0cmF0ZWd5XCI7XG5leHBvcnQgY2xhc3MgQWRhcHRpdmVSZXRyeVN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihtYXhBdHRlbXB0c1Byb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWF4QXR0ZW1wdHNQcm92aWRlciA9IG1heEF0dGVtcHRzUHJvdmlkZXI7XG4gICAgICAgIHRoaXMubW9kZSA9IFJFVFJZX01PREVTLkFEQVBUSVZFO1xuICAgICAgICBjb25zdCB7IHJhdGVMaW1pdGVyIH0gPSBvcHRpb25zID8/IHt9O1xuICAgICAgICB0aGlzLnJhdGVMaW1pdGVyID0gcmF0ZUxpbWl0ZXIgPz8gbmV3IERlZmF1bHRSYXRlTGltaXRlcigpO1xuICAgICAgICB0aGlzLnN0YW5kYXJkUmV0cnlTdHJhdGVneSA9IG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHNQcm92aWRlcik7XG4gICAgfVxuICAgIGFzeW5jIGFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihyZXRyeVRva2VuU2NvcGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yYXRlTGltaXRlci5nZXRTZW5kVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhbmRhcmRSZXRyeVN0cmF0ZWd5LmFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihyZXRyeVRva2VuU2NvcGUpO1xuICAgIH1cbiAgICBhc3luYyByZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5KHRva2VuVG9SZW5ldywgZXJyb3JJbmZvKSB7XG4gICAgICAgIHRoaXMucmF0ZUxpbWl0ZXIudXBkYXRlQ2xpZW50U2VuZGluZ1JhdGUoZXJyb3JJbmZvKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhbmRhcmRSZXRyeVN0cmF0ZWd5LnJlZnJlc2hSZXRyeVRva2VuRm9yUmV0cnkodG9rZW5Ub1JlbmV3LCBlcnJvckluZm8pO1xuICAgIH1cbiAgICByZWNvcmRTdWNjZXNzKHRva2VuKSB7XG4gICAgICAgIHRoaXMucmF0ZUxpbWl0ZXIudXBkYXRlQ2xpZW50U2VuZGluZ1JhdGUoe30pO1xuICAgICAgICB0aGlzLnN0YW5kYXJkUmV0cnlTdHJhdGVneS5yZWNvcmRTdWNjZXNzKHRva2VuKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBub3JtYWxpemVQcm92aWRlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgQWRhcHRpdmVSZXRyeVN0cmF0ZWd5LCBERUZBVUxUX01BWF9BVFRFTVBUUywgREVGQVVMVF9SRVRSWV9NT0RFLCBSRVRSWV9NT0RFUywgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5LCB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmV4cG9ydCBjb25zdCBFTlZfTUFYX0FUVEVNUFRTID0gXCJBV1NfTUFYX0FUVEVNUFRTXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX01BWF9BVFRFTVBUUyA9IFwibWF4X2F0dGVtcHRzXCI7XG5leHBvcnQgY29uc3QgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbnZbRU5WX01BWF9BVFRFTVBUU107XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEF0dGVtcHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudmlyb25tZW50IHZhcmlhYmxlICR7RU5WX01BWF9BVFRFTVBUU30gbWFzdCBiZSBhIG51bWJlciwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXhBdHRlbXB0O1xuICAgIH0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX01BWF9BVFRFTVBUU107XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEF0dGVtcHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNoYXJlZCBjb25maWcgZmlsZSBlbnRyeSAke0NPTkZJR19NQVhfQVRURU1QVFN9IG1hc3QgYmUgYSBudW1iZXIsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4QXR0ZW1wdDtcbiAgICB9LFxuICAgIGRlZmF1bHQ6IERFRkFVTFRfTUFYX0FUVEVNUFRTLFxufTtcbmV4cG9ydCBjb25zdCByZXNvbHZlUmV0cnlDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IHJldHJ5U3RyYXRlZ3kgfSA9IGlucHV0O1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQubWF4QXR0ZW1wdHMgPz8gREVGQVVMVF9NQVhfQVRURU1QVFMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBtYXhBdHRlbXB0cyxcbiAgICAgICAgcmV0cnlTdHJhdGVneTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJldHJ5U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJhdGVneTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldHJ5TW9kZSA9IGF3YWl0IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJldHJ5TW9kZSkoKTtcbiAgICAgICAgICAgIGlmIChyZXRyeU1vZGUgPT09IFJFVFJZX01PREVTLkFEQVBUSVZFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZVJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IEVOVl9SRVRSWV9NT0RFID0gXCJBV1NfUkVUUllfTU9ERVwiO1xuZXhwb3J0IGNvbnN0IENPTkZJR19SRVRSWV9NT0RFID0gXCJyZXRyeV9tb2RlXCI7XG5leHBvcnQgY29uc3QgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gZW52W0VOVl9SRVRSWV9NT0RFXSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19SRVRSWV9NT0RFXSxcbiAgICBkZWZhdWx0OiBERUZBVUxUX1JFVFJZX01PREUsXG59O1xuIiwiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuY29uc3Qgcm5kczhQb29sID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTsgLy8gIyBvZiByYW5kb20gdmFsdWVzIHRvIHByZS1hbGxvY2F0ZVxuXG5sZXQgcG9vbFB0ciA9IHJuZHM4UG9vbC5sZW5ndGg7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmIChwb29sUHRyID4gcm5kczhQb29sLmxlbmd0aCAtIDE2KSB7XG4gICAgY3J5cHRvLnJhbmRvbUZpbGxTeW5jKHJuZHM4UG9vbCk7XG4gICAgcG9vbFB0ciA9IDA7XG4gIH1cblxuICByZXR1cm4gcm5kczhQb29sLnNsaWNlKHBvb2xQdHIsIHBvb2xQdHIgKz0gMTYpO1xufSIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIGNvbnN0IHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCwgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgaXNTZXJ2ZXJFcnJvciwgaXNUaHJvdHRsaW5nRXJyb3IsIGlzVHJhbnNpZW50RXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBJTlZPQ0FUSU9OX0lEX0hFQURFUiwgUkVRVUVTVF9IRUFERVIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBhc1Nka0Vycm9yIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNvbnN0IHJldHJ5TWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBsZXQgcmV0cnlTdHJhdGVneSA9IGF3YWl0IG9wdGlvbnMucmV0cnlTdHJhdGVneSgpO1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gYXdhaXQgb3B0aW9ucy5tYXhBdHRlbXB0cygpO1xuICAgIGlmIChpc1JldHJ5U3RyYXRlZ3lWMihyZXRyeVN0cmF0ZWd5KSkge1xuICAgICAgICByZXRyeVN0cmF0ZWd5ID0gcmV0cnlTdHJhdGVneTtcbiAgICAgICAgbGV0IHJldHJ5VG9rZW4gPSBhd2FpdCByZXRyeVN0cmF0ZWd5LmFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihjb250ZXh0W1wicGFydGl0aW9uX2lkXCJdKTtcbiAgICAgICAgbGV0IGxhc3RFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICBsZXQgdG90YWxSZXRyeURlbGF5ID0gMDtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW0lOVk9DQVRJT05fSURfSEVBREVSXSA9IHY0KCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1JFUVVFU1RfSEVBREVSXSA9IGBhdHRlbXB0PSR7YXR0ZW1wdHMgKyAxfTsgbWF4PSR7bWF4QXR0ZW1wdHN9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXNwb25zZSwgb3V0cHV0IH0gPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2VzcyhyZXRyeVRva2VuKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuJG1ldGFkYXRhLmF0dGVtcHRzID0gYXR0ZW1wdHMgKyAxO1xuICAgICAgICAgICAgICAgIG91dHB1dC4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBvdXRwdXQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlFcnJvckluZm8gPSBnZXRSZXRyeUVycm9ySW5mbyhlKTtcbiAgICAgICAgICAgICAgICBsYXN0RXJyb3IgPSBhc1Nka0Vycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5VG9rZW4gPSBhd2FpdCByZXRyeVN0cmF0ZWd5LnJlZnJlc2hSZXRyeVRva2VuRm9yUmV0cnkocmV0cnlUb2tlbiwgcmV0cnlFcnJvckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFzdEVycm9yLiRtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yLiRtZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvci4kbWV0YWRhdGEuYXR0ZW1wdHMgPSBhdHRlbXB0cyArIDE7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvci4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dGVtcHRzID0gcmV0cnlUb2tlbi5nZXRSZXRyeUNvdW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSByZXRyeVRva2VuLmdldFJldHJ5RGVsYXkoKTtcbiAgICAgICAgICAgICAgICB0b3RhbFJldHJ5RGVsYXkgKz0gZGVsYXk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0cnlTdHJhdGVneSA9IHJldHJ5U3RyYXRlZ3k7XG4gICAgICAgIGlmIChyZXRyeVN0cmF0ZWd5Py5tb2RlKVxuICAgICAgICAgICAgY29udGV4dC51c2VyQWdlbnQgPSBbLi4uKGNvbnRleHQudXNlckFnZW50IHx8IFtdKSwgW1wiY2ZnL3JldHJ5LW1vZGVcIiwgcmV0cnlTdHJhdGVneS5tb2RlXV07XG4gICAgICAgIHJldHVybiByZXRyeVN0cmF0ZWd5LnJldHJ5KG5leHQsIGFyZ3MpO1xuICAgIH1cbn07XG5jb25zdCBpc1JldHJ5U3RyYXRlZ3lWMiA9IChyZXRyeVN0cmF0ZWd5KSA9PiB0eXBlb2YgcmV0cnlTdHJhdGVneS5hY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2YgcmV0cnlTdHJhdGVneS5yZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2VzcyAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGdldFJldHJ5RXJyb3JJbmZvID0gKGVycm9yKSA9PiB7XG4gICAgY29uc3QgZXJyb3JJbmZvID0ge1xuICAgICAgICBlcnJvclR5cGU6IGdldFJldHJ5RXJyb3JUeXBlKGVycm9yKSxcbiAgICB9O1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJIaW50ID0gZ2V0UmV0cnlBZnRlckhpbnQoZXJyb3IuJHJlc3BvbnNlKTtcbiAgICBpZiAocmV0cnlBZnRlckhpbnQpIHtcbiAgICAgICAgZXJyb3JJbmZvLnJldHJ5QWZ0ZXJIaW50ID0gcmV0cnlBZnRlckhpbnQ7XG4gICAgfVxuICAgIHJldHVybiBlcnJvckluZm87XG59O1xuY29uc3QgZ2V0UmV0cnlFcnJvclR5cGUgPSAoZXJyb3IpID0+IHtcbiAgICBpZiAoaXNUaHJvdHRsaW5nRXJyb3IoZXJyb3IpKVxuICAgICAgICByZXR1cm4gXCJUSFJPVFRMSU5HXCI7XG4gICAgaWYgKGlzVHJhbnNpZW50RXJyb3IoZXJyb3IpKVxuICAgICAgICByZXR1cm4gXCJUUkFOU0lFTlRcIjtcbiAgICBpZiAoaXNTZXJ2ZXJFcnJvcihlcnJvcikpXG4gICAgICAgIHJldHVybiBcIlNFUlZFUl9FUlJPUlwiO1xuICAgIHJldHVybiBcIkNMSUVOVF9FUlJPUlwiO1xufTtcbmV4cG9ydCBjb25zdCByZXRyeU1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwicmV0cnlNaWRkbGV3YXJlXCIsXG4gICAgdGFnczogW1wiUkVUUllcIl0sXG4gICAgc3RlcDogXCJmaW5hbGl6ZVJlcXVlc3RcIixcbiAgICBwcmlvcml0eTogXCJoaWdoXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldFJldHJ5UGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKHJldHJ5TWlkZGxld2FyZShvcHRpb25zKSwgcmV0cnlNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGNvbnN0IGdldFJldHJ5QWZ0ZXJIaW50ID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKCFIdHRwUmVzcG9uc2UuaXNJbnN0YW5jZShyZXNwb25zZSkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCByZXRyeUFmdGVySGVhZGVyTmFtZSA9IE9iamVjdC5rZXlzKHJlc3BvbnNlLmhlYWRlcnMpLmZpbmQoKGtleSkgPT4ga2V5LnRvTG93ZXJDYXNlKCkgPT09IFwicmV0cnktYWZ0ZXJcIik7XG4gICAgaWYgKCFyZXRyeUFmdGVySGVhZGVyTmFtZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByZXNwb25zZS5oZWFkZXJzW3JldHJ5QWZ0ZXJIZWFkZXJOYW1lXTtcbiAgICBjb25zdCByZXRyeUFmdGVyU2Vjb25kcyA9IE51bWJlcihyZXRyeUFmdGVyKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihyZXRyeUFmdGVyU2Vjb25kcykpXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShyZXRyeUFmdGVyU2Vjb25kcyAqIDEwMDApO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJEYXRlID0gbmV3IERhdGUocmV0cnlBZnRlcik7XG4gICAgcmV0dXJuIHJldHJ5QWZ0ZXJEYXRlO1xufTtcbiIsImV4cG9ydCBjb25zdCBhc1Nka0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcigpLCBlcnJvcik7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgQVdTIFNESyBlcnJvciB3cmFwcGVyIGZvciAke2Vycm9yfWApO1xufTtcbiIsImV4cG9ydCBjbGFzcyBOb09wTG9nZ2VyIHtcbiAgICB0cmFjZSgpIHsgfVxuICAgIGRlYnVnKCkgeyB9XG4gICAgaW5mbygpIHsgfVxuICAgIHdhcm4oKSB7IH1cbiAgICBlcnJvcigpIHsgfVxufVxuIiwiY29uc3QgZ2V0QWxsQWxpYXNlcyA9IChuYW1lLCBhbGlhc2VzKSA9PiB7XG4gICAgY29uc3QgX2FsaWFzZXMgPSBbXTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICBfYWxpYXNlcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIGFsaWFzZXMpIHtcbiAgICAgICAgICAgIF9hbGlhc2VzLnB1c2goYWxpYXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfYWxpYXNlcztcbn07XG5jb25zdCBnZXRNaWRkbGV3YXJlTmFtZVdpdGhBbGlhc2VzID0gKG5hbWUsIGFsaWFzZXMpID0+IHtcbiAgICByZXR1cm4gYCR7bmFtZSB8fCBcImFub255bW91c1wifSR7YWxpYXNlcyAmJiBhbGlhc2VzLmxlbmd0aCA+IDAgPyBgIChhLmsuYS4gJHthbGlhc2VzLmpvaW4oXCIsXCIpfSlgIDogXCJcIn1gO1xufTtcbmV4cG9ydCBjb25zdCBjb25zdHJ1Y3RTdGFjayA9ICgpID0+IHtcbiAgICBsZXQgYWJzb2x1dGVFbnRyaWVzID0gW107XG4gICAgbGV0IHJlbGF0aXZlRW50cmllcyA9IFtdO1xuICAgIGxldCBpZGVudGlmeU9uUmVzb2x2ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGVudHJpZXNOYW1lU2V0ID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHNvcnQgPSAoZW50cmllcykgPT4gZW50cmllcy5zb3J0KChhLCBiKSA9PiBzdGVwV2VpZ2h0c1tiLnN0ZXBdIC0gc3RlcFdlaWdodHNbYS5zdGVwXSB8fFxuICAgICAgICBwcmlvcml0eVdlaWdodHNbYi5wcmlvcml0eSB8fCBcIm5vcm1hbFwiXSAtIHByaW9yaXR5V2VpZ2h0c1thLnByaW9yaXR5IHx8IFwibm9ybWFsXCJdKTtcbiAgICBjb25zdCByZW1vdmVCeU5hbWUgPSAodG9SZW1vdmUpID0+IHtcbiAgICAgICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxpYXNlcyA9IGdldEFsbEFsaWFzZXMoZW50cnkubmFtZSwgZW50cnkuYWxpYXNlcyk7XG4gICAgICAgICAgICBpZiAoYWxpYXNlcy5pbmNsdWRlcyh0b1JlbW92ZSkpIHtcbiAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWxpYXMgb2YgYWxpYXNlcykge1xuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzTmFtZVNldC5kZWxldGUoYWxpYXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgYWJzb2x1dGVFbnRyaWVzID0gYWJzb2x1dGVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICAgIHJlbGF0aXZlRW50cmllcyA9IHJlbGF0aXZlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgICByZXR1cm4gaXNSZW1vdmVkO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQnlSZWZlcmVuY2UgPSAodG9SZW1vdmUpID0+IHtcbiAgICAgICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5Lm1pZGRsZXdhcmUgPT09IHRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIGdldEFsbEFsaWFzZXMoZW50cnkubmFtZSwgZW50cnkuYWxpYXNlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cmllc05hbWVTZXQuZGVsZXRlKGFsaWFzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGFic29sdXRlRW50cmllcyA9IGFic29sdXRlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZDtcbiAgICB9O1xuICAgIGNvbnN0IGNsb25lVG8gPSAodG9TdGFjaykgPT4ge1xuICAgICAgICBhYnNvbHV0ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIHRvU3RhY2suYWRkKGVudHJ5Lm1pZGRsZXdhcmUsIHsgLi4uZW50cnkgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIHRvU3RhY2suYWRkUmVsYXRpdmVUbyhlbnRyeS5taWRkbGV3YXJlLCB7IC4uLmVudHJ5IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdG9TdGFjay5pZGVudGlmeU9uUmVzb2x2ZT8uKHN0YWNrLmlkZW50aWZ5T25SZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gdG9TdGFjaztcbiAgICB9O1xuICAgIGNvbnN0IGV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QgPSAoZnJvbSkgPT4ge1xuICAgICAgICBjb25zdCBleHBhbmRlZE1pZGRsZXdhcmVMaXN0ID0gW107XG4gICAgICAgIGZyb20uYmVmb3JlLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkuYmVmb3JlLmxlbmd0aCA9PT0gMCAmJiBlbnRyeS5hZnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKC4uLmV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QoZW50cnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaChmcm9tKTtcbiAgICAgICAgZnJvbS5hZnRlci5yZXZlcnNlKCkuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5iZWZvcmUubGVuZ3RoID09PSAwICYmIGVudHJ5LmFmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goLi4uZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdChlbnRyeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGV4cGFuZGVkTWlkZGxld2FyZUxpc3Q7XG4gICAgfTtcbiAgICBjb25zdCBnZXRNaWRkbGV3YXJlTGlzdCA9IChkZWJ1ZyA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJlbGF0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRW50cmllc05hbWVNYXAgPSB7fTtcbiAgICAgICAgYWJzb2x1dGVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgYmVmb3JlOiBbXSxcbiAgICAgICAgICAgICAgICBhZnRlcjogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBnZXRBbGxBbGlhc2VzKG5vcm1hbGl6ZWRFbnRyeS5uYW1lLCBub3JtYWxpemVkRW50cnkuYWxpYXNlcykpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRW50cmllc05hbWVNYXBbYWxpYXNdID0gbm9ybWFsaXplZEVudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9ybWFsaXplZEFic29sdXRlRW50cmllcy5wdXNoKG5vcm1hbGl6ZWRFbnRyeSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICAgICAgICAgIGFmdGVyOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIGdldEFsbEFsaWFzZXMobm9ybWFsaXplZEVudHJ5Lm5hbWUsIG5vcm1hbGl6ZWRFbnRyeS5hbGlhc2VzKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcFthbGlhc10gPSBub3JtYWxpemVkRW50cnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzLnB1c2gobm9ybWFsaXplZEVudHJ5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS50b01pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b01pZGRsZXdhcmUgPSBub3JtYWxpemVkRW50cmllc05hbWVNYXBbZW50cnkudG9NaWRkbGV3YXJlXTtcbiAgICAgICAgICAgICAgICBpZiAodG9NaWRkbGV3YXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2VudHJ5LnRvTWlkZGxld2FyZX0gaXMgbm90IGZvdW5kIHdoZW4gYWRkaW5nIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Z2V0TWlkZGxld2FyZU5hbWVXaXRoQWxpYXNlcyhlbnRyeS5uYW1lLCBlbnRyeS5hbGlhc2VzKX0gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgbWlkZGxld2FyZSAke2VudHJ5LnJlbGF0aW9ufSAke2VudHJ5LnRvTWlkZGxld2FyZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnJlbGF0aW9uID09PSBcImFmdGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9NaWRkbGV3YXJlLmFmdGVyLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50cnkucmVsYXRpb24gPT09IFwiYmVmb3JlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9NaWRkbGV3YXJlLmJlZm9yZS5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtYWluQ2hhaW4gPSBzb3J0KG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMpXG4gICAgICAgICAgICAubWFwKGV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QpXG4gICAgICAgICAgICAucmVkdWNlKCh3aG9sZUxpc3QsIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QpID0+IHtcbiAgICAgICAgICAgIHdob2xlTGlzdC5wdXNoKC4uLmV4cGFuZGVkTWlkZGxld2FyZUxpc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHdob2xlTGlzdDtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gbWFpbkNoYWluO1xuICAgIH07XG4gICAgY29uc3Qgc3RhY2sgPSB7XG4gICAgICAgIGFkZDogKG1pZGRsZXdhcmUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBvdmVycmlkZSwgYWxpYXNlczogX2FsaWFzZXMgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBzdGVwOiBcImluaXRpYWxpemVcIixcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYWxpYXNlcyA9IGdldEFsbEFsaWFzZXMobmFtZSwgX2FsaWFzZXMpO1xuICAgICAgICAgICAgaWYgKGFsaWFzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChhbGlhc2VzLnNvbWUoKGFsaWFzKSA9PiBlbnRyaWVzTmFtZVNldC5oYXMoYWxpYXMpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbWlkZGxld2FyZSBuYW1lICcke2dldE1pZGRsZXdhcmVOYW1lV2l0aEFsaWFzZXMobmFtZSwgX2FsaWFzZXMpfSdgKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b092ZXJyaWRlSW5kZXggPSBhYnNvbHV0ZUVudHJpZXMuZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubmFtZSA9PT0gYWxpYXMgfHwgZW50cnkuYWxpYXNlcz8uc29tZSgoYSkgPT4gYSA9PT0gYWxpYXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b092ZXJyaWRlSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b092ZXJyaWRlID0gYWJzb2x1dGVFbnRyaWVzW3RvT3ZlcnJpZGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9PdmVycmlkZS5zdGVwICE9PSBlbnRyeS5zdGVwIHx8IGVudHJ5LnByaW9yaXR5ICE9PSB0b092ZXJyaWRlLnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7Z2V0TWlkZGxld2FyZU5hbWVXaXRoQWxpYXNlcyh0b092ZXJyaWRlLm5hbWUsIHRvT3ZlcnJpZGUuYWxpYXNlcyl9XCIgbWlkZGxld2FyZSB3aXRoIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHt0b092ZXJyaWRlLnByaW9yaXR5fSBwcmlvcml0eSBpbiAke3RvT3ZlcnJpZGUuc3RlcH0gc3RlcCBjYW5ub3QgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBiZSBvdmVycmlkZGVuIGJ5IFwiJHtnZXRNaWRkbGV3YXJlTmFtZVdpdGhBbGlhc2VzKG5hbWUsIF9hbGlhc2VzKX1cIiBtaWRkbGV3YXJlIHdpdGggYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2VudHJ5LnByaW9yaXR5fSBwcmlvcml0eSBpbiAke2VudHJ5LnN0ZXB9IHN0ZXAuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhYnNvbHV0ZUVudHJpZXMuc3BsaWNlKHRvT3ZlcnJpZGVJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXNOYW1lU2V0LmFkZChhbGlhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWJzb2x1dGVFbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICB9LFxuICAgICAgICBhZGRSZWxhdGl2ZVRvOiAobWlkZGxld2FyZSwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBvdmVycmlkZSwgYWxpYXNlczogX2FsaWFzZXMgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYWxpYXNlcyA9IGdldEFsbEFsaWFzZXMobmFtZSwgX2FsaWFzZXMpO1xuICAgICAgICAgICAgaWYgKGFsaWFzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChhbGlhc2VzLnNvbWUoKGFsaWFzKSA9PiBlbnRyaWVzTmFtZVNldC5oYXMoYWxpYXMpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbWlkZGxld2FyZSBuYW1lICcke2dldE1pZGRsZXdhcmVOYW1lV2l0aEFsaWFzZXMobmFtZSwgX2FsaWFzZXMpfSdgKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b092ZXJyaWRlSW5kZXggPSByZWxhdGl2ZUVudHJpZXMuZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkubmFtZSA9PT0gYWxpYXMgfHwgZW50cnkuYWxpYXNlcz8uc29tZSgoYSkgPT4gYSA9PT0gYWxpYXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b092ZXJyaWRlSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b092ZXJyaWRlID0gcmVsYXRpdmVFbnRyaWVzW3RvT3ZlcnJpZGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9PdmVycmlkZS50b01pZGRsZXdhcmUgIT09IGVudHJ5LnRvTWlkZGxld2FyZSB8fCB0b092ZXJyaWRlLnJlbGF0aW9uICE9PSBlbnRyeS5yZWxhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCIke2dldE1pZGRsZXdhcmVOYW1lV2l0aEFsaWFzZXModG9PdmVycmlkZS5uYW1lLCB0b092ZXJyaWRlLmFsaWFzZXMpfVwiIG1pZGRsZXdhcmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3RvT3ZlcnJpZGUucmVsYXRpb259IFwiJHt0b092ZXJyaWRlLnRvTWlkZGxld2FyZX1cIiBtaWRkbGV3YXJlIGNhbm5vdCBiZSBvdmVycmlkZGVuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYnkgXCIke2dldE1pZGRsZXdhcmVOYW1lV2l0aEFsaWFzZXMobmFtZSwgX2FsaWFzZXMpfVwiIG1pZGRsZXdhcmUgJHtlbnRyeS5yZWxhdGlvbn0gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcIiR7ZW50cnkudG9NaWRkbGV3YXJlfVwiIG1pZGRsZXdhcmUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUVudHJpZXMuc3BsaWNlKHRvT3ZlcnJpZGVJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXNOYW1lU2V0LmFkZChhbGlhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVsYXRpdmVFbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICB9LFxuICAgICAgICBjbG9uZTogKCkgPT4gY2xvbmVUbyhjb25zdHJ1Y3RTdGFjaygpKSxcbiAgICAgICAgdXNlOiAocGx1Z2luKSA9PiB7XG4gICAgICAgICAgICBwbHVnaW4uYXBwbHlUb1N0YWNrKHN0YWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiAodG9SZW1vdmUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG9SZW1vdmUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUJ5TmFtZSh0b1JlbW92ZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUJ5UmVmZXJlbmNlKHRvUmVtb3ZlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQnlUYWc6ICh0b1JlbW92ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyQ2IgPSAoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRhZ3MsIG5hbWUsIGFsaWFzZXM6IF9hbGlhc2VzIH0gPSBlbnRyeTtcbiAgICAgICAgICAgICAgICBpZiAodGFncyAmJiB0YWdzLmluY2x1ZGVzKHRvUmVtb3ZlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGlhc2VzID0gZ2V0QWxsQWxpYXNlcyhuYW1lLCBfYWxpYXNlcyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWxpYXMgb2YgYWxpYXNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllc05hbWVTZXQuZGVsZXRlKGFsaWFzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFic29sdXRlRW50cmllcyA9IGFic29sdXRlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgICAgICAgcmVsYXRpdmVFbnRyaWVzID0gcmVsYXRpdmVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICAgICAgICByZXR1cm4gaXNSZW1vdmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb25jYXQ6IChmcm9tKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVRvKGNvbnN0cnVjdFN0YWNrKCkpO1xuICAgICAgICAgICAgY2xvbmVkLnVzZShmcm9tKTtcbiAgICAgICAgICAgIGNsb25lZC5pZGVudGlmeU9uUmVzb2x2ZShpZGVudGlmeU9uUmVzb2x2ZSB8fCBjbG9uZWQuaWRlbnRpZnlPblJlc29sdmUoKSB8fCAoZnJvbS5pZGVudGlmeU9uUmVzb2x2ZT8uKCkgPz8gZmFsc2UpKTtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5VG9TdGFjazogY2xvbmVUbyxcbiAgICAgICAgaWRlbnRpZnk6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBnZXRNaWRkbGV3YXJlTGlzdCh0cnVlKS5tYXAoKG13KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlcCA9IG13LnN0ZXAgPz9cbiAgICAgICAgICAgICAgICAgICAgbXcucmVsYXRpb24gK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbXcudG9NaWRkbGV3YXJlO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNaWRkbGV3YXJlTmFtZVdpdGhBbGlhc2VzKG13Lm5hbWUsIG13LmFsaWFzZXMpICsgXCIgLSBcIiArIHN0ZXA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaWRlbnRpZnlPblJlc29sdmUodG9nZ2xlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRvZ2dsZSA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgaWRlbnRpZnlPblJlc29sdmUgPSB0b2dnbGU7XG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpZnlPblJlc29sdmU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc29sdmU6IChoYW5kbGVyLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgZ2V0TWlkZGxld2FyZUxpc3QoKVxuICAgICAgICAgICAgICAgIC5tYXAoKGVudHJ5KSA9PiBlbnRyeS5taWRkbGV3YXJlKVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gbWlkZGxld2FyZShoYW5kbGVyLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpZGVudGlmeU9uUmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YWNrLmlkZW50aWZ5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gc3RhY2s7XG59O1xuY29uc3Qgc3RlcFdlaWdodHMgPSB7XG4gICAgaW5pdGlhbGl6ZTogNSxcbiAgICBzZXJpYWxpemU6IDQsXG4gICAgYnVpbGQ6IDMsXG4gICAgZmluYWxpemVSZXF1ZXN0OiAyLFxuICAgIGRlc2VyaWFsaXplOiAxLFxufTtcbmNvbnN0IHByaW9yaXR5V2VpZ2h0cyA9IHtcbiAgICBoaWdoOiAzLFxuICAgIG5vcm1hbDogMixcbiAgICBsb3c6IDEsXG59O1xuIiwiaW1wb3J0IHsgY29uc3RydWN0U3RhY2sgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXN0YWNrXCI7XG5leHBvcnQgY2xhc3MgQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sgPSBjb25zdHJ1Y3RTdGFjaygpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG4gICAgc2VuZChjb21tYW5kLCBvcHRpb25zT3JDYiwgY2IpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zT3JDYiAhPT0gXCJmdW5jdGlvblwiID8gb3B0aW9uc09yQ2IgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdHlwZW9mIG9wdGlvbnNPckNiID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zT3JDYiA6IGNiO1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gY29tbWFuZC5yZXNvbHZlTWlkZGxld2FyZSh0aGlzLm1pZGRsZXdhcmVTdGFjaywgdGhpcy5jb25maWcsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGhhbmRsZXIoY29tbWFuZClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiBjYWxsYmFjayhudWxsLCByZXN1bHQub3V0cHV0KSwgKGVycikgPT4gY2FsbGJhY2soZXJyKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyKGNvbW1hbmQpLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lm91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3kpXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5yZXF1ZXN0SGFuZGxlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZnJvbVN0cmluZyB9IGZyb20gXCJAc21pdGh5L3V0aWwtYnVmZmVyLWZyb21cIjtcbmNvbnN0IEJBU0U2NF9SRUdFWCA9IC9eW0EtWmEtejAtOSsvXSo9ezAsMn0kLztcbmV4cG9ydCBjb25zdCBmcm9tQmFzZTY0ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKChpbnB1dC5sZW5ndGggKiAzKSAlIDQgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW5jb3JyZWN0IHBhZGRpbmcgb24gYmFzZTY0IHN0cmluZy5gKTtcbiAgICB9XG4gICAgaWYgKCFCQVNFNjRfUkVHRVguZXhlYyhpbnB1dCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBiYXNlNjQgc3RyaW5nLmApO1xuICAgIH1cbiAgICBjb25zdCBidWZmZXIgPSBmcm9tU3RyaW5nKGlucHV0LCBcImJhc2U2NFwiKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmJ1ZmZlciwgYnVmZmVyLmJ5dGVPZmZzZXQsIGJ1ZmZlci5ieXRlTGVuZ3RoKTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tQXJyYXlCdWZmZXIgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJ1ZmZlci1mcm9tXCI7XG5leHBvcnQgY29uc3QgdG9CYXNlNjQgPSAoaW5wdXQpID0+IGZyb21BcnJheUJ1ZmZlcihpbnB1dC5idWZmZXIsIGlucHV0LmJ5dGVPZmZzZXQsIGlucHV0LmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuIiwiaW1wb3J0IHsgdHJhbnNmb3JtRnJvbVN0cmluZywgdHJhbnNmb3JtVG9TdHJpbmcgfSBmcm9tIFwiLi90cmFuc2Zvcm1zXCI7XG5leHBvcnQgY2xhc3MgVWludDhBcnJheUJsb2JBZGFwdGVyIGV4dGVuZHMgVWludDhBcnJheSB7XG4gICAgc3RhdGljIGZyb21TdHJpbmcoc291cmNlLCBlbmNvZGluZyA9IFwidXRmLThcIikge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRnJvbVN0cmluZyhzb3VyY2UsIGVuY29kaW5nKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb252ZXJzaW9uIGZyb20gJHt0eXBlb2Ygc291cmNlfSB0byBVaW50OEFycmF5QmxvYkFkYXB0ZXIuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIG11dGF0ZShzb3VyY2UpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHNvdXJjZSwgVWludDhBcnJheUJsb2JBZGFwdGVyLnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuICAgIHRyYW5zZm9ybVRvU3RyaW5nKGVuY29kaW5nID0gXCJ1dGYtOFwiKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1Ub1N0cmluZyh0aGlzLCBlbmNvZGluZyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgVWludDhBcnJheUJsb2JBZGFwdGVyIH0gZnJvbSBcIi4vVWludDhBcnJheUJsb2JBZGFwdGVyXCI7XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtVG9TdHJpbmcocGF5bG9hZCwgZW5jb2RpbmcgPSBcInV0Zi04XCIpIHtcbiAgICBpZiAoZW5jb2RpbmcgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgcmV0dXJuIHRvQmFzZTY0KHBheWxvYWQpO1xuICAgIH1cbiAgICByZXR1cm4gdG9VdGY4KHBheWxvYWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUZyb21TdHJpbmcoc3RyLCBlbmNvZGluZykge1xuICAgIGlmIChlbmNvZGluZyA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheUJsb2JBZGFwdGVyLm11dGF0ZShmcm9tQmFzZTY0KHN0cikpO1xuICAgIH1cbiAgICByZXR1cm4gVWludDhBcnJheUJsb2JBZGFwdGVyLm11dGF0ZShmcm9tVXRmOChzdHIpKTtcbn1cbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwic3RyZWFtXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImh0dHBzXCIpOyIsImV4cG9ydCBjb25zdCBOT0RFSlNfVElNRU9VVF9FUlJPUl9DT0RFUyA9IFtcIkVDT05OUkVTRVRcIiwgXCJFUElQRVwiLCBcIkVUSU1FRE9VVFwiXTtcbiIsImNvbnN0IGdldFRyYW5zZm9ybWVkSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtZWRIZWFkZXJzID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlclZhbHVlcyA9IGhlYWRlcnNbbmFtZV07XG4gICAgICAgIHRyYW5zZm9ybWVkSGVhZGVyc1tuYW1lXSA9IEFycmF5LmlzQXJyYXkoaGVhZGVyVmFsdWVzKSA/IGhlYWRlclZhbHVlcy5qb2luKFwiLFwiKSA6IGhlYWRlclZhbHVlcztcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkSGVhZGVycztcbn07XG5leHBvcnQgeyBnZXRUcmFuc2Zvcm1lZEhlYWRlcnMgfTtcbiIsImltcG9ydCB7IEh0dHBSZXNwb25zZSB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGJ1aWxkUXVlcnlTdHJpbmcgfSBmcm9tIFwiQHNtaXRoeS9xdWVyeXN0cmluZy1idWlsZGVyXCI7XG5pbXBvcnQgeyBBZ2VudCBhcyBoQWdlbnQsIHJlcXVlc3QgYXMgaFJlcXVlc3QgfSBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IHsgQWdlbnQgYXMgaHNBZ2VudCwgcmVxdWVzdCBhcyBoc1JlcXVlc3QgfSBmcm9tIFwiaHR0cHNcIjtcbmltcG9ydCB7IE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm1lZEhlYWRlcnMgfSBmcm9tIFwiLi9nZXQtdHJhbnNmb3JtZWQtaGVhZGVyc1wiO1xuaW1wb3J0IHsgc2V0Q29ubmVjdGlvblRpbWVvdXQgfSBmcm9tIFwiLi9zZXQtY29ubmVjdGlvbi10aW1lb3V0XCI7XG5pbXBvcnQgeyBzZXRTb2NrZXRLZWVwQWxpdmUgfSBmcm9tIFwiLi9zZXQtc29ja2V0LWtlZXAtYWxpdmVcIjtcbmltcG9ydCB7IHNldFNvY2tldFRpbWVvdXQgfSBmcm9tIFwiLi9zZXQtc29ja2V0LXRpbWVvdXRcIjtcbmltcG9ydCB7IHdyaXRlUmVxdWVzdEJvZHkgfSBmcm9tIFwiLi93cml0ZS1yZXF1ZXN0LWJvZHlcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFUVVFU1RfVElNRU9VVCA9IDA7XG5leHBvcnQgY2xhc3MgTm9kZUh0dHBIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB7IGhhbmRsZXJQcm90b2NvbDogXCJodHRwLzEuMVwiIH07XG4gICAgICAgIHRoaXMuY29uZmlnUHJvdmlkZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoX29wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc29sdmVEZWZhdWx0Q29uZmlnKF9vcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzb2x2ZURlZmF1bHRDb25maWcob3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzb2x2ZURlZmF1bHRDb25maWcob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RUaW1lb3V0LCBjb25uZWN0aW9uVGltZW91dCwgc29ja2V0VGltZW91dCwgaHR0cEFnZW50LCBodHRwc0FnZW50IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBrZWVwQWxpdmUgPSB0cnVlO1xuICAgICAgICBjb25zdCBtYXhTb2NrZXRzID0gNTA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dCxcbiAgICAgICAgICAgIHJlcXVlc3RUaW1lb3V0OiByZXF1ZXN0VGltZW91dCA/PyBzb2NrZXRUaW1lb3V0LFxuICAgICAgICAgICAgaHR0cEFnZW50OiBodHRwQWdlbnQgfHwgbmV3IGhBZ2VudCh7IGtlZXBBbGl2ZSwgbWF4U29ja2V0cyB9KSxcbiAgICAgICAgICAgIGh0dHBzQWdlbnQ6IGh0dHBzQWdlbnQgfHwgbmV3IGhzQWdlbnQoeyBrZWVwQWxpdmUsIG1heFNvY2tldHMgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY29uZmlnPy5odHRwQWdlbnQ/LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jb25maWc/Lmh0dHBzQWdlbnQ/LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlKHJlcXVlc3QsIHsgYWJvcnRTaWduYWwgfSA9IHt9KSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gYXdhaXQgdGhpcy5jb25maWdQcm92aWRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgd3JpdGVSZXF1ZXN0Qm9keVByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gYXN5bmMgKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRlUmVxdWVzdEJvZHlQcm9taXNlO1xuICAgICAgICAgICAgICAgIF9yZXNvbHZlKGFyZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVqZWN0ID0gYXN5bmMgKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRlUmVxdWVzdEJvZHlQcm9taXNlO1xuICAgICAgICAgICAgICAgIF9yZWplY3QoYXJnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9kZSBIVFRQIHJlcXVlc3QgaGFuZGxlciBjb25maWcgaXMgbm90IHJlc29sdmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIlJlcXVlc3QgYWJvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgICAgICAgICAgICByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNTU0wgPSByZXF1ZXN0LnByb3RvY29sID09PSBcImh0dHBzOlwiO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBidWlsZFF1ZXJ5U3RyaW5nKHJlcXVlc3QucXVlcnkgfHwge30pO1xuICAgICAgICAgICAgbGV0IGF1dGggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC51c2VybmFtZSAhPSBudWxsIHx8IHJlcXVlc3QucGFzc3dvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gcmVxdWVzdC51c2VybmFtZSA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcmVxdWVzdC5wYXNzd29yZCA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGF1dGggPSBgJHt1c2VybmFtZX06JHtwYXNzd29yZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhdGggPSByZXF1ZXN0LnBhdGg7XG4gICAgICAgICAgICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXRoICs9IGA/JHtxdWVyeVN0cmluZ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuZnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoICs9IGAjJHtyZXF1ZXN0LmZyYWdtZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub2RlSHR0cHNPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBob3N0OiByZXF1ZXN0Lmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICBwb3J0OiByZXF1ZXN0LnBvcnQsXG4gICAgICAgICAgICAgICAgYWdlbnQ6IGlzU1NMID8gdGhpcy5jb25maWcuaHR0cHNBZ2VudCA6IHRoaXMuY29uZmlnLmh0dHBBZ2VudCxcbiAgICAgICAgICAgICAgICBhdXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RGdW5jID0gaXNTU0wgPyBoc1JlcXVlc3QgOiBoUmVxdWVzdDtcbiAgICAgICAgICAgIGNvbnN0IHJlcSA9IHJlcXVlc3RGdW5jKG5vZGVIdHRwc09wdGlvbnMsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBodHRwUmVzcG9uc2UgPSBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1c0NvZGUgfHwgLTEsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogcmVzLnN0YXR1c01lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGdldFRyYW5zZm9ybWVkSGVhZGVycyhyZXMuaGVhZGVycyksXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHJlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgcmVzcG9uc2U6IGh0dHBSZXNwb25zZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChOT0RFSlNfVElNRU9VVF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnIuY29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24oZXJyLCB7IG5hbWU6IFwiVGltZW91dEVycm9yXCIgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRDb25uZWN0aW9uVGltZW91dChyZXEsIHJlamVjdCwgdGhpcy5jb25maWcuY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgc2V0U29ja2V0VGltZW91dChyZXEsIHJlamVjdCwgdGhpcy5jb25maWcucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKGFib3J0U2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGFib3J0RXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGh0dHBBZ2VudCA9IG5vZGVIdHRwc09wdGlvbnMuYWdlbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGh0dHBBZ2VudCA9PT0gXCJvYmplY3RcIiAmJiBcImtlZXBBbGl2ZVwiIGluIGh0dHBBZ2VudCkge1xuICAgICAgICAgICAgICAgIHNldFNvY2tldEtlZXBBbGl2ZShyZXEsIHtcbiAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlOiBodHRwQWdlbnQua2VlcEFsaXZlLFxuICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVNc2VjczogaHR0cEFnZW50LmtlZXBBbGl2ZU1zZWNzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVSZXF1ZXN0Qm9keVByb21pc2UgPSB3cml0ZVJlcXVlc3RCb2R5KHJlcSwgcmVxdWVzdCwgdGhpcy5jb25maWcucmVxdWVzdFRpbWVvdXQpLmNhdGNoKF9yZWplY3QpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlSHR0cENsaWVudENvbmZpZyhrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbmZpZ1Byb3ZpZGVyID0gdGhpcy5jb25maWdQcm92aWRlci50aGVuKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICAgIFtrZXldOiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBodHRwSGFuZGxlckNvbmZpZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZyA/PyB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXVyaS1lc2NhcGVcIjtcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5KSB7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnkpLnNvcnQoKSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGtleSA9IGVzY2FwZVVyaShrZXkpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpTGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChgJHtrZXl9PSR7ZXNjYXBlVXJpKHZhbHVlW2ldKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBxc0VudHJ5ID0ga2V5O1xuICAgICAgICAgICAgaWYgKHZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHFzRW50cnkgKz0gYD0ke2VzY2FwZVVyaSh2YWx1ZSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRzLnB1c2gocXNFbnRyeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oXCImXCIpO1xufVxuIiwiZXhwb3J0IGNvbnN0IHNldENvbm5lY3Rpb25UaW1lb3V0ID0gKHJlcXVlc3QsIHJlamVjdCwgdGltZW91dEluTXMgPSAwKSA9PiB7XG4gICAgaWYgKCF0aW1lb3V0SW5Ncykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZXF1ZXN0LmRlc3Ryb3koKTtcbiAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24obmV3IEVycm9yKGBTb2NrZXQgdGltZWQgb3V0IHdpdGhvdXQgZXN0YWJsaXNoaW5nIGEgY29ubmVjdGlvbiB3aXRoaW4gJHt0aW1lb3V0SW5Nc30gbXNgKSwge1xuICAgICAgICAgICAgbmFtZTogXCJUaW1lb3V0RXJyb3JcIixcbiAgICAgICAgfSkpO1xuICAgIH0sIHRpbWVvdXRJbk1zKTtcbiAgICByZXF1ZXN0Lm9uKFwic29ja2V0XCIsIChzb2NrZXQpID0+IHtcbiAgICAgICAgaWYgKHNvY2tldC5jb25uZWN0aW5nKSB7XG4gICAgICAgICAgICBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4iLCJleHBvcnQgY29uc3Qgc2V0U29ja2V0VGltZW91dCA9IChyZXF1ZXN0LCByZWplY3QsIHRpbWVvdXRJbk1zID0gMCkgPT4ge1xuICAgIHJlcXVlc3Quc2V0VGltZW91dCh0aW1lb3V0SW5NcywgKCkgPT4ge1xuICAgICAgICByZXF1ZXN0LmRlc3Ryb3koKTtcbiAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24obmV3IEVycm9yKGBDb25uZWN0aW9uIHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRJbk1zfSBtc2ApLCB7IG5hbWU6IFwiVGltZW91dEVycm9yXCIgfSkpO1xuICAgIH0pO1xufTtcbiIsImV4cG9ydCBjb25zdCBzZXRTb2NrZXRLZWVwQWxpdmUgPSAocmVxdWVzdCwgeyBrZWVwQWxpdmUsIGtlZXBBbGl2ZU1zZWNzIH0pID0+IHtcbiAgICBpZiAoa2VlcEFsaXZlICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVxdWVzdC5vbihcInNvY2tldFwiLCAoc29ja2V0KSA9PiB7XG4gICAgICAgIHNvY2tldC5zZXRLZWVwQWxpdmUoa2VlcEFsaXZlLCBrZWVwQWxpdmVNc2VjcyB8fCAwKTtcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gXCJzdHJlYW1cIjtcbmNvbnN0IE1JTl9XQUlUX1RJTUUgPSAxMDAwO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlUmVxdWVzdEJvZHkoaHR0cFJlcXVlc3QsIHJlcXVlc3QsIG1heENvbnRpbnVlVGltZW91dE1zID0gTUlOX1dBSVRfVElNRSkge1xuICAgIGNvbnN0IGhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnMgPz8ge307XG4gICAgY29uc3QgZXhwZWN0ID0gaGVhZGVyc1tcIkV4cGVjdFwiXSB8fCBoZWFkZXJzW1wiZXhwZWN0XCJdO1xuICAgIGxldCB0aW1lb3V0SWQgPSAtMTtcbiAgICBsZXQgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICBpZiAoZXhwZWN0ID09PSBcIjEwMC1jb250aW51ZVwiKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IE51bWJlcihzZXRUaW1lb3V0KHJlc29sdmUsIE1hdGgubWF4KE1JTl9XQUlUX1RJTUUsIG1heENvbnRpbnVlVGltZW91dE1zKSkpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGh0dHBSZXF1ZXN0Lm9uKFwiY29udGludWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGh0dHBSZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGlmICghaGFzRXJyb3IpIHtcbiAgICAgICAgd3JpdGVCb2R5KGh0dHBSZXF1ZXN0LCByZXF1ZXN0LmJvZHkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyaXRlQm9keShodHRwUmVxdWVzdCwgYm9keSkge1xuICAgIGlmIChib2R5IGluc3RhbmNlb2YgUmVhZGFibGUpIHtcbiAgICAgICAgYm9keS5waXBlKGh0dHBSZXF1ZXN0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYm9keSkge1xuICAgICAgICBodHRwUmVxdWVzdC5lbmQoQnVmZmVyLmZyb20oYm9keSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaHR0cFJlcXVlc3QuZW5kKCk7XG4gICAgfVxufVxuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJodHRwMlwiKTsiLCJleHBvcnQgY2xhc3MgTm9kZUh0dHAyQ29ubmVjdGlvblBvb2wge1xuICAgIGNvbnN0cnVjdG9yKHNlc3Npb25zKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IHNlc3Npb25zID8/IFtdO1xuICAgIH1cbiAgICBwb2xsKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9ucy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9mZmVyTGFzdChzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbnMucHVzaChzZXNzaW9uKTtcbiAgICB9XG4gICAgY29udGFpbnMoc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9ucy5pbmNsdWRlcyhzZXNzaW9uKTtcbiAgICB9XG4gICAgcmVtb3ZlKHNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IHRoaXMuc2Vzc2lvbnMuZmlsdGVyKChzKSA9PiBzICE9PSBzZXNzaW9uKTtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25zW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9XG4gICAgZGVzdHJveShjb25uZWN0aW9uKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiB0aGlzLnNlc3Npb25zKSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgV3JpdGFibGUgfSBmcm9tIFwic3RyZWFtXCI7XG5leHBvcnQgY2xhc3MgQ29sbGVjdG9yIGV4dGVuZHMgV3JpdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcmVkQnl0ZXMgPSBbXTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5idWZmZXJlZEJ5dGVzLnB1c2goY2h1bmspO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbGxlY3RvciB9IGZyb20gXCIuL2NvbGxlY3RvclwiO1xuZXhwb3J0IGNvbnN0IHN0cmVhbUNvbGxlY3RvciA9IChzdHJlYW0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBjb2xsZWN0b3IgPSBuZXcgQ29sbGVjdG9yKCk7XG4gICAgc3RyZWFtLnBpcGUoY29sbGVjdG9yKTtcbiAgICBzdHJlYW0ub24oXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgIGNvbGxlY3Rvci5lbmQoKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG4gICAgY29sbGVjdG9yLm9uKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICBjb2xsZWN0b3Iub24oXCJmaW5pc2hcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KEJ1ZmZlci5jb25jYXQodGhpcy5idWZmZXJlZEJ5dGVzKSk7XG4gICAgICAgIHJlc29sdmUoYnl0ZXMpO1xuICAgIH0pO1xufSk7XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInV0aWxcIik7IiwiaW1wb3J0IHsgVWludDhBcnJheUJsb2JBZGFwdGVyIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1zdHJlYW1cIjtcbmV4cG9ydCBjb25zdCBjb2xsZWN0Qm9keSA9IGFzeW5jIChzdHJlYW1Cb2R5ID0gbmV3IFVpbnQ4QXJyYXkoKSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChzdHJlYW1Cb2R5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheUJsb2JBZGFwdGVyLm11dGF0ZShzdHJlYW1Cb2R5KTtcbiAgICB9XG4gICAgaWYgKCFzdHJlYW1Cb2R5KSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5QmxvYkFkYXB0ZXIubXV0YXRlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH1cbiAgICBjb25zdCBmcm9tQ29udGV4dCA9IGNvbnRleHQuc3RyZWFtQ29sbGVjdG9yKHN0cmVhbUJvZHkpO1xuICAgIHJldHVybiBVaW50OEFycmF5QmxvYkFkYXB0ZXIubXV0YXRlKGF3YWl0IGZyb21Db250ZXh0KTtcbn07XG4iLCJpbXBvcnQgeyBjb25zdHJ1Y3RTdGFjayB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc3RhY2tcIjtcbmV4cG9ydCBjbGFzcyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sgPSBjb25zdHJ1Y3RTdGFjaygpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBTRU5TSVRJVkVfU1RSSU5HID0gXCIqKipTZW5zaXRpdmVJbmZvcm1hdGlvbioqKlwiO1xuIiwiZXhwb3J0IGNvbnN0IHBhcnNlQm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiZmFsc2VcIjpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIGJvb2xlYW4gdmFsdWUgXCIke3ZhbHVlfVwiYCk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBleHBlY3RCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAodmFsdWUgPT09IDAgfHwgdmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKHN0YWNrVHJhY2VXYXJuaW5nKGBFeHBlY3RlZCBib29sZWFuLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3QgbG93ZXIgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobG93ZXIgPT09IFwiZmFsc2VcIiB8fCBsb3dlciA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKHN0YWNrVHJhY2VXYXJuaW5nKGBFeHBlY3RlZCBib29sZWFuLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgPT09IFwiZmFsc2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYm9vbGVhbiwgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKTtcbn07XG5leHBvcnQgY29uc3QgZXhwZWN0TnVtYmVyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VkKSkge1xuICAgICAgICAgICAgaWYgKFN0cmluZyhwYXJzZWQpICE9PSBTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oc3RhY2tUcmFjZVdhcm5pbmcoYEV4cGVjdGVkIG51bWJlciBidXQgb2JzZXJ2ZWQgc3RyaW5nOiAke3ZhbHVlfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG51bWJlciwgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKTtcbn07XG5jb25zdCBNQVhfRkxPQVQgPSBNYXRoLmNlaWwoMiAqKiAxMjcgKiAoMiAtIDIgKiogLTIzKSk7XG5leHBvcnQgY29uc3QgZXhwZWN0RmxvYXQzMiA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGV4cGVjdGVkID0gZXhwZWN0TnVtYmVyKHZhbHVlKTtcbiAgICBpZiAoZXhwZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiAhTnVtYmVyLmlzTmFOKGV4cGVjdGVkKSAmJiBleHBlY3RlZCAhPT0gSW5maW5pdHkgJiYgZXhwZWN0ZWQgIT09IC1JbmZpbml0eSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZXhwZWN0ZWQpID4gTUFYX0ZMT0FUKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCAzMi1iaXQgZmxvYXQsIGdvdCAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RlZDtcbn07XG5leHBvcnQgY29uc3QgZXhwZWN0TG9uZyA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSAmJiAhTnVtYmVyLmlzTmFOKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGludGVnZXIsIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCk7XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdEludCA9IGV4cGVjdExvbmc7XG5leHBvcnQgY29uc3QgZXhwZWN0SW50MzIgPSAodmFsdWUpID0+IGV4cGVjdFNpemVkSW50KHZhbHVlLCAzMik7XG5leHBvcnQgY29uc3QgZXhwZWN0U2hvcnQgPSAodmFsdWUpID0+IGV4cGVjdFNpemVkSW50KHZhbHVlLCAxNik7XG5leHBvcnQgY29uc3QgZXhwZWN0Qnl0ZSA9ICh2YWx1ZSkgPT4gZXhwZWN0U2l6ZWRJbnQodmFsdWUsIDgpO1xuY29uc3QgZXhwZWN0U2l6ZWRJbnQgPSAodmFsdWUsIHNpemUpID0+IHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGV4cGVjdExvbmcodmFsdWUpO1xuICAgIGlmIChleHBlY3RlZCAhPT0gdW5kZWZpbmVkICYmIGNhc3RJbnQoZXhwZWN0ZWQsIHNpemUpICE9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCAke3NpemV9LWJpdCBpbnRlZ2VyLCBnb3QgJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdGVkO1xufTtcbmNvbnN0IGNhc3RJbnQgPSAodmFsdWUsIHNpemUpID0+IHtcbiAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5Lm9mKHZhbHVlKVswXTtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIHJldHVybiBJbnQxNkFycmF5Lm9mKHZhbHVlKVswXTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuIEludDhBcnJheS5vZih2YWx1ZSlbMF07XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBleHBlY3ROb25OdWxsID0gKHZhbHVlLCBsb2NhdGlvbikgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYSBub24tbnVsbCB2YWx1ZSBmb3IgJHtsb2NhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYSBub24tbnVsbCB2YWx1ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCBleHBlY3RPYmplY3QgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHJlY2VpdmVkVHlwZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gXCJhcnJheVwiIDogdHlwZW9mIHZhbHVlO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG9iamVjdCwgZ290ICR7cmVjZWl2ZWRUeXBlfTogJHt2YWx1ZX1gKTtcbn07XG5leHBvcnQgY29uc3QgZXhwZWN0U3RyaW5nID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChbXCJib29sZWFuXCIsIFwibnVtYmVyXCIsIFwiYmlnaW50XCJdLmluY2x1ZGVzKHR5cGVvZiB2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oc3RhY2tUcmFjZVdhcm5pbmcoYEV4cGVjdGVkIHN0cmluZywgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKSk7XG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBzdHJpbmcsIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCk7XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdFVuaW9uID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgYXNPYmplY3QgPSBleHBlY3RPYmplY3QodmFsdWUpO1xuICAgIGNvbnN0IHNldEtleXMgPSBPYmplY3QuZW50cmllcyhhc09iamVjdClcbiAgICAgICAgLmZpbHRlcigoWywgdl0pID0+IHYgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoW2tdKSA9PiBrKTtcbiAgICBpZiAoc2V0S2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5pb25zIG11c3QgaGF2ZSBleGFjdGx5IG9uZSBub24tbnVsbCBtZW1iZXIuIE5vbmUgd2VyZSBmb3VuZC5gKTtcbiAgICB9XG4gICAgaWYgKHNldEtleXMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbmlvbnMgbXVzdCBoYXZlIGV4YWN0bHkgb25lIG5vbi1udWxsIG1lbWJlci4gS2V5cyAke3NldEtleXN9IHdlcmUgbm90IG51bGwuYCk7XG4gICAgfVxuICAgIHJldHVybiBhc09iamVjdDtcbn07XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VEb3VibGUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdE51bWJlcihwYXJzZU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0TnVtYmVyKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VGbG9hdCA9IHN0cmljdFBhcnNlRG91YmxlO1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlRmxvYXQzMiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXhwZWN0RmxvYXQzMihwYXJzZU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0RmxvYXQzMih2YWx1ZSk7XG59O1xuY29uc3QgTlVNQkVSX1JFR0VYID0gLygtPyg/OjB8WzEtOV1cXGQqKSg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyl8KC0/SW5maW5pdHkpfChOYU4pL2c7XG5jb25zdCBwYXJzZU51bWJlciA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IG1hdGNoZXMgPSB2YWx1ZS5tYXRjaChOVU1CRVJfUkVHRVgpO1xuICAgIGlmIChtYXRjaGVzID09PSBudWxsIHx8IG1hdGNoZXNbMF0ubGVuZ3RoICE9PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgcmVhbCBudW1iZXIsIGdvdCBpbXBsaWNpdCBOYU5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBsaW1pdGVkUGFyc2VEb3VibGUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXRTdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0TnVtYmVyKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgaGFuZGxlRmxvYXQgPSBsaW1pdGVkUGFyc2VEb3VibGU7XG5leHBvcnQgY29uc3QgbGltaXRlZFBhcnNlRmxvYXQgPSBsaW1pdGVkUGFyc2VEb3VibGU7XG5leHBvcnQgY29uc3QgbGltaXRlZFBhcnNlRmxvYXQzMiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RGbG9hdDMyKHZhbHVlKTtcbn07XG5jb25zdCBwYXJzZUZsb2F0U3RyaW5nID0gKHZhbHVlKSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICBjYXNlIFwiTmFOXCI6XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICBjYXNlIFwiSW5maW5pdHlcIjpcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgY2FzZSBcIi1JbmZpbml0eVwiOlxuICAgICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIGZsb2F0IHZhbHVlOiAke3ZhbHVlfWApO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VMb25nID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXhwZWN0TG9uZyhwYXJzZU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0TG9uZyh2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlSW50ID0gc3RyaWN0UGFyc2VMb25nO1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlSW50MzIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RJbnQzMihwYXJzZU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0SW50MzIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZVNob3J0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXhwZWN0U2hvcnQocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdFNob3J0KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VCeXRlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXhwZWN0Qnl0ZShwYXJzZU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0Qnl0ZSh2YWx1ZSk7XG59O1xuY29uc3Qgc3RhY2tUcmFjZVdhcm5pbmcgPSAobWVzc2FnZSkgPT4ge1xuICAgIHJldHVybiBTdHJpbmcobmV3IFR5cGVFcnJvcihtZXNzYWdlKS5zdGFjayB8fCBtZXNzYWdlKVxuICAgICAgICAuc3BsaXQoXCJcXG5cIilcbiAgICAgICAgLnNsaWNlKDAsIDUpXG4gICAgICAgIC5maWx0ZXIoKHMpID0+ICFzLmluY2x1ZGVzKFwic3RhY2tUcmFjZVdhcm5pbmdcIikpXG4gICAgICAgIC5qb2luKFwiXFxuXCIpO1xufTtcbmV4cG9ydCBjb25zdCBsb2dnZXIgPSB7XG4gICAgd2FybjogY29uc29sZS53YXJuLFxufTtcbiIsImltcG9ydCB7IHN0cmljdFBhcnNlQnl0ZSwgc3RyaWN0UGFyc2VEb3VibGUsIHN0cmljdFBhcnNlRmxvYXQzMiwgc3RyaWN0UGFyc2VTaG9ydCB9IGZyb20gXCIuL3BhcnNlLXV0aWxzXCI7XG5jb25zdCBEQVlTID0gW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdO1xuY29uc3QgTU9OVEhTID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGVUb1V0Y1N0cmluZyhkYXRlKSB7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldFVUQ0RheSgpO1xuICAgIGNvbnN0IGRheU9mTW9udGhJbnQgPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICBjb25zdCBob3Vyc0ludCA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICBjb25zdCBtaW51dGVzSW50ID0gZGF0ZS5nZXRVVENNaW51dGVzKCk7XG4gICAgY29uc3Qgc2Vjb25kc0ludCA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xuICAgIGNvbnN0IGRheU9mTW9udGhTdHJpbmcgPSBkYXlPZk1vbnRoSW50IDwgMTAgPyBgMCR7ZGF5T2ZNb250aEludH1gIDogYCR7ZGF5T2ZNb250aEludH1gO1xuICAgIGNvbnN0IGhvdXJzU3RyaW5nID0gaG91cnNJbnQgPCAxMCA/IGAwJHtob3Vyc0ludH1gIDogYCR7aG91cnNJbnR9YDtcbiAgICBjb25zdCBtaW51dGVzU3RyaW5nID0gbWludXRlc0ludCA8IDEwID8gYDAke21pbnV0ZXNJbnR9YCA6IGAke21pbnV0ZXNJbnR9YDtcbiAgICBjb25zdCBzZWNvbmRzU3RyaW5nID0gc2Vjb25kc0ludCA8IDEwID8gYDAke3NlY29uZHNJbnR9YCA6IGAke3NlY29uZHNJbnR9YDtcbiAgICByZXR1cm4gYCR7REFZU1tkYXlPZldlZWtdfSwgJHtkYXlPZk1vbnRoU3RyaW5nfSAke01PTlRIU1ttb250aF19ICR7eWVhcn0gJHtob3Vyc1N0cmluZ306JHttaW51dGVzU3RyaW5nfToke3NlY29uZHNTdHJpbmd9IEdNVGA7XG59XG5jb25zdCBSRkMzMzM5ID0gbmV3IFJlZ0V4cCgvXihcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pW3RUXShcXGR7Mn0pOihcXGR7Mn0pOihcXGR7Mn0pKD86XFwuKFxcZCspKT9belpdJC8pO1xuZXhwb3J0IGNvbnN0IHBhcnNlUmZjMzMzOURhdGVUaW1lID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUkZDLTMzMzkgZGF0ZS10aW1lcyBtdXN0IGJlIGV4cHJlc3NlZCBhcyBzdHJpbmdzXCIpO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IFJGQzMzMzkuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBSRkMtMzMzOSBkYXRlLXRpbWUgdmFsdWVcIik7XG4gICAgfVxuICAgIGNvbnN0IFtfLCB5ZWFyU3RyLCBtb250aFN0ciwgZGF5U3RyLCBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kc10gPSBtYXRjaDtcbiAgICBjb25zdCB5ZWFyID0gc3RyaWN0UGFyc2VTaG9ydChzdHJpcExlYWRpbmdaZXJvZXMoeWVhclN0cikpO1xuICAgIGNvbnN0IG1vbnRoID0gcGFyc2VEYXRlVmFsdWUobW9udGhTdHIsIFwibW9udGhcIiwgMSwgMTIpO1xuICAgIGNvbnN0IGRheSA9IHBhcnNlRGF0ZVZhbHVlKGRheVN0ciwgXCJkYXlcIiwgMSwgMzEpO1xuICAgIHJldHVybiBidWlsZERhdGUoeWVhciwgbW9udGgsIGRheSwgeyBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyB9KTtcbn07XG5jb25zdCBSRkMzMzM5X1dJVEhfT0ZGU0VUID0gbmV3IFJlZ0V4cCgvXihcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pW3RUXShcXGR7Mn0pOihcXGR7Mn0pOihcXGR7Mn0pKD86XFwuKFxcZCspKT8oKFstK11cXGR7Mn1cXDpcXGR7Mn0pfFt6Wl0pJC8pO1xuZXhwb3J0IGNvbnN0IHBhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJGQy0zMzM5IGRhdGUtdGltZXMgbXVzdCBiZSBleHByZXNzZWQgYXMgc3RyaW5nc1wiKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSBSRkMzMzM5X1dJVEhfT0ZGU0VULmV4ZWModmFsdWUpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgUkZDLTMzMzkgZGF0ZS10aW1lIHZhbHVlXCIpO1xuICAgIH1cbiAgICBjb25zdCBbXywgeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMsIG9mZnNldFN0cl0gPSBtYXRjaDtcbiAgICBjb25zdCB5ZWFyID0gc3RyaWN0UGFyc2VTaG9ydChzdHJpcExlYWRpbmdaZXJvZXMoeWVhclN0cikpO1xuICAgIGNvbnN0IG1vbnRoID0gcGFyc2VEYXRlVmFsdWUobW9udGhTdHIsIFwibW9udGhcIiwgMSwgMTIpO1xuICAgIGNvbnN0IGRheSA9IHBhcnNlRGF0ZVZhbHVlKGRheVN0ciwgXCJkYXlcIiwgMSwgMzEpO1xuICAgIGNvbnN0IGRhdGUgPSBidWlsZERhdGUoeWVhciwgbW9udGgsIGRheSwgeyBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyB9KTtcbiAgICBpZiAob2Zmc2V0U3RyLnRvVXBwZXJDYXNlKCkgIT0gXCJaXCIpIHtcbiAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpIC0gcGFyc2VPZmZzZXRUb01pbGxpc2Vjb25kcyhvZmZzZXRTdHIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59O1xuY29uc3QgSU1GX0ZJWERBVEUgPSBuZXcgUmVnRXhwKC9eKD86TW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSwgKFxcZHsyfSkgKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKSAoXFxkezR9KSAoXFxkezEsMn0pOihcXGR7Mn0pOihcXGR7Mn0pKD86XFwuKFxcZCspKT8gR01UJC8pO1xuY29uc3QgUkZDXzg1MF9EQVRFID0gbmV3IFJlZ0V4cCgvXig/Ok1vbmRheXxUdWVzZGF5fFdlZG5lc2RheXxUaHVyc2RheXxGcmlkYXl8U2F0dXJkYXl8U3VuZGF5KSwgKFxcZHsyfSktKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKS0oXFxkezJ9KSAoXFxkezEsMn0pOihcXGR7Mn0pOihcXGR7Mn0pKD86XFwuKFxcZCspKT8gR01UJC8pO1xuY29uc3QgQVNDX1RJTUUgPSBuZXcgUmVnRXhwKC9eKD86TW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSAoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpICggWzEtOV18XFxkezJ9KSAoXFxkezEsMn0pOihcXGR7Mn0pOihcXGR7Mn0pKD86XFwuKFxcZCspKT8gKFxcZHs0fSkkLyk7XG5leHBvcnQgY29uc3QgcGFyc2VSZmM3MjMxRGF0ZVRpbWUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJSRkMtNzIzMSBkYXRlLXRpbWVzIG11c3QgYmUgZXhwcmVzc2VkIGFzIHN0cmluZ3NcIik7XG4gICAgfVxuICAgIGxldCBtYXRjaCA9IElNRl9GSVhEQVRFLmV4ZWModmFsdWUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb25zdCBbXywgZGF5U3RyLCBtb250aFN0ciwgeWVhclN0ciwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHNdID0gbWF0Y2g7XG4gICAgICAgIHJldHVybiBidWlsZERhdGUoc3RyaWN0UGFyc2VTaG9ydChzdHJpcExlYWRpbmdaZXJvZXMoeWVhclN0cikpLCBwYXJzZU1vbnRoQnlTaG9ydE5hbWUobW9udGhTdHIpLCBwYXJzZURhdGVWYWx1ZShkYXlTdHIsIFwiZGF5XCIsIDEsIDMxKSwgeyBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyB9KTtcbiAgICB9XG4gICAgbWF0Y2ggPSBSRkNfODUwX0RBVEUuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IFtfLCBkYXlTdHIsIG1vbnRoU3RyLCB5ZWFyU3RyLCBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kc10gPSBtYXRjaDtcbiAgICAgICAgcmV0dXJuIGFkanVzdFJmYzg1MFllYXIoYnVpbGREYXRlKHBhcnNlVHdvRGlnaXRZZWFyKHllYXJTdHIpLCBwYXJzZU1vbnRoQnlTaG9ydE5hbWUobW9udGhTdHIpLCBwYXJzZURhdGVWYWx1ZShkYXlTdHIsIFwiZGF5XCIsIDEsIDMxKSwge1xuICAgICAgICAgICAgaG91cnMsXG4gICAgICAgICAgICBtaW51dGVzLFxuICAgICAgICAgICAgc2Vjb25kcyxcbiAgICAgICAgICAgIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbWF0Y2ggPSBBU0NfVElNRS5leGVjKHZhbHVlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgW18sIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzLCB5ZWFyU3RyXSA9IG1hdGNoO1xuICAgICAgICByZXR1cm4gYnVpbGREYXRlKHN0cmljdFBhcnNlU2hvcnQoc3RyaXBMZWFkaW5nWmVyb2VzKHllYXJTdHIpKSwgcGFyc2VNb250aEJ5U2hvcnROYW1lKG1vbnRoU3RyKSwgcGFyc2VEYXRlVmFsdWUoZGF5U3RyLnRyaW1MZWZ0KCksIFwiZGF5XCIsIDEsIDMxKSwgeyBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyB9KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgUkZDLTcyMzEgZGF0ZS10aW1lIHZhbHVlXCIpO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZUVwb2NoVGltZXN0YW1wID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IHZhbHVlQXNEb3VibGU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB2YWx1ZUFzRG91YmxlID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YWx1ZUFzRG91YmxlID0gc3RyaWN0UGFyc2VEb3VibGUodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVwb2NoIHRpbWVzdGFtcHMgbXVzdCBiZSBleHByZXNzZWQgYXMgZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBvciB0aGVpciBzdHJpbmcgcmVwcmVzZW50YXRpb25cIik7XG4gICAgfVxuICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWVBc0RvdWJsZSkgfHwgdmFsdWVBc0RvdWJsZSA9PT0gSW5maW5pdHkgfHwgdmFsdWVBc0RvdWJsZSA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFcG9jaCB0aW1lc3RhbXBzIG11c3QgYmUgdmFsaWQsIG5vbi1JbmZpbml0ZSwgbm9uLU5hTiBudW1lcmljc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKE1hdGgucm91bmQodmFsdWVBc0RvdWJsZSAqIDEwMDApKTtcbn07XG5jb25zdCBidWlsZERhdGUgPSAoeWVhciwgbW9udGgsIGRheSwgdGltZSkgPT4ge1xuICAgIGNvbnN0IGFkanVzdGVkTW9udGggPSBtb250aCAtIDE7XG4gICAgdmFsaWRhdGVEYXlPZk1vbnRoKHllYXIsIGFkanVzdGVkTW9udGgsIGRheSk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIGFkanVzdGVkTW9udGgsIGRheSwgcGFyc2VEYXRlVmFsdWUodGltZS5ob3VycywgXCJob3VyXCIsIDAsIDIzKSwgcGFyc2VEYXRlVmFsdWUodGltZS5taW51dGVzLCBcIm1pbnV0ZVwiLCAwLCA1OSksIHBhcnNlRGF0ZVZhbHVlKHRpbWUuc2Vjb25kcywgXCJzZWNvbmRzXCIsIDAsIDYwKSwgcGFyc2VNaWxsaXNlY29uZHModGltZS5mcmFjdGlvbmFsTWlsbGlzZWNvbmRzKSkpO1xufTtcbmNvbnN0IHBhcnNlVHdvRGlnaXRZZWFyID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgdGhpc1llYXIgPSBuZXcgRGF0ZSgpLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgY29uc3QgdmFsdWVJblRoaXNDZW50dXJ5ID0gTWF0aC5mbG9vcih0aGlzWWVhciAvIDEwMCkgKiAxMDAgKyBzdHJpY3RQYXJzZVNob3J0KHN0cmlwTGVhZGluZ1plcm9lcyh2YWx1ZSkpO1xuICAgIGlmICh2YWx1ZUluVGhpc0NlbnR1cnkgPCB0aGlzWWVhcikge1xuICAgICAgICByZXR1cm4gdmFsdWVJblRoaXNDZW50dXJ5ICsgMTAwO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVJblRoaXNDZW50dXJ5O1xufTtcbmNvbnN0IEZJRlRZX1lFQVJTX0lOX01JTExJUyA9IDUwICogMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMDtcbmNvbnN0IGFkanVzdFJmYzg1MFllYXIgPSAoaW5wdXQpID0+IHtcbiAgICBpZiAoaW5wdXQuZ2V0VGltZSgpIC0gbmV3IERhdGUoKS5nZXRUaW1lKCkgPiBGSUZUWV9ZRUFSU19JTl9NSUxMSVMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGlucHV0LmdldFVUQ0Z1bGxZZWFyKCkgLSAxMDAsIGlucHV0LmdldFVUQ01vbnRoKCksIGlucHV0LmdldFVUQ0RhdGUoKSwgaW5wdXQuZ2V0VVRDSG91cnMoKSwgaW5wdXQuZ2V0VVRDTWludXRlcygpLCBpbnB1dC5nZXRVVENTZWNvbmRzKCksIGlucHV0LmdldFVUQ01pbGxpc2Vjb25kcygpKSk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dDtcbn07XG5jb25zdCBwYXJzZU1vbnRoQnlTaG9ydE5hbWUgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBtb250aElkeCA9IE1PTlRIUy5pbmRleE9mKHZhbHVlKTtcbiAgICBpZiAobW9udGhJZHggPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgbW9udGg6ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIHJldHVybiBtb250aElkeCArIDE7XG59O1xuY29uc3QgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbmNvbnN0IHZhbGlkYXRlRGF5T2ZNb250aCA9ICh5ZWFyLCBtb250aCwgZGF5KSA9PiB7XG4gICAgbGV0IG1heERheXMgPSBEQVlTX0lOX01PTlRIW21vbnRoXTtcbiAgICBpZiAobW9udGggPT09IDEgJiYgaXNMZWFwWWVhcih5ZWFyKSkge1xuICAgICAgICBtYXhEYXlzID0gMjk7XG4gICAgfVxuICAgIGlmIChkYXkgPiBtYXhEYXlzKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgZGF5IGZvciAke01PTlRIU1ttb250aF19IGluICR7eWVhcn06ICR7ZGF5fWApO1xuICAgIH1cbn07XG5jb25zdCBpc0xlYXBZZWFyID0gKHllYXIpID0+IHtcbiAgICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59O1xuY29uc3QgcGFyc2VEYXRlVmFsdWUgPSAodmFsdWUsIHR5cGUsIGxvd2VyLCB1cHBlcikgPT4ge1xuICAgIGNvbnN0IGRhdGVWYWwgPSBzdHJpY3RQYXJzZUJ5dGUoc3RyaXBMZWFkaW5nWmVyb2VzKHZhbHVlKSk7XG4gICAgaWYgKGRhdGVWYWwgPCBsb3dlciB8fCBkYXRlVmFsID4gdXBwZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0eXBlfSBtdXN0IGJlIGJldHdlZW4gJHtsb3dlcn0gYW5kICR7dXBwZXJ9LCBpbmNsdXNpdmVgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGVWYWw7XG59O1xuY29uc3QgcGFyc2VNaWxsaXNlY29uZHMgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmljdFBhcnNlRmxvYXQzMihcIjAuXCIgKyB2YWx1ZSkgKiAxMDAwO1xufTtcbmNvbnN0IHBhcnNlT2Zmc2V0VG9NaWxsaXNlY29uZHMgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBkaXJlY3Rpb25TdHIgPSB2YWx1ZVswXTtcbiAgICBsZXQgZGlyZWN0aW9uID0gMTtcbiAgICBpZiAoZGlyZWN0aW9uU3RyID09IFwiK1wiKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9IDE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRpcmVjdGlvblN0ciA9PSBcIi1cIikge1xuICAgICAgICBkaXJlY3Rpb24gPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE9mZnNldCBkaXJlY3Rpb24sICR7ZGlyZWN0aW9uU3RyfSwgbXVzdCBiZSBcIitcIiBvciBcIi1cImApO1xuICAgIH1cbiAgICBjb25zdCBob3VyID0gTnVtYmVyKHZhbHVlLnN1YnN0cmluZygxLCAzKSk7XG4gICAgY29uc3QgbWludXRlID0gTnVtYmVyKHZhbHVlLnN1YnN0cmluZyg0LCA2KSk7XG4gICAgcmV0dXJuIGRpcmVjdGlvbiAqIChob3VyICogNjAgKyBtaW51dGUpICogNjAgKiAxMDAwO1xufTtcbmNvbnN0IHN0cmlwTGVhZGluZ1plcm9lcyA9ICh2YWx1ZSkgPT4ge1xuICAgIGxldCBpZHggPSAwO1xuICAgIHdoaWxlIChpZHggPCB2YWx1ZS5sZW5ndGggLSAxICYmIHZhbHVlLmNoYXJBdChpZHgpID09PSBcIjBcIikge1xuICAgICAgICBpZHgrKztcbiAgICB9XG4gICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5zbGljZShpZHgpO1xufTtcbiIsImV4cG9ydCBjbGFzcyBTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFNlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IG9wdGlvbnMuJGZhdWx0O1xuICAgICAgICB0aGlzLiRtZXRhZGF0YSA9IG9wdGlvbnMuJG1ldGFkYXRhO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gPSAoZXhjZXB0aW9uLCBhZGRpdGlvbnMgPSB7fSkgPT4ge1xuICAgIE9iamVjdC5lbnRyaWVzKGFkZGl0aW9ucylcbiAgICAgICAgLmZpbHRlcigoWywgdl0pID0+IHYgIT09IHVuZGVmaW5lZClcbiAgICAgICAgLmZvckVhY2goKFtrLCB2XSkgPT4ge1xuICAgICAgICBpZiAoZXhjZXB0aW9uW2tdID09IHVuZGVmaW5lZCB8fCBleGNlcHRpb25ba10gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbltrXSA9IHY7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBtZXNzYWdlID0gZXhjZXB0aW9uLm1lc3NhZ2UgfHwgZXhjZXB0aW9uLk1lc3NhZ2UgfHwgXCJVbmtub3duRXJyb3JcIjtcbiAgICBleGNlcHRpb24ubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgZGVsZXRlIGV4Y2VwdGlvbi5NZXNzYWdlO1xuICAgIHJldHVybiBleGNlcHRpb247XG59O1xuIiwiaW1wb3J0IHsgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vZXhjZXB0aW9uc1wiO1xuZXhwb3J0IGNvbnN0IHRocm93RGVmYXVsdEVycm9yID0gKHsgb3V0cHV0LCBwYXJzZWRCb2R5LCBleGNlcHRpb25DdG9yLCBlcnJvckNvZGUgfSkgPT4ge1xuICAgIGNvbnN0ICRtZXRhZGF0YSA9IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KTtcbiAgICBjb25zdCBzdGF0dXNDb2RlID0gJG1ldGFkYXRhLmh0dHBTdGF0dXNDb2RlID8gJG1ldGFkYXRhLmh0dHBTdGF0dXNDb2RlICsgXCJcIiA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBleGNlcHRpb25DdG9yKHtcbiAgICAgICAgbmFtZTogcGFyc2VkQm9keT8uY29kZSB8fCBwYXJzZWRCb2R5Py5Db2RlIHx8IGVycm9yQ29kZSB8fCBzdGF0dXNDb2RlIHx8IFwiVW5rbm93bkVycm9yXCIsXG4gICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgJG1ldGFkYXRhLFxuICAgIH0pO1xuICAgIHRocm93IGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbihyZXNwb25zZSwgcGFyc2VkQm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHdpdGhCYXNlRXhjZXB0aW9uID0gKEV4Y2VwdGlvbkN0b3IpID0+IHtcbiAgICByZXR1cm4gKHsgb3V0cHV0LCBwYXJzZWRCb2R5LCBlcnJvckNvZGUgfSkgPT4ge1xuICAgICAgICB0aHJvd0RlZmF1bHRFcnJvcih7IG91dHB1dCwgcGFyc2VkQm9keSwgZXhjZXB0aW9uQ3RvcjogRXhjZXB0aW9uQ3RvciwgZXJyb3JDb2RlIH0pO1xuICAgIH07XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuIiwiZXhwb3J0IGNvbnN0IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgPSAobW9kZSkgPT4ge1xuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICBjYXNlIFwic3RhbmRhcmRcIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmV0cnlNb2RlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDMxMDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiaW4tcmVnaW9uXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJldHJ5TW9kZTogXCJzdGFuZGFyZFwiLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0OiAxMTAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcImNyb3NzLXJlZ2lvblwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXRyeU1vZGU6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dDogMzEwMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJtb2JpbGVcIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmV0cnlNb2RlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59O1xuIiwibGV0IHdhcm5pbmdFbWl0dGVkID0gZmFsc2U7XG5leHBvcnQgY29uc3QgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiA9ICh2ZXJzaW9uKSA9PiB7XG4gICAgaWYgKHZlcnNpb24gJiYgIXdhcm5pbmdFbWl0dGVkICYmIHBhcnNlSW50KHZlcnNpb24uc3Vic3RyaW5nKDEsIHZlcnNpb24uaW5kZXhPZihcIi5cIikpKSA8IDE0KSB7XG4gICAgICAgIHdhcm5pbmdFbWl0dGVkID0gdHJ1ZTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgQWxnb3JpdGhtSWQgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuZXhwb3J0IHsgQWxnb3JpdGhtSWQgfTtcbmV4cG9ydCBjb25zdCBnZXRDaGVja3N1bUNvbmZpZ3VyYXRpb24gPSAocnVudGltZUNvbmZpZykgPT4ge1xuICAgIGNvbnN0IGNoZWNrc3VtQWxnb3JpdGhtcyA9IFtdO1xuICAgIGZvciAoY29uc3QgaWQgaW4gQWxnb3JpdGhtSWQpIHtcbiAgICAgICAgY29uc3QgYWxnb3JpdGhtSWQgPSBBbGdvcml0aG1JZFtpZF07XG4gICAgICAgIGlmIChydW50aW1lQ29uZmlnW2FsZ29yaXRobUlkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGVja3N1bUFsZ29yaXRobXMucHVzaCh7XG4gICAgICAgICAgICBhbGdvcml0aG1JZDogKCkgPT4gYWxnb3JpdGhtSWQsXG4gICAgICAgICAgICBjaGVja3N1bUNvbnN0cnVjdG9yOiAoKSA9PiBydW50aW1lQ29uZmlnW2FsZ29yaXRobUlkXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIF9jaGVja3N1bUFsZ29yaXRobXM6IGNoZWNrc3VtQWxnb3JpdGhtcyxcbiAgICAgICAgYWRkQ2hlY2tzdW1BbGdvcml0aG0oYWxnbykge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tzdW1BbGdvcml0aG1zLnB1c2goYWxnbyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrc3VtQWxnb3JpdGhtcygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja3N1bUFsZ29yaXRobXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUNoZWNrc3VtUnVudGltZUNvbmZpZyA9IChjbGllbnRDb25maWcpID0+IHtcbiAgICBjb25zdCBydW50aW1lQ29uZmlnID0ge307XG4gICAgY2xpZW50Q29uZmlnLmNoZWNrc3VtQWxnb3JpdGhtcygpLmZvckVhY2goKGNoZWNrc3VtQWxnb3JpdGhtKSA9PiB7XG4gICAgICAgIHJ1bnRpbWVDb25maWdbY2hlY2tzdW1BbGdvcml0aG0uYWxnb3JpdGhtSWQoKV0gPSBjaGVja3N1bUFsZ29yaXRobS5jaGVja3N1bUNvbnN0cnVjdG9yKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJ1bnRpbWVDb25maWc7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFJldHJ5Q29uZmlndXJhdGlvbiA9IChydW50aW1lQ29uZmlnKSA9PiB7XG4gICAgbGV0IF9yZXRyeVN0cmF0ZWd5ID0gcnVudGltZUNvbmZpZy5yZXRyeVN0cmF0ZWd5O1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldFJldHJ5U3RyYXRlZ3kocmV0cnlTdHJhdGVneSkge1xuICAgICAgICAgICAgX3JldHJ5U3RyYXRlZ3kgPSByZXRyeVN0cmF0ZWd5O1xuICAgICAgICB9LFxuICAgICAgICByZXRyeVN0cmF0ZWd5KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZXRyeVN0cmF0ZWd5O1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVSZXRyeVJ1bnRpbWVDb25maWcgPSAocmV0cnlTdHJhdGVneUNvbmZpZ3VyYXRpb24pID0+IHtcbiAgICBjb25zdCBydW50aW1lQ29uZmlnID0ge307XG4gICAgcnVudGltZUNvbmZpZy5yZXRyeVN0cmF0ZWd5ID0gcmV0cnlTdHJhdGVneUNvbmZpZ3VyYXRpb24ucmV0cnlTdHJhdGVneSgpO1xuICAgIHJldHVybiBydW50aW1lQ29uZmlnO1xufTtcbiIsImltcG9ydCB7IGdldENoZWNrc3VtQ29uZmlndXJhdGlvbiwgcmVzb2x2ZUNoZWNrc3VtUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL2NoZWNrc3VtXCI7XG5pbXBvcnQgeyBnZXRSZXRyeUNvbmZpZ3VyYXRpb24sIHJlc29sdmVSZXRyeVJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9yZXRyeVwiO1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uID0gKHJ1bnRpbWVDb25maWcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5nZXRDaGVja3N1bUNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZyksXG4gICAgICAgIC4uLmdldFJldHJ5Q29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSxcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Q2xpZW50Q29uZmlndXJhdGlvbiA9IGdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVEZWZhdWx0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXNvbHZlQ2hlY2tzdW1SdW50aW1lQ29uZmlnKGNvbmZpZyksXG4gICAgICAgIC4uLnJlc29sdmVSZXRyeVJ1bnRpbWVDb25maWcoY29uZmlnKSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChzdHIpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgY29uc3QgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgPSAob2JqKSA9PiB7XG4gICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkgJiYgb2JqW2tleV1bdGV4dE5vZGVOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldW3RleHROb2RlTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9ialtrZXldID09PSBcIm9iamVjdFwiICYmIG9ialtrZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGdldFZhbHVlRnJvbVRleHROb2RlKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufTtcbiIsImV4cG9ydCBjb25zdCBTdHJpbmdXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuICAgIGNvbnN0IENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShTdHJpbmcsIFtudWxsLCAuLi5hcmd1bWVudHNdKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG59O1xuU3RyaW5nV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmluZy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogU3RyaW5nV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSxcbn0pO1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0cmluZ1dyYXBwZXIsIFN0cmluZyk7XG5leHBvcnQgY2xhc3MgTGF6eUpzb25TdHJpbmcgZXh0ZW5kcyBTdHJpbmdXcmFwcGVyIHtcbiAgICBkZXNlcmlhbGl6ZUpTT04oKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN1cGVyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBzdXBlci50b1N0cmluZygpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIExhenlKc29uU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFN0cmluZyB8fCB0eXBlb2Ygb2JqZWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExhenlKc29uU3RyaW5nKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gbWFwKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIGxldCBmaWx0ZXI7XG4gICAgbGV0IGluc3RydWN0aW9ucztcbiAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGFyZzIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGFyZ2V0ID0ge307XG4gICAgICAgIGluc3RydWN0aW9ucyA9IGFyZzA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBhcmcwO1xuICAgICAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZmlsdGVyID0gYXJnMTtcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IGFyZzI7XG4gICAgICAgICAgICByZXR1cm4gbWFwV2l0aEZpbHRlcih0YXJnZXQsIGZpbHRlciwgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IGFyZzE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaW5zdHJ1Y3Rpb25zKSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5zdHJ1Y3Rpb25zW2tleV0pKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IGluc3RydWN0aW9uc1trZXldO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlJbnN0cnVjdGlvbih0YXJnZXQsIG51bGwsIGluc3RydWN0aW9ucywga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmV4cG9ydCBjb25zdCBjb252ZXJ0TWFwID0gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHRhcmdldCB8fCB7fSkpIHtcbiAgICAgICAgb3V0cHV0W2tdID0gWywgdl07XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuZXhwb3J0IGNvbnN0IHRha2UgPSAoc291cmNlLCBpbnN0cnVjdGlvbnMpID0+IHtcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgYXBwbHlJbnN0cnVjdGlvbihvdXQsIHNvdXJjZSwgaW5zdHJ1Y3Rpb25zLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufTtcbmNvbnN0IG1hcFdpdGhGaWx0ZXIgPSAodGFyZ2V0LCBmaWx0ZXIsIGluc3RydWN0aW9ucykgPT4ge1xuICAgIHJldHVybiBtYXAodGFyZ2V0LCBPYmplY3QuZW50cmllcyhpbnN0cnVjdGlvbnMpLnJlZHVjZSgoX2luc3RydWN0aW9ucywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgX2luc3RydWN0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBfaW5zdHJ1Y3Rpb25zW2tleV0gPSBbZmlsdGVyLCB2YWx1ZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9pbnN0cnVjdGlvbnNba2V5XSA9IFtmaWx0ZXIsIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luc3RydWN0aW9ucztcbiAgICB9LCB7fSkpO1xufTtcbmNvbnN0IGFwcGx5SW5zdHJ1Y3Rpb24gPSAodGFyZ2V0LCBzb3VyY2UsIGluc3RydWN0aW9ucywgdGFyZ2V0S2V5KSA9PiB7XG4gICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbdGFyZ2V0S2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFssIGluc3RydWN0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbZmlsdGVyID0gbm9uTnVsbGlzaCwgdmFsdWVGbiA9IHBhc3MsIHNvdXJjZUtleSA9IHRhcmdldEtleV0gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgaWYgKCh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgJiYgZmlsdGVyKHNvdXJjZVtzb3VyY2VLZXldKSkgfHwgKHR5cGVvZiBmaWx0ZXIgIT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcikpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gdmFsdWVGbihzb3VyY2Vbc291cmNlS2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgW2ZpbHRlciwgdmFsdWVdID0gaW5zdHJ1Y3Rpb25zW3RhcmdldEtleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGxldCBfdmFsdWU7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRGaWx0ZXJQYXNzZWQgPSBmaWx0ZXIgPT09IHVuZGVmaW5lZCAmJiAoX3ZhbHVlID0gdmFsdWUoKSkgIT0gbnVsbDtcbiAgICAgICAgY29uc3QgY3VzdG9tRmlsdGVyUGFzc2VkID0gKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcih2b2lkIDApKSB8fCAodHlwZW9mIGZpbHRlciAhPT0gXCJmdW5jdGlvblwiICYmICEhZmlsdGVyKTtcbiAgICAgICAgaWYgKGRlZmF1bHRGaWx0ZXJQYXNzZWQpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1c3RvbUZpbHRlclBhc3NlZCkge1xuICAgICAgICAgICAgdGFyZ2V0W3RhcmdldEtleV0gPSB2YWx1ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBkZWZhdWx0RmlsdGVyUGFzc2VkID0gZmlsdGVyID09PSB1bmRlZmluZWQgJiYgdmFsdWUgIT0gbnVsbDtcbiAgICAgICAgY29uc3QgY3VzdG9tRmlsdGVyUGFzc2VkID0gKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcih2YWx1ZSkpIHx8ICh0eXBlb2YgZmlsdGVyICE9PSBcImZ1bmN0aW9uXCIgJiYgISFmaWx0ZXIpO1xuICAgICAgICBpZiAoZGVmYXVsdEZpbHRlclBhc3NlZCB8fCBjdXN0b21GaWx0ZXJQYXNzZWQpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3Qgbm9uTnVsbGlzaCA9IChfKSA9PiBfICE9IG51bGw7XG5jb25zdCBwYXNzID0gKF8pID0+IF87XG4iLCJpbXBvcnQgeyBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCB9IGZyb20gXCIuL2V4dGVuZGVkLWVuY29kZS11cmktY29tcG9uZW50XCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZWRQYXRoID0gKHJlc29sdmVkUGF0aCwgaW5wdXQsIG1lbWJlck5hbWUsIGxhYmVsVmFsdWVQcm92aWRlciwgdXJpTGFiZWwsIGlzR3JlZWR5TGFiZWwpID0+IHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBpbnB1dFttZW1iZXJOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsVmFsdWUgPSBsYWJlbFZhbHVlUHJvdmlkZXIoKTtcbiAgICAgICAgaWYgKGxhYmVsVmFsdWUubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVtcHR5IHZhbHVlIHByb3ZpZGVkIGZvciBpbnB1dCBIVFRQIGxhYmVsOiBcIiArIG1lbWJlck5hbWUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gcmVzb2x2ZWRQYXRoLnJlcGxhY2UodXJpTGFiZWwsIGlzR3JlZWR5TGFiZWxcbiAgICAgICAgICAgID8gbGFiZWxWYWx1ZVxuICAgICAgICAgICAgICAgIC5zcGxpdChcIi9cIilcbiAgICAgICAgICAgICAgICAubWFwKChzZWdtZW50KSA9PiBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChzZWdtZW50KSlcbiAgICAgICAgICAgICAgICAuam9pbihcIi9cIilcbiAgICAgICAgICAgIDogZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQobGFiZWxWYWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsdWUgcHJvdmlkZWQgZm9yIGlucHV0IEhUVFAgbGFiZWw6IFwiICsgbWVtYmVyTmFtZSArIFwiLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbn07XG4iLCJleHBvcnQgY29uc3Qgc2VyaWFsaXplRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgIH1cbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgSW5maW5pdHk6XG4gICAgICAgICAgICByZXR1cm4gXCJJbmZpbml0eVwiO1xuICAgICAgICBjYXNlIC1JbmZpbml0eTpcbiAgICAgICAgICAgIHJldHVybiBcIi1JbmZpbml0eVwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3QgX2pzb24gPSAob2JqKSA9PiB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLmZpbHRlcigoXykgPT4gXyAhPSBudWxsKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaikpIHtcbiAgICAgICAgICAgIGlmIChvYmpba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IF9qc29uKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFNUU1NlcnZpY2VFeGNlcHRpb24gZXh0ZW5kcyBfX1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTVFNTZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFNUU1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vU1RTU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEV4cGlyZWRUb2tlbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV4cGlyZWRUb2tlbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlBhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZWdpb25EaXNhYmxlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZWdpb25EaXNhYmxlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIElEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIklEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIElEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlNlY3JldEFjY2Vzc0tleSAmJiB7IFNlY3JldEFjY2Vzc0tleTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc3VtZVJvbGVSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc3VtZVJvbGVXaXRoU0FNTFJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlNBTUxBc3NlcnRpb24gJiYgeyBTQU1MQXNzZXJ0aW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzdW1lUm9sZVdpdGhTQU1MUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxzICYmIHsgQ3JlZGVudGlhbHM6IENyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DcmVkZW50aWFscykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouV2ViSWRlbnRpdHlUb2tlbiAmJiB7IFdlYklkZW50aXR5VG9rZW46IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxzICYmIHsgQ3JlZGVudGlhbHM6IENyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DcmVkZW50aWFscykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZXRGZWRlcmF0aW9uVG9rZW5SZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdldFNlc3Npb25Ub2tlblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3JlZGVudGlhbHMpIH0pLFxufSk7XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgY29sbGVjdEJvZHksIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQgYXMgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCwgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgYXMgX19nZXRWYWx1ZUZyb21UZXh0Tm9kZSwgcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0IGFzIF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0LCBzdHJpY3RQYXJzZUludDMyIGFzIF9fc3RyaWN0UGFyc2VJbnQzMiwgd2l0aEJhc2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgWE1MUGFyc2VyIH0gZnJvbSBcImZhc3QteG1sLXBhcnNlclwiO1xuaW1wb3J0IHsgRXhwaXJlZFRva2VuRXhjZXB0aW9uLCBJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24sIElEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24sIEludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbiwgSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24sIE1hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uLCBQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiwgUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgU1RTU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL1NUU1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9Bc3N1bWVSb2xlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Fzc3VtZVJvbGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkFzc3VtZVJvbGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Fzc3VtZVJvbGVXaXRoU0FNTENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9Bc3N1bWVSb2xlV2l0aFNBTUxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkFzc3VtZVJvbGVXaXRoU0FNTFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0QWNjZXNzS2V5SW5mb1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0QWNjZXNzS2V5SW5mb1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0Q2FsbGVySWRlbnRpdHlSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldENhbGxlcklkZW50aXR5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRGZWRlcmF0aW9uVG9rZW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0RmVkZXJhdGlvblRva2VuUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRGZWRlcmF0aW9uVG9rZW5cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFNlc3Npb25Ub2tlbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRTZXNzaW9uVG9rZW5SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldFNlc3Npb25Ub2tlblwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3QgZGVfQXNzdW1lUm9sZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQXNzdW1lUm9sZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Fzc3VtZVJvbGVSZXNwb25zZShkYXRhLkFzc3VtZVJvbGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQXNzdW1lUm9sZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0V4cGlyZWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNYWxmb3JtZWRQb2xpY3lEb2N1bWVudFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQYWNrZWRQb2xpY3lUb29MYXJnZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQXNzdW1lUm9sZVdpdGhTQU1MQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9Bc3N1bWVSb2xlV2l0aFNBTUxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9Bc3N1bWVSb2xlV2l0aFNBTUxSZXNwb25zZShkYXRhLkFzc3VtZVJvbGVXaXRoU0FNTFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFNBTUxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSURQUmVqZWN0ZWRDbGFpbVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZElkZW50aXR5VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUGFja2VkUG9saWN5VG9vTGFyZ2VcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2UoZGF0YS5Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSURQQ29tbXVuaWNhdGlvbkVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0lEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSURQUmVqZWN0ZWRDbGFpbVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZElkZW50aXR5VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUGFja2VkUG9saWN5VG9vTGFyZ2VcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlY29kZUF1dGhvcml6YXRpb25NZXNzYWdlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlY29kZUF1dGhvcml6YXRpb25NZXNzYWdlUmVzcG9uc2UoZGF0YS5EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0QWNjZXNzS2V5SW5mb0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0QWNjZXNzS2V5SW5mb0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldEFjY2Vzc0tleUluZm9SZXNwb25zZShkYXRhLkdldEFjY2Vzc0tleUluZm9SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0QWNjZXNzS2V5SW5mb0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0Q2FsbGVySWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldENhbGxlcklkZW50aXR5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0Q2FsbGVySWRlbnRpdHlSZXNwb25zZShkYXRhLkdldENhbGxlcklkZW50aXR5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldENhbGxlcklkZW50aXR5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRGZWRlcmF0aW9uVG9rZW5Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEZlZGVyYXRpb25Ub2tlbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldEZlZGVyYXRpb25Ub2tlblJlc3BvbnNlKGRhdGEuR2V0RmVkZXJhdGlvblRva2VuUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEZlZGVyYXRpb25Ub2tlbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJNYWxmb3JtZWRQb2xpY3lEb2N1bWVudFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQYWNrZWRQb2xpY3lUb29MYXJnZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0U2Vzc2lvblRva2VuQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRTZXNzaW9uVG9rZW5Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRTZXNzaW9uVG9rZW5SZXNwb25zZShkYXRhLkdldFNlc3Npb25Ub2tlblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRTZXNzaW9uVG9rZW5Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV4cGlyZWRUb2tlbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IElEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZWdpb25EaXNhYmxlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3Qgc2VfQXNzdW1lUm9sZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJvbGVBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUm9sZUFyblwiXSA9IGlucHV0LlJvbGVBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5Sb2xlU2Vzc2lvbk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUm9sZVNlc3Npb25OYW1lXCJdID0gaW5wdXQuUm9sZVNlc3Npb25OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lcIl0gPSBpbnB1dC5Qb2xpY3k7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EdXJhdGlvblNlY29uZHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRHVyYXRpb25TZWNvbmRzXCJdID0gaW5wdXQuRHVyYXRpb25TZWNvbmRzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV90YWdMaXN0VHlwZShpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVHJhbnNpdGl2ZVRhZ0tleXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfdGFnS2V5TGlzdFR5cGUoaW5wdXQuVHJhbnNpdGl2ZVRhZ0tleXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVHJhbnNpdGl2ZVRhZ0tleXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UcmFuc2l0aXZlVGFnS2V5cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRyYW5zaXRpdmVUYWdLZXlzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHRlcm5hbElkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV4dGVybmFsSWRcIl0gPSBpbnB1dC5FeHRlcm5hbElkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU2VyaWFsTnVtYmVyICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNlcmlhbE51bWJlclwiXSA9IGlucHV0LlNlcmlhbE51bWJlcjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRva2VuQ29kZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUb2tlbkNvZGVcIl0gPSBpbnB1dC5Ub2tlbkNvZGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Tb3VyY2VJZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VJZGVudGl0eVwiXSA9IGlucHV0LlNvdXJjZUlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUHJvdmlkZWRDb250ZXh0cyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Qcm92aWRlZENvbnRleHRzTGlzdFR5cGUoaW5wdXQuUHJvdmlkZWRDb250ZXh0cywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qcm92aWRlZENvbnRleHRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUHJvdmlkZWRDb250ZXh0cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFByb3ZpZGVkQ29udGV4dHMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQXNzdW1lUm9sZVdpdGhTQU1MUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlByaW5jaXBhbEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcmluY2lwYWxBcm5cIl0gPSBpbnB1dC5QcmluY2lwYWxBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TQU1MQXNzZXJ0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNBTUxBc3NlcnRpb25cIl0gPSBpbnB1dC5TQU1MQXNzZXJ0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lcIl0gPSBpbnB1dC5Qb2xpY3k7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EdXJhdGlvblNlY29uZHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRHVyYXRpb25TZWNvbmRzXCJdID0gaW5wdXQuRHVyYXRpb25TZWNvbmRzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJvbGVTZXNzaW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlU2Vzc2lvbk5hbWVcIl0gPSBpbnB1dC5Sb2xlU2Vzc2lvbk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5XZWJJZGVudGl0eVRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIldlYklkZW50aXR5VG9rZW5cIl0gPSBpbnB1dC5XZWJJZGVudGl0eVRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUHJvdmlkZXJJZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcm92aWRlcklkXCJdID0gaW5wdXQuUHJvdmlkZXJJZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeUFybnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlKGlucHV0LlBvbGljeUFybnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUG9saWN5QXJucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlBvbGljeUFybnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lBcm5zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRHVyYXRpb25TZWNvbmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkR1cmF0aW9uU2Vjb25kc1wiXSA9IGlucHV0LkR1cmF0aW9uU2Vjb25kcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbmNvZGVkTWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmNvZGVkTWVzc2FnZVwiXSA9IGlucHV0LkVuY29kZWRNZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRBY2Nlc3NLZXlJbmZvUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWNjZXNzS2V5SWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWNjZXNzS2V5SWRcIl0gPSBpbnB1dC5BY2Nlc3NLZXlJZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0Q2FsbGVySWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldEZlZGVyYXRpb25Ub2tlblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEdXJhdGlvblNlY29uZHNcIl0gPSBpbnB1dC5EdXJhdGlvblNlY29uZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX3RhZ0xpc3RUeXBlKGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldFNlc3Npb25Ub2tlblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEdXJhdGlvblNlY29uZHNcIl0gPSBpbnB1dC5EdXJhdGlvblNlY29uZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TZXJpYWxOdW1iZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2VyaWFsTnVtYmVyXCJdID0gaW5wdXQuU2VyaWFsTnVtYmVyO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVG9rZW5Db2RlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRva2VuQ29kZVwiXSA9IGlucHV0LlRva2VuQ29kZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1BvbGljeURlc2NyaXB0b3JUeXBlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Qb2xpY3lEZXNjcmlwdG9yVHlwZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuYXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcImFyblwiXSA9IGlucHV0LmFybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHJvdmlkZWRDb250ZXh0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Qcm92aWRlckFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcm92aWRlckFyblwiXSA9IGlucHV0LlByb3ZpZGVyQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29udGV4dEFzc2VydGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb250ZXh0QXNzZXJ0aW9uXCJdID0gaW5wdXQuQ29udGV4dEFzc2VydGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHJvdmlkZWRDb250ZXh0c0xpc3RUeXBlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1Byb3ZpZGVkQ29udGV4dChlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVGFnID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5LZXkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiS2V5XCJdID0gaW5wdXQuS2V5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfdGFnS2V5TGlzdFR5cGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfdGFnTGlzdFR5cGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBkZV9Bc3N1bWVkUm9sZVVzZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXNzdW1lZFJvbGVJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBc3N1bWVkUm9sZUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFyblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFzc3VtZWRSb2xlVXNlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlVXNlciA9IGRlX0Fzc3VtZWRSb2xlVXNlcihvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBhY2tlZFBvbGljeVNpemUgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNvdXJjZUlkZW50aXR5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU291cmNlSWRlbnRpdHlcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQXNzdW1lUm9sZVdpdGhTQU1MUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFzc3VtZWRSb2xlVXNlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlVXNlciA9IGRlX0Fzc3VtZWRSb2xlVXNlcihvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBhY2tlZFBvbGljeVNpemUgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWJqZWN0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3ViamVjdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3ViamVjdFR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWJqZWN0VHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RUeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIklzc3VlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLklzc3VlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklzc3VlclwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBdWRpZW5jZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkF1ZGllbmNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXVkaWVuY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZVF1YWxpZmllclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVRdWFsaWZpZXIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lUXVhbGlmaWVyXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNvdXJjZUlkZW50aXR5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU291cmNlSWRlbnRpdHkgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bc3N1bWVkUm9sZVVzZXIgPSBkZV9Bc3N1bWVkUm9sZVVzZXIob3V0cHV0W1wiQXNzdW1lZFJvbGVVc2VyXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlBhY2tlZFBvbGljeVNpemVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QYWNrZWRQb2xpY3lTaXplID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBhY2tlZFBvbGljeVNpemVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUHJvdmlkZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qcm92aWRlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlByb3ZpZGVyXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkF1ZGllbmNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXVkaWVuY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBdWRpZW5jZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNvdXJjZUlkZW50aXR5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU291cmNlSWRlbnRpdHlcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlZGVudGlhbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQWNjZXNzS2V5SWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY2Nlc3NLZXlJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY2Vzc0tleUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNlY3JldEFjY2Vzc0tleVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlY3JldEFjY2Vzc0tleSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNlY3JldEFjY2Vzc0tleVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTZXNzaW9uVG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZXNzaW9uVG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTZXNzaW9uVG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXhwaXJhdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4cGlyYXRpb24gPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiRXhwaXJhdGlvblwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEZWNvZGVkTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlY29kZWRNZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVjb2RlZE1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9GZWRlcmF0ZWRVc2VyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkZlZGVyYXRlZFVzZXJJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZlZGVyYXRlZFVzZXJJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZlZGVyYXRlZFVzZXJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0QWNjZXNzS2V5SW5mb1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFjY291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY2NvdW50ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWNjb3VudFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRDYWxsZXJJZGVudGl0eVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlVzZXJJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVzZXJJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlVzZXJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY2NvdW50XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWNjb3VudCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY291bnRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldEZlZGVyYXRpb25Ub2tlblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlZGVudGlhbHMgPSBkZV9DcmVkZW50aWFscyhvdXRwdXRbXCJDcmVkZW50aWFsc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGZWRlcmF0ZWRVc2VyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmVkZXJhdGVkVXNlciA9IGRlX0ZlZGVyYXRlZFVzZXIob3V0cHV0W1wiRmVkZXJhdGVkVXNlclwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQYWNrZWRQb2xpY3lTaXplXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGFja2VkUG9saWN5U2l6ZSA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJQYWNrZWRQb2xpY3lTaXplXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldFNlc3Npb25Ub2tlblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlZGVudGlhbHMgPSBkZV9DcmVkZW50aWFscyhvdXRwdXRbXCJDcmVkZW50aWFsc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlc2VyaWFsaXplTWV0YWRhdGEgPSAob3V0cHV0KSA9PiAoe1xuICAgIGh0dHBTdGF0dXNDb2RlOiBvdXRwdXQuc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3RpZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0LWlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXotcmVxdWVzdC1pZFwiXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1pZC0yXCJdLFxuICAgIGNmSWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotY2YtaWRcIl0sXG59KTtcbmNvbnN0IGNvbGxlY3RCb2R5U3RyaW5nID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5KHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGJvZHkpID0+IGNvbnRleHQudXRmOEVuY29kZXIoYm9keSkpO1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgYnVpbGRIdHRwUnBjUmVxdWVzdCA9IGFzeW5jIChjb250ZXh0LCBoZWFkZXJzLCBwYXRoLCByZXNvbHZlZEhvc3RuYW1lLCBib2R5KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgY29udGVudHMgPSB7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgcGF0aDogYmFzZVBhdGguZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpICsgcGF0aCA6IGJhc2VQYXRoICsgcGF0aCxcbiAgICAgICAgaGVhZGVycyxcbiAgICB9O1xuICAgIGlmIChyZXNvbHZlZEhvc3RuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuaG9zdG5hbWUgPSByZXNvbHZlZEhvc3RuYW1lO1xuICAgIH1cbiAgICBpZiAoYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3QoY29udGVudHMpO1xufTtcbmNvbnN0IFNIQVJFRF9IRUFERVJTID0ge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG59O1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFhNTFBhcnNlcih7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lUHJlZml4OiBcIlwiLFxuICAgICAgICAgICAgaHRtbEVudGl0aWVzOiB0cnVlLFxuICAgICAgICAgICAgaWdub3JlQXR0cmlidXRlczogZmFsc2UsXG4gICAgICAgICAgICBpZ25vcmVEZWNsYXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHBhcnNlVGFnVmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgdHJpbVZhbHVlczogZmFsc2UsXG4gICAgICAgICAgICB0YWdWYWx1ZVByb2Nlc3NvcjogKF8sIHZhbCkgPT4gKHZhbC50cmltKCkgPT09IFwiXCIgJiYgdmFsLmluY2x1ZGVzKFwiXFxuXCIpID8gXCJcIiA6IHVuZGVmaW5lZCksXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiI3hEXCIsIFwiXFxyXCIpO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiIzEwXCIsIFwiXFxuXCIpO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmogPSBwYXJzZXIucGFyc2UoZW5jb2RlZCk7XG4gICAgICAgIGNvbnN0IHRleHROb2RlTmFtZSA9IFwiI3RleHRcIjtcbiAgICAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMocGFyc2VkT2JqKVswXTtcbiAgICAgICAgY29uc3QgcGFyc2VkT2JqVG9SZXR1cm4gPSBwYXJzZWRPYmpba2V5XTtcbiAgICAgICAgaWYgKHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV0pIHtcbiAgICAgICAgICAgIHBhcnNlZE9ialRvUmV0dXJuW2tleV0gPSBwYXJzZWRPYmpUb1JldHVyblt0ZXh0Tm9kZU5hbWVdO1xuICAgICAgICAgICAgZGVsZXRlIHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fZ2V0VmFsdWVGcm9tVGV4dE5vZGUocGFyc2VkT2JqVG9SZXR1cm4pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgaWYgKHZhbHVlLkVycm9yKSB7XG4gICAgICAgIHZhbHVlLkVycm9yLm1lc3NhZ2UgPSB2YWx1ZS5FcnJvci5tZXNzYWdlID8/IHZhbHVlLkVycm9yLk1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nID0gKGZvcm1FbnRyaWVzKSA9PiBPYmplY3QuZW50cmllcyhmb3JtRW50cmllcylcbiAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IF9fZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgLmpvaW4oXCImXCIpO1xuY29uc3QgbG9hZFF1ZXJ5RXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLkVycm9yPy5Db2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuRXJyb3IuQ29kZTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID09IDQwNCkge1xuICAgICAgICByZXR1cm4gXCJOb3RGb3VuZFwiO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRBd3NBdXRoUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZ1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTTUlUSFlfQ09OVEVYVF9LRVksIH0gZnJvbSBcIkBzbWl0aHkvdHlwZXNcIjtcbmltcG9ydCB7IEFzc3VtZVJvbGVSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IGRlX0Fzc3VtZVJvbGVDb21tYW5kLCBzZV9Bc3N1bWVSb2xlQ29tbWFuZCB9IGZyb20gXCIuLi9wcm90b2NvbHMvQXdzX3F1ZXJ5XCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIEFzc3VtZVJvbGVDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUdsb2JhbEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUdsb2JhbEVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIEFzc3VtZVJvbGVDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEF3c0F1dGhQbHVnaW4oY29uZmlndXJhdGlvbikpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTVFNDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkFzc3VtZVJvbGVDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiBBc3N1bWVSb2xlUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgICAgICBbU01JVEhZX0NPTlRFWFRfS0VZXToge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IFwiQVdTU2VjdXJpdHlUb2tlblNlcnZpY2VWMjAxMTA2MTVcIixcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiQXNzdW1lUm9sZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfQXNzdW1lUm9sZUNvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0Fzc3VtZVJvbGVDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTTUlUSFlfQ09OVEVYVF9LRVksIH0gZnJvbSBcIkBzbWl0aHkvdHlwZXNcIjtcbmltcG9ydCB7IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nLCBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQsIHNlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcXVlcnlcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlR2xvYmFsRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlR2xvYmFsRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTVFNDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgICAgICBbU01JVEhZX0NPTlRFWFRfS0VZXToge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IFwiQVdTU2VjdXJpdHlUb2tlblNlcnZpY2VWMjAxMTA2MTVcIixcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXNzdW1lUm9sZUNvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kcy9Bc3N1bWVSb2xlQ29tbWFuZFwiO1xuaW1wb3J0IHsgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQsIH0gZnJvbSBcIi4vY29tbWFuZHMvQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmRcIjtcbmNvbnN0IEFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OID0gXCJ1cy1lYXN0LTFcIjtcbmNvbnN0IGRlY29yYXRlRGVmYXVsdFJlZ2lvbiA9IChyZWdpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIHJlZ2lvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiByZWdpb24gPT09IHVuZGVmaW5lZCA/IEFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OIDogcmVnaW9uO1xuICAgIH1cbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlZ2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gQVNTVU1FX1JPTEVfREVGQVVMVF9SRUdJT047XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Um9sZUFzc3VtZXIgPSAoc3RzT3B0aW9ucywgc3RzQ2xpZW50Q3RvcikgPT4ge1xuICAgIGxldCBzdHNDbGllbnQ7XG4gICAgbGV0IGNsb3N1cmVTb3VyY2VDcmVkcztcbiAgICByZXR1cm4gYXN5bmMgKHNvdXJjZUNyZWRzLCBwYXJhbXMpID0+IHtcbiAgICAgICAgY2xvc3VyZVNvdXJjZUNyZWRzID0gc291cmNlQ3JlZHM7XG4gICAgICAgIGlmICghc3RzQ2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGxvZ2dlciwgcmVnaW9uLCByZXF1ZXN0SGFuZGxlciB9ID0gc3RzT3B0aW9ucztcbiAgICAgICAgICAgIHN0c0NsaWVudCA9IG5ldyBzdHNDbGllbnRDdG9yKHtcbiAgICAgICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogKCkgPT4gYXN5bmMgKCkgPT4gY2xvc3VyZVNvdXJjZUNyZWRzLFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogZGVjb3JhdGVEZWZhdWx0UmVnaW9uKHJlZ2lvbiB8fCBzdHNPcHRpb25zLnJlZ2lvbiksXG4gICAgICAgICAgICAgICAgLi4uKHJlcXVlc3RIYW5kbGVyID8geyByZXF1ZXN0SGFuZGxlciB9IDoge30pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBDcmVkZW50aWFscyB9ID0gYXdhaXQgc3RzQ2xpZW50LnNlbmQobmV3IEFzc3VtZVJvbGVDb21tYW5kKHBhcmFtcykpO1xuICAgICAgICBpZiAoIUNyZWRlbnRpYWxzIHx8ICFDcmVkZW50aWFscy5BY2Nlc3NLZXlJZCB8fCAhQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2UgZnJvbSBTVFMuYXNzdW1lUm9sZSBjYWxsIHdpdGggcm9sZSAke3BhcmFtcy5Sb2xlQXJufWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQsXG4gICAgICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6IENyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbjogQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgZXhwaXJhdGlvbjogQ3JlZGVudGlhbHMuRXhwaXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Um9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHkgPSAoc3RzT3B0aW9ucywgc3RzQ2xpZW50Q3RvcikgPT4ge1xuICAgIGxldCBzdHNDbGllbnQ7XG4gICAgcmV0dXJuIGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgaWYgKCFzdHNDbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbG9nZ2VyLCByZWdpb24sIHJlcXVlc3RIYW5kbGVyIH0gPSBzdHNPcHRpb25zO1xuICAgICAgICAgICAgc3RzQ2xpZW50ID0gbmV3IHN0c0NsaWVudEN0b3Ioe1xuICAgICAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgICAgICByZWdpb246IGRlY29yYXRlRGVmYXVsdFJlZ2lvbihyZWdpb24gfHwgc3RzT3B0aW9ucy5yZWdpb24pLFxuICAgICAgICAgICAgICAgIC4uLihyZXF1ZXN0SGFuZGxlciA/IHsgcmVxdWVzdEhhbmRsZXIgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgQ3JlZGVudGlhbHMgfSA9IGF3YWl0IHN0c0NsaWVudC5zZW5kKG5ldyBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZChwYXJhbXMpKTtcbiAgICAgICAgaWYgKCFDcmVkZW50aWFscyB8fCAhQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQgfHwgIUNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlIGZyb20gU1RTLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkgY2FsbCB3aXRoIHJvbGUgJHtwYXJhbXMuUm9sZUFybn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IENyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBDcmVkZW50aWFscy5TZWNyZXRBY2Nlc3NLZXksXG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IENyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIGV4cGlyYXRpb246IENyZWRlbnRpYWxzLkV4cGlyYXRpb24sXG4gICAgICAgIH07XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiAoaW5wdXQpID0+IHByb3ZpZGVyKHtcbiAgICByb2xlQXNzdW1lcjogZ2V0RGVmYXVsdFJvbGVBc3N1bWVyKGlucHV0LCBpbnB1dC5zdHNDbGllbnRDdG9yKSxcbiAgICByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eTogZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5KGlucHV0LCBpbnB1dC5zdHNDbGllbnRDdG9yKSxcbiAgICAuLi5pbnB1dCxcbn0pO1xuIiwibGV0IHdhcm5pbmdFbWl0dGVkID0gZmFsc2U7XG5leHBvcnQgY29uc3QgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiA9ICh2ZXJzaW9uKSA9PiB7XG4gICAgaWYgKHZlcnNpb24gJiYgIXdhcm5pbmdFbWl0dGVkICYmIHBhcnNlSW50KHZlcnNpb24uc3Vic3RyaW5nKDEsIHZlcnNpb24uaW5kZXhPZihcIi5cIikpKSA8IDE2KSB7XG4gICAgICAgIHdhcm5pbmdFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5lbWl0V2FybmluZyhgTm9kZURlcHJlY2F0aW9uV2FybmluZzogVGhlIEFXUyBTREsgZm9yIEphdmFTY3JpcHQgKHYzKSB3aWxsXG5ubyBsb25nZXIgc3VwcG9ydCBOb2RlLmpzIDE0Lnggb24gTWF5IDEsIDIwMjQuXG5cblRvIGNvbnRpbnVlIHJlY2VpdmluZyB1cGRhdGVzIHRvIEFXUyBzZXJ2aWNlcywgYnVnIGZpeGVzLCBhbmQgc2VjdXJpdHlcbnVwZGF0ZXMgcGxlYXNlIHVwZ3JhZGUgdG8gYW4gYWN0aXZlIE5vZGUuanMgTFRTIHZlcnNpb24uXG5cbk1vcmUgaW5mb3JtYXRpb24gY2FuIGJlIGZvdW5kIGF0OiBodHRwczovL2EuY28vZHpyMkFKZGApO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9LRVkgPSBcIkFXU19BQ0NFU1NfS0VZX0lEXCI7XG5leHBvcnQgY29uc3QgRU5WX1NFQ1JFVCA9IFwiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZXCI7XG5leHBvcnQgY29uc3QgRU5WX1NFU1NJT04gPSBcIkFXU19TRVNTSU9OX1RPS0VOXCI7XG5leHBvcnQgY29uc3QgRU5WX0VYUElSQVRJT04gPSBcIkFXU19DUkVERU5USUFMX0VYUElSQVRJT05cIjtcbmV4cG9ydCBjb25zdCBmcm9tRW52ID0gKCkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFjY2Vzc0tleUlkID0gcHJvY2Vzcy5lbnZbRU5WX0tFWV07XG4gICAgY29uc3Qgc2VjcmV0QWNjZXNzS2V5ID0gcHJvY2Vzcy5lbnZbRU5WX1NFQ1JFVF07XG4gICAgY29uc3Qgc2Vzc2lvblRva2VuID0gcHJvY2Vzcy5lbnZbRU5WX1NFU1NJT05dO1xuICAgIGNvbnN0IGV4cGlyeSA9IHByb2Nlc3MuZW52W0VOVl9FWFBJUkFUSU9OXTtcbiAgICBpZiAoYWNjZXNzS2V5SWQgJiYgc2VjcmV0QWNjZXNzS2V5KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgIHNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgICAgIC4uLihzZXNzaW9uVG9rZW4gJiYgeyBzZXNzaW9uVG9rZW4gfSksXG4gICAgICAgICAgICAuLi4oZXhwaXJ5ICYmIHsgZXhwaXJhdGlvbjogbmV3IERhdGUoZXhwaXJ5KSB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIlVuYWJsZSB0byBmaW5kIGVudmlyb25tZW50IHZhcmlhYmxlIGNyZWRlbnRpYWxzLlwiKTtcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInVybFwiKTsiLCJpbXBvcnQgeyBQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiaHR0cFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZXEgPSByZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBob3N0bmFtZTogb3B0aW9ucy5ob3N0bmFtZT8ucmVwbGFjZSgvXlxcWyguKylcXF0kLywgXCIkMVwiKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChPYmplY3QuYXNzaWduKG5ldyBQcm92aWRlckVycm9yKFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZVwiKSwgZXJyKSk7XG4gICAgICAgICAgICByZXEuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwidGltZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IFByb3ZpZGVyRXJyb3IoXCJUaW1lb3V0RXJyb3IgZnJvbSBpbnN0YW5jZSBtZXRhZGF0YSBzZXJ2aWNlXCIpKTtcbiAgICAgICAgICAgIHJlcS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXEub24oXCJyZXNwb25zZVwiLCAocmVzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXR1c0NvZGUgPSA0MDAgfSA9IHJlcztcbiAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlIDwgMjAwIHx8IDMwMCA8PSBzdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24obmV3IFByb3ZpZGVyRXJyb3IoXCJFcnJvciByZXNwb25zZSByZWNlaXZlZCBmcm9tIGluc3RhbmNlIG1ldGFkYXRhIHNlcnZpY2VcIiksIHsgc3RhdHVzQ29kZSB9KSk7XG4gICAgICAgICAgICAgICAgcmVxLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgICAgICAgICAgcmVzLm9uKFwiZGF0YVwiLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KGNodW5rcykpO1xuICAgICAgICAgICAgICAgIHJlcS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5lbmQoKTtcbiAgICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBpc0ltZHNDcmVkZW50aWFscyA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJlxuICAgIHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgYXJnLkFjY2Vzc0tleUlkID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5TZWNyZXRBY2Nlc3NLZXkgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgYXJnLlRva2VuID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5FeHBpcmF0aW9uID09PSBcInN0cmluZ1wiO1xuZXhwb3J0IGNvbnN0IGZyb21JbWRzQ3JlZGVudGlhbHMgPSAoY3JlZHMpID0+ICh7XG4gICAgYWNjZXNzS2V5SWQ6IGNyZWRzLkFjY2Vzc0tleUlkLFxuICAgIHNlY3JldEFjY2Vzc0tleTogY3JlZHMuU2VjcmV0QWNjZXNzS2V5LFxuICAgIHNlc3Npb25Ub2tlbjogY3JlZHMuVG9rZW4sXG4gICAgZXhwaXJhdGlvbjogbmV3IERhdGUoY3JlZHMuRXhwaXJhdGlvbiksXG59KTtcbiIsImV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVQgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUFYX1JFVFJJRVMgPSAwO1xuZXhwb3J0IGNvbnN0IHByb3ZpZGVyQ29uZmlnRnJvbUluaXQgPSAoeyBtYXhSZXRyaWVzID0gREVGQVVMVF9NQVhfUkVUUklFUywgdGltZW91dCA9IERFRkFVTFRfVElNRU9VVCwgfSkgPT4gKHsgbWF4UmV0cmllcywgdGltZW91dCB9KTtcbiIsImV4cG9ydCBjb25zdCByZXRyeSA9ICh0b1JldHJ5LCBtYXhSZXRyaWVzKSA9PiB7XG4gICAgbGV0IHByb21pc2UgPSB0b1JldHJ5KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhSZXRyaWVzOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UuY2F0Y2godG9SZXRyeSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJ1cmxcIjtcbmltcG9ydCB7IGh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3RcIjtcbmltcG9ydCB7IGZyb21JbWRzQ3JlZGVudGlhbHMsIGlzSW1kc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBwcm92aWRlckNvbmZpZ0Zyb21Jbml0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvUmVtb3RlUHJvdmlkZXJJbml0XCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyL3JldHJ5XCI7XG5leHBvcnQgY29uc3QgRU5WX0NNRFNfRlVMTF9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfRlVMTF9VUklcIjtcbmV4cG9ydCBjb25zdCBFTlZfQ01EU19SRUxBVElWRV9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJXCI7XG5leHBvcnQgY29uc3QgRU5WX0NNRFNfQVVUSF9UT0tFTiA9IFwiQVdTX0NPTlRBSU5FUl9BVVRIT1JJWkFUSU9OX1RPS0VOXCI7XG5leHBvcnQgY29uc3QgZnJvbUNvbnRhaW5lck1ldGFkYXRhID0gKGluaXQgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgdGltZW91dCwgbWF4UmV0cmllcyB9ID0gcHJvdmlkZXJDb25maWdGcm9tSW5pdChpbml0KTtcbiAgICByZXR1cm4gKCkgPT4gcmV0cnkoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGF3YWl0IGdldENtZHNVcmkoKTtcbiAgICAgICAgY29uc3QgY3JlZHNSZXNwb25zZSA9IEpTT04ucGFyc2UoYXdhaXQgcmVxdWVzdEZyb21FY3NJbWRzKHRpbWVvdXQsIHJlcXVlc3RPcHRpb25zKSk7XG4gICAgICAgIGlmICghaXNJbWRzQ3JlZGVudGlhbHMoY3JlZHNSZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21JbWRzQ3JlZGVudGlhbHMoY3JlZHNSZXNwb25zZSk7XG4gICAgfSwgbWF4UmV0cmllcyk7XG59O1xuY29uc3QgcmVxdWVzdEZyb21FY3NJbWRzID0gYXN5bmMgKHRpbWVvdXQsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbRU5WX0NNRFNfQVVUSF9UT0tFTl0pIHtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogcHJvY2Vzcy5lbnZbRU5WX0NNRFNfQVVUSF9UT0tFTl0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdGltZW91dCxcbiAgICB9KTtcbiAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKCk7XG59O1xuY29uc3QgQ01EU19JUCA9IFwiMTY5LjI1NC4xNzAuMlwiO1xuY29uc3QgR1JFRU5HUkFTU19IT1NUUyA9IHtcbiAgICBsb2NhbGhvc3Q6IHRydWUsXG4gICAgXCIxMjcuMC4wLjFcIjogdHJ1ZSxcbn07XG5jb25zdCBHUkVFTkdSQVNTX1BST1RPQ09MUyA9IHtcbiAgICBcImh0dHA6XCI6IHRydWUsXG4gICAgXCJodHRwczpcIjogdHJ1ZSxcbn07XG5jb25zdCBnZXRDbWRzVXJpID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19SRUxBVElWRV9VUkldKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3N0bmFtZTogQ01EU19JUCxcbiAgICAgICAgICAgIHBhdGg6IHByb2Nlc3MuZW52W0VOVl9DTURTX1JFTEFUSVZFX1VSSV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19GVUxMX1VSSV0pIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2UocHJvY2Vzcy5lbnZbRU5WX0NNRFNfRlVMTF9VUkldKTtcbiAgICAgICAgaWYgKCFwYXJzZWQuaG9zdG5hbWUgfHwgIShwYXJzZWQuaG9zdG5hbWUgaW4gR1JFRU5HUkFTU19IT1NUUykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYCR7cGFyc2VkLmhvc3RuYW1lfSBpcyBub3QgYSB2YWxpZCBjb250YWluZXIgbWV0YWRhdGEgc2VydmljZSBob3N0bmFtZWAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcnNlZC5wcm90b2NvbCB8fCAhKHBhcnNlZC5wcm90b2NvbCBpbiBHUkVFTkdSQVNTX1BST1RPQ09MUykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYCR7cGFyc2VkLnByb3RvY29sfSBpcyBub3QgYSB2YWxpZCBjb250YWluZXIgbWV0YWRhdGEgc2VydmljZSBwcm90b2NvbGAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFyc2VkLFxuICAgICAgICAgICAgcG9ydDogcGFyc2VkLnBvcnQgPyBwYXJzZUludChwYXJzZWQucG9ydCwgMTApIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiVGhlIGNvbnRhaW5lciBtZXRhZGF0YSBjcmVkZW50aWFsIHByb3ZpZGVyIGNhbm5vdCBiZSB1c2VkIHVubGVzc1wiICtcbiAgICAgICAgYCB0aGUgJHtFTlZfQ01EU19SRUxBVElWRV9VUkl9IG9yICR7RU5WX0NNRFNfRlVMTF9VUkl9IGVudmlyb25tZW50YCArXG4gICAgICAgIFwiIHZhcmlhYmxlIGlzIHNldFwiLCBmYWxzZSk7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmV4cG9ydCBjbGFzcyBJbnN0YW5jZU1ldGFkYXRhVjFGYWxsYmFja0Vycm9yIGV4dGVuZHMgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCB0cnlOZXh0TGluayA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgdHJ5TmV4dExpbmspO1xuICAgICAgICB0aGlzLnRyeU5leHRMaW5rID0gdHJ5TmV4dExpbms7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdGFuY2VNZXRhZGF0YVYxRmFsbGJhY2tFcnJvclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5zdGFuY2VNZXRhZGF0YVYxRmFsbGJhY2tFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCB2YXIgRW5kcG9pbnQ7XG4oZnVuY3Rpb24gKEVuZHBvaW50KSB7XG4gICAgRW5kcG9pbnRbXCJJUHY0XCJdID0gXCJodHRwOi8vMTY5LjI1NC4xNjkuMjU0XCI7XG4gICAgRW5kcG9pbnRbXCJJUHY2XCJdID0gXCJodHRwOi8vW2ZkMDA6ZWMyOjoyNTRdXCI7XG59KShFbmRwb2ludCB8fCAoRW5kcG9pbnQgPSB7fSkpO1xuIiwiZXhwb3J0IGNvbnN0IEVOVl9FTkRQT0lOVF9OQU1FID0gXCJBV1NfRUMyX01FVEFEQVRBX1NFUlZJQ0VfRU5EUE9JTlRcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfRU5EUE9JTlRfTkFNRSA9IFwiZWMyX21ldGFkYXRhX3NlcnZpY2VfZW5kcG9pbnRcIjtcbmV4cG9ydCBjb25zdCBFTkRQT0lOVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltFTlZfRU5EUE9JTlRfTkFNRV0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtDT05GSUdfRU5EUE9JTlRfTkFNRV0sXG4gICAgZGVmYXVsdDogdW5kZWZpbmVkLFxufTtcbiIsImV4cG9ydCB2YXIgRW5kcG9pbnRNb2RlO1xuKGZ1bmN0aW9uIChFbmRwb2ludE1vZGUpIHtcbiAgICBFbmRwb2ludE1vZGVbXCJJUHY0XCJdID0gXCJJUHY0XCI7XG4gICAgRW5kcG9pbnRNb2RlW1wiSVB2NlwiXSA9IFwiSVB2NlwiO1xufSkoRW5kcG9pbnRNb2RlIHx8IChFbmRwb2ludE1vZGUgPSB7fSkpO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRNb2RlIH0gZnJvbSBcIi4vRW5kcG9pbnRNb2RlXCI7XG5leHBvcnQgY29uc3QgRU5WX0VORFBPSU5UX01PREVfTkFNRSA9IFwiQVdTX0VDMl9NRVRBREFUQV9TRVJWSUNFX0VORFBPSU5UX01PREVcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfRU5EUE9JTlRfTU9ERV9OQU1FID0gXCJlYzJfbWV0YWRhdGFfc2VydmljZV9lbmRwb2ludF9tb2RlXCI7XG5leHBvcnQgY29uc3QgRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltFTlZfRU5EUE9JTlRfTU9ERV9OQU1FXSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19FTkRQT0lOVF9NT0RFX05BTUVdLFxuICAgIGRlZmF1bHQ6IEVuZHBvaW50TW9kZS5JUHY0LFxufTtcbiIsImltcG9ydCB7IGxvYWRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBFbmRwb2ludCBhcyBJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgfSBmcm9tIFwiLi4vY29uZmlnL0VuZHBvaW50XCI7XG5pbXBvcnQgeyBFTkRQT0lOVF9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCIuLi9jb25maWcvRW5kcG9pbnRDb25maWdPcHRpb25zXCI7XG5pbXBvcnQgeyBFbmRwb2ludE1vZGUgfSBmcm9tIFwiLi4vY29uZmlnL0VuZHBvaW50TW9kZVwiO1xuaW1wb3J0IHsgRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiLi4vY29uZmlnL0VuZHBvaW50TW9kZUNvbmZpZ09wdGlvbnNcIjtcbmV4cG9ydCBjb25zdCBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgPSBhc3luYyAoKSA9PiBwYXJzZVVybCgoYXdhaXQgZ2V0RnJvbUVuZHBvaW50Q29uZmlnKCkpIHx8IChhd2FpdCBnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnKCkpKTtcbmNvbnN0IGdldEZyb21FbmRwb2ludENvbmZpZyA9IGFzeW5jICgpID0+IGxvYWRDb25maWcoRU5EUE9JTlRfQ09ORklHX09QVElPTlMpKCk7XG5jb25zdCBnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGVuZHBvaW50TW9kZSA9IGF3YWl0IGxvYWRDb25maWcoRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUykoKTtcbiAgICBzd2l0Y2ggKGVuZHBvaW50TW9kZSkge1xuICAgICAgICBjYXNlIEVuZHBvaW50TW9kZS5JUHY0OlxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludC5JUHY0O1xuICAgICAgICBjYXNlIEVuZHBvaW50TW9kZS5JUHY2OlxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludC5JUHY2O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBlbmRwb2ludCBtb2RlOiAke2VuZHBvaW50TW9kZX0uYCArIGAgU2VsZWN0IGZyb20gJHtPYmplY3QudmFsdWVzKEVuZHBvaW50TW9kZSl9YCk7XG4gICAgfVxufTtcbiIsImNvbnN0IFNUQVRJQ19TVEFCSUxJVFlfUkVGUkVTSF9JTlRFUlZBTF9TRUNPTkRTID0gNSAqIDYwO1xuY29uc3QgU1RBVElDX1NUQUJJTElUWV9SRUZSRVNIX0lOVEVSVkFMX0pJVFRFUl9XSU5ET1dfU0VDT05EUyA9IDUgKiA2MDtcbmNvbnN0IFNUQVRJQ19TVEFCSUxJVFlfRE9DX1VSTCA9IFwiaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3Nka3JlZi9sYXRlc3QvZ3VpZGUvZmVhdHVyZS1zdGF0aWMtY3JlZGVudGlhbHMuaHRtbFwiO1xuZXhwb3J0IGNvbnN0IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzID0gKGNyZWRlbnRpYWxzLCBsb2dnZXIpID0+IHtcbiAgICBjb25zdCByZWZyZXNoSW50ZXJ2YWwgPSBTVEFUSUNfU1RBQklMSVRZX1JFRlJFU0hfSU5URVJWQUxfU0VDT05EUyArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIFNUQVRJQ19TVEFCSUxJVFlfUkVGUkVTSF9JTlRFUlZBTF9KSVRURVJfV0lORE9XX1NFQ09ORFMpO1xuICAgIGNvbnN0IG5ld0V4cGlyYXRpb24gPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgcmVmcmVzaEludGVydmFsICogMTAwMCk7XG4gICAgbG9nZ2VyLndhcm4oXCJBdHRlbXB0aW5nIGNyZWRlbnRpYWwgZXhwaXJhdGlvbiBleHRlbnNpb24gZHVlIHRvIGEgY3JlZGVudGlhbCBzZXJ2aWNlIGF2YWlsYWJpbGl0eSBpc3N1ZS4gQSByZWZyZXNoIG9mIHRoZXNlIFwiICtcbiAgICAgICAgXCJjcmVkZW50aWFscyB3aWxsIGJlIGF0dGVtcHRlZCBhZnRlciAke25ldyBEYXRlKG5ld0V4cGlyYXRpb24pfS5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpc2l0OiBcIiArXG4gICAgICAgIFNUQVRJQ19TVEFCSUxJVFlfRE9DX1VSTCk7XG4gICAgY29uc3Qgb3JpZ2luYWxFeHBpcmF0aW9uID0gY3JlZGVudGlhbHMub3JpZ2luYWxFeHBpcmF0aW9uID8/IGNyZWRlbnRpYWxzLmV4cGlyYXRpb247XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY3JlZGVudGlhbHMsXG4gICAgICAgIC4uLihvcmlnaW5hbEV4cGlyYXRpb24gPyB7IG9yaWdpbmFsRXhwaXJhdGlvbiB9IDoge30pLFxuICAgICAgICBleHBpcmF0aW9uOiBuZXdFeHBpcmF0aW9uLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgbG9hZENvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgSW5zdGFuY2VNZXRhZGF0YVYxRmFsbGJhY2tFcnJvciB9IGZyb20gXCIuL2Vycm9yL0luc3RhbmNlTWV0YWRhdGFWMUZhbGxiYWNrRXJyb3JcIjtcbmltcG9ydCB7IGh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3RcIjtcbmltcG9ydCB7IGZyb21JbWRzQ3JlZGVudGlhbHMsIGlzSW1kc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBwcm92aWRlckNvbmZpZ0Zyb21Jbml0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvUmVtb3RlUHJvdmlkZXJJbml0XCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyL3JldHJ5XCI7XG5pbXBvcnQgeyBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgfSBmcm9tIFwiLi91dGlscy9nZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnRcIjtcbmltcG9ydCB7IHN0YXRpY1N0YWJpbGl0eVByb3ZpZGVyIH0gZnJvbSBcIi4vdXRpbHMvc3RhdGljU3RhYmlsaXR5UHJvdmlkZXJcIjtcbmNvbnN0IElNRFNfUEFUSCA9IFwiL2xhdGVzdC9tZXRhLWRhdGEvaWFtL3NlY3VyaXR5LWNyZWRlbnRpYWxzL1wiO1xuY29uc3QgSU1EU19UT0tFTl9QQVRIID0gXCIvbGF0ZXN0L2FwaS90b2tlblwiO1xuY29uc3QgQVdTX0VDMl9NRVRBREFUQV9WMV9ESVNBQkxFRCA9IFwiQVdTX0VDMl9NRVRBREFUQV9WMV9ESVNBQkxFRFwiO1xuY29uc3QgUFJPRklMRV9BV1NfRUMyX01FVEFEQVRBX1YxX0RJU0FCTEVEID0gXCJlYzJfbWV0YWRhdGFfdjFfZGlzYWJsZWRcIjtcbmNvbnN0IFhfQVdTX0VDMl9NRVRBREFUQV9UT0tFTiA9IFwieC1hd3MtZWMyLW1ldGFkYXRhLXRva2VuXCI7XG5leHBvcnQgY29uc3QgZnJvbUluc3RhbmNlTWV0YWRhdGEgPSAoaW5pdCA9IHt9KSA9PiBzdGF0aWNTdGFiaWxpdHlQcm92aWRlcihnZXRJbnN0YW5jZUltZHNQcm92aWRlcihpbml0KSwgeyBsb2dnZXI6IGluaXQubG9nZ2VyIH0pO1xuY29uc3QgZ2V0SW5zdGFuY2VJbWRzUHJvdmlkZXIgPSAoaW5pdCkgPT4ge1xuICAgIGxldCBkaXNhYmxlRmV0Y2hUb2tlbiA9IGZhbHNlO1xuICAgIGNvbnN0IHsgbG9nZ2VyLCBwcm9maWxlIH0gPSBpbml0O1xuICAgIGNvbnN0IHsgdGltZW91dCwgbWF4UmV0cmllcyB9ID0gcHJvdmlkZXJDb25maWdGcm9tSW5pdChpbml0KTtcbiAgICBjb25zdCBnZXRDcmVkZW50aWFscyA9IGFzeW5jIChtYXhSZXRyaWVzLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzSW1kc1YxRmFsbGJhY2sgPSBkaXNhYmxlRmV0Y2hUb2tlbiB8fCBvcHRpb25zLmhlYWRlcnM/LltYX0FXU19FQzJfTUVUQURBVEFfVE9LRU5dID09IG51bGw7XG4gICAgICAgIGlmIChpc0ltZHNWMUZhbGxiYWNrKSB7XG4gICAgICAgICAgICBsZXQgZmFsbGJhY2tCbG9ja2VkRnJvbVByb2ZpbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBmYWxsYmFja0Jsb2NrZWRGcm9tUHJvY2Vzc0VudiA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnVmFsdWUgPSBhd2FpdCBsb2FkQ29uZmlnKHtcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW52VmFsdWUgPSBlbnZbQVdTX0VDMl9NRVRBREFUQV9WMV9ESVNBQkxFRF07XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQmxvY2tlZEZyb21Qcm9jZXNzRW52ID0gISFlbnZWYWx1ZSAmJiBlbnZWYWx1ZSAhPT0gXCJmYWxzZVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW52VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgJHtBV1NfRUMyX01FVEFEQVRBX1YxX0RJU0FCTEVEfSBub3Qgc2V0IGluIGVudiwgY2hlY2tpbmcgY29uZmlnIGZpbGUgbmV4dC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2tCbG9ja2VkRnJvbVByb2Nlc3NFbnY7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVWYWx1ZSA9IHByb2ZpbGVbUFJPRklMRV9BV1NfRUMyX01FVEFEQVRBX1YxX0RJU0FCTEVEXTtcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tCbG9ja2VkRnJvbVByb2ZpbGUgPSAhIXByb2ZpbGVWYWx1ZSAmJiBwcm9maWxlVmFsdWUgIT09IFwiZmFsc2VcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrQmxvY2tlZEZyb21Qcm9maWxlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZSxcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICBpZiAoaW5pdC5lYzJNZXRhZGF0YVYxRGlzYWJsZWQgfHwgY29uZmlnVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXVzZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5pdC5lYzJNZXRhZGF0YVYxRGlzYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIGNhdXNlcy5wdXNoKFwiY3JlZGVudGlhbCBwcm92aWRlciBpbml0aWFsaXphdGlvbiAocnVudGltZSBvcHRpb24gZWMyTWV0YWRhdGFWMURpc2FibGVkKVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tCbG9ja2VkRnJvbVByb2ZpbGUpXG4gICAgICAgICAgICAgICAgICAgIGNhdXNlcy5wdXNoKGBjb25maWcgZmlsZSBwcm9maWxlICgke1BST0ZJTEVfQVdTX0VDMl9NRVRBREFUQV9WMV9ESVNBQkxFRH0pYCk7XG4gICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrQmxvY2tlZEZyb21Qcm9jZXNzRW52KVxuICAgICAgICAgICAgICAgICAgICBjYXVzZXMucHVzaChgcHJvY2VzcyBlbnZpcm9ubWVudCB2YXJpYWJsZSAoJHtBV1NfRUMyX01FVEFEQVRBX1YxX0RJU0FCTEVEfSlgKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW5zdGFuY2VNZXRhZGF0YVYxRmFsbGJhY2tFcnJvcihgQVdTIEVDMiBNZXRhZGF0YSB2MSBmYWxsYmFjayBoYXMgYmVlbiBibG9ja2VkIGJ5IEFXUyBTREsgY29uZmlndXJhdGlvbiBpbiB0aGUgZm9sbG93aW5nOiBbJHtjYXVzZXMuam9pbihcIiwgXCIpfV0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1kc1Byb2ZpbGUgPSAoYXdhaXQgcmV0cnkoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHByb2ZpbGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHByb2ZpbGUgPSBhd2FpdCBnZXRQcm9maWxlKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzQ29kZSA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVGZXRjaFRva2VuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9maWxlO1xuICAgICAgICB9LCBtYXhSZXRyaWVzKSkudHJpbSgpO1xuICAgICAgICByZXR1cm4gcmV0cnkoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNyZWRzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjcmVkcyA9IGF3YWl0IGdldENyZWRlbnRpYWxzRnJvbVByb2ZpbGUoaW1kc1Byb2ZpbGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzQ29kZSA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVGZXRjaFRva2VuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVkcztcbiAgICAgICAgfSwgbWF4UmV0cmllcyk7XG4gICAgfTtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCgpO1xuICAgICAgICBpZiAoZGlzYWJsZUZldGNoVG9rZW4pIHtcbiAgICAgICAgICAgIGxvZ2dlcj8uZGVidWcoXCJBV1MgU0RLIEluc3RhbmNlIE1ldGFkYXRhXCIsIFwidXNpbmcgdjEgZmFsbGJhY2sgKG5vIHRva2VuIGZldGNoKVwiKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhtYXhSZXRyaWVzLCB7IC4uLmVuZHBvaW50LCB0aW1lb3V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IChhd2FpdCBnZXRNZXRhZGF0YVRva2VuKHsgLi4uZW5kcG9pbnQsIHRpbWVvdXQgfSkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LnN0YXR1c0NvZGUgPT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuYXNzaWduKGVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVDMiBNZXRhZGF0YSB0b2tlbiByZXF1ZXN0IHJldHVybmVkIGVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSBcIlRpbWVvdXRFcnJvclwiIHx8IFs0MDMsIDQwNCwgNDA1XS5pbmNsdWRlcyhlcnJvci5zdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRmV0Y2hUb2tlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvZ2dlcj8uZGVidWcoXCJBV1MgU0RLIEluc3RhbmNlIE1ldGFkYXRhXCIsIFwidXNpbmcgdjEgZmFsbGJhY2sgKGluaXRpYWwpXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhtYXhSZXRyaWVzLCB7IC4uLmVuZHBvaW50LCB0aW1lb3V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldENyZWRlbnRpYWxzKG1heFJldHJpZXMsIHtcbiAgICAgICAgICAgICAgICAuLi5lbmRwb2ludCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFtYX0FXU19FQzJfTUVUQURBVEFfVE9LRU5dOiB0b2tlbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuY29uc3QgZ2V0TWV0YWRhdGFUb2tlbiA9IGFzeW5jIChvcHRpb25zKSA9PiBodHRwUmVxdWVzdCh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBwYXRoOiBJTURTX1RPS0VOX1BBVEgsXG4gICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJ4LWF3cy1lYzItbWV0YWRhdGEtdG9rZW4tdHRsLXNlY29uZHNcIjogXCIyMTYwMFwiLFxuICAgIH0sXG59KTtcbmNvbnN0IGdldFByb2ZpbGUgPSBhc3luYyAob3B0aW9ucykgPT4gKGF3YWl0IGh0dHBSZXF1ZXN0KHsgLi4ub3B0aW9ucywgcGF0aDogSU1EU19QQVRIIH0pKS50b1N0cmluZygpO1xuY29uc3QgZ2V0Q3JlZGVudGlhbHNGcm9tUHJvZmlsZSA9IGFzeW5jIChwcm9maWxlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY3JlZHNSZXNwb25zZSA9IEpTT04ucGFyc2UoKGF3YWl0IGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgcGF0aDogSU1EU19QQVRIICsgcHJvZmlsZSxcbiAgICB9KSkudG9TdHJpbmcoKSk7XG4gICAgaWYgKCFpc0ltZHNDcmVkZW50aWFscyhjcmVkc1Jlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiSW52YWxpZCByZXNwb25zZSByZWNlaXZlZCBmcm9tIGluc3RhbmNlIG1ldGFkYXRhIHNlcnZpY2UuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbUltZHNDcmVkZW50aWFscyhjcmVkc1Jlc3BvbnNlKTtcbn07XG4iLCJpbXBvcnQgeyBnZXRFeHRlbmRlZEluc3RhbmNlTWV0YWRhdGFDcmVkZW50aWFscyB9IGZyb20gXCIuL2dldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzXCI7XG5leHBvcnQgY29uc3Qgc3RhdGljU3RhYmlsaXR5UHJvdmlkZXIgPSAocHJvdmlkZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGxvZ2dlciA9IG9wdGlvbnM/LmxvZ2dlciB8fCBjb25zb2xlO1xuICAgIGxldCBwYXN0Q3JlZGVudGlhbHM7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY3JlZGVudGlhbHMgPSBhd2FpdCBwcm92aWRlcigpO1xuICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gJiYgY3JlZGVudGlhbHMuZXhwaXJhdGlvbi5nZXRUaW1lKCkgPCBEYXRlLm5vdygpKSB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHMgPSBnZXRFeHRlbmRlZEluc3RhbmNlTWV0YWRhdGFDcmVkZW50aWFscyhjcmVkZW50aWFscywgbG9nZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKHBhc3RDcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiQ3JlZGVudGlhbCByZW5ldyBmYWlsZWQ6IFwiLCBlKTtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyA9IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzKHBhc3RDcmVkZW50aWFscywgbG9nZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGFzdENyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgICAgIHJldHVybiBjcmVkZW50aWFscztcbiAgICB9O1xufTtcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiLCJpbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgcGFyc2VLbm93bkZpbGVzIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHNcIjtcbmV4cG9ydCBjb25zdCBmcm9tUHJvY2VzcyA9IChpbml0ID0ge30pID0+IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9maWxlcyA9IGF3YWl0IHBhcnNlS25vd25GaWxlcyhpbml0KTtcbiAgICByZXR1cm4gcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFscyhnZXRQcm9maWxlTmFtZShpbml0KSwgcHJvZmlsZXMpO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBleGVjIH0gZnJvbSBcImNoaWxkX3Byb2Nlc3NcIjtcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gXCJ1dGlsXCI7XG5pbXBvcnQgeyBnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9nZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHNcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzID0gYXN5bmMgKHByb2ZpbGVOYW1lLCBwcm9maWxlcykgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGUgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgaWYgKHByb2ZpbGVzW3Byb2ZpbGVOYW1lXSkge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsUHJvY2VzcyA9IHByb2ZpbGVbXCJjcmVkZW50aWFsX3Byb2Nlc3NcIl07XG4gICAgICAgIGlmIChjcmVkZW50aWFsUHJvY2VzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjUHJvbWlzZSA9IHByb21pc2lmeShleGVjKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNQcm9taXNlKGNyZWRlbnRpYWxQcm9jZXNzKTtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShzdGRvdXQudHJpbSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjcmVkZW50aWFsX3Byb2Nlc3MgcmV0dXJuZWQgaW52YWxpZCBKU09OLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsaWRhdGVkUHJvY2Vzc0NyZWRlbnRpYWxzKHByb2ZpbGVOYW1lLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGRpZCBub3QgY29udGFpbiBjcmVkZW50aWFsX3Byb2Nlc3MuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gY291bGQgbm90IGJlIGZvdW5kIGluIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlLmApO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3QgZ2V0VmFsaWRhdGVkUHJvY2Vzc0NyZWRlbnRpYWxzID0gKHByb2ZpbGVOYW1lLCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuVmVyc2lvbiAhPT0gMSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjcmVkZW50aWFsX3Byb2Nlc3MgZGlkIG5vdCByZXR1cm4gVmVyc2lvbiAxLmApO1xuICAgIH1cbiAgICBpZiAoZGF0YS5BY2Nlc3NLZXlJZCA9PT0gdW5kZWZpbmVkIHx8IGRhdGEuU2VjcmV0QWNjZXNzS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gY3JlZGVudGlhbF9wcm9jZXNzIHJldHVybmVkIGludmFsaWQgY3JlZGVudGlhbHMuYCk7XG4gICAgfVxuICAgIGlmIChkYXRhLkV4cGlyYXRpb24pIHtcbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBleHBpcmVUaW1lID0gbmV3IERhdGUoZGF0YS5FeHBpcmF0aW9uKTtcbiAgICAgICAgaWYgKGV4cGlyZVRpbWUgPCBjdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gY3JlZGVudGlhbF9wcm9jZXNzIHJldHVybmVkIGV4cGlyZWQgY3JlZGVudGlhbHMuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWNjZXNzS2V5SWQ6IGRhdGEuQWNjZXNzS2V5SWQsXG4gICAgICAgIHNlY3JldEFjY2Vzc0tleTogZGF0YS5TZWNyZXRBY2Nlc3NLZXksXG4gICAgICAgIC4uLihkYXRhLlNlc3Npb25Ub2tlbiAmJiB7IHNlc3Npb25Ub2tlbjogZGF0YS5TZXNzaW9uVG9rZW4gfSksXG4gICAgICAgIC4uLihkYXRhLkV4cGlyYXRpb24gJiYgeyBleHBpcmF0aW9uOiBuZXcgRGF0ZShkYXRhLkV4cGlyYXRpb24pIH0pLFxuICAgIH07XG59O1xuIiwiZXhwb3J0IGNvbnN0IGlzU3NvUHJvZmlsZSA9IChhcmcpID0+IGFyZyAmJlxuICAgICh0eXBlb2YgYXJnLnNzb19zdGFydF91cmwgPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgdHlwZW9mIGFyZy5zc29fYWNjb3VudF9pZCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgYXJnLnNzb19zZXNzaW9uID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3JlZ2lvbiA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgYXJnLnNzb19yb2xlX25hbWUgPT09IFwic3RyaW5nXCIpO1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJwcm9jZXNzXCIpOyIsImltcG9ydCB7IGxvYWRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgcGxhdGZvcm0sIHJlbGVhc2UgfSBmcm9tIFwib3NcIjtcbmltcG9ydCB7IGVudiwgdmVyc2lvbnMgfSBmcm9tIFwicHJvY2Vzc1wiO1xuaW1wb3J0IHsgaXNDcnRBdmFpbGFibGUgfSBmcm9tIFwiLi9pcy1jcnQtYXZhaWxhYmxlXCI7XG5leHBvcnQgeyBjcnRBdmFpbGFiaWxpdHkgfSBmcm9tIFwiLi9jcnQtYXZhaWxhYmlsaXR5XCI7XG5leHBvcnQgY29uc3QgVUFfQVBQX0lEX0VOVl9OQU1FID0gXCJBV1NfU0RLX1VBX0FQUF9JRFwiO1xuZXhwb3J0IGNvbnN0IFVBX0FQUF9JRF9JTklfTkFNRSA9IFwic2RrLXVhLWFwcC1pZFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRVc2VyQWdlbnQgPSAoeyBzZXJ2aWNlSWQsIGNsaWVudFZlcnNpb24gfSkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gW1xuICAgICAgICBbXCJhd3Mtc2RrLWpzXCIsIGNsaWVudFZlcnNpb25dLFxuICAgICAgICBbXCJ1YVwiLCBcIjIuMFwiXSxcbiAgICAgICAgW2Bvcy8ke3BsYXRmb3JtKCl9YCwgcmVsZWFzZSgpXSxcbiAgICAgICAgW1wibGFuZy9qc1wiXSxcbiAgICAgICAgW1wibWQvbm9kZWpzXCIsIGAke3ZlcnNpb25zLm5vZGV9YF0sXG4gICAgXTtcbiAgICBjb25zdCBjcnRBdmFpbGFibGUgPSBpc0NydEF2YWlsYWJsZSgpO1xuICAgIGlmIChjcnRBdmFpbGFibGUpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaChjcnRBdmFpbGFibGUpO1xuICAgIH1cbiAgICBpZiAoc2VydmljZUlkKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goW2BhcGkvJHtzZXJ2aWNlSWR9YCwgY2xpZW50VmVyc2lvbl0pO1xuICAgIH1cbiAgICBpZiAoZW52LkFXU19FWEVDVVRJT05fRU5WKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goW2BleGVjLWVudi8ke2Vudi5BV1NfRVhFQ1VUSU9OX0VOVn1gXSk7XG4gICAgfVxuICAgIGNvbnN0IGFwcElkUHJvbWlzZSA9IGxvYWRDb25maWcoe1xuICAgICAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltVQV9BUFBfSURfRU5WX05BTUVdLFxuICAgICAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW1VBX0FQUF9JRF9JTklfTkFNRV0sXG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgICB9KSgpO1xuICAgIGxldCByZXNvbHZlZFVzZXJBZ2VudCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXJlc29sdmVkVXNlckFnZW50KSB7XG4gICAgICAgICAgICBjb25zdCBhcHBJZCA9IGF3YWl0IGFwcElkUHJvbWlzZTtcbiAgICAgICAgICAgIHJlc29sdmVkVXNlckFnZW50ID0gYXBwSWQgPyBbLi4uc2VjdGlvbnMsIFtgYXBwLyR7YXBwSWR9YF1dIDogWy4uLnNlY3Rpb25zXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRVc2VyQWdlbnQ7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tQXJyYXlCdWZmZXIsIGZyb21TdHJpbmcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJ1ZmZlci1mcm9tXCI7XG5pbXBvcnQgeyB0b1VpbnQ4QXJyYXkgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUhhc2gsIGNyZWF0ZUhtYWMgfSBmcm9tIFwiY3J5cHRvXCI7XG5leHBvcnQgY2xhc3MgSGFzaCB7XG4gICAgY29uc3RydWN0b3IoYWxnb3JpdGhtSWRlbnRpZmllciwgc2VjcmV0KSB7XG4gICAgICAgIHRoaXMuYWxnb3JpdGhtSWRlbnRpZmllciA9IGFsZ29yaXRobUlkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIHVwZGF0ZSh0b0hhc2gsIGVuY29kaW5nKSB7XG4gICAgICAgIHRoaXMuaGFzaC51cGRhdGUodG9VaW50OEFycmF5KGNhc3RTb3VyY2VEYXRhKHRvSGFzaCwgZW5jb2RpbmcpKSk7XG4gICAgfVxuICAgIGRpZ2VzdCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmhhc2guZGlnZXN0KCkpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5oYXNoID0gdGhpcy5zZWNyZXRcbiAgICAgICAgICAgID8gY3JlYXRlSG1hYyh0aGlzLmFsZ29yaXRobUlkZW50aWZpZXIsIGNhc3RTb3VyY2VEYXRhKHRoaXMuc2VjcmV0KSlcbiAgICAgICAgICAgIDogY3JlYXRlSGFzaCh0aGlzLmFsZ29yaXRobUlkZW50aWZpZXIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhc3RTb3VyY2VEYXRhKHRvQ2FzdCwgZW5jb2RpbmcpIHtcbiAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHRvQ2FzdCkpIHtcbiAgICAgICAgcmV0dXJuIHRvQ2FzdDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0b0Nhc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcodG9DYXN0LCBlbmNvZGluZyk7XG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodG9DYXN0KSkge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRvQ2FzdC5idWZmZXIsIHRvQ2FzdC5ieXRlT2Zmc2V0LCB0b0Nhc3QuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodG9DYXN0KTtcbn1cbiIsImltcG9ydCB7IGZzdGF0U3luYywgbHN0YXRTeW5jIH0gZnJvbSBcImZzXCI7XG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQm9keUxlbmd0aCA9IChib2R5KSA9PiB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJvZHkpLmxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkuYnl0ZUxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYm9keS5zaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBib2R5LnNpemU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBib2R5LnN0YXJ0ID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBib2R5LmVuZCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gYm9keS5lbmQgKyAxIC0gYm9keS5zdGFydDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkucGF0aCA9PT0gXCJzdHJpbmdcIiB8fCBCdWZmZXIuaXNCdWZmZXIoYm9keS5wYXRoKSkge1xuICAgICAgICByZXR1cm4gbHN0YXRTeW5jKGJvZHkucGF0aCkuc2l6ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkuZmQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGZzdGF0U3luYyhib2R5LmZkKS5zaXplO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJvZHkgTGVuZ3RoIGNvbXB1dGF0aW9uIGZhaWxlZCBmb3IgJHtib2R5fWApO1xufTtcbiIsImNvbnN0IHUgPSBcInJlcXVpcmVkXCIsIHYgPSBcImZuXCIsIHcgPSBcImFyZ3ZcIiwgeCA9IFwicmVmXCI7XG5jb25zdCBhID0gdHJ1ZSwgYiA9IFwiaXNTZXRcIiwgYyA9IFwiYm9vbGVhbkVxdWFsc1wiLCBkID0gXCJlcnJvclwiLCBlID0gXCJlbmRwb2ludFwiLCBmID0gXCJ0cmVlXCIsIGcgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBoID0gXCJnZXRBdHRyXCIsIGkgPSB7IFt1XTogZmFsc2UsIFwidHlwZVwiOiBcIlN0cmluZ1wiIH0sIGogPSB7IFt1XTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBcInR5cGVcIjogXCJCb29sZWFuXCIgfSwgayA9IHsgW3hdOiBcIkVuZHBvaW50XCIgfSwgbCA9IHsgW3ZdOiBjLCBbd106IFt7IFt4XTogXCJVc2VGSVBTXCIgfSwgdHJ1ZV0gfSwgbSA9IHsgW3ZdOiBjLCBbd106IFt7IFt4XTogXCJVc2VEdWFsU3RhY2tcIiB9LCB0cnVlXSB9LCBuID0ge30sIG8gPSB7IFt2XTogaCwgW3ddOiBbeyBbeF06IGcgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfSwgcCA9IHsgW3hdOiBnIH0sIHEgPSB7IFt2XTogYywgW3ddOiBbdHJ1ZSwgeyBbdl06IGgsIFt3XTogW3AsIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgciA9IFtsXSwgcyA9IFttXSwgdCA9IFt7IFt4XTogXCJSZWdpb25cIiB9XTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogaSwgVXNlRHVhbFN0YWNrOiBqLCBVc2VGSVBTOiBqLCBFbmRwb2ludDogaSB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBiLCBbd106IFtrXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IHIsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBjb25kaXRpb25zOiBzLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBlbmRwb2ludDogeyB1cmw6IGssIHByb3BlcnRpZXM6IG4sIGhlYWRlcnM6IG4gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGNvbmRpdGlvbnM6IFt7IFt2XTogYiwgW3ddOiB0IH1dLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3ddOiB0LCBhc3NpZ246IGcgfV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbCwgbV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdl06IGMsIFt3XTogW2EsIG9dIH0sIHFdLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcG9ydGFsLnNzby1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiByLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBjLCBbd106IFtvLCBhXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFt2XTogXCJzdHJpbmdFcXVhbHNcIiwgW3ddOiBbeyBbdl06IGgsIFt3XTogW3AsIFwibmFtZVwiXSB9LCBcImF3cy11cy1nb3ZcIl0gfV0sIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3BvcnRhbC5zc28ue1JlZ2lvbn0uYW1hem9uYXdzLmNvbVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9wb3J0YWwuc3NvLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG4sIGhlYWRlcnM6IG4gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiBzLCBydWxlczogW3sgY29uZGl0aW9uczogW3FdLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcG9ydGFsLnNzby57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogbiwgaGVhZGVyczogbiB9LCB0eXBlOiBlIH1dLCB0eXBlOiBmIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9wb3J0YWwuc3NvLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IE1pc3NpbmcgUmVnaW9uXCIsIHR5cGU6IGQgfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJleHBvcnQgY29uc3QgQVdTX0VYRUNVVElPTl9FTlYgPSBcIkFXU19FWEVDVVRJT05fRU5WXCI7XG5leHBvcnQgY29uc3QgQVdTX1JFR0lPTl9FTlYgPSBcIkFXU19SRUdJT05cIjtcbmV4cG9ydCBjb25zdCBBV1NfREVGQVVMVF9SRUdJT05fRU5WID0gXCJBV1NfREVGQVVMVF9SRUdJT05cIjtcbmV4cG9ydCBjb25zdCBFTlZfSU1EU19ESVNBQkxFRCA9IFwiQVdTX0VDMl9NRVRBREFUQV9ESVNBQkxFRFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRTX01PREVfT1BUSU9OUyA9IFtcImluLXJlZ2lvblwiLCBcImNyb3NzLXJlZ2lvblwiLCBcIm1vYmlsZVwiLCBcInN0YW5kYXJkXCIsIFwibGVnYWN5XCJdO1xuZXhwb3J0IGNvbnN0IElNRFNfUkVHSU9OX1BBVEggPSBcIi9sYXRlc3QvbWV0YS1kYXRhL3BsYWNlbWVudC9yZWdpb25cIjtcbiIsImNvbnN0IEFXU19ERUZBVUxUU19NT0RFX0VOViA9IFwiQVdTX0RFRkFVTFRTX01PREVcIjtcbmNvbnN0IEFXU19ERUZBVUxUU19NT0RFX0NPTkZJRyA9IFwiZGVmYXVsdHNfbW9kZVwiO1xuZXhwb3J0IGNvbnN0IE5PREVfREVGQVVMVFNfTU9ERV9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICAgICAgcmV0dXJuIGVudltBV1NfREVGQVVMVFNfTU9ERV9FTlZdO1xuICAgIH0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvZmlsZVtBV1NfREVGQVVMVFNfTU9ERV9DT05GSUddO1xuICAgIH0sXG4gICAgZGVmYXVsdDogXCJsZWdhY3lcIixcbn07XG4iLCJpbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0SW5zdGFuY2VNZXRhZGF0YUVuZHBvaW50LCBodHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kc1wiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IEFXU19ERUZBVUxUX1JFR0lPTl9FTlYsIEFXU19FWEVDVVRJT05fRU5WLCBBV1NfUkVHSU9OX0VOViwgREVGQVVMVFNfTU9ERV9PUFRJT05TLCBFTlZfSU1EU19ESVNBQkxFRCwgSU1EU19SRUdJT05fUEFUSCwgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5PREVfREVGQVVMVFNfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCIuL2RlZmF1bHRzTW9kZUNvbmZpZ1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgPSAoeyByZWdpb24gPSBsb2FkQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TKSwgZGVmYXVsdHNNb2RlID0gbG9hZENvbmZpZyhOT0RFX0RFRkFVTFRTX01PREVfQ09ORklHX09QVElPTlMpLCB9ID0ge30pID0+IG1lbW9pemUoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vZGUgPSB0eXBlb2YgZGVmYXVsdHNNb2RlID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBkZWZhdWx0c01vZGUoKSA6IGRlZmF1bHRzTW9kZTtcbiAgICBzd2l0Y2ggKG1vZGU/LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSBcImF1dG9cIjpcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlTm9kZURlZmF1bHRzTW9kZUF1dG8ocmVnaW9uKTtcbiAgICAgICAgY2FzZSBcImluLXJlZ2lvblwiOlxuICAgICAgICBjYXNlIFwiY3Jvc3MtcmVnaW9uXCI6XG4gICAgICAgIGNhc2UgXCJtb2JpbGVcIjpcbiAgICAgICAgY2FzZSBcInN0YW5kYXJkXCI6XG4gICAgICAgIGNhc2UgXCJsZWdhY3lcIjpcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kZT8udG9Mb2NhbGVMb3dlckNhc2UoKSk7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShcImxlZ2FjeVwiKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwYXJhbWV0ZXIgZm9yIFwiZGVmYXVsdHNNb2RlXCIsIGV4cGVjdCAke0RFRkFVTFRTX01PREVfT1BUSU9OUy5qb2luKFwiLCBcIil9LCBnb3QgJHttb2RlfWApO1xuICAgIH1cbn0pO1xuY29uc3QgcmVzb2x2ZU5vZGVEZWZhdWx0c01vZGVBdXRvID0gYXN5bmMgKGNsaWVudFJlZ2lvbikgPT4ge1xuICAgIGlmIChjbGllbnRSZWdpb24pIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRSZWdpb24gPSB0eXBlb2YgY2xpZW50UmVnaW9uID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBjbGllbnRSZWdpb24oKSA6IGNsaWVudFJlZ2lvbjtcbiAgICAgICAgY29uc3QgaW5mZXJyZWRSZWdpb24gPSBhd2FpdCBpbmZlclBoeXNpY2FsUmVnaW9uKCk7XG4gICAgICAgIGlmICghaW5mZXJyZWRSZWdpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBcInN0YW5kYXJkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc29sdmVkUmVnaW9uID09PSBpbmZlcnJlZFJlZ2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIFwiaW4tcmVnaW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJjcm9zcy1yZWdpb25cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJzdGFuZGFyZFwiO1xufTtcbmNvbnN0IGluZmVyUGh5c2ljYWxSZWdpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52W0FXU19FWEVDVVRJT05fRU5WXSAmJiAocHJvY2Vzcy5lbnZbQVdTX1JFR0lPTl9FTlZdIHx8IHByb2Nlc3MuZW52W0FXU19ERUZBVUxUX1JFR0lPTl9FTlZdKSkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnZbQVdTX1JFR0lPTl9FTlZdID8/IHByb2Nlc3MuZW52W0FXU19ERUZBVUxUX1JFR0lPTl9FTlZdO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3MuZW52W0VOVl9JTURTX0RJU0FCTEVEXSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBhd2FpdCBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQoKTtcbiAgICAgICAgICAgIHJldHVybiAoYXdhaXQgaHR0cFJlcXVlc3QoeyAuLi5lbmRwb2ludCwgcGF0aDogSU1EU19SRUdJT05fUEFUSCB9KSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBnZXRBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uID0gKHJ1bnRpbWVDb25maWcpID0+IHtcbiAgICBsZXQgcnVudGltZUNvbmZpZ1JlZ2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHJ1bnRpbWVDb25maWcucmVnaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZ2lvbiBpcyBtaXNzaW5nIGZyb20gcnVudGltZUNvbmZpZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWdpb24gPSBydW50aW1lQ29uZmlnLnJlZ2lvbjtcbiAgICAgICAgaWYgKHR5cGVvZiByZWdpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWdpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ2lvbigpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0UmVnaW9uKHJlZ2lvbikge1xuICAgICAgICAgICAgcnVudGltZUNvbmZpZ1JlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgcmVnaW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJ1bnRpbWVDb25maWdSZWdpb247XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gPSAoYXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZ2lvbjogYXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbi5yZWdpb24oKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IGdldEhvc3RIZWFkZXJQbHVnaW4sIHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWhvc3QtaGVhZGVyXCI7XG5pbXBvcnQgeyBnZXRMb2dnZXJQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXJcIjtcbmltcG9ydCB7IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJlY3Vyc2lvbi1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlUmVnaW9uQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0UmV0cnlQbHVnaW4sIHJlc29sdmVSZXRyeUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzLCB9IGZyb20gXCIuL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBfX2dldFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnXCI7XG5pbXBvcnQgeyByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMgfSBmcm9tIFwiLi9ydW50aW1lRXh0ZW5zaW9uc1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBTU09DbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoLi4uW2NvbmZpZ3VyYXRpb25dKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uIHx8IHt9KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMoX2NvbmZpZ182LCBjb25maWd1cmF0aW9uPy5leHRlbnNpb25zIHx8IFtdKTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ183KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzc7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwiYXdzc3NvcG9ydGFsXCIsXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiBhcyBhd3NDaGVja1ZlcnNpb24gfSBmcm9tIFwiQGF3cy1zZGsvY29yZVwiO1xuaW1wb3J0IHsgZGVmYXVsdFVzZXJBZ2VudCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IEhhc2ggfSBmcm9tIFwiQHNtaXRoeS9oYXNoLW5vZGVcIjtcbmltcG9ydCB7IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMsIE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgTm9kZUh0dHBIYW5kbGVyIGFzIFJlcXVlc3RIYW5kbGVyLCBzdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWh0dHAtaGFuZGxlclwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm9keUxlbmd0aCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1yZXRyeVwiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBnZXRTaGFyZWRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZy5zaGFyZWRcIjtcbmltcG9ydCB7IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgY29uc3QgZGVmYXVsdHNNb2RlID0gcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWdQcm92aWRlciA9ICgpID0+IGRlZmF1bHRzTW9kZSgpLnRoZW4obG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSk7XG4gICAgY29uc3QgY2xpZW50U2hhcmVkVmFsdWVzID0gZ2V0U2hhcmVkUnVudGltZUNvbmZpZyhjb25maWcpO1xuICAgIGF3c0NoZWNrVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNsaWVudFNoYXJlZFZhbHVlcyxcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBydW50aW1lOiBcIm5vZGVcIixcbiAgICAgICAgZGVmYXVsdHNNb2RlLFxuICAgICAgICBib2R5TGVuZ3RoQ2hlY2tlcjogY29uZmlnPy5ib2R5TGVuZ3RoQ2hlY2tlciA/PyBjYWxjdWxhdGVCb2R5TGVuZ3RoLFxuICAgICAgICBkZWZhdWx0VXNlckFnZW50UHJvdmlkZXI6IGNvbmZpZz8uZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyID8/XG4gICAgICAgICAgICBkZWZhdWx0VXNlckFnZW50KHsgc2VydmljZUlkOiBjbGllbnRTaGFyZWRWYWx1ZXMuc2VydmljZUlkLCBjbGllbnRWZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciB9IGZyb20gXCIuL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwaVZlcnNpb246IFwiMjAxOS0wNi0xMFwiLFxuICAgICAgICBiYXNlNjREZWNvZGVyOiBjb25maWc/LmJhc2U2NERlY29kZXIgPz8gZnJvbUJhc2U2NCxcbiAgICAgICAgYmFzZTY0RW5jb2RlcjogY29uZmlnPy5iYXNlNjRFbmNvZGVyID8/IHRvQmFzZTY0LFxuICAgICAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICAgICAgZW5kcG9pbnRQcm92aWRlcjogY29uZmlnPy5lbmRwb2ludFByb3ZpZGVyID8/IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyLFxuICAgICAgICBleHRlbnNpb25zOiBjb25maWc/LmV4dGVuc2lvbnMgPz8gW10sXG4gICAgICAgIGxvZ2dlcjogY29uZmlnPy5sb2dnZXIgPz8gbmV3IE5vT3BMb2dnZXIoKSxcbiAgICAgICAgc2VydmljZUlkOiBjb25maWc/LnNlcnZpY2VJZCA/PyBcIlNTT1wiLFxuICAgICAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgICAgICB1dGY4RGVjb2RlcjogY29uZmlnPy51dGY4RGVjb2RlciA/PyBmcm9tVXRmOCxcbiAgICAgICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgZ2V0QXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZUF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIH0gZnJvbSBcIkBhd3Mtc2RrL3JlZ2lvbi1jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldEh0dHBIYW5kbGVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZUh0dHBIYW5kbGVyUnVudGltZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uLCByZXNvbHZlRGVmYXVsdFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5jb25zdCBhc1BhcnRpYWwgPSAodCkgPT4gdDtcbmV4cG9ydCBjb25zdCByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMgPSAocnVudGltZUNvbmZpZywgZXh0ZW5zaW9ucykgPT4ge1xuICAgIGNvbnN0IGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIC4uLmFzUGFydGlhbChnZXRBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uKHJ1bnRpbWVDb25maWcpKSxcbiAgICAgICAgLi4uYXNQYXJ0aWFsKGdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uKHJ1bnRpbWVDb25maWcpKSxcbiAgICAgICAgLi4uYXNQYXJ0aWFsKGdldEh0dHBIYW5kbGVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgfTtcbiAgICBleHRlbnNpb25zLmZvckVhY2goKGV4dGVuc2lvbikgPT4gZXh0ZW5zaW9uLmNvbmZpZ3VyZShleHRlbnNpb25Db25maWd1cmF0aW9uKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucnVudGltZUNvbmZpZyxcbiAgICAgICAgLi4ucmVzb2x2ZUF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgICAgIC4uLnJlc29sdmVEZWZhdWx0UnVudGltZUNvbmZpZyhleHRlbnNpb25Db25maWd1cmF0aW9uKSxcbiAgICAgICAgLi4ucmVzb2x2ZUh0dHBIYW5kbGVyUnVudGltZUNvbmZpZyhleHRlbnNpb25Db25maWd1cmF0aW9uKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFNTT1NlcnZpY2VFeGNlcHRpb24gZXh0ZW5kcyBfX1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTU09TZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFNTT1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vU1NPU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuYXV0aG9yaXplZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVW5hdXRob3JpemVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuYXV0aG9yaXplZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBHZXRSb2xlQ3JlZGVudGlhbHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5hY2Nlc3NUb2tlbiAmJiB7IGFjY2Vzc1Rva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUm9sZUNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5zZWNyZXRBY2Nlc3NLZXkgJiYgeyBzZWNyZXRBY2Nlc3NLZXk6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5zZXNzaW9uVG9rZW4gJiYgeyBzZXNzaW9uVG9rZW46IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZXRSb2xlQ3JlZGVudGlhbHNSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmoucm9sZUNyZWRlbnRpYWxzICYmIHsgcm9sZUNyZWRlbnRpYWxzOiBSb2xlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLnJvbGVDcmVkZW50aWFscykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBMaXN0QWNjb3VudFJvbGVzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouYWNjZXNzVG9rZW4gJiYgeyBhY2Nlc3NUb2tlbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IExpc3RBY2NvdW50c1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLmFjY2Vzc1Rva2VuICYmIHsgYWNjZXNzVG9rZW46IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBMb2dvdXRSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5hY2Nlc3NUb2tlbiAmJiB7IGFjY2Vzc1Rva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgX2pzb24sIGNvbGxlY3RCb2R5LCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdE5vbk51bGwgYXMgX19leHBlY3ROb25OdWxsLCBleHBlY3RPYmplY3QgYXMgX19leHBlY3RPYmplY3QsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgbWFwLCB0YWtlLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbiwgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiwgVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uLCBVbmF1dGhvcml6ZWRFeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgU1NPU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL1NTT1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IG1hcCh7fSwgaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSwge1xuICAgICAgICBcIngtYW16LXNzb19iZWFyZXJfdG9rZW5cIjogaW5wdXQuYWNjZXNzVG9rZW4sXG4gICAgfSk7XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2ZlZGVyYXRpb24vY3JlZGVudGlhbHNcIjtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIHJvbGVfbmFtZTogWywgX19leHBlY3ROb25OdWxsKGlucHV0LnJvbGVOYW1lLCBgcm9sZU5hbWVgKV0sXG4gICAgICAgIGFjY291bnRfaWQ6IFssIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5hY2NvdW50SWQsIGBhY2NvdW50SWRgKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RBY2NvdW50Um9sZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IG1hcCh7fSwgaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSwge1xuICAgICAgICBcIngtYW16LXNzb19iZWFyZXJfdG9rZW5cIjogaW5wdXQuYWNjZXNzVG9rZW4sXG4gICAgfSk7XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2Fzc2lnbm1lbnQvcm9sZXNcIjtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIG5leHRfdG9rZW46IFssIGlucHV0Lm5leHRUb2tlbl0sXG4gICAgICAgIG1heF9yZXN1bHQ6IFsoKSA9PiBpbnB1dC5tYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lm1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgICAgIGFjY291bnRfaWQ6IFssIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5hY2NvdW50SWQsIGBhY2NvdW50SWRgKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RBY2NvdW50c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0gbWFwKHt9LCBpc1NlcmlhbGl6YWJsZUhlYWRlclZhbHVlLCB7XG4gICAgICAgIFwieC1hbXotc3NvX2JlYXJlcl90b2tlblwiOiBpbnB1dC5hY2Nlc3NUb2tlbixcbiAgICB9KTtcbiAgICBjb25zdCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYXNzaWdubWVudC9hY2NvdW50c1wiO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmV4dF90b2tlbjogWywgaW5wdXQubmV4dFRva2VuXSxcbiAgICAgICAgbWF4X3Jlc3VsdDogWygpID0+IGlucHV0Lm1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQubWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTG9nb3V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBtYXAoe30sIGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUsIHtcbiAgICAgICAgXCJ4LWFtei1zc29fYmVhcmVyX3Rva2VuXCI6IGlucHV0LmFjY2Vzc1Rva2VuLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9sb2dvdXRcIjtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgcm9sZUNyZWRlbnRpYWxzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNVbmF1dGhvcml6ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RBY2NvdW50Um9sZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEFjY291bnRSb2xlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgcm9sZUxpc3Q6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RBY2NvdW50Um9sZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNVbmF1dGhvcml6ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RBY2NvdW50c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0QWNjb3VudHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGFjY291bnRMaXN0OiBfanNvbixcbiAgICAgICAgbmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0QWNjb3VudHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNVbmF1dGhvcml6ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xvZ291dENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9Mb2dvdXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xvZ291dENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbmF1dGhvcml6ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1VuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5hdXRob3JpemVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBtZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBtZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVW5hdXRob3JpemVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG5jb25zdCBjb2xsZWN0Qm9keVN0cmluZyA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keShzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChib2R5KSA9PiBjb250ZXh0LnV0ZjhFbmNvZGVyKGJvZHkpKTtcbmNvbnN0IGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHZhbHVlICE9PSBcIlwiICYmXG4gICAgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuaW5jbHVkZXMoXCJsZW5ndGhcIikgfHwgdmFsdWUubGVuZ3RoICE9IDApICYmXG4gICAgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuaW5jbHVkZXMoXCJzaXplXCIpIHx8IHZhbHVlLnNpemUgIT0gMCk7XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShlbmNvZGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufSk7XG5jb25zdCBwYXJzZUVycm9yQm9keSA9IGFzeW5jIChlcnJvckJvZHksIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhcnNlQm9keShlcnJvckJvZHksIGNvbnRleHQpO1xuICAgIHZhbHVlLm1lc3NhZ2UgPSB2YWx1ZS5tZXNzYWdlID8/IHZhbHVlLk1lc3NhZ2U7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGxvYWRSZXN0SnNvbkVycm9yQ29kZSA9IChvdXRwdXQsIGRhdGEpID0+IHtcbiAgICBjb25zdCBmaW5kS2V5ID0gKG9iamVjdCwga2V5KSA9PiBPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoKGspID0+IGsudG9Mb3dlckNhc2UoKSA9PT0ga2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgIGNvbnN0IHNhbml0aXplRXJyb3JDb2RlID0gKHJhd1ZhbHVlKSA9PiB7XG4gICAgICAgIGxldCBjbGVhblZhbHVlID0gcmF3VmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYW5WYWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiLFwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIixcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIjpcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCI6XCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIjXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiI1wiKVsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xlYW5WYWx1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlcktleSA9IGZpbmRLZXkob3V0cHV0LmhlYWRlcnMsIFwieC1hbXpuLWVycm9ydHlwZVwiKTtcbiAgICBpZiAoaGVhZGVyS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKG91dHB1dC5oZWFkZXJzW2hlYWRlcktleV0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKGRhdGEuY29kZSk7XG4gICAgfVxuICAgIGlmIChkYXRhW1wiX190eXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKGRhdGFbXCJfX3R5cGVcIl0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFNNSVRIWV9DT05URVhUX0tFWSwgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgR2V0Um9sZUNyZWRlbnRpYWxzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZywgR2V0Um9sZUNyZWRlbnRpYWxzUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCwgc2VfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCB9IGZyb20gXCIuLi9wcm90b2NvbHMvQXdzX3Jlc3RKc29uMVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIEdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTU09DbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogR2V0Um9sZUNyZWRlbnRpYWxzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogR2V0Um9sZUNyZWRlbnRpYWxzUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgICAgICBbU01JVEhZX0NPTlRFWFRfS0VZXToge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IFwiU1dCUG9ydGFsU2VydmljZVwiLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJHZXRSb2xlQ3JlZGVudGlhbHNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQcm92aWRlckVycm9yIH0gZnJvbSBcIi4vUHJvdmlkZXJFcnJvclwiO1xuZXhwb3J0IGNsYXNzIFRva2VuUHJvdmlkZXJFcnJvciBleHRlbmRzIFByb3ZpZGVyRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHRyeU5leHRMaW5rID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB0cnlOZXh0TGluayk7XG4gICAgICAgIHRoaXMudHJ5TmV4dExpbmsgPSB0cnlOZXh0TGluaztcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUb2tlblByb3ZpZGVyRXJyb3JcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRva2VuUHJvdmlkZXJFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBFWFBJUkVfV0lORE9XX01TID0gNSAqIDYwICogMTAwMDtcbmV4cG9ydCBjb25zdCBSRUZSRVNIX01FU1NBR0UgPSBgVG8gcmVmcmVzaCB0aGlzIFNTTyBzZXNzaW9uIHJ1biAnYXdzIHNzbyBsb2dpbicgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9maWxlLmA7XG4iLCJpbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWhvc3QtaGVhZGVyXCI7XG5pbXBvcnQgeyBnZXRMb2dnZXJQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXJcIjtcbmltcG9ydCB7IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJlY3Vyc2lvbi1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50IH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xudmFyIHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwiYXdzc3Nvb2lkY1wiLFxuICAgIH07XG59O1xudmFyIHBhY2thZ2VfZGVmYXVsdCA9IHsgdmVyc2lvbjogXCIzLjQyOS4wXCIgfTtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBzbWl0aHkvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAc21pdGh5L3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAc21pdGh5L3V0aWwtZW5kcG9pbnRzXCI7XG52YXIgcyA9IFwicmVxdWlyZWRcIjtcbnZhciB0ID0gXCJmblwiO1xudmFyIHUgPSBcImFyZ3ZcIjtcbnZhciB2ID0gXCJyZWZcIjtcbnZhciBhID0gXCJpc1NldFwiO1xudmFyIGIgPSBcInRyZWVcIjtcbnZhciBjID0gXCJlcnJvclwiO1xudmFyIGQgPSBcImVuZHBvaW50XCI7XG52YXIgZSA9IFwiUGFydGl0aW9uUmVzdWx0XCI7XG52YXIgZiA9IFwiZ2V0QXR0clwiO1xudmFyIGcgPSB7IFtzXTogZmFsc2UsIHR5cGU6IFwiU3RyaW5nXCIgfTtcbnZhciBoID0geyBbc106IHRydWUsIGRlZmF1bHQ6IGZhbHNlLCB0eXBlOiBcIkJvb2xlYW5cIiB9O1xudmFyIGkgPSB7IFt2XTogXCJFbmRwb2ludFwiIH07XG52YXIgaiA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbeyBbdl06IFwiVXNlRklQU1wiIH0sIHRydWVdIH07XG52YXIgayA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbeyBbdl06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfTtcbnZhciBsID0ge307XG52YXIgbSA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbdHJ1ZSwgeyBbdF06IGYsIFt1XTogW3sgW3ZdOiBlIH0sIFwic3VwcG9ydHNGSVBTXCJdIH1dIH07XG52YXIgbiA9IHsgW3ZdOiBlIH07XG52YXIgbyA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbdHJ1ZSwgeyBbdF06IGYsIFt1XTogW24sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfTtcbnZhciBwID0gW2pdO1xudmFyIHEgPSBba107XG52YXIgciA9IFt7IFt2XTogXCJSZWdpb25cIiB9XTtcbnZhciBfZGF0YSA9IHtcbiAgICB2ZXJzaW9uOiBcIjEuMFwiLFxuICAgIHBhcmFtZXRlcnM6IHsgUmVnaW9uOiBnLCBVc2VEdWFsU3RhY2s6IGgsIFVzZUZJUFM6IGgsIEVuZHBvaW50OiBnIH0sXG4gICAgcnVsZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgY29uZGl0aW9uczogW3sgW3RdOiBhLCBbdV06IFtpXSB9XSxcbiAgICAgICAgICAgIHR5cGU6IGIsXG4gICAgICAgICAgICBydWxlczogW1xuICAgICAgICAgICAgICAgIHsgY29uZGl0aW9uczogcCwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LFxuICAgICAgICAgICAgICAgIHsgY29uZGl0aW9uczogcSwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBEdWFsc3RhY2sgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sXG4gICAgICAgICAgICAgICAgeyBlbmRwb2ludDogeyB1cmw6IGksIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY29uZGl0aW9uczogW3sgW3RdOiBhLCBbdV06IHIgfV0sXG4gICAgICAgICAgICB0eXBlOiBiLFxuICAgICAgICAgICAgcnVsZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnM6IFt7IFt0XTogXCJhd3MucGFydGl0aW9uXCIsIFt1XTogciwgYXNzaWduOiBlIH1dLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBiLFxuICAgICAgICAgICAgICAgICAgICBydWxlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnM6IFtqLCBrXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnM6IFttLCBvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL29pZGMtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGVycm9yOiBcIkZJUFMgYW5kIER1YWxTdGFjayBhcmUgZW5hYmxlZCwgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgb25lIG9yIGJvdGhcIiwgdHlwZTogYyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnM6IHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBbbV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnM6IFt7IFt0XTogXCJzdHJpbmdFcXVhbHNcIiwgW3VdOiBbXCJhd3MtdXMtZ292XCIsIHsgW3RdOiBmLCBbdV06IFtuLCBcIm5hbWVcIl0gfV0gfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL29pZGMue1JlZ2lvbn0uYW1hem9uYXdzLmNvbVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9vaWRjLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCB0eXBlOiBjIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uczogcSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbnM6IFtvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL29pZGMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgdHlwZTogYyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL29pZGMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IE1pc3NpbmcgUmVnaW9uXCIsIHR5cGU6IGMgfSxcbiAgICBdLFxufTtcbnZhciBydWxlU2V0ID0gX2RhdGE7XG52YXIgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG52YXIgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+ICh7XG4gICAgYXBpVmVyc2lvbjogXCIyMDE5LTA2LTEwXCIsXG4gICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgYmFzZTY0RW5jb2RlcjogY29uZmlnPy5iYXNlNjRFbmNvZGVyID8/IHRvQmFzZTY0LFxuICAgIGRpc2FibGVIb3N0UHJlZml4OiBjb25maWc/LmRpc2FibGVIb3N0UHJlZml4ID8/IGZhbHNlLFxuICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICBleHRlbnNpb25zOiBjb25maWc/LmV4dGVuc2lvbnMgPz8gW10sXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTU08gT0lEQ1wiLFxuICAgIHVybFBhcnNlcjogY29uZmlnPy51cmxQYXJzZXIgPz8gcGFyc2VVcmwsXG4gICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxufSk7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xudmFyIGdldFJ1bnRpbWVDb25maWcyID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VfZGVmYXVsdC52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG5pbXBvcnQgeyBnZXRBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uLCByZXNvbHZlQXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvcmVnaW9uLWNvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0SHR0cEhhbmRsZXJFeHRlbnNpb25Db25maWd1cmF0aW9uLCByZXNvbHZlSHR0cEhhbmRsZXJSdW50aW1lQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdEV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVEZWZhdWx0UnVudGltZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbnZhciBhc1BhcnRpYWwgPSAodDIpID0+IHQyO1xudmFyIHJlc29sdmVSdW50aW1lRXh0ZW5zaW9ucyA9IChydW50aW1lQ29uZmlnLCBleHRlbnNpb25zKSA9PiB7XG4gICAgY29uc3QgZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgLi4uYXNQYXJ0aWFsKGdldEF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0RGVmYXVsdEV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0SHR0cEhhbmRsZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKHJ1bnRpbWVDb25maWcpKSxcbiAgICB9O1xuICAgIGV4dGVuc2lvbnMuZm9yRWFjaCgoZXh0ZW5zaW9uKSA9PiBleHRlbnNpb24uY29uZmlndXJlKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5ydW50aW1lQ29uZmlnLFxuICAgICAgICAuLi5yZXNvbHZlQXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihleHRlbnNpb25Db25maWd1cmF0aW9uKSxcbiAgICAgICAgLi4ucmVzb2x2ZURlZmF1bHRSdW50aW1lQ29uZmlnKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAuLi5yZXNvbHZlSHR0cEhhbmRsZXJSdW50aW1lQ29uZmlnKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgIH07XG59O1xudmFyIFNTT09JRENDbGllbnQgPSBjbGFzcyBleHRlbmRzIF9fQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvciguLi5bY29uZmlndXJhdGlvbl0pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gZ2V0UnVudGltZUNvbmZpZzIoY29uZmlndXJhdGlvbiB8fCB7fSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ183ID0gcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zKF9jb25maWdfNiwgY29uZmlndXJhdGlvbj8uZXh0ZW5zaW9ucyB8fCBbXSk7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ183O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn07XG5pbXBvcnQgeyBjcmVhdGVBZ2dyZWdhdGVkQ2xpZW50IH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTTUlUSFlfQ09OVEVYVF9LRVkgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IF9qc29uLCBjb2xsZWN0Qm9keSwgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uLCBleHBlY3RJbnQzMiBhcyBfX2V4cGVjdEludDMyLCBleHBlY3RMb25nIGFzIF9fZXhwZWN0TG9uZywgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdE9iamVjdCBhcyBfX2V4cGVjdE9iamVjdCwgZXhwZWN0U3RyaW5nIGFzIF9fZXhwZWN0U3RyaW5nLCBtYXAsIHRha2UsIHdpdGhCYXNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbnZhciBTU09PSURDU2VydmljZUV4Y2VwdGlvbiA9IGNsYXNzIF9TU09PSURDU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIF9fU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIF9TU09PSURDU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn07XG52YXIgQWNjZXNzRGVuaWVkRXhjZXB0aW9uID0gY2xhc3MgX0FjY2Vzc0RlbmllZEV4Y2VwdGlvbiBleHRlbmRzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX0FjY2Vzc0RlbmllZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufTtcbnZhciBBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbiA9IGNsYXNzIF9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbiBleHRlbmRzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQXV0aG9yaXphdGlvblBlbmRpbmdFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIF9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufTtcbnZhciBFeHBpcmVkVG9rZW5FeGNlcHRpb24gPSBjbGFzcyBfRXhwaXJlZFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFeHBpcmVkVG9rZW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBfRXhwaXJlZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59O1xudmFyIEludGVybmFsU2VydmVyRXhjZXB0aW9uID0gY2xhc3MgX0ludGVybmFsU2VydmVyRXhjZXB0aW9uIGV4dGVuZHMgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcInNlcnZlclwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX0ludGVybmFsU2VydmVyRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59O1xudmFyIEludmFsaWRDbGllbnRFeGNlcHRpb24gPSBjbGFzcyBfSW52YWxpZENsaWVudEV4Y2VwdGlvbiBleHRlbmRzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBfSW52YWxpZENsaWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufTtcbnZhciBJbnZhbGlkR3JhbnRFeGNlcHRpb24gPSBjbGFzcyBfSW52YWxpZEdyYW50RXhjZXB0aW9uIGV4dGVuZHMgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkR3JhbnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRHcmFudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBfSW52YWxpZEdyYW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59O1xudmFyIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uID0gY2xhc3MgX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uIGV4dGVuZHMgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59O1xudmFyIEludmFsaWRTY29wZUV4Y2VwdGlvbiA9IGNsYXNzIF9JbnZhbGlkU2NvcGVFeGNlcHRpb24gZXh0ZW5kcyBTU09PSURDU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRTY29wZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNjb3BlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIF9JbnZhbGlkU2NvcGVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn07XG52YXIgU2xvd0Rvd25FeGNlcHRpb24gPSBjbGFzcyBfU2xvd0Rvd25FeGNlcHRpb24gZXh0ZW5kcyBTU09PSURDU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlNsb3dEb3duRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTbG93RG93bkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBfU2xvd0Rvd25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn07XG52YXIgVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uID0gY2xhc3MgX1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbiBleHRlbmRzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufTtcbnZhciBVbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvbiA9IGNsYXNzIF9VbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvbiBleHRlbmRzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIF9VbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufTtcbnZhciBJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb24gPSBjbGFzcyBfSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uIGV4dGVuZHMgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDbGllbnRNZXRhZGF0YUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBfSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59O1xudmFyIHNlX0NyZWF0ZVRva2VuQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9L3Rva2VuYDtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBjbGllbnRJZDogW10sXG4gICAgICAgIGNsaWVudFNlY3JldDogW10sXG4gICAgICAgIGNvZGU6IFtdLFxuICAgICAgICBkZXZpY2VDb2RlOiBbXSxcbiAgICAgICAgZ3JhbnRUeXBlOiBbXSxcbiAgICAgICAgcmVkaXJlY3RVcmk6IFtdLFxuICAgICAgICByZWZyZXNoVG9rZW46IFtdLFxuICAgICAgICBzY29wZTogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG52YXIgc2VfUmVnaXN0ZXJDbGllbnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBjb25zdCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn0vY2xpZW50L3JlZ2lzdGVyYDtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBjbGllbnROYW1lOiBbXSxcbiAgICAgICAgY2xpZW50VHlwZTogW10sXG4gICAgICAgIHNjb3BlczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG52YXIgc2VfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9L2RldmljZV9hdXRob3JpemF0aW9uYDtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBjbGllbnRJZDogW10sXG4gICAgICAgIGNsaWVudFNlY3JldDogW10sXG4gICAgICAgIHN0YXJ0VXJsOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xudmFyIGRlX0NyZWF0ZVRva2VuQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRva2VuQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBhY2Nlc3NUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGV4cGlyZXNJbjogX19leHBlY3RJbnQzMixcbiAgICAgICAgaWRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIHRva2VuVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xudmFyIGRlX0NyZWF0ZVRva2VuQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0F1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEdyYW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZEdyYW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTY29wZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiU2xvd0Rvd25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNTbG93RG93bkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2xvd0Rvd25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1Vuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xudmFyIGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBhdXRob3JpemF0aW9uRW5kcG9pbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBjbGllbnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGNsaWVudElkSXNzdWVkQXQ6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgY2xpZW50U2VjcmV0RXhwaXJlc0F0OiBfX2V4cGVjdExvbmcsXG4gICAgICAgIHRva2VuRW5kcG9pbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbnZhciBkZV9SZWdpc3RlckNsaWVudENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTY29wZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xudmFyIGRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydERldmljZUF1dGhvcml6YXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGRldmljZUNvZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBleHBpcmVzSW46IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIGludGVydmFsOiBfX2V4cGVjdEludDMyLFxuICAgICAgICB1c2VyQ29kZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIHZlcmlmaWNhdGlvblVyaTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIHZlcmlmaWNhdGlvblVyaUNvbXBsZXRlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG52YXIgZGVfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlNsb3dEb3duRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjU2xvd0Rvd25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Nsb3dEb3duRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xudmFyIHRocm93RGVmYXVsdEVycm9yID0gd2l0aEJhc2VFeGNlcHRpb24oU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24pO1xudmFyIGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbnZhciBkZV9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xudmFyIGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFeHBpcmVkVG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbnZhciBkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xudmFyIGRlX0ludmFsaWRDbGllbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENsaWVudEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xudmFyIGRlX0ludmFsaWRDbGllbnRNZXRhZGF0YUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbnZhciBkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEdyYW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG52YXIgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbnZhciBkZV9JbnZhbGlkU2NvcGVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFNjb3BlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG52YXIgZGVfU2xvd0Rvd25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgU2xvd0Rvd25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbnZhciBkZV9VbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG52YXIgZGVfVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbnZhciBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG52YXIgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG52YXIgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZW5jb2RlZCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xudmFyIHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgdmFsdWUubWVzc2FnZSA9IHZhbHVlLm1lc3NhZ2UgPz8gdmFsdWUuTWVzc2FnZTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xudmFyIGxvYWRSZXN0SnNvbkVycm9yQ29kZSA9IChvdXRwdXQsIGRhdGEpID0+IHtcbiAgICBjb25zdCBmaW5kS2V5ID0gKG9iamVjdCwga2V5KSA9PiBPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoKGsyKSA9PiBrMi50b0xvd2VyQ2FzZSgpID09PSBrZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgY29uc3Qgc2FuaXRpemVFcnJvckNvZGUgPSAocmF3VmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGNsZWFuVmFsdWUgPSByYXdWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhblZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIsXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiLFwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiOlwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIjpcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIiNcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIjXCIpWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGVhblZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgaGVhZGVyS2V5ID0gZmluZEtleShvdXRwdXQuaGVhZGVycywgXCJ4LWFtem4tZXJyb3J0eXBlXCIpO1xuICAgIGlmIChoZWFkZXJLZXkgIT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUob3V0cHV0LmhlYWRlcnNbaGVhZGVyS2V5XSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmNvZGUgIT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YS5jb2RlKTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJfX3R5cGVcIl0gIT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YVtcIl9fdHlwZVwiXSk7XG4gICAgfVxufTtcbnZhciBDcmVhdGVUb2tlbkNvbW1hbmQgPSBjbGFzcyBfQ3JlYXRlVG9rZW5Db21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIF9DcmVhdGVUb2tlbkNvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTU09PSURDQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJDcmVhdGVUb2tlbkNvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgW1NNSVRIWV9DT05URVhUX0tFWV06IHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBcIkFXU1NTT09JRENTZXJ2aWNlXCIsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcIkNyZWF0ZVRva2VuXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9DcmVhdGVUb2tlbkNvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRva2VuQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn07XG5pbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiBhcyBnZXRFbmRwb2ludFBsdWdpbjIgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiBhcyBnZXRTZXJkZVBsdWdpbjIgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kMiB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFNNSVRIWV9DT05URVhUX0tFWSBhcyBTTUlUSFlfQ09OVEVYVF9LRVkyIH0gZnJvbSBcIkBzbWl0aHkvdHlwZXNcIjtcbnZhciBSZWdpc3RlckNsaWVudENvbW1hbmQgPSBjbGFzcyBfUmVnaXN0ZXJDbGllbnRDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQyIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luMihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4yKGNvbmZpZ3VyYXRpb24sIF9SZWdpc3RlckNsaWVudENvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTU09PSURDQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJSZWdpc3RlckNsaWVudENvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgW1NNSVRIWV9DT05URVhUX0tFWTJdOiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogXCJBV1NTU09PSURDU2VydmljZVwiLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJSZWdpc3RlckNsaWVudFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfUmVnaXN0ZXJDbGllbnRDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9SZWdpc3RlckNsaWVudENvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59O1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gYXMgZ2V0RW5kcG9pbnRQbHVnaW4zIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0U2VyZGVQbHVnaW4gYXMgZ2V0U2VyZGVQbHVnaW4zIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZDMgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTTUlUSFlfQ09OVEVYVF9LRVkgYXMgU01JVEhZX0NPTlRFWFRfS0VZMyB9IGZyb20gXCJAc21pdGh5L3R5cGVzXCI7XG52YXIgU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCA9IGNsYXNzIF9TdGFydERldmljZUF1dGhvcml6YXRpb25Db21tYW5kIGV4dGVuZHMgJENvbW1hbmQzIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luMyhjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4zKGNvbmZpZ3VyYXRpb24sIF9TdGFydERldmljZUF1dGhvcml6YXRpb25Db21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiU1NPT0lEQ0NsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBbU01JVEhZX0NPTlRFWFRfS0VZM106IHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBcIkFXU1NTT09JRENTZXJ2aWNlXCIsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcIlN0YXJ0RGV2aWNlQXV0aG9yaXphdGlvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn07XG52YXIgY29tbWFuZHMgPSB7XG4gICAgQ3JlYXRlVG9rZW5Db21tYW5kLFxuICAgIFJlZ2lzdGVyQ2xpZW50Q29tbWFuZCxcbiAgICBTdGFydERldmljZUF1dGhvcml6YXRpb25Db21tYW5kLFxufTtcbnZhciBTU09PSURDID0gY2xhc3MgZXh0ZW5kcyBTU09PSURDQ2xpZW50IHtcbn07XG5jcmVhdGVBZ2dyZWdhdGVkQ2xpZW50KGNvbW1hbmRzLCBTU09PSURDKTtcbmV4cG9ydCB7IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiwgQXV0aG9yaXphdGlvblBlbmRpbmdFeGNlcHRpb24sIENyZWF0ZVRva2VuQ29tbWFuZCwgRXhwaXJlZFRva2VuRXhjZXB0aW9uLCBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbiwgSW52YWxpZENsaWVudEV4Y2VwdGlvbiwgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24sIEludmFsaWRTY29wZUV4Y2VwdGlvbiwgU1NPT0lEQ0NsaWVudCwgU2xvd0Rvd25FeGNlcHRpb24sIFVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbiwgVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb24sIH07XG4iLCJleHBvcnQgY29uc3QgY3JlYXRlQWdncmVnYXRlZENsaWVudCA9IChjb21tYW5kcywgQ2xpZW50KSA9PiB7XG4gICAgZm9yIChjb25zdCBjb21tYW5kIG9mIE9iamVjdC5rZXlzKGNvbW1hbmRzKSkge1xuICAgICAgICBjb25zdCBDb21tYW5kQ3RvciA9IGNvbW1hbmRzW2NvbW1hbmRdO1xuICAgICAgICBjb25zdCBtZXRob2RJbXBsID0gYXN5bmMgZnVuY3Rpb24gKGFyZ3MsIG9wdGlvbnNPckNiLCBjYikge1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBDb21tYW5kQ3RvcihhcmdzKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yQ2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZChjb21tYW5kLCBvcHRpb25zT3JDYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yQ2IgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgaHR0cCBvcHRpb25zIGJ1dCBnb3QgJHt0eXBlb2Ygb3B0aW9uc09yQ2J9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kKGNvbW1hbmQsIG9wdGlvbnNPckNiIHx8IHt9LCBjYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kKGNvbW1hbmQsIG9wdGlvbnNPckNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IChjb21tYW5kWzBdLnRvTG93ZXJDYXNlKCkgKyBjb21tYW5kLnNsaWNlKDEpKS5yZXBsYWNlKC9Db21tYW5kJC8sIFwiXCIpO1xuICAgICAgICBDbGllbnQucHJvdG90eXBlW21ldGhvZE5hbWVdID0gbWV0aG9kSW1wbDtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgU1NPT0lEQ0NsaWVudCB9IGZyb20gXCIuL2J1bmRsZS9jbGllbnQtc3NvLW9pZGMtbm9kZVwiO1xuY29uc3Qgc3NvT2lkY0NsaWVudHNIYXNoID0ge307XG5leHBvcnQgY29uc3QgZ2V0U3NvT2lkY0NsaWVudCA9IChzc29SZWdpb24pID0+IHtcbiAgICBpZiAoc3NvT2lkY0NsaWVudHNIYXNoW3Nzb1JlZ2lvbl0pIHtcbiAgICAgICAgcmV0dXJuIHNzb09pZGNDbGllbnRzSGFzaFtzc29SZWdpb25dO1xuICAgIH1cbiAgICBjb25zdCBzc29PaWRjQ2xpZW50ID0gbmV3IFNTT09JRENDbGllbnQoeyByZWdpb246IHNzb1JlZ2lvbiB9KTtcbiAgICBzc29PaWRjQ2xpZW50c0hhc2hbc3NvUmVnaW9uXSA9IHNzb09pZGNDbGllbnQ7XG4gICAgcmV0dXJuIHNzb09pZGNDbGllbnQ7XG59O1xuIiwiaW1wb3J0IHsgVG9rZW5Qcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IFJFRlJFU0hfTUVTU0FHRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVG9rZW5FeHBpcnkgPSAodG9rZW4pID0+IHtcbiAgICBpZiAodG9rZW4uZXhwaXJhdGlvbiAmJiB0b2tlbi5leHBpcmF0aW9uLmdldFRpbWUoKSA8IERhdGUubm93KCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRva2VuUHJvdmlkZXJFcnJvcihgVG9rZW4gaXMgZXhwaXJlZC4gJHtSRUZSRVNIX01FU1NBR0V9YCwgZmFsc2UpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBUb2tlblByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgUkVGUkVTSF9NRVNTQUdFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVUb2tlbktleSA9IChrZXksIHZhbHVlLCBmb3JSZWZyZXNoID0gZmFsc2UpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFZhbHVlIG5vdCBwcmVzZW50IGZvciAnJHtrZXl9JyBpbiBTU08gVG9rZW4ke2ZvclJlZnJlc2ggPyBcIi4gQ2Fubm90IHJlZnJlc2hcIiA6IFwiXCJ9LiAke1JFRlJFU0hfTUVTU0FHRX1gLCBmYWxzZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldFNTT1Rva2VuRmlsZXBhdGggfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSBcImZzXCI7XG5jb25zdCB7IHdyaXRlRmlsZSB9ID0gZnNQcm9taXNlcztcbmV4cG9ydCBjb25zdCB3cml0ZVNTT1Rva2VuVG9GaWxlID0gKGlkLCBzc29Ub2tlbikgPT4ge1xuICAgIGNvbnN0IHRva2VuRmlsZXBhdGggPSBnZXRTU09Ub2tlbkZpbGVwYXRoKGlkKTtcbiAgICBjb25zdCB0b2tlblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHNzb1Rva2VuLCBudWxsLCAyKTtcbiAgICByZXR1cm4gd3JpdGVGaWxlKHRva2VuRmlsZXBhdGgsIHRva2VuU3RyaW5nKTtcbn07XG4iLCJpbXBvcnQgeyBUb2tlblByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0UHJvZmlsZU5hbWUsIGdldFNTT1Rva2VuRnJvbUZpbGUsIGxvYWRTc29TZXNzaW9uRGF0YSwgcGFyc2VLbm93bkZpbGVzLCB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IEVYUElSRV9XSU5ET1dfTVMsIFJFRlJFU0hfTUVTU0FHRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0TmV3U3NvT2lkY1Rva2VuIH0gZnJvbSBcIi4vZ2V0TmV3U3NvT2lkY1Rva2VuXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVRva2VuRXhwaXJ5IH0gZnJvbSBcIi4vdmFsaWRhdGVUb2tlbkV4cGlyeVwiO1xuaW1wb3J0IHsgdmFsaWRhdGVUb2tlbktleSB9IGZyb20gXCIuL3ZhbGlkYXRlVG9rZW5LZXlcIjtcbmltcG9ydCB7IHdyaXRlU1NPVG9rZW5Ub0ZpbGUgfSBmcm9tIFwiLi93cml0ZVNTT1Rva2VuVG9GaWxlXCI7XG5jb25zdCBsYXN0UmVmcmVzaEF0dGVtcHRUaW1lID0gbmV3IERhdGUoMCk7XG5leHBvcnQgY29uc3QgZnJvbVNzbyA9IChpbml0ID0ge30pID0+IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9maWxlcyA9IGF3YWl0IHBhcnNlS25vd25GaWxlcyhpbml0KTtcbiAgICBjb25zdCBwcm9maWxlTmFtZSA9IGdldFByb2ZpbGVOYW1lKGluaXQpO1xuICAgIGNvbnN0IHByb2ZpbGUgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJyR7cHJvZmlsZU5hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQgaW4gc2hhcmVkIGNyZWRlbnRpYWxzIGZpbGUuYCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIGlmICghcHJvZmlsZVtcInNzb19zZXNzaW9uXCJdKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJyR7cHJvZmlsZU5hbWV9JyBpcyBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICdzc29fc2Vzc2lvbicuYCk7XG4gICAgfVxuICAgIGNvbnN0IHNzb1Nlc3Npb25OYW1lID0gcHJvZmlsZVtcInNzb19zZXNzaW9uXCJdO1xuICAgIGNvbnN0IHNzb1Nlc3Npb25zID0gYXdhaXQgbG9hZFNzb1Nlc3Npb25EYXRhKGluaXQpO1xuICAgIGNvbnN0IHNzb1Nlc3Npb24gPSBzc29TZXNzaW9uc1tzc29TZXNzaW9uTmFtZV07XG4gICAgaWYgKCFzc29TZXNzaW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFNzbyBzZXNzaW9uICcke3Nzb1Nlc3Npb25OYW1lfScgY291bGQgbm90IGJlIGZvdW5kIGluIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlLmAsIGZhbHNlKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzc29TZXNzaW9uUmVxdWlyZWRLZXkgb2YgW1wic3NvX3N0YXJ0X3VybFwiLCBcInNzb19yZWdpb25cIl0pIHtcbiAgICAgICAgaWYgKCFzc29TZXNzaW9uW3Nzb1Nlc3Npb25SZXF1aXJlZEtleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFNzbyBzZXNzaW9uICcke3Nzb1Nlc3Npb25OYW1lfScgaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAnJHtzc29TZXNzaW9uUmVxdWlyZWRLZXl9Jy5gLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3NvU3RhcnRVcmwgPSBzc29TZXNzaW9uW1wic3NvX3N0YXJ0X3VybFwiXTtcbiAgICBjb25zdCBzc29SZWdpb24gPSBzc29TZXNzaW9uW1wic3NvX3JlZ2lvblwiXTtcbiAgICBsZXQgc3NvVG9rZW47XG4gICAgdHJ5IHtcbiAgICAgICAgc3NvVG9rZW4gPSBhd2FpdCBnZXRTU09Ub2tlbkZyb21GaWxlKHNzb1Nlc3Npb25OYW1lKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRva2VuUHJvdmlkZXJFcnJvcihgVGhlIFNTTyBzZXNzaW9uIHRva2VuIGFzc29jaWF0ZWQgd2l0aCBwcm9maWxlPSR7cHJvZmlsZU5hbWV9IHdhcyBub3QgZm91bmQgb3IgaXMgaW52YWxpZC4gJHtSRUZSRVNIX01FU1NBR0V9YCwgZmFsc2UpO1xuICAgIH1cbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwiYWNjZXNzVG9rZW5cIiwgc3NvVG9rZW4uYWNjZXNzVG9rZW4pO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJleHBpcmVzQXRcIiwgc3NvVG9rZW4uZXhwaXJlc0F0KTtcbiAgICBjb25zdCB7IGFjY2Vzc1Rva2VuLCBleHBpcmVzQXQgfSA9IHNzb1Rva2VuO1xuICAgIGNvbnN0IGV4aXN0aW5nVG9rZW4gPSB7IHRva2VuOiBhY2Nlc3NUb2tlbiwgZXhwaXJhdGlvbjogbmV3IERhdGUoZXhwaXJlc0F0KSB9O1xuICAgIGlmIChleGlzdGluZ1Rva2VuLmV4cGlyYXRpb24uZ2V0VGltZSgpIC0gRGF0ZS5ub3coKSA+IEVYUElSRV9XSU5ET1dfTVMpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVG9rZW47XG4gICAgfVxuICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdFJlZnJlc2hBdHRlbXB0VGltZS5nZXRUaW1lKCkgPCAzMCAqIDEwMDApIHtcbiAgICAgICAgdmFsaWRhdGVUb2tlbkV4cGlyeShleGlzdGluZ1Rva2VuKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVG9rZW47XG4gICAgfVxuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJjbGllbnRJZFwiLCBzc29Ub2tlbi5jbGllbnRJZCwgdHJ1ZSk7XG4gICAgdmFsaWRhdGVUb2tlbktleShcImNsaWVudFNlY3JldFwiLCBzc29Ub2tlbi5jbGllbnRTZWNyZXQsIHRydWUpO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJyZWZyZXNoVG9rZW5cIiwgc3NvVG9rZW4ucmVmcmVzaFRva2VuLCB0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBsYXN0UmVmcmVzaEF0dGVtcHRUaW1lLnNldFRpbWUoRGF0ZS5ub3coKSk7XG4gICAgICAgIGNvbnN0IG5ld1Nzb09pZGNUb2tlbiA9IGF3YWl0IGdldE5ld1Nzb09pZGNUb2tlbihzc29Ub2tlbiwgc3NvUmVnaW9uKTtcbiAgICAgICAgdmFsaWRhdGVUb2tlbktleShcImFjY2Vzc1Rva2VuXCIsIG5ld1Nzb09pZGNUb2tlbi5hY2Nlc3NUb2tlbik7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJleHBpcmVzSW5cIiwgbmV3U3NvT2lkY1Rva2VuLmV4cGlyZXNJbik7XG4gICAgICAgIGNvbnN0IG5ld1Rva2VuRXhwaXJhdGlvbiA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBuZXdTc29PaWRjVG9rZW4uZXhwaXJlc0luICogMTAwMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB3cml0ZVNTT1Rva2VuVG9GaWxlKHNzb1Nlc3Npb25OYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3NvVG9rZW4sXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IG5ld1Nzb09pZGNUb2tlbi5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IG5ld1Rva2VuRXhwaXJhdGlvbi50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogbmV3U3NvT2lkY1Rva2VuLnJlZnJlc2hUb2tlbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbjogbmV3U3NvT2lkY1Rva2VuLmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgZXhwaXJhdGlvbjogbmV3VG9rZW5FeHBpcmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdmFsaWRhdGVUb2tlbkV4cGlyeShleGlzdGluZ1Rva2VuKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVG9rZW47XG4gICAgfVxufTtcbiIsImltcG9ydCB7IENyZWF0ZVRva2VuQ29tbWFuZCB9IGZyb20gXCIuL2J1bmRsZS9jbGllbnQtc3NvLW9pZGMtbm9kZVwiO1xuaW1wb3J0IHsgZ2V0U3NvT2lkY0NsaWVudCB9IGZyb20gXCIuL2dldFNzb09pZGNDbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXROZXdTc29PaWRjVG9rZW4gPSAoc3NvVG9rZW4sIHNzb1JlZ2lvbikgPT4ge1xuICAgIGNvbnN0IHNzb09pZGNDbGllbnQgPSBnZXRTc29PaWRjQ2xpZW50KHNzb1JlZ2lvbik7XG4gICAgcmV0dXJuIHNzb09pZGNDbGllbnQuc2VuZChuZXcgQ3JlYXRlVG9rZW5Db21tYW5kKHtcbiAgICAgICAgY2xpZW50SWQ6IHNzb1Rva2VuLmNsaWVudElkLFxuICAgICAgICBjbGllbnRTZWNyZXQ6IHNzb1Rva2VuLmNsaWVudFNlY3JldCxcbiAgICAgICAgcmVmcmVzaFRva2VuOiBzc29Ub2tlbi5yZWZyZXNoVG9rZW4sXG4gICAgICAgIGdyYW50VHlwZTogXCJyZWZyZXNoX3Rva2VuXCIsXG4gICAgfSkpO1xufTtcbiIsImltcG9ydCB7IEdldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQsIFNTT0NsaWVudCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3NvXCI7XG5pbXBvcnQgeyBmcm9tU3NvIGFzIGdldFNzb1Rva2VuUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0U1NPVG9rZW5Gcm9tRmlsZSB9IGZyb20gXCJAc21pdGh5L3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmNvbnN0IFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4gPSBmYWxzZTtcbmV4cG9ydCBjb25zdCByZXNvbHZlU1NPQ3JlZGVudGlhbHMgPSBhc3luYyAoeyBzc29TdGFydFVybCwgc3NvU2Vzc2lvbiwgc3NvQWNjb3VudElkLCBzc29SZWdpb24sIHNzb1JvbGVOYW1lLCBzc29DbGllbnQsIHByb2ZpbGUsIH0pID0+IHtcbiAgICBsZXQgdG9rZW47XG4gICAgY29uc3QgcmVmcmVzaE1lc3NhZ2UgPSBgVG8gcmVmcmVzaCB0aGlzIFNTTyBzZXNzaW9uIHJ1biBhd3Mgc3NvIGxvZ2luIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvZmlsZS5gO1xuICAgIGlmIChzc29TZXNzaW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBfdG9rZW4gPSBhd2FpdCBnZXRTc29Ub2tlblByb3ZpZGVyKHsgcHJvZmlsZSB9KSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IF90b2tlbi50b2tlbixcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKF90b2tlbi5leHBpcmF0aW9uKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlLm1lc3NhZ2UsIFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdG9rZW4gPSBhd2FpdCBnZXRTU09Ub2tlbkZyb21GaWxlKHNzb1N0YXJ0VXJsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgVGhlIFNTTyBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHByb2ZpbGUgaXMgaW52YWxpZC4gJHtyZWZyZXNoTWVzc2FnZX1gLCBTSE9VTERfRkFJTF9DUkVERU5USUFMX0NIQUlOKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3IERhdGUodG9rZW4uZXhwaXJlc0F0KS5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgVGhlIFNTTyBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHByb2ZpbGUgaGFzIGV4cGlyZWQuICR7cmVmcmVzaE1lc3NhZ2V9YCwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIGNvbnN0IHsgYWNjZXNzVG9rZW4gfSA9IHRva2VuO1xuICAgIGNvbnN0IHNzbyA9IHNzb0NsaWVudCB8fCBuZXcgU1NPQ2xpZW50KHsgcmVnaW9uOiBzc29SZWdpb24gfSk7XG4gICAgbGV0IHNzb1Jlc3A7XG4gICAgdHJ5IHtcbiAgICAgICAgc3NvUmVzcCA9IGF3YWl0IHNzby5zZW5kKG5ldyBHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kKHtcbiAgICAgICAgICAgIGFjY291bnRJZDogc3NvQWNjb3VudElkLFxuICAgICAgICAgICAgcm9sZU5hbWU6IHNzb1JvbGVOYW1lLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yLmZyb20oZSwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIGNvbnN0IHsgcm9sZUNyZWRlbnRpYWxzOiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIHNlc3Npb25Ub2tlbiwgZXhwaXJhdGlvbiB9ID0ge30gfSA9IHNzb1Jlc3A7XG4gICAgaWYgKCFhY2Nlc3NLZXlJZCB8fCAhc2VjcmV0QWNjZXNzS2V5IHx8ICFzZXNzaW9uVG9rZW4gfHwgIWV4cGlyYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIlNTTyByZXR1cm5zIGFuIGludmFsaWQgdGVtcG9yYXJ5IGNyZWRlbnRpYWwuXCIsIFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4pO1xuICAgIH1cbiAgICByZXR1cm4geyBhY2Nlc3NLZXlJZCwgc2VjcmV0QWNjZXNzS2V5LCBzZXNzaW9uVG9rZW4sIGV4cGlyYXRpb246IG5ldyBEYXRlKGV4cGlyYXRpb24pIH07XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVNzb1Byb2ZpbGUgPSAocHJvZmlsZSkgPT4ge1xuICAgIGNvbnN0IHsgc3NvX3N0YXJ0X3VybCwgc3NvX2FjY291bnRfaWQsIHNzb19yZWdpb24sIHNzb19yb2xlX25hbWUgfSA9IHByb2ZpbGU7XG4gICAgaWYgKCFzc29fc3RhcnRfdXJsIHx8ICFzc29fYWNjb3VudF9pZCB8fCAhc3NvX3JlZ2lvbiB8fCAhc3NvX3JvbGVfbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlIGlzIGNvbmZpZ3VyZWQgd2l0aCBpbnZhbGlkIFNTTyBjcmVkZW50aWFscy4gUmVxdWlyZWQgcGFyYW1ldGVycyBcInNzb19hY2NvdW50X2lkXCIsIGAgK1xuICAgICAgICAgICAgYFwic3NvX3JlZ2lvblwiLCBcInNzb19yb2xlX25hbWVcIiwgXCJzc29fc3RhcnRfdXJsXCIuIEdvdCAke09iamVjdC5rZXlzKHByb2ZpbGUpLmpvaW4oXCIsIFwiKX1cXG5SZWZlcmVuY2U6IGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jbGkvbGF0ZXN0L3VzZXJndWlkZS9jbGktY29uZmlndXJlLXNzby5odG1sYCwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvZmlsZTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0UHJvZmlsZU5hbWUsIGxvYWRTc29TZXNzaW9uRGF0YSwgcGFyc2VLbm93bkZpbGVzIH0gZnJvbSBcIkBzbWl0aHkvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgaXNTc29Qcm9maWxlIH0gZnJvbSBcIi4vaXNTc29Qcm9maWxlXCI7XG5pbXBvcnQgeyByZXNvbHZlU1NPQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlU1NPQ3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IHZhbGlkYXRlU3NvUHJvZmlsZSB9IGZyb20gXCIuL3ZhbGlkYXRlU3NvUHJvZmlsZVwiO1xuZXhwb3J0IGNvbnN0IGZyb21TU08gPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBzc29TdGFydFVybCwgc3NvQWNjb3VudElkLCBzc29SZWdpb24sIHNzb1JvbGVOYW1lLCBzc29DbGllbnQsIHNzb1Nlc3Npb24gfSA9IGluaXQ7XG4gICAgY29uc3QgcHJvZmlsZU5hbWUgPSBnZXRQcm9maWxlTmFtZShpbml0KTtcbiAgICBpZiAoIXNzb1N0YXJ0VXJsICYmICFzc29BY2NvdW50SWQgJiYgIXNzb1JlZ2lvbiAmJiAhc3NvUm9sZU5hbWUgJiYgIXNzb1Nlc3Npb24pIHtcbiAgICAgICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgICAgIGNvbnN0IHByb2ZpbGUgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSB3YXMgbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNTc29Qcm9maWxlKHByb2ZpbGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGlzIG5vdCBjb25maWd1cmVkIHdpdGggU1NPIGNyZWRlbnRpYWxzLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9maWxlPy5zc29fc2Vzc2lvbikge1xuICAgICAgICAgICAgY29uc3Qgc3NvU2Vzc2lvbnMgPSBhd2FpdCBsb2FkU3NvU2Vzc2lvbkRhdGEoaW5pdCk7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gc3NvU2Vzc2lvbnNbcHJvZmlsZS5zc29fc2Vzc2lvbl07XG4gICAgICAgICAgICBjb25zdCBjb25mbGljdE1zZyA9IGAgY29uZmlndXJhdGlvbnMgaW4gcHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBhbmQgc3NvLXNlc3Npb24gJHtwcm9maWxlLnNzb19zZXNzaW9ufWA7XG4gICAgICAgICAgICBpZiAoc3NvUmVnaW9uICYmIHNzb1JlZ2lvbiAhPT0gc2Vzc2lvbi5zc29fcmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgQ29uZmxpY3RpbmcgU1NPIHJlZ2lvbmAgKyBjb25mbGljdE1zZywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNzb1N0YXJ0VXJsICYmIHNzb1N0YXJ0VXJsICE9PSBzZXNzaW9uLnNzb19zdGFydF91cmwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBDb25mbGljdGluZyBTU08gc3RhcnRfdXJsYCArIGNvbmZsaWN0TXNnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9maWxlLnNzb19yZWdpb24gPSBzZXNzaW9uLnNzb19yZWdpb247XG4gICAgICAgICAgICBwcm9maWxlLnNzb19zdGFydF91cmwgPSBzZXNzaW9uLnNzb19zdGFydF91cmw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzc29fc3RhcnRfdXJsLCBzc29fYWNjb3VudF9pZCwgc3NvX3JlZ2lvbiwgc3NvX3JvbGVfbmFtZSwgc3NvX3Nlc3Npb24gfSA9IHZhbGlkYXRlU3NvUHJvZmlsZShwcm9maWxlKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTU09DcmVkZW50aWFscyh7XG4gICAgICAgICAgICBzc29TdGFydFVybDogc3NvX3N0YXJ0X3VybCxcbiAgICAgICAgICAgIHNzb1Nlc3Npb246IHNzb19zZXNzaW9uLFxuICAgICAgICAgICAgc3NvQWNjb3VudElkOiBzc29fYWNjb3VudF9pZCxcbiAgICAgICAgICAgIHNzb1JlZ2lvbjogc3NvX3JlZ2lvbixcbiAgICAgICAgICAgIHNzb1JvbGVOYW1lOiBzc29fcm9sZV9uYW1lLFxuICAgICAgICAgICAgc3NvQ2xpZW50OiBzc29DbGllbnQsXG4gICAgICAgICAgICBwcm9maWxlOiBwcm9maWxlTmFtZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFzc29TdGFydFVybCB8fCAhc3NvQWNjb3VudElkIHx8ICFzc29SZWdpb24gfHwgIXNzb1JvbGVOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJJbmNvbXBsZXRlIGNvbmZpZ3VyYXRpb24uIFRoZSBmcm9tU1NPKCkgYXJndW1lbnQgaGFzaCBtdXN0IGluY2x1ZGUgXCIgK1xuICAgICAgICAgICAgJ1wic3NvU3RhcnRVcmxcIiwgXCJzc29BY2NvdW50SWRcIiwgXCJzc29SZWdpb25cIiwgXCJzc29Sb2xlTmFtZVwiJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVNTT0NyZWRlbnRpYWxzKHtcbiAgICAgICAgICAgIHNzb1N0YXJ0VXJsLFxuICAgICAgICAgICAgc3NvU2Vzc2lvbixcbiAgICAgICAgICAgIHNzb0FjY291bnRJZCxcbiAgICAgICAgICAgIHNzb1JlZ2lvbixcbiAgICAgICAgICAgIHNzb1JvbGVOYW1lLFxuICAgICAgICAgICAgc3NvQ2xpZW50LFxuICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZU5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3QgaXNTdGF0aWNDcmVkc1Byb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiZcbiAgICB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGFyZy5hd3NfYWNjZXNzX2tleV9pZCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiBhcmcuYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID09PSBcInN0cmluZ1wiICYmXG4gICAgW1widW5kZWZpbmVkXCIsIFwic3RyaW5nXCJdLmluZGV4T2YodHlwZW9mIGFyZy5hd3Nfc2Vzc2lvbl90b2tlbikgPiAtMTtcbmV4cG9ydCBjb25zdCByZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMgPSAocHJvZmlsZSkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICBhY2Nlc3NLZXlJZDogcHJvZmlsZS5hd3NfYWNjZXNzX2tleV9pZCxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IHByb2ZpbGUuYXdzX3NlY3JldF9hY2Nlc3Nfa2V5LFxuICAgIHNlc3Npb25Ub2tlbjogcHJvZmlsZS5hd3Nfc2Vzc2lvbl90b2tlbixcbn0pO1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gXCJmc1wiO1xuaW1wb3J0IHsgZnJvbVdlYlRva2VuIH0gZnJvbSBcIi4vZnJvbVdlYlRva2VuXCI7XG5jb25zdCBFTlZfVE9LRU5fRklMRSA9IFwiQVdTX1dFQl9JREVOVElUWV9UT0tFTl9GSUxFXCI7XG5jb25zdCBFTlZfUk9MRV9BUk4gPSBcIkFXU19ST0xFX0FSTlwiO1xuY29uc3QgRU5WX1JPTEVfU0VTU0lPTl9OQU1FID0gXCJBV1NfUk9MRV9TRVNTSU9OX05BTUVcIjtcbmV4cG9ydCBjb25zdCBmcm9tVG9rZW5GaWxlID0gKGluaXQgPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHdlYklkZW50aXR5VG9rZW5GaWxlID0gaW5pdD8ud2ViSWRlbnRpdHlUb2tlbkZpbGUgPz8gcHJvY2Vzcy5lbnZbRU5WX1RPS0VOX0ZJTEVdO1xuICAgIGNvbnN0IHJvbGVBcm4gPSBpbml0Py5yb2xlQXJuID8/IHByb2Nlc3MuZW52W0VOVl9ST0xFX0FSTl07XG4gICAgY29uc3Qgcm9sZVNlc3Npb25OYW1lID0gaW5pdD8ucm9sZVNlc3Npb25OYW1lID8/IHByb2Nlc3MuZW52W0VOVl9ST0xFX1NFU1NJT05fTkFNRV07XG4gICAgaWYgKCF3ZWJJZGVudGl0eVRva2VuRmlsZSB8fCAhcm9sZUFybikge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiV2ViIGlkZW50aXR5IGNvbmZpZ3VyYXRpb24gbm90IHNwZWNpZmllZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21XZWJUb2tlbih7XG4gICAgICAgIC4uLmluaXQsXG4gICAgICAgIHdlYklkZW50aXR5VG9rZW46IHJlYWRGaWxlU3luYyh3ZWJJZGVudGl0eVRva2VuRmlsZSwgeyBlbmNvZGluZzogXCJhc2NpaVwiIH0pLFxuICAgICAgICByb2xlQXJuLFxuICAgICAgICByb2xlU2Vzc2lvbk5hbWUsXG4gICAgfSkoKTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IGZyb21XZWJUb2tlbiA9IChpbml0KSA9PiAoKSA9PiB7XG4gICAgY29uc3QgeyByb2xlQXJuLCByb2xlU2Vzc2lvbk5hbWUsIHdlYklkZW50aXR5VG9rZW4sIHByb3ZpZGVySWQsIHBvbGljeUFybnMsIHBvbGljeSwgZHVyYXRpb25TZWNvbmRzLCByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSwgfSA9IGluaXQ7XG4gICAgaWYgKCFyb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBSb2xlIEFybiAnJHtyb2xlQXJufScgbmVlZHMgdG8gYmUgYXNzdW1lZCB3aXRoIHdlYiBpZGVudGl0eSxgICtcbiAgICAgICAgICAgIGAgYnV0IG5vIHJvbGUgYXNzdW1wdGlvbiBjYWxsYmFjayB3YXMgcHJvdmlkZWQuYCwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHkoe1xuICAgICAgICBSb2xlQXJuOiByb2xlQXJuLFxuICAgICAgICBSb2xlU2Vzc2lvbk5hbWU6IHJvbGVTZXNzaW9uTmFtZSA/PyBgYXdzLXNkay1qcy1zZXNzaW9uLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBXZWJJZGVudGl0eVRva2VuOiB3ZWJJZGVudGl0eVRva2VuLFxuICAgICAgICBQcm92aWRlcklkOiBwcm92aWRlcklkLFxuICAgICAgICBQb2xpY3lBcm5zOiBwb2xpY3lBcm5zLFxuICAgICAgICBQb2xpY3k6IHBvbGljeSxcbiAgICAgICAgRHVyYXRpb25TZWNvbmRzOiBkdXJhdGlvblNlY29uZHMsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGlzQXNzdW1lUm9sZVByb2ZpbGUsIHJlc29sdmVBc3N1bWVSb2xlQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBpc1Byb2Nlc3NQcm9maWxlLCByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgaXNTc29Qcm9maWxlLCByZXNvbHZlU3NvQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlU3NvQ3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IGlzU3RhdGljQ3JlZHNQcm9maWxlLCByZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlU3RhdGljQ3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IGlzV2ViSWRlbnRpdHlQcm9maWxlLCByZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVByb2ZpbGVEYXRhID0gYXN5bmMgKHByb2ZpbGVOYW1lLCBwcm9maWxlcywgb3B0aW9ucywgdmlzaXRlZFByb2ZpbGVzID0ge30pID0+IHtcbiAgICBjb25zdCBkYXRhID0gcHJvZmlsZXNbcHJvZmlsZU5hbWVdO1xuICAgIGlmIChPYmplY3Qua2V5cyh2aXNpdGVkUHJvZmlsZXMpLmxlbmd0aCA+IDAgJiYgaXNTdGF0aWNDcmVkc1Byb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTdGF0aWNDcmVkZW50aWFscyhkYXRhKTtcbiAgICB9XG4gICAgaWYgKGlzQXNzdW1lUm9sZVByb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3N1bWVSb2xlQ3JlZGVudGlhbHMocHJvZmlsZU5hbWUsIHByb2ZpbGVzLCBvcHRpb25zLCB2aXNpdGVkUHJvZmlsZXMpO1xuICAgIH1cbiAgICBpZiAoaXNTdGF0aWNDcmVkc1Byb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTdGF0aWNDcmVkZW50aWFscyhkYXRhKTtcbiAgICB9XG4gICAgaWYgKGlzV2ViSWRlbnRpdHlQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFscyhkYXRhLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvY2Vzc1Byb2ZpbGUoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMob3B0aW9ucywgcHJvZmlsZU5hbWUpO1xuICAgIH1cbiAgICBpZiAoaXNTc29Qcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3NvQ3JlZGVudGlhbHMoZGF0YSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gY291bGQgbm90IGJlIGZvdW5kIG9yIHBhcnNlZCBpbiBzaGFyZWQgY3JlZGVudGlhbHMgZmlsZS5gKTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgZ2V0UHJvZmlsZU5hbWUgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZSB9IGZyb20gXCIuL3Jlc29sdmVDcmVkZW50aWFsU291cmNlXCI7XG5pbXBvcnQgeyByZXNvbHZlUHJvZmlsZURhdGEgfSBmcm9tIFwiLi9yZXNvbHZlUHJvZmlsZURhdGFcIjtcbmV4cG9ydCBjb25zdCBpc0Fzc3VtZVJvbGVQcm9maWxlID0gKGFyZykgPT4gQm9vbGVhbihhcmcpICYmXG4gICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBhcmcucm9sZV9hcm4gPT09IFwic3RyaW5nXCIgJiZcbiAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLnJvbGVfc2Vzc2lvbl9uYW1lKSA+IC0xICYmXG4gICAgW1widW5kZWZpbmVkXCIsIFwic3RyaW5nXCJdLmluZGV4T2YodHlwZW9mIGFyZy5leHRlcm5hbF9pZCkgPiAtMSAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcubWZhX3NlcmlhbCkgPiAtMSAmJlxuICAgIChpc0Fzc3VtZVJvbGVXaXRoU291cmNlUHJvZmlsZShhcmcpIHx8IGlzQXNzdW1lUm9sZVdpdGhQcm92aWRlclByb2ZpbGUoYXJnKSk7XG5jb25zdCBpc0Fzc3VtZVJvbGVXaXRoU291cmNlUHJvZmlsZSA9IChhcmcpID0+IHR5cGVvZiBhcmcuc291cmNlX3Byb2ZpbGUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGFyZy5jcmVkZW50aWFsX3NvdXJjZSA9PT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzQXNzdW1lUm9sZVdpdGhQcm92aWRlclByb2ZpbGUgPSAoYXJnKSA9PiB0eXBlb2YgYXJnLmNyZWRlbnRpYWxfc291cmNlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBhcmcuc291cmNlX3Byb2ZpbGUgPT09IFwidW5kZWZpbmVkXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyA9IGFzeW5jIChwcm9maWxlTmFtZSwgcHJvZmlsZXMsIG9wdGlvbnMsIHZpc2l0ZWRQcm9maWxlcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICBpZiAoIW9wdGlvbnMucm9sZUFzc3VtZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSByZXF1aXJlcyBhIHJvbGUgdG8gYmUgYXNzdW1lZCwgYnV0IG5vIHJvbGUgYXNzdW1wdGlvbiBjYWxsYmFjayB3YXMgcHJvdmlkZWQuYCwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCB7IHNvdXJjZV9wcm9maWxlIH0gPSBkYXRhO1xuICAgIGlmIChzb3VyY2VfcHJvZmlsZSAmJiBzb3VyY2VfcHJvZmlsZSBpbiB2aXNpdGVkUHJvZmlsZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgRGV0ZWN0ZWQgYSBjeWNsZSBhdHRlbXB0aW5nIHRvIHJlc29sdmUgY3JlZGVudGlhbHMgZm9yIHByb2ZpbGVgICtcbiAgICAgICAgICAgIGAgJHtnZXRQcm9maWxlTmFtZShvcHRpb25zKX0uIFByb2ZpbGVzIHZpc2l0ZWQ6IGAgK1xuICAgICAgICAgICAgT2JqZWN0LmtleXModmlzaXRlZFByb2ZpbGVzKS5qb2luKFwiLCBcIiksIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlQ3JlZHNQcm92aWRlciA9IHNvdXJjZV9wcm9maWxlXG4gICAgICAgID8gcmVzb2x2ZVByb2ZpbGVEYXRhKHNvdXJjZV9wcm9maWxlLCBwcm9maWxlcywgb3B0aW9ucywge1xuICAgICAgICAgICAgLi4udmlzaXRlZFByb2ZpbGVzLFxuICAgICAgICAgICAgW3NvdXJjZV9wcm9maWxlXTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgOiByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZShkYXRhLmNyZWRlbnRpYWxfc291cmNlLCBwcm9maWxlTmFtZSkoKTtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIFJvbGVBcm46IGRhdGEucm9sZV9hcm4sXG4gICAgICAgIFJvbGVTZXNzaW9uTmFtZTogZGF0YS5yb2xlX3Nlc3Npb25fbmFtZSB8fCBgYXdzLXNkay1qcy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgRXh0ZXJuYWxJZDogZGF0YS5leHRlcm5hbF9pZCxcbiAgICAgICAgRHVyYXRpb25TZWNvbmRzOiBwYXJzZUludChkYXRhLmR1cmF0aW9uX3NlY29uZHMgfHwgXCIzNjAwXCIsIDEwKSxcbiAgICB9O1xuICAgIGNvbnN0IHsgbWZhX3NlcmlhbCB9ID0gZGF0YTtcbiAgICBpZiAobWZhX3NlcmlhbCkge1xuICAgICAgICBpZiAoIW9wdGlvbnMubWZhQ29kZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IHJlcXVpcmVzIG11bHRpLWZhY3RvciBhdXRoZW50aWNhdGlvbiwgYnV0IG5vIE1GQSBjb2RlIGNhbGxiYWNrIHdhcyBwcm92aWRlZC5gLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zLlNlcmlhbE51bWJlciA9IG1mYV9zZXJpYWw7XG4gICAgICAgIHBhcmFtcy5Ub2tlbkNvZGUgPSBhd2FpdCBvcHRpb25zLm1mYUNvZGVQcm92aWRlcihtZmFfc2VyaWFsKTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlQ3JlZHMgPSBhd2FpdCBzb3VyY2VDcmVkc1Byb3ZpZGVyO1xuICAgIHJldHVybiBvcHRpb25zLnJvbGVBc3N1bWVyKHNvdXJjZUNyZWRzLCBwYXJhbXMpO1xufTtcbiIsImltcG9ydCB7IGZyb21FbnYgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1lbnZcIjtcbmltcG9ydCB7IGZyb21Db250YWluZXJNZXRhZGF0YSwgZnJvbUluc3RhbmNlTWV0YWRhdGEgfSBmcm9tIFwiQHNtaXRoeS9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHNcIjtcbmltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAc21pdGh5L3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2UgPSAoY3JlZGVudGlhbFNvdXJjZSwgcHJvZmlsZU5hbWUpID0+IHtcbiAgICBjb25zdCBzb3VyY2VQcm92aWRlcnNNYXAgPSB7XG4gICAgICAgIEVjc0NvbnRhaW5lcjogZnJvbUNvbnRhaW5lck1ldGFkYXRhLFxuICAgICAgICBFYzJJbnN0YW5jZU1ldGFkYXRhOiBmcm9tSW5zdGFuY2VNZXRhZGF0YSxcbiAgICAgICAgRW52aXJvbm1lbnQ6IGZyb21FbnYsXG4gICAgfTtcbiAgICBpZiAoY3JlZGVudGlhbFNvdXJjZSBpbiBzb3VyY2VQcm92aWRlcnNNYXApIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVByb3ZpZGVyc01hcFtjcmVkZW50aWFsU291cmNlXSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgVW5zdXBwb3J0ZWQgY3JlZGVudGlhbCBzb3VyY2UgaW4gcHJvZmlsZSAke3Byb2ZpbGVOYW1lfS4gR290ICR7Y3JlZGVudGlhbFNvdXJjZX0sIGAgK1xuICAgICAgICAgICAgYGV4cGVjdGVkIEVjc0NvbnRhaW5lciBvciBFYzJJbnN0YW5jZU1ldGFkYXRhIG9yIEVudmlyb25tZW50LmApO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBmcm9tVG9rZW5GaWxlIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItd2ViLWlkZW50aXR5XCI7XG5leHBvcnQgY29uc3QgaXNXZWJJZGVudGl0eVByb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiZcbiAgICB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGFyZy53ZWJfaWRlbnRpdHlfdG9rZW5fZmlsZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiBhcmcucm9sZV9hcm4gPT09IFwic3RyaW5nXCIgJiZcbiAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLnJvbGVfc2Vzc2lvbl9uYW1lKSA+IC0xO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzID0gYXN5bmMgKHByb2ZpbGUsIG9wdGlvbnMpID0+IGZyb21Ub2tlbkZpbGUoe1xuICAgIHdlYklkZW50aXR5VG9rZW5GaWxlOiBwcm9maWxlLndlYl9pZGVudGl0eV90b2tlbl9maWxlLFxuICAgIHJvbGVBcm46IHByb2ZpbGUucm9sZV9hcm4sXG4gICAgcm9sZVNlc3Npb25OYW1lOiBwcm9maWxlLnJvbGVfc2Vzc2lvbl9uYW1lLFxuICAgIHJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5OiBvcHRpb25zLnJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5LFxufSkoKTtcbiIsImltcG9ydCB7IGZyb21Qcm9jZXNzIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItcHJvY2Vzc1wiO1xuZXhwb3J0IGNvbnN0IGlzUHJvY2Vzc1Byb2ZpbGUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZykgJiYgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYXJnLmNyZWRlbnRpYWxfcHJvY2VzcyA9PT0gXCJzdHJpbmdcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzID0gYXN5bmMgKG9wdGlvbnMsIHByb2ZpbGUpID0+IGZyb21Qcm9jZXNzKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHByb2ZpbGUsXG59KSgpO1xuIiwiaW1wb3J0IHsgZnJvbVNTTywgdmFsaWRhdGVTc29Qcm9maWxlIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvXCI7XG5leHBvcnQgeyBpc1Nzb1Byb2ZpbGUgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc29cIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlU3NvQ3JlZGVudGlhbHMgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgc3NvX3N0YXJ0X3VybCwgc3NvX2FjY291bnRfaWQsIHNzb19zZXNzaW9uLCBzc29fcmVnaW9uLCBzc29fcm9sZV9uYW1lIH0gPSB2YWxpZGF0ZVNzb1Byb2ZpbGUoZGF0YSk7XG4gICAgcmV0dXJuIGZyb21TU08oe1xuICAgICAgICBzc29TdGFydFVybDogc3NvX3N0YXJ0X3VybCxcbiAgICAgICAgc3NvQWNjb3VudElkOiBzc29fYWNjb3VudF9pZCxcbiAgICAgICAgc3NvU2Vzc2lvbjogc3NvX3Nlc3Npb24sXG4gICAgICAgIHNzb1JlZ2lvbjogc3NvX3JlZ2lvbixcbiAgICAgICAgc3NvUm9sZU5hbWU6IHNzb19yb2xlX25hbWUsXG4gICAgfSkoKTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tRW52IH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItZW52XCI7XG5pbXBvcnQgeyBmcm9tSW5pIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pXCI7XG5pbXBvcnQgeyBmcm9tUHJvY2VzcyB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXByb2Nlc3NcIjtcbmltcG9ydCB7IGZyb21TU08gfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc29cIjtcbmltcG9ydCB7IGZyb21Ub2tlbkZpbGUgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci13ZWItaWRlbnRpdHlcIjtcbmltcG9ydCB7IGNoYWluLCBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IsIG1lbW9pemUgfSBmcm9tIFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgRU5WX1BST0ZJTEUgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyByZW1vdGVQcm92aWRlciB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdFByb3ZpZGVyID0gKGluaXQgPSB7fSkgPT4gbWVtb2l6ZShjaGFpbiguLi4oaW5pdC5wcm9maWxlIHx8IHByb2Nlc3MuZW52W0VOVl9QUk9GSUxFXSA/IFtdIDogW2Zyb21FbnYoKV0pLCBmcm9tU1NPKGluaXQpLCBmcm9tSW5pKGluaXQpLCBmcm9tUHJvY2Vzcyhpbml0KSwgZnJvbVRva2VuRmlsZShpbml0KSwgcmVtb3RlUHJvdmlkZXIoaW5pdCksIGFzeW5jICgpID0+IHtcbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSBhbnkgcHJvdmlkZXJzXCIsIGZhbHNlKTtcbn0pLCAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBjcmVkZW50aWFscy5leHBpcmF0aW9uLmdldFRpbWUoKSAtIERhdGUubm93KCkgPCAzMDAwMDAsIChjcmVkZW50aWFscykgPT4gY3JlZGVudGlhbHMuZXhwaXJhdGlvbiAhPT0gdW5kZWZpbmVkKTtcbiIsImltcG9ydCB7IGdldFByb2ZpbGVOYW1lLCBwYXJzZUtub3duRmlsZXMgfSBmcm9tIFwiQHNtaXRoeS9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyByZXNvbHZlUHJvZmlsZURhdGEgfSBmcm9tIFwiLi9yZXNvbHZlUHJvZmlsZURhdGFcIjtcbmV4cG9ydCBjb25zdCBmcm9tSW5pID0gKGluaXQgPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGVzID0gYXdhaXQgcGFyc2VLbm93bkZpbGVzKGluaXQpO1xuICAgIHJldHVybiByZXNvbHZlUHJvZmlsZURhdGEoZ2V0UHJvZmlsZU5hbWUoaW5pdCksIHByb2ZpbGVzLCBpbml0KTtcbn07XG4iLCJpbXBvcnQgeyBFTlZfQ01EU19GVUxMX1VSSSwgRU5WX0NNRFNfUkVMQVRJVkVfVVJJLCBmcm9tQ29udGFpbmVyTWV0YWRhdGEsIGZyb21JbnN0YW5jZU1ldGFkYXRhLCB9IGZyb20gXCJAc21pdGh5L2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kc1wiO1xuaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCBFTlZfSU1EU19ESVNBQkxFRCA9IFwiQVdTX0VDMl9NRVRBREFUQV9ESVNBQkxFRFwiO1xuZXhwb3J0IGNvbnN0IHJlbW90ZVByb3ZpZGVyID0gKGluaXQpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbRU5WX0NNRFNfUkVMQVRJVkVfVVJJXSB8fCBwcm9jZXNzLmVudltFTlZfQ01EU19GVUxMX1VSSV0pIHtcbiAgICAgICAgcmV0dXJuIGZyb21Db250YWluZXJNZXRhZGF0YShpbml0KTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52W0VOVl9JTURTX0RJU0FCTEVEXSkge1xuICAgICAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIkVDMiBJbnN0YW5jZSBNZXRhZGF0YSBTZXJ2aWNlIGFjY2VzcyBkaXNhYmxlZFwiKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21JbnN0YW5jZU1ldGFkYXRhKGluaXQpO1xufTtcbiIsImNvbnN0IEYgPSBcInJlcXVpcmVkXCIsIEcgPSBcInR5cGVcIiwgSCA9IFwiZm5cIiwgSSA9IFwiYXJndlwiLCBKID0gXCJyZWZcIjtcbmNvbnN0IGEgPSBmYWxzZSwgYiA9IHRydWUsIGMgPSBcImJvb2xlYW5FcXVhbHNcIiwgZCA9IFwic3RyaW5nRXF1YWxzXCIsIGUgPSBcInNpZ3Y0XCIsIGYgPSBcInN0c1wiLCBnID0gXCJ1cy1lYXN0LTFcIiwgaCA9IFwiZW5kcG9pbnRcIiwgaSA9IFwiaHR0cHM6Ly9zdHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIGogPSBcInRyZWVcIiwgayA9IFwiZXJyb3JcIiwgbCA9IFwiZ2V0QXR0clwiLCBtID0geyBbRl06IGZhbHNlLCBbR106IFwiU3RyaW5nXCIgfSwgbiA9IHsgW0ZdOiB0cnVlLCBcImRlZmF1bHRcIjogZmFsc2UsIFtHXTogXCJCb29sZWFuXCIgfSwgbyA9IHsgW0pdOiBcIkVuZHBvaW50XCIgfSwgcCA9IHsgW0hdOiBcImlzU2V0XCIsIFtJXTogW3sgW0pdOiBcIlJlZ2lvblwiIH1dIH0sIHEgPSB7IFtKXTogXCJSZWdpb25cIiB9LCByID0geyBbSF06IFwiYXdzLnBhcnRpdGlvblwiLCBbSV06IFtxXSwgXCJhc3NpZ25cIjogXCJQYXJ0aXRpb25SZXN1bHRcIiB9LCBzID0geyBbSl06IFwiVXNlRklQU1wiIH0sIHQgPSB7IFtKXTogXCJVc2VEdWFsU3RhY2tcIiB9LCB1ID0geyBcInVybFwiOiBcImh0dHBzOi8vc3RzLmFtYXpvbmF3cy5jb21cIiwgXCJwcm9wZXJ0aWVzXCI6IHsgXCJhdXRoU2NoZW1lc1wiOiBbeyBcIm5hbWVcIjogZSwgXCJzaWduaW5nTmFtZVwiOiBmLCBcInNpZ25pbmdSZWdpb25cIjogZyB9XSB9LCBcImhlYWRlcnNcIjoge30gfSwgdiA9IHt9LCB3ID0geyBcImNvbmRpdGlvbnNcIjogW3sgW0hdOiBkLCBbSV06IFtxLCBcImF3cy1nbG9iYWxcIl0gfV0sIFtoXTogdSwgW0ddOiBoIH0sIHggPSB7IFtIXTogYywgW0ldOiBbcywgdHJ1ZV0gfSwgeSA9IHsgW0hdOiBjLCBbSV06IFt0LCB0cnVlXSB9LCB6ID0geyBbSF06IGwsIFtJXTogW3sgW0pdOiBcIlBhcnRpdGlvblJlc3VsdFwiIH0sIFwic3VwcG9ydHNGSVBTXCJdIH0sIEEgPSB7IFtKXTogXCJQYXJ0aXRpb25SZXN1bHRcIiB9LCBCID0geyBbSF06IGMsIFtJXTogW3RydWUsIHsgW0hdOiBsLCBbSV06IFtBLCBcInN1cHBvcnRzRHVhbFN0YWNrXCJdIH1dIH0sIEMgPSBbeyBbSF06IFwiaXNTZXRcIiwgW0ldOiBbb10gfV0sIEQgPSBbeF0sIEUgPSBbeV07XG5jb25zdCBfZGF0YSA9IHsgdmVyc2lvbjogXCIxLjBcIiwgcGFyYW1ldGVyczogeyBSZWdpb246IG0sIFVzZUR1YWxTdGFjazogbiwgVXNlRklQUzogbiwgRW5kcG9pbnQ6IG0sIFVzZUdsb2JhbEVuZHBvaW50OiBuIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbSF06IGMsIFtJXTogW3sgW0pdOiBcIlVzZUdsb2JhbEVuZHBvaW50XCIgfSwgYl0gfSwgeyBbSF06IFwibm90XCIsIFtJXTogQyB9LCBwLCByLCB7IFtIXTogYywgW0ldOiBbcywgYV0gfSwgeyBbSF06IGMsIFtJXTogW3QsIGFdIH1dLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW0hdOiBkLCBbSV06IFtxLCBcImFwLW5vcnRoZWFzdC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBoIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBkLCBbSV06IFtxLCBcImFwLXNvdXRoLTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGggfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGQsIFtJXTogW3EsIFwiYXAtc291dGhlYXN0LTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGggfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGQsIFtJXTogW3EsIFwiYXAtc291dGhlYXN0LTJcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGggfSwgdywgeyBjb25kaXRpb25zOiBbeyBbSF06IGQsIFtJXTogW3EsIFwiY2EtY2VudHJhbC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBoIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBkLCBbSV06IFtxLCBcImV1LWNlbnRyYWwtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaCB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZCwgW0ldOiBbcSwgXCJldS1ub3J0aC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBoIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBkLCBbSV06IFtxLCBcImV1LXdlc3QtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaCB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZCwgW0ldOiBbcSwgXCJldS13ZXN0LTJcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGggfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGQsIFtJXTogW3EsIFwiZXUtd2VzdC0zXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBoIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBkLCBbSV06IFtxLCBcInNhLWVhc3QtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaCB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZCwgW0ldOiBbcSwgZ10gfV0sIGVuZHBvaW50OiB1LCBbR106IGggfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGQsIFtJXTogW3EsIFwidXMtZWFzdC0yXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBoIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBkLCBbSV06IFtxLCBcInVzLXdlc3QtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaCB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZCwgW0ldOiBbcSwgXCJ1cy13ZXN0LTJcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGggfSwgeyBlbmRwb2ludDogeyB1cmw6IGksIHByb3BlcnRpZXM6IHsgYXV0aFNjaGVtZXM6IFt7IG5hbWU6IGUsIHNpZ25pbmdOYW1lOiBmLCBzaWduaW5nUmVnaW9uOiBcIntSZWdpb259XCIgfV0gfSwgaGVhZGVyczogdiB9LCBbR106IGggfV0sIFtHXTogaiB9LCB7IGNvbmRpdGlvbnM6IEMsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBELCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IEZJUFMgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCBbR106IGsgfSwgeyBjb25kaXRpb25zOiBFLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIFtHXTogayB9LCB7IGVuZHBvaW50OiB7IHVybDogbywgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGggfV0sIFtHXTogaiB9LCB7IGNvbmRpdGlvbnM6IFtwXSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtyXSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt4LCB5XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtIXTogYywgW0ldOiBbYiwgel0gfSwgQl0sIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9zdHMtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGggfV0sIFtHXTogaiB9LCB7IGVycm9yOiBcIkZJUFMgYW5kIER1YWxTdGFjayBhcmUgZW5hYmxlZCwgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgb25lIG9yIGJvdGhcIiwgW0ddOiBrIH1dLCBbR106IGogfSwgeyBjb25kaXRpb25zOiBELCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW0hdOiBjLCBbSV06IFt6LCBiXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtIXTogZCwgW0ldOiBbeyBbSF06IGwsIFtJXTogW0EsIFwibmFtZVwiXSB9LCBcImF3cy11cy1nb3ZcIl0gfV0sIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3N0cy57UmVnaW9ufS5hbWF6b25hd3MuY29tXCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBoIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vc3RzLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBoIH1dLCBbR106IGogfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCBbR106IGsgfV0sIFtHXTogaiB9LCB7IGNvbmRpdGlvbnM6IEUsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbQl0sIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9zdHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBoIH1dLCBbR106IGogfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgW0ddOiBrIH1dLCBbR106IGogfSwgdywgeyBlbmRwb2ludDogeyB1cmw6IGksIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBoIH1dLCBbR106IGogfV0sIFtHXTogaiB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgW0ddOiBrIH1dIH07XG5leHBvcnQgY29uc3QgcnVsZVNldCA9IF9kYXRhO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgcmVzb2x2ZVN0c0F1dGhDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zZGstc3RzXCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQbHVnaW4sIHJlc29sdmVVc2VyQWdlbnRDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZVJlZ2lvbkNvbmZpZyB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0Q29udGVudExlbmd0aFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFJldHJ5UGx1Z2luLCByZXNvbHZlUmV0cnlDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBDbGllbnQgYXMgX19DbGllbnQsIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuaW1wb3J0IHsgcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zIH0gZnJvbSBcIi4vcnVudGltZUV4dGVuc2lvbnNcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgU1RTQ2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKC4uLltjb25maWd1cmF0aW9uXSkge1xuICAgICAgICBjb25zdCBfY29uZmlnXzAgPSBfX2dldFJ1bnRpbWVDb25maWcoY29uZmlndXJhdGlvbiB8fCB7fSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVTdHNBdXRoQ29uZmlnKF9jb25maWdfNSwgeyBzdHNDbGllbnRDdG9yOiBTVFNDbGllbnQgfSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNyA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ182KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ184ID0gcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zKF9jb25maWdfNywgY29uZmlndXJhdGlvbj8uZXh0ZW5zaW9ucyB8fCBbXSk7XG4gICAgICAgIHN1cGVyKF9jb25maWdfOCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ184O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlR2xvYmFsRW5kcG9pbnQ6IG9wdGlvbnMudXNlR2xvYmFsRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIGRlZmF1bHRTaWduaW5nTmFtZTogXCJzdHNcIixcbiAgICB9O1xufTtcbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiLi9kZWZhdWx0U3RzUm9sZUFzc3VtZXJzXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIGFzIGF3c0NoZWNrVmVyc2lvbiB9IGZyb20gXCJAYXdzLXNkay9jb3JlXCI7XG5pbXBvcnQgeyBkZWZhdWx0UHJvdmlkZXIgYXMgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGVcIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBzbWl0aHkvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICBhd3NDaGVja1ZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogY29uZmlnPy5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyID8/IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlcihjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKSxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBzbWl0aHkvdXJsLXBhcnNlclwiO1xuaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyXCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGlWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICAgICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICAgICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICAgICAgZXh0ZW5zaW9uczogY29uZmlnPy5leHRlbnNpb25zID8/IFtdLFxuICAgICAgICBsb2dnZXI6IGNvbmZpZz8ubG9nZ2VyID8/IG5ldyBOb09wTG9nZ2VyKCksXG4gICAgICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTVFNcIixcbiAgICAgICAgdXJsUGFyc2VyOiBjb25maWc/LnVybFBhcnNlciA/PyBwYXJzZVVybCxcbiAgICAgICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IGdldEF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9yZWdpb24tY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVIdHRwSGFuZGxlclJ1bnRpbWVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZURlZmF1bHRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuY29uc3QgYXNQYXJ0aWFsID0gKHQpID0+IHQ7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zID0gKHJ1bnRpbWVDb25maWcsIGV4dGVuc2lvbnMpID0+IHtcbiAgICBjb25zdCBleHRlbnNpb25Db25maWd1cmF0aW9uID0ge1xuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0QXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgICAgIC4uLmFzUGFydGlhbChnZXREZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgICAgIC4uLmFzUGFydGlhbChnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgIH07XG4gICAgZXh0ZW5zaW9ucy5mb3JFYWNoKChleHRlbnNpb24pID0+IGV4dGVuc2lvbi5jb25maWd1cmUoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbikpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJ1bnRpbWVDb25maWcsXG4gICAgICAgIC4uLnJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAuLi5yZXNvbHZlRGVmYXVsdFJ1bnRpbWVDb25maWcoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgICAgIC4uLnJlc29sdmVIdHRwSGFuZGxlclJ1bnRpbWVDb25maWcoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyByZXNvbHZlQXdzQXV0aENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmdcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlU3RzQXV0aENvbmZpZyA9IChpbnB1dCwgeyBzdHNDbGllbnRDdG9yIH0pID0+IHJlc29sdmVBd3NBdXRoQ29uZmlnKHtcbiAgICAuLi5pbnB1dCxcbiAgICBzdHNDbGllbnRDdG9yLFxufSk7XG4iLCJpbXBvcnQgeyBnZXREZWZhdWx0Um9sZUFzc3VtZXIgYXMgU3RzR2V0RGVmYXVsdFJvbGVBc3N1bWVyLCBnZXREZWZhdWx0Um9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHkgYXMgU3RzR2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5LCB9IGZyb20gXCIuL2RlZmF1bHRTdHNSb2xlQXNzdW1lcnNcIjtcbmltcG9ydCB7IFNUU0NsaWVudCB9IGZyb20gXCIuL1NUU0NsaWVudFwiO1xuY29uc3QgZ2V0Q3VzdG9taXphYmxlU3RzQ2xpZW50Q3RvciA9IChiYXNlQ3RvciwgY3VzdG9taXphdGlvbnMpID0+IHtcbiAgICBpZiAoIWN1c3RvbWl6YXRpb25zKVxuICAgICAgICByZXR1cm4gYmFzZUN0b3I7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gY2xhc3MgQ3VzdG9taXphYmxlU1RTQ2xpZW50IGV4dGVuZHMgYmFzZUN0b3Ige1xuICAgICAgICAgICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGN1c3RvbWl6YXRpb24gb2YgY3VzdG9taXphdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGN1c3RvbWl6YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyID0gKHN0c09wdGlvbnMgPSB7fSwgc3RzUGx1Z2lucykgPT4gU3RzR2V0RGVmYXVsdFJvbGVBc3N1bWVyKHN0c09wdGlvbnMsIGdldEN1c3RvbWl6YWJsZVN0c0NsaWVudEN0b3IoU1RTQ2xpZW50LCBzdHNQbHVnaW5zKSk7XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5ID0gKHN0c09wdGlvbnMgPSB7fSwgc3RzUGx1Z2lucykgPT4gU3RzR2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5KHN0c09wdGlvbnMsIGdldEN1c3RvbWl6YWJsZVN0c0NsaWVudEN0b3IoU1RTQ2xpZW50LCBzdHNQbHVnaW5zKSk7XG5leHBvcnQgY29uc3QgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiAoaW5wdXQpID0+IHByb3ZpZGVyKHtcbiAgICByb2xlQXNzdW1lcjogZ2V0RGVmYXVsdFJvbGVBc3N1bWVyKGlucHV0KSxcbiAgICByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eTogZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5KGlucHV0KSxcbiAgICAuLi5pbnB1dCxcbn0pO1xuIiwiY29uc3QgdSA9IFwicmVxdWlyZWRcIiwgdiA9IFwiZm5cIiwgdyA9IFwiYXJndlwiLCB4ID0gXCJyZWZcIjtcbmNvbnN0IGEgPSB0cnVlLCBiID0gXCJpc1NldFwiLCBjID0gXCJib29sZWFuRXF1YWxzXCIsIGQgPSBcImVycm9yXCIsIGUgPSBcImVuZHBvaW50XCIsIGYgPSBcInRyZWVcIiwgZyA9IFwiUGFydGl0aW9uUmVzdWx0XCIsIGggPSBcInN0cmluZ0VxdWFsc1wiLCBpID0geyBbdV06IGZhbHNlLCBcInR5cGVcIjogXCJTdHJpbmdcIiB9LCBqID0geyBbdV06IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgXCJ0eXBlXCI6IFwiQm9vbGVhblwiIH0sIGsgPSB7IFt4XTogXCJFbmRwb2ludFwiIH0sIGwgPSB7IFt2XTogYywgW3ddOiBbeyBbeF06IFwiVXNlRklQU1wiIH0sIHRydWVdIH0sIG0gPSB7IFt2XTogYywgW3ddOiBbeyBbeF06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfSwgbiA9IHt9LCBvID0geyBbeF06IFwiUmVnaW9uXCIgfSwgcCA9IHsgW3ZdOiBcImdldEF0dHJcIiwgW3ddOiBbeyBbeF06IGcgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfSwgcSA9IHsgW3ZdOiBjLCBbd106IFt0cnVlLCB7IFt2XTogXCJnZXRBdHRyXCIsIFt3XTogW3sgW3hdOiBnIH0sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgciA9IFtsXSwgcyA9IFttXSwgdCA9IFtvXTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogaSwgVXNlRHVhbFN0YWNrOiBqLCBVc2VGSVBTOiBqLCBFbmRwb2ludDogaSB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBiLCBbd106IFtrXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IHIsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBjb25kaXRpb25zOiBzLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBlbmRwb2ludDogeyB1cmw6IGssIHByb3BlcnRpZXM6IG4sIGhlYWRlcnM6IG4gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGNvbmRpdGlvbnM6IFt7IFt2XTogYiwgW3ddOiB0IH1dLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3ddOiB0LCBhc3NpZ246IGcgfV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbCwgbV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdl06IGMsIFt3XTogW2EsIHBdIH0sIHFdLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vY2xvdWR0cmFpbC1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiByLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBjLCBbd106IFtwLCBhXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFt2XTogaCwgW3ddOiBbbywgXCJ1cy1nb3YtZWFzdC0xXCJdIH1dLCBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLnVzLWdvdi1lYXN0LTEuYW1hem9uYXdzLmNvbVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfSwgeyBjb25kaXRpb25zOiBbeyBbdl06IGgsIFt3XTogW28sIFwidXMtZ292LXdlc3QtMVwiXSB9XSwgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vY2xvdWR0cmFpbC51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIiwgcHJvcGVydGllczogbiwgaGVhZGVyczogbiB9LCB0eXBlOiBlIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vY2xvdWR0cmFpbC1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCB0eXBlOiBkIH1dLCB0eXBlOiBmIH0sIHsgY29uZGl0aW9uczogcywgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtxXSwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG4sIGhlYWRlcnM6IG4gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkR1YWxTdGFjayBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IER1YWxTdGFja1wiLCB0eXBlOiBkIH1dLCB0eXBlOiBmIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vY2xvdWR0cmFpbC57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogbiwgaGVhZGVyczogbiB9LCB0eXBlOiBlIH1dLCB0eXBlOiBmIH1dLCB0eXBlOiBmIH0sIHsgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBNaXNzaW5nIFJlZ2lvblwiLCB0eXBlOiBkIH1dIH07XG5leHBvcnQgY29uc3QgcnVsZVNldCA9IF9kYXRhO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0QXdzQXV0aFBsdWdpbiwgcmVzb2x2ZUF3c0F1dGhDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZ1wiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmltcG9ydCB7IHJlc29sdmVSdW50aW1lRXh0ZW5zaW9ucyB9IGZyb20gXCIuL3J1bnRpbWVFeHRlbnNpb25zXCI7XG5leHBvcnQgeyBfX0NsaWVudCB9O1xuZXhwb3J0IGNsYXNzIENsb3VkVHJhaWxDbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoLi4uW2NvbmZpZ3VyYXRpb25dKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uIHx8IHt9KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZUF3c0F1dGhDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ183ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzYpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzggPSByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMoX2NvbmZpZ183LCBjb25maWd1cmF0aW9uPy5leHRlbnNpb25zIHx8IFtdKTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ184KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzg7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEF3c0F1dGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwiY2xvdWR0cmFpbFwiLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3RzXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIGFzIGF3c0NoZWNrVmVyc2lvbiB9IGZyb20gXCJAYXdzLXNkay9jb3JlXCI7XG5pbXBvcnQgeyBkZWZhdWx0UHJvdmlkZXIgYXMgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGVcIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBzbWl0aHkvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICBhd3NDaGVja1ZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogY29uZmlnPy5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyID8/IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlcihjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKSxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBzbWl0aHkvdXJsLXBhcnNlclwiO1xuaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyXCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGlWZXJzaW9uOiBcIjIwMTMtMTEtMDFcIixcbiAgICAgICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICAgICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICAgICAgZXh0ZW5zaW9uczogY29uZmlnPy5leHRlbnNpb25zID8/IFtdLFxuICAgICAgICBsb2dnZXI6IGNvbmZpZz8ubG9nZ2VyID8/IG5ldyBOb09wTG9nZ2VyKCksXG4gICAgICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJDbG91ZFRyYWlsXCIsXG4gICAgICAgIHVybFBhcnNlcjogY29uZmlnPy51cmxQYXJzZXIgPz8gcGFyc2VVcmwsXG4gICAgICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgICAgICB1dGY4RW5jb2RlcjogY29uZmlnPy51dGY4RW5jb2RlciA/PyB0b1V0ZjgsXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBnZXRBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uLCByZXNvbHZlQXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvcmVnaW9uLWNvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0SHR0cEhhbmRsZXJFeHRlbnNpb25Db25maWd1cmF0aW9uLCByZXNvbHZlSHR0cEhhbmRsZXJSdW50aW1lQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdEV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVEZWZhdWx0UnVudGltZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmNvbnN0IGFzUGFydGlhbCA9ICh0KSA9PiB0O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVSdW50aW1lRXh0ZW5zaW9ucyA9IChydW50aW1lQ29uZmlnLCBleHRlbnNpb25zKSA9PiB7XG4gICAgY29uc3QgZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgLi4uYXNQYXJ0aWFsKGdldEF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0RGVmYXVsdEV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0SHR0cEhhbmRsZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKHJ1bnRpbWVDb25maWcpKSxcbiAgICB9O1xuICAgIGV4dGVuc2lvbnMuZm9yRWFjaCgoZXh0ZW5zaW9uKSA9PiBleHRlbnNpb24uY29uZmlndXJlKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5ydW50aW1lQ29uZmlnLFxuICAgICAgICAuLi5yZXNvbHZlQXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihleHRlbnNpb25Db25maWd1cmF0aW9uKSxcbiAgICAgICAgLi4ucmVzb2x2ZURlZmF1bHRSdW50aW1lQ29uZmlnKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAuLi5yZXNvbHZlSHR0cEhhbmRsZXJSdW50aW1lQ29uZmlnKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgU2VydmljZUV4Y2VwdGlvbiBhcyBfX1NlcnZpY2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IHsgX19TZXJ2aWNlRXhjZXB0aW9uIH07XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb24gZXh0ZW5kcyBfX1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDbG91ZFRyYWlsU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL0Nsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY2xhc3MgQWNjZXNzRGVuaWVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQWNjZXNzRGVuaWVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2NvdW50Tm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2NvdW50Tm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50Tm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGFubmVsTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDaGFubmVsTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbmZsaWN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uZmxpY3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENvbmZsaWN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBCaWxsaW5nTW9kZSA9IHtcbiAgICBFWFRFTkRBQkxFX1JFVEVOVElPTl9QUklDSU5HOiBcIkVYVEVOREFCTEVfUkVURU5USU9OX1BSSUNJTkdcIixcbiAgICBGSVhFRF9SRVRFTlRJT05fUFJJQ0lORzogXCJGSVhFRF9SRVRFTlRJT05fUFJJQ0lOR1wiLFxufTtcbmV4cG9ydCBjb25zdCBRdWVyeVN0YXR1cyA9IHtcbiAgICBDQU5DRUxMRUQ6IFwiQ0FOQ0VMTEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIEZJTklTSEVEOiBcIkZJTklTSEVEXCIsXG4gICAgUVVFVUVEOiBcIlFVRVVFRFwiLFxuICAgIFJVTk5JTkc6IFwiUlVOTklOR1wiLFxuICAgIFRJTUVEX09VVDogXCJUSU1FRF9PVVRcIixcbn07XG5leHBvcnQgY2xhc3MgSW5hY3RpdmVRdWVyeUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluYWN0aXZlUXVlcnlFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkluYWN0aXZlUXVlcnlFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5hY3RpdmVRdWVyeUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlF1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBEZXN0aW5hdGlvblR5cGUgPSB7XG4gICAgQVdTX1NFUlZJQ0U6IFwiQVdTX1NFUlZJQ0VcIixcbiAgICBFVkVOVF9EQVRBX1NUT1JFOiBcIkVWRU5UX0RBVEFfU1RPUkVcIixcbn07XG5leHBvcnQgY2xhc3MgSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU291cmNlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNvdXJjZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNvdXJjZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkU291cmNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFdmVudERhdGFTdG9yZVN0YXR1cyA9IHtcbiAgICBDUkVBVEVEOiBcIkNSRUFURURcIixcbiAgICBFTkFCTEVEOiBcIkVOQUJMRURcIixcbiAgICBQRU5ESU5HX0RFTEVUSU9OOiBcIlBFTkRJTkdfREVMRVRJT05cIixcbiAgICBTVEFSVElOR19JTkdFU1RJT046IFwiU1RBUlRJTkdfSU5HRVNUSU9OXCIsXG4gICAgU1RPUFBFRF9JTkdFU1RJT046IFwiU1RPUFBFRF9JTkdFU1RJT05cIixcbiAgICBTVE9QUElOR19JTkdFU1RJT046IFwiU1RPUFBJTkdfSU5HRVNUSU9OXCIsXG59O1xuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBLbXNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJLbXNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkttc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBLbXNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgS21zS2V5RGlzYWJsZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgS21zS2V5RGlzYWJsZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVGhyb3R0bGluZ0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRocm90dGxpbmdFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVGhyb3R0bGluZ0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmVudERhdGFTdG9yZUZlZGVyYXRpb25FbmFibGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXZlbnREYXRhU3RvcmVGZWRlcmF0aW9uRW5hYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVGZWRlcmF0aW9uRW5hYmxlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERhdGFTdG9yZUZlZGVyYXRpb25FbmFibGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUcmFpbE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUcmFpbE5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBEZWxpdmVyeVN0YXR1cyA9IHtcbiAgICBBQ0NFU1NfREVOSUVEOiBcIkFDQ0VTU19ERU5JRURcIixcbiAgICBBQ0NFU1NfREVOSUVEX1NJR05JTkdfRklMRTogXCJBQ0NFU1NfREVOSUVEX1NJR05JTkdfRklMRVwiLFxuICAgIENBTkNFTExFRDogXCJDQU5DRUxMRURcIixcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgRkFJTEVEX1NJR05JTkdfRklMRTogXCJGQUlMRURfU0lHTklOR19GSUxFXCIsXG4gICAgUEVORElORzogXCJQRU5ESU5HXCIsXG4gICAgUkVTT1VSQ0VfTk9UX0ZPVU5EOiBcIlJFU09VUkNFX05PVF9GT1VORFwiLFxuICAgIFNVQ0NFU1M6IFwiU1VDQ0VTU1wiLFxuICAgIFVOS05PV046IFwiVU5LTk9XTlwiLFxufTtcbmV4cG9ydCBjbGFzcyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRmVkZXJhdGlvblN0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIERJU0FCTElORzogXCJESVNBQkxJTkdcIixcbiAgICBFTkFCTEVEOiBcIkVOQUJMRURcIixcbiAgICBFTkFCTElORzogXCJFTkFCTElOR1wiLFxufTtcbmV4cG9ydCBjb25zdCBSZWFkV3JpdGVUeXBlID0ge1xuICAgIEFsbDogXCJBbGxcIixcbiAgICBSZWFkT25seTogXCJSZWFkT25seVwiLFxuICAgIFdyaXRlT25seTogXCJXcml0ZU9ubHlcIixcbn07XG5leHBvcnQgY29uc3QgSW1wb3J0U3RhdHVzID0ge1xuICAgIENPTVBMRVRFRDogXCJDT01QTEVURURcIixcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgSU5JVElBTElaSU5HOiBcIklOSVRJQUxJWklOR1wiLFxuICAgIElOX1BST0dSRVNTOiBcIklOX1BST0dSRVNTXCIsXG4gICAgU1RPUFBFRDogXCJTVE9QUEVEXCIsXG59O1xuZXhwb3J0IGNsYXNzIEltcG9ydE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEltcG9ydE5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSW5zaWdodFR5cGUgPSB7XG4gICAgQXBpQ2FsbFJhdGVJbnNpZ2h0OiBcIkFwaUNhbGxSYXRlSW5zaWdodFwiLFxuICAgIEFwaUVycm9yUmF0ZUluc2lnaHQ6IFwiQXBpRXJyb3JSYXRlSW5zaWdodFwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEltcG9ydEZhaWx1cmVTdGF0dXMgPSB7XG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIFJFVFJZOiBcIlJFVFJZXCIsXG4gICAgU1VDQ0VFREVEOiBcIlNVQ0NFRURFRFwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWREYXRlUmFuZ2VFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWREYXRlUmFuZ2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFdmVudENhdGVnb3J5ID0ge1xuICAgIEluc2lnaHQ6IFwiaW5zaWdodFwiLFxufTtcbmV4cG9ydCBjb25zdCBMb29rdXBBdHRyaWJ1dGVLZXkgPSB7XG4gICAgQUNDRVNTX0tFWV9JRDogXCJBY2Nlc3NLZXlJZFwiLFxuICAgIEVWRU5UX0lEOiBcIkV2ZW50SWRcIixcbiAgICBFVkVOVF9OQU1FOiBcIkV2ZW50TmFtZVwiLFxuICAgIEVWRU5UX1NPVVJDRTogXCJFdmVudFNvdXJjZVwiLFxuICAgIFJFQURfT05MWTogXCJSZWFkT25seVwiLFxuICAgIFJFU09VUkNFX05BTUU6IFwiUmVzb3VyY2VOYW1lXCIsXG4gICAgUkVTT1VSQ0VfVFlQRTogXCJSZXNvdXJjZVR5cGVcIixcbiAgICBVU0VSTkFNRTogXCJVc2VybmFtZVwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBEZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEltcG9ydFNvdXJjZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgX2pzb24sIGNvbGxlY3RCb2R5LCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdEJvb2xlYW4gYXMgX19leHBlY3RCb29sZWFuLCBleHBlY3RJbnQzMiBhcyBfX2V4cGVjdEludDMyLCBleHBlY3RMb25nIGFzIF9fZXhwZWN0TG9uZywgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdE51bWJlciBhcyBfX2V4cGVjdE51bWJlciwgZXhwZWN0U3RyaW5nIGFzIF9fZXhwZWN0U3RyaW5nLCBwYXJzZUVwb2NoVGltZXN0YW1wIGFzIF9fcGFyc2VFcG9jaFRpbWVzdGFtcCwgdGFrZSwgd2l0aEJhc2VFeGNlcHRpb24sIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9DbG91ZFRyYWlsU2VydmljZUV4Y2VwdGlvblwiO1xuaW1wb3J0IHsgQWNjZXNzRGVuaWVkRXhjZXB0aW9uLCBBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbiwgQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uLCBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbiwgQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb24sIENhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24sIENoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLCBDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvbiwgQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvbiwgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIENoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvbiwgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24sIENsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uLCBDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb24sIENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvbiwgQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvbiwgQ29uZmxpY3RFeGNlcHRpb24sIERlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uLCBFdmVudERhdGFTdG9yZUZlZGVyYXRpb25FbmFibGVkRXhjZXB0aW9uLCBFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24sIEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvbiwgSW1wb3J0Tm90Rm91bmRFeGNlcHRpb24sIEluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb24sIEluYWN0aXZlUXVlcnlFeGNlcHRpb24sIEluc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uLCBJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb24sIEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24sIEluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uLCBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbiwgSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb24sIEludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb24sIEludmFsaWREYXRlUmFuZ2VFeGNlcHRpb24sIEludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uLCBJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvbiwgSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uLCBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24sIEludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uLCBJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uLCBJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvbiwgSW52YWxpZEttc0tleUlkRXhjZXB0aW9uLCBJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbiwgSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb24sIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24sIEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbiwgSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvbiwgSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uLCBJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb24sIEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24sIEludmFsaWRTM1ByZWZpeEV4Y2VwdGlvbiwgSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvbiwgSW52YWxpZFNvdXJjZUV4Y2VwdGlvbiwgSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvbiwgSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvbiwgSW52YWxpZFRva2VuRXhjZXB0aW9uLCBJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uLCBLbXNFeGNlcHRpb24sIEttc0tleURpc2FibGVkRXhjZXB0aW9uLCBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbiwgTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb24sIE1heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uLCBOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uLCBOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbiwgTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvbiwgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uLCBPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvbiwgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uLCBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb24sIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb24sIFJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb24sIFJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiwgUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb24sIFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLCBUaHJvdHRsaW5nRXhjZXB0aW9uLCBUcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIFRyYWlsTm90Rm91bmRFeGNlcHRpb24sIFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24sIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmV4cG9ydCBjb25zdCBzZV9BZGRUYWdzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQWRkVGFnc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ2FuY2VsUXVlcnlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJDYW5jZWxRdWVyeVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkNyZWF0ZUNoYW5uZWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQ3JlYXRlRXZlbnREYXRhU3RvcmVcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQ3JlYXRlVHJhaWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUNoYW5uZWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJEZWxldGVDaGFubmVsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZUV2ZW50RGF0YVN0b3JlXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZVJlc291cmNlUG9saWN5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUcmFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZVRyYWlsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJEZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5cIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlUXVlcnlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJEZXNjcmliZVF1ZXJ5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRyYWlsc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlc2NyaWJlVHJhaWxzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EaXNhYmxlRmVkZXJhdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRpc2FibGVGZWRlcmF0aW9uXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9FbmFibGVGZWRlcmF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiRW5hYmxlRmVkZXJhdGlvblwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0Q2hhbm5lbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldENoYW5uZWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0RXZlbnREYXRhU3RvcmVcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEV2ZW50U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0RXZlbnRTZWxlY3RvcnNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEltcG9ydENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldEltcG9ydFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0SW5zaWdodFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldEluc2lnaHRTZWxlY3RvcnNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFF1ZXJ5UmVzdWx0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldFF1ZXJ5UmVzdWx0c1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0UmVzb3VyY2VQb2xpY3lDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRSZXNvdXJjZVBvbGljeVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0VHJhaWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRUcmFpbFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0VHJhaWxTdGF0dXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRUcmFpbFN0YXR1c1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdENoYW5uZWxzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdENoYW5uZWxzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RXZlbnREYXRhU3RvcmVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdEV2ZW50RGF0YVN0b3Jlc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEltcG9ydEZhaWx1cmVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdEltcG9ydEZhaWx1cmVzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SW1wb3J0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RJbXBvcnRzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0UHVibGljS2V5c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RQdWJsaWNLZXlzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzZV9MaXN0UHVibGljS2V5c1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFF1ZXJpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0UXVlcmllc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc2VfTGlzdFF1ZXJpZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUYWdzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdFRhZ3NcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUcmFpbHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0VHJhaWxzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9Mb29rdXBFdmVudHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMb29rdXBFdmVudHNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNlX0xvb2t1cEV2ZW50c1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUHV0RXZlbnRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJQdXRFdmVudFNlbGVjdG9yc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUHV0SW5zaWdodFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlB1dEluc2lnaHRTZWxlY3RvcnNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dFJlc291cmNlUG9saWN5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiUHV0UmVzb3VyY2VQb2xpY3lcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1JlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJSZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9SZW1vdmVUYWdzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiUmVtb3ZlVGFnc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVzdG9yZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiUmVzdG9yZUV2ZW50RGF0YVN0b3JlXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvblwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnRJbXBvcnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdGFydEltcG9ydFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc2VfU3RhcnRJbXBvcnRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0TG9nZ2luZ0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0YXJ0TG9nZ2luZ1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnRRdWVyeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0YXJ0UXVlcnlcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0b3BFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0b3BFdmVudERhdGFTdG9yZUluZ2VzdGlvblwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RvcEltcG9ydENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0b3BJbXBvcnRcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0b3BMb2dnaW5nQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RvcExvZ2dpbmdcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUNoYW5uZWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJVcGRhdGVDaGFubmVsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlVwZGF0ZUV2ZW50RGF0YVN0b3JlXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUcmFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlVwZGF0ZVRyYWlsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBkZV9BZGRUYWdzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9BZGRUYWdzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9BZGRUYWdzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ2FuY2VsUXVlcnlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NhbmNlbFF1ZXJ5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DYW5jZWxRdWVyeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVRdWVyeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlUXVlcnlFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlUXVlcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlF1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1F1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUNoYW5uZWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUNoYW5uZWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNoYW5uZWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTb3VyY2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkU291cmNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkU291cmNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkS21zS2V5SWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVHJhaWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRyYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVUcmFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkS21zS2V5SWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0tleURpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zS2V5Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVDaGFubmVsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVDaGFubmVsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUZlZGVyYXRpb25FbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVGZWRlcmF0aW9uRW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVGZWRlcmF0aW9uRW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlUmVzb3VyY2VQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUcmFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVHJhaWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRyYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlcmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVyZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkFjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVRdWVyeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVRdWVyeUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlUXVlcnlSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUXVlcnlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9RdWVyeUlkTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUcmFpbHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVHJhaWxzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZVRyYWlsc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rpc2FibGVGZWRlcmF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EaXNhYmxlRmVkZXJhdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGlzYWJsZUZlZGVyYXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRW5hYmxlRmVkZXJhdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRW5hYmxlRmVkZXJhdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRW5hYmxlRmVkZXJhdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVGZWRlcmF0aW9uRW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlRmVkZXJhdGlvbkVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlRmVkZXJhdGlvbkVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0Q2hhbm5lbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0Q2hhbm5lbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldENoYW5uZWxSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldENoYW5uZWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0RXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRFdmVudERhdGFTdG9yZVJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0RXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEV2ZW50U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRFdmVudFNlbGVjdG9yc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0RXZlbnRTZWxlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEltcG9ydENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SW1wb3J0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SW1wb3J0UmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJbXBvcnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJbnNpZ2h0U2VsZWN0b3JzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0UXVlcnlSZXN1bHRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRRdWVyeVJlc3VsdHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFF1ZXJ5UmVzdWx0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1F1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0UmVzb3VyY2VQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRUcmFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0VHJhaWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFRyYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFRyYWlsU3RhdHVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRUcmFpbFN0YXR1c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldFRyYWlsU3RhdHVzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRUcmFpbFN0YXR1c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Q2hhbm5lbHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RDaGFubmVsc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdENoYW5uZWxzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0RXZlbnREYXRhU3RvcmVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RXZlbnREYXRhU3RvcmVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdEV2ZW50RGF0YVN0b3Jlc1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdEV2ZW50RGF0YVN0b3Jlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SW1wb3J0RmFpbHVyZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJbXBvcnRGYWlsdXJlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RJbXBvcnRGYWlsdXJlc1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdEltcG9ydEZhaWx1cmVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SW1wb3J0c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEltcG9ydHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0SW1wb3J0c1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdEltcG9ydHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFB1YmxpY0tleXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RQdWJsaWNLZXlzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFB1YmxpY0tleXNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RQdWJsaWNLZXlzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFF1ZXJpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RRdWVyaWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFF1ZXJpZXNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RRdWVyaWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWREYXRlUmFuZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUYWdzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGFnc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFRhZ3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUcmFpbHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUcmFpbHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RUcmFpbHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTG9va3VwRXZlbnRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9Mb29rdXBFdmVudHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9Mb29rdXBFdmVudHNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xvb2t1cEV2ZW50c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dEV2ZW50U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRFdmVudFNlbGVjdG9yc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0RXZlbnRTZWxlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0UmVzb3VyY2VQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dFJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0RlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0RlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVtb3ZlVGFnc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVtb3ZlVGFnc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVtb3ZlVGFnc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1Jlc3RvcmVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1Jlc3RvcmVFdmVudERhdGFTdG9yZVJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVzdG9yZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0SW1wb3J0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydEltcG9ydENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1N0YXJ0SW1wb3J0UmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdGFydEltcG9ydENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRMb2dnaW5nQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydExvZ2dpbmdDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1N0YXJ0TG9nZ2luZ0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydFF1ZXJ5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydFF1ZXJ5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdGFydFF1ZXJ5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0b3BFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RvcEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdG9wRXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdG9wSW1wb3J0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdG9wSW1wb3J0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU3RvcEltcG9ydFJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RvcEltcG9ydENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0b3BMb2dnaW5nQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdG9wTG9nZ2luZ0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RvcExvZ2dpbmdDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ2hhbm5lbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ2hhbm5lbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1VwZGF0ZUV2ZW50RGF0YVN0b3JlUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEttc0tleUlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkS21zS2V5SWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zS2V5Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUcmFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVHJhaWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRyYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0tleURpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0tleURpc2FibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9BY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9BY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENoYW5uZWxFeGlzdHNGb3JFRFNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENvbmZsaWN0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9EZWxlZ2F0ZWRBZG1pbkFjY291bnRMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlRmVkZXJhdGlvbkVuYWJsZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZUZlZGVyYXRpb25FbmFibGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEltcG9ydE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5hY3RpdmVRdWVyeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEluYWN0aXZlUXVlcnlFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkS21zS2V5SWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTM1ByZWZpeEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTb3VyY2VFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkU291cmNlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUb2tlbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUb2tlbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUcmFpbE5hbWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ttc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEttc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfS21zS2V5RGlzYWJsZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfS21zS2V5Tm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX05vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9TM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9UYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVGhyb3R0bGluZ0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVHJhaWxOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IHNlX0xpc3RQdWJsaWNLZXlzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEVuZFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgICAgIFN0YXJ0VGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MaXN0UXVlcmllc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBFbmRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBFdmVudERhdGFTdG9yZTogW10sXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgICAgICBRdWVyeVN0YXR1czogW10sXG4gICAgICAgIFN0YXJ0VGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Mb29rdXBFdmVudHNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRW5kVGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgRXZlbnRDYXRlZ29yeTogW10sXG4gICAgICAgIExvb2t1cEF0dHJpYnV0ZXM6IF9qc29uLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICAgICAgU3RhcnRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1N0YXJ0SW1wb3J0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uczogX2pzb24sXG4gICAgICAgIEVuZEV2ZW50VGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgSW1wb3J0SWQ6IFtdLFxuICAgICAgICBJbXBvcnRTb3VyY2U6IF9qc29uLFxuICAgICAgICBTdGFydEV2ZW50VGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9DcmVhdGVFdmVudERhdGFTdG9yZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZHZhbmNlZEV2ZW50U2VsZWN0b3JzOiBfanNvbixcbiAgICAgICAgQmlsbGluZ01vZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFdmVudERhdGFTdG9yZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEttc0tleUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTXVsdGlSZWdpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPcmdhbml6YXRpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJldGVudGlvblBlcmlvZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGFnc0xpc3Q6IF9qc29uLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVRdWVyeVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZWxpdmVyeVMzVXJpOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVsaXZlcnlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvck1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUXVlcnlTdGF0aXN0aWNzOiAoXykgPT4gZGVfUXVlcnlTdGF0aXN0aWNzRm9yRGVzY3JpYmVRdWVyeShfLCBjb250ZXh0KSxcbiAgICAgICAgUXVlcnlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeVN0cmluZzogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRXZlbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjY2Vzc0tleUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ2xvdWRUcmFpbEV2ZW50OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXZlbnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEV2ZW50TmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEV2ZW50U291cmNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBSZWFkT25seTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlczogX2pzb24sXG4gICAgICAgIFVzZXJuYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTXVsdGlSZWdpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPcmdhbml6YXRpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJldGVudGlvblBlcmlvZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVybWluYXRpb25Qcm90ZWN0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBVcGRhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9FdmVudERhdGFTdG9yZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9FdmVudHNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0V2ZW50KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0dldENoYW5uZWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2hhbm5lbEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERlc3RpbmF0aW9uczogX2pzb24sXG4gICAgICAgIEluZ2VzdGlvblN0YXR1czogKF8pID0+IGRlX0luZ2VzdGlvblN0YXR1cyhfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZUNvbmZpZzogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2V0RXZlbnREYXRhU3RvcmVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIEJpbGxpbmdNb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnREYXRhU3RvcmVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGZWRlcmF0aW9uUm9sZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZlZGVyYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBLbXNLZXlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE11bHRpUmVnaW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3JnYW5pemF0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBSZXRlbnRpb25QZXJpb2Q6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZXRJbXBvcnRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgRW5kRXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBJbXBvcnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIEltcG9ydFN0YXRpc3RpY3M6IF9qc29uLFxuICAgICAgICBJbXBvcnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZXRUcmFpbFN0YXR1c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBJc0xvZ2dpbmc6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTGF0ZXN0Q2xvdWRXYXRjaExvZ3NEZWxpdmVyeUVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0Q2xvdWRXYXRjaExvZ3NEZWxpdmVyeVRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhdGVzdERlbGl2ZXJ5QXR0ZW1wdFN1Y2NlZWRlZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdERlbGl2ZXJ5QXR0ZW1wdFRpbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3REZWxpdmVyeUVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0RGVsaXZlcnlUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3REaWdlc3REZWxpdmVyeUVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0RGlnZXN0RGVsaXZlcnlUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3ROb3RpZmljYXRpb25BdHRlbXB0U3VjY2VlZGVkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0Tm90aWZpY2F0aW9uQXR0ZW1wdFRpbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3ROb3RpZmljYXRpb25FcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdE5vdGlmaWNhdGlvblRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFN0YXJ0TG9nZ2luZ1RpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFN0b3BMb2dnaW5nVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVGltZUxvZ2dpbmdTdGFydGVkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUxvZ2dpbmdTdG9wcGVkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbXBvcnRGYWlsdXJlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbXBvcnRGYWlsdXJlTGlzdEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfSW1wb3J0RmFpbHVyZUxpc3RJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBFcnJvck1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvclR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExvY2F0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbXBvcnRzTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbXBvcnRzTGlzdEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfSW1wb3J0c0xpc3RJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXN0aW5hdGlvbnM6IF9qc29uLFxuICAgICAgICBJbXBvcnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5nZXN0aW9uU3RhdHVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBMYXRlc3RJbmdlc3Rpb25BdHRlbXB0RXZlbnRJRDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdEluZ2VzdGlvbkF0dGVtcHRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3RJbmdlc3Rpb25FcnJvckNvZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3RJbmdlc3Rpb25TdWNjZXNzRXZlbnRJRDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdEluZ2VzdGlvblN1Y2Nlc3NUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpc3RFdmVudERhdGFTdG9yZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRXZlbnREYXRhU3RvcmVzOiAoXykgPT4gZGVfRXZlbnREYXRhU3RvcmVzKF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpc3RJbXBvcnRGYWlsdXJlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGYWlsdXJlczogKF8pID0+IGRlX0ltcG9ydEZhaWx1cmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpc3RJbXBvcnRzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEltcG9ydHM6IChfKSA9PiBkZV9JbXBvcnRzTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0UHVibGljS2V5c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQdWJsaWNLZXlMaXN0OiAoXykgPT4gZGVfUHVibGljS2V5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0UXVlcmllc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyaWVzOiAoXykgPT4gZGVfUXVlcmllcyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Mb29rdXBFdmVudHNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRXZlbnRzOiAoXykgPT4gZGVfRXZlbnRzTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QdWJsaWNLZXkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpbmdlcnByaW50OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsaWRpdHlFbmRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBWYWxpZGl0eVN0YXJ0VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVmFsdWU6IGNvbnRleHQuYmFzZTY0RGVjb2RlcixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QdWJsaWNLZXlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1B1YmxpY0tleShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9RdWVyaWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1F1ZXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1F1ZXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGlvblRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFF1ZXJ5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUXVlcnlTdGF0aXN0aWNzRm9yRGVzY3JpYmVRdWVyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQnl0ZXNTY2FubmVkOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIENyZWF0aW9uVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnRzTWF0Y2hlZDogX19leHBlY3RMb25nLFxuICAgICAgICBFdmVudHNTY2FubmVkOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIEV4ZWN1dGlvblRpbWVJbk1pbGxpczogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIEJpbGxpbmdNb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXZlbnREYXRhU3RvcmVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBLbXNLZXlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE11bHRpUmVnaW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3JnYW5pemF0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBSZXRlbnRpb25QZXJpb2Q6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TdGFydEltcG9ydFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXN0aW5hdGlvbnM6IF9qc29uLFxuICAgICAgICBFbmRFdmVudFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEltcG9ydElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW1wb3J0U291cmNlOiBfanNvbixcbiAgICAgICAgSW1wb3J0U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRFdmVudFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU3RvcEltcG9ydFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXN0aW5hdGlvbnM6IF9qc29uLFxuICAgICAgICBFbmRFdmVudFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEltcG9ydElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW1wb3J0U291cmNlOiBfanNvbixcbiAgICAgICAgSW1wb3J0U3RhdGlzdGljczogX2pzb24sXG4gICAgICAgIEltcG9ydFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXJ0RXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBVcGRhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUV2ZW50RGF0YVN0b3JlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFkdmFuY2VkRXZlbnRTZWxlY3RvcnM6IF9qc29uLFxuICAgICAgICBCaWxsaW5nTW9kZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRmVkZXJhdGlvblJvbGVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGZWRlcmF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgS21zS2V5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNdWx0aVJlZ2lvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE9yZ2FuaXphdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmV0ZW50aW9uUGVyaW9kOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gYXN5bmMgKGNvbnRleHQsIGhlYWRlcnMsIHBhdGgsIHJlc29sdmVkSG9zdG5hbWUsIGJvZHkpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBjb250ZW50cyA9IHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBwYXRoOiBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgKyBwYXRoIDogYmFzZVBhdGggKyBwYXRoLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH07XG4gICAgaWYgKHJlc29sdmVkSG9zdG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ob3N0bmFtZSA9IHJlc29sdmVkSG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdChjb250ZW50cyk7XG59O1xuZnVuY3Rpb24gc2hhcmVkSGVhZGVycyhvcGVyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtYW16LWpzb24tMS4xXCIsXG4gICAgICAgIFwieC1hbXotdGFyZ2V0XCI6IGBDbG91ZFRyYWlsXzIwMTMxMTAxLiR7b3BlcmF0aW9ufWAsXG4gICAgfTtcbn1cbmNvbnN0IHBhcnNlQm9keSA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keVN0cmluZyhzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChlbmNvZGVkKSA9PiB7XG4gICAgaWYgKGVuY29kZWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGVuY29kZWQpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgdmFsdWUubWVzc2FnZSA9IHZhbHVlLm1lc3NhZ2UgPz8gdmFsdWUuTWVzc2FnZTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuY29uc3QgbG9hZFJlc3RKc29uRXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGZpbmRLZXkgPSAob2JqZWN0LCBrZXkpID0+IE9iamVjdC5rZXlzKG9iamVjdCkuZmluZCgoaykgPT4gay50b0xvd2VyQ2FzZSgpID09PSBrZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgY29uc3Qgc2FuaXRpemVFcnJvckNvZGUgPSAocmF3VmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGNsZWFuVmFsdWUgPSByYXdWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhblZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIsXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiLFwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiOlwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIjpcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIiNcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIjXCIpWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGVhblZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgaGVhZGVyS2V5ID0gZmluZEtleShvdXRwdXQuaGVhZGVycywgXCJ4LWFtem4tZXJyb3J0eXBlXCIpO1xuICAgIGlmIChoZWFkZXJLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUob3V0cHV0LmhlYWRlcnNbaGVhZGVyS2V5XSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YS5jb2RlKTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJfX3R5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YVtcIl9fdHlwZVwiXSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0U2VyZGVQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgU01JVEhZX0NPTlRFWFRfS0VZLCB9IGZyb20gXCJAc21pdGh5L3R5cGVzXCI7XG5pbXBvcnQgeyBkZV9Mb29rdXBFdmVudHNDb21tYW5kLCBzZV9Mb29rdXBFdmVudHNDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfanNvbjFfMVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBMb29rdXBFdmVudHNDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIExvb2t1cEV2ZW50c0NvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJDbG91ZFRyYWlsQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJMb29rdXBFdmVudHNDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIFtTTUlUSFlfQ09OVEVYVF9LRVldOiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogXCJDbG91ZFRyYWlsXzIwMTMxMTAxXCIsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcIkxvb2t1cEV2ZW50c1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfTG9va3VwRXZlbnRzQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfTG9va3VwRXZlbnRzQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50IH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwnXG5cbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsVXNlckV2ZW50IHtcblx0aWFtUm9sZTogc3RyaW5nIFxuXHRzdHNTZXNzaW9uOiBzdHJpbmcgXG5cdGV2ZW50VGltZTogRGF0ZVxuXG5cdGNvbnN0cnVjdG9yKGV2ZW50OiBFdmVudCkge1xuXHRcdGNvbnN0IGNsb3VkVHJhaWxFdmVudCA9IEpTT04ucGFyc2UoZXZlbnQuQ2xvdWRUcmFpbEV2ZW50KVxuXHRcdGNvbnN0IFtyb2xlLCBzZXNzaW9uXSA9ICBjbG91ZFRyYWlsRXZlbnQudXNlcklkZW50aXR5LmFybi5zcGxpdCgnLycpLnNsaWNlKDEpIC8vIGFybjphd3M6c3RzOjphY2NvdW50OmFzc3VtZWQtcm9sZS9ST0xFX05BTUUvU0VTU0lPTl9OQU1FIC0gbWF5IGhhdmUgdW5kZWZpbmVkIHNlc3Npb24gaWYgSUFNIHVzZXIgaXMgdXNlZCB0byBsb2dpblxuXHRcdFxuXHRcdHRoaXMuaWFtUm9sZSA9IHJvbGVcblx0XHR0aGlzLnN0c1Nlc3Npb24gPSBzZXNzaW9uXG5cdFx0dGhpcy5ldmVudFRpbWUgPSBldmVudC5FdmVudFRpbWVcblx0fVxufSIsImltcG9ydCB7IENsb3VkVHJhaWxDbGllbnQsIExvb2t1cEV2ZW50c0NvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbCdcbmltcG9ydCB7IENsb3VkVHJhaWxVc2VyRXZlbnQgfSBmcm9tICcuL0Nsb3VkVHJhaWxVc2VyRXZlbnQnXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlciB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXG5cbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciB7XG5cdHByaXZhdGUgY2xvdWRUcmFpbENsaWVudCA9IG5ldyBDbG91ZFRyYWlsQ2xpZW50KHt9KVxuXG5cdC8vIEZpbHRlcnMgb3V0IGV2ZW50cyB0aGF0IGRvIG5vdCBvcmlnaW5hdGUgd2l0aCBzb21lb25lJ3MgZS1tYWlsIGFkZHJlc3Ncblx0Ly8gc3VjaCBhcyBhbnkgYXV0b21hdGVkIHByb2Nlc3Mgd2hpY2ggdG91Y2hlcyBRdWlja1NpZ2h0LCBpbmNsdWRpbmcgdGhpcyBvbmVcblx0cHVibGljIGFzeW5jIHJldHJpZXZlUXVpY2tTaWdodFVzZXJFdmVudHMoc3RhcnREYXRlOiBEYXRlKTogUHJvbWlzZTxDbG91ZFRyYWlsVXNlckV2ZW50W10+IHtcblx0XHRjb25zdCBldmVudHM6IENsb3VkVHJhaWxVc2VyRXZlbnRbXSA9IFtdXG5cblx0XHRsZXQgbmV4dFRva2VuOiBzdHJpbmcgPSBudWxsIC8vIFRoaXMgaXMgYW5ub3lpbmc7IG51bGwgZG9lc24ndCB3b3JrIGluIHRoZSBRdWlja1NpZ2h0IEFQSSBidXQgZW1wdHkgc3RyaW5nIGRvZXNuJ3Qgd29yayBpbiB0aGUgQ2xvdWRUcmFpbCBBUElcblx0XHRkbyB7XG5cdFx0XHRjb25zdCBsb29rdXBFdmVudHNDb21tYW5kID0gbmV3IExvb2t1cEV2ZW50c0NvbW1hbmQoe1xuXHRcdFx0XHRMb29rdXBBdHRyaWJ1dGVzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0QXR0cmlidXRlS2V5OiAnRXZlbnRTb3VyY2UnLFxuXHRcdFx0XHRcdFx0QXR0cmlidXRlVmFsdWU6ICdxdWlja3NpZ2h0LmFtYXpvbmF3cy5jb20nLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHRcdFN0YXJ0VGltZTogc3RhcnREYXRlLFxuXHRcdFx0XHROZXh0VG9rZW46IG5leHRUb2tlbixcblx0XHRcdH0pXG5cblx0XHRcdGNvbnN0IGxvb2t1cEV2ZW50c1Jlc3VsdCA9IGF3YWl0IHRoaXMuY2xvdWRUcmFpbENsaWVudC5zZW5kKGxvb2t1cEV2ZW50c0NvbW1hbmQpXG5cblx0XHRcdG5leHRUb2tlbiA9IGxvb2t1cEV2ZW50c1Jlc3VsdC5OZXh0VG9rZW5cblxuXHRcdFx0bG9va3VwRXZlbnRzUmVzdWx0LkV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gZXZlbnRzLnB1c2gobmV3IENsb3VkVHJhaWxVc2VyRXZlbnQoZXZlbnQpKSlcblx0XHR9IHdoaWxlIChuZXh0VG9rZW4pXG5cblx0XHRyZXR1cm4gZXZlbnRzXG5cdH1cblxuXHRwdWJsaWMgZ2V0TGFzdEFjY2Vzc0RhdGUodXNlcjogUXVpY2tTaWdodFVzZXIsIGV2ZW50czogQ2xvdWRUcmFpbFVzZXJFdmVudFtdKTogRGF0ZSB7XG5cdFx0Y29uc3QgdGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzID0gZXZlbnRzLmZpbHRlcigoZXZlbnQpID0+IHVzZXIuaWFtUm9sZSA9PT0gZXZlbnQuaWFtUm9sZSAmJiB1c2VyLnN0c1Nlc3Npb24gPT09IGV2ZW50LnN0c1Nlc3Npb24pXG5cblx0XHRpZiAodGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXG5cdFx0XHRjb25zb2xlLmRlYnVnKGAke3VzZXIuaWFtUm9sZX0vJHt1c2VyLnN0c1Nlc3Npb259IG5vIENsb3VkVHJhaWwgZXZlbnRzIGZvdW5kYClcblx0XHRcdHJldHVybiBuZXcgRGF0ZSgwKSAvLyBSZXR1cm4gMTk3MCBhcyBsYXN0IGFjY2VzcyBkYXRlIHRvIG1ha2UgbG9naWMgZWFzaWVyIGRvd24gdGhlIHJvYWRcblx0XHR9XG5cblx0XHQvLyBTb3J0IG5ld2VzdCB0byBvbGRlc3Rcblx0XHRjb25zdCBuZXdlc3RFdmVudCA9IHRoaXNQYXJ0aWN1bGFyVXNlckV2ZW50cy5zb3J0KChhLCBiKSA9PiBhLmV2ZW50VGltZSA8PSBiLmV2ZW50VGltZSA/IDEgOiAtMSlbMF1cblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRjb25zb2xlLmRlYnVnKGAke3VzZXIuaWFtUm9sZX0vJHt1c2VyLnN0c1Nlc3Npb259IGxhdGVzdCBldmVudDogJHtKU09OLnN0cmluZ2lmeShuZXdlc3RFdmVudCwgbnVsbCwgMSl9YClcblxuXHRcdHJldHVybiBuZXdlc3RFdmVudC5ldmVudFRpbWVcblx0fVxufSIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcIm1vbml0b3JpbmdcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHUgPSBcInJlcXVpcmVkXCIsIHYgPSBcImZuXCIsIHcgPSBcImFyZ3ZcIiwgeCA9IFwicmVmXCI7XG5jb25zdCBhID0gdHJ1ZSwgYiA9IFwiaXNTZXRcIiwgYyA9IFwiYm9vbGVhbkVxdWFsc1wiLCBkID0gXCJlcnJvclwiLCBlID0gXCJlbmRwb2ludFwiLCBmID0gXCJ0cmVlXCIsIGcgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBoID0gXCJnZXRBdHRyXCIsIGkgPSB7IFt1XTogZmFsc2UsIFwidHlwZVwiOiBcIlN0cmluZ1wiIH0sIGogPSB7IFt1XTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBcInR5cGVcIjogXCJCb29sZWFuXCIgfSwgayA9IHsgW3hdOiBcIkVuZHBvaW50XCIgfSwgbCA9IHsgW3ZdOiBjLCBbd106IFt7IFt4XTogXCJVc2VGSVBTXCIgfSwgdHJ1ZV0gfSwgbSA9IHsgW3ZdOiBjLCBbd106IFt7IFt4XTogXCJVc2VEdWFsU3RhY2tcIiB9LCB0cnVlXSB9LCBuID0ge30sIG8gPSB7IFt2XTogaCwgW3ddOiBbeyBbeF06IGcgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfSwgcCA9IHsgW3hdOiBnIH0sIHEgPSB7IFt2XTogYywgW3ddOiBbdHJ1ZSwgeyBbdl06IGgsIFt3XTogW3AsIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgciA9IFtsXSwgcyA9IFttXSwgdCA9IFt7IFt4XTogXCJSZWdpb25cIiB9XTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogaSwgVXNlRHVhbFN0YWNrOiBqLCBVc2VGSVBTOiBqLCBFbmRwb2ludDogaSB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBiLCBbd106IFtrXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IHIsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBjb25kaXRpb25zOiBzLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBlbmRwb2ludDogeyB1cmw6IGssIHByb3BlcnRpZXM6IG4sIGhlYWRlcnM6IG4gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGNvbmRpdGlvbnM6IFt7IFt2XTogYiwgW3ddOiB0IH1dLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3ddOiB0LCBhc3NpZ246IGcgfV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbCwgbV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdl06IGMsIFt3XTogW2EsIG9dIH0sIHFdLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vbW9uaXRvcmluZy1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiByLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3ZdOiBjLCBbd106IFtvLCBhXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFt2XTogXCJzdHJpbmdFcXVhbHNcIiwgW3ddOiBbeyBbdl06IGgsIFt3XTogW3AsIFwibmFtZVwiXSB9LCBcImF3cy11cy1nb3ZcIl0gfV0sIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL21vbml0b3Jpbmcue1JlZ2lvbn0uYW1hem9uYXdzLmNvbVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG4sIGhlYWRlcnM6IG4gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiBzLCBydWxlczogW3sgY29uZGl0aW9uczogW3FdLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vbW9uaXRvcmluZy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogbiwgaGVhZGVyczogbiB9LCB0eXBlOiBlIH1dLCB0eXBlOiBmIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBuLCBoZWFkZXJzOiBuIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IE1pc3NpbmcgUmVnaW9uXCIsIHR5cGU6IGQgfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRBd3NBdXRoUGx1Z2luLCByZXNvbHZlQXdzQXV0aENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQbHVnaW4sIHJlc29sdmVVc2VyQWdlbnRDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZVJlZ2lvbkNvbmZpZyB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0Q29udGVudExlbmd0aFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFJldHJ5UGx1Z2luLCByZXNvbHZlUmV0cnlDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBDbGllbnQgYXMgX19DbGllbnQsIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuaW1wb3J0IHsgcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zIH0gZnJvbSBcIi4vcnVudGltZUV4dGVuc2lvbnNcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgQ2xvdWRXYXRjaENsaWVudCBleHRlbmRzIF9fQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvciguLi5bY29uZmlndXJhdGlvbl0pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24gfHwge30pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlQXdzQXV0aENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfOCA9IHJlc29sdmVSdW50aW1lRXh0ZW5zaW9ucyhfY29uZmlnXzcsIGNvbmZpZ3VyYXRpb24/LmV4dGVuc2lvbnMgfHwgW10pO1xuICAgICAgICBzdXBlcihfY29uZmlnXzgpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9jb25maWdfODtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJldHJ5UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRDb250ZW50TGVuZ3RoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRIb3N0SGVhZGVyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRMb2dnZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0QXdzQXV0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0VXNlckFnZW50UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gYXMgYXdzQ2hlY2tWZXJzaW9uIH0gZnJvbSBcIkBhd3Mtc2RrL2NvcmVcIjtcbmltcG9ydCB7IGRlZmF1bHRQcm92aWRlciBhcyBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZVwiO1xuaW1wb3J0IHsgZGVmYXVsdFVzZXJBZ2VudCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQHNtaXRoeS9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IEhhc2ggfSBmcm9tIFwiQHNtaXRoeS9oYXNoLW5vZGVcIjtcbmltcG9ydCB7IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMsIE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgTm9kZUh0dHBIYW5kbGVyIGFzIFJlcXVlc3RIYW5kbGVyLCBzdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQHNtaXRoeS9ub2RlLWh0dHAtaGFuZGxlclwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm9keUxlbmd0aCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1yZXRyeVwiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBnZXRTaGFyZWRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZy5zaGFyZWRcIjtcbmltcG9ydCB7IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgY29uc3QgZGVmYXVsdHNNb2RlID0gcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWdQcm92aWRlciA9ICgpID0+IGRlZmF1bHRzTW9kZSgpLnRoZW4obG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSk7XG4gICAgY29uc3QgY2xpZW50U2hhcmVkVmFsdWVzID0gZ2V0U2hhcmVkUnVudGltZUNvbmZpZyhjb25maWcpO1xuICAgIGF3c0NoZWNrVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNsaWVudFNoYXJlZFZhbHVlcyxcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBydW50aW1lOiBcIm5vZGVcIixcbiAgICAgICAgZGVmYXVsdHNNb2RlLFxuICAgICAgICBib2R5TGVuZ3RoQ2hlY2tlcjogY29uZmlnPy5ib2R5TGVuZ3RoQ2hlY2tlciA/PyBjYWxjdWxhdGVCb2R5TGVuZ3RoLFxuICAgICAgICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyOiBjb25maWc/LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgPz8gZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyKGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIpLFxuICAgICAgICBkZWZhdWx0VXNlckFnZW50UHJvdmlkZXI6IGNvbmZpZz8uZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyID8/XG4gICAgICAgICAgICBkZWZhdWx0VXNlckFnZW50KHsgc2VydmljZUlkOiBjbGllbnRTaGFyZWRWYWx1ZXMuc2VydmljZUlkLCBjbGllbnRWZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQHNtaXRoeS91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAc21pdGh5L3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciB9IGZyb20gXCIuL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwaVZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgICAgICBiYXNlNjREZWNvZGVyOiBjb25maWc/LmJhc2U2NERlY29kZXIgPz8gZnJvbUJhc2U2NCxcbiAgICAgICAgYmFzZTY0RW5jb2RlcjogY29uZmlnPy5iYXNlNjRFbmNvZGVyID8/IHRvQmFzZTY0LFxuICAgICAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICAgICAgZW5kcG9pbnRQcm92aWRlcjogY29uZmlnPy5lbmRwb2ludFByb3ZpZGVyID8/IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyLFxuICAgICAgICBleHRlbnNpb25zOiBjb25maWc/LmV4dGVuc2lvbnMgPz8gW10sXG4gICAgICAgIGxvZ2dlcjogY29uZmlnPy5sb2dnZXIgPz8gbmV3IE5vT3BMb2dnZXIoKSxcbiAgICAgICAgc2VydmljZUlkOiBjb25maWc/LnNlcnZpY2VJZCA/PyBcIkNsb3VkV2F0Y2hcIixcbiAgICAgICAgdXJsUGFyc2VyOiBjb25maWc/LnVybFBhcnNlciA/PyBwYXJzZVVybCxcbiAgICAgICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IGdldEF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9yZWdpb24tY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVIdHRwSGFuZGxlclJ1bnRpbWVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZURlZmF1bHRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuY29uc3QgYXNQYXJ0aWFsID0gKHQpID0+IHQ7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zID0gKHJ1bnRpbWVDb25maWcsIGV4dGVuc2lvbnMpID0+IHtcbiAgICBjb25zdCBleHRlbnNpb25Db25maWd1cmF0aW9uID0ge1xuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0QXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgICAgIC4uLmFzUGFydGlhbChnZXREZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgICAgIC4uLmFzUGFydGlhbChnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgIH07XG4gICAgZXh0ZW5zaW9ucy5mb3JFYWNoKChleHRlbnNpb24pID0+IGV4dGVuc2lvbi5jb25maWd1cmUoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbikpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJ1bnRpbWVDb25maWcsXG4gICAgICAgIC4uLnJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAuLi5yZXNvbHZlRGVmYXVsdFJ1bnRpbWVDb25maWcoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgICAgIC4uLnJlc29sdmVIdHRwSGFuZGxlclJ1bnRpbWVDb25maWcoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBDbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIF9fU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBBY3Rpb25zU3VwcHJlc3NlZEJ5ID0ge1xuICAgIEFsYXJtOiBcIkFsYXJtXCIsXG4gICAgRXh0ZW5zaW9uUGVyaW9kOiBcIkV4dGVuc2lvblBlcmlvZFwiLFxuICAgIFdhaXRQZXJpb2Q6IFwiV2FpdFBlcmlvZFwiLFxufTtcbmV4cG9ydCBjb25zdCBBbGFybVR5cGUgPSB7XG4gICAgQ29tcG9zaXRlQWxhcm06IFwiQ29tcG9zaXRlQWxhcm1cIixcbiAgICBNZXRyaWNBbGFybTogXCJNZXRyaWNBbGFybVwiLFxufTtcbmV4cG9ydCBjb25zdCBIaXN0b3J5SXRlbVR5cGUgPSB7XG4gICAgQWN0aW9uOiBcIkFjdGlvblwiLFxuICAgIENvbmZpZ3VyYXRpb25VcGRhdGU6IFwiQ29uZmlndXJhdGlvblVwZGF0ZVwiLFxuICAgIFN0YXRlVXBkYXRlOiBcIlN0YXRlVXBkYXRlXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YW5kYXJkVW5pdCA9IHtcbiAgICBCaXRzOiBcIkJpdHNcIixcbiAgICBCaXRzX1NlY29uZDogXCJCaXRzL1NlY29uZFwiLFxuICAgIEJ5dGVzOiBcIkJ5dGVzXCIsXG4gICAgQnl0ZXNfU2Vjb25kOiBcIkJ5dGVzL1NlY29uZFwiLFxuICAgIENvdW50OiBcIkNvdW50XCIsXG4gICAgQ291bnRfU2Vjb25kOiBcIkNvdW50L1NlY29uZFwiLFxuICAgIEdpZ2FiaXRzOiBcIkdpZ2FiaXRzXCIsXG4gICAgR2lnYWJpdHNfU2Vjb25kOiBcIkdpZ2FiaXRzL1NlY29uZFwiLFxuICAgIEdpZ2FieXRlczogXCJHaWdhYnl0ZXNcIixcbiAgICBHaWdhYnl0ZXNfU2Vjb25kOiBcIkdpZ2FieXRlcy9TZWNvbmRcIixcbiAgICBLaWxvYml0czogXCJLaWxvYml0c1wiLFxuICAgIEtpbG9iaXRzX1NlY29uZDogXCJLaWxvYml0cy9TZWNvbmRcIixcbiAgICBLaWxvYnl0ZXM6IFwiS2lsb2J5dGVzXCIsXG4gICAgS2lsb2J5dGVzX1NlY29uZDogXCJLaWxvYnl0ZXMvU2Vjb25kXCIsXG4gICAgTWVnYWJpdHM6IFwiTWVnYWJpdHNcIixcbiAgICBNZWdhYml0c19TZWNvbmQ6IFwiTWVnYWJpdHMvU2Vjb25kXCIsXG4gICAgTWVnYWJ5dGVzOiBcIk1lZ2FieXRlc1wiLFxuICAgIE1lZ2FieXRlc19TZWNvbmQ6IFwiTWVnYWJ5dGVzL1NlY29uZFwiLFxuICAgIE1pY3Jvc2Vjb25kczogXCJNaWNyb3NlY29uZHNcIixcbiAgICBNaWxsaXNlY29uZHM6IFwiTWlsbGlzZWNvbmRzXCIsXG4gICAgTm9uZTogXCJOb25lXCIsXG4gICAgUGVyY2VudDogXCJQZXJjZW50XCIsXG4gICAgU2Vjb25kczogXCJTZWNvbmRzXCIsXG4gICAgVGVyYWJpdHM6IFwiVGVyYWJpdHNcIixcbiAgICBUZXJhYml0c19TZWNvbmQ6IFwiVGVyYWJpdHMvU2Vjb25kXCIsXG4gICAgVGVyYWJ5dGVzOiBcIlRlcmFieXRlc1wiLFxuICAgIFRlcmFieXRlc19TZWNvbmQ6IFwiVGVyYWJ5dGVzL1NlY29uZFwiLFxufTtcbmV4cG9ydCBjb25zdCBBbm9tYWx5RGV0ZWN0b3JTdGF0ZVZhbHVlID0ge1xuICAgIFBFTkRJTkdfVFJBSU5JTkc6IFwiUEVORElOR19UUkFJTklOR1wiLFxuICAgIFRSQUlORUQ6IFwiVFJBSU5FRFwiLFxuICAgIFRSQUlORURfSU5TVUZGSUNJRU5UX0RBVEE6IFwiVFJBSU5FRF9JTlNVRkZJQ0lFTlRfREFUQVwiLFxufTtcbmV4cG9ydCBjb25zdCBBbm9tYWx5RGV0ZWN0b3JUeXBlID0ge1xuICAgIE1FVFJJQ19NQVRIOiBcIk1FVFJJQ19NQVRIXCIsXG4gICAgU0lOR0xFX01FVFJJQzogXCJTSU5HTEVfTUVUUklDXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbXBhcmlzb25PcGVyYXRvciA9IHtcbiAgICBHcmVhdGVyVGhhbk9yRXF1YWxUb1RocmVzaG9sZDogXCJHcmVhdGVyVGhhbk9yRXF1YWxUb1RocmVzaG9sZFwiLFxuICAgIEdyZWF0ZXJUaGFuVGhyZXNob2xkOiBcIkdyZWF0ZXJUaGFuVGhyZXNob2xkXCIsXG4gICAgR3JlYXRlclRoYW5VcHBlclRocmVzaG9sZDogXCJHcmVhdGVyVGhhblVwcGVyVGhyZXNob2xkXCIsXG4gICAgTGVzc1RoYW5Mb3dlck9yR3JlYXRlclRoYW5VcHBlclRocmVzaG9sZDogXCJMZXNzVGhhbkxvd2VyT3JHcmVhdGVyVGhhblVwcGVyVGhyZXNob2xkXCIsXG4gICAgTGVzc1RoYW5Mb3dlclRocmVzaG9sZDogXCJMZXNzVGhhbkxvd2VyVGhyZXNob2xkXCIsXG4gICAgTGVzc1RoYW5PckVxdWFsVG9UaHJlc2hvbGQ6IFwiTGVzc1RoYW5PckVxdWFsVG9UaHJlc2hvbGRcIixcbiAgICBMZXNzVGhhblRocmVzaG9sZDogXCJMZXNzVGhhblRocmVzaG9sZFwiLFxufTtcbmV4cG9ydCBjb25zdCBTdGF0ZVZhbHVlID0ge1xuICAgIEFMQVJNOiBcIkFMQVJNXCIsXG4gICAgSU5TVUZGSUNJRU5UX0RBVEE6IFwiSU5TVUZGSUNJRU5UX0RBVEFcIixcbiAgICBPSzogXCJPS1wiLFxufTtcbmV4cG9ydCBjbGFzcyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvclwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3JcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5kYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPSBvcHRzLmRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRGFzaGJvYXJkTm90Rm91bmRFcnJvciBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkRhc2hib2FyZE5vdEZvdW5kRXJyb3JcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkRhc2hib2FyZE5vdEZvdW5kRXJyb3JcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRGFzaGJvYXJkTm90Rm91bmRFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZU5vdEZvdW5kIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VOb3RGb3VuZFwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VOb3RGb3VuZFwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZU5vdEZvdW5kLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludGVybmFsU2VydmljZUZhdWx0IGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJzZXJ2ZXJcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludGVybmFsU2VydmljZUZhdWx0XCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJzZXJ2ZXJcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludGVybmFsU2VydmljZUZhdWx0LnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLlJlc291cmNlVHlwZSA9IG9wdHMuUmVzb3VyY2VUeXBlO1xuICAgICAgICB0aGlzLlJlc291cmNlSWQgPSBvcHRzLlJlc291cmNlSWQ7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgU2NhbkJ5ID0ge1xuICAgIFRJTUVTVEFNUF9BU0NFTkRJTkc6IFwiVGltZXN0YW1wQXNjZW5kaW5nXCIsXG4gICAgVElNRVNUQU1QX0RFU0NFTkRJTkc6IFwiVGltZXN0YW1wRGVzY2VuZGluZ1wiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkTmV4dFRva2VuIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZE5leHRUb2tlblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZE5leHRUb2tlblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTmV4dFRva2VuLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEV2YWx1YXRpb25TdGF0ZSA9IHtcbiAgICBQQVJUSUFMX0RBVEE6IFwiUEFSVElBTF9EQVRBXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpYyA9IHtcbiAgICBBdmVyYWdlOiBcIkF2ZXJhZ2VcIixcbiAgICBNYXhpbXVtOiBcIk1heGltdW1cIixcbiAgICBNaW5pbXVtOiBcIk1pbmltdW1cIixcbiAgICBTYW1wbGVDb3VudDogXCJTYW1wbGVDb3VudFwiLFxuICAgIFN1bTogXCJTdW1cIixcbn07XG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IFN0YXR1c0NvZGUgPSB7XG4gICAgQ09NUExFVEU6IFwiQ29tcGxldGVcIixcbiAgICBGT1JCSURERU46IFwiRm9yYmlkZGVuXCIsXG4gICAgSU5URVJOQUxfRVJST1I6IFwiSW50ZXJuYWxFcnJvclwiLFxuICAgIFBBUlRJQUxfREFUQTogXCJQYXJ0aWFsRGF0YVwiLFxufTtcbmV4cG9ydCBjb25zdCBNZXRyaWNTdHJlYW1PdXRwdXRGb3JtYXQgPSB7XG4gICAgSlNPTjogXCJqc29uXCIsXG4gICAgT1BFTl9URUxFTUVUUllfMF83OiBcIm9wZW50ZWxlbWV0cnkwLjdcIixcbn07XG5leHBvcnQgY29uc3QgUmVjZW50bHlBY3RpdmUgPSB7XG4gICAgUFQzSDogXCJQVDNIXCIsXG59O1xuZXhwb3J0IGNsYXNzIExpbWl0RXhjZWVkZWRGYXVsdCBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRGYXVsdFwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTGltaXRFeGNlZWRlZEZhdWx0XCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIExpbWl0RXhjZWVkZWRGYXVsdC5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRm9ybWF0RmF1bHQgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRm9ybWF0RmF1bHRcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRGb3JtYXRGYXVsdFwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRm9ybWF0RmF1bHQucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgY29sbGVjdEJvZHksIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQgYXMgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCwgZ2V0QXJyYXlJZlNpbmdsZUl0ZW0gYXMgX19nZXRBcnJheUlmU2luZ2xlSXRlbSwgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgYXMgX19nZXRWYWx1ZUZyb21UZXh0Tm9kZSwgcGFyc2VCb29sZWFuIGFzIF9fcGFyc2VCb29sZWFuLCBwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQgYXMgX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQsIHNlcmlhbGl6ZUZsb2F0IGFzIF9fc2VyaWFsaXplRmxvYXQsIHN0cmljdFBhcnNlRmxvYXQgYXMgX19zdHJpY3RQYXJzZUZsb2F0LCBzdHJpY3RQYXJzZUludDMyIGFzIF9fc3RyaWN0UGFyc2VJbnQzMiwgc3RyaWN0UGFyc2VMb25nIGFzIF9fc3RyaWN0UGFyc2VMb25nLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBYTUxQYXJzZXIgfSBmcm9tIFwiZmFzdC14bWwtcGFyc2VyXCI7XG5pbXBvcnQgeyBDbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL0Nsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uXCI7XG5pbXBvcnQgeyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uLCBEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvciwgRGFzaGJvYXJkTm90Rm91bmRFcnJvciwgSW50ZXJuYWxTZXJ2aWNlRmF1bHQsIEludmFsaWRGb3JtYXRGYXVsdCwgSW52YWxpZE5leHRUb2tlbiwgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRGYXVsdCwgTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uLCBSZXNvdXJjZU5vdEZvdW5kLCBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBbGFybXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQWxhcm1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlQWxhcm1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQW5vbWFseURldGVjdG9ySW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlQW5vbWFseURldGVjdG9yXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVEYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZURhc2hib2FyZHNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVEYXNoYm9hcmRzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlSW5zaWdodFJ1bGVzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlTWV0cmljU3RyZWFtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlTWV0cmljU3RyZWFtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFsYXJtSGlzdG9yeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFsYXJtSGlzdG9yeUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWxhcm1IaXN0b3J5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFsYXJtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFsYXJtc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWxhcm1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWxhcm1zRm9yTWV0cmljXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUluc2lnaHRSdWxlc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EaXNhYmxlQWxhcm1BY3Rpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rpc2FibGVBbGFybUFjdGlvbnNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEaXNhYmxlQWxhcm1BY3Rpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EaXNhYmxlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rpc2FibGVJbnNpZ2h0UnVsZXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEaXNhYmxlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9FbmFibGVBbGFybUFjdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRW5hYmxlQWxhcm1BY3Rpb25zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRW5hYmxlQWxhcm1BY3Rpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9FbmFibGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRW5hYmxlSW5zaWdodFJ1bGVzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRW5hYmxlSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0RGFzaGJvYXJkSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0RGFzaGJvYXJkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydElucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldEluc2lnaHRSdWxlUmVwb3J0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNEYXRhQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldE1ldHJpY0RhdGFJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRNZXRyaWNEYXRhXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldE1ldHJpY1N0YXRpc3RpY3NJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRNZXRyaWNTdGF0aXN0aWNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0TWV0cmljU3RyZWFtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0TWV0cmljU3RyZWFtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldE1ldHJpY1dpZGdldEltYWdlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0RGFzaGJvYXJkc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3REYXNoYm9hcmRzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TWV0cmljc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0TWV0cmljc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RNZXRyaWNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0TWV0cmljU3RyZWFtc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RNZXRyaWNTdHJlYW1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RUYWdzRm9yUmVzb3VyY2VJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0VGFnc0ZvclJlc291cmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRBbm9tYWx5RGV0ZWN0b3JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0QW5vbWFseURldGVjdG9ySW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0QW5vbWFseURldGVjdG9yXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRDb21wb3NpdGVBbGFybUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dENvbXBvc2l0ZUFsYXJtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0RGFzaGJvYXJkSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0RGFzaGJvYXJkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRJbnNpZ2h0UnVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRJbnNpZ2h0UnVsZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dEluc2lnaHRSdWxlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dE1hbmFnZWRJbnNpZ2h0UnVsZXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRNYW5hZ2VkSW5zaWdodFJ1bGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNZXRyaWNBbGFybUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRNZXRyaWNBbGFybUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dE1ldHJpY0FsYXJtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dE1ldHJpY0RhdGFJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRNZXRyaWNEYXRhXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0TWV0cmljU3RyZWFtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0TWV0cmljU3RyZWFtXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRBbGFybVN0YXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldEFsYXJtU3RhdGVJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRBbGFybVN0YXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU3RhcnRNZXRyaWNTdHJlYW1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU3RhcnRNZXRyaWNTdHJlYW1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdG9wTWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TdG9wTWV0cmljU3RyZWFtc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlN0b3BNZXRyaWNTdHJlYW1zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9UYWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9UYWdSZXNvdXJjZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlRhZ1Jlc291cmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VbnRhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VudGFnUmVzb3VyY2VJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJVbnRhZ1Jlc291cmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0wOC0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVBbGFybXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUFsYXJtc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFsYXJtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUFub21hbHlEZXRlY3RvckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQW5vbWFseURldGVjdG9yQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlQW5vbWFseURldGVjdG9yT3V0cHV0KGRhdGEuRGVsZXRlQW5vbWFseURldGVjdG9yUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFub21hbHlEZXRlY3RvckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZURhc2hib2FyZHNPdXRwdXQoZGF0YS5EZWxldGVEYXNoYm9hcmRzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjRGFzaGJvYXJkTm90Rm91bmRFcnJvclwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvclJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlSW5zaWdodFJ1bGVzT3V0cHV0KGRhdGEuRGVsZXRlSW5zaWdodFJ1bGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUluc2lnaHRSdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlTWV0cmljU3RyZWFtQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVNZXRyaWNTdHJlYW1PdXRwdXQoZGF0YS5EZWxldGVNZXRyaWNTdHJlYW1SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlTWV0cmljU3RyZWFtQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBbGFybUhpc3RvcnlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVzY3JpYmVBbGFybUhpc3RvcnlPdXRwdXQoZGF0YS5EZXNjcmliZUFsYXJtSGlzdG9yeVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUFsYXJtSGlzdG9yeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFsYXJtc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQWxhcm1zT3V0cHV0KGRhdGEuRGVzY3JpYmVBbGFybXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbGFybXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbGFybXNGb3JNZXRyaWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY091dHB1dChkYXRhLkRlc2NyaWJlQWxhcm1zRm9yTWV0cmljUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc091dHB1dChkYXRhLkRlc2NyaWJlQW5vbWFseURldGVjdG9yc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUluc2lnaHRSdWxlc091dHB1dChkYXRhLkRlc2NyaWJlSW5zaWdodFJ1bGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGlzYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGlzYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rpc2FibGVBbGFybUFjdGlvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rpc2FibGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rpc2FibGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EaXNhYmxlSW5zaWdodFJ1bGVzT3V0cHV0KGRhdGEuRGlzYWJsZUluc2lnaHRSdWxlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EaXNhYmxlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9FbmFibGVBbGFybUFjdGlvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0VuYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0VuYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRW5hYmxlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9FbmFibGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9FbmFibGVJbnNpZ2h0UnVsZXNPdXRwdXQoZGF0YS5FbmFibGVJbnNpZ2h0UnVsZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRW5hYmxlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXREYXNoYm9hcmRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXREYXNoYm9hcmRPdXRwdXQoZGF0YS5HZXREYXNoYm9hcmRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0RGFzaGJvYXJkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0Rhc2hib2FyZE5vdEZvdW5kRXJyb3JcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Rhc2hib2FyZE5vdEZvdW5kRXJyb3JSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SW5zaWdodFJ1bGVSZXBvcnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydE91dHB1dChkYXRhLkdldEluc2lnaHRSdWxlUmVwb3J0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEluc2lnaHRSdWxlUmVwb3J0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0TWV0cmljRGF0YUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0TWV0cmljRGF0YUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldE1ldHJpY0RhdGFPdXRwdXQoZGF0YS5HZXRNZXRyaWNEYXRhUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldE1ldHJpY0RhdGFDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0TWV0cmljU3RhdGlzdGljc091dHB1dChkYXRhLkdldE1ldHJpY1N0YXRpc3RpY3NSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljU3RhdGlzdGljc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldE1ldHJpY1N0cmVhbUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldE1ldHJpY1N0cmVhbU91dHB1dChkYXRhLkdldE1ldHJpY1N0cmVhbVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldE1ldHJpY1dpZGdldEltYWdlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldE1ldHJpY1dpZGdldEltYWdlT3V0cHV0KGRhdGEuR2V0TWV0cmljV2lkZ2V0SW1hZ2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljV2lkZ2V0SW1hZ2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3REYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3REYXNoYm9hcmRzT3V0cHV0KGRhdGEuTGlzdERhc2hib2FyZHNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNPdXRwdXQoZGF0YS5MaXN0TWFuYWdlZEluc2lnaHRSdWxlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RNZXRyaWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0TWV0cmljc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RNZXRyaWNzT3V0cHV0KGRhdGEuTGlzdE1ldHJpY3NSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdE1ldHJpY3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdE1ldHJpY1N0cmVhbXNPdXRwdXQoZGF0YS5MaXN0TWV0cmljU3RyZWFtc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0TWV0cmljU3RyZWFtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZU91dHB1dChkYXRhLkxpc3RUYWdzRm9yUmVzb3VyY2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0QW5vbWFseURldGVjdG9yQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JPdXRwdXQoZGF0YS5QdXRBbm9tYWx5RGV0ZWN0b3JSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0QW5vbWFseURldGVjdG9yQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0Q29tcG9zaXRlQWxhcm1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTGltaXRFeGNlZWRlZEZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dERhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dERhc2hib2FyZE91dHB1dChkYXRhLlB1dERhc2hib2FyZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXREYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJJbnB1dFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0Rhc2hib2FyZEludmFsaWRJbnB1dEVycm9yXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9EYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvclJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dEluc2lnaHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRJbnNpZ2h0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dEluc2lnaHRSdWxlT3V0cHV0KGRhdGEuUHV0SW5zaWdodFJ1bGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0SW5zaWdodFJ1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUHV0TWFuYWdlZEluc2lnaHRSdWxlc091dHB1dChkYXRhLlB1dE1hbmFnZWRJbnNpZ2h0UnVsZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0TWV0cmljQWxhcm1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dE1ldHJpY0FsYXJtQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWV0cmljQWxhcm1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0xpbWl0RXhjZWVkZWRGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0TWV0cmljRGF0YUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0TWV0cmljRGF0YUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dE1ldHJpY0RhdGFDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0TWV0cmljU3RyZWFtQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRNZXRyaWNTdHJlYW1PdXRwdXQoZGF0YS5QdXRNZXRyaWNTdHJlYW1SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWV0cmljU3RyZWFtQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRBbGFybVN0YXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRBbGFybVN0YXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0QWxhcm1TdGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRm9ybWF0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZEZvcm1hdEZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRm9ybWF0RmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRNZXRyaWNTdHJlYW1zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydE1ldHJpY1N0cmVhbXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TdGFydE1ldHJpY1N0cmVhbXNPdXRwdXQoZGF0YS5TdGFydE1ldHJpY1N0cmVhbXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RhcnRNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RvcE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0b3BNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU3RvcE1ldHJpY1N0cmVhbXNPdXRwdXQoZGF0YS5TdG9wTWV0cmljU3RyZWFtc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdG9wTWV0cmljU3RyZWFtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1RhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9UYWdSZXNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1RhZ1Jlc291cmNlT3V0cHV0KGRhdGEuVGFnUmVzb3VyY2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVGFnUmVzb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVW50YWdSZXNvdXJjZU91dHB1dChkYXRhLlVudGFnUmVzb3VyY2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVW50YWdSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3JSZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0Rhc2hib2FyZEludmFsaWRJbnB1dEVycm9yKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvcih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvclJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvcihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRGFzaGJvYXJkTm90Rm91bmRFcnJvcih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludGVybmFsU2VydmljZUZhdWx0KGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnRlcm5hbFNlcnZpY2VGYXVsdCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEZvcm1hdEZhdWx0UmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkRm9ybWF0RmF1bHQoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRGb3JtYXRGYXVsdCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZE5leHRUb2tlblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZE5leHRUb2tlbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZE5leHRUb2tlbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEZhdWx0UmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9MaW1pdEV4Y2VlZGVkRmF1bHQoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IExpbWl0RXhjZWVkZWRGYXVsdCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZFJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfUmVzb3VyY2VOb3RGb3VuZChib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3Qgc2VfQWxhcm1OYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9BbGFybVR5cGVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Fub21hbHlEZXRlY3RvckNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkV4Y2x1ZGVkVGltZVJhbmdlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMoaW5wdXQuRXhjbHVkZWRUaW1lUmFuZ2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4Y2x1ZGVkVGltZVJhbmdlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkV4Y2x1ZGVkVGltZVJhbmdlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4Y2x1ZGVkVGltZVJhbmdlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljVGltZXpvbmUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljVGltZXpvbmVcIl0gPSBpbnB1dC5NZXRyaWNUaW1lem9uZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQW5vbWFseURldGVjdG9yRXhjbHVkZWRUaW1lUmFuZ2VzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1JhbmdlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Bbm9tYWx5RGV0ZWN0b3JUeXBlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Db3VudHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGFzaGJvYXJkTmFtZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQWxhcm1zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWxhcm1OYW1lcyhpbnB1dC5BbGFybU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFsYXJtTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5BbGFybU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1OYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdFwiXSA9IGlucHV0LlN0YXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yKGlucHV0LlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3Rvci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yKGlucHV0Lk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNNYXRoQW5vbWFseURldGVjdG9yLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZURhc2hib2FyZHNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGFzaGJvYXJkTmFtZXMoaW5wdXQuRGFzaGJvYXJkTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EYXNoYm9hcmROYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERhc2hib2FyZE5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZUluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSW5zaWdodFJ1bGVOYW1lcyhpbnB1dC5SdWxlTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUnVsZU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUnVsZU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUnVsZU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZU1ldHJpY1N0cmVhbUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFsYXJtSGlzdG9yeUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lXCJdID0gaW5wdXQuQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybVR5cGVzKGlucHV0LkFsYXJtVHlwZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtVHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybVR5cGVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5IaXN0b3J5SXRlbVR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSGlzdG9yeUl0ZW1UeXBlXCJdID0gaW5wdXQuSGlzdG9yeUl0ZW1UeXBlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhcnREYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXJ0RGF0ZVwiXSA9IGlucHV0LlN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5kRGF0ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmREYXRlXCJdID0gaW5wdXQuRW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVjb3JkcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZWNvcmRzXCJdID0gaW5wdXQuTWF4UmVjb3JkcztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TY2FuQnkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2NhbkJ5XCJdID0gaW5wdXQuU2NhbkJ5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRpc3RpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0aXN0aWNcIl0gPSBpbnB1dC5TdGF0aXN0aWM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHRlbmRlZFN0YXRpc3RpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFeHRlbmRlZFN0YXRpc3RpY1wiXSA9IGlucHV0LkV4dGVuZGVkU3RhdGlzdGljO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QZXJpb2QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGVyaW9kXCJdID0gaW5wdXQuUGVyaW9kO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVBbGFybXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWxhcm1OYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybU5hbWVzKGlucHV0LkFsYXJtTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1OYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybU5hbWVQcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lUHJlZml4XCJdID0gaW5wdXQuQWxhcm1OYW1lUHJlZml4O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybVR5cGVzKGlucHV0LkFsYXJtVHlwZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1UeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtVHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybVR5cGVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5DaGlsZHJlbk9mQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNoaWxkcmVuT2ZBbGFybU5hbWVcIl0gPSBpbnB1dC5DaGlsZHJlbk9mQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGFyZW50c09mQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBhcmVudHNPZkFsYXJtTmFtZVwiXSA9IGlucHV0LlBhcmVudHNPZkFsYXJtTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGVWYWx1ZVwiXSA9IGlucHV0LlN0YXRlVmFsdWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb25QcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uUHJlZml4XCJdID0gaW5wdXQuQWN0aW9uUHJlZml4O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVjb3JkcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZWNvcmRzXCJdID0gaW5wdXQuTWF4UmVjb3JkcztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Bbm9tYWx5RGV0ZWN0b3JUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Bbm9tYWx5RGV0ZWN0b3JUeXBlcyhpbnB1dC5Bbm9tYWx5RGV0ZWN0b3JUeXBlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Bbm9tYWx5RGV0ZWN0b3JUeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFub21hbHlEZXRlY3RvclR5cGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQW5vbWFseURldGVjdG9yVHlwZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVJbnNpZ2h0UnVsZXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heFJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4UmVzdWx0c1wiXSA9IGlucHV0Lk1heFJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gaW5wdXQuVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbkZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gaW5wdXQuVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbkZpbHRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9uRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EaW1lbnNpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbihlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGlzYWJsZUFsYXJtQWN0aW9uc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtTmFtZXMoaW5wdXQuQWxhcm1OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1OYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGlzYWJsZUluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSW5zaWdodFJ1bGVOYW1lcyhpbnB1dC5SdWxlTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUnVsZU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUnVsZU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUnVsZU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0VuYWJsZUFsYXJtQWN0aW9uc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtTmFtZXMoaW5wdXQuQWxhcm1OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1OYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRW5hYmxlSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9JbnNpZ2h0UnVsZU5hbWVzKGlucHV0LlJ1bGVOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SdWxlTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SdWxlTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSdWxlTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRXh0ZW5kZWRTdGF0aXN0aWNzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldERhc2hib2FyZElucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EYXNoYm9hcmROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRhc2hib2FyZE5hbWVcIl0gPSBpbnB1dC5EYXNoYm9hcmROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydElucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlTmFtZVwiXSA9IGlucHV0LlJ1bGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhcnRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXJ0VGltZVwiXSA9IGlucHV0LlN0YXJ0VGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5kVGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmRUaW1lXCJdID0gaW5wdXQuRW5kVGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBlcmlvZFwiXSA9IGlucHV0LlBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heENvbnRyaWJ1dG9yQ291bnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4Q29udHJpYnV0b3JDb3VudFwiXSA9IGlucHV0Lk1heENvbnRyaWJ1dG9yQ291bnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0luc2lnaHRSdWxlTWV0cmljTGlzdChpbnB1dC5NZXRyaWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1ldHJpY3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NZXRyaWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuT3JkZXJCeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPcmRlckJ5XCJdID0gaW5wdXQuT3JkZXJCeTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0TWV0cmljRGF0YUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNEYXRhUXVlcmllcyhpbnB1dC5NZXRyaWNEYXRhUXVlcmllcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY0RhdGFRdWVyaWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljRGF0YVF1ZXJpZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXJ0VGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGFydFRpbWVcIl0gPSBpbnB1dC5TdGFydFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuZFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5kVGltZVwiXSA9IGlucHV0LkVuZFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TY2FuQnkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2NhbkJ5XCJdID0gaW5wdXQuU2NhbkJ5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4RGF0YXBvaW50cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhEYXRhcG9pbnRzXCJdID0gaW5wdXQuTWF4RGF0YXBvaW50cztcbiAgICB9XG4gICAgaWYgKGlucHV0LkxhYmVsT3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9MYWJlbE9wdGlvbnMoaW5wdXQuTGFiZWxPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTGFiZWxPcHRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldE1ldHJpY1N0YXRpc3RpY3NJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXJ0VGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGFydFRpbWVcIl0gPSBpbnB1dC5TdGFydFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuZFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5kVGltZVwiXSA9IGlucHV0LkVuZFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQZXJpb2RcIl0gPSBpbnB1dC5QZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1N0YXRpc3RpY3MoaW5wdXQuU3RhdGlzdGljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuU3RhdGlzdGljcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFN0YXRpc3RpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4dGVuZGVkU3RhdGlzdGljcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FeHRlbmRlZFN0YXRpc3RpY3MoaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4dGVuZGVkU3RhdGlzdGljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkV4dGVuZGVkU3RhdGlzdGljcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4dGVuZGVkU3RhdGlzdGljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0TWV0cmljU3RyZWFtSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldE1ldHJpY1dpZGdldEltYWdlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY1dpZGdldCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNXaWRnZXRcIl0gPSBpbnB1dC5NZXRyaWNXaWRnZXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PdXRwdXRGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3V0cHV0Rm9ybWF0XCJdID0gaW5wdXQuT3V0cHV0Rm9ybWF0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9JbnNpZ2h0UnVsZU1ldHJpY0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfSW5zaWdodFJ1bGVOYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MYWJlbE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRpbWV6b25lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRpbWV6b25lXCJdID0gaW5wdXQuVGltZXpvbmU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3REYXNoYm9hcmRzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRhc2hib2FyZE5hbWVQcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGFzaGJvYXJkTmFtZVByZWZpeFwiXSA9IGlucHV0LkRhc2hib2FyZE5hbWVQcmVmaXg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heFJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4UmVzdWx0c1wiXSA9IGlucHV0Lk1heFJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RNZXRyaWNzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25GaWx0ZXJzKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVjZW50bHlBY3RpdmUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVjZW50bHlBY3RpdmVcIl0gPSBpbnB1dC5SZWNlbnRseUFjdGl2ZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJbmNsdWRlTGlua2VkQWNjb3VudHNcIl0gPSBpbnB1dC5JbmNsdWRlTGlua2VkQWNjb3VudHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Pd25pbmdBY2NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk93bmluZ0FjY291bnRcIl0gPSBpbnB1dC5Pd25pbmdBY2NvdW50O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0TWV0cmljU3RyZWFtc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdFRhZ3NGb3JSZXNvdXJjZUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NYW5hZ2VkUnVsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlc291cmNlQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlc291cmNlQVJOXCJdID0gaW5wdXQuUmVzb3VyY2VBUk47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWFuYWdlZFJ1bGVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01hbmFnZWRSdWxlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY0RhdGEgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljRGF0dW0oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY0RhdGFRdWVyaWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY0RhdGFRdWVyeShlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljRGF0YVF1ZXJ5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZFwiXSA9IGlucHV0LklkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljU3RhdCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdGF0KGlucHV0Lk1ldHJpY1N0YXQsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNTdGF0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHByZXNzaW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV4cHJlc3Npb25cIl0gPSBpbnB1dC5FeHByZXNzaW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFiZWwgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTGFiZWxcIl0gPSBpbnB1dC5MYWJlbDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVybkRhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuRGF0YVwiXSA9IGlucHV0LlJldHVybkRhdGE7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QZXJpb2QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGVyaW9kXCJdID0gaW5wdXQuUGVyaW9kO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWNjb3VudElkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjY291bnRJZFwiXSA9IGlucHV0LkFjY291bnRJZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljRGF0dW0gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUaW1lc3RhbXBcIl0gPSBpbnB1dC5UaW1lc3RhbXAudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5WYWx1ZSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWNWYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU3RhdGlzdGljU2V0KGlucHV0LlN0YXRpc3RpY1ZhbHVlcywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFN0YXRpc3RpY1ZhbHVlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1ZhbHVlcyhpbnB1dC5WYWx1ZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVmFsdWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVmFsdWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVmFsdWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db3VudHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ291bnRzKGlucHV0LkNvdW50cywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Db3VudHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Db3VudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDb3VudHMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlVuaXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVW5pdFwiXSA9IGlucHV0LlVuaXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdG9yYWdlUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdG9yYWdlUmVzb2x1dGlvblwiXSA9IGlucHV0LlN0b3JhZ2VSZXNvbHV0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNEYXRhUXVlcmllcyhpbnB1dC5NZXRyaWNEYXRhUXVlcmllcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NZXRyaWNEYXRhUXVlcmllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY0RhdGFRdWVyaWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljRGF0YVF1ZXJpZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RhdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTWV0cmljICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpYyhpbnB1dC5NZXRyaWMsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQZXJpb2RcIl0gPSBpbnB1dC5QZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRcIl0gPSBpbnB1dC5TdGF0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtRmlsdGVyTWV0cmljTmFtZXMoaW5wdXQuTWV0cmljTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWV0cmljTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NZXRyaWNOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1ldHJpY05hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbUZpbHRlck1ldHJpY05hbWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbUZpbHRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1OYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQWRkaXRpb25hbFN0YXRpc3RpY3MgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkluY2x1ZGVNZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NJbmNsdWRlTWV0cmljcyhpbnB1dC5JbmNsdWRlTWV0cmljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5JbmNsdWRlTWV0cmljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkluY2x1ZGVNZXRyaWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSW5jbHVkZU1ldHJpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFkZGl0aW9uYWxTdGF0aXN0aWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NBZGRpdGlvbmFsU3RhdGlzdGljcyhpbnB1dC5BZGRpdGlvbmFsU3RhdGlzdGljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BZGRpdGlvbmFsU3RhdGlzdGljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFkZGl0aW9uYWxTdGF0aXN0aWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWRkaXRpb25hbFN0YXRpc3RpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzSW5jbHVkZU1ldHJpY3MgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc01ldHJpYyhlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc01ldHJpYyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dEFub21hbHlEZXRlY3RvcklucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0XCJdID0gaW5wdXQuU3RhdDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQW5vbWFseURldGVjdG9yQ29uZmlndXJhdGlvbihpbnB1dC5Db25maWd1cmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ29uZmlndXJhdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1NpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvcihpbnB1dC5TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljTWF0aEFub21hbHlEZXRlY3RvcihpbnB1dC5NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljTWF0aEFub21hbHlEZXRlY3Rvci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRDb21wb3NpdGVBbGFybUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BY3Rpb25zRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zRW5hYmxlZFwiXSA9IGlucHV0LkFjdGlvbnNFbmFibGVkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1BY3Rpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1Jlc291cmNlTGlzdChpbnB1dC5BbGFybUFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1BY3Rpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1BY3Rpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1BY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtRGVzY3JpcHRpb25cIl0gPSBpbnB1dC5BbGFybURlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtTmFtZVwiXSA9IGlucHV0LkFsYXJtTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFsYXJtUnVsZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybVJ1bGVcIl0gPSBpbnB1dC5BbGFybVJ1bGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEluc3VmZmljaWVudERhdGFBY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PS0FjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0Lk9LQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5PS0FjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5PS0FjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBPS0FjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWN0aW9uc1N1cHByZXNzb3IgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uc1N1cHByZXNzb3JcIl0gPSBpbnB1dC5BY3Rpb25zU3VwcHJlc3NvcjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zU3VwcHJlc3NvcldhaXRQZXJpb2RcIl0gPSBpbnB1dC5BY3Rpb25zU3VwcHJlc3NvcldhaXRQZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZFwiXSA9IGlucHV0LkFjdGlvbnNTdXBwcmVzc29yRXh0ZW5zaW9uUGVyaW9kO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXREYXNoYm9hcmRJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXNoYm9hcmROYW1lXCJdID0gaW5wdXQuRGFzaGJvYXJkTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRhc2hib2FyZEJvZHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGFzaGJvYXJkQm9keVwiXSA9IGlucHV0LkRhc2hib2FyZEJvZHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dEluc2lnaHRSdWxlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVOYW1lXCJdID0gaW5wdXQuUnVsZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlU3RhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVN0YXRlXCJdID0gaW5wdXQuUnVsZVN0YXRlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUnVsZURlZmluaXRpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZURlZmluaXRpb25cIl0gPSBpbnB1dC5SdWxlRGVmaW5pdGlvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1hbmFnZWRSdWxlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NYW5hZ2VkUnVsZXMoaW5wdXQuTWFuYWdlZFJ1bGVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1hbmFnZWRSdWxlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1hbmFnZWRSdWxlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1hbmFnZWRSdWxlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRNZXRyaWNBbGFybUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lXCJdID0gaW5wdXQuQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybURlc2NyaXB0aW9uXCJdID0gaW5wdXQuQWxhcm1EZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnNFbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjdGlvbnNFbmFibGVkXCJdID0gaW5wdXQuQWN0aW9uc0VuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PS0FjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0Lk9LQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5PS0FjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5PS0FjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBPS0FjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFsYXJtQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuQWxhcm1BY3Rpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFsYXJtQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtQWN0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJbnN1ZmZpY2llbnREYXRhQWN0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGlzdGljXCJdID0gaW5wdXQuU3RhdGlzdGljO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXh0ZW5kZWRTdGF0aXN0aWNcIl0gPSBpbnB1dC5FeHRlbmRlZFN0YXRpc3RpYztcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBlcmlvZFwiXSA9IGlucHV0LlBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlVuaXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVW5pdFwiXSA9IGlucHV0LlVuaXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmFsdWF0aW9uUGVyaW9kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFdmFsdWF0aW9uUGVyaW9kc1wiXSA9IGlucHV0LkV2YWx1YXRpb25QZXJpb2RzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGF0YXBvaW50c1RvQWxhcm0gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGF0YXBvaW50c1RvQWxhcm1cIl0gPSBpbnB1dC5EYXRhcG9pbnRzVG9BbGFybTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUaHJlc2hvbGRcIl0gPSBfX3NlcmlhbGl6ZUZsb2F0KGlucHV0LlRocmVzaG9sZCk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db21wYXJpc29uT3BlcmF0b3IgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29tcGFyaXNvbk9wZXJhdG9yXCJdID0gaW5wdXQuQ29tcGFyaXNvbk9wZXJhdG9yO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVHJlYXRNaXNzaW5nRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUcmVhdE1pc3NpbmdEYXRhXCJdID0gaW5wdXQuVHJlYXRNaXNzaW5nRGF0YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlXCJdID0gaW5wdXQuRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY0RhdGFRdWVyaWVzKGlucHV0Lk1ldHJpY3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWV0cmljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRocmVzaG9sZE1ldHJpY0lkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRocmVzaG9sZE1ldHJpY0lkXCJdID0gaW5wdXQuVGhyZXNob2xkTWV0cmljSWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dE1ldHJpY0RhdGFJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY0RhdGEgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljRGF0YShpbnB1dC5NZXRyaWNEYXRhLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1ldHJpY0RhdGE/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NZXRyaWNEYXRhID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljRGF0YS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRNZXRyaWNTdHJlYW1JbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkluY2x1ZGVGaWx0ZXJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbUZpbHRlcnMoaW5wdXQuSW5jbHVkZUZpbHRlcnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSW5jbHVkZUZpbHRlcnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JbmNsdWRlRmlsdGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEluY2x1ZGVGaWx0ZXJzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeGNsdWRlRmlsdGVycyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1GaWx0ZXJzKGlucHV0LkV4Y2x1ZGVGaWx0ZXJzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4Y2x1ZGVGaWx0ZXJzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXhjbHVkZUZpbHRlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBFeGNsdWRlRmlsdGVycy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRmlyZWhvc2VBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRmlyZWhvc2VBcm5cIl0gPSBpbnB1dC5GaXJlaG9zZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJvbGVBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUm9sZUFyblwiXSA9IGlucHV0LlJvbGVBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5PdXRwdXRGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3V0cHV0Rm9ybWF0XCJdID0gaW5wdXQuT3V0cHV0Rm9ybWF0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zKGlucHV0LlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljc1wiXSA9IGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3M7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JhbmdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5TdGFydFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhcnRUaW1lXCJdID0gaW5wdXQuU3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuZFRpbWVcIl0gPSBpbnB1dC5FbmRUaW1lLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1Jlc291cmNlTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRBbGFybVN0YXRlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybU5hbWVcIl0gPSBpbnB1dC5BbGFybU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0ZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRlVmFsdWVcIl0gPSBpbnB1dC5TdGF0ZVZhbHVlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdGVSZWFzb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGVSZWFzb25cIl0gPSBpbnB1dC5TdGF0ZVJlYXNvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRlUmVhc29uRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0ZVJlYXNvbkRhdGFcIl0gPSBpbnB1dC5TdGF0ZVJlYXNvbkRhdGE7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdFwiXSA9IGlucHV0LlN0YXQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1N0YXJ0TWV0cmljU3RyZWFtc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1OYW1lcyhpbnB1dC5OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5OYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU3RhdGlzdGljcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TdGF0aXN0aWNTZXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNhbXBsZUNvdW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNhbXBsZUNvdW50XCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5TYW1wbGVDb3VudCk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdW0gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3VtXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5TdW0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWluaW11bSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNaW5pbXVtXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5NaW5pbXVtKTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heGltdW0gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4aW11bVwiXSA9IF9fc2VyaWFsaXplRmxvYXQoaW5wdXQuTWF4aW11bSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1N0b3BNZXRyaWNTdHJlYW1zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbU5hbWVzKGlucHV0Lk5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UYWcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LktleSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJLZXlcIl0gPSBpbnB1dC5LZXk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5WYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJWYWx1ZVwiXSA9IGlucHV0LlZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UYWdLZXlMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RhZ0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UYWdSZXNvdXJjZUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VudGFnUmVzb3VyY2VJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUmVzb3VyY2VBUk4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVzb3VyY2VBUk5cIl0gPSBpbnB1dC5SZXNvdXJjZUFSTjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ0tleXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnS2V5TGlzdChpbnB1dC5UYWdLZXlzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ0tleXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdLZXlzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFnS2V5cy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3QgZGVfQWxhcm1IaXN0b3J5SXRlbSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBbGFybU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1UeXBlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1UeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhpc3RvcnlJdGVtVHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhpc3RvcnlJdGVtVHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkhpc3RvcnlJdGVtVHlwZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIaXN0b3J5U3VtbWFyeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhpc3RvcnlTdW1tYXJ5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGlzdG9yeVN1bW1hcnlcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSGlzdG9yeURhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IaXN0b3J5RGF0YSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkhpc3RvcnlEYXRhXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0FsYXJtSGlzdG9yeUl0ZW1zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9BbGFybUhpc3RvcnlJdGVtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZXNwYWNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZXNwYWNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZXNwYWNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWV0cmljTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGltZW5zaW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRpbWVuc2lvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IGRlX0RpbWVuc2lvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb24gPSBkZV9Bbm9tYWx5RGV0ZWN0b3JDb25maWd1cmF0aW9uKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciA9IGRlX1NpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvcihvdXRwdXRbXCJTaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3JcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWV0cmljTWF0aEFub21hbHlEZXRlY3RvclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IgPSBkZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yKG91dHB1dFtcIk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3JcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQW5vbWFseURldGVjdG9yQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRXhjbHVkZWRUaW1lUmFuZ2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4Y2x1ZGVkVGltZVJhbmdlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFeGNsdWRlZFRpbWVSYW5nZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFeGNsdWRlZFRpbWVSYW5nZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FeGNsdWRlZFRpbWVSYW5nZXMgPSBkZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJFeGNsdWRlZFRpbWVSYW5nZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY1RpbWV6b25lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljVGltZXpvbmUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXRyaWNUaW1lem9uZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1JhbmdlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3JzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Bbm9tYWx5RGV0ZWN0b3IoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JhdGNoRmFpbHVyZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1BhcnRpYWxGYWlsdXJlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21wb3NpdGVBbGFybSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBY3Rpb25zRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiQWN0aW9uc0VuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkFsYXJtQWN0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BbGFybUFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1BY3Rpb25zID0gZGVfUmVzb3VyY2VMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1Bcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1EZXNjcmlwdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtRGVzY3JpcHRpb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybURlc2NyaXB0aW9uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybVJ1bGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybVJ1bGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybVJ1bGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuT0tBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk9LQWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJPS0FjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PS0FjdGlvbnMgPSBkZV9SZXNvdXJjZUxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlUmVhc29uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVSZWFzb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVJlYXNvblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVJlYXNvbkRhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVJlYXNvbkRhdGEgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVJlYXNvbkRhdGFcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVVcGRhdGVkVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlN0YXRlVXBkYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlVHJhbnNpdGlvbmVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc2VkQnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zU3VwcHJlc3NlZEJ5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzZWRCeVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NlZFJlYXNvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc2VkUmVhc29uID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzZWRSZWFzb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzb3JcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zU3VwcHJlc3NvciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc29yXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZCA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NvcldhaXRQZXJpb2RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzb3JFeHRlbnNpb25QZXJpb2RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZCA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Db21wb3NpdGVBbGFybXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0NvbXBvc2l0ZUFsYXJtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRFbnRyaWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXNoYm9hcmRFbnRyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkRW50cnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRGFzaGJvYXJkTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEYXNoYm9hcmROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZEFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0TW9kaWZpZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYXN0TW9kaWZpZWQgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiTGFzdE1vZGlmaWVkXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTaXplXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2l6ZSA9IF9fc3RyaWN0UGFyc2VMb25nKG91dHB1dFtcIlNpemVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5kYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcImRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcImRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9IGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcImRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRGF0YVBhdGhcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EYXRhUGF0aCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhdGFQYXRoXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhcG9pbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU2FtcGxlQ291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TYW1wbGVDb3VudCA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJTYW1wbGVDb3VudFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBdmVyYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXZlcmFnZSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJBdmVyYWdlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1bVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJTdW1cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWluaW11bVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1pbmltdW0gPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWluaW11bVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNYXhpbXVtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF4aW11bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNYXhpbXVtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlVuaXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Vbml0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVW5pdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRXh0ZW5kZWRTdGF0aXN0aWNzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4dGVuZGVkU3RhdGlzdGljcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY3NcIl1bXCJlbnRyeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4dGVuZGVkU3RhdGlzdGljcyA9IGRlX0RhdGFwb2ludFZhbHVlTWFwKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRXh0ZW5kZWRTdGF0aXN0aWNzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RhdGFwb2ludHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RhdGFwb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YXBvaW50VmFsdWVNYXAgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIG91dHB1dC5yZWR1Y2UoKGFjYywgcGFpcikgPT4ge1xuICAgICAgICBpZiAocGFpcltcInZhbHVlXCJdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1twYWlyW1wia2V5XCJdXSA9IF9fc3RyaWN0UGFyc2VGbG9hdChwYWlyW1widmFsdWVcIl0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9EYXRhcG9pbnRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc3RyaWN0UGFyc2VGbG9hdChlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVsZXRlQW5vbWFseURldGVjdG9yT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhc2hib2FyZHNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5GYWlsdXJlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJGYWlsdXJlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBkZV9CYXRjaEZhaWx1cmVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZU1ldHJpY1N0cmVhbU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFsYXJtSGlzdG9yeU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuQWxhcm1IaXN0b3J5SXRlbXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1IaXN0b3J5SXRlbXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQWxhcm1IaXN0b3J5SXRlbXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJBbGFybUhpc3RvcnlJdGVtc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtSGlzdG9yeUl0ZW1zID0gZGVfQWxhcm1IaXN0b3J5SXRlbXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJBbGFybUhpc3RvcnlJdGVtc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NZXRyaWNBbGFybXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljQWxhcm1zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0FsYXJtcyA9IGRlX01ldHJpY0FsYXJtcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbGFybXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkNvbXBvc2l0ZUFsYXJtcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Db21wb3NpdGVBbGFybXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQ29tcG9zaXRlQWxhcm1zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQ29tcG9zaXRlQWxhcm1zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29tcG9zaXRlQWxhcm1zID0gZGVfQ29tcG9zaXRlQWxhcm1zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQ29tcG9zaXRlQWxhcm1zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWV0cmljQWxhcm1zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0FsYXJtcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNBbGFybXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNBbGFybXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNBbGFybXMgPSBkZV9NZXRyaWNBbGFybXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNBbGFybXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkFub21hbHlEZXRlY3RvcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQW5vbWFseURldGVjdG9ycyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJBbm9tYWx5RGV0ZWN0b3JzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQW5vbWFseURldGVjdG9yc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFub21hbHlEZXRlY3RvcnMgPSBkZV9Bbm9tYWx5RGV0ZWN0b3JzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQW5vbWFseURldGVjdG9yc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuSW5zaWdodFJ1bGVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc2lnaHRSdWxlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJJbnNpZ2h0UnVsZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJbnNpZ2h0UnVsZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnNpZ2h0UnVsZXMgPSBkZV9JbnNpZ2h0UnVsZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJJbnNpZ2h0UnVsZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RpbWVuc2lvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RpbWVuc2lvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RpbWVuc2lvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGlzYWJsZUluc2lnaHRSdWxlc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmFpbHVyZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRmFpbHVyZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gZGVfQmF0Y2hGYWlsdXJlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9FbmFibGVJbnNpZ2h0UnVsZXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkZhaWx1cmVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkZhaWx1cmVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IGRlX0JhdGNoRmFpbHVyZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0RGFzaGJvYXJkT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZEFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZEFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEYXNoYm9hcmRCb2R5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkQm9keSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZEJvZHlcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGFzaGJvYXJkTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEYXNoYm9hcmROYW1lXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldEluc2lnaHRSdWxlUmVwb3J0T3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5LZXlMYWJlbHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuS2V5TGFiZWxzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIktleUxhYmVsc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIktleUxhYmVsc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLktleUxhYmVscyA9IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JLZXlMYWJlbHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJLZXlMYWJlbHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFnZ3JlZ2F0aW9uU3RhdGlzdGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWdncmVnYXRpb25TdGF0aXN0aWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBZ2dyZWdhdGlvblN0YXRpc3RpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBZ2dyZWdhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFnZ3JlZ2F0ZVZhbHVlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkFnZ3JlZ2F0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFwcHJveGltYXRlVW5pcXVlQ291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BcHByb3hpbWF0ZVVuaXF1ZUNvdW50ID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiQXBwcm94aW1hdGVVbmlxdWVDb3VudFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuQ29udHJpYnV0b3JzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbnRyaWJ1dG9ycyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJDb250cmlidXRvcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJDb250cmlidXRvcnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db250cmlidXRvcnMgPSBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9ycyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkNvbnRyaWJ1dG9yc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1ldHJpY0RhdGFwb2ludHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YXBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNEYXRhcG9pbnRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljRGF0YXBvaW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0RhdGFwb2ludHMgPSBkZV9JbnNpZ2h0UnVsZU1ldHJpY0RhdGFwb2ludHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNEYXRhT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NZXRyaWNEYXRhUmVzdWx0cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNEYXRhUmVzdWx0cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNEYXRhUmVzdWx0c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1ldHJpY0RhdGFSZXN1bHRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YVJlc3VsdHMgPSBkZV9NZXRyaWNEYXRhUmVzdWx0cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0RhdGFSZXN1bHRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1lc3NhZ2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1lc3NhZ2VzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWVzc2FnZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlcyA9IGRlX01ldHJpY0RhdGFSZXN1bHRNZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkxhYmVsXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTGFiZWwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJMYWJlbFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGF0YXBvaW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EYXRhcG9pbnRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRhdGFwb2ludHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGF0YXBvaW50cyA9IGRlX0RhdGFwb2ludHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdHJlYW1PdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuSW5jbHVkZUZpbHRlcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZUZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSW5jbHVkZUZpbHRlcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJbmNsdWRlRmlsdGVyc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluY2x1ZGVGaWx0ZXJzID0gZGVfTWV0cmljU3RyZWFtRmlsdGVycyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluY2x1ZGVGaWx0ZXJzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRXhjbHVkZUZpbHRlcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRXhjbHVkZUZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRXhjbHVkZUZpbHRlcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFeGNsdWRlRmlsdGVyc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4Y2x1ZGVGaWx0ZXJzID0gZGVfTWV0cmljU3RyZWFtRmlsdGVycyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkV4Y2x1ZGVGaWx0ZXJzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGaXJlaG9zZUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZpcmVob3NlQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmlyZWhvc2VBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUm9sZUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJvbGVBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJSb2xlQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDcmVhdGlvbkRhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVhdGlvbkRhdGUgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQ3JlYXRpb25EYXRlXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0VXBkYXRlRGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhc3RVcGRhdGVEYXRlID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkxhc3RVcGRhdGVEYXRlXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJPdXRwdXRGb3JtYXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PdXRwdXRGb3JtYXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJPdXRwdXRGb3JtYXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID0gZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJJbmNsdWRlTGlua2VkQWNjb3VudHNNZXRyaWNzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljcyA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3NcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljV2lkZ2V0SW1hZ2VPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWV0cmljV2lkZ2V0SW1hZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNXaWRnZXRJbWFnZSA9IGNvbnRleHQuYmFzZTY0RGVjb2RlcihvdXRwdXRbXCJNZXRyaWNXaWRnZXRJbWFnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNjaGVtYVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNjaGVtYSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNjaGVtYVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWZpbml0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGVmaW5pdGlvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRlZmluaXRpb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWFuYWdlZFJ1bGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYW5hZ2VkUnVsZSA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIk1hbmFnZWRSdWxlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LktleXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuS2V5cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJLZXlzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiS2V5c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLktleXMgPSBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yS2V5cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIktleXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFwcHJveGltYXRlQWdncmVnYXRlVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BcHByb3hpbWF0ZUFnZ3JlZ2F0ZVZhbHVlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkFwcHJveGltYXRlQWdncmVnYXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRhdGFwb2ludHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGF0YXBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEYXRhcG9pbnRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGF0YXBvaW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhdGFwb2ludHMgPSBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yRGF0YXBvaW50cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRhdGFwb2ludHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JEYXRhcG9pbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXBwcm94aW1hdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFwcHJveGltYXRlVmFsdWUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiQXBwcm94aW1hdGVWYWx1ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yRGF0YXBvaW50cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfSW5zaWdodFJ1bGVDb250cmlidXRvckRhdGFwb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcktleUxhYmVscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JLZXlzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3IoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlTWV0cmljRGF0YXBvaW50ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlVuaXF1ZUNvbnRyaWJ1dG9yc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVuaXF1ZUNvbnRyaWJ1dG9ycyA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJVbmlxdWVDb250cmlidXRvcnNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWF4Q29udHJpYnV0b3JWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heENvbnRyaWJ1dG9yVmFsdWUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWF4Q29udHJpYnV0b3JWYWx1ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTYW1wbGVDb3VudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNhbXBsZUNvdW50ID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlNhbXBsZUNvdW50XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkF2ZXJhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BdmVyYWdlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkF2ZXJhZ2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3VtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3VtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlN1bVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNaW5pbXVtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWluaW11bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNaW5pbXVtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1heGltdW1cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYXhpbXVtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIk1heGltdW1cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVNZXRyaWNEYXRhcG9pbnRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbnNpZ2h0UnVsZU1ldHJpY0RhdGFwb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbnNpZ2h0UnVsZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRGb3JtYXRGYXVsdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZE5leHRUb2tlbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRGYXVsdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZHNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkRhc2hib2FyZEVudHJpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkRW50cmllcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEYXNoYm9hcmRFbnRyaWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGFzaGJvYXJkRW50cmllc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZEVudHJpZXMgPSBkZV9EYXNoYm9hcmRFbnRyaWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGFzaGJvYXJkRW50cmllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NYW5hZ2VkUnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWFuYWdlZFJ1bGVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1hbmFnZWRSdWxlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1hbmFnZWRSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1hbmFnZWRSdWxlcyA9IGRlX01hbmFnZWRSdWxlRGVzY3JpcHRpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWFuYWdlZFJ1bGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdE1ldHJpY3NPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1ldHJpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY3MgPSBkZV9NZXRyaWNzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Pd25pbmdBY2NvdW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Pd25pbmdBY2NvdW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJPd25pbmdBY2NvdW50c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk93bmluZ0FjY291bnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT3duaW5nQWNjb3VudHMgPSBkZV9Pd25pbmdBY2NvdW50cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk93bmluZ0FjY291bnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0TWV0cmljU3RyZWFtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkVudHJpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRW50cmllcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFbnRyaWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRW50cmllc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkVudHJpZXMgPSBkZV9NZXRyaWNTdHJlYW1FbnRyaWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRW50cmllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuVGFncyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5UYWdzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlRhZ3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJUYWdzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGFncyA9IGRlX1RhZ0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJUYWdzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NYW5hZ2VkUnVsZURlc2NyaXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJSZXNvdXJjZUFSTlwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlc291cmNlQVJOID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVzb3VyY2VBUk5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUnVsZVN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZVN0YXRlID0gZGVfTWFuYWdlZFJ1bGVTdGF0ZShvdXRwdXRbXCJSdWxlU3RhdGVcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWFuYWdlZFJ1bGVEZXNjcmlwdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01hbmFnZWRSdWxlRGVzY3JpcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01hbmFnZWRSdWxlU3RhdGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUnVsZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SdWxlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlJ1bGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXNzYWdlRGF0YSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpYyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lc3BhY2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lc3BhY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lc3BhY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWV0cmljTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY05hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXRyaWNOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5EaW1lbnNpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGltZW5zaW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRpbWVuc2lvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gZGVfRGltZW5zaW9ucyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRpbWVuc2lvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY0FsYXJtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1Bcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1EZXNjcmlwdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtRGVzY3JpcHRpb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybURlc2NyaXB0aW9uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybUNvbmZpZ3VyYXRpb25VcGRhdGVkVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9uc0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJBY3Rpb25zRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuT0tBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk9LQWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJPS0FjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PS0FjdGlvbnMgPSBkZV9SZXNvdXJjZUxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJPS0FjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5BbGFybUFjdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1BY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkFsYXJtQWN0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkFsYXJtQWN0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkFsYXJtQWN0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluc3VmZmljaWVudERhdGFBY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVWYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVSZWFzb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVJlYXNvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlUmVhc29uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlUmVhc29uRGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlUmVhc29uRGF0YSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlUmVhc29uRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVVwZGF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZXNwYWNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZXNwYWNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZXNwYWNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRpc3RpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRpc3RpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRpc3RpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4dGVuZGVkU3RhdGlzdGljID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXh0ZW5kZWRTdGF0aXN0aWNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRpbWVuc2lvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEaW1lbnNpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBkZV9EaW1lbnNpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGVyaW9kXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGVyaW9kID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBlcmlvZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJVbml0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVW5pdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlVuaXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZhbHVhdGlvblBlcmlvZHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmFsdWF0aW9uUGVyaW9kcyA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJFdmFsdWF0aW9uUGVyaW9kc1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEYXRhcG9pbnRzVG9BbGFybVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhdGFwb2ludHNUb0FsYXJtID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIkRhdGFwb2ludHNUb0FsYXJtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRocmVzaG9sZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRocmVzaG9sZCA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJUaHJlc2hvbGRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ29tcGFyaXNvbk9wZXJhdG9yXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29tcGFyaXNvbk9wZXJhdG9yID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29tcGFyaXNvbk9wZXJhdG9yXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRyZWF0TWlzc2luZ0RhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UcmVhdE1pc3NpbmdEYXRhID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVHJlYXRNaXNzaW5nRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmFsdWF0ZUxvd1NhbXBsZUNvdW50UGVyY2VudGlsZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1ldHJpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY3MgPSBkZV9NZXRyaWNEYXRhUXVlcmllcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY3NcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRocmVzaG9sZE1ldHJpY0lkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGhyZXNob2xkTWV0cmljSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUaHJlc2hvbGRNZXRyaWNJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmFsdWF0aW9uU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmFsdWF0aW9uU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmFsdWF0aW9uU3RhdGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJTdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljQWxhcm1zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNBbGFybShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljRGF0YVF1ZXJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY0RhdGFRdWVyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljRGF0YVF1ZXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIklkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljU3RhdCA9IGRlX01ldHJpY1N0YXQob3V0cHV0W1wiTWV0cmljU3RhdFwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFeHByZXNzaW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXhwcmVzc2lvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV4cHJlc3Npb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTGFiZWxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYWJlbCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkxhYmVsXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJldHVybkRhdGFcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZXR1cm5EYXRhID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiUmV0dXJuRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQZXJpb2RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QZXJpb2QgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGVyaW9kXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjY291bnRJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjY291bnRJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY291bnRJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUmVzdWx0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIklkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYWJlbFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhYmVsID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTGFiZWxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlRpbWVzdGFtcHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJUaW1lc3RhbXBzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiVGltZXN0YW1wc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcHMgPSBkZV9UaW1lc3RhbXBzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVGltZXN0YW1wc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlZhbHVlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5WYWx1ZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiVmFsdWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiVmFsdWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmFsdWVzID0gZGVfRGF0YXBvaW50VmFsdWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVmFsdWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0dXNDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdHVzQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXR1c0NvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1lc3NhZ2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1lc3NhZ2VzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWVzc2FnZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlcyA9IGRlX01ldHJpY0RhdGFSZXN1bHRNZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUmVzdWx0TWVzc2FnZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lc3NhZ2VEYXRhKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUmVzdWx0cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljRGF0YVJlc3VsdChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuTWV0cmljRGF0YVF1ZXJpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YVF1ZXJpZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWV0cmljRGF0YVF1ZXJpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNEYXRhUXVlcmllc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0RhdGFRdWVyaWVzID0gZGVfTWV0cmljRGF0YVF1ZXJpZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNEYXRhUXVlcmllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdGF0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpYyA9IGRlX01ldHJpYyhvdXRwdXRbXCJNZXRyaWNcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGVyaW9kXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGVyaW9kID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBlcmlvZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVW5pdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVuaXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJVbml0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUVudHJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY1N0cmVhbUVudHJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1FbnRyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ3JlYXRpb25EYXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlYXRpb25EYXRlID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkNyZWF0aW9uRGF0ZVwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTGFzdFVwZGF0ZURhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYXN0VXBkYXRlRGF0ZSA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJMYXN0VXBkYXRlRGF0ZVwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZpcmVob3NlQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmlyZWhvc2VBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGaXJlaG9zZUFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiT3V0cHV0Rm9ybWF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT3V0cHV0Rm9ybWF0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiT3V0cHV0Rm9ybWF0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lc3BhY2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lc3BhY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lc3BhY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1ldHJpY05hbWVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY05hbWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljTmFtZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lcyA9IGRlX01ldHJpY1N0cmVhbUZpbHRlck1ldHJpY05hbWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljTmFtZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUZpbHRlck1ldHJpY05hbWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtRmlsdGVycyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljU3RyZWFtRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQWRkaXRpb25hbFN0YXRpc3RpY3MgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuSW5jbHVkZU1ldHJpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZU1ldHJpY3MgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSW5jbHVkZU1ldHJpY3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJbmNsdWRlTWV0cmljc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluY2x1ZGVNZXRyaWNzID0gZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0luY2x1ZGVNZXRyaWNzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiSW5jbHVkZU1ldHJpY3NcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5BZGRpdGlvbmFsU3RhdGlzdGljcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BZGRpdGlvbmFsU3RhdGlzdGljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJBZGRpdGlvbmFsU3RhdGlzdGljc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkFkZGl0aW9uYWxTdGF0aXN0aWNzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWRkaXRpb25hbFN0YXRpc3RpY3MgPSBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQWRkaXRpb25hbFN0YXRpc3RpY3MoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJBZGRpdGlvbmFsU3RhdGlzdGljc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtU3RhdGlzdGljc0luY2x1ZGVNZXRyaWNzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzTWV0cmljKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzTWV0cmljID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVzcGFjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVzcGFjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVzcGFjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Pd25pbmdBY2NvdW50cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BhcnRpYWxGYWlsdXJlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkZhaWx1cmVSZXNvdXJjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVSZXNvdXJjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZhaWx1cmVSZXNvdXJjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFeGNlcHRpb25UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXhjZXB0aW9uVHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV4Y2VwdGlvblR5cGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZUNvZGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZhaWx1cmVDb2RlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZhaWx1cmVEZXNjcmlwdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVEZXNjcmlwdGlvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZhaWx1cmVEZXNjcmlwdGlvblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0RGFzaGJvYXJkT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5EYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9IGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0SW5zaWdodFJ1bGVPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0TWFuYWdlZEluc2lnaHRSdWxlc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmFpbHVyZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRmFpbHVyZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gZGVfQmF0Y2hGYWlsdXJlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRNZXRyaWNTdHJlYW1PdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlN0YXJ0VGltZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXJ0VGltZSA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJTdGFydFRpbWVcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkVuZFRpbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmRUaW1lID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkVuZFRpbWVcIl0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUmVzb3VyY2VUeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUmVzb3VyY2VUeXBlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVzb3VyY2VUeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlc291cmNlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZXNvdXJjZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVzb3VyY2VJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVzcGFjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVzcGFjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVzcGFjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRpbWVuc2lvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEaW1lbnNpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBkZV9EaW1lbnNpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0YXJ0TWV0cmljU3RyZWFtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdG9wTWV0cmljU3RyZWFtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UYWcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiS2V5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuS2V5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiS2V5XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJWYWx1ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UYWdMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UYWcoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhZ1Jlc291cmNlT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RpbWVzdGFtcHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChlbnRyeSkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1VudGFnUmVzb3VyY2VPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gYXN5bmMgKGNvbnRleHQsIGhlYWRlcnMsIHBhdGgsIHJlc29sdmVkSG9zdG5hbWUsIGJvZHkpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBjb250ZW50cyA9IHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBwYXRoOiBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgKyBwYXRoIDogYmFzZVBhdGggKyBwYXRoLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH07XG4gICAgaWYgKHJlc29sdmVkSG9zdG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ob3N0bmFtZSA9IHJlc29sdmVkSG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdChjb250ZW50cyk7XG59O1xuY29uc3QgU0hBUkVEX0hFQURFUlMgPSB7XG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbn07XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVQcmVmaXg6IFwiXCIsXG4gICAgICAgICAgICBodG1sRW50aXRpZXM6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZURlY2xhcmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcGFyc2VUYWdWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICB0cmltVmFsdWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiAoXywgdmFsKSA9PiAodmFsLnRyaW0oKSA9PT0gXCJcIiAmJiB2YWwuaW5jbHVkZXMoXCJcXG5cIikgPyBcIlwiIDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjeERcIiwgXCJcXHJcIik7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjMTBcIiwgXCJcXG5cIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZE9iaiA9IHBhcnNlci5wYXJzZShlbmNvZGVkKTtcbiAgICAgICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwYXJzZWRPYmopWzBdO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmpUb1JldHVybiA9IHBhcnNlZE9ialtrZXldO1xuICAgICAgICBpZiAocGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXSkge1xuICAgICAgICAgICAgcGFyc2VkT2JqVG9SZXR1cm5ba2V5XSA9IHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgcGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19nZXRWYWx1ZUZyb21UZXh0Tm9kZShwYXJzZWRPYmpUb1JldHVybik7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUuRXJyb3IpIHtcbiAgICAgICAgdmFsdWUuRXJyb3IubWVzc2FnZSA9IHZhbHVlLkVycm9yLm1lc3NhZ2UgPz8gdmFsdWUuRXJyb3IuTWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcgPSAoZm9ybUVudHJpZXMpID0+IE9iamVjdC5lbnRyaWVzKGZvcm1FbnRyaWVzKVxuICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAuam9pbihcIiZcIik7XG5jb25zdCBsb2FkUXVlcnlFcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuRXJyb3I/LkNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGF0YS5FcnJvci5Db2RlO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBcIk5vdEZvdW5kXCI7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0U2VyZGVQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgU01JVEhZX0NPTlRFWFRfS0VZLCB9IGZyb20gXCJAc21pdGh5L3R5cGVzXCI7XG5pbXBvcnQgeyBkZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCwgc2VfUHV0TWV0cmljRGF0YUNvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19xdWVyeVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBQdXRNZXRyaWNEYXRhQ29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBQdXRNZXRyaWNEYXRhQ29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY2xpZW50U3RhY2suY29uY2F0KHRoaXMubWlkZGxld2FyZVN0YWNrKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBcIkNsb3VkV2F0Y2hDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIlB1dE1ldHJpY0RhdGFDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIFtTTUlUSFlfQ09OVEVYVF9LRVldOiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogXCJHcmFuaXRlU2VydmljZVZlcnNpb24yMDEwMDgwMVwiLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJQdXRNZXRyaWNEYXRhXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9QdXRNZXRyaWNEYXRhQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0TWV0cmljRGF0YUNvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbG91ZFdhdGNoQ2xpZW50LCBNZXRyaWNEYXR1bSwgUHV0TWV0cmljRGF0YUNvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaCdcblxuZXhwb3J0IGNsYXNzIENsb3VkV2F0Y2hNZXRyaWNDbGllbnQge1xuXHRwcml2YXRlIG1ldHJpY0RhdGE6IE1ldHJpY0RhdHVtW10gPSBbXVxuXHRwcml2YXRlIGNsb3VkV2F0Y2hDbGllbnQgPSBuZXcgQ2xvdWRXYXRjaENsaWVudCh7fSlcblxuXHQvLyBOb3JtYWxseSB3ZSdkIHdvcnJ5IGFib3V0IG1heCBtZXRyaWMgZGF0YSBwZXIgcmVxdWVzdCBidXQgdGhlIG1heCBpcyBjdXJyZW50bHkgMjAgYW5kIHdlIHdvbid0IGJlIHB1Ymxpc2hpbmcgdGhhdCBtYW55IG1ldHJpY3Ncblx0cHVibGljIHF1ZXVlTWV0cmljKG1ldHJpY0RhdHVtOiBNZXRyaWNEYXR1bSkge1xuXHRcdHRoaXMubWV0cmljRGF0YS5wdXNoKG1ldHJpY0RhdHVtKVxuXHR9XG5cblx0cHVibGljIGFzeW5jIGVtaXRRdWV1ZWRNZXRyaWNzKCkge1xuXHRcdGNvbnN0IHB1dE1ldHJpY0RhdGFDb21tYW5kID0gbmV3IFB1dE1ldHJpY0RhdGFDb21tYW5kKHtcblx0XHRcdE5hbWVzcGFjZTogcHJvY2Vzcy5lbnYuQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FLFxuXHRcdFx0TWV0cmljRGF0YTogdGhpcy5tZXRyaWNEYXRhLFxuXHRcdH0pXG5cblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRjb25zb2xlLmRlYnVnKGBFbWl0dGluZyBtZXRyaWNzOlxcbiR7SlNPTi5zdHJpbmdpZnkocHV0TWV0cmljRGF0YUNvbW1hbmQuaW5wdXQsIG51bGwsIDIpfWApXG5cblx0XHRhd2FpdCB0aGlzLmNsb3VkV2F0Y2hDbGllbnQuc2VuZChwdXRNZXRyaWNEYXRhQ29tbWFuZClcblxuXHRcdHRoaXMubWV0cmljRGF0YSA9IFtdXG5cdH1cbn0iLCJleHBvcnQgY29uc3QgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyA9IChvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG9wdGlvbnMudXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogb3B0aW9ucy51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIGRlZmF1bHRTaWduaW5nTmFtZTogXCJzZXNcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHMgPSBcInJlcXVpcmVkXCIsIHQgPSBcImZuXCIsIHUgPSBcImFyZ3ZcIiwgdiA9IFwicmVmXCI7XG5jb25zdCBhID0gdHJ1ZSwgYiA9IFwiaXNTZXRcIiwgYyA9IFwiYm9vbGVhbkVxdWFsc1wiLCBkID0gXCJlcnJvclwiLCBlID0gXCJlbmRwb2ludFwiLCBmID0gXCJ0cmVlXCIsIGcgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBoID0geyBbc106IGZhbHNlLCBcInR5cGVcIjogXCJTdHJpbmdcIiB9LCBpID0geyBbc106IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgXCJ0eXBlXCI6IFwiQm9vbGVhblwiIH0sIGogPSB7IFt2XTogXCJFbmRwb2ludFwiIH0sIGsgPSB7IFt0XTogYywgW3VdOiBbeyBbdl06IFwiVXNlRklQU1wiIH0sIHRydWVdIH0sIGwgPSB7IFt0XTogYywgW3VdOiBbeyBbdl06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfSwgbSA9IHt9LCBuID0geyBbdF06IFwiZ2V0QXR0clwiLCBbdV06IFt7IFt2XTogZyB9LCBcInN1cHBvcnRzRklQU1wiXSB9LCBvID0geyBbdF06IGMsIFt1XTogW3RydWUsIHsgW3RdOiBcImdldEF0dHJcIiwgW3VdOiBbeyBbdl06IGcgfSwgXCJzdXBwb3J0c0R1YWxTdGFja1wiXSB9XSB9LCBwID0gW2tdLCBxID0gW2xdLCByID0gW3sgW3ZdOiBcIlJlZ2lvblwiIH1dO1xuY29uc3QgX2RhdGEgPSB7IHZlcnNpb246IFwiMS4wXCIsIHBhcmFtZXRlcnM6IHsgUmVnaW9uOiBoLCBVc2VEdWFsU3RhY2s6IGksIFVzZUZJUFM6IGksIEVuZHBvaW50OiBoIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IGIsIFt1XTogW2pdIH1dLCBydWxlczogW3sgY29uZGl0aW9uczogcCwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogZCB9LCB7IGNvbmRpdGlvbnM6IHEsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRHVhbHN0YWNrIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogZCB9LCB7IGVuZHBvaW50OiB7IHVybDogaiwgcHJvcGVydGllczogbSwgaGVhZGVyczogbSB9LCB0eXBlOiBlIH1dLCB0eXBlOiBmIH0sIHsgY29uZGl0aW9uczogW3sgW3RdOiBiLCBbdV06IHIgfV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IFwiYXdzLnBhcnRpdGlvblwiLCBbdV06IHIsIGFzc2lnbjogZyB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrLCBsXSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFt0XTogYywgW3VdOiBbYSwgbl0gfSwgb10sIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9lbWFpbC1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBtLCBoZWFkZXJzOiBtIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiBwLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBjLCBbdV06IFtuLCBhXSB9XSwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2VtYWlsLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG0sIGhlYWRlcnM6IG0gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiBxLCBydWxlczogW3sgY29uZGl0aW9uczogW29dLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vZW1haWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG0sIGhlYWRlcnM6IG0gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkR1YWxTdGFjayBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IER1YWxTdGFja1wiLCB0eXBlOiBkIH1dLCB0eXBlOiBmIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vZW1haWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG0sIGhlYWRlcnM6IG0gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgdHlwZTogZCB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAc21pdGh5L3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBydWxlU2V0IH0gZnJvbSBcIi4vcnVsZXNldFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVzb2x2ZUVuZHBvaW50KHJ1bGVTZXQsIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXM6IGVuZHBvaW50UGFyYW1zLFxuICAgICAgICBsb2dnZXI6IGNvbnRleHQubG9nZ2VyLFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IGdldEhvc3RIZWFkZXJQbHVnaW4sIHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWhvc3QtaGVhZGVyXCI7XG5pbXBvcnQgeyBnZXRMb2dnZXJQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXJcIjtcbmltcG9ydCB7IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJlY3Vyc2lvbi1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGdldEF3c0F1dGhQbHVnaW4sIHJlc29sdmVBd3NBdXRoQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmdcIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlUmVnaW9uQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0UmV0cnlQbHVnaW4sIHJlc29sdmVSZXRyeUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzLCB9IGZyb20gXCIuL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBfX2dldFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnXCI7XG5pbXBvcnQgeyByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMgfSBmcm9tIFwiLi9ydW50aW1lRXh0ZW5zaW9uc1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBTRVNDbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoLi4uW2NvbmZpZ3VyYXRpb25dKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uIHx8IHt9KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZUF3c0F1dGhDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ183ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzYpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzggPSByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMoX2NvbmZpZ183LCBjb25maWd1cmF0aW9uPy5leHRlbnNpb25zIHx8IFtdKTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ184KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzg7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEF3c0F1dGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3RzXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIGFzIGF3c0NoZWNrVmVyc2lvbiB9IGZyb20gXCJAYXdzLXNkay9jb3JlXCI7XG5pbXBvcnQgeyBkZWZhdWx0UHJvdmlkZXIgYXMgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGVcIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBzbWl0aHkvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBzbWl0aHkvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAc21pdGh5L3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICBhd3NDaGVja1ZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogY29uZmlnPy5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyID8/IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlcihjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKSxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBzbWl0aHkvdXJsLXBhcnNlclwiO1xuaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyXCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcGlWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICAgICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICAgICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICAgICAgZXh0ZW5zaW9uczogY29uZmlnPy5leHRlbnNpb25zID8/IFtdLFxuICAgICAgICBsb2dnZXI6IGNvbmZpZz8ubG9nZ2VyID8/IG5ldyBOb09wTG9nZ2VyKCksXG4gICAgICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTRVNcIixcbiAgICAgICAgdXJsUGFyc2VyOiBjb25maWc/LnVybFBhcnNlciA/PyBwYXJzZVVybCxcbiAgICAgICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IGdldEF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9yZWdpb24tY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIHJlc29sdmVIdHRwSGFuZGxlclJ1bnRpbWVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZURlZmF1bHRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuY29uc3QgYXNQYXJ0aWFsID0gKHQpID0+IHQ7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zID0gKHJ1bnRpbWVDb25maWcsIGV4dGVuc2lvbnMpID0+IHtcbiAgICBjb25zdCBleHRlbnNpb25Db25maWd1cmF0aW9uID0ge1xuICAgICAgICAuLi5hc1BhcnRpYWwoZ2V0QXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgICAgIC4uLmFzUGFydGlhbChnZXREZWZhdWx0RXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgICAgIC4uLmFzUGFydGlhbChnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24ocnVudGltZUNvbmZpZykpLFxuICAgIH07XG4gICAgZXh0ZW5zaW9ucy5mb3JFYWNoKChleHRlbnNpb24pID0+IGV4dGVuc2lvbi5jb25maWd1cmUoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbikpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJ1bnRpbWVDb25maWcsXG4gICAgICAgIC4uLnJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uKGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAuLi5yZXNvbHZlRGVmYXVsdFJ1bnRpbWVDb25maWcoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgICAgIC4uLnJlc29sdmVIdHRwSGFuZGxlclJ1bnRpbWVDb25maWcoZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBTRVNTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU0VTU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNFU1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vU0VTU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFscmVhZHlFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFscmVhZHlFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5OYW1lID0gb3B0cy5OYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBCZWhhdmlvck9uTVhGYWlsdXJlID0ge1xuICAgIFJlamVjdE1lc3NhZ2U6IFwiUmVqZWN0TWVzc2FnZVwiLFxuICAgIFVzZURlZmF1bHRWYWx1ZTogXCJVc2VEZWZhdWx0VmFsdWVcIixcbn07XG5leHBvcnQgY29uc3QgQm91bmNlVHlwZSA9IHtcbiAgICBDb250ZW50UmVqZWN0ZWQ6IFwiQ29udGVudFJlamVjdGVkXCIsXG4gICAgRG9lc05vdEV4aXN0OiBcIkRvZXNOb3RFeGlzdFwiLFxuICAgIEV4Y2VlZGVkUXVvdGE6IFwiRXhjZWVkZWRRdW90YVwiLFxuICAgIE1lc3NhZ2VUb29MYXJnZTogXCJNZXNzYWdlVG9vTGFyZ2VcIixcbiAgICBUZW1wb3JhcnlGYWlsdXJlOiBcIlRlbXBvcmFyeUZhaWx1cmVcIixcbiAgICBVbmRlZmluZWQ6IFwiVW5kZWZpbmVkXCIsXG59O1xuZXhwb3J0IGNvbnN0IERzbkFjdGlvbiA9IHtcbiAgICBERUxBWUVEOiBcImRlbGF5ZWRcIixcbiAgICBERUxJVkVSRUQ6IFwiZGVsaXZlcmVkXCIsXG4gICAgRVhQQU5ERUQ6IFwiZXhwYW5kZWRcIixcbiAgICBGQUlMRUQ6IFwiZmFpbGVkXCIsXG4gICAgUkVMQVlFRDogXCJyZWxheWVkXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJ1bGtFbWFpbFN0YXR1cyA9IHtcbiAgICBBY2NvdW50RGFpbHlRdW90YUV4Y2VlZGVkOiBcIkFjY291bnREYWlseVF1b3RhRXhjZWVkZWRcIixcbiAgICBBY2NvdW50U2VuZGluZ1BhdXNlZDogXCJBY2NvdW50U2VuZGluZ1BhdXNlZFwiLFxuICAgIEFjY291bnRTdXNwZW5kZWQ6IFwiQWNjb3VudFN1c3BlbmRlZFwiLFxuICAgIEFjY291bnRUaHJvdHRsZWQ6IFwiQWNjb3VudFRocm90dGxlZFwiLFxuICAgIENvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3Q6IFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiLFxuICAgIENvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkOiBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkXCIsXG4gICAgRmFpbGVkOiBcIkZhaWxlZFwiLFxuICAgIEludmFsaWRQYXJhbWV0ZXJWYWx1ZTogXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIixcbiAgICBJbnZhbGlkU2VuZGluZ1Bvb2xOYW1lOiBcIkludmFsaWRTZW5kaW5nUG9vbE5hbWVcIixcbiAgICBNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkOiBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRcIixcbiAgICBNZXNzYWdlUmVqZWN0ZWQ6IFwiTWVzc2FnZVJlamVjdGVkXCIsXG4gICAgU3VjY2VzczogXCJTdWNjZXNzXCIsXG4gICAgVGVtcGxhdGVEb2VzTm90RXhpc3Q6IFwiVGVtcGxhdGVEb2VzTm90RXhpc3RcIixcbiAgICBUcmFuc2llbnRGYWlsdXJlOiBcIlRyYW5zaWVudEZhaWx1cmVcIixcbn07XG5leHBvcnQgY2xhc3MgQ2Fubm90RGVsZXRlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2Fubm90RGVsZXRlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDYW5ub3REZWxldGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2Fubm90RGVsZXRlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRGltZW5zaW9uVmFsdWVTb3VyY2UgPSB7XG4gICAgRU1BSUxfSEVBREVSOiBcImVtYWlsSGVhZGVyXCIsXG4gICAgTElOS19UQUc6IFwibGlua1RhZ1wiLFxuICAgIE1FU1NBR0VfVEFHOiBcIm1lc3NhZ2VUYWdcIixcbn07XG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IG9wdHMuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IENvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGUgPSB7XG4gICAgREVMSVZFUllfT1BUSU9OUzogXCJkZWxpdmVyeU9wdGlvbnNcIixcbiAgICBFVkVOVF9ERVNUSU5BVElPTlM6IFwiZXZlbnREZXN0aW5hdGlvbnNcIixcbiAgICBSRVBVVEFUSU9OX09QVElPTlM6IFwicmVwdXRhdGlvbk9wdGlvbnNcIixcbiAgICBUUkFDS0lOR19PUFRJT05TOiBcInRyYWNraW5nT3B0aW9uc1wiLFxufTtcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRXZlbnRUeXBlID0ge1xuICAgIEJPVU5DRTogXCJib3VuY2VcIixcbiAgICBDTElDSzogXCJjbGlja1wiLFxuICAgIENPTVBMQUlOVDogXCJjb21wbGFpbnRcIixcbiAgICBERUxJVkVSWTogXCJkZWxpdmVyeVwiLFxuICAgIE9QRU46IFwib3BlblwiLFxuICAgIFJFSkVDVDogXCJyZWplY3RcIixcbiAgICBSRU5ERVJJTkdfRkFJTFVSRTogXCJyZW5kZXJpbmdGYWlsdXJlXCIsXG4gICAgU0VORDogXCJzZW5kXCIsXG59O1xuZXhwb3J0IGNsYXNzIEV2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgICAgICB0aGlzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gb3B0cy5FdmVudERlc3RpbmF0aW9uTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgICAgICB0aGlzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gb3B0cy5FdmVudERlc3RpbmF0aW9uTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgICAgICB0aGlzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gb3B0cy5FdmVudERlc3RpbmF0aW9uTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRyYWNraW5nT3B0aW9uc0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRyYWNraW5nT3B0aW9uc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWUgPSBvcHRzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkZyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5Gcm9tRW1haWxBZGRyZXNzID0gb3B0cy5Gcm9tRW1haWxBZGRyZXNzO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBSZWNlaXB0RmlsdGVyUG9saWN5ID0ge1xuICAgIEFsbG93OiBcIkFsbG93XCIsXG4gICAgQmxvY2s6IFwiQmxvY2tcIixcbn07XG5leHBvcnQgY29uc3QgSW52b2NhdGlvblR5cGUgPSB7XG4gICAgRXZlbnQ6IFwiRXZlbnRcIixcbiAgICBSZXF1ZXN0UmVzcG9uc2U6IFwiUmVxdWVzdFJlc3BvbnNlXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNOU0FjdGlvbkVuY29kaW5nID0ge1xuICAgIEJhc2U2NDogXCJCYXNlNjRcIixcbiAgICBVVEY4OiBcIlVURi04XCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0b3BTY29wZSA9IHtcbiAgICBSVUxFX1NFVDogXCJSdWxlU2V0XCIsXG59O1xuZXhwb3J0IGNvbnN0IFRsc1BvbGljeSA9IHtcbiAgICBPcHRpb25hbDogXCJPcHRpb25hbFwiLFxuICAgIFJlcXVpcmU6IFwiUmVxdWlyZVwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5GdW5jdGlvbkFybiA9IG9wdHMuRnVuY3Rpb25Bcm47XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5CdWNrZXQgPSBvcHRzLkJ1Y2tldDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkU25zVG9waWNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVG9waWMgPSBvcHRzLlRvcGljO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVGVtcGxhdGVOYW1lID0gb3B0cy5UZW1wbGF0ZU5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEN1c3RvbU1haWxGcm9tU3RhdHVzID0ge1xuICAgIEZhaWxlZDogXCJGYWlsZWRcIixcbiAgICBQZW5kaW5nOiBcIlBlbmRpbmdcIixcbiAgICBTdWNjZXNzOiBcIlN1Y2Nlc3NcIixcbiAgICBUZW1wb3JhcnlGYWlsdXJlOiBcIlRlbXBvcmFyeUZhaWx1cmVcIixcbn07XG5leHBvcnQgY2xhc3MgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gb3B0cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgVmVyaWZpY2F0aW9uU3RhdHVzID0ge1xuICAgIEZhaWxlZDogXCJGYWlsZWRcIixcbiAgICBOb3RTdGFydGVkOiBcIk5vdFN0YXJ0ZWRcIixcbiAgICBQZW5kaW5nOiBcIlBlbmRpbmdcIixcbiAgICBTdWNjZXNzOiBcIlN1Y2Nlc3NcIixcbiAgICBUZW1wb3JhcnlGYWlsdXJlOiBcIlRlbXBvcmFyeUZhaWx1cmVcIixcbn07XG5leHBvcnQgY2xhc3MgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5UZW1wbGF0ZU5hbWUgPSBvcHRzLlRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSWRlbnRpdHlUeXBlID0ge1xuICAgIERvbWFpbjogXCJEb21haW5cIixcbiAgICBFbWFpbEFkZHJlc3M6IFwiRW1haWxBZGRyZXNzXCIsXG59O1xuZXhwb3J0IGNsYXNzIEludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRGVsaXZlcnlPcHRpb25zRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRGVsaXZlcnlPcHRpb25zRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFBvbGljeUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRQb2xpY3lFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRQb2xpY3lFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFBvbGljeUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVGVtcGxhdGVOYW1lID0gb3B0cy5UZW1wbGF0ZU5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWVzc2FnZVJlamVjdGVkIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTWVzc2FnZVJlamVjdGVkXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNZXNzYWdlUmVqZWN0ZWRcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWVzc2FnZVJlamVjdGVkLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNaXNzaW5nUmVuZGVyaW5nQXR0cmlidXRlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNaXNzaW5nUmVuZGVyaW5nQXR0cmlidXRlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5UZW1wbGF0ZU5hbWUgPSBvcHRzLlRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgTm90aWZpY2F0aW9uVHlwZSA9IHtcbiAgICBCb3VuY2U6IFwiQm91bmNlXCIsXG4gICAgQ29tcGxhaW50OiBcIkNvbXBsYWludFwiLFxuICAgIERlbGl2ZXJ5OiBcIkRlbGl2ZXJ5XCIsXG59O1xuZXhwb3J0IGNsYXNzIFByb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlByb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFByb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGNvbGxlY3RCb2R5LCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdE5vbk51bGwgYXMgX19leHBlY3ROb25OdWxsLCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50IGFzIF9fZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQsIGdldEFycmF5SWZTaW5nbGVJdGVtIGFzIF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0sIGdldFZhbHVlRnJvbVRleHROb2RlIGFzIF9fZ2V0VmFsdWVGcm9tVGV4dE5vZGUsIHBhcnNlQm9vbGVhbiBhcyBfX3BhcnNlQm9vbGVhbiwgcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0IGFzIF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0LCBzdHJpY3RQYXJzZUZsb2F0IGFzIF9fc3RyaWN0UGFyc2VGbG9hdCwgc3RyaWN0UGFyc2VMb25nIGFzIF9fc3RyaWN0UGFyc2VMb25nLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBYTUxQYXJzZXIgfSBmcm9tIFwiZmFzdC14bWwtcGFyc2VyXCI7XG5pbXBvcnQgeyBBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiwgQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgQ2Fubm90RGVsZXRlRXhjZXB0aW9uLCBDb25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24sIEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb24sIEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uLCBFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uLCBJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvbiwgSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbiwgSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb24sIEludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvbiwgSW52YWxpZFBvbGljeUV4Y2VwdGlvbiwgSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvbiwgSW52YWxpZFMzQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiwgSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkU25zVG9waWNFeGNlcHRpb24sIEludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvbiwgSW52YWxpZFRyYWNraW5nT3B0aW9uc0V4Y2VwdGlvbiwgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiwgTWVzc2FnZVJlamVjdGVkLCBNaXNzaW5nUmVuZGVyaW5nQXR0cmlidXRlRXhjZXB0aW9uLCBQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbiwgUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24sIFRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24sIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18wXCI7XG5pbXBvcnQgeyBTRVNTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvU0VTU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNvbnN0IHNlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ2xvbmVSZWNlaXB0UnVsZVNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ2xvbmVSZWNlaXB0UnVsZVNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVDb25maWd1cmF0aW9uU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVSZWNlaXB0RmlsdGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZVJlY2VpcHRGaWx0ZXJcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0NyZWF0ZVJlY2VpcHRSdWxlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlQ29uZmlndXJhdGlvblNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlSWRlbnRpdHlSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUlkZW50aXR5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVJZGVudGl0eVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVJZGVudGl0eVBvbGljeVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlSWRlbnRpdHlQb2xpY3lcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlUmVjZWlwdEZpbHRlclJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlUmVjZWlwdEZpbHRlclwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlUmVjZWlwdFJ1bGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZVJlY2VpcHRSdWxlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVSZWNlaXB0UnVsZVNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlUmVjZWlwdFJ1bGVTZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVRlbXBsYXRlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVUZW1wbGF0ZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVmVyaWZpZWRFbWFpbEFkZHJlc3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlVmVyaWZpZWRFbWFpbEFkZHJlc3NSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQ29uZmlndXJhdGlvblNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlQ29uZmlndXJhdGlvblNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVSZWNlaXB0UnVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZVJlY2VpcHRSdWxlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZVJlY2VpcHRSdWxlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlc2NyaWJlUmVjZWlwdFJ1bGVTZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgY29uc3QgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICBBY3Rpb246IFwiR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldElkZW50aXR5UG9saWNpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0SWRlbnRpdHlQb2xpY2llc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0SWRlbnRpdHlQb2xpY2llc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRTZW5kUXVvdGFDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGNvbnN0IGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgQWN0aW9uOiBcIkdldFNlbmRRdW90YVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0U2VuZFN0YXRpc3RpY3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGNvbnN0IGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgQWN0aW9uOiBcIkdldFNlbmRTdGF0aXN0aWNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0VGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RDb25maWd1cmF0aW9uU2V0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0Q29uZmlndXJhdGlvblNldHNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RDb25maWd1cmF0aW9uU2V0c1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SWRlbnRpdGllc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0SWRlbnRpdGllc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdElkZW50aXRpZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RJZGVudGl0eVBvbGljaWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RJZGVudGl0eVBvbGljaWVzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0SWRlbnRpdHlQb2xpY2llc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFJlY2VpcHRGaWx0ZXJzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RSZWNlaXB0RmlsdGVyc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdFJlY2VpcHRGaWx0ZXJzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0UmVjZWlwdFJ1bGVTZXRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RSZWNlaXB0UnVsZVNldHNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RSZWNlaXB0UnVsZVNldHNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUZW1wbGF0ZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfTGlzdFRlbXBsYXRlc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdFRlbXBsYXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGNvbnN0IGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dENvbmZpZ3VyYXRpb25TZXREZWxpdmVyeU9wdGlvbnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dENvbmZpZ3VyYXRpb25TZXREZWxpdmVyeU9wdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dElkZW50aXR5UG9saWN5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dElkZW50aXR5UG9saWN5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRJZGVudGl0eVBvbGljeVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVvcmRlclJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUmVvcmRlclJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZW5kQm91bmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRCb3VuY2VSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRCb3VuY2VcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZW5kRW1haWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2VuZEVtYWlsUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZW5kRW1haWxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlbmRSYXdFbWFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kUmF3RW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRSYXdFbWFpbFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VuZFRlbXBsYXRlZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRUZW1wbGF0ZWRFbWFpbFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2VuZFRlbXBsYXRlZEVtYWlsXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRBY3RpdmVSZWNlaXB0UnVsZVNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldElkZW50aXR5RGtpbUVuYWJsZWRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0SWRlbnRpdHlEa2ltRW5hYmxlZFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2V0SWRlbnRpdHlEa2ltRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpblJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpblwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldFJlY2VpcHRSdWxlUG9zaXRpb25SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldFJlY2VpcHRSdWxlUG9zaXRpb25cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1Rlc3RSZW5kZXJUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9UZXN0UmVuZGVyVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlRlc3RSZW5kZXJUZW1wbGF0ZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVXBkYXRlQ29uZmlndXJhdGlvblNldFJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFNlbmRpbmdFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVXBkYXRlQ29uZmlndXJhdGlvblNldFNlbmRpbmdFbmFibGVkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlUmVjZWlwdFJ1bGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZVJlY2VpcHRSdWxlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVXBkYXRlVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1ZlcmlmeURvbWFpbkRraW1Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVmVyaWZ5RG9tYWluRGtpbVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVmVyaWZ5RG9tYWluRGtpbVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVmVyaWZ5RG9tYWluSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVmVyaWZ5RG9tYWluSWRlbnRpdHlSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlZlcmlmeURvbWFpbklkZW50aXR5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9WZXJpZnlFbWFpbEFkZHJlc3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVmVyaWZ5RW1haWxBZGRyZXNzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJWZXJpZnlFbWFpbEFkZHJlc3NcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1ZlcmlmeUVtYWlsSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVmVyaWZ5RW1haWxJZGVudGl0eVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVmVyaWZ5RW1haWxJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3QgZGVfQ2xvbmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ2xvbmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkNsb25lUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ2xvbmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBbHJlYWR5RXhpc3RzXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZShkYXRhLkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ29uZmlndXJhdGlvblNldFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXNwb25zZShkYXRhLkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTTlNEZXN0aW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3BvbnNlKGRhdGEuQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFja2luZ09wdGlvbnNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlUmVjZWlwdEZpbHRlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlUmVjZWlwdEZpbHRlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJSZXNwb25zZShkYXRhLkNyZWF0ZVJlY2VpcHRGaWx0ZXJSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlUmVjZWlwdEZpbHRlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBbHJlYWR5RXhpc3RzXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlY2VpcHRSdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQ3JlYXRlUmVjZWlwdFJ1bGVSZXNwb25zZShkYXRhLkNyZWF0ZVJlY2VpcHRSdWxlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRSdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRMYW1iZGFGdW5jdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM0NvbmZpZ3VyYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTbnNUb3BpY1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkU25zVG9waWNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVSZWNlaXB0UnVsZVNldFJlc3BvbnNlKGRhdGEuQ3JlYXRlUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZVRlbXBsYXRlUmVzcG9uc2UoZGF0YS5DcmVhdGVUZW1wbGF0ZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBbHJlYWR5RXhpc3RzXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGVtcGxhdGVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZShkYXRhLkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXNwb25zZShkYXRhLkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3BvbnNlKGRhdGEuRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUlkZW50aXR5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlSWRlbnRpdHlSZXNwb25zZShkYXRhLkRlbGV0ZUlkZW50aXR5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUlkZW50aXR5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVJZGVudGl0eVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVJZGVudGl0eVBvbGljeVJlc3BvbnNlKGRhdGEuRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVSZWNlaXB0RmlsdGVyUmVzcG9uc2UoZGF0YS5EZWxldGVSZWNlaXB0RmlsdGVyUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5EZWxldGVSZWNlaXB0UnVsZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkRlbGV0ZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNhbm5vdERlbGV0ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ2Fubm90RGVsZXRlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DYW5ub3REZWxldGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuRGVsZXRlVGVtcGxhdGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlKGRhdGEuRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQ29uZmlndXJhdGlvblNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQ29uZmlndXJhdGlvblNldFJlc3BvbnNlKGRhdGEuRGVzY3JpYmVDb25maWd1cmF0aW9uU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQ29uZmlndXJhdGlvblNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVSZWNlaXB0UnVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVSZXNwb25zZShkYXRhLkRlc2NyaWJlUmVjZWlwdFJ1bGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkRlc2NyaWJlUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXNwb25zZShkYXRhLkdldEFjY291bnRTZW5kaW5nRW5hYmxlZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVzcG9uc2UoZGF0YS5HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzUmVzcG9uc2UoZGF0YS5HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzUmVzcG9uc2UoZGF0YS5HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNSZXNwb25zZShkYXRhLkdldElkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldElkZW50aXR5UG9saWNpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldElkZW50aXR5UG9saWNpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJZGVudGl0eVBvbGljaWVzUmVzcG9uc2UoZGF0YS5HZXRJZGVudGl0eVBvbGljaWVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5UG9saWNpZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzUmVzcG9uc2UoZGF0YS5HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRTZW5kUXVvdGFDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFNlbmRRdW90YUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldFNlbmRRdW90YVJlc3BvbnNlKGRhdGEuR2V0U2VuZFF1b3RhUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFNlbmRRdW90YUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0U2VuZFN0YXRpc3RpY3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFNlbmRTdGF0aXN0aWNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0U2VuZFN0YXRpc3RpY3NSZXNwb25zZShkYXRhLkdldFNlbmRTdGF0aXN0aWNzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFNlbmRTdGF0aXN0aWNzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0VGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuR2V0VGVtcGxhdGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0VGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdENvbmZpZ3VyYXRpb25TZXRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdENvbmZpZ3VyYXRpb25TZXRzUmVzcG9uc2UoZGF0YS5MaXN0Q29uZmlndXJhdGlvblNldHNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdENvbmZpZ3VyYXRpb25TZXRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1Jlc3BvbnNlKGRhdGEuTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdElkZW50aXRpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJZGVudGl0aWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdElkZW50aXRpZXNSZXNwb25zZShkYXRhLkxpc3RJZGVudGl0aWVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RJZGVudGl0aWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SWRlbnRpdHlQb2xpY2llc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdElkZW50aXR5UG9saWNpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0SWRlbnRpdHlQb2xpY2llc1Jlc3BvbnNlKGRhdGEuTGlzdElkZW50aXR5UG9saWNpZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdElkZW50aXR5UG9saWNpZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFJlY2VpcHRGaWx0ZXJzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFJlY2VpcHRGaWx0ZXJzUmVzcG9uc2UoZGF0YS5MaXN0UmVjZWlwdEZpbHRlcnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFJlY2VpcHRGaWx0ZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UmVjZWlwdFJ1bGVTZXRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0UmVjZWlwdFJ1bGVTZXRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFJlY2VpcHRSdWxlU2V0c1Jlc3BvbnNlKGRhdGEuTGlzdFJlY2VpcHRSdWxlU2V0c1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0UmVjZWlwdFJ1bGVTZXRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGVtcGxhdGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFRlbXBsYXRlc1Jlc3BvbnNlKGRhdGEuTGlzdFRlbXBsYXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0VGVtcGxhdGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VmVyaWZpZWRFbWFpbEFkZHJlc3Nlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0VmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1Jlc3BvbnNlKGRhdGEuTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dENvbmZpZ3VyYXRpb25TZXREZWxpdmVyeU9wdGlvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dENvbmZpZ3VyYXRpb25TZXREZWxpdmVyeU9wdGlvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVzcG9uc2UoZGF0YS5QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dENvbmZpZ3VyYXRpb25TZXREZWxpdmVyeU9wdGlvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZERlbGl2ZXJ5T3B0aW9uc1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dElkZW50aXR5UG9saWN5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRJZGVudGl0eVBvbGljeUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dElkZW50aXR5UG9saWN5UmVzcG9uc2UoZGF0YS5QdXRJZGVudGl0eVBvbGljeVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRJZGVudGl0eVBvbGljeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUG9saWN5XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9SZW9yZGVyUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9SZW9yZGVyUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLlJlb3JkZXJSZWNlaXB0UnVsZVNldFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9SZW9yZGVyUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlbmRCb3VuY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRCb3VuY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZW5kQm91bmNlUmVzcG9uc2UoZGF0YS5TZW5kQm91bmNlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRCb3VuY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsUmVzcG9uc2UoZGF0YS5TZW5kQnVsa1RlbXBsYXRlZEVtYWlsUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsUmVzcG9uc2UoZGF0YS5TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkZyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Gcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kRW1haWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRFbWFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NlbmRFbWFpbFJlc3BvbnNlKGRhdGEuU2VuZEVtYWlsUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRFbWFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWVzc2FnZVJlamVjdGVkUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VuZFJhd0VtYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kUmF3RW1haWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZW5kUmF3RW1haWxSZXNwb25zZShkYXRhLlNlbmRSYXdFbWFpbFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kUmF3RW1haWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VuZFRlbXBsYXRlZEVtYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZFRlbXBsYXRlZEVtYWlsUmVzcG9uc2UoZGF0YS5TZW5kVGVtcGxhdGVkRW1haWxSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2VuZFRlbXBsYXRlZEVtYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZXRBY3RpdmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlKGRhdGEuU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NldElkZW50aXR5RGtpbUVuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NldElkZW50aXR5RGtpbUVuYWJsZWRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkUmVzcG9uc2UoZGF0YS5TZXRJZGVudGl0eURraW1FbmFibGVkUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5RGtpbUVuYWJsZWRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkUmVzcG9uc2UoZGF0YS5TZXRJZGVudGl0eUZlZWRiYWNrRm9yd2FyZGluZ0VuYWJsZWRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZFJlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpblJlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY1Jlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvblJlc3BvbnNlKGRhdGEuU2V0UmVjZWlwdFJ1bGVQb3NpdGlvblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJ1bGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1Rlc3RSZW5kZXJUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1Rlc3RSZW5kZXJUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuVGVzdFJlbmRlclRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1Rlc3RSZW5kZXJUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUmVuZGVyaW5nQXR0cmlidXRlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNaXNzaW5nUmVuZGVyaW5nQXR0cmlidXRlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVuZGVyaW5nQXR0cmlidXRlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUZW1wbGF0ZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVBY2NvdW50U2VuZGluZ0VuYWJsZWRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVBY2NvdW50U2VuZGluZ0VuYWJsZWRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UoZGF0YS5VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNFdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU05TRGVzdGluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3BvbnNlKGRhdGEuVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFja2luZ09wdGlvbnNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVJlY2VpcHRSdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVXBkYXRlUmVjZWlwdFJ1bGVSZXNwb25zZShkYXRhLlVwZGF0ZVJlY2VpcHRSdWxlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVJlY2VpcHRSdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRMYW1iZGFGdW5jdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM0NvbmZpZ3VyYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTbnNUb3BpY1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkU25zVG9waWNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9VcGRhdGVUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuVXBkYXRlVGVtcGxhdGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRlbXBsYXRlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1ZlcmlmeURvbWFpbkRraW1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1ZlcmlmeURvbWFpbkRraW1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9WZXJpZnlEb21haW5Ea2ltUmVzcG9uc2UoZGF0YS5WZXJpZnlEb21haW5Ea2ltUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1ZlcmlmeURvbWFpbkRraW1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1ZlcmlmeURvbWFpbklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9WZXJpZnlEb21haW5JZGVudGl0eUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1ZlcmlmeURvbWFpbklkZW50aXR5UmVzcG9uc2UoZGF0YS5WZXJpZnlEb21haW5JZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9WZXJpZnlEb21haW5JZGVudGl0eUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9WZXJpZnlFbWFpbEFkZHJlc3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9WZXJpZnlFbWFpbEFkZHJlc3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1ZlcmlmeUVtYWlsSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1ZlcmlmeUVtYWlsSWRlbnRpdHlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9WZXJpZnlFbWFpbElkZW50aXR5UmVzcG9uc2UoZGF0YS5WZXJpZnlFbWFpbElkZW50aXR5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1ZlcmlmeUVtYWlsSWRlbnRpdHlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9DYW5ub3REZWxldGVFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENhbm5vdERlbGV0ZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Gcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEZyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBvbGljeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFBvbGljeUV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFBvbGljeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFMzQ29uZmlndXJhdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFMzQ29uZmlndXJhdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFMzQ29uZmlndXJhdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkU25zVG9waWNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTbnNUb3BpY0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRyYWNraW5nT3B0aW9uc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFRyYWNraW5nT3B0aW9uc0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFRyYWNraW5nT3B0aW9uc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWVzc2FnZVJlamVjdGVkUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9NZXNzYWdlUmVqZWN0ZWQoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1lc3NhZ2VSZWplY3RlZCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9UcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3Qgc2VfQWRkSGVhZGVyQWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5IZWFkZXJOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkhlYWRlck5hbWVcIl0gPSBpbnB1dC5IZWFkZXJOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSGVhZGVyVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSGVhZGVyVmFsdWVcIl0gPSBpbnB1dC5IZWFkZXJWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQWRkcmVzc0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQm9keSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGV4dCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db250ZW50KGlucHV0LlRleHQsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUZXh0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5IdG1sICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0NvbnRlbnQoaW5wdXQuSHRtbCwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEh0bWwuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQm91bmNlQWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Ub3BpY0FybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUb3BpY0FyblwiXSA9IGlucHV0LlRvcGljQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU210cFJlcGx5Q29kZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTbXRwUmVwbHlDb2RlXCJdID0gaW5wdXQuU210cFJlcGx5Q29kZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXR1c0NvZGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdHVzQ29kZVwiXSA9IGlucHV0LlN0YXR1c0NvZGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1lc3NhZ2VcIl0gPSBpbnB1dC5NZXNzYWdlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU2VuZGVyICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNlbmRlclwiXSA9IGlucHV0LlNlbmRlcjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQm91bmNlZFJlY2lwaWVudEluZm8gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJlY2lwaWVudCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZWNpcGllbnRcIl0gPSBpbnB1dC5SZWNpcGllbnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZWNpcGllbnRBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVjaXBpZW50QXJuXCJdID0gaW5wdXQuUmVjaXBpZW50QXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQm91bmNlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJCb3VuY2VUeXBlXCJdID0gaW5wdXQuQm91bmNlVHlwZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlY2lwaWVudERzbkZpZWxkcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNpcGllbnREc25GaWVsZHMoaW5wdXQuUmVjaXBpZW50RHNuRmllbGRzLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUmVjaXBpZW50RHNuRmllbGRzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvdW5jZWRSZWNpcGllbnRJbmZvTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Cb3VuY2VkUmVjaXBpZW50SW5mbyhlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQnVsa0VtYWlsRGVzdGluYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0Rlc3RpbmF0aW9uKGlucHV0LkRlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlcGxhY2VtZW50VGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnTGlzdChpbnB1dC5SZXBsYWNlbWVudFRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUmVwbGFjZW1lbnRUYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUmVwbGFjZW1lbnRUYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUmVwbGFjZW1lbnRUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXBsYWNlbWVudFRlbXBsYXRlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXBsYWNlbWVudFRlbXBsYXRlRGF0YVwiXSA9IGlucHV0LlJlcGxhY2VtZW50VGVtcGxhdGVEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9CdWxrRW1haWxEZXN0aW5hdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQnVsa0VtYWlsRGVzdGluYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Nsb25lUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuT3JpZ2luYWxSdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPcmlnaW5hbFJ1bGVTZXROYW1lXCJdID0gaW5wdXQuT3JpZ2luYWxSdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ2xvdWRXYXRjaERlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EaW1lbnNpb25Db25maWd1cmF0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbnMoaW5wdXQuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9uQ29uZmlndXJhdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25Db25maWd1cmF0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbkNvbmZpZ3VyYXRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Nsb3VkV2F0Y2hEaW1lbnNpb25Db25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EaW1lbnNpb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRpbWVuc2lvbk5hbWVcIl0gPSBpbnB1dC5EaW1lbnNpb25OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9uVmFsdWVTb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGltZW5zaW9uVmFsdWVTb3VyY2VcIl0gPSBpbnB1dC5EaW1lbnNpb25WYWx1ZVNvdXJjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlZmF1bHREaW1lbnNpb25WYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEZWZhdWx0RGltZW5zaW9uVmFsdWVcIl0gPSBpbnB1dC5EZWZhdWx0RGltZW5zaW9uVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Nsb3VkV2F0Y2hEaW1lbnNpb25Db25maWd1cmF0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ29uZmlndXJhdGlvblNldCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ29uZmlndXJhdGlvblNldEF0dHJpYnV0ZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ29udGVudCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXRhXCJdID0gaW5wdXQuRGF0YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNoYXJzZXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ2hhcnNldFwiXSA9IGlucHV0LkNoYXJzZXQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV2ZW50RGVzdGluYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRXZlbnREZXN0aW5hdGlvbihpbnB1dC5FdmVudERlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXZlbnREZXN0aW5hdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db25maWd1cmF0aW9uU2V0KGlucHV0LkNvbmZpZ3VyYXRpb25TZXQsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDb25maWd1cmF0aW9uU2V0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVHJhY2tpbmdPcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RyYWNraW5nT3B0aW9ucyhpbnB1dC5UcmFja2luZ09wdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUcmFja2luZ09wdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Gcm9tRW1haWxBZGRyZXNzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZyb21FbWFpbEFkZHJlc3NcIl0gPSBpbnB1dC5Gcm9tRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVTdWJqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlU3ViamVjdFwiXSA9IGlucHV0LlRlbXBsYXRlU3ViamVjdDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlQ29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZUNvbnRlbnRcIl0gPSBpbnB1dC5UZW1wbGF0ZUNvbnRlbnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdWNjZXNzUmVkaXJlY3Rpb25VUkwgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3VjY2Vzc1JlZGlyZWN0aW9uVVJMXCJdID0gaW5wdXQuU3VjY2Vzc1JlZGlyZWN0aW9uVVJMO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRmFpbHVyZVJlZGlyZWN0aW9uVVJMICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZhaWx1cmVSZWRpcmVjdGlvblVSTFwiXSA9IGlucHV0LkZhaWx1cmVSZWRpcmVjdGlvblVSTDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdEZpbHRlclJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkZpbHRlciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0RmlsdGVyKGlucHV0LkZpbHRlciwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEZpbHRlci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVSZWNlaXB0UnVsZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BZnRlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBZnRlclwiXSA9IGlucHV0LkFmdGVyO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUnVsZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0UnVsZShpbnB1dC5SdWxlLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUnVsZS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVSZWNlaXB0UnVsZVNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZVRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGVtcGxhdGUoaW5wdXQuVGVtcGxhdGUsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUZW1wbGF0ZS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmVudERlc3RpbmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSA9IGlucHV0LkV2ZW50RGVzdGluYXRpb25OYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVDb25maWd1cmF0aW9uU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVJZGVudGl0eVBvbGljeVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3lOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBvbGljeU5hbWVcIl0gPSBpbnB1dC5Qb2xpY3lOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVJZGVudGl0eVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5GaWx0ZXJOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZpbHRlck5hbWVcIl0gPSBpbnB1dC5GaWx0ZXJOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVSZWNlaXB0UnVsZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlTmFtZVwiXSA9IGlucHV0LlJ1bGVOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVSZWNlaXB0UnVsZVNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZVRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlVmVyaWZpZWRFbWFpbEFkZHJlc3NSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxpdmVyeU9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRsc1BvbGljeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUbHNQb2xpY3lcIl0gPSBpbnB1dC5UbHNQb2xpY3k7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlQ29uZmlndXJhdGlvblNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ29uZmlndXJhdGlvblNldEF0dHJpYnV0ZUxpc3QoaW5wdXQuQ29uZmlndXJhdGlvblNldEF0dHJpYnV0ZU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVOYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkNvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYENvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZVJlY2VpcHRSdWxlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVOYW1lXCJdID0gaW5wdXQuUnVsZU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9BZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuVG9BZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVG9BZGRyZXNzZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Ub0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRvQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5DY0FkZHJlc3NlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BZGRyZXNzTGlzdChpbnB1dC5DY0FkZHJlc3NlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5DY0FkZHJlc3Nlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkNjQWRkcmVzc2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ2NBZGRyZXNzZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJjY0FkZHJlc3NlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BZGRyZXNzTGlzdChpbnB1dC5CY2NBZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQmNjQWRkcmVzc2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQmNjQWRkcmVzc2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQmNjQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0V2ZW50RGVzdGluYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF0Y2hpbmdFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V2ZW50VHlwZXMoaW5wdXQuTWF0Y2hpbmdFdmVudFR5cGVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1hdGNoaW5nRXZlbnRUeXBlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1hdGNoaW5nRXZlbnRUeXBlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1hdGNoaW5nRXZlbnRUeXBlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb24oaW5wdXQuS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBLaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ2xvdWRXYXRjaERlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbihpbnB1dC5DbG91ZFdhdGNoRGVzdGluYXRpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDbG91ZFdhdGNoRGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNOU0Rlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1NOU0Rlc3RpbmF0aW9uKGlucHV0LlNOU0Rlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU05TRGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRXZlbnRUeXBlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FeHRlbnNpb25GaWVsZCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gaW5wdXQuVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0V4dGVuc2lvbkZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FeHRlbnNpb25GaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXRpZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSWRlbnRpdHlMaXN0KGlucHV0LklkZW50aXRpZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSWRlbnRpdGllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLklkZW50aXRpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJZGVudGl0aWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldElkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXRpZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSWRlbnRpdHlMaXN0KGlucHV0LklkZW50aXRpZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSWRlbnRpdGllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLklkZW50aXRpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJZGVudGl0aWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldElkZW50aXR5UG9saWNpZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5TmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUG9saWN5TmFtZUxpc3QoaW5wdXQuUG9saWN5TmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUG9saWN5TmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Qb2xpY3lOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXRpZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSWRlbnRpdHlMaXN0KGlucHV0LklkZW50aXRpZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSWRlbnRpdGllcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLklkZW50aXRpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJZGVudGl0aWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldFRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfSWRlbnRpdHlMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0tpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JQU1Sb2xlQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklBTVJvbGVBUk5cIl0gPSBpbnB1dC5JQU1Sb2xlQVJOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGVsaXZlcnlTdHJlYW1BUk4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGVsaXZlcnlTdHJlYW1BUk5cIl0gPSBpbnB1dC5EZWxpdmVyeVN0cmVhbUFSTjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGFtYmRhQWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Ub3BpY0FybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUb3BpY0FyblwiXSA9IGlucHV0LlRvcGljQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRnVuY3Rpb25Bcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRnVuY3Rpb25Bcm5cIl0gPSBpbnB1dC5GdW5jdGlvbkFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lkludm9jYXRpb25UeXBlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkludm9jYXRpb25UeXBlXCJdID0gaW5wdXQuSW52b2NhdGlvblR5cGU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RDb25maWd1cmF0aW9uU2V0c1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhJdGVtcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhJdGVtc1wiXSA9IGlucHV0Lk1heEl0ZW1zO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdElkZW50aXRpZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eVR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlUeXBlXCJdID0gaW5wdXQuSWRlbnRpdHlUeXBlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heEl0ZW1zICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1heEl0ZW1zXCJdID0gaW5wdXQuTWF4SXRlbXM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RJZGVudGl0eVBvbGljaWVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdFJlY2VpcHRGaWx0ZXJzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0UmVjZWlwdFJ1bGVTZXRzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdFRlbXBsYXRlc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhJdGVtcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhJdGVtc1wiXSA9IGlucHV0Lk1heEl0ZW1zO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXNzYWdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5TdWJqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0NvbnRlbnQoaW5wdXQuU3ViamVjdCwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFN1YmplY3QuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJvZHkgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQm9keShpbnB1dC5Cb2R5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQm9keS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXNzYWdlRHNuID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXBvcnRpbmdNdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVwb3J0aW5nTXRhXCJdID0gaW5wdXQuUmVwb3J0aW5nTXRhO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQXJyaXZhbERhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQXJyaXZhbERhdGVcIl0gPSBpbnB1dC5BcnJpdmFsRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZW5zaW9uRmllbGRzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V4dGVuc2lvbkZpZWxkTGlzdChpbnB1dC5FeHRlbnNpb25GaWVsZHMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRXh0ZW5zaW9uRmllbGRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXh0ZW5zaW9uRmllbGRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXh0ZW5zaW9uRmllbGRzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01lc3NhZ2VUYWcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5WYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJWYWx1ZVwiXSA9IGlucHV0LlZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXNzYWdlVGFnTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Qb2xpY3lOYW1lTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlbGl2ZXJ5T3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EZWxpdmVyeU9wdGlvbnMoaW5wdXQuRGVsaXZlcnlPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVsaXZlcnlPcHRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dElkZW50aXR5UG9saWN5UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5TmFtZVwiXSA9IGlucHV0LlBvbGljeU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SYXdNZXNzYWdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRhdGFcIl0gPSBjb250ZXh0LmJhc2U2NEVuY29kZXIoaW5wdXQuRGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2VpcHRBY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlMzQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1MzQWN0aW9uKGlucHV0LlMzQWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUzNBY3Rpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJvdW5jZUFjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Cb3VuY2VBY3Rpb24oaW5wdXQuQm91bmNlQWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQm91bmNlQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Xb3JrbWFpbEFjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Xb3JrbWFpbEFjdGlvbihpbnB1dC5Xb3JrbWFpbEFjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFdvcmttYWlsQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5MYW1iZGFBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTGFtYmRhQWN0aW9uKGlucHV0LkxhbWJkYUFjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYExhbWJkYUFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RvcEFjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TdG9wQWN0aW9uKGlucHV0LlN0b3BBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTdG9wQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BZGRIZWFkZXJBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkSGVhZGVyQWN0aW9uKGlucHV0LkFkZEhlYWRlckFjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFkZEhlYWRlckFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU05TQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1NOU0FjdGlvbihpbnB1dC5TTlNBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTTlNBY3Rpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVjZWlwdEFjdGlvbnNMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1JlY2VpcHRBY3Rpb24oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2VpcHRGaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5JcEZpbHRlciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0SXBGaWx0ZXIoaW5wdXQuSXBGaWx0ZXIsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJcEZpbHRlci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0SXBGaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlBvbGljeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lcIl0gPSBpbnB1dC5Qb2xpY3k7XG4gICAgfVxuICAgIGlmIChpbnB1dC5DaWRyICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNpZHJcIl0gPSBpbnB1dC5DaWRyO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0UnVsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5hYmxlZFwiXSA9IGlucHV0LkVuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UbHNQb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGxzUG9saWN5XCJdID0gaW5wdXQuVGxzUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVjaXBpZW50cyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNpcGllbnRzTGlzdChpbnB1dC5SZWNpcGllbnRzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJlY2lwaWVudHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SZWNpcGllbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUmVjaXBpZW50cy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0QWN0aW9uc0xpc3QoaW5wdXQuQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BY3Rpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNjYW5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNjYW5FbmFibGVkXCJdID0gaW5wdXQuU2NhbkVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2VpcHRSdWxlTmFtZXNMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2lwaWVudERzbkZpZWxkcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRmluYWxSZWNpcGllbnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRmluYWxSZWNpcGllbnRcIl0gPSBpbnB1dC5GaW5hbFJlY2lwaWVudDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25cIl0gPSBpbnB1dC5BY3Rpb247XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZW1vdGVNdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVtb3RlTXRhXCJdID0gaW5wdXQuUmVtb3RlTXRhO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdHVzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXR1c1wiXSA9IGlucHV0LlN0YXR1cztcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpYWdub3N0aWNDb2RlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRpYWdub3N0aWNDb2RlXCJdID0gaW5wdXQuRGlhZ25vc3RpY0NvZGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5MYXN0QXR0ZW1wdERhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTGFzdEF0dGVtcHREYXRlXCJdID0gaW5wdXQuTGFzdEF0dGVtcHREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHRlbnNpb25GaWVsZHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRXh0ZW5zaW9uRmllbGRMaXN0KGlucHV0LkV4dGVuc2lvbkZpZWxkcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5FeHRlbnNpb25GaWVsZHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5FeHRlbnNpb25GaWVsZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBFeHRlbnNpb25GaWVsZHMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVjaXBpZW50c0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVvcmRlclJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0UnVsZU5hbWVzTGlzdChpbnB1dC5SdWxlTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUnVsZU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUnVsZU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUnVsZU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1MzQWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Ub3BpY0FybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUb3BpY0FyblwiXSA9IGlucHV0LlRvcGljQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQnVja2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJCdWNrZXROYW1lXCJdID0gaW5wdXQuQnVja2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk9iamVjdEtleVByZWZpeCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPYmplY3RLZXlQcmVmaXhcIl0gPSBpbnB1dC5PYmplY3RLZXlQcmVmaXg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5LbXNLZXlBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiS21zS2V5QXJuXCJdID0gaW5wdXQuS21zS2V5QXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kQm91bmNlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuT3JpZ2luYWxNZXNzYWdlSWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3JpZ2luYWxNZXNzYWdlSWRcIl0gPSBpbnB1dC5PcmlnaW5hbE1lc3NhZ2VJZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJvdW5jZVNlbmRlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJCb3VuY2VTZW5kZXJcIl0gPSBpbnB1dC5Cb3VuY2VTZW5kZXI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHBsYW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFeHBsYW5hdGlvblwiXSA9IGlucHV0LkV4cGxhbmF0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWVzc2FnZURzbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlRHNuKGlucHV0Lk1lc3NhZ2VEc24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXNzYWdlRHNuLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQm91bmNlZFJlY2lwaWVudEluZm9MaXN0KGlucHV0LkJvdW5jZWRSZWNpcGllbnRJbmZvTGlzdCwgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3Q/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBCb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJvdW5jZVNlbmRlckFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJCb3VuY2VTZW5kZXJBcm5cIl0gPSBpbnB1dC5Cb3VuY2VTZW5kZXJBcm47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlXCJdID0gaW5wdXQuU291cmNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU291cmNlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZUFyblwiXSA9IGlucHV0LlNvdXJjZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlcGx5VG9BZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuUmVwbHlUb0FkZHJlc3NlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SZXBseVRvQWRkcmVzc2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUmVwbHlUb0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlcGx5VG9BZGRyZXNzZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVyblBhdGggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuUGF0aFwiXSA9IGlucHV0LlJldHVyblBhdGg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhBcm5cIl0gPSBpbnB1dC5SZXR1cm5QYXRoQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlZmF1bHRUYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01lc3NhZ2VUYWdMaXN0KGlucHV0LkRlZmF1bHRUYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRlZmF1bHRUYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGVmYXVsdFRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEZWZhdWx0VGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVcIl0gPSBpbnB1dC5UZW1wbGF0ZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlQXJuXCJdID0gaW5wdXQuVGVtcGxhdGVBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWZhdWx0VGVtcGxhdGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRlZmF1bHRUZW1wbGF0ZURhdGFcIl0gPSBpbnB1dC5EZWZhdWx0VGVtcGxhdGVEYXRhO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGVzdGluYXRpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0J1bGtFbWFpbERlc3RpbmF0aW9uTGlzdChpbnB1dC5EZXN0aW5hdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGVzdGluYXRpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGVzdGluYXRpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVzdGluYXRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkVtYWlsQWRkcmVzcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbWFpbEFkZHJlc3NcIl0gPSBpbnB1dC5FbWFpbEFkZHJlc3M7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2VuZEVtYWlsUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZVwiXSA9IGlucHV0LlNvdXJjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0Rlc3RpbmF0aW9uKGlucHV0LkRlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZShpbnB1dC5NZXNzYWdlLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWVzc2FnZS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVwbHlUb0FkZHJlc3NlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BZGRyZXNzTGlzdChpbnB1dC5SZXBseVRvQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJlcGx5VG9BZGRyZXNzZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SZXBseVRvQWRkcmVzc2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUmVwbHlUb0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoXCJdID0gaW5wdXQuUmV0dXJuUGF0aDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNvdXJjZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VBcm5cIl0gPSBpbnB1dC5Tb3VyY2VBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhBcm5cIl0gPSBpbnB1dC5SZXR1cm5QYXRoQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2VuZFJhd0VtYWlsUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZVwiXSA9IGlucHV0LlNvdXJjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BZGRyZXNzTGlzdChpbnB1dC5EZXN0aW5hdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGVzdGluYXRpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGVzdGluYXRpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVzdGluYXRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SYXdNZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1Jhd01lc3NhZ2UoaW5wdXQuUmF3TWVzc2FnZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJhd01lc3NhZ2UuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZyb21Bcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRnJvbUFyblwiXSA9IGlucHV0LkZyb21Bcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5Tb3VyY2VBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlQXJuXCJdID0gaW5wdXQuU291cmNlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoQXJuXCJdID0gaW5wdXQuUmV0dXJuUGF0aEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRUZW1wbGF0ZWRFbWFpbFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VcIl0gPSBpbnB1dC5Tb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EZXN0aW5hdGlvbihpbnB1dC5EZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXBseVRvQWRkcmVzc2VzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZHJlc3NMaXN0KGlucHV0LlJlcGx5VG9BZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUmVwbHlUb0FkZHJlc3Nlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJlcGx5VG9BZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSZXBseVRvQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhcIl0gPSBpbnB1dC5SZXR1cm5QYXRoO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU291cmNlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZUFyblwiXSA9IGlucHV0LlNvdXJjZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVyblBhdGhBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuUGF0aEFyblwiXSA9IGlucHV0LlJldHVyblBhdGhBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01lc3NhZ2VUYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVcIl0gPSBpbnB1dC5UZW1wbGF0ZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlQXJuXCJdID0gaW5wdXQuVGVtcGxhdGVBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZURhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVEYXRhXCJdID0gaW5wdXQuVGVtcGxhdGVEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRBY3RpdmVSZWNlaXB0UnVsZVNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldElkZW50aXR5RGtpbUVuYWJsZWRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGtpbUVuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGtpbUVuYWJsZWRcIl0gPSBpbnB1dC5Ea2ltRW5hYmxlZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZvcndhcmRpbmdFbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZvcndhcmRpbmdFbmFibGVkXCJdID0gaW5wdXQuRm9yd2FyZGluZ0VuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTm90aWZpY2F0aW9uVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOb3RpZmljYXRpb25UeXBlXCJdID0gaW5wdXQuTm90aWZpY2F0aW9uVHlwZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5hYmxlZFwiXSA9IGlucHV0LkVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWFpbEZyb21Eb21haW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWFpbEZyb21Eb21haW5cIl0gPSBpbnB1dC5NYWlsRnJvbURvbWFpbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJlaGF2aW9yT25NWEZhaWx1cmUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQmVoYXZpb3JPbk1YRmFpbHVyZVwiXSA9IGlucHV0LkJlaGF2aW9yT25NWEZhaWx1cmU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTm90aWZpY2F0aW9uVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOb3RpZmljYXRpb25UeXBlXCJdID0gaW5wdXQuTm90aWZpY2F0aW9uVHlwZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNuc1RvcGljICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNuc1RvcGljXCJdID0gaW5wdXQuU25zVG9waWM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldFJlY2VpcHRSdWxlUG9zaXRpb25SZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUnVsZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZU5hbWVcIl0gPSBpbnB1dC5SdWxlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFmdGVyICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFmdGVyXCJdID0gaW5wdXQuQWZ0ZXI7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NOU0FjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuY29kaW5nICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuY29kaW5nXCJdID0gaW5wdXQuRW5jb2Rpbmc7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NOU0Rlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Ub3BpY0FSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUb3BpY0FSTlwiXSA9IGlucHV0LlRvcGljQVJOO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TdG9wQWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5TY29wZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTY29wZVwiXSA9IGlucHV0LlNjb3BlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVGVtcGxhdGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdWJqZWN0UGFydCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdWJqZWN0UGFydFwiXSA9IGlucHV0LlN1YmplY3RQYXJ0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGV4dFBhcnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGV4dFBhcnRcIl0gPSBpbnB1dC5UZXh0UGFydDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lkh0bWxQYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkh0bWxQYXJ0XCJdID0gaW5wdXQuSHRtbFBhcnQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1Rlc3RSZW5kZXJUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZURhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVEYXRhXCJdID0gaW5wdXQuVGVtcGxhdGVEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UcmFja2luZ09wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkN1c3RvbVJlZGlyZWN0RG9tYWluICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkN1c3RvbVJlZGlyZWN0RG9tYWluXCJdID0gaW5wdXQuQ3VzdG9tUmVkaXJlY3REb21haW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkVuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5hYmxlZFwiXSA9IGlucHV0LkVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV2ZW50RGVzdGluYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRXZlbnREZXN0aW5hdGlvbihpbnB1dC5FdmVudERlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXZlbnREZXN0aW5hdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0UmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5hYmxlZFwiXSA9IGlucHV0LkVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRyYWNraW5nT3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UcmFja2luZ09wdGlvbnMoaW5wdXQuVHJhY2tpbmdPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVHJhY2tpbmdPcHRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRnJvbUVtYWlsQWRkcmVzcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGcm9tRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRnJvbUVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlU3ViamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZVN1YmplY3RcIl0gPSBpbnB1dC5UZW1wbGF0ZVN1YmplY3Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVDb250ZW50XCJdID0gaW5wdXQuVGVtcGxhdGVDb250ZW50O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3VjY2Vzc1JlZGlyZWN0aW9uVVJMICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSA9IGlucHV0LlN1Y2Nlc3NSZWRpcmVjdGlvblVSTDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZhaWx1cmVSZWRpcmVjdGlvblVSTCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0gPSBpbnB1dC5GYWlsdXJlUmVkaXJlY3Rpb25VUkw7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZVJlY2VpcHRSdWxlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdFJ1bGUoaW5wdXQuUnVsZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJ1bGUuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVXBkYXRlVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UZW1wbGF0ZShpbnB1dC5UZW1wbGF0ZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRlbXBsYXRlLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1ZlcmlmeURvbWFpbkRraW1SZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Eb21haW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRG9tYWluXCJdID0gaW5wdXQuRG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlEb21haW5JZGVudGl0eVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRvbWFpbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEb21haW5cIl0gPSBpbnB1dC5Eb21haW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1ZlcmlmeUVtYWlsQWRkcmVzc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkVtYWlsQWRkcmVzcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbWFpbEFkZHJlc3NcIl0gPSBpbnB1dC5FbWFpbEFkZHJlc3M7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1ZlcmlmeUVtYWlsSWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Xb3JrbWFpbEFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk9yZ2FuaXphdGlvbkFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPcmdhbml6YXRpb25Bcm5cIl0gPSBpbnB1dC5Pcmdhbml6YXRpb25Bcm47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9BZGRIZWFkZXJBY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiSGVhZGVyTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlck5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJIZWFkZXJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhlYWRlclZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSGVhZGVyVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJIZWFkZXJWYWx1ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9BZGRyZXNzTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Cb3VuY2VBY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVG9waWNBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ub3BpY0FybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRvcGljQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNtdHBSZXBseUNvZGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TbXRwUmVwbHlDb2RlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU210cFJlcGx5Q29kZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0dXNDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdHVzQ29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXR1c0NvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNlbmRlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlbmRlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNlbmRlclwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9CdWxrRW1haWxEZXN0aW5hdGlvblN0YXR1cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJTdGF0dXNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0dXMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0dXNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXJyb3JcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FcnJvciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkVycm9yXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9CdWxrRW1haWxEZXN0aW5hdGlvblN0YXR1c0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0J1bGtFbWFpbERlc3RpbmF0aW9uU3RhdHVzKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9DYW5ub3REZWxldGVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DbG9uZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ2xvdWRXYXRjaERlc3RpbmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5EaW1lbnNpb25Db25maWd1cmF0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25Db25maWd1cmF0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEaW1lbnNpb25Db25maWd1cmF0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSBkZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEaW1lbnNpb25Db25maWd1cmF0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRGltZW5zaW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEaW1lbnNpb25OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRpbWVuc2lvblZhbHVlU291cmNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9uVmFsdWVTb3VyY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEaW1lbnNpb25WYWx1ZVNvdXJjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWZhdWx0RGltZW5zaW9uVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWZhdWx0RGltZW5zaW9uVmFsdWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEZWZhdWx0RGltZW5zaW9uVmFsdWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0NvbmZpZ3VyYXRpb25TZXQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0UnVsZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlVGVtcGxhdGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRnJvbUVtYWlsQWRkcmVzcyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZyb21FbWFpbEFkZHJlc3NcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVTdWJqZWN0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVTdWJqZWN0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVTdWJqZWN0XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1Y2Nlc3NSZWRpcmVjdGlvblVSTCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlUmVkaXJlY3Rpb25VUkwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVJZGVudGl0eVBvbGljeVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUlkZW50aXR5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlUmVjZWlwdEZpbHRlclJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUZW1wbGF0ZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGl2ZXJ5T3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUbHNQb2xpY3lcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UbHNQb2xpY3kgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUbHNQb2xpY3lcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1ldGFkYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0YWRhdGEgPSBkZV9SZWNlaXB0UnVsZVNldE1ldGFkYXRhKG91dHB1dFtcIk1ldGFkYXRhXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5SdWxlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5SdWxlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJSdWxlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlJ1bGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZXMgPSBkZV9SZWNlaXB0UnVsZXNMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiUnVsZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQ29uZmlndXJhdGlvblNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0ID0gZGVfQ29uZmlndXJhdGlvblNldChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0XCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5FdmVudERlc3RpbmF0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5FdmVudERlc3RpbmF0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbnMgPSBkZV9FdmVudERlc3RpbmF0aW9ucyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUcmFja2luZ09wdGlvbnNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UcmFja2luZ09wdGlvbnMgPSBkZV9UcmFja2luZ09wdGlvbnMob3V0cHV0W1wiVHJhY2tpbmdPcHRpb25zXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRlbGl2ZXJ5T3B0aW9uc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlbGl2ZXJ5T3B0aW9ucyA9IGRlX0RlbGl2ZXJ5T3B0aW9ucyhvdXRwdXRbXCJEZWxpdmVyeU9wdGlvbnNcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUmVwdXRhdGlvbk9wdGlvbnNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZXB1dGF0aW9uT3B0aW9ucyA9IGRlX1JlcHV0YXRpb25PcHRpb25zKG91dHB1dFtcIlJlcHV0YXRpb25PcHRpb25zXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJSdWxlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZSA9IGRlX1JlY2VpcHRSdWxlKG91dHB1dFtcIlJ1bGVcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1ldGFkYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0YWRhdGEgPSBkZV9SZWNlaXB0UnVsZVNldE1ldGFkYXRhKG91dHB1dFtcIk1ldGFkYXRhXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5SdWxlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5SdWxlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJSdWxlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlJ1bGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZXMgPSBkZV9SZWNlaXB0UnVsZXNMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiUnVsZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RraW1BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBkZV9JZGVudGl0eURraW1BdHRyaWJ1dGVzKHBhaXJbXCJ2YWx1ZVwiXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkVuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWF0Y2hpbmdFdmVudFR5cGVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1hdGNoaW5nRXZlbnRUeXBlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNYXRjaGluZ0V2ZW50VHlwZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNYXRjaGluZ0V2ZW50VHlwZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYXRjaGluZ0V2ZW50VHlwZXMgPSBkZV9FdmVudFR5cGVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWF0Y2hpbmdFdmVudFR5cGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJLaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uID0gZGVfS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb24ob3V0cHV0W1wiS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ2xvdWRXYXRjaERlc3RpbmF0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ2xvdWRXYXRjaERlc3RpbmF0aW9uID0gZGVfQ2xvdWRXYXRjaERlc3RpbmF0aW9uKG91dHB1dFtcIkNsb3VkV2F0Y2hEZXN0aW5hdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTTlNEZXN0aW5hdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNOU0Rlc3RpbmF0aW9uID0gZGVfU05TRGVzdGluYXRpb24ob3V0cHV0W1wiU05TRGVzdGluYXRpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9FdmVudERlc3RpbmF0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRXZlbnREZXN0aW5hdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfRXZlbnRUeXBlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRnJvbUVtYWlsQWRkcmVzcyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZyb21FbWFpbEFkZHJlc3NcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldEFjY291bnRTZW5kaW5nRW5hYmxlZFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkVuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZyb21FbWFpbEFkZHJlc3NcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Gcm9tRW1haWxBZGRyZXNzID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRnJvbUVtYWlsQWRkcmVzc1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZVN1YmplY3RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZVN1YmplY3QgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZW1wbGF0ZVN1YmplY3RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVDb250ZW50XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVDb250ZW50ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVDb250ZW50XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1Y2Nlc3NSZWRpcmVjdGlvblVSTCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlUmVkaXJlY3Rpb25VUkwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5Ea2ltQXR0cmlidXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Ea2ltQXR0cmlidXRlcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEa2ltQXR0cmlidXRlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRraW1BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ea2ltQXR0cmlidXRlcyA9IGRlX0RraW1BdHRyaWJ1dGVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGtpbUF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1haWxGcm9tRG9tYWluQXR0cmlidXRlcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1haWxGcm9tRG9tYWluQXR0cmlidXRlcyA9IGRlX01haWxGcm9tRG9tYWluQXR0cmlidXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1haWxGcm9tRG9tYWluQXR0cmlidXRlc1wiXVtcImVudHJ5XCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuTm90aWZpY2F0aW9uQXR0cmlidXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Ob3RpZmljYXRpb25BdHRyaWJ1dGVzID0ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ob3RpZmljYXRpb25BdHRyaWJ1dGVzID0gZGVfTm90aWZpY2F0aW9uQXR0cmlidXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlQb2xpY2llc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5Qb2xpY2llcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Qb2xpY2llcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJQb2xpY2llc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlBvbGljaWVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qb2xpY2llcyA9IGRlX1BvbGljeU1hcChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlBvbGljaWVzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5WZXJpZmljYXRpb25BdHRyaWJ1dGVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiVmVyaWZpY2F0aW9uQXR0cmlidXRlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXMgPSBkZV9WZXJpZmljYXRpb25BdHRyaWJ1dGVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVmVyaWZpY2F0aW9uQXR0cmlidXRlc1wiXVtcImVudHJ5XCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRTZW5kUXVvdGFSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNYXgyNEhvdXJTZW5kXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF4MjRIb3VyU2VuZCA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNYXgyNEhvdXJTZW5kXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1heFNlbmRSYXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF4U2VuZFJhdGUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWF4U2VuZFJhdGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU2VudExhc3QyNEhvdXJzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2VudExhc3QyNEhvdXJzID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlNlbnRMYXN0MjRIb3Vyc1wiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRTZW5kU3RhdGlzdGljc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5TZW5kRGF0YVBvaW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5TZW5kRGF0YVBvaW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJTZW5kRGF0YVBvaW50c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlNlbmREYXRhUG9pbnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2VuZERhdGFQb2ludHMgPSBkZV9TZW5kRGF0YVBvaW50TGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlNlbmREYXRhUG9pbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRUZW1wbGF0ZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGUgPSBkZV9UZW1wbGF0ZShvdXRwdXRbXCJUZW1wbGF0ZVwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JZGVudGl0eURraW1BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkRraW1FbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGtpbUVuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJEa2ltRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEa2ltVmVyaWZpY2F0aW9uU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGtpbVZlcmlmaWNhdGlvblN0YXR1cyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRraW1WZXJpZmljYXRpb25TdGF0dXNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRraW1Ub2tlbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGtpbVRva2VucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEa2ltVG9rZW5zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGtpbVRva2Vuc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1Ub2tlbnMgPSBkZV9WZXJpZmljYXRpb25Ub2tlbkxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEa2ltVG9rZW5zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JZGVudGl0eUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNYWlsRnJvbURvbWFpblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1haWxGcm9tRG9tYWluID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWFpbEZyb21Eb21haW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWFpbEZyb21Eb21haW5TdGF0dXNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpblN0YXR1cyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1haWxGcm9tRG9tYWluU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkJlaGF2aW9yT25NWEZhaWx1cmVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5CZWhhdmlvck9uTVhGYWlsdXJlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQmVoYXZpb3JPbk1YRmFpbHVyZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQm91bmNlVG9waWNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Cb3VuY2VUb3BpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkJvdW5jZVRvcGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkNvbXBsYWludFRvcGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29tcGxhaW50VG9waWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb21wbGFpbnRUb3BpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWxpdmVyeVRvcGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGVsaXZlcnlUb3BpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRlbGl2ZXJ5VG9waWNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRm9yd2FyZGluZ0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Gb3J3YXJkaW5nRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkZvcndhcmRpbmdFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhlYWRlcnNJbkJvdW5jZU5vdGlmaWNhdGlvbnNFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSGVhZGVyc0luQm91bmNlTm90aWZpY2F0aW9uc0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJIZWFkZXJzSW5Cb3VuY2VOb3RpZmljYXRpb25zRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIZWFkZXJzSW5Db21wbGFpbnROb3RpZmljYXRpb25zRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlcnNJbkNvbXBsYWludE5vdGlmaWNhdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiSGVhZGVyc0luQ29tcGxhaW50Tm90aWZpY2F0aW9uc0VuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSGVhZGVyc0luRGVsaXZlcnlOb3RpZmljYXRpb25zRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlcnNJbkRlbGl2ZXJ5Tm90aWZpY2F0aW9uc0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJIZWFkZXJzSW5EZWxpdmVyeU5vdGlmaWNhdGlvbnNFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0lkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJWZXJpZmljYXRpb25TdGF0dXNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25TdGF0dXMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJWZXJpZmljYXRpb25TdGF0dXNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVmVyaWZpY2F0aW9uVG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25Ub2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZlcmlmaWNhdGlvblRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJGdW5jdGlvbkFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZ1bmN0aW9uQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRnVuY3Rpb25Bcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQb2xpY3lFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkJ1Y2tldFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkJ1Y2tldCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkJ1Y2tldFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0tpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIklBTVJvbGVBUk5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JQU1Sb2xlQVJOID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSUFNUm9sZUFSTlwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWxpdmVyeVN0cmVhbUFSTlwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlbGl2ZXJ5U3RyZWFtQVJOID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVsaXZlcnlTdHJlYW1BUk5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGFtYmRhQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGdW5jdGlvbkFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZ1bmN0aW9uQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRnVuY3Rpb25Bcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSW52b2NhdGlvblR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbnZvY2F0aW9uVHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkludm9jYXRpb25UeXBlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5Db25maWd1cmF0aW9uU2V0cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldHMgPSBkZV9Db25maWd1cmF0aW9uU2V0cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyA9IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0SWRlbnRpdGllc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5JZGVudGl0aWVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLklkZW50aXRpZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSWRlbnRpdGllc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIklkZW50aXRpZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JZGVudGl0aWVzID0gZGVfSWRlbnRpdHlMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiSWRlbnRpdGllc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJZGVudGl0eVBvbGljaWVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LlBvbGljeU5hbWVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlBvbGljeU5hbWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlBvbGljeU5hbWVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiUG9saWN5TmFtZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qb2xpY3lOYW1lcyA9IGRlX1BvbGljeU5hbWVMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiUG9saWN5TmFtZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RSZWNlaXB0RmlsdGVyc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5GaWx0ZXJzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRmlsdGVyc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkZpbHRlcnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GaWx0ZXJzID0gZGVfUmVjZWlwdEZpbHRlckxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJGaWx0ZXJzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0UmVjZWlwdFJ1bGVTZXRzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LlJ1bGVTZXRzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGVTZXRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlJ1bGVTZXRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiUnVsZVNldHNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SdWxlU2V0cyA9IGRlX1JlY2VpcHRSdWxlU2V0c0xpc3RzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiUnVsZVNldHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGVtcGxhdGVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LlRlbXBsYXRlc01ldGFkYXRhID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlc01ldGFkYXRhID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlRlbXBsYXRlc01ldGFkYXRhXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiVGVtcGxhdGVzTWV0YWRhdGFcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZXNNZXRhZGF0YSA9IGRlX1RlbXBsYXRlTWV0YWRhdGFMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVGVtcGxhdGVzTWV0YWRhdGFcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5WZXJpZmllZEVtYWlsQWRkcmVzc2VzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlZlcmlmaWVkRW1haWxBZGRyZXNzZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiVmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIlZlcmlmaWVkRW1haWxBZGRyZXNzZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmllZEVtYWlsQWRkcmVzc2VzID0gZGVfQWRkcmVzc0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJWZXJpZmllZEVtYWlsQWRkcmVzc2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIG91dHB1dC5yZWR1Y2UoKGFjYywgcGFpcikgPT4ge1xuICAgICAgICBpZiAocGFpcltcInZhbHVlXCJdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1twYWlyW1wia2V5XCJdXSA9IGRlX0lkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzKHBhaXJbXCJ2YWx1ZVwiXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01lc3NhZ2VSZWplY3RlZCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX05vdGlmaWNhdGlvbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIG91dHB1dC5yZWR1Y2UoKGFjYywgcGFpcikgPT4ge1xuICAgICAgICBpZiAocGFpcltcInZhbHVlXCJdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1twYWlyW1wia2V5XCJdXSA9IGRlX0lkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlcyhwYWlyW1widmFsdWVcIl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9Qb2xpY3lNYXAgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIG91dHB1dC5yZWR1Y2UoKGFjYywgcGFpcikgPT4ge1xuICAgICAgICBpZiAocGFpcltcInZhbHVlXCJdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1twYWlyW1wia2V5XCJdXSA9IF9fZXhwZWN0U3RyaW5nKHBhaXJbXCJ2YWx1ZVwiXSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX1BvbGljeU5hbWVMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1B1dENvbmZpZ3VyYXRpb25TZXREZWxpdmVyeU9wdGlvbnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRJZGVudGl0eVBvbGljeVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRBY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUzNBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TM0FjdGlvbiA9IGRlX1MzQWN0aW9uKG91dHB1dFtcIlMzQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkJvdW5jZUFjdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkJvdW5jZUFjdGlvbiA9IGRlX0JvdW5jZUFjdGlvbihvdXRwdXRbXCJCb3VuY2VBY3Rpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiV29ya21haWxBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Xb3JrbWFpbEFjdGlvbiA9IGRlX1dvcmttYWlsQWN0aW9uKG91dHB1dFtcIldvcmttYWlsQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkxhbWJkYUFjdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhbWJkYUFjdGlvbiA9IGRlX0xhbWJkYUFjdGlvbihvdXRwdXRbXCJMYW1iZGFBY3Rpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RvcEFjdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0b3BBY3Rpb24gPSBkZV9TdG9wQWN0aW9uKG91dHB1dFtcIlN0b3BBY3Rpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWRkSGVhZGVyQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWRkSGVhZGVyQWN0aW9uID0gZGVfQWRkSGVhZGVyQWN0aW9uKG91dHB1dFtcIkFkZEhlYWRlckFjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTTlNBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TTlNBY3Rpb24gPSBkZV9TTlNBY3Rpb24ob3V0cHV0W1wiU05TQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRBY3Rpb25zTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVjZWlwdEFjdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVjZWlwdEZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSXBGaWx0ZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JcEZpbHRlciA9IGRlX1JlY2VpcHRJcEZpbHRlcihvdXRwdXRbXCJJcEZpbHRlclwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0RmlsdGVyTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVjZWlwdEZpbHRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVjZWlwdElwRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlBvbGljeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBvbGljeSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlBvbGljeVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDaWRyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ2lkciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNpZHJcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVjZWlwdFJ1bGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkVuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUbHNQb2xpY3lcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UbHNQb2xpY3kgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUbHNQb2xpY3lcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlJlY2lwaWVudHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUmVjaXBpZW50cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJSZWNpcGllbnRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiUmVjaXBpZW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlY2lwaWVudHMgPSBkZV9SZWNpcGllbnRzTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJlY2lwaWVudHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5BY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQWN0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkFjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zID0gZGVfUmVjZWlwdEFjdGlvbnNMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQWN0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU2NhbkVuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TY2FuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIlNjYW5FbmFibGVkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRSdWxlU2V0TWV0YWRhdGEgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkNyZWF0ZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVhdGVkVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkNyZWF0ZWRUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRSdWxlU2V0c0xpc3RzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9SZWNlaXB0UnVsZVNldE1ldGFkYXRhKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZWNlaXB0UnVsZXNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9SZWNlaXB0UnVsZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVjaXBpZW50c0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZW9yZGVyUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZXB1dGF0aW9uT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJTZW5kaW5nRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlbmRpbmdFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiU2VuZGluZ0VuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiUmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkxhc3RGcmVzaFN0YXJ0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTGFzdEZyZXNoU3RhcnQgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiTGFzdEZyZXNoU3RhcnRcIl0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUzNBY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVG9waWNBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ub3BpY0FybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRvcGljQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkJ1Y2tldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5CdWNrZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQnVja2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJPYmplY3RLZXlQcmVmaXhcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PYmplY3RLZXlQcmVmaXggPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJPYmplY3RLZXlQcmVmaXhcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiS21zS2V5QXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuS21zS2V5QXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiS21zS2V5QXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRCb3VuY2VSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlSWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5TdGF0dXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuU3RhdHVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlN0YXR1c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlN0YXR1c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXR1cyA9IGRlX0J1bGtFbWFpbERlc3RpbmF0aW9uU3RhdHVzTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlN0YXR1c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZUlkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZUlkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmREYXRhUG9pbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVsaXZlcnlBdHRlbXB0c1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlbGl2ZXJ5QXR0ZW1wdHMgPSBfX3N0cmljdFBhcnNlTG9uZyhvdXRwdXRbXCJEZWxpdmVyeUF0dGVtcHRzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkJvdW5jZXNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Cb3VuY2VzID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiQm91bmNlc1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDb21wbGFpbnRzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29tcGxhaW50cyA9IF9fc3RyaWN0UGFyc2VMb25nKG91dHB1dFtcIkNvbXBsYWludHNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUmVqZWN0c1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlamVjdHMgPSBfX3N0cmljdFBhcnNlTG9uZyhvdXRwdXRbXCJSZWplY3RzXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmREYXRhUG9pbnRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kRGF0YVBvaW50KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TZW5kRW1haWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlSWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VuZFJhd0VtYWlsUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZUlkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZUlkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRUZW1wbGF0ZWRFbWFpbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRBY3RpdmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5RGtpbUVuYWJsZWRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eUZlZWRiYWNrRm9yd2FyZGluZ0VuYWJsZWRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU05TQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFbmNvZGluZ1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkVuY29kaW5nID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRW5jb2RpbmdcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU05TRGVzdGluYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVG9waWNBUk5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ub3BpY0FSTiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRvcGljQVJOXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0b3BBY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiU2NvcGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TY29wZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNjb3BlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UZW1wbGF0ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3ViamVjdFBhcnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWJqZWN0UGFydCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RQYXJ0XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRleHRQYXJ0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGV4dFBhcnQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZXh0UGFydFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIdG1sUGFydFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkh0bWxQYXJ0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSHRtbFBhcnRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UZW1wbGF0ZU1ldGFkYXRhID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDcmVhdGVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlYXRlZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJDcmVhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UZW1wbGF0ZU1ldGFkYXRhTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVGVtcGxhdGVNZXRhZGF0YShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGVzdFJlbmRlclRlbXBsYXRlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUmVuZGVyZWRUZW1wbGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlbmRlcmVkVGVtcGxhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJSZW5kZXJlZFRlbXBsYXRlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDdXN0b21SZWRpcmVjdERvbWFpblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkN1c3RvbVJlZGlyZWN0RG9tYWluID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ3VzdG9tUmVkaXJlY3REb21haW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVJlY2VpcHRSdWxlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9WZXJpZmljYXRpb25BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBkZV9JZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXMocGFpcltcInZhbHVlXCJdLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuY29uc3QgZGVfVmVyaWZpY2F0aW9uVG9rZW5MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmVyaWZ5RG9tYWluRGtpbVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5Ea2ltVG9rZW5zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1Ub2tlbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGtpbVRva2Vuc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRraW1Ub2tlbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ea2ltVG9rZW5zID0gZGVfVmVyaWZpY2F0aW9uVG9rZW5MaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGtpbVRva2Vuc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVmVyaWZ5RG9tYWluSWRlbnRpdHlSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJWZXJpZmljYXRpb25Ub2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlZlcmlmaWNhdGlvblRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVmVyaWZpY2F0aW9uVG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVmVyaWZ5RW1haWxJZGVudGl0eVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1dvcmttYWlsQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJPcmdhbml6YXRpb25Bcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Pcmdhbml6YXRpb25Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJPcmdhbml6YXRpb25Bcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gYXN5bmMgKGNvbnRleHQsIGhlYWRlcnMsIHBhdGgsIHJlc29sdmVkSG9zdG5hbWUsIGJvZHkpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBjb250ZW50cyA9IHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBwYXRoOiBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgKyBwYXRoIDogYmFzZVBhdGggKyBwYXRoLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH07XG4gICAgaWYgKHJlc29sdmVkSG9zdG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ob3N0bmFtZSA9IHJlc29sdmVkSG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdChjb250ZW50cyk7XG59O1xuY29uc3QgU0hBUkVEX0hFQURFUlMgPSB7XG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbn07XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVQcmVmaXg6IFwiXCIsXG4gICAgICAgICAgICBodG1sRW50aXRpZXM6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZURlY2xhcmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcGFyc2VUYWdWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICB0cmltVmFsdWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiAoXywgdmFsKSA9PiAodmFsLnRyaW0oKSA9PT0gXCJcIiAmJiB2YWwuaW5jbHVkZXMoXCJcXG5cIikgPyBcIlwiIDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjeERcIiwgXCJcXHJcIik7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjMTBcIiwgXCJcXG5cIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZE9iaiA9IHBhcnNlci5wYXJzZShlbmNvZGVkKTtcbiAgICAgICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwYXJzZWRPYmopWzBdO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmpUb1JldHVybiA9IHBhcnNlZE9ialtrZXldO1xuICAgICAgICBpZiAocGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXSkge1xuICAgICAgICAgICAgcGFyc2VkT2JqVG9SZXR1cm5ba2V5XSA9IHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgcGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19nZXRWYWx1ZUZyb21UZXh0Tm9kZShwYXJzZWRPYmpUb1JldHVybik7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUuRXJyb3IpIHtcbiAgICAgICAgdmFsdWUuRXJyb3IubWVzc2FnZSA9IHZhbHVlLkVycm9yLm1lc3NhZ2UgPz8gdmFsdWUuRXJyb3IuTWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcgPSAoZm9ybUVudHJpZXMpID0+IE9iamVjdC5lbnRyaWVzKGZvcm1FbnRyaWVzKVxuICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAuam9pbihcIiZcIik7XG5jb25zdCBsb2FkUXVlcnlFcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuRXJyb3I/LkNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGF0YS5FcnJvci5Db2RlO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBcIk5vdEZvdW5kXCI7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0U2VyZGVQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgU01JVEhZX0NPTlRFWFRfS0VZLCB9IGZyb20gXCJAc21pdGh5L3R5cGVzXCI7XG5pbXBvcnQgeyBkZV9TZW5kRW1haWxDb21tYW5kLCBzZV9TZW5kRW1haWxDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcXVlcnlcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgU2VuZEVtYWlsQ29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBTZW5kRW1haWxDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiU0VTQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJTZW5kRW1haWxDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIFtTTUlUSFlfQ09OVEVYVF9LRVldOiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogXCJTaW1wbGVFbWFpbFNlcnZpY2VcIixcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiU2VuZEVtYWlsXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9TZW5kRW1haWxDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kRW1haWxDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXNlciB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0J1xuXG5leHBvcnQgY2xhc3MgUXVpY2tTaWdodFVzZXIge1xuXHRhcm46IHN0cmluZyAvLyBhcm46YXdzOnF1aWNrc2lnaHQ6PFJFR0lPTj46PEFDQ09VTlQ+OnVzZXIvZGVmYXVsdC88SUFNIFJPTEUgTkFNRT4vPFNUUyBTRVNTSU9OPlxuXHRlbWFpbDogc3RyaW5nXG5cdGxhc3RBY2Nlc3M6IERhdGUgLy8gQ29tZXMgZnJvbSBDbG91ZFRyYWlsXG5cdHJvbGU6IFF1aWNrU2lnaHRSb2xlXG5cdHVzZXJuYW1lOiBzdHJpbmcgLy8gPElBTSBST0xFPi88U1RTIFNFU1NJT04+XG5cdGlhbVJvbGU6IHN0cmluZ1xuXHRzdHNTZXNzaW9uOiBzdHJpbmdcblx0aW52YWxpZDogYm9vbGVhbiAvLyBVc2VyIGlzIGludmFsaWQgaWYgdXNlcm5hbWUgaXMgXCJOL0FcIi4gU2VlIFJFQURNRS5tZCBmb3IgbW9yZSBkZXRhaWxzXG5cblx0Y29uc3RydWN0b3IocXVpY2tTaWdodFVzZXI6IFVzZXIpIHtcblx0XHR0aGlzLmFybiA9IHF1aWNrU2lnaHRVc2VyLkFyblxuXHRcdHRoaXMuZW1haWwgPSBxdWlja1NpZ2h0VXNlci5FbWFpbFxuXHRcdHRoaXMucm9sZSA9IFF1aWNrU2lnaHRSb2xlW3F1aWNrU2lnaHRVc2VyLlJvbGUgYXMga2V5b2YgdHlwZW9mIFF1aWNrU2lnaHRSb2xlXSAvLyBPbmx5IHZhbHVlcyB0aGF0IHdpbGwgYmUgcmV0dXJuZWQgLy8gYWxzbyB0aGUga2V5b2YgdHlwZW9mIGhhY2sgY2FtZSBmcm9tIGhlcmUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQyNjIzOTA1XG5cdFx0dGhpcy51c2VybmFtZSA9IHF1aWNrU2lnaHRVc2VyLlVzZXJOYW1lXG5cdFx0dGhpcy5pbnZhbGlkID0gdGhpcy51c2VybmFtZSA9PT0gJ04vQSdcblx0XHRjb25zdCBbaWFtUm9sZSwgc3RzU2Vzc2lvbl0gPSB0aGlzLnVzZXJuYW1lLnNwbGl0KCcvJylcblx0XHR0aGlzLmlhbVJvbGUgPSBpYW1Sb2xlXG5cdFx0dGhpcy5zdHNTZXNzaW9uID0gc3RzU2Vzc2lvblxuXHR9XG59XG5cbmV4cG9ydCBlbnVtIFF1aWNrU2lnaHRSb2xlIHtcblx0UkVBREVSID0gJ1JFQURFUicsIEFVVEhPUiA9ICdBVVRIT1InLCBBRE1JTiA9ICdBRE1JTidcbn1cbiIsImltcG9ydCB7IFNlbmRFbWFpbENvbW1hbmQsIFNFU0NsaWVudCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1zZXMnXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlciB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25NYW5hZ2VyIHtcblx0cHJpdmF0ZSBzZXNDbGllbnQgPSBuZXcgU0VTQ2xpZW50KHt9KVxuXHRwcml2YXRlIG5vTGFzdEFjY2Vzc0RhdGUgPSBuZXcgRGF0ZSgwKS50b0xvY2FsZVN0cmluZygpXG5cblx0cHVibGljIGFzeW5jIG5vdGlmeVVzZXIodXNlcjogUXVpY2tTaWdodFVzZXIpIHtcblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRjb25zb2xlLmRlYnVnKGBOb3RpZnlpbmcgJHtKU09OLnN0cmluZ2lmeSh1c2VyLCBudWxsLCAxKX1gKVxuXHRcdFxuXHRcdC8vIElmIHRoZSBkYXRlIGlzIDE5NzAsIHdlIGRpZG4ndCBmaW5kIGFueSBhY3Rpdml0eSBmb3IgdGhlIHVzZXJcblx0XHRjb25zdCBsYXN0QWNjZXNzID1cblx0XHRcdHVzZXIubGFzdEFjY2Vzcy50b0xvY2FsZVN0cmluZygpID09PSB0aGlzLm5vTGFzdEFjY2Vzc0RhdGVcblx0XHRcdFx0PyBgbm90IGluIHRoZSBsYXN0ICR7cHJvY2Vzcy5lbnYuZGVsZXRlRGF5c30gZGF5c2Bcblx0XHRcdFx0OiB1c2VyLmxhc3RBY2Nlc3MudG9Mb2NhbGVEYXRlU3RyaW5nKClcblxuXHRcdGNvbnN0IHN1YmplY3QgPSBgSTogUXVpY2tTaWdodCB1c2VyICR7dXNlci51c2VybmFtZX0gaW4gYWNjb3VudCAke3Byb2Nlc3MuZW52LmFjY291bnRBbGlhc30gd2lsbCBiZSBkZWxldGVkYFxuXHRcdGNvbnN0IGJvZHkgPSBgSW4gb3JkZXIgdG8gPGEgaHJlZj1cImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vcXVpY2tzaWdodC9wcmljaW5nL1wiPmNvbnRyb2wgY29zdHMgKCQyNC9tb250aC91c2VyKTwvYT4sXG4gICAgeW91ciBBV1MgUXVpY2tTaWdodCB1c2VyICcke3VzZXIudXNlcm5hbWV9JyBcbiAgICB3aWxsIGJlIGRlbGV0ZWQgd2hlbiB5b3UgaGF2ZSBub3QgYWNjZXNzZWQgUXVpY2tTaWdodCBpbiAke3Byb2Nlc3MuZW52LmRlbGV0ZURheXN9IGRheXMuIFxuICAgIENsb3VkVHJhaWwgcmVjb3JkcyBpbmRpY2F0ZSB0aGF0IHlvdXIgbGFzdCBhY2Nlc3Mgd2FzICR7bGFzdEFjY2Vzc30uPGJyIC8+PGJyIC8+XG4gICAgXG4gICAgWW91IGNhbiBrZWVwIHlvdXIgdXNlciBieSBsb2dnaW5nIGluIGFuZCB0YWtpbmcgYWN0aW9ucyBpbiBRdWlja1NpZ2h0LiBcbiAgICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGRvIG5vdGhpbmcsIGFuZCB5b3VyIHVzZXIgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRlbGV0ZWQuIFxuICAgIE5ldmVyIGZlYXIsIHlvdSBzaW1wbHkgbG9nIGJhY2sgaW50byBRdWlja1NpZ2h0IGFuZCBlbnRlciB5b3VyIGUtbWFpbCwgYW5kIHlvdXIgdXNlciBnZXRzIHJlY3JlYXRlZC4gXG4gICAgTm8gZGFzaGJvYXJkcyBvciBvdGhlciByZXNvdXJjZXMgd2lsbCBiZSBkZWxldGVkIGF0IHRoaXMgdGltZSAod2UgbWF5IGNsZWFuIHRob3NlIHVwIGluIHRoZSBmdXR1cmUsIHdpdGggbm90aWZpY2F0aW9uLCBvZiBjb3Vyc2UpLjxiciAvPjxiciAvPlxuICAgIFxuICAgIEFjY291bnQgTnVtYmVyOiAke3Byb2Nlc3MuZW52LmF3c0FjY291bnRJZH08YnIgLz5cbiAgICBBY2NvdW50IEFsaWFzOiAke3Byb2Nlc3MuZW52LmFjY291bnRBbGlhc308YnIgLz5cbiAgICBBc3N1bWVkIFJvbGU6ICR7dXNlci5pYW1Sb2xlfTxiciAvPlxuICAgIEVtYWlsOiAke3VzZXIuZW1haWx9PGJyIC8+PGJyIC8+XG4gIFxuICAgIEZvciBmdXJ0aGVyIGFzc2lzdGFuY2UsIGNvbnRhY3QgPGEgaHJlZj1cIm1haWx0bzoke3Byb2Nlc3MuZW52LmNvbnRhY3R9XCI+JHtwcm9jZXNzLmVudi5jb250YWN0fTwvYT4uIFRoYW5rIHlvdSBhbmQgaGF2ZSBhIGZhbnRhc3RpY2FsbHkgZnVuLWZpbGxlZCBkYXkg8J+lsy5cbiAgICBgXG5cblx0XHRjb25zdCBzZW5kRW1haWxDb21tYW5kID0gbmV3IFNlbmRFbWFpbENvbW1hbmQoe1xuXHRcdFx0U291cmNlOiBgJHtwcm9jZXNzLmVudi5hY2NvdW50QWxpYXN9IENsb3VkIEFjY291bnQgQWRtaW5pc3RyYXRvcjwke3Byb2Nlc3MuZW52LmZyb219PmAsXG5cdFx0XHREZXN0aW5hdGlvbjoge1xuXHRcdFx0XHRUb0FkZHJlc3NlczogW3VzZXIuZW1haWxdLFxuXHRcdFx0XHRDY0FkZHJlc3NlczogSlNPTi5wYXJzZShwcm9jZXNzLmVudi5jYyksXG5cdFx0XHR9LFxuXHRcdFx0UmVwbHlUb0FkZHJlc3NlczogW3Byb2Nlc3MuZW52LnJlcGx5VG9dLFxuXHRcdFx0U291cmNlQXJuOiBwcm9jZXNzLmVudi5zZXNBcm4sXG5cdFx0XHRNZXNzYWdlOiB7XG5cdFx0XHRcdFN1YmplY3Q6IHsgRGF0YTogc3ViamVjdCB9LFxuXHRcdFx0XHRCb2R5OiB7XG5cdFx0XHRcdFx0SHRtbDogeyBEYXRhOiBib2R5IH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH0pXG5cblx0XHRhd2FpdCB0aGlzLnNlc0NsaWVudC5zZW5kKHNlbmRFbWFpbENvbW1hbmQpXG5cdH1cbn0iLCJleHBvcnQgY29uc3QgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyA9IChvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG9wdGlvbnMudXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogb3B0aW9ucy51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIGRlZmF1bHRTaWduaW5nTmFtZTogXCJxdWlja3NpZ2h0XCIsXG4gICAgfTtcbn07XG4iLCJjb25zdCBzID0gXCJyZXF1aXJlZFwiLCB0ID0gXCJmblwiLCB1ID0gXCJhcmd2XCIsIHYgPSBcInJlZlwiO1xuY29uc3QgYSA9IHRydWUsIGIgPSBcImlzU2V0XCIsIGMgPSBcImJvb2xlYW5FcXVhbHNcIiwgZCA9IFwiZXJyb3JcIiwgZSA9IFwiZW5kcG9pbnRcIiwgZiA9IFwidHJlZVwiLCBnID0gXCJQYXJ0aXRpb25SZXN1bHRcIiwgaCA9IHsgW3NdOiBmYWxzZSwgXCJ0eXBlXCI6IFwiU3RyaW5nXCIgfSwgaSA9IHsgW3NdOiB0cnVlLCBcImRlZmF1bHRcIjogZmFsc2UsIFwidHlwZVwiOiBcIkJvb2xlYW5cIiB9LCBqID0geyBbdl06IFwiRW5kcG9pbnRcIiB9LCBrID0geyBbdF06IGMsIFt1XTogW3sgW3ZdOiBcIlVzZUZJUFNcIiB9LCB0cnVlXSB9LCBsID0geyBbdF06IGMsIFt1XTogW3sgW3ZdOiBcIlVzZUR1YWxTdGFja1wiIH0sIHRydWVdIH0sIG0gPSB7fSwgbiA9IHsgW3RdOiBcImdldEF0dHJcIiwgW3VdOiBbeyBbdl06IGcgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfSwgbyA9IHsgW3RdOiBjLCBbdV06IFt0cnVlLCB7IFt0XTogXCJnZXRBdHRyXCIsIFt1XTogW3sgW3ZdOiBnIH0sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgcCA9IFtrXSwgcSA9IFtsXSwgciA9IFt7IFt2XTogXCJSZWdpb25cIiB9XTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogaCwgVXNlRHVhbFN0YWNrOiBpLCBVc2VGSVBTOiBpLCBFbmRwb2ludDogaCB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBiLCBbdV06IFtqXSB9XSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IHAsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBjb25kaXRpb25zOiBxLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGQgfSwgeyBlbmRwb2ludDogeyB1cmw6IGosIHByb3BlcnRpZXM6IG0sIGhlYWRlcnM6IG0gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9LCB7IGNvbmRpdGlvbnM6IFt7IFt0XTogYiwgW3VdOiByIH1dLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3VdOiByLCBhc3NpZ246IGcgfV0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbaywgbF0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IGMsIFt1XTogW2EsIG5dIH0sIG9dLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcXVpY2tzaWdodC1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBtLCBoZWFkZXJzOiBtIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGQgfV0sIHR5cGU6IGYgfSwgeyBjb25kaXRpb25zOiBwLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBjLCBbdV06IFtuLCBhXSB9XSwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3F1aWNrc2lnaHQtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogbSwgaGVhZGVyczogbSB9LCB0eXBlOiBlIH1dLCB0eXBlOiBmIH0sIHsgZXJyb3I6IFwiRklQUyBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IEZJUFNcIiwgdHlwZTogZCB9XSwgdHlwZTogZiB9LCB7IGNvbmRpdGlvbnM6IHEsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbb10sIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9xdWlja3NpZ2h0LntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBtLCBoZWFkZXJzOiBtIH0sIHR5cGU6IGUgfV0sIHR5cGU6IGYgfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgdHlwZTogZCB9XSwgdHlwZTogZiB9LCB7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3F1aWNrc2lnaHQue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IG0sIGhlYWRlcnM6IG0gfSwgdHlwZTogZSB9XSwgdHlwZTogZiB9XSwgdHlwZTogZiB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgdHlwZTogZCB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAc21pdGh5L3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBydWxlU2V0IH0gZnJvbSBcIi4vcnVsZXNldFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVzb2x2ZUVuZHBvaW50KHJ1bGVTZXQsIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXM6IGVuZHBvaW50UGFyYW1zLFxuICAgICAgICBsb2dnZXI6IGNvbnRleHQubG9nZ2VyLFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IGdldEhvc3RIZWFkZXJQbHVnaW4sIHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWhvc3QtaGVhZGVyXCI7XG5pbXBvcnQgeyBnZXRMb2dnZXJQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXJcIjtcbmltcG9ydCB7IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJlY3Vyc2lvbi1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGdldEF3c0F1dGhQbHVnaW4sIHJlc29sdmVBd3NBdXRoQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmdcIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlUmVnaW9uQ29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50Q29uZmlnIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0UmV0cnlQbHVnaW4sIHJlc29sdmVSZXRyeUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzLCB9IGZyb20gXCIuL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBfX2dldFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnXCI7XG5pbXBvcnQgeyByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMgfSBmcm9tIFwiLi9ydW50aW1lRXh0ZW5zaW9uc1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBRdWlja1NpZ2h0Q2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKC4uLltjb25maWd1cmF0aW9uXSkge1xuICAgICAgICBjb25zdCBfY29uZmlnXzAgPSBfX2dldFJ1bnRpbWVDb25maWcoY29uZmlndXJhdGlvbiB8fCB7fSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVBd3NBdXRoQ29uZmlnKF9jb25maWdfNSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNyA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ182KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ184ID0gcmVzb2x2ZVJ1bnRpbWVFeHRlbnNpb25zKF9jb25maWdfNywgY29uZmlndXJhdGlvbj8uZXh0ZW5zaW9ucyB8fCBbXSk7XG4gICAgICAgIHN1cGVyKF9jb25maWdfOCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ184O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiBhcyBhd3NDaGVja1ZlcnNpb24gfSBmcm9tIFwiQGF3cy1zZGsvY29yZVwiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCJAc21pdGh5L2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAc21pdGh5L2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAc21pdGh5L25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQHNtaXRoeS91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgYXdzQ2hlY2tWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZz8uY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciA/PyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIoY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciksXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAc21pdGh5L3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBzbWl0aHkvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQHNtaXRoeS91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBpVmVyc2lvbjogXCIyMDE4LTA0LTAxXCIsXG4gICAgICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgICAgICBiYXNlNjRFbmNvZGVyOiBjb25maWc/LmJhc2U2NEVuY29kZXIgPz8gdG9CYXNlNjQsXG4gICAgICAgIGRpc2FibGVIb3N0UHJlZml4OiBjb25maWc/LmRpc2FibGVIb3N0UHJlZml4ID8/IGZhbHNlLFxuICAgICAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgICAgIGV4dGVuc2lvbnM6IGNvbmZpZz8uZXh0ZW5zaW9ucyA/PyBbXSxcbiAgICAgICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgICAgICBzZXJ2aWNlSWQ6IGNvbmZpZz8uc2VydmljZUlkID8/IFwiUXVpY2tTaWdodFwiLFxuICAgICAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgICAgICB1dGY4RGVjb2RlcjogY29uZmlnPy51dGY4RGVjb2RlciA/PyBmcm9tVXRmOCxcbiAgICAgICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgZ2V0QXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZUF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24sIH0gZnJvbSBcIkBhd3Mtc2RrL3JlZ2lvbi1jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldEh0dHBIYW5kbGVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiwgcmVzb2x2ZUh0dHBIYW5kbGVyUnVudGltZUNvbmZpZyB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uLCByZXNvbHZlRGVmYXVsdFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5jb25zdCBhc1BhcnRpYWwgPSAodCkgPT4gdDtcbmV4cG9ydCBjb25zdCByZXNvbHZlUnVudGltZUV4dGVuc2lvbnMgPSAocnVudGltZUNvbmZpZywgZXh0ZW5zaW9ucykgPT4ge1xuICAgIGNvbnN0IGV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIC4uLmFzUGFydGlhbChnZXRBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uKHJ1bnRpbWVDb25maWcpKSxcbiAgICAgICAgLi4uYXNQYXJ0aWFsKGdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uKHJ1bnRpbWVDb25maWcpKSxcbiAgICAgICAgLi4uYXNQYXJ0aWFsKGdldEh0dHBIYW5kbGVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbihydW50aW1lQ29uZmlnKSksXG4gICAgfTtcbiAgICBleHRlbnNpb25zLmZvckVhY2goKGV4dGVuc2lvbikgPT4gZXh0ZW5zaW9uLmNvbmZpZ3VyZShleHRlbnNpb25Db25maWd1cmF0aW9uKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucnVudGltZUNvbmZpZyxcbiAgICAgICAgLi4ucmVzb2x2ZUF3c1JlZ2lvbkV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiksXG4gICAgICAgIC4uLnJlc29sdmVEZWZhdWx0UnVudGltZUNvbmZpZyhleHRlbnNpb25Db25maWd1cmF0aW9uKSxcbiAgICAgICAgLi4ucmVzb2x2ZUh0dHBIYW5kbGVyUnVudGltZUNvbmZpZyhleHRlbnNpb25Db25maWd1cmF0aW9uKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTRU5TSVRJVkVfU1RSSU5HIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2Nlc3NEZW5pZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFZGl0aW9uID0ge1xuICAgIEVOVEVSUFJJU0U6IFwiRU5URVJQUklTRVwiLFxuICAgIEVOVEVSUFJJU0VfQU5EX1E6IFwiRU5URVJQUklTRV9BTkRfUVwiLFxuICAgIFNUQU5EQVJEOiBcIlNUQU5EQVJEXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhc2hib2FyZEJlaGF2aW9yID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNpbXBsZUF0dHJpYnV0ZUFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSB7XG4gICAgVU5JUVVFX1ZBTFVFOiBcIlVOSVFVRV9WQUxVRVwiLFxufTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSB7XG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRlQWdncmVnYXRpb25GdW5jdGlvbiA9IHtcbiAgICBDT1VOVDogXCJDT1VOVFwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG4gICAgTUFYOiBcIk1BWFwiLFxuICAgIE1JTjogXCJNSU5cIixcbn07XG5leHBvcnQgY29uc3QgU2ltcGxlTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbiA9IHtcbiAgICBBVkVSQUdFOiBcIkFWRVJBR0VcIixcbiAgICBDT1VOVDogXCJDT1VOVFwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG4gICAgTUFYOiBcIk1BWFwiLFxuICAgIE1FRElBTjogXCJNRURJQU5cIixcbiAgICBNSU46IFwiTUlOXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY29uc3QgU29ydERpcmVjdGlvbiA9IHtcbiAgICBBU0M6IFwiQVNDXCIsXG4gICAgREVTQzogXCJERVNDXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFuYWx5c2lzRXJyb3JUeXBlID0ge1xuICAgIEFDQ0VTU19ERU5JRUQ6IFwiQUNDRVNTX0RFTklFRFwiLFxuICAgIENPTFVNTl9HRU9HUkFQSElDX1JPTEVfTUlTTUFUQ0g6IFwiQ09MVU1OX0dFT0dSQVBISUNfUk9MRV9NSVNNQVRDSFwiLFxuICAgIENPTFVNTl9SRVBMQUNFTUVOVF9NSVNTSU5HOiBcIkNPTFVNTl9SRVBMQUNFTUVOVF9NSVNTSU5HXCIsXG4gICAgQ09MVU1OX1RZUEVfTUlTTUFUQ0g6IFwiQ09MVU1OX1RZUEVfTUlTTUFUQ0hcIixcbiAgICBEQVRBX1NFVF9OT1RfRk9VTkQ6IFwiREFUQV9TRVRfTk9UX0ZPVU5EXCIsXG4gICAgSU5URVJOQUxfRkFJTFVSRTogXCJJTlRFUk5BTF9GQUlMVVJFXCIsXG4gICAgUEFSQU1FVEVSX05PVF9GT1VORDogXCJQQVJBTUVURVJfTk9UX0ZPVU5EXCIsXG4gICAgUEFSQU1FVEVSX1RZUEVfSU5WQUxJRDogXCJQQVJBTUVURVJfVFlQRV9JTlZBTElEXCIsXG4gICAgUEFSQU1FVEVSX1ZBTFVFX0lOQ09NUEFUSUJMRTogXCJQQVJBTUVURVJfVkFMVUVfSU5DT01QQVRJQkxFXCIsXG4gICAgU09VUkNFX05PVF9GT1VORDogXCJTT1VSQ0VfTk9UX0ZPVU5EXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlc291cmNlU3RhdHVzID0ge1xuICAgIENSRUFUSU9OX0ZBSUxFRDogXCJDUkVBVElPTl9GQUlMRURcIixcbiAgICBDUkVBVElPTl9JTl9QUk9HUkVTUzogXCJDUkVBVElPTl9JTl9QUk9HUkVTU1wiLFxuICAgIENSRUFUSU9OX1NVQ0NFU1NGVUw6IFwiQ1JFQVRJT05fU1VDQ0VTU0ZVTFwiLFxuICAgIERFTEVURUQ6IFwiREVMRVRFRFwiLFxuICAgIFVQREFURV9GQUlMRUQ6IFwiVVBEQVRFX0ZBSUxFRFwiLFxuICAgIFVQREFURV9JTl9QUk9HUkVTUzogXCJVUERBVEVfSU5fUFJPR1JFU1NcIixcbiAgICBVUERBVEVfU1VDQ0VTU0ZVTDogXCJVUERBVEVfU1VDQ0VTU0ZVTFwiLFxufTtcbmV4cG9ydCBjb25zdCBSZXNpemVPcHRpb24gPSB7XG4gICAgRklYRUQ6IFwiRklYRURcIixcbiAgICBSRVNQT05TSVZFOiBcIlJFU1BPTlNJVkVcIixcbn07XG5leHBvcnQgY29uc3QgUGFwZXJPcmllbnRhdGlvbiA9IHtcbiAgICBMQU5EU0NBUEU6IFwiTEFORFNDQVBFXCIsXG4gICAgUE9SVFJBSVQ6IFwiUE9SVFJBSVRcIixcbn07XG5leHBvcnQgY29uc3QgUGFwZXJTaXplID0ge1xuICAgIEEwOiBcIkEwXCIsXG4gICAgQTE6IFwiQTFcIixcbiAgICBBMjogXCJBMlwiLFxuICAgIEEzOiBcIkEzXCIsXG4gICAgQTQ6IFwiQTRcIixcbiAgICBBNTogXCJBNVwiLFxuICAgIEpJU19CNDogXCJKSVNfQjRcIixcbiAgICBKSVNfQjU6IFwiSklTX0I1XCIsXG4gICAgVVNfTEVHQUw6IFwiVVNfTEVHQUxcIixcbiAgICBVU19MRVRURVI6IFwiVVNfTEVUVEVSXCIsXG4gICAgVVNfVEFCTE9JRF9MRURHRVI6IFwiVVNfVEFCTE9JRF9MRURHRVJcIixcbn07XG5leHBvcnQgY29uc3QgU2hlZXRDb250ZW50VHlwZSA9IHtcbiAgICBJTlRFUkFDVElWRTogXCJJTlRFUkFDVElWRVwiLFxuICAgIFBBR0lOQVRFRDogXCJQQUdJTkFURURcIixcbn07XG5leHBvcnQgY29uc3QgU3BlY2lhbFZhbHVlID0ge1xuICAgIEVNUFRZOiBcIkVNUFRZXCIsXG4gICAgTlVMTDogXCJOVUxMXCIsXG4gICAgT1RIRVI6IFwiT1RIRVJcIixcbn07XG5leHBvcnQgY29uc3QgTmVnYXRpdmVWYWx1ZURpc3BsYXlNb2RlID0ge1xuICAgIE5FR0FUSVZFOiBcIk5FR0FUSVZFXCIsXG4gICAgUE9TSVRJVkU6IFwiUE9TSVRJVkVcIixcbn07XG5leHBvcnQgY29uc3QgTnVtYmVyU2NhbGUgPSB7XG4gICAgQVVUTzogXCJBVVRPXCIsXG4gICAgQklMTElPTlM6IFwiQklMTElPTlNcIixcbiAgICBNSUxMSU9OUzogXCJNSUxMSU9OU1wiLFxuICAgIE5PTkU6IFwiTk9ORVwiLFxuICAgIFRIT1VTQU5EUzogXCJUSE9VU0FORFNcIixcbiAgICBUUklMTElPTlM6IFwiVFJJTExJT05TXCIsXG59O1xuZXhwb3J0IGNvbnN0IE51bWVyaWNTZXBhcmF0b3JTeW1ib2wgPSB7XG4gICAgQ09NTUE6IFwiQ09NTUFcIixcbiAgICBET1Q6IFwiRE9UXCIsXG4gICAgU1BBQ0U6IFwiU1BBQ0VcIixcbn07XG5leHBvcnQgY29uc3QgVmlzaWJpbGl0eSA9IHtcbiAgICBISURERU46IFwiSElEREVOXCIsXG4gICAgVklTSUJMRTogXCJWSVNJQkxFXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbHVtblJvbGUgPSB7XG4gICAgRElNRU5TSU9OOiBcIkRJTUVOU0lPTlwiLFxuICAgIE1FQVNVUkU6IFwiTUVBU1VSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBDcm9zc0RhdGFzZXRUeXBlcyA9IHtcbiAgICBBTExfREFUQVNFVFM6IFwiQUxMX0RBVEFTRVRTXCIsXG4gICAgU0lOR0xFX0RBVEFTRVQ6IFwiU0lOR0xFX0RBVEFTRVRcIixcbn07XG5leHBvcnQgY29uc3QgQ2F0ZWdvcnlGaWx0ZXJNYXRjaE9wZXJhdG9yID0ge1xuICAgIENPTlRBSU5TOiBcIkNPTlRBSU5TXCIsXG4gICAgRE9FU19OT1RfQ09OVEFJTjogXCJET0VTX05PVF9DT05UQUlOXCIsXG4gICAgRE9FU19OT1RfRVFVQUw6IFwiRE9FU19OT1RfRVFVQUxcIixcbiAgICBFTkRTX1dJVEg6IFwiRU5EU19XSVRIXCIsXG4gICAgRVFVQUxTOiBcIkVRVUFMU1wiLFxuICAgIFNUQVJUU19XSVRIOiBcIlNUQVJUU19XSVRIXCIsXG59O1xuZXhwb3J0IGNvbnN0IEZpbHRlck51bGxPcHRpb24gPSB7XG4gICAgQUxMX1ZBTFVFUzogXCJBTExfVkFMVUVTXCIsXG4gICAgTk9OX05VTExTX09OTFk6IFwiTk9OX05VTExTX09OTFlcIixcbiAgICBOVUxMU19PTkxZOiBcIk5VTExTX09OTFlcIixcbn07XG5leHBvcnQgY29uc3QgQ2F0ZWdvcnlGaWx0ZXJTZWxlY3RBbGxPcHRpb25zID0ge1xuICAgIEZJTFRFUl9BTExfVkFMVUVTOiBcIkZJTFRFUl9BTExfVkFMVUVTXCIsXG59O1xuZXhwb3J0IGNvbnN0IE51bWVyaWNFcXVhbGl0eU1hdGNoT3BlcmF0b3IgPSB7XG4gICAgRE9FU19OT1RfRVFVQUw6IFwiRE9FU19OT1RfRVFVQUxcIixcbiAgICBFUVVBTFM6IFwiRVFVQUxTXCIsXG59O1xuZXhwb3J0IGNvbnN0IE51bWVyaWNGaWx0ZXJTZWxlY3RBbGxPcHRpb25zID0ge1xuICAgIEZJTFRFUl9BTExfVkFMVUVTOiBcIkZJTFRFUl9BTExfVkFMVUVTXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFuY2hvck9wdGlvbiA9IHtcbiAgICBOT1c6IFwiTk9XXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRpbWVHcmFudWxhcml0eSA9IHtcbiAgICBEQVk6IFwiREFZXCIsXG4gICAgSE9VUjogXCJIT1VSXCIsXG4gICAgTUlMTElTRUNPTkQ6IFwiTUlMTElTRUNPTkRcIixcbiAgICBNSU5VVEU6IFwiTUlOVVRFXCIsXG4gICAgTU9OVEg6IFwiTU9OVEhcIixcbiAgICBRVUFSVEVSOiBcIlFVQVJURVJcIixcbiAgICBTRUNPTkQ6IFwiU0VDT05EXCIsXG4gICAgV0VFSzogXCJXRUVLXCIsXG4gICAgWUVBUjogXCJZRUFSXCIsXG59O1xuZXhwb3J0IGNvbnN0IFdpZGdldFN0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIEVOQUJMRUQ6IFwiRU5BQkxFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBSZWxhdGl2ZURhdGVUeXBlID0ge1xuICAgIExBU1Q6IFwiTEFTVFwiLFxuICAgIE5FWFQ6IFwiTkVYVFwiLFxuICAgIE5PVzogXCJOT1dcIixcbiAgICBQUkVWSU9VUzogXCJQUkVWSU9VU1wiLFxuICAgIFRISVM6IFwiVEhJU1wiLFxufTtcbmV4cG9ydCBjb25zdCBGaWx0ZXJWaXN1YWxTY29wZSA9IHtcbiAgICBBTExfVklTVUFMUzogXCJBTExfVklTVUFMU1wiLFxuICAgIFNFTEVDVEVEX1ZJU1VBTFM6IFwiU0VMRUNURURfVklTVUFMU1wiLFxufTtcbmV4cG9ydCBjb25zdCBEYXlPZlRoZVdlZWsgPSB7XG4gICAgRlJJREFZOiBcIkZSSURBWVwiLFxuICAgIE1PTkRBWTogXCJNT05EQVlcIixcbiAgICBTQVRVUkRBWTogXCJTQVRVUkRBWVwiLFxuICAgIFNVTkRBWTogXCJTVU5EQVlcIixcbiAgICBUSFVSU0RBWTogXCJUSFVSU0RBWVwiLFxuICAgIFRVRVNEQVk6IFwiVFVFU0RBWVwiLFxuICAgIFdFRE5FU0RBWTogXCJXRURORVNEQVlcIixcbn07XG5leHBvcnQgY29uc3QgVmFsdWVXaGVuVW5zZXRPcHRpb24gPSB7XG4gICAgTlVMTDogXCJOVUxMXCIsXG4gICAgUkVDT01NRU5ERURfVkFMVUU6IFwiUkVDT01NRU5ERURfVkFMVUVcIixcbn07XG5leHBvcnQgY29uc3QgUGFyYW1ldGVyVmFsdWVUeXBlID0ge1xuICAgIE1VTFRJX1ZBTFVFRDogXCJNVUxUSV9WQUxVRURcIixcbiAgICBTSU5HTEVfVkFMVUVEOiBcIlNJTkdMRV9WQUxVRURcIixcbn07XG5leHBvcnQgY29uc3QgRm9udERlY29yYXRpb24gPSB7XG4gICAgTk9ORTogXCJOT05FXCIsXG4gICAgVU5ERVJMSU5FOiBcIlVOREVSTElORVwiLFxufTtcbmV4cG9ydCBjb25zdCBSZWxhdGl2ZUZvbnRTaXplID0ge1xuICAgIEVYVFJBX0xBUkdFOiBcIkVYVFJBX0xBUkdFXCIsXG4gICAgRVhUUkFfU01BTEw6IFwiRVhUUkFfU01BTExcIixcbiAgICBMQVJHRTogXCJMQVJHRVwiLFxuICAgIE1FRElVTTogXCJNRURJVU1cIixcbiAgICBTTUFMTDogXCJTTUFMTFwiLFxufTtcbmV4cG9ydCBjb25zdCBGb250U3R5bGUgPSB7XG4gICAgSVRBTElDOiBcIklUQUxJQ1wiLFxuICAgIE5PUk1BTDogXCJOT1JNQUxcIixcbn07XG5leHBvcnQgY29uc3QgRm9udFdlaWdodE5hbWUgPSB7XG4gICAgQk9MRDogXCJCT0xEXCIsXG4gICAgTk9STUFMOiBcIk5PUk1BTFwiLFxufTtcbmV4cG9ydCBjb25zdCBTaGVldENvbnRyb2xEYXRlVGltZVBpY2tlclR5cGUgPSB7XG4gICAgREFURV9SQU5HRTogXCJEQVRFX1JBTkdFXCIsXG4gICAgU0lOR0xFX1ZBTFVFRDogXCJTSU5HTEVfVkFMVUVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNoZWV0Q29udHJvbExpc3RUeXBlID0ge1xuICAgIE1VTFRJX1NFTEVDVDogXCJNVUxUSV9TRUxFQ1RcIixcbiAgICBTSU5HTEVfU0VMRUNUOiBcIlNJTkdMRV9TRUxFQ1RcIixcbn07XG5leHBvcnQgY29uc3QgU2hlZXRDb250cm9sU2xpZGVyVHlwZSA9IHtcbiAgICBSQU5HRTogXCJSQU5HRVwiLFxuICAgIFNJTkdMRV9QT0lOVDogXCJTSU5HTEVfUE9JTlRcIixcbn07XG5leHBvcnQgY29uc3QgTGF5b3V0RWxlbWVudFR5cGUgPSB7XG4gICAgRklMVEVSX0NPTlRST0w6IFwiRklMVEVSX0NPTlRST0xcIixcbiAgICBQQVJBTUVURVJfQ09OVFJPTDogXCJQQVJBTUVURVJfQ09OVFJPTFwiLFxuICAgIFRFWFRfQk9YOiBcIlRFWFRfQk9YXCIsXG4gICAgVklTVUFMOiBcIlZJU1VBTFwiLFxufTtcbmV4cG9ydCBjb25zdCBTZWN0aW9uUGFnZUJyZWFrU3RhdHVzID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNlbGVjdGVkRmllbGRPcHRpb25zID0ge1xuICAgIEFMTF9GSUVMRFM6IFwiQUxMX0ZJRUxEU1wiLFxufTtcbmV4cG9ydCBjb25zdCBUYXJnZXRWaXN1YWxPcHRpb25zID0ge1xuICAgIEFMTF9WSVNVQUxTOiBcIkFMTF9WSVNVQUxTXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNlbGVjdEFsbFZhbHVlT3B0aW9ucyA9IHtcbiAgICBBTExfVkFMVUVTOiBcIkFMTF9WQUxVRVNcIixcbn07XG5leHBvcnQgY29uc3QgVVJMVGFyZ2V0Q29uZmlndXJhdGlvbiA9IHtcbiAgICBORVdfVEFCOiBcIk5FV19UQUJcIixcbiAgICBORVdfV0lORE9XOiBcIk5FV19XSU5ET1dcIixcbiAgICBTQU1FX1RBQjogXCJTQU1FX1RBQlwiLFxufTtcbmV4cG9ydCBjb25zdCBWaXN1YWxDdXN0b21BY3Rpb25UcmlnZ2VyID0ge1xuICAgIERBVEFfUE9JTlRfQ0xJQ0s6IFwiREFUQV9QT0lOVF9DTElDS1wiLFxuICAgIERBVEFfUE9JTlRfTUVOVTogXCJEQVRBX1BPSU5UX01FTlVcIixcbn07XG5leHBvcnQgY29uc3QgQmFyc0FycmFuZ2VtZW50ID0ge1xuICAgIENMVVNURVJFRDogXCJDTFVTVEVSRURcIixcbiAgICBTVEFDS0VEOiBcIlNUQUNLRURcIixcbiAgICBTVEFDS0VEX1BFUkNFTlQ6IFwiU1RBQ0tFRF9QRVJDRU5UXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhdGFMYWJlbENvbnRlbnQgPSB7XG4gICAgUEVSQ0VOVDogXCJQRVJDRU5UXCIsXG4gICAgVkFMVUU6IFwiVkFMVUVcIixcbiAgICBWQUxVRV9BTkRfUEVSQ0VOVDogXCJWQUxVRV9BTkRfUEVSQ0VOVFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxPdmVybGFwID0ge1xuICAgIERJU0FCTEVfT1ZFUkxBUDogXCJESVNBQkxFX09WRVJMQVBcIixcbiAgICBFTkFCTEVfT1ZFUkxBUDogXCJFTkFCTEVfT1ZFUkxBUFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxQb3NpdGlvbiA9IHtcbiAgICBCT1RUT006IFwiQk9UVE9NXCIsXG4gICAgSU5TSURFOiBcIklOU0lERVwiLFxuICAgIExFRlQ6IFwiTEVGVFwiLFxuICAgIE9VVFNJREU6IFwiT1VUU0lERVwiLFxuICAgIFJJR0hUOiBcIlJJR0hUXCIsXG4gICAgVE9QOiBcIlRPUFwiLFxufTtcbmV4cG9ydCBjb25zdCBMZWdlbmRQb3NpdGlvbiA9IHtcbiAgICBBVVRPOiBcIkFVVE9cIixcbiAgICBCT1RUT006IFwiQk9UVE9NXCIsXG4gICAgUklHSFQ6IFwiUklHSFRcIixcbiAgICBUT1A6IFwiVE9QXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJhckNoYXJ0T3JpZW50YXRpb24gPSB7XG4gICAgSE9SSVpPTlRBTDogXCJIT1JJWk9OVEFMXCIsXG4gICAgVkVSVElDQUw6IFwiVkVSVElDQUxcIixcbn07XG5leHBvcnQgY29uc3QgQXhpc0JpbmRpbmcgPSB7XG4gICAgUFJJTUFSWV9ZQVhJUzogXCJQUklNQVJZX1lBWElTXCIsXG4gICAgU0VDT05EQVJZX1lBWElTOiBcIlNFQ09OREFSWV9ZQVhJU1wiLFxufTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lU2VyaWVzVHlwZSA9IHtcbiAgICBCQVI6IFwiQkFSXCIsXG4gICAgTElORTogXCJMSU5FXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVMYWJlbEhvcml6b250YWxQb3NpdGlvbiA9IHtcbiAgICBDRU5URVI6IFwiQ0VOVEVSXCIsXG4gICAgTEVGVDogXCJMRUZUXCIsXG4gICAgUklHSFQ6IFwiUklHSFRcIixcbn07XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZVZhbHVlTGFiZWxSZWxhdGl2ZVBvc2l0aW9uID0ge1xuICAgIEFGVEVSX0NVU1RPTV9MQUJFTDogXCJBRlRFUl9DVVNUT01fTEFCRUxcIixcbiAgICBCRUZPUkVfQ1VTVE9NX0xBQkVMOiBcIkJFRk9SRV9DVVNUT01fTEFCRUxcIixcbn07XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZUxhYmVsVmVydGljYWxQb3NpdGlvbiA9IHtcbiAgICBBQk9WRTogXCJBQk9WRVwiLFxuICAgIEJFTE9XOiBcIkJFTE9XXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVQYXR0ZXJuVHlwZSA9IHtcbiAgICBEQVNIRUQ6IFwiREFTSEVEXCIsXG4gICAgRE9UVEVEOiBcIkRPVFRFRFwiLFxuICAgIFNPTElEOiBcIlNPTElEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFBhbmVsQm9yZGVyU3R5bGUgPSB7XG4gICAgREFTSEVEOiBcIkRBU0hFRFwiLFxuICAgIERPVFRFRDogXCJET1RURURcIixcbiAgICBTT0xJRDogXCJTT0xJRFwiLFxufTtcbmV4cG9ydCBjb25zdCBIb3Jpem9udGFsVGV4dEFsaWdubWVudCA9IHtcbiAgICBBVVRPOiBcIkFVVE9cIixcbiAgICBDRU5URVI6IFwiQ0VOVEVSXCIsXG4gICAgTEVGVDogXCJMRUZUXCIsXG4gICAgUklHSFQ6IFwiUklHSFRcIixcbn07XG5leHBvcnQgY29uc3QgU21hbGxNdWx0aXBsZXNBeGlzUGxhY2VtZW50ID0ge1xuICAgIElOU0lERTogXCJJTlNJREVcIixcbiAgICBPVVRTSURFOiBcIk9VVFNJREVcIixcbn07XG5leHBvcnQgY29uc3QgU21hbGxNdWx0aXBsZXNBeGlzU2NhbGUgPSB7XG4gICAgSU5ERVBFTkRFTlQ6IFwiSU5ERVBFTkRFTlRcIixcbiAgICBTSEFSRUQ6IFwiU0hBUkVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IE90aGVyQ2F0ZWdvcmllcyA9IHtcbiAgICBFWENMVURFOiBcIkVYQ0xVREVcIixcbiAgICBJTkNMVURFOiBcIklOQ0xVREVcIixcbn07XG5leHBvcnQgY29uc3QgVG9vbHRpcFRpdGxlVHlwZSA9IHtcbiAgICBOT05FOiBcIk5PTkVcIixcbiAgICBQUklNQVJZX1ZBTFVFOiBcIlBSSU1BUllfVkFMVUVcIixcbn07XG5leHBvcnQgY29uc3QgU2VsZWN0ZWRUb29sdGlwVHlwZSA9IHtcbiAgICBCQVNJQzogXCJCQVNJQ1wiLFxuICAgIERFVEFJTEVEOiBcIkRFVEFJTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFBpdm90VGFibGVEYXRhUGF0aFR5cGUgPSB7XG4gICAgQ09VTlRfTUVUUklDX0NPTFVNTjogXCJDT1VOVF9NRVRSSUNfQ09MVU1OXCIsXG4gICAgRU1QVFlfQ09MVU1OX0hFQURFUjogXCJFTVBUWV9DT0xVTU5fSEVBREVSXCIsXG4gICAgSElFUkFSQ0hZX1JPV1NfTEFZT1VUX0NPTFVNTjogXCJISUVSQVJDSFlfUk9XU19MQVlPVVRfQ09MVU1OXCIsXG4gICAgTVVMVElQTEVfUk9XX01FVFJJQ1NfQ09MVU1OOiBcIk1VTFRJUExFX1JPV19NRVRSSUNTX0NPTFVNTlwiLFxufTtcbmV4cG9ydCBjb25zdCBDYWxjdWxhdGVkRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3VzdG9tQ29sb3JGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZpZWxkVmFsdWUgJiYgeyBGaWVsZFZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ29sb3JzQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tQ29sb3JzICYmIHsgQ3VzdG9tQ29sb3JzOiBvYmouQ3VzdG9tQ29sb3JzLm1hcCgoaXRlbSkgPT4gQ3VzdG9tQ29sb3JGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTnVsbFN0cmluZyAmJiB7IE51bGxTdHJpbmc6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QcmVmaXggJiYgeyBQcmVmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5TdWZmaXggJiYgeyBTdWZmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1iZXJEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUHJlZml4ICYmIHsgUHJlZml4OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouU3VmZml4ICYmIHsgU3VmZml4OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIE51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb246IE51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUGVyY2VudGFnZURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QcmVmaXggJiYgeyBQcmVmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5TdWZmaXggJiYgeyBTdWZmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTnVtYmVyRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdW1iZXJEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbjogTnVtYmVyRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bWJlckRpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkN1cnJlbmN5RGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBDdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uOiBDdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlBlcmNlbnRhZ2VEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIFBlcmNlbnRhZ2VEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbjogUGVyY2VudGFnZURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5QZXJjZW50YWdlRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5OdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uOiBOdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uOiBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLk51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb246IE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbjogU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5OdW1iZXJGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbjogTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb246IERhdGVUaW1lRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZVRpbWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENvbHVtbkNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkNvbG9yc0NvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBDb2xvcnNDb25maWd1cmF0aW9uOiBDb2xvcnNDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Db2xvcnNDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJvbGxpbmdEYXRlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRXhwcmVzc2lvbiAmJiB7IEV4cHJlc3Npb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUaW1lRXF1YWxpdHlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlJvbGxpbmdEYXRlICYmIHsgUm9sbGluZ0RhdGU6IFJvbGxpbmdEYXRlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm9sbGluZ0RhdGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVGltZVJhbmdlRmlsdGVyVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlJvbGxpbmdEYXRlICYmIHsgUm9sbGluZ0RhdGU6IFJvbGxpbmdEYXRlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm9sbGluZ0RhdGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVGltZVJhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5SYW5nZU1pbmltdW1WYWx1ZSAmJiB7IFJhbmdlTWluaW11bVZhbHVlOiBUaW1lUmFuZ2VGaWx0ZXJWYWx1ZUZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUmFuZ2VNaW5pbXVtVmFsdWUpIH0pLFxuICAgIC4uLihvYmouUmFuZ2VNYXhpbXVtVmFsdWUgJiYgeyBSYW5nZU1heGltdW1WYWx1ZTogVGltZVJhbmdlRmlsdGVyVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJhbmdlTWF4aW11bVZhbHVlKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVGltZUVxdWFsaXR5RmlsdGVyICYmIHsgVGltZUVxdWFsaXR5RmlsdGVyOiBUaW1lRXF1YWxpdHlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlRpbWVFcXVhbGl0eUZpbHRlcikgfSksXG4gICAgLi4uKG9iai5UaW1lUmFuZ2VGaWx0ZXIgJiYgeyBUaW1lUmFuZ2VGaWx0ZXI6IFRpbWVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVGltZVJhbmdlRmlsdGVyKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZpbHRlckdyb3VwRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5GaWx0ZXJzICYmIHsgRmlsdGVyczogb2JqLkZpbHRlcnMubWFwKChpdGVtKSA9PiBGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdGF0aWNWYWx1ZXMgJiYgeyBTdGF0aWNWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5Sb2xsaW5nRGF0ZSAmJiB7IFJvbGxpbmdEYXRlOiBSb2xsaW5nRGF0ZUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJvbGxpbmdEYXRlKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVUaW1lVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21WYWx1ZSAmJiB7IEN1c3RvbVZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGVmYXVsdFZhbHVlcyAmJiB7IERlZmF1bHRWYWx1ZXM6IERhdGVUaW1lRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVmYXVsdFZhbHVlcykgfSksXG4gICAgLi4uKG9iai5WYWx1ZVdoZW5VbnNldCAmJiB7XG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiBEYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVmFsdWVXaGVuVW5zZXQpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGVjaW1hbERlZmF1bHRWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY1ZhbHVlcyAmJiB7IFN0YXRpY1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkN1c3RvbVZhbHVlICYmIHsgQ3VzdG9tVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRlZmF1bHRWYWx1ZXMgJiYgeyBEZWZhdWx0VmFsdWVzOiBEZWNpbWFsRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVmYXVsdFZhbHVlcykgfSksXG4gICAgLi4uKG9iai5WYWx1ZVdoZW5VbnNldCAmJiB7XG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiBEZWNpbWFsVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WYWx1ZVdoZW5VbnNldCksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBJbnRlZ2VyRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RhdGljVmFsdWVzICYmIHsgU3RhdGljVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgSW50ZWdlclZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWUgJiYgeyBDdXN0b21WYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGVmYXVsdFZhbHVlcyAmJiB7IERlZmF1bHRWYWx1ZXM6IEludGVnZXJEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EZWZhdWx0VmFsdWVzKSB9KSxcbiAgICAuLi4ob2JqLlZhbHVlV2hlblVuc2V0ICYmIHtcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IEludGVnZXJWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZhbHVlV2hlblVuc2V0KSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ0RlZmF1bHRWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY1ZhbHVlcyAmJiB7IFN0YXRpY1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ1ZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWUgJiYgeyBDdXN0b21WYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EZWZhdWx0VmFsdWVzICYmIHsgRGVmYXVsdFZhbHVlczogU3RyaW5nRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVmYXVsdFZhbHVlcykgfSksXG4gICAgLi4uKG9iai5WYWx1ZVdoZW5VbnNldCAmJiB7XG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiBTdHJpbmdWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZhbHVlV2hlblVuc2V0KSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdHJpbmdQYXJhbWV0ZXJEZWNsYXJhdGlvbiAmJiB7XG4gICAgICAgIFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uOiBTdHJpbmdQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uICYmIHtcbiAgICAgICAgRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uOiBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5JbnRlZ2VyUGFyYW1ldGVyRGVjbGFyYXRpb24gJiYge1xuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyRGVjbGFyYXRpb246IEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24gJiYge1xuICAgICAgICBEYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uOiBEYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNoZWV0RWxlbWVudFJlbmRlcmluZ1J1bGVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRnJlZUZvcm1MYXlvdXRFbGVtZW50RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5SZW5kZXJpbmdSdWxlcyAmJiB7XG4gICAgICAgIFJlbmRlcmluZ1J1bGVzOiBvYmouUmVuZGVyaW5nUnVsZXMubWFwKChpdGVtKSA9PiBTaGVldEVsZW1lbnRSZW5kZXJpbmdSdWxlRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZyZWVGb3JtTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgRnJlZUZvcm1TZWN0aW9uTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgU2VjdGlvbkxheW91dENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEJvZHlTZWN0aW9uQ29udGVudEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgQm9keVNlY3Rpb25Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBIZWFkZXJGb290ZXJTZWN0aW9uQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgU2VjdGlvbkJhc2VkTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgTGF5b3V0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBDdXN0b21QYXJhbWV0ZXJWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0cmluZ1ZhbHVlcyAmJiB7IFN0cmluZ1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLkludGVnZXJWYWx1ZXMgJiYgeyBJbnRlZ2VyVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouRGVjaW1hbFZhbHVlcyAmJiB7IERlY2ltYWxWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5EYXRlVGltZVZhbHVlcyAmJiB7IERhdGVUaW1lVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWVzICYmIHsgQ3VzdG9tVmFsdWVzOiBDdXN0b21QYXJhbWV0ZXJWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkN1c3RvbVZhbHVlcykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEN1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb246IEN1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkN1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZSAmJiB7IFZhbHVlOiBEZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVmFsdWUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3VzdG9tQWN0aW9uU2V0UGFyYW1ldGVyc09wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9ucyAmJiB7XG4gICAgICAgIFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbnM6IG9iai5QYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25zLm1hcCgoaXRlbSkgPT4gU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFZpc3VhbEN1c3RvbUFjdGlvbk9wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU2V0UGFyYW1ldGVyc09wZXJhdGlvbiAmJiB7XG4gICAgICAgIFNldFBhcmFtZXRlcnNPcGVyYXRpb246IEN1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlNldFBhcmFtZXRlcnNPcGVyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVmlzdWFsQ3VzdG9tQWN0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhUGF0aExhYmVsVHlwZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRmllbGRWYWx1ZSAmJiB7IEZpZWxkVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhUGF0aExhYmVsVHlwZSAmJiB7IERhdGFQYXRoTGFiZWxUeXBlOiBEYXRhUGF0aExhYmVsVHlwZUZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0YVBhdGhMYWJlbFR5cGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0YUxhYmVsT3B0aW9uc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YUxhYmVsVHlwZXMgJiYge1xuICAgICAgICBEYXRhTGFiZWxUeXBlczogb2JqLkRhdGFMYWJlbFR5cGVzLm1hcCgoaXRlbSkgPT4gRGF0YUxhYmVsVHlwZUZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgRm9ybWF0Q29uZmlndXJhdGlvbjogU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRlRGltZW5zaW9uRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVtZXJpY2FsRGltZW5zaW9uRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERpbWVuc2lvbkZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkICYmIHtcbiAgICAgICAgQ2F0ZWdvcmljYWxEaW1lbnNpb25GaWVsZDogQ2F0ZWdvcmljYWxEaW1lbnNpb25GaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ2F0ZWdvcmljYWxEaW1lbnNpb25GaWVsZCksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlRGltZW5zaW9uRmllbGQgJiYgeyBEYXRlRGltZW5zaW9uRmllbGQ6IERhdGVEaW1lbnNpb25GaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZURpbWVuc2lvbkZpZWxkKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENhbGN1bGF0ZWRNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBTdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVtZXJpY2FsTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhdGVnb3JpY2FsTWVhc3VyZUZpZWxkICYmIHtcbiAgICAgICAgQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGQ6IENhdGVnb3JpY2FsTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DYXRlZ29yaWNhbE1lYXN1cmVGaWVsZCksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlTWVhc3VyZUZpZWxkICYmIHsgRGF0ZU1lYXN1cmVGaWVsZDogRGF0ZU1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZU1lYXN1cmVGaWVsZCkgfSksXG4gICAgLi4uKG9iai5DYWxjdWxhdGVkTWVhc3VyZUZpZWxkICYmIHtcbiAgICAgICAgQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZDogQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZCksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IG9iai5WYWx1ZXMubWFwKChpdGVtKSA9PiBNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQmFyQ2hhcnRGaWVsZFdlbGxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlICYmIHsgVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY0NvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBTdGF0aWNDb25maWd1cmF0aW9uOiBSZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlN0YXRpY0NvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZVZhbHVlTGFiZWxDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgRm9ybWF0Q29uZmlndXJhdGlvbjogTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZUxhYmVsQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWVMYWJlbENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBWYWx1ZUxhYmVsQ29uZmlndXJhdGlvbjogUmVmZXJlbmNlTGluZVZhbHVlTGFiZWxDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WYWx1ZUxhYmVsQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIERhdGFDb25maWd1cmF0aW9uOiBSZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRhdGFDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxhYmVsQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIExhYmVsQ29uZmlndXJhdGlvbjogUmVmZXJlbmNlTGluZUxhYmVsQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTGFiZWxDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGFQYXRoVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZpZWxkVmFsdWUgJiYgeyBGaWVsZFZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0YVBhdGhDb2xvckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRWxlbWVudCAmJiB7IEVsZW1lbnQ6IERhdGFQYXRoVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkVsZW1lbnQpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVmlzdWFsUGFsZXR0ZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29sb3JNYXAgJiYgeyBDb2xvck1hcDogb2JqLkNvbG9yTWFwLm1hcCgoaXRlbSkgPT4gRGF0YVBhdGhDb2xvckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZpc3VhbFBhbGV0dGUgJiYgeyBWaXN1YWxQYWxldHRlOiBWaXN1YWxQYWxldHRlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WaXN1YWxQYWxldHRlKSB9KSxcbiAgICAuLi4ob2JqLkRhdGFMYWJlbHMgJiYgeyBEYXRhTGFiZWxzOiBEYXRhTGFiZWxPcHRpb25zRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRhTGFiZWxzKSB9KSxcbiAgICAuLi4ob2JqLlJlZmVyZW5jZUxpbmVzICYmIHtcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IG9iai5SZWZlcmVuY2VMaW5lcy5tYXAoKGl0ZW0pID0+IFJlZmVyZW5jZUxpbmVGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG4iLCJpbXBvcnQgeyBTRU5TSVRJVkVfU1RSSU5HIH0gZnJvbSBcIkBzbWl0aHkvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nLCBDb2x1bW5Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nLCBQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZywgfSBmcm9tIFwiLi9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBTbmFwc2hvdEZpbGVGb3JtYXRUeXBlID0ge1xuICAgIENTVjogXCJDU1ZcIixcbiAgICBFWENFTDogXCJFWENFTFwiLFxuICAgIFBERjogXCJQREZcIixcbn07XG5leHBvcnQgY29uc3QgU25hcHNob3RGaWxlU2hlZXRTZWxlY3Rpb25TY29wZSA9IHtcbiAgICBBTExfVklTVUFMUzogXCJBTExfVklTVUFMU1wiLFxuICAgIFNFTEVDVEVEX1ZJU1VBTFM6IFwiU0VMRUNURURfVklTVUFMU1wiLFxufTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUV4cG9ydEpvYkFuYWx5c2lzUHJvcGVydHlUb092ZXJyaWRlID0ge1xuICAgIE5BTUU6IFwiTmFtZVwiLFxufTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUV4cG9ydEpvYkRhc2hib2FyZFByb3BlcnR5VG9PdmVycmlkZSA9IHtcbiAgICBOQU1FOiBcIk5hbWVcIixcbn07XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVFeHBvcnRKb2JEYXRhU2V0UHJvcGVydHlUb092ZXJyaWRlID0ge1xuICAgIE5BTUU6IFwiTmFtZVwiLFxufTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUV4cG9ydEpvYkRhdGFTb3VyY2VQcm9wZXJ0eVRvT3ZlcnJpZGUgPSB7XG4gICAgQ0FUQUxPRzogXCJDYXRhbG9nXCIsXG4gICAgQ0xVU1RFUl9JRDogXCJDbHVzdGVySWRcIixcbiAgICBEQVRBQkFTRTogXCJEYXRhYmFzZVwiLFxuICAgIERBVEFfU0VUX05BTUU6IFwiRGF0YVNldE5hbWVcIixcbiAgICBESVNBQkxFX1NTTDogXCJEaXNhYmxlU3NsXCIsXG4gICAgRE9NQUlOOiBcIkRvbWFpblwiLFxuICAgIEhPU1Q6IFwiSG9zdFwiLFxuICAgIElOU1RBTkNFX0lEOiBcIkluc3RhbmNlSWRcIixcbiAgICBNQU5JRkVTVF9GSUxFX0xPQ0FUSU9OOiBcIk1hbmlmZXN0RmlsZUxvY2F0aW9uXCIsXG4gICAgTkFNRTogXCJOYW1lXCIsXG4gICAgUEFTU1dPUkQ6IFwiUGFzc3dvcmRcIixcbiAgICBQT1JUOiBcIlBvcnRcIixcbiAgICBST0xFX0FSTjogXCJSb2xlQXJuXCIsXG4gICAgU0VDUkVUX0FSTjogXCJTZWNyZXRBcm5cIixcbiAgICBVU0VSTkFNRTogXCJVc2VybmFtZVwiLFxuICAgIFdBUkVIT1VTRTogXCJXYXJlaG91c2VcIixcbiAgICBXT1JLX0dST1VQOiBcIldvcmtHcm91cFwiLFxufTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUV4cG9ydEpvYlJlZnJlc2hTY2hlZHVsZVByb3BlcnR5VG9PdmVycmlkZSA9IHtcbiAgICBTVEFSVF9BRlRFUl9EQVRFX1RJTUU6IFwiU3RhcnRBZnRlckRhdGVUaW1lXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlRXhwb3J0Sm9iVGhlbWVQcm9wZXJ0eVRvT3ZlcnJpZGUgPSB7XG4gICAgTkFNRTogXCJOYW1lXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlRXhwb3J0Sm9iVlBDQ29ubmVjdGlvblByb3BlcnR5VG9PdmVycmlkZSA9IHtcbiAgICBETlNfUkVTT0xWRVJTOiBcIkRuc1Jlc29sdmVyc1wiLFxuICAgIE5BTUU6IFwiTmFtZVwiLFxuICAgIFJPTEVfQVJOOiBcIlJvbGVBcm5cIixcbn07XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVFeHBvcnRGb3JtYXQgPSB7XG4gICAgQ0xPVURGT1JNQVRJT05fSlNPTjogXCJDTE9VREZPUk1BVElPTl9KU09OXCIsXG4gICAgUVVJQ0tTSUdIVF9KU09OOiBcIlFVSUNLU0lHSFRfSlNPTlwiLFxufTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUV4cG9ydEpvYlN0YXR1cyA9IHtcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgSU5fUFJPR1JFU1M6IFwiSU5fUFJPR1JFU1NcIixcbiAgICBRVUVVRURfRk9SX0lNTUVESUFURV9FWEVDVVRJT046IFwiUVVFVUVEX0ZPUl9JTU1FRElBVEVfRVhFQ1VUSU9OXCIsXG4gICAgU1VDQ0VTU0ZVTDogXCJTVUNDRVNTRlVMXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0RmFpbHVyZUFjdGlvbiA9IHtcbiAgICBET19OT1RISU5HOiBcIkRPX05PVEhJTkdcIixcbiAgICBST0xMQkFDSzogXCJST0xMQkFDS1wiLFxufTtcbmV4cG9ydCBjb25zdCBTdGFyYnVyc3RQcm9kdWN0VHlwZSA9IHtcbiAgICBFTlRFUlBSSVNFOiBcIkVOVEVSUFJJU0VcIixcbiAgICBHQUxBWFk6IFwiR0FMQVhZXCIsXG59O1xuZXhwb3J0IHZhciBEYXRhU291cmNlUGFyYW1ldGVycztcbihmdW5jdGlvbiAoRGF0YVNvdXJjZVBhcmFtZXRlcnMpIHtcbiAgICBEYXRhU291cmNlUGFyYW1ldGVycy52aXNpdCA9ICh2YWx1ZSwgdmlzaXRvcikgPT4ge1xuICAgICAgICBpZiAodmFsdWUuQW1hem9uRWxhc3RpY3NlYXJjaFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkFtYXpvbkVsYXN0aWNzZWFyY2hQYXJhbWV0ZXJzKHZhbHVlLkFtYXpvbkVsYXN0aWNzZWFyY2hQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkF0aGVuYVBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF0aGVuYVBhcmFtZXRlcnModmFsdWUuQXRoZW5hUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5BdXJvcmFQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5BdXJvcmFQYXJhbWV0ZXJzKHZhbHVlLkF1cm9yYVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuQXVyb3JhUG9zdGdyZVNxbFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF1cm9yYVBvc3RncmVTcWxQYXJhbWV0ZXJzKHZhbHVlLkF1cm9yYVBvc3RncmVTcWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkF3c0lvdEFuYWx5dGljc1BhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF3c0lvdEFuYWx5dGljc1BhcmFtZXRlcnModmFsdWUuQXdzSW90QW5hbHl0aWNzUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5KaXJhUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuSmlyYVBhcmFtZXRlcnModmFsdWUuSmlyYVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuTWFyaWFEYlBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLk1hcmlhRGJQYXJhbWV0ZXJzKHZhbHVlLk1hcmlhRGJQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLk15U3FsUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuTXlTcWxQYXJhbWV0ZXJzKHZhbHVlLk15U3FsUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5PcmFjbGVQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5PcmFjbGVQYXJhbWV0ZXJzKHZhbHVlLk9yYWNsZVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuUG9zdGdyZVNxbFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlBvc3RncmVTcWxQYXJhbWV0ZXJzKHZhbHVlLlBvc3RncmVTcWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlByZXN0b1BhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlByZXN0b1BhcmFtZXRlcnModmFsdWUuUHJlc3RvUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5SZHNQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5SZHNQYXJhbWV0ZXJzKHZhbHVlLlJkc1BhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuUmVkc2hpZnRQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5SZWRzaGlmdFBhcmFtZXRlcnModmFsdWUuUmVkc2hpZnRQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlMzUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUzNQYXJhbWV0ZXJzKHZhbHVlLlMzUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5TZXJ2aWNlTm93UGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuU2VydmljZU5vd1BhcmFtZXRlcnModmFsdWUuU2VydmljZU5vd1BhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuU25vd2ZsYWtlUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuU25vd2ZsYWtlUGFyYW1ldGVycyh2YWx1ZS5Tbm93Zmxha2VQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlNwYXJrUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuU3BhcmtQYXJhbWV0ZXJzKHZhbHVlLlNwYXJrUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5TcWxTZXJ2ZXJQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TcWxTZXJ2ZXJQYXJhbWV0ZXJzKHZhbHVlLlNxbFNlcnZlclBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuVGVyYWRhdGFQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5UZXJhZGF0YVBhcmFtZXRlcnModmFsdWUuVGVyYWRhdGFQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlR3aXR0ZXJQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5Ud2l0dGVyUGFyYW1ldGVycyh2YWx1ZS5Ud2l0dGVyUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5BbWF6b25PcGVuU2VhcmNoUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQW1hem9uT3BlblNlYXJjaFBhcmFtZXRlcnModmFsdWUuQW1hem9uT3BlblNlYXJjaFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuRXhhc29sUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuRXhhc29sUGFyYW1ldGVycyh2YWx1ZS5FeGFzb2xQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkRhdGFicmlja3NQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5EYXRhYnJpY2tzUGFyYW1ldGVycyh2YWx1ZS5EYXRhYnJpY2tzUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5TdGFyYnVyc3RQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TdGFyYnVyc3RQYXJhbWV0ZXJzKHZhbHVlLlN0YXJidXJzdFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuVHJpbm9QYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5Ucmlub1BhcmFtZXRlcnModmFsdWUuVHJpbm9QYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkJpZ1F1ZXJ5UGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQmlnUXVlcnlQYXJhbWV0ZXJzKHZhbHVlLkJpZ1F1ZXJ5UGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl8odmFsdWUuJHVua25vd25bMF0sIHZhbHVlLiR1bmtub3duWzFdKTtcbiAgICB9O1xufSkoRGF0YVNvdXJjZVBhcmFtZXRlcnMgfHwgKERhdGFTb3VyY2VQYXJhbWV0ZXJzID0ge30pKTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUltcG9ydEpvYlN0YXR1cyA9IHtcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgRkFJTEVEX1JPTExCQUNLX0NPTVBMRVRFRDogXCJGQUlMRURfUk9MTEJBQ0tfQ09NUExFVEVEXCIsXG4gICAgRkFJTEVEX1JPTExCQUNLX0VSUk9SOiBcIkZBSUxFRF9ST0xMQkFDS19FUlJPUlwiLFxuICAgIEZBSUxFRF9ST0xMQkFDS19JTl9QUk9HUkVTUzogXCJGQUlMRURfUk9MTEJBQ0tfSU5fUFJPR1JFU1NcIixcbiAgICBJTl9QUk9HUkVTUzogXCJJTl9QUk9HUkVTU1wiLFxuICAgIFFVRVVFRF9GT1JfSU1NRURJQVRFX0VYRUNVVElPTjogXCJRVUVVRURfRk9SX0lNTUVESUFURV9FWEVDVVRJT05cIixcbiAgICBTVUNDRVNTRlVMOiBcIlNVQ0NFU1NGVUxcIixcbn07XG5leHBvcnQgY29uc3QgQXNzaWdubWVudFN0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIERSQUZUOiBcIkRSQUZUXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0aW9uTWV0aG9kT3B0aW9uID0ge1xuICAgIEFDVElWRV9ESVJFQ1RPUlk6IFwiQUNUSVZFX0RJUkVDVE9SWVwiLFxuICAgIElBTV9BTkRfUVVJQ0tTSUdIVDogXCJJQU1fQU5EX1FVSUNLU0lHSFRcIixcbiAgICBJQU1fSURFTlRJVFlfQ0VOVEVSOiBcIklBTV9JREVOVElUWV9DRU5URVJcIixcbiAgICBJQU1fT05MWTogXCJJQU1fT05MWVwiLFxufTtcbmV4cG9ydCBjb25zdCBTZXJ2aWNlVHlwZSA9IHtcbiAgICBSRURTSElGVDogXCJSRURTSElGVFwiLFxufTtcbmV4cG9ydCBjb25zdCBBdXRob3JTcGVjaWZpZWRBZ2dyZWdhdGlvbiA9IHtcbiAgICBBVkVSQUdFOiBcIkFWRVJBR0VcIixcbiAgICBDT1VOVDogXCJDT1VOVFwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG4gICAgTUFYOiBcIk1BWFwiLFxuICAgIE1FRElBTjogXCJNRURJQU5cIixcbiAgICBNSU46IFwiTUlOXCIsXG4gICAgUEVSQ0VOVElMRTogXCJQRVJDRU5USUxFXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwic2VydmVyXCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRXhjZXB0aW9uUmVzb3VyY2VUeXBlID0ge1xuICAgIEFDQ09VTlRfU0VUVElOR1M6IFwiQUNDT1VOVF9TRVRUSU5HU1wiLFxuICAgIERBVEFfU0VUOiBcIkRBVEFfU0VUXCIsXG4gICAgREFUQV9TT1VSQ0U6IFwiREFUQV9TT1VSQ0VcIixcbiAgICBHUk9VUDogXCJHUk9VUFwiLFxuICAgIElBTVBPTElDWV9BU1NJR05NRU5UOiBcIklBTVBPTElDWV9BU1NJR05NRU5UXCIsXG4gICAgSU5HRVNUSU9OOiBcIklOR0VTVElPTlwiLFxuICAgIE5BTUVTUEFDRTogXCJOQU1FU1BBQ0VcIixcbiAgICBVU0VSOiBcIlVTRVJcIixcbiAgICBWUENfQ09OTkVDVElPTjogXCJWUENfQ09OTkVDVElPTlwiLFxufTtcbmV4cG9ydCBjbGFzcyBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VUeXBlID0gb3B0cy5SZXNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlc291cmNlVHlwZSA9IG9wdHMuUmVzb3VyY2VUeXBlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUaHJvdHRsaW5nRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUaHJvdHRsaW5nRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQ29sdW1uRGF0YVR5cGUgPSB7XG4gICAgREFURVRJTUU6IFwiREFURVRJTUVcIixcbiAgICBERUNJTUFMOiBcIkRFQ0lNQUxcIixcbiAgICBJTlRFR0VSOiBcIklOVEVHRVJcIixcbiAgICBTVFJJTkc6IFwiU1RSSU5HXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbHVtbkRhdGFTdWJUeXBlID0ge1xuICAgIEZJWEVEOiBcIkZJWEVEXCIsXG4gICAgRkxPQVQ6IFwiRkxPQVRcIixcbn07XG5leHBvcnQgY29uc3QgQ2F0ZWdvcnlGaWx0ZXJGdW5jdGlvbiA9IHtcbiAgICBDT05UQUlOUzogXCJDT05UQUlOU1wiLFxuICAgIEVYQUNUOiBcIkVYQUNUXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhdGVnb3J5RmlsdGVyVHlwZSA9IHtcbiAgICBDVVNUT01fRklMVEVSOiBcIkNVU1RPTV9GSUxURVJcIixcbiAgICBDVVNUT01fRklMVEVSX0xJU1Q6IFwiQ1VTVE9NX0ZJTFRFUl9MSVNUXCIsXG4gICAgRklMVEVSX0xJU1Q6IFwiRklMVEVSX0xJU1RcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uRGF0YVJvbGUgPSB7XG4gICAgRElNRU5TSU9OOiBcIkRJTUVOU0lPTlwiLFxuICAgIE1FQVNVUkU6IFwiTUVBU1VSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBHZW9TcGF0aWFsQ291bnRyeUNvZGUgPSB7XG4gICAgVVM6IFwiVVNcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uT3JkZXJpbmdUeXBlID0ge1xuICAgIEdSRUFURVJfSVNfQkVUVEVSOiBcIkdSRUFURVJfSVNfQkVUVEVSXCIsXG4gICAgTEVTU0VSX0lTX0JFVFRFUjogXCJMRVNTRVJfSVNfQkVUVEVSXCIsXG4gICAgU1BFQ0lGSUVEOiBcIlNQRUNJRklFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBHZW9TcGF0aWFsRGF0YVJvbGUgPSB7XG4gICAgQ0lUWTogXCJDSVRZXCIsXG4gICAgQ09VTlRSWTogXCJDT1VOVFJZXCIsXG4gICAgQ09VTlRZOiBcIkNPVU5UWVwiLFxuICAgIExBVElUVURFOiBcIkxBVElUVURFXCIsXG4gICAgTE9OR0lUVURFOiBcIkxPTkdJVFVERVwiLFxuICAgIFBPU1RDT0RFOiBcIlBPU1RDT0RFXCIsXG4gICAgU1RBVEU6IFwiU1RBVEVcIixcbn07XG5leHBvcnQgY29uc3QgQ29sdW1uVGFnTmFtZSA9IHtcbiAgICBDT0xVTU5fREVTQ1JJUFRJT046IFwiQ09MVU1OX0RFU0NSSVBUSU9OXCIsXG4gICAgQ09MVU1OX0dFT0dSQVBISUNfUk9MRTogXCJDT0xVTU5fR0VPR1JBUEhJQ19ST0xFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFVuZGVmaW5lZFNwZWNpZmllZFZhbHVlVHlwZSA9IHtcbiAgICBMRUFTVDogXCJMRUFTVFwiLFxuICAgIE1PU1Q6IFwiTU9TVFwiLFxufTtcbmV4cG9ydCBjbGFzcyBDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJzZXJ2ZXJcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwic2VydmVyXCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb25mbGljdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNvbmZsaWN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDb25mbGljdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDb25mbGljdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IENvbnN0YW50VHlwZSA9IHtcbiAgICBDT0xMRUNUSVZFOiBcIkNPTExFQ1RJVkVcIixcbiAgICBSQU5HRTogXCJSQU5HRVwiLFxuICAgIFNJTkdVTEFSOiBcIlNJTkdVTEFSXCIsXG59O1xuZXhwb3J0IGNsYXNzIFJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwic2VydmVyXCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJzZXJ2ZXJcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlc291cmNlVHlwZSA9IG9wdHMuUmVzb3VyY2VUeXBlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBWYWxpZGF0aW9uU3RyYXRlZ3lNb2RlID0ge1xuICAgIExFTklFTlQ6IFwiTEVOSUVOVFwiLFxuICAgIFNUUklDVDogXCJTVFJJQ1RcIixcbn07XG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VUeXBlID0gb3B0cy5SZXNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBEYXNoYm9hcmRVSVN0YXRlID0ge1xuICAgIENPTExBUFNFRDogXCJDT0xMQVBTRURcIixcbiAgICBFWFBBTkRFRDogXCJFWFBBTkRFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhc2V0UGFyYW1ldGVyVmFsdWVUeXBlID0ge1xuICAgIE1VTFRJX1ZBTFVFRDogXCJNVUxUSV9WQUxVRURcIixcbiAgICBTSU5HTEVfVkFMVUVEOiBcIlNJTkdMRV9WQUxVRURcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YVNldEltcG9ydE1vZGUgPSB7XG4gICAgRElSRUNUX1FVRVJZOiBcIkRJUkVDVF9RVUVSWVwiLFxuICAgIFNQSUNFOiBcIlNQSUNFXCIsXG59O1xuZXhwb3J0IHZhciBUcmFuc2Zvcm1PcGVyYXRpb247XG4oZnVuY3Rpb24gKFRyYW5zZm9ybU9wZXJhdGlvbikge1xuICAgIFRyYW5zZm9ybU9wZXJhdGlvbi52aXNpdCA9ICh2YWx1ZSwgdmlzaXRvcikgPT4ge1xuICAgICAgICBpZiAodmFsdWUuUHJvamVjdE9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUHJvamVjdE9wZXJhdGlvbih2YWx1ZS5Qcm9qZWN0T3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLkZpbHRlck9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuRmlsdGVyT3BlcmF0aW9uKHZhbHVlLkZpbHRlck9wZXJhdGlvbik7XG4gICAgICAgIGlmICh2YWx1ZS5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uKHZhbHVlLkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuUmVuYW1lQ29sdW1uT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5SZW5hbWVDb2x1bW5PcGVyYXRpb24odmFsdWUuUmVuYW1lQ29sdW1uT3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbih2YWx1ZS5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbik7XG4gICAgICAgIGlmICh2YWx1ZS5UYWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlRhZ0NvbHVtbk9wZXJhdGlvbih2YWx1ZS5UYWdDb2x1bW5PcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuVW50YWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlVudGFnQ29sdW1uT3BlcmF0aW9uKHZhbHVlLlVudGFnQ29sdW1uT3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uKHZhbHVlLk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbik7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl8odmFsdWUuJHVua25vd25bMF0sIHZhbHVlLiR1bmtub3duWzFdKTtcbiAgICB9O1xufSkoVHJhbnNmb3JtT3BlcmF0aW9uIHx8IChUcmFuc2Zvcm1PcGVyYXRpb24gPSB7fSkpO1xuZXhwb3J0IGNvbnN0IEpvaW5UeXBlID0ge1xuICAgIElOTkVSOiBcIklOTkVSXCIsXG4gICAgTEVGVDogXCJMRUZUXCIsXG4gICAgT1VURVI6IFwiT1VURVJcIixcbiAgICBSSUdIVDogXCJSSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBJbnB1dENvbHVtbkRhdGFUeXBlID0ge1xuICAgIEJJVDogXCJCSVRcIixcbiAgICBCT09MRUFOOiBcIkJPT0xFQU5cIixcbiAgICBEQVRFVElNRTogXCJEQVRFVElNRVwiLFxuICAgIERFQ0lNQUw6IFwiREVDSU1BTFwiLFxuICAgIElOVEVHRVI6IFwiSU5URUdFUlwiLFxuICAgIEpTT046IFwiSlNPTlwiLFxuICAgIFNUUklORzogXCJTVFJJTkdcIixcbn07XG5leHBvcnQgY29uc3QgRmlsZUZvcm1hdCA9IHtcbiAgICBDTEY6IFwiQ0xGXCIsXG4gICAgQ1NWOiBcIkNTVlwiLFxuICAgIEVMRjogXCJFTEZcIixcbiAgICBKU09OOiBcIkpTT05cIixcbiAgICBUU1Y6IFwiVFNWXCIsXG4gICAgWExTWDogXCJYTFNYXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRleHRRdWFsaWZpZXIgPSB7XG4gICAgRE9VQkxFX1FVT1RFOiBcIkRPVUJMRV9RVU9URVwiLFxuICAgIFNJTkdMRV9RVU9URTogXCJTSU5HTEVfUVVPVEVcIixcbn07XG5leHBvcnQgdmFyIFBoeXNpY2FsVGFibGU7XG4oZnVuY3Rpb24gKFBoeXNpY2FsVGFibGUpIHtcbiAgICBQaHlzaWNhbFRhYmxlLnZpc2l0ID0gKHZhbHVlLCB2aXNpdG9yKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS5SZWxhdGlvbmFsVGFibGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlJlbGF0aW9uYWxUYWJsZSh2YWx1ZS5SZWxhdGlvbmFsVGFibGUpO1xuICAgICAgICBpZiAodmFsdWUuQ3VzdG9tU3FsICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5DdXN0b21TcWwodmFsdWUuQ3VzdG9tU3FsKTtcbiAgICAgICAgaWYgKHZhbHVlLlMzU291cmNlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TM1NvdXJjZSh2YWx1ZS5TM1NvdXJjZSk7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl8odmFsdWUuJHVua25vd25bMF0sIHZhbHVlLiR1bmtub3duWzFdKTtcbiAgICB9O1xufSkoUGh5c2ljYWxUYWJsZSB8fCAoUGh5c2ljYWxUYWJsZSA9IHt9KSk7XG5leHBvcnQgY29uc3QgUm93TGV2ZWxQZXJtaXNzaW9uRm9ybWF0VmVyc2lvbiA9IHtcbiAgICBWRVJTSU9OXzE6IFwiVkVSU0lPTl8xXCIsXG4gICAgVkVSU0lPTl8yOiBcIlZFUlNJT05fMlwiLFxufTtcbmV4cG9ydCBjb25zdCBSb3dMZXZlbFBlcm1pc3Npb25Qb2xpY3kgPSB7XG4gICAgREVOWV9BQ0NFU1M6IFwiREVOWV9BQ0NFU1NcIixcbiAgICBHUkFOVF9BQ0NFU1M6IFwiR1JBTlRfQUNDRVNTXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIEVOQUJMRUQ6IFwiRU5BQkxFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlVHlwZSA9IHtcbiAgICBBRE9CRV9BTkFMWVRJQ1M6IFwiQURPQkVfQU5BTFlUSUNTXCIsXG4gICAgQU1BWk9OX0VMQVNUSUNTRUFSQ0g6IFwiQU1BWk9OX0VMQVNUSUNTRUFSQ0hcIixcbiAgICBBTUFaT05fT1BFTlNFQVJDSDogXCJBTUFaT05fT1BFTlNFQVJDSFwiLFxuICAgIEFUSEVOQTogXCJBVEhFTkFcIixcbiAgICBBVVJPUkE6IFwiQVVST1JBXCIsXG4gICAgQVVST1JBX1BPU1RHUkVTUUw6IFwiQVVST1JBX1BPU1RHUkVTUUxcIixcbiAgICBBV1NfSU9UX0FOQUxZVElDUzogXCJBV1NfSU9UX0FOQUxZVElDU1wiLFxuICAgIEJJR1FVRVJZOiBcIkJJR1FVRVJZXCIsXG4gICAgREFUQUJSSUNLUzogXCJEQVRBQlJJQ0tTXCIsXG4gICAgRVhBU09MOiBcIkVYQVNPTFwiLFxuICAgIEdJVEhVQjogXCJHSVRIVUJcIixcbiAgICBKSVJBOiBcIkpJUkFcIixcbiAgICBNQVJJQURCOiBcIk1BUklBREJcIixcbiAgICBNWVNRTDogXCJNWVNRTFwiLFxuICAgIE9SQUNMRTogXCJPUkFDTEVcIixcbiAgICBQT1NUR1JFU1FMOiBcIlBPU1RHUkVTUUxcIixcbiAgICBQUkVTVE86IFwiUFJFU1RPXCIsXG4gICAgUkVEU0hJRlQ6IFwiUkVEU0hJRlRcIixcbiAgICBTMzogXCJTM1wiLFxuICAgIFNBTEVTRk9SQ0U6IFwiU0FMRVNGT1JDRVwiLFxuICAgIFNFUlZJQ0VOT1c6IFwiU0VSVklDRU5PV1wiLFxuICAgIFNOT1dGTEFLRTogXCJTTk9XRkxBS0VcIixcbiAgICBTUEFSSzogXCJTUEFSS1wiLFxuICAgIFNRTFNFUlZFUjogXCJTUUxTRVJWRVJcIixcbiAgICBTVEFSQlVSU1Q6IFwiU1RBUkJVUlNUXCIsXG4gICAgVEVSQURBVEE6IFwiVEVSQURBVEFcIixcbiAgICBUSU1FU1RSRUFNOiBcIlRJTUVTVFJFQU1cIixcbiAgICBUUklOTzogXCJUUklOT1wiLFxuICAgIFRXSVRURVI6IFwiVFdJVFRFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBGb2xkZXJUeXBlID0ge1xuICAgIFJFU1RSSUNURUQ6IFwiUkVTVFJJQ1RFRFwiLFxuICAgIFNIQVJFRDogXCJTSEFSRURcIixcbn07XG5leHBvcnQgY29uc3QgU2hhcmluZ01vZGVsID0ge1xuICAgIEFDQ09VTlQ6IFwiQUNDT1VOVFwiLFxuICAgIE5BTUVTUEFDRTogXCJOQU1FU1BBQ0VcIixcbn07XG5leHBvcnQgY29uc3QgTWVtYmVyVHlwZSA9IHtcbiAgICBBTkFMWVNJUzogXCJBTkFMWVNJU1wiLFxuICAgIERBU0hCT0FSRDogXCJEQVNIQk9BUkRcIixcbiAgICBEQVRBU0VUOiBcIkRBVEFTRVRcIixcbiAgICBEQVRBU09VUkNFOiBcIkRBVEFTT1VSQ0VcIixcbiAgICBUT1BJQzogXCJUT1BJQ1wiLFxufTtcbmV4cG9ydCBjb25zdCBJbmdlc3Rpb25UeXBlID0ge1xuICAgIEZVTExfUkVGUkVTSDogXCJGVUxMX1JFRlJFU0hcIixcbiAgICBJTkNSRU1FTlRBTF9SRUZSRVNIOiBcIklOQ1JFTUVOVEFMX1JFRlJFU0hcIixcbn07XG5leHBvcnQgY29uc3QgSW5nZXN0aW9uU3RhdHVzID0ge1xuICAgIENBTkNFTExFRDogXCJDQU5DRUxMRURcIixcbiAgICBDT01QTEVURUQ6IFwiQ09NUExFVEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIElOSVRJQUxJWkVEOiBcIklOSVRJQUxJWkVEXCIsXG4gICAgUVVFVUVEOiBcIlFVRVVFRFwiLFxuICAgIFJVTk5JTkc6IFwiUlVOTklOR1wiLFxufTtcbmV4cG9ydCBjb25zdCBJZGVudGl0eVN0b3JlID0ge1xuICAgIFFVSUNLU0lHSFQ6IFwiUVVJQ0tTSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBOYW1lc3BhY2VTdGF0dXMgPSB7XG4gICAgQ1JFQVRFRDogXCJDUkVBVEVEXCIsXG4gICAgQ1JFQVRJTkc6IFwiQ1JFQVRJTkdcIixcbiAgICBERUxFVElORzogXCJERUxFVElOR1wiLFxuICAgIE5PTl9SRVRSWUFCTEVfRkFJTFVSRTogXCJOT05fUkVUUllBQkxFX0ZBSUxVUkVcIixcbiAgICBSRVRSWUFCTEVfRkFJTFVSRTogXCJSRVRSWUFCTEVfRkFJTFVSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBSZWZyZXNoSW50ZXJ2YWwgPSB7XG4gICAgREFJTFk6IFwiREFJTFlcIixcbiAgICBIT1VSTFk6IFwiSE9VUkxZXCIsXG4gICAgTUlOVVRFMTU6IFwiTUlOVVRFMTVcIixcbiAgICBNSU5VVEUzMDogXCJNSU5VVEUzMFwiLFxuICAgIE1PTlRITFk6IFwiTU9OVEhMWVwiLFxuICAgIFdFRUtMWTogXCJXRUVLTFlcIixcbn07XG5leHBvcnQgY29uc3QgRGF5T2ZXZWVrID0ge1xuICAgIEZSSURBWTogXCJGUklEQVlcIixcbiAgICBNT05EQVk6IFwiTU9OREFZXCIsXG4gICAgU0FUVVJEQVk6IFwiU0FUVVJEQVlcIixcbiAgICBTVU5EQVk6IFwiU1VOREFZXCIsXG4gICAgVEhVUlNEQVk6IFwiVEhVUlNEQVlcIixcbiAgICBUVUVTREFZOiBcIlRVRVNEQVlcIixcbiAgICBXRURORVNEQVk6IFwiV0VETkVTREFZXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJvbGUgPSB7XG4gICAgQURNSU46IFwiQURNSU5cIixcbiAgICBBVVRIT1I6IFwiQVVUSE9SXCIsXG4gICAgUkVBREVSOiBcIlJFQURFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0QWdncmVnYXRpb24gPSB7XG4gICAgQVZFUkFHRTogXCJBVkVSQUdFXCIsXG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNRURJQU46IFwiTUVESUFOXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxuICAgIFNUREVWOiBcIlNUREVWXCIsXG4gICAgU1RERVZQOiBcIlNUREVWUFwiLFxuICAgIFNVTTogXCJTVU1cIixcbiAgICBWQVI6IFwiVkFSXCIsXG4gICAgVkFSUDogXCJWQVJQXCIsXG59O1xuZXhwb3J0IGNvbnN0IERpc3BsYXlGb3JtYXQgPSB7XG4gICAgQVVUTzogXCJBVVRPXCIsXG4gICAgQ1VSUkVOQ1k6IFwiQ1VSUkVOQ1lcIixcbiAgICBEQVRFOiBcIkRBVEVcIixcbiAgICBOVU1CRVI6IFwiTlVNQkVSXCIsXG4gICAgUEVSQ0VOVDogXCJQRVJDRU5UXCIsXG4gICAgU1RSSU5HOiBcIlNUUklOR1wiLFxufTtcbmV4cG9ydCBjb25zdCBUb3BpY051bWVyaWNTZXBhcmF0b3JTeW1ib2wgPSB7XG4gICAgQ09NTUE6IFwiQ09NTUFcIixcbiAgICBET1Q6IFwiRE9UXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRvcGljVGltZUdyYW51bGFyaXR5ID0ge1xuICAgIERBWTogXCJEQVlcIixcbiAgICBIT1VSOiBcIkhPVVJcIixcbiAgICBNSU5VVEU6IFwiTUlOVVRFXCIsXG4gICAgTU9OVEg6IFwiTU9OVEhcIixcbiAgICBRVUFSVEVSOiBcIlFVQVJURVJcIixcbiAgICBTRUNPTkQ6IFwiU0VDT05EXCIsXG4gICAgV0VFSzogXCJXRUVLXCIsXG4gICAgWUVBUjogXCJZRUFSXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNuYXBzaG90Sm9iUzNSZXN1bHRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlMzVXJpICYmIHsgUzNVcmk6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBTbmFwc2hvdEpvYlJlc3VsdEZpbGVHcm91cEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUzNSZXN1bHRzICYmIHsgUzNSZXN1bHRzOiBvYmouUzNSZXN1bHRzLm1hcCgoaXRlbSkgPT4gU25hcHNob3RKb2JTM1Jlc3VsdEZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBbm9ueW1vdXNVc2VyU25hcHNob3RKb2JSZXN1bHRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iRGF0YVNvdXJjZUNyZWRlbnRpYWxQYWlyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUltcG9ydEpvYkRhdGFTb3VyY2VDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbFBhaXIgJiYgeyBDcmVkZW50aWFsUGFpcjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iRGF0YVNvdXJjZU92ZXJyaWRlUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgJiYgeyBEYXRhU291cmNlUGFyYW1ldGVyczogb2JqLkRhdGFTb3VyY2VQYXJhbWV0ZXJzIH0pLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQXNzZXRCdW5kbGVJbXBvcnRKb2JEYXRhU291cmNlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU291cmNlcyAmJiB7XG4gICAgICAgIERhdGFTb3VyY2VzOiBvYmouRGF0YVNvdXJjZXMubWFwKChpdGVtKSA9PiBBc3NldEJ1bmRsZUltcG9ydEpvYkRhdGFTb3VyY2VPdmVycmlkZVBhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkJvZHkgJiYgeyBCb2R5OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2VEZXNjcmlwdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQm9keSAmJiB7IEJvZHk6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDYWxjdWxhdGVkQ29sdW1uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FeHByZXNzaW9uICYmIHsgRXhwcmVzc2lvbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVUaW1lUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZWNpbWFsUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBJbnRlZ2VyUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBTdHJpbmdQYXJhbWV0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlcyAmJiB7IFZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdHJpbmdQYXJhbWV0ZXJzICYmIHtcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyczogb2JqLlN0cmluZ1BhcmFtZXRlcnMubWFwKChpdGVtKSA9PiBTdHJpbmdQYXJhbWV0ZXJGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxuICAgIC4uLihvYmouSW50ZWdlclBhcmFtZXRlcnMgJiYge1xuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyczogb2JqLkludGVnZXJQYXJhbWV0ZXJzLm1hcCgoaXRlbSkgPT4gSW50ZWdlclBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5EZWNpbWFsUGFyYW1ldGVycyAmJiB7XG4gICAgICAgIERlY2ltYWxQYXJhbWV0ZXJzOiBvYmouRGVjaW1hbFBhcmFtZXRlcnMubWFwKChpdGVtKSA9PiBEZWNpbWFsUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVUaW1lUGFyYW1ldGVycyAmJiB7XG4gICAgICAgIERhdGVUaW1lUGFyYW1ldGVyczogb2JqLkRhdGVUaW1lUGFyYW1ldGVycy5tYXAoKGl0ZW0pID0+IERhdGVUaW1lUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZUFuYWx5c2lzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUGFyYW1ldGVycyAmJiB7IFBhcmFtZXRlcnM6IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5QYXJhbWV0ZXJzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZUNvbHVtbnNPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbHVtbnMgJiYgeyBDb2x1bW5zOiBvYmouQ29sdW1ucy5tYXAoKGl0ZW0pID0+IENhbGN1bGF0ZWRDb2x1bW5GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhbGN1bGF0ZWRGaWVsZHMgJiYge1xuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBvYmouQ2FsY3VsYXRlZEZpZWxkcy5tYXAoKGl0ZW0pID0+IENhbGN1bGF0ZWRGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJEZWNsYXJhdGlvbnMgJiYge1xuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IG9iai5QYXJhbWV0ZXJEZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiBQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Db2x1bW5Db25maWd1cmF0aW9ucyAmJiB7XG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBvYmouQ29sdW1uQ29uZmlndXJhdGlvbnMubWFwKChpdGVtKSA9PiBDb2x1bW5Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZURhc2hib2FyZFJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBhcmFtZXRlcnMgJiYgeyBQYXJhbWV0ZXJzOiBfUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUGFyYW1ldGVycykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBGaWx0ZXJPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbmRpdGlvbkV4cHJlc3Npb24gJiYgeyBDb25kaXRpb25FeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVHJhbnNmb3JtT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4ge1xuICAgIGlmIChvYmouUHJvamVjdE9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBQcm9qZWN0T3BlcmF0aW9uOiBvYmouUHJvamVjdE9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouRmlsdGVyT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IEZpbHRlck9wZXJhdGlvbjogRmlsdGVyT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5GaWx0ZXJPcGVyYXRpb24pIH07XG4gICAgaWYgKG9iai5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IENyZWF0ZUNvbHVtbnNPcGVyYXRpb246IENyZWF0ZUNvbHVtbnNPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24pIH07XG4gICAgaWYgKG9iai5SZW5hbWVDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiBvYmouUmVuYW1lQ29sdW1uT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBDYXN0Q29sdW1uVHlwZU9wZXJhdGlvbjogb2JqLkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5UYWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgVGFnQ29sdW1uT3BlcmF0aW9uOiBvYmouVGFnQ29sdW1uT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5VbnRhZ0NvbHVtbk9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBVbnRhZ0NvbHVtbk9wZXJhdGlvbjogb2JqLlVudGFnQ29sdW1uT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai5PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uOiBvYmouT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uIH07XG4gICAgaWYgKG9iai4kdW5rbm93biAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBbb2JqLiR1bmtub3duWzBdXTogXCJVTktOT1dOXCIgfTtcbn07XG5leHBvcnQgY29uc3QgTG9naWNhbFRhYmxlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhVHJhbnNmb3JtcyAmJiB7XG4gICAgICAgIERhdGFUcmFuc2Zvcm1zOiBvYmouRGF0YVRyYW5zZm9ybXMubWFwKChpdGVtKSA9PiBUcmFuc2Zvcm1PcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUm93TGV2ZWxQZXJtaXNzaW9uVGFnUnVsZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTWF0Y2hBbGxWYWx1ZSAmJiB7IE1hdGNoQWxsVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5UYWdSdWxlcyAmJiB7IFRhZ1J1bGVzOiBvYmouVGFnUnVsZXMubWFwKChpdGVtKSA9PiBSb3dMZXZlbFBlcm1pc3Npb25UYWdSdWxlRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZURhdGFTZXRSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QaHlzaWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLlBoeXNpY2FsVGFibGVNYXApLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICgoYWNjW2tleV0gPSB2YWx1ZSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxvZ2ljYWxUYWJsZU1hcCAmJiB7XG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLkxvZ2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IExvZ2ljYWxUYWJsZUZpbHRlclNlbnNpdGl2ZUxvZyh2YWx1ZSkpLCBhY2MpLCB7fSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxQYWlyICYmIHsgQ3JlZGVudGlhbFBhaXI6IG9iai5DcmVkZW50aWFsUGFpciB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZURhdGFTb3VyY2VSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU291cmNlUGFyYW1ldGVycyAmJiB7IERhdGFTb3VyY2VQYXJhbWV0ZXJzOiBvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgfSksXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ2FsY3VsYXRlZEZpZWxkcyAmJiB7XG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IG9iai5DYWxjdWxhdGVkRmllbGRzLm1hcCgoaXRlbSkgPT4gQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlBhcmFtZXRlckRlY2xhcmF0aW9ucyAmJiB7XG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogb2JqLlBhcmFtZXRlckRlY2xhcmF0aW9ucy5tYXAoKGl0ZW0pID0+IFBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkNvbHVtbkNvbmZpZ3VyYXRpb25zICYmIHtcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IG9iai5Db2x1bW5Db25maWd1cmF0aW9ucy5tYXAoKGl0ZW0pID0+IENvbHVtbkNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3JlYXRlVGVtcGxhdGVSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBTZW1hbnRpY1R5cGVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlRydXRoeUNlbGxWYWx1ZSAmJiB7IFRydXRoeUNlbGxWYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLlRydXRoeUNlbGxWYWx1ZVN5bm9ueW1zICYmIHsgVHJ1dGh5Q2VsbFZhbHVlU3lub255bXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5GYWxzZXlDZWxsVmFsdWUgJiYgeyBGYWxzZXlDZWxsVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5GYWxzZXlDZWxsVmFsdWVTeW5vbnltcyAmJiB7IEZhbHNleUNlbGxWYWx1ZVN5bm9ueW1zOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNDYWxjdWxhdGVkRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouU2VtYW50aWNUeXBlICYmIHsgU2VtYW50aWNUeXBlOiBTZW1hbnRpY1R5cGVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlNlbWFudGljVHlwZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0NvbHVtbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU2VtYW50aWNUeXBlICYmIHsgU2VtYW50aWNUeXBlOiBTZW1hbnRpY1R5cGVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlNlbWFudGljVHlwZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0NhdGVnb3J5RmlsdGVyQ29uc3RhbnRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljQ2F0ZWdvcnlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbnN0YW50ICYmIHsgQ29uc3RhbnQ6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY1JhbmdlRmlsdGVyQ29uc3RhbnRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IF9QYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nLCBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZURlc2NyaXB0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nLCBMb2dpY2FsVGFibGVGaWx0ZXJTZW5zaXRpdmVMb2csIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2csIFRvcGljQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nLCBUb3BpY0NhdGVnb3J5RmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nLCBUb3BpY0NvbHVtbkZpbHRlclNlbnNpdGl2ZUxvZywgfSBmcm9tIFwiLi9tb2RlbHNfMlwiO1xuaW1wb3J0IHsgUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4vUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBGaWx0ZXJDbGFzcyA9IHtcbiAgICBDT05ESVRJT05BTF9WQUxVRV9GSUxURVI6IFwiQ09ORElUSU9OQUxfVkFMVUVfRklMVEVSXCIsXG4gICAgRU5GT1JDRURfVkFMVUVfRklMVEVSOiBcIkVORk9SQ0VEX1ZBTFVFX0ZJTFRFUlwiLFxuICAgIE5BTUVEX1ZBTFVFX0ZJTFRFUjogXCJOQU1FRF9WQUxVRV9GSUxURVJcIixcbn07XG5leHBvcnQgY29uc3QgTmFtZWRGaWx0ZXJUeXBlID0ge1xuICAgIENBVEVHT1JZX0ZJTFRFUjogXCJDQVRFR09SWV9GSUxURVJcIixcbiAgICBEQVRFX1JBTkdFX0ZJTFRFUjogXCJEQVRFX1JBTkdFX0ZJTFRFUlwiLFxuICAgIE5VTUVSSUNfRVFVQUxJVFlfRklMVEVSOiBcIk5VTUVSSUNfRVFVQUxJVFlfRklMVEVSXCIsXG4gICAgTlVNRVJJQ19SQU5HRV9GSUxURVI6IFwiTlVNRVJJQ19SQU5HRV9GSUxURVJcIixcbiAgICBSRUxBVElWRV9EQVRFX0ZJTFRFUjogXCJSRUxBVElWRV9EQVRFX0ZJTFRFUlwiLFxufTtcbmV4cG9ydCBjb25zdCBOYW1lZEZpbHRlckFnZ1R5cGUgPSB7XG4gICAgQVZFUkFHRTogXCJBVkVSQUdFXCIsXG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNRURJQU46IFwiTUVESUFOXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxuICAgIE5PX0FHR1JFR0FUSU9OOiBcIk5PX0FHR1JFR0FUSU9OXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNSZWxhdGl2ZURhdGVGaWx0ZXJGdW5jdGlvbiA9IHtcbiAgICBMQVNUOiBcIkxBU1RcIixcbiAgICBORVhUOiBcIk5FWFRcIixcbiAgICBOT1c6IFwiTk9XXCIsXG4gICAgUFJFVklPVVM6IFwiUFJFVklPVVNcIixcbiAgICBUSElTOiBcIlRISVNcIixcbn07XG5leHBvcnQgY29uc3QgTmFtZWRFbnRpdHlBZ2dUeXBlID0ge1xuICAgIEFWRVJBR0U6IFwiQVZFUkFHRVwiLFxuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgQ1VTVE9NOiBcIkNVU1RPTVwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG4gICAgTUFYOiBcIk1BWFwiLFxuICAgIE1FRElBTjogXCJNRURJQU5cIixcbiAgICBNSU46IFwiTUlOXCIsXG4gICAgUEVSQ0VOVElMRTogXCJQRVJDRU5USUxFXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY29uc3QgUHJvcGVydHlSb2xlID0ge1xuICAgIElEOiBcIklEXCIsXG4gICAgUFJJTUFSWTogXCJQUklNQVJZXCIsXG59O1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5VXNhZ2UgPSB7XG4gICAgRElNRU5TSU9OOiBcIkRJTUVOU0lPTlwiLFxuICAgIElOSEVSSVQ6IFwiSU5IRVJJVFwiLFxuICAgIE1FQVNVUkU6IFwiTUVBU1VSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBUb3BpY1NjaGVkdWxlVHlwZSA9IHtcbiAgICBEQUlMWTogXCJEQUlMWVwiLFxuICAgIEhPVVJMWTogXCJIT1VSTFlcIixcbiAgICBNT05USExZOiBcIk1PTlRITFlcIixcbiAgICBXRUVLTFk6IFwiV0VFS0xZXCIsXG59O1xuZXhwb3J0IGNvbnN0IFZQQ0Nvbm5lY3Rpb25BdmFpbGFiaWxpdHlTdGF0dXMgPSB7XG4gICAgQVZBSUxBQkxFOiBcIkFWQUlMQUJMRVwiLFxuICAgIFBBUlRJQUxMWV9BVkFJTEFCTEU6IFwiUEFSVElBTExZX0FWQUlMQUJMRVwiLFxuICAgIFVOQVZBSUxBQkxFOiBcIlVOQVZBSUxBQkxFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFZQQ0Nvbm5lY3Rpb25SZXNvdXJjZVN0YXR1cyA9IHtcbiAgICBDUkVBVElPTl9GQUlMRUQ6IFwiQ1JFQVRJT05fRkFJTEVEXCIsXG4gICAgQ1JFQVRJT05fSU5fUFJPR1JFU1M6IFwiQ1JFQVRJT05fSU5fUFJPR1JFU1NcIixcbiAgICBDUkVBVElPTl9TVUNDRVNTRlVMOiBcIkNSRUFUSU9OX1NVQ0NFU1NGVUxcIixcbiAgICBERUxFVEVEOiBcIkRFTEVURURcIixcbiAgICBERUxFVElPTl9GQUlMRUQ6IFwiREVMRVRJT05fRkFJTEVEXCIsXG4gICAgREVMRVRJT05fSU5fUFJPR1JFU1M6IFwiREVMRVRJT05fSU5fUFJPR1JFU1NcIixcbiAgICBVUERBVEVfRkFJTEVEOiBcIlVQREFURV9GQUlMRURcIixcbiAgICBVUERBVEVfSU5fUFJPR1JFU1M6IFwiVVBEQVRFX0lOX1BST0dSRVNTXCIsXG4gICAgVVBEQVRFX1NVQ0NFU1NGVUw6IFwiVVBEQVRFX1NVQ0NFU1NGVUxcIixcbn07XG5leHBvcnQgY29uc3QgRGFzaGJvYXJkRXJyb3JUeXBlID0ge1xuICAgIEFDQ0VTU19ERU5JRUQ6IFwiQUNDRVNTX0RFTklFRFwiLFxuICAgIENPTFVNTl9HRU9HUkFQSElDX1JPTEVfTUlTTUFUQ0g6IFwiQ09MVU1OX0dFT0dSQVBISUNfUk9MRV9NSVNNQVRDSFwiLFxuICAgIENPTFVNTl9SRVBMQUNFTUVOVF9NSVNTSU5HOiBcIkNPTFVNTl9SRVBMQUNFTUVOVF9NSVNTSU5HXCIsXG4gICAgQ09MVU1OX1RZUEVfTUlTTUFUQ0g6IFwiQ09MVU1OX1RZUEVfTUlTTUFUQ0hcIixcbiAgICBEQVRBX1NFVF9OT1RfRk9VTkQ6IFwiREFUQV9TRVRfTk9UX0ZPVU5EXCIsXG4gICAgSU5URVJOQUxfRkFJTFVSRTogXCJJTlRFUk5BTF9GQUlMVVJFXCIsXG4gICAgUEFSQU1FVEVSX05PVF9GT1VORDogXCJQQVJBTUVURVJfTk9UX0ZPVU5EXCIsXG4gICAgUEFSQU1FVEVSX1RZUEVfSU5WQUxJRDogXCJQQVJBTUVURVJfVFlQRV9JTlZBTElEXCIsXG4gICAgUEFSQU1FVEVSX1ZBTFVFX0lOQ09NUEFUSUJMRTogXCJQQVJBTUVURVJfVkFMVUVfSU5DT01QQVRJQkxFXCIsXG4gICAgU09VUkNFX05PVF9GT1VORDogXCJTT1VSQ0VfTk9UX0ZPVU5EXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhc2hib2FyZEZpbHRlckF0dHJpYnV0ZSA9IHtcbiAgICBEQVNIQk9BUkRfTkFNRTogXCJEQVNIQk9BUkRfTkFNRVwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxuICAgIFFVSUNLU0lHSFRfT1dORVI6IFwiUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIFFVSUNLU0lHSFRfVVNFUjogXCJRVUlDS1NJR0hUX1VTRVJcIixcbiAgICBRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU2V0RmlsdGVyQXR0cmlidXRlID0ge1xuICAgIERBVEFTRVRfTkFNRTogXCJEQVRBU0VUX05BTUVcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX09XTkVSOiBcIlFVSUNLU0lHSFRfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxufTtcbmV4cG9ydCBjb25zdCBMb29rYmFja1dpbmRvd1NpemVVbml0ID0ge1xuICAgIERBWTogXCJEQVlcIixcbiAgICBIT1VSOiBcIkhPVVJcIixcbiAgICBXRUVLOiBcIldFRUtcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YVNvdXJjZUVycm9ySW5mb1R5cGUgPSB7XG4gICAgQUNDRVNTX0RFTklFRDogXCJBQ0NFU1NfREVOSUVEXCIsXG4gICAgQ09ORkxJQ1Q6IFwiQ09ORkxJQ1RcIixcbiAgICBDT1BZX1NPVVJDRV9OT1RfRk9VTkQ6IFwiQ09QWV9TT1VSQ0VfTk9UX0ZPVU5EXCIsXG4gICAgRU5HSU5FX1ZFUlNJT05fTk9UX1NVUFBPUlRFRDogXCJFTkdJTkVfVkVSU0lPTl9OT1RfU1VQUE9SVEVEXCIsXG4gICAgR0VORVJJQ19TUUxfRkFJTFVSRTogXCJHRU5FUklDX1NRTF9GQUlMVVJFXCIsXG4gICAgVElNRU9VVDogXCJUSU1FT1VUXCIsXG4gICAgVU5LTk9XTjogXCJVTktOT1dOXCIsXG4gICAgVU5LTk9XTl9IT1NUOiBcIlVOS05PV05fSE9TVFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlRmlsdGVyQXR0cmlidXRlID0ge1xuICAgIERBVEFTT1VSQ0VfTkFNRTogXCJEQVRBU09VUkNFX05BTUVcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbn07XG5leHBvcnQgY29uc3QgU25hcHNob3RKb2JTdGF0dXMgPSB7XG4gICAgQ09NUExFVEVEOiBcIkNPTVBMRVRFRFwiLFxuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBRVUVVRUQ6IFwiUVVFVUVEXCIsXG4gICAgUlVOTklORzogXCJSVU5OSU5HXCIsXG59O1xuZXhwb3J0IGNsYXNzIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJbmdlc3Rpb25FcnJvclR5cGUgPSB7XG4gICAgQUNDT1VOVF9DQVBBQ0lUWV9MSU1JVF9FWENFRURFRDogXCJBQ0NPVU5UX0NBUEFDSVRZX0xJTUlUX0VYQ0VFREVEXCIsXG4gICAgQ09OTkVDVElPTl9GQUlMVVJFOiBcIkNPTk5FQ1RJT05fRkFJTFVSRVwiLFxuICAgIENVUlNPUl9OT1RfRU5BQkxFRDogXCJDVVJTT1JfTk9UX0VOQUJMRURcIixcbiAgICBDVVNUT01FUl9FUlJPUjogXCJDVVNUT01FUl9FUlJPUlwiLFxuICAgIERBVEFfU0VUX0RFTEVURUQ6IFwiREFUQV9TRVRfREVMRVRFRFwiLFxuICAgIERBVEFfU0VUX05PVF9TUElDRTogXCJEQVRBX1NFVF9OT1RfU1BJQ0VcIixcbiAgICBEQVRBX1NFVF9TSVpFX0xJTUlUX0VYQ0VFREVEOiBcIkRBVEFfU0VUX1NJWkVfTElNSVRfRVhDRUVERURcIixcbiAgICBEQVRBX1NPVVJDRV9BVVRIX0ZBSUxFRDogXCJEQVRBX1NPVVJDRV9BVVRIX0ZBSUxFRFwiLFxuICAgIERBVEFfU09VUkNFX0NPTk5FQ1RJT05fRkFJTEVEOiBcIkRBVEFfU09VUkNFX0NPTk5FQ1RJT05fRkFJTEVEXCIsXG4gICAgREFUQV9TT1VSQ0VfTk9UX0ZPVU5EOiBcIkRBVEFfU09VUkNFX05PVF9GT1VORFwiLFxuICAgIERBVEFfVE9MRVJBTkNFX0VYQ0VQVElPTjogXCJEQVRBX1RPTEVSQU5DRV9FWENFUFRJT05cIixcbiAgICBEVVBMSUNBVEVfQ09MVU1OX05BTUVTX0ZPVU5EOiBcIkRVUExJQ0FURV9DT0xVTU5fTkFNRVNfRk9VTkRcIixcbiAgICBFTEFTVElDU0VBUkNIX0NVUlNPUl9OT1RfRU5BQkxFRDogXCJFTEFTVElDU0VBUkNIX0NVUlNPUl9OT1RfRU5BQkxFRFwiLFxuICAgIEZBSUxVUkVfVE9fQVNTVU1FX1JPTEU6IFwiRkFJTFVSRV9UT19BU1NVTUVfUk9MRVwiLFxuICAgIEZBSUxVUkVfVE9fUFJPQ0VTU19KU09OX0ZJTEU6IFwiRkFJTFVSRV9UT19QUk9DRVNTX0pTT05fRklMRVwiLFxuICAgIElBTV9ST0xFX05PVF9BVkFJTEFCTEU6IFwiSUFNX1JPTEVfTk9UX0FWQUlMQUJMRVwiLFxuICAgIElOR0VTVElPTl9DQU5DRUxFRDogXCJJTkdFU1RJT05fQ0FOQ0VMRURcIixcbiAgICBJTkdFU1RJT05fU1VQRVJTRURFRDogXCJJTkdFU1RJT05fU1VQRVJTRURFRFwiLFxuICAgIElOVEVSTkFMX1NFUlZJQ0VfRVJST1I6IFwiSU5URVJOQUxfU0VSVklDRV9FUlJPUlwiLFxuICAgIElOVkFMSURfREFUQVBSRVBfU1lOVEFYOiBcIklOVkFMSURfREFUQVBSRVBfU1lOVEFYXCIsXG4gICAgSU5WQUxJRF9EQVRBX1NPVVJDRV9DT05GSUc6IFwiSU5WQUxJRF9EQVRBX1NPVVJDRV9DT05GSUdcIixcbiAgICBJTlZBTElEX0RBVEVfRk9STUFUOiBcIklOVkFMSURfREFURV9GT1JNQVRcIixcbiAgICBJT1RfREFUQV9TRVRfRklMRV9FTVBUWTogXCJJT1RfREFUQV9TRVRfRklMRV9FTVBUWVwiLFxuICAgIElPVF9GSUxFX05PVF9GT1VORDogXCJJT1RfRklMRV9OT1RfRk9VTkRcIixcbiAgICBPQVVUSF9UT0tFTl9GQUlMVVJFOiBcIk9BVVRIX1RPS0VOX0ZBSUxVUkVcIixcbiAgICBQQVNTV09SRF9BVVRIRU5USUNBVElPTl9GQUlMVVJFOiBcIlBBU1NXT1JEX0FVVEhFTlRJQ0FUSU9OX0ZBSUxVUkVcIixcbiAgICBQRVJNSVNTSU9OX0RFTklFRDogXCJQRVJNSVNTSU9OX0RFTklFRFwiLFxuICAgIFBFUk1JU1NJT05fTk9UX0ZPVU5EOiBcIlBFUk1JU1NJT05fTk9UX0ZPVU5EXCIsXG4gICAgUVVFUllfVElNRU9VVDogXCJRVUVSWV9USU1FT1VUXCIsXG4gICAgUkVGUkVTSF9TVVBQUkVTU0VEX0JZX0VESVQ6IFwiUkVGUkVTSF9TVVBQUkVTU0VEX0JZX0VESVRcIixcbiAgICBST1dfU0laRV9MSU1JVF9FWENFRURFRDogXCJST1dfU0laRV9MSU1JVF9FWENFRURFRFwiLFxuICAgIFMzX0ZJTEVfSU5BQ0NFU1NJQkxFOiBcIlMzX0ZJTEVfSU5BQ0NFU1NJQkxFXCIsXG4gICAgUzNfTUFOSUZFU1RfRVJST1I6IFwiUzNfTUFOSUZFU1RfRVJST1JcIixcbiAgICBTM19VUExPQURFRF9GSUxFX0RFTEVURUQ6IFwiUzNfVVBMT0FERURfRklMRV9ERUxFVEVEXCIsXG4gICAgU09VUkNFX0FQSV9MSU1JVF9FWENFRURFRF9GQUlMVVJFOiBcIlNPVVJDRV9BUElfTElNSVRfRVhDRUVERURfRkFJTFVSRVwiLFxuICAgIFNPVVJDRV9SRVNPVVJDRV9MSU1JVF9FWENFRURFRDogXCJTT1VSQ0VfUkVTT1VSQ0VfTElNSVRfRVhDRUVERURcIixcbiAgICBTUElDRV9UQUJMRV9OT1RfRk9VTkQ6IFwiU1BJQ0VfVEFCTEVfTk9UX0ZPVU5EXCIsXG4gICAgU1FMX0VYQ0VQVElPTjogXCJTUUxfRVhDRVBUSU9OXCIsXG4gICAgU1FMX0lOVkFMSURfUEFSQU1FVEVSX1ZBTFVFOiBcIlNRTF9JTlZBTElEX1BBUkFNRVRFUl9WQUxVRVwiLFxuICAgIFNRTF9OVU1FUklDX09WRVJGTE9XOiBcIlNRTF9OVU1FUklDX09WRVJGTE9XXCIsXG4gICAgU1FMX1NDSEVNQV9NSVNNQVRDSF9FUlJPUjogXCJTUUxfU0NIRU1BX01JU01BVENIX0VSUk9SXCIsXG4gICAgU1FMX1RBQkxFX05PVF9GT1VORDogXCJTUUxfVEFCTEVfTk9UX0ZPVU5EXCIsXG4gICAgU1NMX0NFUlRJRklDQVRFX1ZBTElEQVRJT05fRkFJTFVSRTogXCJTU0xfQ0VSVElGSUNBVEVfVkFMSURBVElPTl9GQUlMVVJFXCIsXG4gICAgVU5SRVNPTFZBQkxFX0hPU1Q6IFwiVU5SRVNPTFZBQkxFX0hPU1RcIixcbiAgICBVTlJPVVRBQkxFX0hPU1Q6IFwiVU5ST1VUQUJMRV9IT1NUXCIsXG59O1xuZXhwb3J0IGNvbnN0IEluZ2VzdGlvblJlcXVlc3RTb3VyY2UgPSB7XG4gICAgTUFOVUFMOiBcIk1BTlVBTFwiLFxuICAgIFNDSEVEVUxFRDogXCJTQ0hFRFVMRURcIixcbn07XG5leHBvcnQgY29uc3QgSW5nZXN0aW9uUmVxdWVzdFR5cGUgPSB7XG4gICAgRURJVDogXCJFRElUXCIsXG4gICAgRlVMTF9SRUZSRVNIOiBcIkZVTExfUkVGUkVTSFwiLFxuICAgIElOQ1JFTUVOVEFMX1JFRlJFU0g6IFwiSU5DUkVNRU5UQUxfUkVGUkVTSFwiLFxuICAgIElOSVRJQUxfSU5HRVNUSU9OOiBcIklOSVRJQUxfSU5HRVNUSU9OXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5hbWVzcGFjZUVycm9yVHlwZSA9IHtcbiAgICBJTlRFUk5BTF9TRVJWSUNFX0VSUk9SOiBcIklOVEVSTkFMX1NFUlZJQ0VfRVJST1JcIixcbiAgICBQRVJNSVNTSU9OX0RFTklFRDogXCJQRVJNSVNTSU9OX0RFTklFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBUZW1wbGF0ZUVycm9yVHlwZSA9IHtcbiAgICBBQ0NFU1NfREVOSUVEOiBcIkFDQ0VTU19ERU5JRURcIixcbiAgICBEQVRBX1NFVF9OT1RfRk9VTkQ6IFwiREFUQV9TRVRfTk9UX0ZPVU5EXCIsXG4gICAgSU5URVJOQUxfRkFJTFVSRTogXCJJTlRFUk5BTF9GQUlMVVJFXCIsXG4gICAgU09VUkNFX05PVF9GT1VORDogXCJTT1VSQ0VfTk9UX0ZPVU5EXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRoZW1lVHlwZSA9IHtcbiAgICBBTEw6IFwiQUxMXCIsXG4gICAgQ1VTVE9NOiBcIkNVU1RPTVwiLFxuICAgIFFVSUNLU0lHSFQ6IFwiUVVJQ0tTSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBUaGVtZUVycm9yVHlwZSA9IHtcbiAgICBJTlRFUk5BTF9GQUlMVVJFOiBcIklOVEVSTkFMX0ZBSUxVUkVcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNSZWZyZXNoU3RhdHVzID0ge1xuICAgIENBTkNFTExFRDogXCJDQU5DRUxMRURcIixcbiAgICBDT01QTEVURUQ6IFwiQ09NUExFVEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIElOSVRJQUxJWkVEOiBcIklOSVRJQUxJWkVEXCIsXG4gICAgUlVOTklORzogXCJSVU5OSU5HXCIsXG59O1xuZXhwb3J0IGNvbnN0IElkZW50aXR5VHlwZSA9IHtcbiAgICBJQU06IFwiSUFNXCIsXG4gICAgSUFNX0lERU5USVRZX0NFTlRFUjogXCJJQU1fSURFTlRJVFlfQ0VOVEVSXCIsXG4gICAgUVVJQ0tTSUdIVDogXCJRVUlDS1NJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IFVzZXJSb2xlID0ge1xuICAgIEFETUlOOiBcIkFETUlOXCIsXG4gICAgQVVUSE9SOiBcIkFVVEhPUlwiLFxuICAgIFJFQURFUjogXCJSRUFERVJcIixcbiAgICBSRVNUUklDVEVEX0FVVEhPUjogXCJSRVNUUklDVEVEX0FVVEhPUlwiLFxuICAgIFJFU1RSSUNURURfUkVBREVSOiBcIlJFU1RSSUNURURfUkVBREVSXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtJbnRlcmZhY2VTdGF0dXMgPSB7XG4gICAgQVRUQUNITUVOVF9GQUlMRURfUk9MTEJBQ0tfRkFJTEVEOiBcIkFUVEFDSE1FTlRfRkFJTEVEX1JPTExCQUNLX0ZBSUxFRFwiLFxuICAgIEFWQUlMQUJMRTogXCJBVkFJTEFCTEVcIixcbiAgICBDUkVBVElORzogXCJDUkVBVElOR1wiLFxuICAgIENSRUFUSU9OX0ZBSUxFRDogXCJDUkVBVElPTl9GQUlMRURcIixcbiAgICBERUxFVEVEOiBcIkRFTEVURURcIixcbiAgICBERUxFVElORzogXCJERUxFVElOR1wiLFxuICAgIERFTEVUSU9OX0ZBSUxFRDogXCJERUxFVElPTl9GQUlMRURcIixcbiAgICBERUxFVElPTl9TQ0hFRFVMRUQ6IFwiREVMRVRJT05fU0NIRURVTEVEXCIsXG4gICAgVVBEQVRFX0ZBSUxFRDogXCJVUERBVEVfRkFJTEVEXCIsXG4gICAgVVBEQVRJTkc6IFwiVVBEQVRJTkdcIixcbn07XG5leHBvcnQgY2xhc3MgRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFbWJlZGRpbmdJZGVudGl0eVR5cGUgPSB7XG4gICAgQU5PTllNT1VTOiBcIkFOT05ZTU9VU1wiLFxuICAgIElBTTogXCJJQU1cIixcbiAgICBRVUlDS1NJR0hUOiBcIlFVSUNLU0lHSFRcIixcbn07XG5leHBvcnQgY29uc3QgRm9sZGVyRmlsdGVyQXR0cmlidXRlID0ge1xuICAgIERJUkVDVF9RVUlDS1NJR0hUX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxuICAgIEZPTERFUl9OQU1FOiBcIkZPTERFUl9OQU1FXCIsXG4gICAgUEFSRU5UX0ZPTERFUl9BUk46IFwiUEFSRU5UX0ZPTERFUl9BUk5cIixcbiAgICBRVUlDS1NJR0hUX09XTkVSOiBcIlFVSUNLU0lHSFRfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJRVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUlwiLFxufTtcbmV4cG9ydCBjbGFzcyBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIklkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBHcm91cEZpbHRlckF0dHJpYnV0ZSA9IHtcbiAgICBHUk9VUF9OQU1FOiBcIkdST1VQX05BTUVcIixcbn07XG5leHBvcnQgY29uc3QgR3JvdXBGaWx0ZXJPcGVyYXRvciA9IHtcbiAgICBTdGFydHNXaXRoOiBcIlN0YXJ0c1dpdGhcIixcbn07XG5leHBvcnQgY2xhc3MgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBUb3BpY0RhdGVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29uc3RhbnQgJiYgeyBDb25zdGFudDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljU2luZ3VsYXJGaWx0ZXJDb25zdGFudEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNOdW1lcmljRXF1YWxpdHlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbnN0YW50ICYmIHsgQ29uc3RhbnQ6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY051bWVyaWNSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29uc3RhbnQgJiYgeyBDb25zdGFudDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljUmVsYXRpdmVEYXRlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db25zdGFudCAmJiB7IENvbnN0YW50OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhdGVnb3J5RmlsdGVyICYmIHsgQ2F0ZWdvcnlGaWx0ZXI6IFRvcGljQ2F0ZWdvcnlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNhdGVnb3J5RmlsdGVyKSB9KSxcbiAgICAuLi4ob2JqLk51bWVyaWNFcXVhbGl0eUZpbHRlciAmJiB7XG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogVG9waWNOdW1lcmljRXF1YWxpdHlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bWVyaWNFcXVhbGl0eUZpbHRlciksXG4gICAgfSksXG4gICAgLi4uKG9iai5OdW1lcmljUmFuZ2VGaWx0ZXIgJiYge1xuICAgICAgICBOdW1lcmljUmFuZ2VGaWx0ZXI6IFRvcGljTnVtZXJpY1JhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdW1lcmljUmFuZ2VGaWx0ZXIpLFxuICAgIH0pLFxuICAgIC4uLihvYmouRGF0ZVJhbmdlRmlsdGVyICYmIHsgRGF0ZVJhbmdlRmlsdGVyOiBUb3BpY0RhdGVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZVJhbmdlRmlsdGVyKSB9KSxcbiAgICAuLi4ob2JqLlJlbGF0aXZlRGF0ZUZpbHRlciAmJiB7XG4gICAgICAgIFJlbGF0aXZlRGF0ZUZpbHRlcjogVG9waWNSZWxhdGl2ZURhdGVGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJlbGF0aXZlRGF0ZUZpbHRlciksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhc2V0TWV0YWRhdGFGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZpbHRlcnMgJiYgeyBGaWx0ZXJzOiBvYmouRmlsdGVycy5tYXAoKGl0ZW0pID0+IFRvcGljRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbiAgICAuLi4ob2JqLkNvbHVtbnMgJiYgeyBDb2x1bW5zOiBvYmouQ29sdW1ucy5tYXAoKGl0ZW0pID0+IFRvcGljQ29sdW1uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbiAgICAuLi4ob2JqLkNhbGN1bGF0ZWRGaWVsZHMgJiYge1xuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBvYmouQ2FsY3VsYXRlZEZpZWxkcy5tYXAoKGl0ZW0pID0+IFRvcGljQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljRGV0YWlsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgQ3JlYXRlVG9waWNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhU2V0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QaHlzaWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLlBoeXNpY2FsVGFibGVNYXApLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICgoYWNjW2tleV0gPSB2YWx1ZSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxvZ2ljYWxUYWJsZU1hcCAmJiB7XG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLkxvZ2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IExvZ2ljYWxUYWJsZUZpbHRlclNlbnNpdGl2ZUxvZyh2YWx1ZSkpLCBhY2MpLCB7fSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZUFuYWx5c2lzRGVmaW5pdGlvblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZUFzc2V0QnVuZGxlRXhwb3J0Sm9iUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRvd25sb2FkVXJsICYmIHsgRG93bmxvYWRVcmw6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZUFzc2V0QnVuZGxlSW1wb3J0Sm9iUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkFzc2V0QnVuZGxlSW1wb3J0U291cmNlICYmIHtcbiAgICAgICAgQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2U6IEFzc2V0QnVuZGxlSW1wb3J0U291cmNlRGVzY3JpcHRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkFzc2V0QnVuZGxlSW1wb3J0U291cmNlKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERlc2NyaWJlRGFzaGJvYXJkRGVmaW5pdGlvblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBTbmFwc2hvdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBhcmFtZXRlcnMgJiYgeyBQYXJhbWV0ZXJzOiBfUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUGFyYW1ldGVycykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZURhc2hib2FyZFNuYXBzaG90Sm9iUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFNuYXBzaG90Sm9iUmVzdWx0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZURhc2hib2FyZFNuYXBzaG90Sm9iUmVzdWx0UmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERlc2NyaWJlRGF0YVNldFJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU2V0ICYmIHsgRGF0YVNldDogRGF0YVNldEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0YVNldCkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZVRlbXBsYXRlRGVmaW5pdGlvblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZVRvcGljUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFNlc3Npb25UYWdGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlICYmIHsgVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlclJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlNlc3Npb25UYWdzICYmIHsgU2Vzc2lvblRhZ3M6IG9iai5TZXNzaW9uVGFncy5tYXAoKGl0ZW0pID0+IFNlc3Npb25UYWdGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2VuZXJhdGVFbWJlZFVybEZvckFub255bW91c1VzZXJSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRW1iZWRVcmwgJiYgeyBFbWJlZFVybDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdlbmVyYXRlRW1iZWRVcmxGb3JSZWdpc3RlcmVkVXNlclJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FbWJlZFVybCAmJiB7IEVtYmVkVXJsOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2V0RGFzaGJvYXJkRW1iZWRVcmxSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRW1iZWRVcmwgJiYgeyBFbWJlZFVybDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdldFNlc3Npb25FbWJlZFVybFJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FbWJlZFVybCAmJiB7IEVtYmVkVXJsOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG4iLCJpbXBvcnQgeyBhd3NFeHBlY3RVbmlvbiBhcyBfX2V4cGVjdFVuaW9uIH0gZnJvbSBcIkBhd3Mtc2RrL2NvcmVcIjtcbmltcG9ydCB7IEh0dHBSZXF1ZXN0IGFzIF9fSHR0cFJlcXVlc3QgfSBmcm9tIFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBfanNvbiwgY29sbGVjdEJvZHksIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Qm9vbGVhbiBhcyBfX2V4cGVjdEJvb2xlYW4sIGV4cGVjdEludDMyIGFzIF9fZXhwZWN0SW50MzIsIGV4cGVjdExvbmcgYXMgX19leHBlY3RMb25nLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0TnVtYmVyIGFzIF9fZXhwZWN0TnVtYmVyLCBleHBlY3RPYmplY3QgYXMgX19leHBlY3RPYmplY3QsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgbGltaXRlZFBhcnNlRG91YmxlIGFzIF9fbGltaXRlZFBhcnNlRG91YmxlLCBtYXAsIHBhcnNlRXBvY2hUaW1lc3RhbXAgYXMgX19wYXJzZUVwb2NoVGltZXN0YW1wLCByZXNvbHZlZFBhdGggYXMgX19yZXNvbHZlZFBhdGgsIHNlcmlhbGl6ZUZsb2F0IGFzIF9fc2VyaWFsaXplRmxvYXQsIHRha2UsIHdpdGhCYXNlRXhjZXB0aW9uLCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18wXCI7XG5pbXBvcnQgeyBDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb24sIENvbmZsaWN0RXhjZXB0aW9uLCBJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24sIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiwgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uLCBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbiwgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiwgUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvbiwgVGhyb3R0bGluZ0V4Y2VwdGlvbiwgVHJhbnNmb3JtT3BlcmF0aW9uLCBVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzJcIjtcbmltcG9ydCB7IERvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uLCBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24sIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24sIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uLCBRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uLCBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uLCBVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzNcIjtcbmltcG9ydCB7IFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9DYW5jZWxJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L2luZ2VzdGlvbnMve0luZ2VzdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkluZ2VzdGlvbklkXCIsICgpID0+IGlucHV0LkluZ2VzdGlvbklkLCBcIntJbmdlc3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9jdXN0b21pemF0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuYW1lc3BhY2U6IFssIGlucHV0Lk5hbWVzcGFjZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnQve0F3c0FjY291bnRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjY291bnROYW1lOiBbXSxcbiAgICAgICAgQWN0aXZlRGlyZWN0b3J5TmFtZTogW10sXG4gICAgICAgIEFkbWluR3JvdXA6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQXV0aGVudGljYXRpb25NZXRob2Q6IFtdLFxuICAgICAgICBBdXRob3JHcm91cDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBDb250YWN0TnVtYmVyOiBbXSxcbiAgICAgICAgRGlyZWN0b3J5SWQ6IFtdLFxuICAgICAgICBFZGl0aW9uOiBbXSxcbiAgICAgICAgRW1haWxBZGRyZXNzOiBbXSxcbiAgICAgICAgRmlyc3ROYW1lOiBbXSxcbiAgICAgICAgTGFzdE5hbWU6IFtdLFxuICAgICAgICBOb3RpZmljYXRpb25FbWFpbDogW10sXG4gICAgICAgIFJlYWRlckdyb3VwOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJlYWxtOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IHNlX0FuYWx5c2lzRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRm9sZGVyQXJuczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyczogKF8pID0+IHNlX19QYXJhbWV0ZXJzKF8sIGNvbnRleHQpLFxuICAgICAgICBQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTb3VyY2VFbnRpdHk6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGFzaGJvYXJkUHVibGlzaE9wdGlvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IHNlX0Rhc2hib2FyZFZlcnNpb25EZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBGb2xkZXJBcm5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIExpbmtTaGFyaW5nQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyczogKF8pID0+IHNlX19QYXJhbWV0ZXJzKF8sIGNvbnRleHQpLFxuICAgICAgICBQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTb3VyY2VFbnRpdHk6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5Hcm91cHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQ29sdW1uTGV2ZWxQZXJtaXNzaW9uUnVsZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGF0YVNldElkOiBbXSxcbiAgICAgICAgRGF0YVNldFVzYWdlQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhc2V0UGFyYW1ldGVyczogKF8pID0+IHNlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZEZvbGRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRm9sZGVyQXJuczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBJbXBvcnRNb2RlOiBbXSxcbiAgICAgICAgTG9naWNhbFRhYmxlTWFwOiAoXykgPT4gc2VfTG9naWNhbFRhYmxlTWFwKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25EYXRhU2V0OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDcmVkZW50aWFsczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhU291cmNlSWQ6IFtdLFxuICAgICAgICBEYXRhU291cmNlUGFyYW1ldGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBGb2xkZXJBcm5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTc2xQcm9wZXJ0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVHlwZTogW10sXG4gICAgICAgIFZwY0Nvbm5lY3Rpb25Qcm9wZXJ0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVGb2xkZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGb2xkZXJUeXBlOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBhcmVudEZvbGRlckFybjogW10sXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFNoYXJpbmdNb2RlbDogW10sXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L21lbWJlcnMve01lbWJlclR5cGV9L3tNZW1iZXJJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJJZFwiLCAoKSA9PiBpbnB1dC5NZW1iZXJJZCwgXCJ7TWVtYmVySWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlclR5cGVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyVHlwZSwgXCJ7TWVtYmVyVHlwZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZXNjcmlwdGlvbjogW10sXG4gICAgICAgIEdyb3VwTmFtZTogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX0vbWVtYmVycy97TWVtYmVyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlck5hbWVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyTmFtZSwgXCJ7TWVtYmVyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vaWFtLXBvbGljeS1hc3NpZ25tZW50c1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBc3NpZ25tZW50TmFtZTogW10sXG4gICAgICAgIEFzc2lnbm1lbnRTdGF0dXM6IFtdLFxuICAgICAgICBJZGVudGl0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFBvbGljeUFybjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9pbmdlc3Rpb25zL3tJbmdlc3Rpb25JZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiSW5nZXN0aW9uSWRcIiwgKCkgPT4gaW5wdXQuSW5nZXN0aW9uSWQsIFwie0luZ2VzdGlvbklkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBJbmdlc3Rpb25UeXBlOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgSWRlbnRpdHlTdG9yZTogW10sXG4gICAgICAgIE5hbWVzcGFjZTogW10sXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtc2NoZWR1bGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFNjaGVkdWxlOiAoXykgPT4gc2VfUmVmcmVzaFNjaGVkdWxlKF8sIGNvbnRleHQpLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlUm9sZU1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9yb2xlcy97Um9sZX0vbWVtYmVycy97TWVtYmVyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlck5hbWVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyTmFtZSwgXCJ7TWVtYmVyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJvbGVcIiwgKCkgPT4gaW5wdXQuUm9sZSwgXCJ7Um9sZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gc2VfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGVtcGxhdGVWZXJzaW9uTnVtYmVyOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhc2VUaGVtZUlkOiBbXSxcbiAgICAgICAgQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGhlbWVWZXJzaW9uTnVtYmVyOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRvcGljQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVG9waWM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVG9waWNJZDogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9zY2hlZHVsZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YXNldEFybjogW10sXG4gICAgICAgIERhdGFzZXROYW1lOiBbXSxcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlOiAoXykgPT4gc2VfVG9waWNSZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS92cGMtY29ubmVjdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERuc1Jlc29sdmVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUm9sZUFybjogW10sXG4gICAgICAgIFNlY3VyaXR5R3JvdXBJZHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgU3VibmV0SWRzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVlBDQ29ubmVjdGlvbklkOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2N1c3RvbWl6YXRpb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIG5hbWVzcGFjZTogWywgaW5wdXQuTmFtZXNwYWNlXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50L3tBd3NBY2NvdW50SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInJlY292ZXJ5LXdpbmRvdy1pbi1kYXlzXCI6IFtcbiAgICAgICAgICAgICgpID0+IGlucHV0LlJlY292ZXJ5V2luZG93SW5EYXlzICE9PSB2b2lkIDAsXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5SZWNvdmVyeVdpbmRvd0luRGF5cy50b1N0cmluZygpLFxuICAgICAgICBdLFxuICAgICAgICBcImZvcmNlLWRlbGV0ZS13aXRob3V0LXJlY292ZXJ5XCI6IFtcbiAgICAgICAgICAgICgpID0+IGlucHV0LkZvcmNlRGVsZXRlV2l0aG91dFJlY292ZXJ5ICE9PSB2b2lkIDAsXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5Gb3JjZURlbGV0ZVdpdGhvdXRSZWNvdmVyeS50b1N0cmluZygpLFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtcHJvcGVydGllc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlcy97RGF0YVNvdXJjZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU291cmNlSWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNvdXJjZUlkLCBcIntEYXRhU291cmNlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVGb2xkZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L21lbWJlcnMve01lbWJlclR5cGV9L3tNZW1iZXJJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJJZFwiLCAoKSA9PiBpbnB1dC5NZW1iZXJJZCwgXCJ7TWVtYmVySWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlclR5cGVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyVHlwZSwgXCJ7TWVtYmVyVHlwZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9L21lbWJlcnMve01lbWJlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJOYW1lXCIsICgpID0+IGlucHV0Lk1lbWJlck5hbWUsIFwie01lbWJlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkdyb3VwTmFtZVwiLCAoKSA9PiBpbnB1dC5Hcm91cE5hbWUsIFwie0dyb3VwTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZS97TmFtZXNwYWNlfS9pYW0tcG9saWN5LWFzc2lnbm1lbnRzL3tBc3NpZ25tZW50TmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXNzaWdubWVudE5hbWVcIiwgKCkgPT4gaW5wdXQuQXNzaWdubWVudE5hbWUsIFwie0Fzc2lnbm1lbnROYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2lkZW50aXR5LXByb3BhZ2F0aW9uLWNvbmZpZy97U2VydmljZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiU2VydmljZVwiLCAoKSA9PiBpbnB1dC5TZXJ2aWNlLCBcIntTZXJ2aWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXNjaGVkdWxlcy97U2NoZWR1bGVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJTY2hlZHVsZUlkXCIsICgpID0+IGlucHV0LlNjaGVkdWxlSWQsIFwie1NjaGVkdWxlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVSb2xlQ3VzdG9tUGVybWlzc2lvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3JvbGVzL3tSb2xlfS9jdXN0b20tcGVybWlzc2lvblwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUm9sZVwiLCAoKSA9PiBpbnB1dC5Sb2xlLCBcIntSb2xlfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVJvbGVNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vcm9sZXMve1JvbGV9L21lbWJlcnMve01lbWJlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJOYW1lXCIsICgpID0+IGlucHV0Lk1lbWJlck5hbWUsIFwie01lbWJlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJvbGVcIiwgKCkgPT4gaW5wdXQuUm9sZSwgXCJ7Um9sZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRoZW1lQWxpYXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3NjaGVkdWxlcy97RGF0YXNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFzZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhc2V0SWQsIFwie0RhdGFzZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVVzZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJVc2VyTmFtZVwiLCAoKSA9PiBpbnB1dC5Vc2VyTmFtZSwgXCJ7VXNlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVXNlckJ5UHJpbmNpcGFsSWRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2VyLXByaW5jaXBhbHMve1ByaW5jaXBhbElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUHJpbmNpcGFsSWRcIiwgKCkgPT4gaW5wdXQuUHJpbmNpcGFsSWQsIFwie1ByaW5jaXBhbElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdnBjLWNvbm5lY3Rpb25zL3tWUENDb25uZWN0aW9uSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlZQQ0Nvbm5lY3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5WUENDb25uZWN0aW9uSWQsIFwie1ZQQ0Nvbm5lY3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vY3VzdG9taXphdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgICAgICByZXNvbHZlZDogWygpID0+IGlucHV0LlJlc29sdmVkICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlJlc29sdmVkLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZXR0aW5nc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnQve0F3c0FjY291bnRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzL3tBbmFseXNpc0lkfS9kZWZpbml0aW9uXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hc3NldC1idW5kbGUtZXhwb3J0LWpvYnMve0Fzc2V0QnVuZGxlRXhwb3J0Sm9iSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFzc2V0QnVuZGxlRXhwb3J0Sm9iSWRcIiwgKCkgPT4gaW5wdXQuQXNzZXRCdW5kbGVFeHBvcnRKb2JJZCwgXCJ7QXNzZXRCdW5kbGVFeHBvcnRKb2JJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWltcG9ydC1qb2JzL3tBc3NldEJ1bmRsZUltcG9ydEpvYklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NldEJ1bmRsZUltcG9ydEpvYklkXCIsICgpID0+IGlucHV0LkFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQsIFwie0Fzc2V0QnVuZGxlSW1wb3J0Sm9iSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZERlZmluaXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L2RlZmluaXRpb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZFNuYXBzaG90Sm9iQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9zbmFwc2hvdC1qb2JzL3tTbmFwc2hvdEpvYklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlNuYXBzaG90Sm9iSWRcIiwgKCkgPT4gaW5wdXQuU25hcHNob3RKb2JJZCwgXCJ7U25hcHNob3RKb2JJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRGFzaGJvYXJkU25hcHNob3RKb2JSZXN1bHRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L3NuYXBzaG90LWpvYnMve1NuYXBzaG90Sm9iSWR9L3Jlc3VsdFwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlNuYXBzaG90Sm9iSWRcIiwgKCkgPT4gaW5wdXQuU25hcHNob3RKb2JJZCwgXCJ7U25hcHNob3RKb2JJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRGF0YVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXByb3BlcnRpZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlcy97RGF0YVNvdXJjZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU291cmNlSWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNvdXJjZUlkLCBcIntEYXRhU291cmNlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNvdXJjZXMve0RhdGFTb3VyY2VJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNvdXJjZUlkXCIsICgpID0+IGlucHV0LkRhdGFTb3VyY2VJZCwgXCJ7RGF0YVNvdXJjZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVGb2xkZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUZvbGRlclJlc29sdmVkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L3Jlc29sdmVkLXBlcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX0vbWVtYmVycy97TWVtYmVyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk1lbWJlck5hbWVcIiwgKCkgPT4gaW5wdXQuTWVtYmVyTmFtZSwgXCJ7TWVtYmVyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2lhbS1wb2xpY3ktYXNzaWdubWVudHMve0Fzc2lnbm1lbnROYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NpZ25tZW50TmFtZVwiLCAoKSA9PiBpbnB1dC5Bc3NpZ25tZW50TmFtZSwgXCJ7QXNzaWdubWVudE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9pbmdlc3Rpb25zL3tJbmdlc3Rpb25JZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJJbmdlc3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5Jbmdlc3Rpb25JZCwgXCJ7SW5nZXN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vaXAtcmVzdHJpY3Rpb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtc2NoZWR1bGVzL3tTY2hlZHVsZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlNjaGVkdWxlSWRcIiwgKCkgPT4gaW5wdXQuU2NoZWR1bGVJZCwgXCJ7U2NoZWR1bGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlUm9sZUN1c3RvbVBlcm1pc3Npb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9yb2xlcy97Um9sZX0vY3VzdG9tLXBlcm1pc3Npb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJvbGVcIiwgKCkgPT4gaW5wdXQuUm9sZSwgXCJ7Um9sZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRlbXBsYXRlQWxpYXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUZW1wbGF0ZURlZmluaXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS9kZWZpbml0aW9uXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgICAgICBcImFsaWFzLW5hbWVcIjogWywgaW5wdXQuQWxpYXNOYW1lXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUaGVtZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgICAgICBcImFsaWFzLW5hbWVcIjogWywgaW5wdXQuQWxpYXNOYW1lXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRvcGljUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRvcGljUmVmcmVzaENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3JlZnJlc2gve1JlZnJlc2hJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJSZWZyZXNoSWRcIiwgKCkgPT4gaW5wdXQuUmVmcmVzaElkLCBcIntSZWZyZXNoSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH0vc2NoZWR1bGVzL3tEYXRhc2V0SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YXNldElkXCIsICgpID0+IGlucHV0LkRhdGFzZXRJZCwgXCJ7RGF0YXNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlcnMve1VzZXJOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVXNlck5hbWVcIiwgKCkgPT4gaW5wdXQuVXNlck5hbWUsIFwie1VzZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS92cGMtY29ubmVjdGlvbnMve1ZQQ0Nvbm5lY3Rpb25JZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVlBDQ29ubmVjdGlvbklkXCIsICgpID0+IGlucHV0LlZQQ0Nvbm5lY3Rpb25JZCwgXCJ7VlBDQ29ubmVjdGlvbklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2VuZXJhdGVFbWJlZFVybEZvckFub255bW91c1VzZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2VtYmVkLXVybC9hbm9ueW1vdXMtdXNlclwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWxsb3dlZERvbWFpbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQXV0aG9yaXplZFJlc291cmNlQXJuczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBFeHBlcmllbmNlQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lc3BhY2U6IFtdLFxuICAgICAgICBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXM6IFtdLFxuICAgICAgICBTZXNzaW9uVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2VuZXJhdGVFbWJlZFVybEZvclJlZ2lzdGVyZWRVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9lbWJlZC11cmwvcmVnaXN0ZXJlZC11c2VyXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBbGxvd2VkRG9tYWluczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBFeHBlcmllbmNlQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXM6IFtdLFxuICAgICAgICBVc2VyQXJuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9lbWJlZC11cmxcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcImNyZWRzLXR5cGVcIjogWywgX19leHBlY3ROb25OdWxsKGlucHV0LklkZW50aXR5VHlwZSwgYElkZW50aXR5VHlwZWApXSxcbiAgICAgICAgXCJzZXNzaW9uLWxpZmV0aW1lXCI6IFtcbiAgICAgICAgICAgICgpID0+IGlucHV0LlNlc3Npb25MaWZldGltZUluTWludXRlcyAhPT0gdm9pZCAwLFxuICAgICAgICAgICAgKCkgPT4gaW5wdXQuU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzLnRvU3RyaW5nKCksXG4gICAgICAgIF0sXG4gICAgICAgIFwidW5kby1yZWRvLWRpc2FibGVkXCI6IFsoKSA9PiBpbnB1dC5VbmRvUmVkb0Rpc2FibGVkICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlVuZG9SZWRvRGlzYWJsZWQudG9TdHJpbmcoKV0sXG4gICAgICAgIFwicmVzZXQtZGlzYWJsZWRcIjogWygpID0+IGlucHV0LlJlc2V0RGlzYWJsZWQgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuUmVzZXREaXNhYmxlZC50b1N0cmluZygpXSxcbiAgICAgICAgXCJzdGF0ZS1wZXJzaXN0ZW5jZS1lbmFibGVkXCI6IFtcbiAgICAgICAgICAgICgpID0+IGlucHV0LlN0YXRlUGVyc2lzdGVuY2VFbmFibGVkICE9PSB2b2lkIDAsXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5TdGF0ZVBlcnNpc3RlbmNlRW5hYmxlZC50b1N0cmluZygpLFxuICAgICAgICBdLFxuICAgICAgICBcInVzZXItYXJuXCI6IFssIGlucHV0LlVzZXJBcm5dLFxuICAgICAgICBuYW1lc3BhY2U6IFssIGlucHV0Lk5hbWVzcGFjZV0sXG4gICAgICAgIFwiYWRkaXRpb25hbC1kYXNoYm9hcmQtaWRzXCI6IFtcbiAgICAgICAgICAgICgpID0+IGlucHV0LkFkZGl0aW9uYWxEYXNoYm9hcmRJZHMgIT09IHZvaWQgMCxcbiAgICAgICAgICAgICgpID0+IChpbnB1dC5BZGRpdGlvbmFsRGFzaGJvYXJkSWRzIHx8IFtdKS5tYXAoKF9lbnRyeSkgPT4gX2VudHJ5KSxcbiAgICAgICAgXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0U2Vzc2lvbkVtYmVkVXJsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3Nlc3Npb24tZW1iZWQtdXJsXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwiZW50cnktcG9pbnRcIjogWywgaW5wdXQuRW50cnlQb2ludF0sXG4gICAgICAgIFwic2Vzc2lvbi1saWZldGltZVwiOiBbXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXMgIT09IHZvaWQgMCxcbiAgICAgICAgICAgICgpID0+IGlucHV0LlNlc3Npb25MaWZldGltZUluTWludXRlcy50b1N0cmluZygpLFxuICAgICAgICBdLFxuICAgICAgICBcInVzZXItYXJuXCI6IFssIGlucHV0LlVzZXJBcm5dLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QW5hbHlzZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEFzc2V0QnVuZGxlRXhwb3J0Sm9ic0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hc3NldC1idW5kbGUtZXhwb3J0LWpvYnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEFzc2V0QnVuZGxlSW1wb3J0Sm9ic0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hc3NldC1idW5kbGUtaW1wb3J0LWpvYnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdERhc2hib2FyZHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RGFzaGJvYXJkVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L3ZlcnNpb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdERhdGFTZXRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0c1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0RGF0YVNvdXJjZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RGb2xkZXJNZW1iZXJzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfS9tZW1iZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEZvbGRlcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVyc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0R3JvdXBNZW1iZXJzaGlwc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy97R3JvdXBOYW1lfS9tZW1iZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0R3JvdXBzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdjIvaWFtLXBvbGljeS1hc3NpZ25tZW50c1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwiYXNzaWdubWVudC1zdGF0dXNcIjogWywgaW5wdXQuQXNzaWdubWVudFN0YXR1c10sXG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0ZvclVzZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9L2lhbS1wb2xpY3ktYXNzaWdubWVudHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVXNlck5hbWVcIiwgKCkgPT4gaW5wdXQuVXNlck5hbWUsIFwie1VzZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9pZGVudGl0eS1wcm9wYWdhdGlvbi1jb25maWdcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEluZ2VzdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L2luZ2VzdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0TmFtZXNwYWNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXNjaGVkdWxlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0Um9sZU1lbWJlcnNoaXBzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vcm9sZXMve1JvbGV9L21lbWJlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlJvbGVcIiwgKCkgPT4gaW5wdXQuUm9sZSwgXCJ7Um9sZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvcmVzb3VyY2VzL3tSZXNvdXJjZUFybn0vdGFnc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUmVzb3VyY2VBcm5cIiwgKCkgPT4gaW5wdXQuUmVzb3VyY2VBcm4sIFwie1Jlc291cmNlQXJufVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRlbXBsYXRlQWxpYXNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0XCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUZW1wbGF0ZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRlbXBsYXRlVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS92ZXJzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUaGVtZUFsaWFzZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdFwiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGhlbWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgICAgICB0eXBlOiBbLCBpbnB1dC5UeXBlXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRoZW1lVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS92ZXJzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUb3BpY1JlZnJlc2hTY2hlZHVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9zY2hlZHVsZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRvcGljc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFVzZXJHcm91cHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9L2dyb3Vwc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVXNlck5hbWVcIiwgKCkgPT4gaW5wdXQuVXNlck5hbWUsIFwie1VzZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFVzZXJzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VlBDQ29ubmVjdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdnBjLWNvbm5lY3Rpb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dERhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtcHJvcGVydGllc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVnaXN0ZXJVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbUZlZGVyYXRpb25Qcm92aWRlclVybDogW10sXG4gICAgICAgIEN1c3RvbVBlcm1pc3Npb25zTmFtZTogW10sXG4gICAgICAgIEVtYWlsOiBbXSxcbiAgICAgICAgRXh0ZXJuYWxMb2dpbkZlZGVyYXRpb25Qcm92aWRlclR5cGU6IFtdLFxuICAgICAgICBFeHRlcm5hbExvZ2luSWQ6IFtdLFxuICAgICAgICBJYW1Bcm46IFtdLFxuICAgICAgICBJZGVudGl0eVR5cGU6IFtdLFxuICAgICAgICBTZXNzaW9uTmFtZTogW10sXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVXNlck5hbWU6IFtdLFxuICAgICAgICBVc2VyUm9sZTogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9SZXN0b3JlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vcmVzdG9yZS9hbmFseXNlcy97QW5hbHlzaXNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlYXJjaEFuYWx5c2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZWFyY2gvYW5hbHlzZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZWFyY2hEYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZWFyY2gvZGFzaGJvYXJkc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlYXJjaERhdGFTZXRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZWFyY2gvZGF0YS1zZXRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VhcmNoRGF0YVNvdXJjZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3NlYXJjaC9kYXRhLXNvdXJjZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZWFyY2hGb2xkZXJzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZWFyY2gvZm9sZGVyc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlYXJjaEdyb3Vwc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMtc2VhcmNoXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnRBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWV4cG9ydC1qb2JzL2V4cG9ydFwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JJZDogW10sXG4gICAgICAgIENsb3VkRm9ybWF0aW9uT3ZlcnJpZGVQcm9wZXJ0eUNvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRXhwb3J0Rm9ybWF0OiBbXSxcbiAgICAgICAgSW5jbHVkZUFsbERlcGVuZGVuY2llczogW10sXG4gICAgICAgIEluY2x1ZGVQZXJtaXNzaW9uczogW10sXG4gICAgICAgIEluY2x1ZGVUYWdzOiBbXSxcbiAgICAgICAgUmVzb3VyY2VBcm5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnRBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWltcG9ydC1qb2JzL2ltcG9ydFwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXNzZXRCdW5kbGVJbXBvcnRKb2JJZDogW10sXG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0U291cmNlOiAoXykgPT4gc2VfQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2UoXywgY29udGV4dCksXG4gICAgICAgIEZhaWx1cmVBY3Rpb246IFtdLFxuICAgICAgICBPdmVycmlkZVBhcmFtZXRlcnM6IChfKSA9PiBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYk92ZXJyaWRlUGFyYW1ldGVycyhfLCBjb250ZXh0KSxcbiAgICAgICAgT3ZlcnJpZGVQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBPdmVycmlkZVRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgT3ZlcnJpZGVWYWxpZGF0aW9uU3RyYXRlZ3k6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0RGFzaGJvYXJkU25hcHNob3RKb2JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9zbmFwc2hvdC1qb2JzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFNuYXBzaG90Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1NuYXBzaG90Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU25hcHNob3RKb2JJZDogW10sXG4gICAgICAgIFVzZXJDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9UYWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvcmVzb3VyY2VzL3tSZXNvdXJjZUFybn0vdGFnc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUmVzb3VyY2VBcm5cIiwgKCkgPT4gaW5wdXQuUmVzb3VyY2VBcm4sIFwie1Jlc291cmNlQXJufVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVW50YWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9yZXNvdXJjZXMve1Jlc291cmNlQXJufS90YWdzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJSZXNvdXJjZUFyblwiLCAoKSA9PiBpbnB1dC5SZXNvdXJjZUFybiwgXCJ7UmVzb3VyY2VBcm59XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIGtleXM6IFtcbiAgICAgICAgICAgIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5UYWdLZXlzLCBgVGFnS2V5c2ApICE9IG51bGwsXG4gICAgICAgICAgICAoKSA9PiAoaW5wdXQuVGFnS2V5cyB8fCBbXSkubWFwKChfZW50cnkpID0+IF9lbnRyeSksXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9jdXN0b21pemF0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuYW1lc3BhY2U6IFssIGlucHV0Lk5hbWVzcGFjZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2V0dGluZ3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHROYW1lc3BhY2U6IFtdLFxuICAgICAgICBOb3RpZmljYXRpb25FbWFpbDogW10sXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9BbmFseXNpc0RlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gc2VfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEYXNoYm9hcmRQdWJsaXNoT3B0aW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gc2VfRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gc2VfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50TGlua1Blcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlTGlua1Blcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhc2hib2FyZFB1Ymxpc2hlZFZlcnNpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L3ZlcnNpb25zL3tWZXJzaW9uTnVtYmVyfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlZlcnNpb25OdW1iZXJcIiwgKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlci50b1N0cmluZygpLCBcIntWZXJzaW9uTnVtYmVyfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbkdyb3VwczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBDb2x1bW5MZXZlbFBlcm1pc3Npb25SdWxlczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhU2V0VXNhZ2VDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIERhdGFzZXRQYXJhbWV0ZXJzOiAoXykgPT4gc2VfRGF0YXNldFBhcmFtZXRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEZpZWxkRm9sZGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBJbXBvcnRNb2RlOiBbXSxcbiAgICAgICAgTG9naWNhbFRhYmxlTWFwOiAoXykgPT4gc2VfTG9naWNhbFRhYmxlTWFwKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25EYXRhU2V0OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JhbnRQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzL3tEYXRhU291cmNlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTb3VyY2VJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU291cmNlSWQsIFwie0RhdGFTb3VyY2VJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIENyZWRlbnRpYWxzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIERhdGFTb3VyY2VQYXJhbWV0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBTc2xQcm9wZXJ0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZwY0Nvbm5lY3Rpb25Qcm9wZXJ0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzL3tEYXRhU291cmNlSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTb3VyY2VJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU291cmNlSWQsIFwie0RhdGFTb3VyY2VJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUZvbGRlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIE5hbWU6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2lhbS1wb2xpY3ktYXNzaWdubWVudHMve0Fzc2lnbm1lbnROYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NpZ25tZW50TmFtZVwiLCAoKSA9PiBpbnB1dC5Bc3NpZ25tZW50TmFtZSwgXCJ7QXNzaWdubWVudE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFzc2lnbm1lbnRTdGF0dXM6IFtdLFxuICAgICAgICBJZGVudGl0aWVzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFBvbGljeUFybjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUlkZW50aXR5UHJvcGFnYXRpb25Db25maWdDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2lkZW50aXR5LXByb3BhZ2F0aW9uLWNvbmZpZy97U2VydmljZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiU2VydmljZVwiLCAoKSA9PiBpbnB1dC5TZXJ2aWNlLCBcIntTZXJ2aWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXV0aG9yaXplZFRhcmdldHM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2lwLXJlc3RyaWN0aW9uXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBFbmFibGVkOiBbXSxcbiAgICAgICAgSXBSZXN0cmljdGlvblJ1bGVNYXA6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVB1YmxpY1NoYXJpbmdTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vcHVibGljLXNoYXJpbmctc2V0dGluZ3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFB1YmxpY1NoYXJpbmdFbmFibGVkOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcmVmcmVzaC1zY2hlZHVsZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgU2NoZWR1bGU6IChfKSA9PiBzZV9SZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVJvbGVDdXN0b21QZXJtaXNzaW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3JvbGVzL3tSb2xlfS9jdXN0b20tcGVybWlzc2lvblwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUm9sZVwiLCAoKSA9PiBpbnB1dC5Sb2xlLCBcIntSb2xlfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbVBlcm1pc3Npb25zTmFtZTogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9UZW1wbGF0ZVZlcnNpb25EZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgU291cmNlRW50aXR5OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZhbGlkYXRpb25TdHJhdGVneTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUZW1wbGF0ZVZlcnNpb25OdW1iZXI6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGhlbWVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFzZVRoZW1lSWQ6IFtdLFxuICAgICAgICBDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUaGVtZVZlcnNpb25OdW1iZXI6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVG9waWM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3NjaGVkdWxlcy97RGF0YXNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFzZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhc2V0SWQsIFwie0RhdGFzZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZTogKF8pID0+IHNlX1RvcGljUmVmcmVzaFNjaGVkdWxlKF8sIGNvbnRleHQpLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzL3tVc2VyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlVzZXJOYW1lXCIsICgpID0+IGlucHV0LlVzZXJOYW1lLCBcIntVc2VyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDdXN0b21GZWRlcmF0aW9uUHJvdmlkZXJVcmw6IFtdLFxuICAgICAgICBDdXN0b21QZXJtaXNzaW9uc05hbWU6IFtdLFxuICAgICAgICBFbWFpbDogW10sXG4gICAgICAgIEV4dGVybmFsTG9naW5GZWRlcmF0aW9uUHJvdmlkZXJUeXBlOiBbXSxcbiAgICAgICAgRXh0ZXJuYWxMb2dpbklkOiBbXSxcbiAgICAgICAgUm9sZTogW10sXG4gICAgICAgIFVuYXBwbHlDdXN0b21QZXJtaXNzaW9uczogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3ZwYy1jb25uZWN0aW9ucy97VlBDQ29ubmVjdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJWUENDb25uZWN0aW9uSWRcIiwgKCkgPT4gaW5wdXQuVlBDQ29ubmVjdGlvbklkLCBcIntWUENDb25uZWN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEbnNSZXNvbHZlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFJvbGVBcm46IFtdLFxuICAgICAgICBTZWN1cml0eUdyb3VwSWRzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFN1Ym5ldElkczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9DYW5jZWxJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ2FuY2VsSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NhbmNlbEluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFjY291bnRDdXN0b21pemF0aW9uOiBfanNvbixcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZXNwYWNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTaWdudXBSZXNwb25zZTogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUFuYWx5c2lzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVBbmFseXNpc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlRGFzaGJvYXJkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZURhc2hib2FyZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZURhdGFTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlRGF0YVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVEYXRhU291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZURhdGFTb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUZvbGRlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVGb2xkZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyTWVtYmVyOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlR3JvdXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlR3JvdXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVHcm91cE1lbWJlcnNoaXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTWVtYmVyOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NpZ25tZW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NpZ25tZW50TmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2lnbm1lbnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJZGVudGl0aWVzOiBfanNvbixcbiAgICAgICAgUG9saWN5QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVJbmdlc3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlSW5nZXN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZU5hbWVzcGFjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ2FwYWNpdHlSZWdpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIElkZW50aXR5U3RvcmU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlTmFtZXNwYWNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVSb2xlTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVSb2xlTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlUm9sZU1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRlbXBsYXRlQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVGhlbWVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVGhlbWVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUaGVtZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRoZW1lQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRvcGljQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRvcGljQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZWZyZXNoQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRvcGljQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhc2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBdmFpbGFiaWxpdHlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVBbmFseXNpc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERlbGV0aW9uVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlQW5hbHlzaXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVEYXNoYm9hcmRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRGFzaGJvYXJkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZURhdGFTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhdGFTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVEYXRhU291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU291cmNlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVEYXRhU291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUZvbGRlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVGb2xkZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRm9sZGVyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUdyb3VwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVHcm91cENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVHcm91cE1lbWJlcnNoaXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXNzaWdubWVudE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlQcm9wYWdhdGlvbkNvbmZpZ0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZU5hbWVzcGFjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVOYW1lc3BhY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZU5hbWVzcGFjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNjaGVkdWxlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJvbGVDdXN0b21QZXJtaXNzaW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVJvbGVDdXN0b21QZXJtaXNzaW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0SW50MzIsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlUm9sZUN1c3RvbVBlcm1pc3Npb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSb2xlTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSb2xlTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlUm9sZU1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbGlhc05hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUaGVtZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUaGVtZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRoZW1lQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbGlhc05hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGhlbWVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVG9waWNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVG9waWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUb3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFzZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVVzZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVVc2VyQnlQcmluY2lwYWxJZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVVc2VyQnlQcmluY2lwYWxJZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVXNlckJ5UHJpbmNpcGFsSWRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF2YWlsYWJpbGl0eVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERlbGV0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDQ29ubmVjdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVlBDQ29ubmVjdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IF9qc29uLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lc3BhY2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQWNjb3VudFNldHRpbmdzOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY2NvdW50U2V0dGluZ3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFjY291bnRJbmZvOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzOiAoXykgPT4gZGVfQW5hbHlzaXMoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IGRlX0FuYWx5c2lzRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFuYWx5c2lzRGVmaW5pdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlRXhwb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDbG91ZEZvcm1hdGlvbk92ZXJyaWRlUHJvcGVydHlDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERvd25sb2FkVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgRXhwb3J0Rm9ybWF0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5jbHVkZUFsbERlcGVuZGVuY2llczogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBJbmNsdWRlUGVybWlzc2lvbnM6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSW5jbHVkZVRhZ3M6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSm9iU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VBcm5zOiBfanNvbixcbiAgICAgICAgVmFsaWRhdGlvblN0cmF0ZWd5OiBfanNvbixcbiAgICAgICAgV2FybmluZ3M6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBGYWlsdXJlQWN0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSm9iU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgT3ZlcnJpZGVQYXJhbWV0ZXJzOiAoXykgPT4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JPdmVycmlkZVBhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIE92ZXJyaWRlUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBPdmVycmlkZVRhZ3M6IF9qc29uLFxuICAgICAgICBPdmVycmlkZVZhbGlkYXRpb25TdHJhdGVneTogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJvbGxiYWNrRXJyb3JzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZDogKF8pID0+IGRlX0Rhc2hib2FyZChfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkRGVmaW5pdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhc2hib2FyZERlZmluaXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkUHVibGlzaE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gZGVfRGFzaGJvYXJkVmVyc2lvbkRlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXNvdXJjZVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmREZWZpbml0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMaW5rU2hhcmluZ0NvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRTbmFwc2hvdEpvYkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhc2hib2FyZFNuYXBzaG90Sm9iQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNuYXBzaG90Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1NuYXBzaG90Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU25hcHNob3RKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICAgICAgVXNlckNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGFzaGJvYXJkU25hcHNob3RKb2JDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRTbmFwc2hvdEpvYlJlc3VsdENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhc2hib2FyZFNuYXBzaG90Sm9iUmVzdWx0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRXJyb3JJbmZvOiBfanNvbixcbiAgICAgICAgSm9iU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXN1bHQ6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZURhc2hib2FyZFNuYXBzaG90Sm9iUmVzdWx0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGF0YVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldDogKF8pID0+IGRlX0RhdGFTZXQoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTZXRSZWZyZXNoUHJvcGVydGllczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGF0YVNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZTogKF8pID0+IGRlX0RhdGFTb3VyY2UoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVGb2xkZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEZvbGRlcjogKF8pID0+IGRlX0ZvbGRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUZvbGRlclJlc29sdmVkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVGb2xkZXJSZXNvbHZlZFBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJSZXNvbHZlZFBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVHcm91cENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUdyb3VwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cDogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlR3JvdXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBNZW1iZXI6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIElBTVBvbGljeUFzc2lnbm1lbnQ6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBJbmdlc3Rpb246IChfKSA9PiBkZV9Jbmdlc3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVJcFJlc3RyaWN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIElwUmVzdHJpY3Rpb25SdWxlTWFwOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVJcFJlc3RyaWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlTmFtZXNwYWNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOYW1lc3BhY2U6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZU5hbWVzcGFjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZTogKF8pID0+IGRlX1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUm9sZUN1c3RvbVBlcm1pc3Npb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVSb2xlQ3VzdG9tUGVybWlzc2lvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQ3VzdG9tUGVybWlzc2lvbnNOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUm9sZUN1c3RvbVBlcm1pc3Npb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlOiAoXykgPT4gZGVfVGVtcGxhdGUoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVBbGlhczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVEZWZpbml0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gZGVfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZURlZmluaXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUaGVtZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWU6IChfKSA9PiBkZV9UaGVtZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUaGVtZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRoZW1lQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRoZW1lQWxpYXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRvcGljQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVG9waWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljOiBfanNvbixcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVG9waWNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRvcGljUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlZnJlc2hEZXRhaWxzOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhc2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlOiAoXykgPT4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXNlcjogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICAgICAgVlBDQ29ubmVjdGlvbjogKF8pID0+IGRlX1ZQQ0Nvbm5lY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5vbnltb3VzVXNlckFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEVtYmVkVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2VuZXJhdGVFbWJlZFVybEZvckFub255bW91c1VzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2VuZXJhdGVFbWJlZFVybEZvclJlZ2lzdGVyZWRVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dlbmVyYXRlRW1iZWRVcmxGb3JSZWdpc3RlcmVkVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRW1iZWRVcmw6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yUmVnaXN0ZXJlZFVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBFbWJlZFVybDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldERhc2hib2FyZEVtYmVkVXJsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0RvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Eb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRTZXNzaW9uRW1iZWRVcmxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0U2Vzc2lvbkVtYmVkVXJsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBFbWJlZFVybDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldFNlc3Npb25FbWJlZFVybENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEFuYWx5c2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RBbmFseXNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0FuYWx5c2lzU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RBbmFseXNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RBc3NldEJ1bmRsZUV4cG9ydEpvYnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEFzc2V0QnVuZGxlRXhwb3J0Sm9ic0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0Fzc2V0QnVuZGxlRXhwb3J0Sm9iU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RBc3NldEJ1bmRsZUV4cG9ydEpvYnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEFzc2V0QnVuZGxlSW1wb3J0Sm9ic0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0QXNzZXRCdW5kbGVJbXBvcnRKb2JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydEpvYlN1bW1hcnlMaXN0OiAoXykgPT4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEFzc2V0QnVuZGxlSW1wb3J0Sm9ic0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9EYXNoYm9hcmRTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0RGFzaGJvYXJkVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdERhc2hib2FyZFZlcnNpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRWZXJzaW9uU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9EYXNoYm9hcmRWZXJzaW9uU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3REYXNoYm9hcmRWZXJzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdERhdGFTZXRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3REYXRhU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldFN1bW1hcmllczogKF8pID0+IGRlX0RhdGFTZXRTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhdGFTZXRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3REYXRhU291cmNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGF0YVNvdXJjZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTb3VyY2VzOiAoXykgPT4gZGVfRGF0YVNvdXJjZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3REYXRhU291cmNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Rm9sZGVyTWVtYmVyc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0Rm9sZGVyTWVtYmVyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyTWVtYmVyTGlzdDogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RGb2xkZXJNZW1iZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEZvbGRlcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEZvbGRlcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEZvbGRlclN1bW1hcnlMaXN0OiAoXykgPT4gZGVfRm9sZGVyU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RGb2xkZXJzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEdyb3VwTWVtYmVyc2hpcHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEdyb3VwTWVtYmVyc2hpcHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTWVtYmVyTGlzdDogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RHcm91cE1lbWJlcnNoaXBzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RHcm91cHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEdyb3Vwc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEdyb3Vwc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBJQU1Qb2xpY3lBc3NpZ25tZW50czogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzRm9yVXNlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNGb3JVc2VyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBY3RpdmVBc3NpZ25tZW50czogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0ZvclVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SWRlbnRpdHlQcm9wYWdhdGlvbkNvbmZpZ3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdElkZW50aXR5UHJvcGFnYXRpb25Db25maWdzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTZXJ2aWNlczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SW5nZXN0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SW5nZXN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgSW5nZXN0aW9uczogKF8pID0+IGRlX0luZ2VzdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RJbmdlc3Rpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE5hbWVzcGFjZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdE5hbWVzcGFjZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5hbWVzcGFjZXM6IF9qc29uLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0TmFtZXNwYWNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UmVmcmVzaFNjaGVkdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0UmVmcmVzaFNjaGVkdWxlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlczogKF8pID0+IGRlX1JlZnJlc2hTY2hlZHVsZXMoXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Um9sZU1lbWJlcnNoaXBzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RSb2xlTWVtYmVyc2hpcHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lbWJlcnNMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFJvbGVNZW1iZXJzaGlwc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUYWdzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGVtcGxhdGVBbGlhc2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUZW1wbGF0ZUFsaWFzZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlQWxpYXNMaXN0OiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlQWxpYXNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUZW1wbGF0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9UZW1wbGF0ZVN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGVtcGxhdGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGVtcGxhdGVWZXJzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGVtcGxhdGVWZXJzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVWZXJzaW9uU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9UZW1wbGF0ZVZlcnNpb25TdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlVmVyc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUaGVtZUFsaWFzZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRoZW1lQWxpYXNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBbGlhc0xpc3Q6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGhlbWVBbGlhc2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRoZW1lc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGhlbWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZVN1bW1hcnlMaXN0OiAoXykgPT4gZGVfVGhlbWVTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRoZW1lc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUaGVtZVZlcnNpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUaGVtZVZlcnNpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZVZlcnNpb25TdW1tYXJ5TGlzdDogKF8pID0+IGRlX1RoZW1lVmVyc2lvblN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGhlbWVWZXJzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUb3BpY1JlZnJlc2hTY2hlZHVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRvcGljUmVmcmVzaFNjaGVkdWxlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlczogKF8pID0+IGRlX1RvcGljUmVmcmVzaFNjaGVkdWxlU3VtbWFyaWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VG9waWNSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUb3BpY3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRvcGljc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNzU3VtbWFyaWVzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRvcGljc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VXNlckdyb3Vwc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VXNlckdyb3Vwc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFVzZXJHcm91cHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VXNlcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFVzZXJzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVc2VyTGlzdDogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RVc2Vyc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VlBDQ29ubmVjdGlvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFZQQ0Nvbm5lY3Rpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uU3VtbWFyaWVzOiAoXykgPT4gZGVfVlBDQ29ubmVjdGlvblN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VlBDQ29ubmVjdGlvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dERhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXREYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1B1dERhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9SZWdpc3RlclVzZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVnaXN0ZXJVc2VyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVc2VyOiBfanNvbixcbiAgICAgICAgVXNlckludml0YXRpb25Vcmw6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWdpc3RlclVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1Jlc3RvcmVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9SZXN0b3JlQW5hbHlzaXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZXN0b3JlQW5hbHlzaXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlYXJjaEFuYWx5c2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlYXJjaEFuYWx5c2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc1N1bW1hcnlMaXN0OiAoXykgPT4gZGVfQW5hbHlzaXNTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VhcmNoQW5hbHlzZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlYXJjaERhc2hib2FyZHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VhcmNoRGFzaGJvYXJkc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9EYXNoYm9hcmRTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VhcmNoRGFzaGJvYXJkc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VhcmNoRGF0YVNldHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VhcmNoRGF0YVNldHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTZXRTdW1tYXJpZXM6IChfKSA9PiBkZV9EYXRhU2V0U3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlYXJjaERhdGFTZXRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZWFyY2hEYXRhU291cmNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZWFyY2hEYXRhU291cmNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZVN1bW1hcmllczogKF8pID0+IGRlX0RhdGFTb3VyY2VTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VhcmNoRGF0YVNvdXJjZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlYXJjaEZvbGRlcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VhcmNoRm9sZGVyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9Gb2xkZXJTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VhcmNoRm9sZGVyc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZWFyY2hHcm91cHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VhcmNoR3JvdXBzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cExpc3Q6IF9qc29uLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZWFyY2hHcm91cHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydEFzc2V0QnVuZGxlRXhwb3J0Sm9iQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NldEJ1bmRsZUV4cG9ydEpvYklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU3RhcnRBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0QXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnRBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzZXRCdW5kbGVJbXBvcnRKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0YXJ0QXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydERhc2hib2FyZFNuYXBzaG90Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0RGFzaGJvYXJkU25hcHNob3RKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNuYXBzaG90Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdGFydERhc2hib2FyZFNuYXBzaG90Sm9iQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9UYWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9UYWdSZXNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGFnUmVzb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VudGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVW50YWdSZXNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVW50YWdSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IF9qc29uLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lc3BhY2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVBY2NvdW50U2V0dGluZ3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUFjY291bnRTZXR0aW5nc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQW5hbHlzaXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVcGRhdGVTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVBbmFseXNpc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICAgICAgVmVyc2lvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGFzaGJvYXJkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGlua1NoYXJpbmdDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhc2hib2FyZFB1Ymxpc2hlZFZlcnNpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGFzaGJvYXJkUHVibGlzaGVkVmVyc2lvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXNoYm9hcmRQdWJsaXNoZWRWZXJzaW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhdGFTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGF0YVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXRhU2V0UGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXRhU291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhdGFTb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVwZGF0ZVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhdGFTb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTb3VyY2VBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU291cmNlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUZvbGRlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVGb2xkZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRm9sZGVyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUZvbGRlclBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUZvbGRlclBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUZvbGRlclBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlR3JvdXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlR3JvdXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFzc2lnbm1lbnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2lnbm1lbnROYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzaWdubWVudFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIElkZW50aXRpZXM6IF9qc29uLFxuICAgICAgICBQb2xpY3lBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlSWRlbnRpdHlQcm9wYWdhdGlvbkNvbmZpZ0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVJZGVudGl0eVByb3BhZ2F0aW9uQ29uZmlnQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlSXBSZXN0cmljdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlSXBSZXN0cmljdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlUHVibGljU2hhcmluZ1NldHRpbmdzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVB1YmxpY1NoYXJpbmdTZXR0aW5nc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlUHVibGljU2hhcmluZ1NldHRpbmdzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY2hlZHVsZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlUm9sZUN1c3RvbVBlcm1pc3Npb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlUm9sZUN1c3RvbVBlcm1pc3Npb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVSb2xlQ3VzdG9tUGVybWlzc2lvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRoZW1lQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGhlbWVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVGhlbWVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVG9waWNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVG9waWNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlZnJlc2hBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVG9waWNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRvcGljUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFzZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0FybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVVzZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVzZXI6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVVc2VyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBdmFpbGFiaWxpdHlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVcGRhdGVTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENvbmN1cnJlbnRVcGRhdGluZ0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmxpY3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0RvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IERvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXNvdXJjZVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IExpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1F1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVGhyb3R0bGluZ0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBdHRyaWJ1dGVBZ2dyZWdhdGlvbkZ1bmN0aW9uOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uOiBbXSxcbiAgICAgICAgRGF0ZUFnZ3JlZ2F0aW9uRnVuY3Rpb246IFtdLFxuICAgICAgICBOdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFNvcnREaXJlY3Rpb246IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0FuYWx5c2lzRGVmaW5pdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllckRlY2xhcmF0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckdyb3VwczogKF8pID0+IHNlX0ZpbHRlckdyb3VwTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgT3B0aW9uczogX2pzb24sXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gc2VfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BcmNBeGlzQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gc2VfQXJjQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVzZXJ2ZVJhbmdlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BcmNBeGlzRGlzcGxheVJhbmdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTWF4OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBNaW46IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXJjQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFyY0FuZ2xlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBBcmNUaGlja25lc3M6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQW5hbHlzZXM6IF9qc29uLFxuICAgICAgICBEYXNoYm9hcmRzOiBfanNvbixcbiAgICAgICAgRGF0YVNldHM6IF9qc29uLFxuICAgICAgICBEYXRhU291cmNlczogX2pzb24sXG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZXM6IChfKSA9PiBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVyc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFJlc291cmNlSWRPdmVycmlkZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBUaGVtZXM6IF9qc29uLFxuICAgICAgICBWUENDb25uZWN0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhU2V0SWQ6IFtdLFxuICAgICAgICBTY2hlZHVsZUlkOiBbXSxcbiAgICAgICAgU3RhcnRBZnRlckRhdGVUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVycyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2UgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb2R5OiBjb250ZXh0LmJhc2U2NEVuY29kZXIsXG4gICAgICAgIFMzVXJpOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzRGF0YU9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlQXhpc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBOdW1lcmljQXhpc09wdGlvbnM6IChfKSA9PiBzZV9OdW1lcmljQXhpc09wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIE1heGltdW06IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIE1pbmltdW06IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0Rpc3BsYXlPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXhpc0xpbmVWaXNpYmlsaXR5OiBbXSxcbiAgICAgICAgQXhpc09mZnNldDogW10sXG4gICAgICAgIERhdGFPcHRpb25zOiAoXykgPT4gc2VfQXhpc0RhdGFPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBHcmlkTGluZVZpc2liaWxpdHk6IFtdLFxuICAgICAgICBTY3JvbGxiYXJPcHRpb25zOiAoXykgPT4gc2VfU2Nyb2xsQmFyT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVGlja0xhYmVsT3B0aW9uczogKF8pID0+IHNlX0F4aXNUaWNrTGFiZWxPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNEaXNwbGF5UmFuZ2UgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhRHJpdmVuOiBfanNvbixcbiAgICAgICAgTWluTWF4OiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzTGluZWFyU2NhbGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTdGVwQ291bnQ6IFtdLFxuICAgICAgICBTdGVwU2l6ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzTG9nYXJpdGhtaWNTY2FsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhc2U6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc1NjYWxlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTGluZWFyOiAoXykgPT4gc2VfQXhpc0xpbmVhclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBMb2dhcml0aG1pYzogKF8pID0+IHNlX0F4aXNMb2dhcml0aG1pY1NjYWxlKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNUaWNrTGFiZWxPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUm90YXRpb25BbmdsZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9CYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyc0FycmFuZ2VtZW50OiBbXSxcbiAgICAgICAgQ2F0ZWdvcnlBeGlzOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29udHJpYnV0aW9uQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfQmFyQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBPcmllbnRhdGlvbjogW10sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfQmFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUF4aXM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0JhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc1NvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9CYXJDaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9CYXJDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9CaW5XaWR0aE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCaW5Db3VudExpbWl0OiBbXSxcbiAgICAgICAgVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX0JveFBsb3RNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JveFBsb3RDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb3hQbG90T3B0aW9uczogX2pzb24sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfQm94UGxvdEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0JveFBsb3RTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Cb3hQbG90RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0JveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Cb3hQbG90TWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JveFBsb3RTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYWdpbmF0aW9uQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQm94UGxvdFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Cb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sb3JTY2FsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yRmlsbFR5cGU6IFtdLFxuICAgICAgICBDb2xvcnM6IChfKSA9PiBzZV9Db2xvclNjYWxlQ29sb3JMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOdWxsVmFsdWVDb2xvcjogKF8pID0+IHNlX0RhdGFDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db2xvclNjYWxlQ29sb3JMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RhdGFDb2xvcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sdW1uSGllcmFyY2h5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVIaWVyYXJjaHk6IChfKSA9PiBzZV9EYXRlVGltZUhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgRXhwbGljaXRIaWVyYXJjaHk6IChfKSA9PiBzZV9FeHBsaWNpdEhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgUHJlZGVmaW5lZEhpZXJhcmNoeTogKF8pID0+IHNlX1ByZWRlZmluZWRIaWVyYXJjaHkoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sdW1uSGllcmFyY2h5TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9Db2x1bW5IaWVyYXJjaHkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbHVtblNvcnQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRGlyZWN0aW9uOiBbXSxcbiAgICAgICAgU29ydEJ5OiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db2x1bW5Ub29sdGlwSXRlbSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgTGFiZWw6IFtdLFxuICAgICAgICBWaXNpYmlsaXR5OiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYXJWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIExpbmVWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbWJvQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEJhcnNBcnJhbmdlbWVudDogW10sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Db21ib0NoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgTGluZURhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0NvbWJvQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0NvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tYm9DaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Db21ib0NoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRm9yZWNhc3Q6IChfKSA9PiBzZV9Gb3JlY2FzdENvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm93dGhSYXRlOiAoXykgPT4gc2VfR3Jvd3RoUmF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXhpbXVtTWluaW11bTogKF8pID0+IHNlX01heGltdW1NaW5pbXVtQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE1ldHJpY0NvbXBhcmlzb246IChfKSA9PiBzZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZE92ZXJQZXJpb2Q6IChfKSA9PiBzZV9QZXJpb2RPdmVyUGVyaW9kQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZFRvRGF0ZTogKF8pID0+IHNlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21Nb3ZlcnM6IChfKSA9PiBzZV9Ub3BCb3R0b21Nb3ZlcnNDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9wQm90dG9tUmFua2VkOiAoXykgPT4gc2VfVG9wQm90dG9tUmFua2VkQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvdGFsQWdncmVnYXRpb246IChfKSA9PiBzZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVuaXF1ZVZhbHVlczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tcHV0YXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0NvbXB1dGF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYWRpZW50OiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nR3JhZGllbnRDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgU29saWQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyYWRpZW50Q29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvcjogKF8pID0+IHNlX0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIEV4cHJlc3Npb246IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25zOiAoXykgPT4gc2VfU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21Db250ZW50VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyOiBbXSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21QYXJhbWV0ZXJWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyVmFsdWVzOiBfanNvbixcbiAgICAgICAgU3RyaW5nVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWVzOiAoXykgPT4gc2VfQ3VzdG9tUGFyYW1ldGVyVmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJbmNsdWRlTnVsbFZhbHVlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllckRlY2xhcmF0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckdyb3VwczogKF8pID0+IHNlX0ZpbHRlckdyb3VwTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgT3B0aW9uczogX2pzb24sXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gc2VfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRhQ29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvcjogW10sXG4gICAgICAgIERhdGFWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRhc2V0UGFyYW1ldGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyOiAoXykgPT4gc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsRGF0YXNldFBhcmFtZXRlcjogKF8pID0+IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyRGF0YXNldFBhcmFtZXRlcjogX2pzb24sXG4gICAgICAgIFN0cmluZ0RhdGFzZXRQYXJhbWV0ZXI6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RhdGFzZXRQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgICAgICBWYWx1ZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZW50cnkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEZWZhdWx0VmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZW50cnkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEZWZhdWx0VmFsdWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgUm9sbGluZ0RhdGU6IF9qc29uLFxuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVIaWVyYXJjaHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEcmlsbERvd25GaWx0ZXJzOiAoXykgPT4gc2VfRHJpbGxEb3duRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGllcmFyY2h5SWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lUGFyYW1ldGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX1NlbnNpdGl2ZVRpbWVzdGFtcExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIE1hcHBlZERhdGFTZXRQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiAoXykgPT4gc2VfRGF0ZVRpbWVWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVQYXJhbWV0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RhdGVUaW1lUGFyYW1ldGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBWYWx1ZVdoZW5VbnNldE9wdGlvbjogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEZWZhdWx0VmFsdWVzOiAoXykgPT4gc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBWYWx1ZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc2VyaWFsaXplRmxvYXQoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc2VyaWFsaXplRmxvYXQoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gc2VfRGVjaW1hbERlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbFBhcmFtZXRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9TZW5zaXRpdmVEb3VibGVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EZWNpbWFsRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwcGVkRGF0YVNldFBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyVmFsdWVUeXBlOiBbXSxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IChfKSA9PiBzZV9EZWNpbWFsVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxQYXJhbWV0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RlY2ltYWxQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXRPcHRpb246IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Rlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX0N1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdEFsbFZhbHVlT3B0aW9uczogW10sXG4gICAgICAgIFNvdXJjZUNvbHVtbjogX2pzb24sXG4gICAgICAgIFNvdXJjZUZpZWxkOiBbXSxcbiAgICAgICAgU291cmNlUGFyYW1ldGVyTmFtZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRHJpbGxEb3duRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlGaWx0ZXI6IF9qc29uLFxuICAgICAgICBOdW1lcmljRXF1YWxpdHlGaWx0ZXI6IChfKSA9PiBzZV9OdW1lcmljRXF1YWxpdHlEcmlsbERvd25GaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIFRpbWVSYW5nZUZpbHRlcjogKF8pID0+IHNlX1RpbWVSYW5nZURyaWxsRG93bkZpbHRlcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EcmlsbERvd25GaWx0ZXJMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RyaWxsRG93bkZpbHRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRW1wdHlWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXI6IFtdLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRXhwbGljaXRIaWVyYXJjaHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgRHJpbGxEb3duRmlsdGVyczogKF8pID0+IHNlX0RyaWxsRG93bkZpbHRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEhpZXJhcmNoeUlkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWVsZEJhc2VkVG9vbHRpcCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uVmlzaWJpbGl0eTogW10sXG4gICAgICAgIFRvb2x0aXBGaWVsZHM6IChfKSA9PiBzZV9Ub29sdGlwSXRlbUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXBUaXRsZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpZWxkU29ydE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5Tb3J0OiAoXykgPT4gc2VfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRTb3J0OiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWVsZFNvcnRPcHRpb25zKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9GaWxsZWRNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbnM6IChfKSA9PiBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFNoYXBlOiAoXykgPT4gc2VfRmlsbGVkTWFwU2hhcGVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfRmlsbGVkTWFwRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgTWFwU3R5bGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9GaWxsZWRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBXaW5kb3dPcHRpb25zOiAoXykgPT4gc2VfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbGxlZE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfRmlsbGVkTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcFNoYXBlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIEZvcm1hdDogKF8pID0+IHNlX1NoYXBlQ29uZGl0aW9uYWxGb3JtYXQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfRmlsbGVkTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlGaWx0ZXI6IF9qc29uLFxuICAgICAgICBOdW1lcmljRXF1YWxpdHlGaWx0ZXI6IChfKSA9PiBzZV9OdW1lcmljRXF1YWxpdHlGaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIE51bWVyaWNSYW5nZUZpbHRlcjogKF8pID0+IHNlX051bWVyaWNSYW5nZUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgUmVsYXRpdmVEYXRlc0ZpbHRlcjogX2pzb24sXG4gICAgICAgIFRpbWVFcXVhbGl0eUZpbHRlcjogKF8pID0+IHNlX1RpbWVFcXVhbGl0eUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZVJhbmdlRmlsdGVyOiAoXykgPT4gc2VfVGltZVJhbmdlRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21GaWx0ZXI6IChfKSA9PiBzZV9Ub3BCb3R0b21GaWx0ZXIoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsdGVyQ29udHJvbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lUGlja2VyOiBfanNvbixcbiAgICAgICAgRHJvcGRvd246IF9qc29uLFxuICAgICAgICBMaXN0OiBfanNvbixcbiAgICAgICAgUmVsYXRpdmVEYXRlVGltZTogX2pzb24sXG4gICAgICAgIFNsaWRlcjogKF8pID0+IHNlX0ZpbHRlclNsaWRlckNvbnRyb2woXywgY29udGV4dCksXG4gICAgICAgIFRleHRBcmVhOiBfanNvbixcbiAgICAgICAgVGV4dEZpZWxkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJDb250cm9sTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWx0ZXJDb250cm9sKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJHcm91cCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENyb3NzRGF0YXNldDogW10sXG4gICAgICAgIEZpbHRlckdyb3VwSWQ6IFtdLFxuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gc2VfRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2NvcGVDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJHcm91cExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRmlsdGVyR3JvdXAoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbHRlckxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJTbGlkZXJDb250cm9sID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGlzcGxheU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJDb250cm9sSWQ6IFtdLFxuICAgICAgICBNYXhpbXVtVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIE1pbmltdW1WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgU291cmNlRmlsdGVySWQ6IFtdLFxuICAgICAgICBTdGVwU2l6ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgVGl0bGU6IFtdLFxuICAgICAgICBUeXBlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdENvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIEN1c3RvbVNlYXNvbmFsaXR5VmFsdWU6IFtdLFxuICAgICAgICBMb3dlckJvdW5kYXJ5OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVyaW9kc0JhY2t3YXJkOiBbXSxcbiAgICAgICAgUGVyaW9kc0ZvcndhcmQ6IFtdLFxuICAgICAgICBQcmVkaWN0aW9uSW50ZXJ2YWw6IFtdLFxuICAgICAgICBTZWFzb25hbGl0eTogW10sXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBVcHBlckJvdW5kYXJ5OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGb3JlY2FzdFByb3BlcnRpZXM6IChfKSA9PiBzZV9UaW1lQmFzZWRGb3JlY2FzdFByb3BlcnRpZXMoXywgY29udGV4dCksXG4gICAgICAgIFNjZW5hcmlvOiAoXykgPT4gc2VfRm9yZWNhc3RTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRm9yZWNhc3RTY2VuYXJpbyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFdoYXRJZlBvaW50U2NlbmFyaW86IChfKSA9PiBzZV9XaGF0SWZQb2ludFNjZW5hcmlvKF8sIGNvbnRleHQpLFxuICAgICAgICBXaGF0SWZSYW5nZVNjZW5hcmlvOiAoXykgPT4gc2VfV2hhdElmUmFuZ2VTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GdW5uZWxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9GdW5uZWxDaGFydE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0Z1bm5lbENoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9GdW5uZWxDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRnVubmVsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0Z1bm5lbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Z1bm5lbENoYXJ0VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0Z1bm5lbENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRBcmNDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGb3JlZ3JvdW5kQ29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBcmM6IChfKSA9PiBzZV9HYXVnZUNoYXJ0QXJjQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5VmFsdWU6IChfKSA9PiBzZV9HYXVnZUNoYXJ0UHJpbWFyeVZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9HYXVnZUNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgR2F1Z2VDaGFydE9wdGlvbnM6IChfKSA9PiBzZV9HYXVnZUNoYXJ0T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcE9wdGlvbnM6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBUYXJnZXRWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXJjOiAoXykgPT4gc2VfQXJjQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQXJjQXhpczogKF8pID0+IHNlX0FyY0F4aXNDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb21wYXJpc29uOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVZhbHVlRGlzcGxheVR5cGU6IFtdLFxuICAgICAgICBQcmltYXJ5VmFsdWVGb250Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydFByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HYXVnZUNoYXJ0VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0dhdWdlQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxDb29yZGluYXRlQm91bmRzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRWFzdDogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgTm9ydGg6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFNvdXRoOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBXZXN0OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBNYXBTdHlsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBQb2ludFN0eWxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFdpbmRvd09wdGlvbnM6IChfKSA9PiBzZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HZW9zcGF0aWFsTWFwRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdlb3NwYXRpYWxNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HZW9zcGF0aWFsTWFwVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb3VuZHM6IChfKSA9PiBzZV9HZW9zcGF0aWFsQ29vcmRpbmF0ZUJvdW5kcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwWm9vbU1vZGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dyYWRpZW50Q29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTdG9wczogKF8pID0+IHNlX0dyYWRpZW50U3RvcExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR3JhZGllbnRTdG9wID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3I6IFtdLFxuICAgICAgICBEYXRhVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIEdyYWRpZW50T2Zmc2V0OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dyYWRpZW50U3RvcExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfR3JhZGllbnRTdG9wKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Hcm93dGhSYXRlQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcmlvZFNpemU6IFtdLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIFJvd3M6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9IZWF0TWFwTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IZWF0TWFwQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBzZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5MYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0hlYXRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBSb3dMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0hlYXRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hlYXRNYXBGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfSGVhdE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hlYXRNYXBNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGVhdE1hcFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSGVhdE1hcENvbHVtbkl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcENvbHVtblNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFJvd0l0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcFJvd1NvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IZWF0TWFwVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0hlYXRNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9IaXN0b2dyYW1NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hpc3RvZ3JhbUJpbk9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCaW5Db3VudDogX2pzb24sXG4gICAgICAgIEJpbldpZHRoOiAoXykgPT4gc2VfQmluV2lkdGhPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWxlY3RlZEJpblR5cGU6IFtdLFxuICAgICAgICBTdGFydFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hpc3RvZ3JhbUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCaW5PcHRpb25zOiAoXykgPT4gc2VfSGlzdG9ncmFtQmluT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9IaXN0b2dyYW1GaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEhpc3RvZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hpc3RvZ3JhbVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9IaXN0b2dyYW1Db25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0luc2lnaHRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25zOiAoXykgPT4gc2VfQ29tcHV0YXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21OYXJyYXRpdmU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0luc2lnaHRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXI6IFtdLFxuICAgICAgICBJbnNpZ2h0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0luc2lnaHRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSUFjdHVhbFZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSUNvbXBhcmlzb25WYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gc2VfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3R1YWxWYWx1ZTogKF8pID0+IHNlX0tQSUFjdHVhbFZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBDb21wYXJpc29uVmFsdWU6IChfKSA9PiBzZV9LUElDb21wYXJpc29uVmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlWYWx1ZTogKF8pID0+IHNlX0tQSVByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJvZ3Jlc3NCYXI6IChfKSA9PiBzZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfS1BJQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9LUElGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBLUElPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9LUElTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFyZ2V0VmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgVHJlbmRHcm91cHM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSVByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZvcmVncm91bmRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSVNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVHJlbmRHcm91cFNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfS1BJQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGF5b3V0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX0xheW91dENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGF5b3V0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZyZWVGb3JtTGF5b3V0OiBfanNvbixcbiAgICAgICAgR3JpZExheW91dDogX2pzb24sXG4gICAgICAgIFNlY3Rpb25CYXNlZExheW91dDogKF8pID0+IHNlX1NlY3Rpb25CYXNlZExheW91dENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGF5b3V0TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9MYXlvdXQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbnRyaWJ1dGlvbkFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRGVmYXVsdFNlcmllc1NldHRpbmdzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0xpbmVDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEZvcmVjYXN0Q29uZmlndXJhdGlvbnM6IChfKSA9PiBzZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0xpbmVTZXJpZXNBeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9MaW5lU2VyaWVzQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWNvbmRhcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNlcmllczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVHlwZTogW10sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIExpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbG9ySXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzU29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xpbmVDaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9MaW5lQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZVNlcmllc0F4aXNEaXNwbGF5T3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEF4aXNPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBNaXNzaW5nRGF0YUNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Mb2dpY2FsVGFibGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBbGlhczogW10sXG4gICAgICAgIERhdGFUcmFuc2Zvcm1zOiAoXykgPT4gc2VfVHJhbnNmb3JtT3BlcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU291cmNlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Mb2dpY2FsVGFibGVNYXAgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoaW5wdXQpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1trZXldID0gc2VfTG9naWNhbFRhYmxlKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuY29uc3Qgc2VfTWF4aW11bU1pbmltdW1Db21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IFtdLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9NZWFzdXJlRmllbGQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYWxjdWxhdGVkTWVhc3VyZUZpZWxkOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBEYXRlTWVhc3VyZUZpZWxkOiBfanNvbixcbiAgICAgICAgTnVtZXJpY2FsTWVhc3VyZUZpZWxkOiAoXykgPT4gc2VfTnVtZXJpY2FsTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX01lYXN1cmVGaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgRnJvbVZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGFyZ2V0VmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX05ld0RlZmF1bHRWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyU3RhdGljVmFsdWVzOiBfanNvbixcbiAgICAgICAgU3RyaW5nU3RhdGljVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUGVyY2VudGlsZUFnZ3JlZ2F0aW9uOiAoXykgPT4gc2VfUGVyY2VudGlsZUFnZ3JlZ2F0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTaW1wbGVOdW1lcmljYWxBZ2dyZWdhdGlvbjogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTnVtZXJpY2FsTWVhc3VyZUZpZWxkID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpZWxkSWQ6IFtdLFxuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljQXhpc09wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBSYW5nZTogKF8pID0+IHNlX0F4aXNEaXNwbGF5UmFuZ2UoXywgY29udGV4dCksXG4gICAgICAgIFNjYWxlOiAoXykgPT4gc2VfQXhpc1NjYWxlKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNFcXVhbGl0eURyaWxsRG93bkZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNFcXVhbGl0eUZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBzZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogW10sXG4gICAgICAgIE1hdGNoT3BlcmF0b3I6IFtdLFxuICAgICAgICBOdWxsT3B0aW9uOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFNlbGVjdEFsbE9wdGlvbnM6IFtdLFxuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljUmFuZ2VGaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBJbmNsdWRlTWF4aW11bTogW10sXG4gICAgICAgIEluY2x1ZGVNaW5pbXVtOiBbXSxcbiAgICAgICAgTnVsbE9wdGlvbjogW10sXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IHNlX051bWVyaWNSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBSYW5nZU1pbmltdW06IChfKSA9PiBzZV9OdW1lcmljUmFuZ2VGaWx0ZXJWYWx1ZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsT3B0aW9uczogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTnVtZXJpY1JhbmdlRmlsdGVyVmFsdWUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQYXJhbWV0ZXI6IFtdLFxuICAgICAgICBTdGF0aWNWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBOZXdEZWZhdWx0VmFsdWVzOiAoXykgPT4gc2VfTmV3RGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTmV3UGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlckNvbnRyb2wgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVBpY2tlcjogX2pzb24sXG4gICAgICAgIERyb3Bkb3duOiBfanNvbixcbiAgICAgICAgTGlzdDogX2pzb24sXG4gICAgICAgIFNsaWRlcjogKF8pID0+IHNlX1BhcmFtZXRlclNsaWRlckNvbnRyb2woXywgY29udGV4dCksXG4gICAgICAgIFRleHRBcmVhOiBfanNvbixcbiAgICAgICAgVGV4dEZpZWxkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QYXJhbWV0ZXJDb250cm9sTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9QYXJhbWV0ZXJDb250cm9sKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb246IChfKSA9PiBzZV9EYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb246IChfKSA9PiBzZV9EZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbjogX2pzb24sXG4gICAgICAgIFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfUGFyYW1ldGVyRGVjbGFyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX19QYXJhbWV0ZXJzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQYXJhbWV0ZXJzOiAoXykgPT4gc2VfRGF0ZVRpbWVQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyczogKF8pID0+IHNlX0RlY2ltYWxQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyczogX2pzb24sXG4gICAgICAgIFN0cmluZ1BhcmFtZXRlcnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlclNsaWRlckNvbnRyb2wgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEaXNwbGF5T3B0aW9uczogX2pzb24sXG4gICAgICAgIE1heGltdW1WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgTWluaW11bVZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBQYXJhbWV0ZXJDb250cm9sSWQ6IFtdLFxuICAgICAgICBTb3VyY2VQYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICAgICAgU3RlcFNpemU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFRpdGxlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QZXJjZW50aWxlQWdncmVnYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQZXJjZW50aWxlVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGVyY2VudFZpc2libGVSYW5nZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZyb206IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFRvOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BlcmlvZE92ZXJQZXJpb2RDb21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQZXJpb2RUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGllQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BpZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29udHJpYnV0aW9uQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBEb251dE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGllQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1BpZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaWVDaGFydEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQaWVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGllQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaWVDaGFydFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGllQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUGllQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RGaWVsZFNvcnRPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIFNvcnRCeTogKF8pID0+IHNlX1Bpdm90VGFibGVTb3J0QnkoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RGaWVsZFNvcnRPcHRpb25zTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9QaXZvdEZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90TWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBSb3dzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfUGl2b3RNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIFNjb3BlOiBfanNvbixcbiAgICAgICAgU2NvcGVzOiBfanNvbixcbiAgICAgICAgVGV4dEZvcm1hdDogKF8pID0+IHNlX1RleHRDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDZWxsOiAoXykgPT4gc2VfUGl2b3RUYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGl2b3RUYWJsZUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFBhZ2luYXRlZFJlcG9ydE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1Bpdm90VGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG90YWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1Bpdm90VGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlU29ydEJ5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uOiAoXykgPT4gc2VfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVBhdGg6IF9qc29uLFxuICAgICAgICBGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRTb3J0T3B0aW9uczogKF8pID0+IHNlX1Bpdm90RmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9QaXZvdFRhYmxlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QcmVkZWZpbmVkSGllcmFyY2h5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBzZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcjogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX1JhZGFyQ2hhcnRWYWx1ZXNGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBbHRlcm5hdGVCYW5kQ29sb3JzVmlzaWJpbGl0eTogW10sXG4gICAgICAgIEFsdGVybmF0ZUJhbmRFdmVuQ29sb3I6IFtdLFxuICAgICAgICBBbHRlcm5hdGVCYW5kT2RkQ29sb3I6IFtdLFxuICAgICAgICBBeGVzUmFuZ2VTY2FsZTogW10sXG4gICAgICAgIEJhc2VTZXJpZXNTZXR0aW5nczogX2pzb24sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckF4aXM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENvbG9yTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1JhZGFyQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTaGFwZTogW10sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUmFkYXJDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdGFydEFuZ2xlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFJhZGFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1JhZGFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JhZGFyQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUmFkYXJDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZlcmVuY2VMaW5lID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YUNvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIExhYmVsQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFN0YXR1czogW10sXG4gICAgICAgIFN0eWxlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmVmZXJlbmNlTGluZURhdGFDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXhpc0JpbmRpbmc6IFtdLFxuICAgICAgICBEeW5hbWljQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVEeW5hbWljRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFNlcmllc1R5cGU6IFtdLFxuICAgICAgICBTdGF0aWNDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZVN0YXRpY0RhdGFDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JlZmVyZW5jZUxpbmVEeW5hbWljRGF0YUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYWxjdWxhdGlvbjogKF8pID0+IHNlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIE1lYXN1cmVBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZlcmVuY2VMaW5lTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9SZWZlcmVuY2VMaW5lKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZyZXNoU2NoZWR1bGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBcm46IFtdLFxuICAgICAgICBSZWZyZXNoVHlwZTogW10sXG4gICAgICAgIFNjaGVkdWxlRnJlcXVlbmN5OiBfanNvbixcbiAgICAgICAgU2NoZWR1bGVJZDogW10sXG4gICAgICAgIFN0YXJ0QWZ0ZXJEYXRlVGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Sb3dTb3J0TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWVsZFNvcnRPcHRpb25zKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TYW5rZXlEaWFncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEZXN0aW5hdGlvbjogX2pzb24sXG4gICAgICAgIFNvdXJjZTogX2pzb24sXG4gICAgICAgIFdlaWdodDogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Fua2V5RGlhZ3JhbUNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfU2Fua2V5RGlhZ3JhbUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfU2Fua2V5RGlhZ3JhbVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NhbmtleURpYWdyYW1GaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NhbmtleURpYWdyYW1Tb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIFNvdXJjZUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBXZWlnaHRTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Fua2V5RGlhZ3JhbVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9TYW5rZXlEaWFncmFtQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NjYXR0ZXJQbG90Q2F0ZWdvcmljYWxseUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBMYWJlbDogX2pzb24sXG4gICAgICAgIFNpemU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFlBeGlzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TY2F0dGVyUGxvdENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1NjYXR0ZXJQbG90RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgWEF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2NhdHRlclBsb3RGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgU2NhdHRlclBsb3RDYXRlZ29yaWNhbGx5QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9TY2F0dGVyUGxvdENhdGVnb3JpY2FsbHlBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2NhdHRlclBsb3RVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfU2NhdHRlclBsb3RVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NjYXR0ZXJQbG90VW5hZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXM6IF9qc29uLFxuICAgICAgICBZQXhpczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2NhdHRlclBsb3RWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfU2NhdHRlclBsb3RDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Nyb2xsQmFyT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFZpc2liaWxpdHk6IFtdLFxuICAgICAgICBWaXNpYmxlUmFuZ2U6IChfKSA9PiBzZV9WaXNpYmxlUmFuZ2VPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NlY3Rpb25CYXNlZExheW91dENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb2R5U2VjdGlvbnM6IF9qc29uLFxuICAgICAgICBDYW52YXNTaXplT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZvb3RlclNlY3Rpb25zOiBfanNvbixcbiAgICAgICAgSGVhZGVyU2VjdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NlbnNpdGl2ZURvdWJsZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Vuc2l0aXZlVGltZXN0YW1wTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGVudHJ5LmdldFRpbWUoKSAvIDEwMDApO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uUGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfRGVzdGluYXRpb25QYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NoYXBlQ29uZGl0aW9uYWxGb3JtYXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TaGVldERlZmluaXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb250ZW50VHlwZTogW10sXG4gICAgICAgIERlc2NyaXB0aW9uOiBbXSxcbiAgICAgICAgRmlsdGVyQ29udHJvbHM6IChfKSA9PiBzZV9GaWx0ZXJDb250cm9sTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTGF5b3V0czogKF8pID0+IHNlX0xheW91dExpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJDb250cm9sczogKF8pID0+IHNlX1BhcmFtZXRlckNvbnRyb2xMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldENvbnRyb2xMYXlvdXRzOiBfanNvbixcbiAgICAgICAgU2hlZXRJZDogW10sXG4gICAgICAgIFRleHRCb3hlczogX2pzb24sXG4gICAgICAgIFRpdGxlOiBbXSxcbiAgICAgICAgVmlzdWFsczogKF8pID0+IHNlX1Zpc3VhbExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2hlZXREZWZpbml0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9TaGVldERlZmluaXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NuYXBzaG90Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIEZpbGVHcm91cHM6IF9qc29uLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gc2VfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyb3VwQnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkSWQ6IFtdLFxuICAgICAgICBUZXh0Rm9ybWF0OiAoXykgPT4gc2VfVGV4dENvbmRpdGlvbmFsRm9ybWF0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENlbGw6IChfKSA9PiBzZV9UYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFJvdzogKF8pID0+IHNlX1RhYmxlUm93Q29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1RhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfVGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVJbmxpbmVWaXN1YWxpemF0aW9uczogX2pzb24sXG4gICAgICAgIFRhYmxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvdGFsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1RhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFRhYmxlVW5hZ2dyZWdhdGVkRmllbGRXZWxsczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVSb3dDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGV4dENvbG9yOiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBhZ2luYXRpb25Db25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgUm93U29ydDogKF8pID0+IHNlX1Jvd1NvcnRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1RhYmxlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gc2VfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0Q29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBzZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IChfKSA9PiBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0czogKF8pID0+IHNlX1NoZWV0RGVmaW5pdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGV4dENvbmRpdGlvbmFsRm9ybWF0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFja2dyb3VuZENvbG9yOiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UaW1lQmFzZWRGb3JlY2FzdFByb3BlcnRpZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBMb3dlckJvdW5kYXJ5OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBQZXJpb2RzQmFja3dhcmQ6IFtdLFxuICAgICAgICBQZXJpb2RzRm9yd2FyZDogW10sXG4gICAgICAgIFByZWRpY3Rpb25JbnRlcnZhbDogW10sXG4gICAgICAgIFNlYXNvbmFsaXR5OiBbXSxcbiAgICAgICAgVXBwZXJCb3VuZGFyeTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UaW1lRXF1YWxpdHlGaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogW10sXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IFtdLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RpbWVSYW5nZURyaWxsRG93bkZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgUmFuZ2VNaW5pbXVtOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RpbWVSYW5nZUZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEV4Y2x1ZGVQZXJpb2RDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBJbmNsdWRlTWF4aW11bTogW10sXG4gICAgICAgIEluY2x1ZGVNaW5pbXVtOiBbXSxcbiAgICAgICAgTnVsbE9wdGlvbjogW10sXG4gICAgICAgIFJhbmdlTWF4aW11bVZhbHVlOiAoXykgPT4gc2VfVGltZVJhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFJhbmdlTWluaW11bVZhbHVlOiAoXykgPT4gc2VfVGltZVJhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGltZVJhbmdlRmlsdGVyVmFsdWUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQYXJhbWV0ZXI6IFtdLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFN0YXRpY1ZhbHVlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Rvb2x0aXBJdGVtID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uVG9vbHRpcEl0ZW06IChfKSA9PiBzZV9Db2x1bW5Ub29sdGlwSXRlbShfLCBjb250ZXh0KSxcbiAgICAgICAgRmllbGRUb29sdGlwSXRlbTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9vbHRpcEl0ZW1MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Rvb2x0aXBJdGVtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub29sdGlwT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkQmFzZWRUb29sdGlwOiAoXykgPT4gc2VfRmllbGRCYXNlZFRvb2x0aXAoXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdGVkVG9vbHRpcFR5cGU6IFtdLFxuICAgICAgICBUb29sdGlwVmlzaWJpbGl0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9wQm90dG9tRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbnM6IChfKSA9PiBzZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBMaW1pdDogW10sXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IFtdLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RvcEJvdHRvbU1vdmVyc0NvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTW92ZXJTaXplOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFNvcnRPcmRlcjogW10sXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBUeXBlOiBbXSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9wQm90dG9tUmFua2VkQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUmVzdWx0U2l6ZTogW10sXG4gICAgICAgIFR5cGU6IFtdLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhc2VkT25TcGljZVNjaGVkdWxlOiBbXSxcbiAgICAgICAgSXNFbmFibGVkOiBbXSxcbiAgICAgICAgUmVwZWF0QXQ6IFtdLFxuICAgICAgICBTdGFydGluZ0F0OiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBUaW1lem9uZTogW10sXG4gICAgICAgIFRvcGljU2NoZWR1bGVUeXBlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyYW5zZm9ybU9wZXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBUcmFuc2Zvcm1PcGVyYXRpb24udmlzaXQoaW5wdXQsIHtcbiAgICAgICAgQ2FzdENvbHVtblR5cGVPcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgQ2FzdENvbHVtblR5cGVPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgQ3JlYXRlQ29sdW1uc09wZXJhdGlvbjogKHZhbHVlKSA9PiAoeyBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIEZpbHRlck9wZXJhdGlvbjogKHZhbHVlKSA9PiAoeyBGaWx0ZXJPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7XG4gICAgICAgICAgICBPdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb246IHNlX092ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbih2YWx1ZSwgY29udGV4dCksXG4gICAgICAgIH0pLFxuICAgICAgICBQcm9qZWN0T3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IFByb2plY3RPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IFJlbmFtZUNvbHVtbk9wZXJhdGlvbjogX2pzb24odmFsdWUpIH0pLFxuICAgICAgICBUYWdDb2x1bW5PcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgVGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIFVudGFnQ29sdW1uT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IFVudGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIF86IChuYW1lLCB2YWx1ZSkgPT4gKHsgbmFtZTogdmFsdWUgfSksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVHJhbnNmb3JtT3BlcmF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9UcmFuc2Zvcm1PcGVyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yczogKF8pID0+IHNlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cHM6IF9qc29uLFxuICAgICAgICBTaXplczogKF8pID0+IHNlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvclNjYWxlOiAoXykgPT4gc2VfQ29sb3JTY2FsZShfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9UcmVlTWFwRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgR3JvdXBMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBTaXplTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9UcmVlTWFwU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmVlTWFwRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFRyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1RyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmVlTWFwTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFRyZWVNYXBHcm91cEl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgVHJlZU1hcFNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmVlTWFwVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1RyZWVNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzaWJsZVJhbmdlT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBlcmNlbnRSYW5nZTogKF8pID0+IHNlX1BlcmNlbnRWaXNpYmxlUmFuZ2UoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9CYXJDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgQm94UGxvdFZpc3VhbDogKF8pID0+IHNlX0JveFBsb3RWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIENvbWJvQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9Db21ib0NoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21Db250ZW50VmlzdWFsOiAoXykgPT4gc2VfQ3VzdG9tQ29udGVudFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgRW1wdHlWaXN1YWw6IChfKSA9PiBzZV9FbXB0eVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgRmlsbGVkTWFwVmlzdWFsOiAoXykgPT4gc2VfRmlsbGVkTWFwVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBGdW5uZWxDaGFydFZpc3VhbDogKF8pID0+IHNlX0Z1bm5lbENoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBHYXVnZUNoYXJ0VmlzdWFsOiAoXykgPT4gc2VfR2F1Z2VDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgR2Vvc3BhdGlhbE1hcFZpc3VhbDogKF8pID0+IHNlX0dlb3NwYXRpYWxNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEhlYXRNYXBWaXN1YWw6IChfKSA9PiBzZV9IZWF0TWFwVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBIaXN0b2dyYW1WaXN1YWw6IChfKSA9PiBzZV9IaXN0b2dyYW1WaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEluc2lnaHRWaXN1YWw6IChfKSA9PiBzZV9JbnNpZ2h0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBLUElWaXN1YWw6IChfKSA9PiBzZV9LUElWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIExpbmVDaGFydFZpc3VhbDogKF8pID0+IHNlX0xpbmVDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUGllQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9QaWVDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUGl2b3RUYWJsZVZpc3VhbDogKF8pID0+IHNlX1Bpdm90VGFibGVWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFJhZGFyQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9SYWRhckNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBTYW5rZXlEaWFncmFtVmlzdWFsOiAoXykgPT4gc2VfU2Fua2V5RGlhZ3JhbVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgU2NhdHRlclBsb3RWaXN1YWw6IChfKSA9PiBzZV9TY2F0dGVyUGxvdFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVWaXN1YWw6IChfKSA9PiBzZV9UYWJsZVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgVHJlZU1hcFZpc3VhbDogKF8pID0+IHNlX1RyZWVNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFdhdGVyZmFsbFZpc3VhbDogKF8pID0+IHNlX1dhdGVyZmFsbFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgV29yZENsb3VkVmlzdWFsOiAoXykgPT4gc2VfV29yZENsb3VkVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbk9wZXJhdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21BY3Rpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBTdGF0dXM6IFtdLFxuICAgICAgICBUcmlnZ2VyOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Zpc3VhbEN1c3RvbUFjdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyT3BlcmF0aW9uOiBfanNvbixcbiAgICAgICAgTmF2aWdhdGlvbk9wZXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNldFBhcmFtZXRlcnNPcGVyYXRpb246IChfKSA9PiBzZV9DdXN0b21BY3Rpb25TZXRQYXJhbWV0ZXJzT3BlcmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBVUkxPcGVyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbk9wZXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXN1YWxMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Zpc3VhbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2F0ZXJmYWxsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJyZWFrZG93bnM6IF9qc29uLFxuICAgICAgICBDYXRlZ29yaWVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9XYXRlcmZhbGxDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9XYXRlcmZhbGxDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1dhdGVyZmFsbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBXYXRlcmZhbGxDaGFydE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dhdGVyZmFsbENoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFdhdGVyZmFsbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9XYXRlcmZhbGxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dhdGVyZmFsbENoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCcmVha2Rvd25JdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2F0ZXJmYWxsVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1dhdGVyZmFsbENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1doYXRJZlBvaW50U2NlbmFyaW8gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9XaGF0SWZSYW5nZVNjZW5hcmlvID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRW5kRGF0ZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgU3RhcnREYXRlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyb3VwQnk6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gc2VfV29yZENsb3VkTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Xb3JkQ2xvdWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1dvcmRDbG91ZFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBXb3JkQ2xvdWRPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgV29yZENsb3VkQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV29yZENsb3VkU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfV29yZENsb3VkQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQWdncmVnYXRpb25GdW5jdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXR0cmlidXRlQWdncmVnYXRpb25GdW5jdGlvbjogX2pzb24sXG4gICAgICAgIENhdGVnb3JpY2FsQWdncmVnYXRpb25GdW5jdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGVBZ2dyZWdhdGlvbkZ1bmN0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFNvcnREaXJlY3Rpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQW5hbHlzaXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNldEFybnM6IF9qc29uLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTaGVldHM6IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQW5hbHlzaXNEZWZpbml0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogX2pzb24sXG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXJEZWNsYXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBkZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IChfKSA9PiBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0czogKF8pID0+IGRlX1NoZWV0RGVmaW5pdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQW5hbHlzaXNTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQW5hbHlzaXNTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9BbmFseXNpc1N1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQXJjQXhpc0NvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gZGVfQXJjQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVzZXJ2ZVJhbmdlOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FyY0F4aXNEaXNwbGF5UmFuZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIE1heDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE1pbjogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQXJjQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJjQW5nbGU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBBcmNUaGlja25lc3M6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlRXhwb3J0Sm9iU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFeHBvcnRGb3JtYXQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmNsdWRlQWxsRGVwZW5kZW5jaWVzOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIEluY2x1ZGVQZXJtaXNzaW9uczogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBJbmNsdWRlVGFnczogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlRXhwb3J0Sm9iU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQXNzZXRCdW5kbGVFeHBvcnRKb2JTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNlczogX2pzb24sXG4gICAgICAgIERhc2hib2FyZHM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0czogX2pzb24sXG4gICAgICAgIERhdGFTb3VyY2VzOiBfanNvbixcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlczogKF8pID0+IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUmVzb3VyY2VJZE92ZXJyaWRlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFRoZW1lczogX2pzb24sXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVycyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXJ0QWZ0ZXJEYXRlVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVyc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydEpvYklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEZhaWx1cmVBY3Rpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0F4aXNEYXRhT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZUF4aXNPcHRpb25zOiBfanNvbixcbiAgICAgICAgTnVtZXJpY0F4aXNPcHRpb25zOiAoXykgPT4gZGVfTnVtZXJpY0F4aXNPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNEaXNwbGF5TWluTWF4UmFuZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIE1heGltdW06IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBNaW5pbXVtOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzRGlzcGxheU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEF4aXNMaW5lVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF4aXNPZmZzZXQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhT3B0aW9uczogKF8pID0+IGRlX0F4aXNEYXRhT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgR3JpZExpbmVWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2Nyb2xsYmFyT3B0aW9uczogKF8pID0+IGRlX1Njcm9sbEJhck9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFRpY2tMYWJlbE9wdGlvbnM6IChfKSA9PiBkZV9BeGlzVGlja0xhYmVsT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzRGlzcGxheVJhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhRHJpdmVuOiBfanNvbixcbiAgICAgICAgTWluTWF4OiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzTGluZWFyU2NhbGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFN0ZXBDb3VudDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RlcFNpemU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNMb2dhcml0aG1pY1NjYWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXNlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzU2NhbGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIExpbmVhcjogKF8pID0+IGRlX0F4aXNMaW5lYXJTY2FsZShfLCBjb250ZXh0KSxcbiAgICAgICAgTG9nYXJpdGhtaWM6IChfKSA9PiBkZV9BeGlzTG9nYXJpdGhtaWNTY2FsZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BeGlzVGlja0xhYmVsT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUm90YXRpb25BbmdsZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmFyQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXJzQXJyYW5nZW1lbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9CYXJDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIE9yaWVudGF0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9CYXJDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlQXhpczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9CYXJDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9CYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc1NvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9CYXJDaGFydFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0JhckNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JpbldpZHRoT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmluQ291bnRMaW1pdDogX19leHBlY3RMb25nLFxuICAgICAgICBWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHcm91cEJ5OiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfQm94UGxvdE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdENoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQm94UGxvdE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0JveFBsb3RGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Cb3hQbG90U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0JveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Cb3hQbG90TWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQm94UGxvdFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGlvbkNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JveFBsb3RWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Cb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sb3JTY2FsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sb3JGaWxsVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENvbG9yczogKF8pID0+IGRlX0NvbG9yU2NhbGVDb2xvckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE51bGxWYWx1ZUNvbG9yOiAoXykgPT4gZGVfRGF0YUNvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbG9yU2NhbGVDb2xvckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YUNvbG9yKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0NvbHVtbkhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVIaWVyYXJjaHk6IChfKSA9PiBkZV9EYXRlVGltZUhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgRXhwbGljaXRIaWVyYXJjaHk6IChfKSA9PiBkZV9FeHBsaWNpdEhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgUHJlZGVmaW5lZEhpZXJhcmNoeTogKF8pID0+IGRlX1ByZWRlZmluZWRIaWVyYXJjaHkoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sdW1uSGllcmFyY2h5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Db2x1bW5IaWVyYXJjaHkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQ29sdW1uU29ydCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIERpcmVjdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvcnRCeTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sdW1uVG9vbHRpcEl0ZW0gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhclZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgQ29sb3JzOiBfanNvbixcbiAgICAgICAgTGluZVZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29tYm9DaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhckRhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBCYXJzQXJyYW5nZW1lbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfQ29tYm9DaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIExpbmVEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gZGVfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29tYm9DaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0NvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfQ29tYm9DaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRm9yZWNhc3Q6IChfKSA9PiBkZV9Gb3JlY2FzdENvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm93dGhSYXRlOiAoXykgPT4gZGVfR3Jvd3RoUmF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXhpbXVtTWluaW11bTogKF8pID0+IGRlX01heGltdW1NaW5pbXVtQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE1ldHJpY0NvbXBhcmlzb246IChfKSA9PiBkZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZE92ZXJQZXJpb2Q6IChfKSA9PiBkZV9QZXJpb2RPdmVyUGVyaW9kQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZFRvRGF0ZTogKF8pID0+IGRlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21Nb3ZlcnM6IChfKSA9PiBkZV9Ub3BCb3R0b21Nb3ZlcnNDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9wQm90dG9tUmFua2VkOiAoXykgPT4gZGVfVG9wQm90dG9tUmFua2VkQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvdGFsQWdncmVnYXRpb246IChfKSA9PiBkZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVuaXF1ZVZhbHVlczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29tcHV0YXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0NvbXB1dGF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHcmFkaWVudDogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIFNvbGlkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdHcmFkaWVudENvbG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvcjogKF8pID0+IGRlX0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIEV4cHJlc3Npb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbnM6IChfKSA9PiBkZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0N1c3RvbUNvbnRlbnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tUGFyYW1ldGVyVmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZVZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFZhbHVlczogKF8pID0+IGRlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyVmFsdWVzOiBfanNvbixcbiAgICAgICAgU3RyaW5nVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9DdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZXM6IChfKSA9PiBkZV9DdXN0b21QYXJhbWV0ZXJWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIEluY2x1ZGVOdWxsVmFsdWU6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhc3RQdWJsaXNoZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uOiAoXykgPT4gZGVfRGFzaGJvYXJkVmVyc2lvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0UHVibGlzaGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUHVibGlzaGVkVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Rhc2hib2FyZFN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkVmVyc2lvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTZXRBcm5zOiBfanNvbixcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBTaGVldHM6IF9qc29uLFxuICAgICAgICBTb3VyY2VFbnRpdHlBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IF9qc29uLFxuICAgICAgICBDb2x1bW5Db25maWd1cmF0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyRGVjbGFyYXRpb25zOiBfanNvbixcbiAgICAgICAgRmlsdGVyR3JvdXBzOiAoXykgPT4gZGVfRmlsdGVyR3JvdXBMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBPcHRpb25zOiBfanNvbixcbiAgICAgICAgUGFyYW1ldGVyRGVjbGFyYXRpb25zOiAoXykgPT4gZGVfUGFyYW1ldGVyRGVjbGFyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldHM6IChfKSA9PiBkZV9TaGVldERlZmluaXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFZlcnNpb25TdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3VyY2VFbnRpdHlBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkVmVyc2lvblN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Rhc2hib2FyZFZlcnNpb25TdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGFDb2xvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFTZXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENvbHVtbkdyb3VwczogX2pzb24sXG4gICAgICAgIENvbHVtbkxldmVsUGVybWlzc2lvblJ1bGVzOiBfanNvbixcbiAgICAgICAgQ29uc3VtZWRTcGljZUNhcGFjaXR5SW5CeXRlczogX19leHBlY3RMb25nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNldFVzYWdlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIERhdGFzZXRQYXJhbWV0ZXJzOiAoXykgPT4gZGVfRGF0YXNldFBhcmFtZXRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEZpZWxkRm9sZGVyczogX2pzb24sXG4gICAgICAgIEltcG9ydE1vZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogKF8pID0+IGRlX0xvZ2ljYWxUYWJsZU1hcChfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE91dHB1dENvbHVtbnM6IF9qc29uLFxuICAgICAgICBQaHlzaWNhbFRhYmxlTWFwOiBfanNvbixcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uRGF0YVNldDogX2pzb24sXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFzZXRQYXJhbWV0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGVUaW1lRGF0YXNldFBhcmFtZXRlcjogKF8pID0+IGRlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXI6IChfKSA9PiBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgSW50ZWdlckRhdGFzZXRQYXJhbWV0ZXI6IF9qc29uLFxuICAgICAgICBTdHJpbmdEYXRhc2V0UGFyYW1ldGVyOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhc2V0UGFyYW1ldGVyTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXRhc2V0UGFyYW1ldGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGFTZXRTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDb2x1bW5MZXZlbFBlcm1pc3Npb25SdWxlc0FwcGxpZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEltcG9ydE1vZGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25EYXRhU2V0OiBfanNvbixcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkFwcGxpZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhU2V0U3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YVNldFN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0YVNvdXJjZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWx0ZXJuYXRlRGF0YVNvdXJjZVBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNvdXJjZVBhcmFtZXRlcnM6IChfKSA9PiBfanNvbihfX2V4cGVjdFVuaW9uKF8pKSxcbiAgICAgICAgRXJyb3JJbmZvOiBfanNvbixcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2VjcmV0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3NsUHJvcGVydGllczogX2pzb24sXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWcGNDb25uZWN0aW9uUHJvcGVydGllczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YVNvdXJjZUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YVNvdXJjZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRhU291cmNlU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFTb3VyY2VTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXRhU291cmNlU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihlbnRyeSkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKGVudHJ5KSkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVEZWZhdWx0VmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEeW5hbWljVmFsdWU6IF9qc29uLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRlVGltZUhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRHJpbGxEb3duRmlsdGVyczogKF8pID0+IGRlX0RyaWxsRG93bkZpbHRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEhpZXJhcmNoeUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRlVGltZVBhcmFtZXRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX1NlbnNpdGl2ZVRpbWVzdGFtcExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwcGVkRGF0YVNldFBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IChfKSA9PiBkZV9EYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRlVGltZVBhcmFtZXRlckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0ZVRpbWVQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBWYWx1ZVdoZW5VbnNldE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2xpbWl0ZWRQYXJzZURvdWJsZShlbnRyeSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGVmYXVsdFZhbHVlTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2xpbWl0ZWRQYXJzZURvdWJsZShlbnRyeSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGVmYXVsdFZhbHVlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbFBhcmFtZXRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX1NlbnNpdGl2ZURvdWJsZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZWZhdWx0VmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIE1hcHBlZERhdGFTZXRQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlclZhbHVlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiAoXykgPT4gZGVfRGVjaW1hbFZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsUGFyYW1ldGVyTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EZWNpbWFsUGFyYW1ldGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXRPcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsVmFsdWVPcHRpb25zOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlQ29sdW1uOiBfanNvbixcbiAgICAgICAgU291cmNlRmllbGQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3VyY2VQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EcmlsbERvd25GaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5RmlsdGVyOiBfanNvbixcbiAgICAgICAgTnVtZXJpY0VxdWFsaXR5RmlsdGVyOiAoXykgPT4gZGVfTnVtZXJpY0VxdWFsaXR5RHJpbGxEb3duRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lUmFuZ2VGaWx0ZXI6IChfKSA9PiBkZV9UaW1lUmFuZ2VEcmlsbERvd25GaWx0ZXIoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRHJpbGxEb3duRmlsdGVyTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EcmlsbERvd25GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRW1wdHlWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9FeHBsaWNpdEhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBkZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmllbGRCYXNlZFRvb2x0aXAgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvb2x0aXBGaWVsZHM6IChfKSA9PiBkZV9Ub29sdGlwSXRlbUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXBUaXRsZVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpZWxkU29ydE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtblNvcnQ6IChfKSA9PiBkZV9Db2x1bW5Tb3J0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZFNvcnQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9GaWxsZWRNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTaGFwZTogKF8pID0+IGRlX0ZpbGxlZE1hcFNoYXBlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9GaWxsZWRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBNYXBTdHlsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0ZpbGxlZE1hcFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFdpbmRvd09wdGlvbnM6IChfKSA9PiBkZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWxsZWRNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0ZpbGxlZE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcFNoYXBlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9ybWF0OiAoXykgPT4gZGVfU2hhcGVDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfRmlsbGVkTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUZpbHRlcjogX2pzb24sXG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogKF8pID0+IGRlX051bWVyaWNFcXVhbGl0eUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgTnVtZXJpY1JhbmdlRmlsdGVyOiAoXykgPT4gZGVfTnVtZXJpY1JhbmdlRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBSZWxhdGl2ZURhdGVzRmlsdGVyOiBfanNvbixcbiAgICAgICAgVGltZUVxdWFsaXR5RmlsdGVyOiAoXykgPT4gZGVfVGltZUVxdWFsaXR5RmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lUmFuZ2VGaWx0ZXI6IChfKSA9PiBkZV9UaW1lUmFuZ2VGaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIFRvcEJvdHRvbUZpbHRlcjogKF8pID0+IGRlX1RvcEJvdHRvbUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWx0ZXJDb250cm9sID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZVBpY2tlcjogX2pzb24sXG4gICAgICAgIERyb3Bkb3duOiBfanNvbixcbiAgICAgICAgTGlzdDogX2pzb24sXG4gICAgICAgIFJlbGF0aXZlRGF0ZVRpbWU6IF9qc29uLFxuICAgICAgICBTbGlkZXI6IChfKSA9PiBkZV9GaWx0ZXJTbGlkZXJDb250cm9sKF8sIGNvbnRleHQpLFxuICAgICAgICBUZXh0QXJlYTogX2pzb24sXG4gICAgICAgIFRleHRGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsdGVyQ29udHJvbExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRmlsdGVyQ29udHJvbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWx0ZXJHcm91cCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3Jvc3NEYXRhc2V0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRmlsdGVyR3JvdXBJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBkZV9GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTY29wZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbHRlckdyb3VwTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9GaWx0ZXJHcm91cChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWx0ZXJMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpbHRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWx0ZXJTbGlkZXJDb250cm9sID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEaXNwbGF5T3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckNvbnRyb2xJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE1heGltdW1WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE1pbmltdW1WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFNvdXJjZUZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RlcFNpemU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBUaXRsZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvbGRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVyUGF0aDogX2pzb24sXG4gICAgICAgIEZvbGRlclR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTaGFyaW5nTW9kZWw6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvbGRlclN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlclR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTaGFyaW5nTW9kZWw6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvbGRlclN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZvbGRlclN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRm9yZWNhc3RDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEN1c3RvbVNlYXNvbmFsaXR5VmFsdWU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIExvd2VyQm91bmRhcnk6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVyaW9kc0JhY2t3YXJkOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBQZXJpb2RzRm9yd2FyZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgUHJlZGljdGlvbkludGVydmFsOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTZWFzb25hbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBVcHBlckJvdW5kYXJ5OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRm9yZWNhc3RDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGb3JlY2FzdFByb3BlcnRpZXM6IChfKSA9PiBkZV9UaW1lQmFzZWRGb3JlY2FzdFByb3BlcnRpZXMoXywgY29udGV4dCksXG4gICAgICAgIFNjZW5hcmlvOiAoXykgPT4gZGVfRm9yZWNhc3RTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Gb3JlY2FzdFNjZW5hcmlvID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBXaGF0SWZQb2ludFNjZW5hcmlvOiAoXykgPT4gZGVfV2hhdElmUG9pbnRTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICAgICAgV2hhdElmUmFuZ2VTY2VuYXJpbzogKF8pID0+IGRlX1doYXRJZlJhbmdlU2NlbmFyaW8oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9GdW5uZWxDaGFydE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0Z1bm5lbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GdW5uZWxDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZ1bm5lbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9GdW5uZWxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Z1bm5lbENoYXJ0TWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9GdW5uZWxDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0QXJjQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGb3JlZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJjOiAoXykgPT4gZGVfR2F1Z2VDaGFydEFyY0NvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVZhbHVlOiAoXykgPT4gZGVfR2F1Z2VDaGFydFByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0dhdWdlQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0dhdWdlQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBHYXVnZUNoYXJ0T3B0aW9uczogKF8pID0+IGRlX0dhdWdlQ2hhcnRPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwT3B0aW9uczogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVGFyZ2V0VmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0T3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJjOiAoXykgPT4gZGVfQXJjQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQXJjQXhpczogKF8pID0+IGRlX0FyY0F4aXNDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb21wYXJpc29uOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVZhbHVlRGlzcGxheVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQcmltYXJ5VmFsdWVGb250Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydFByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dhdWdlQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9HYXVnZUNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZW9zcGF0aWFsQ29vcmRpbmF0ZUJvdW5kcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRWFzdDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE5vcnRoOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgU291dGg6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBXZXN0OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZW9zcGF0aWFsTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfR2Vvc3BhdGlhbE1hcEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIE1hcFN0eWxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFBvaW50U3R5bGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgV2luZG93T3B0aW9uczogKF8pID0+IGRlX0dlb3NwYXRpYWxXaW5kb3dPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dlb3NwYXRpYWxNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHZW9zcGF0aWFsTWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9HZW9zcGF0aWFsTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2Vvc3BhdGlhbE1hcFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJvdW5kczogKF8pID0+IGRlX0dlb3NwYXRpYWxDb29yZGluYXRlQm91bmRzKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXBab29tTW9kZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR3JhZGllbnRDb2xvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgU3RvcHM6IChfKSA9PiBkZV9HcmFkaWVudFN0b3BMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dyYWRpZW50U3RvcCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBHcmFkaWVudE9mZnNldDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR3JhZGllbnRTdG9wTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9HcmFkaWVudFN0b3AoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfR3Jvd3RoUmF0ZUNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcmlvZFNpemU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBSb3dzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfSGVhdE1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGVhdE1hcENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBkZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5MYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0hlYXRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBSb3dMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0hlYXRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0hlYXRNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBIZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGVhdE1hcE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0hlYXRNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSGVhdE1hcENvbHVtbkl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcENvbHVtblNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFJvd0l0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcFJvd1NvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IZWF0TWFwVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfSGVhdE1hcENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfSGlzdG9ncmFtTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1CaW5PcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCaW5Db3VudDogX2pzb24sXG4gICAgICAgIEJpbldpZHRoOiAoXykgPT4gZGVfQmluV2lkdGhPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWxlY3RlZEJpblR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1Db25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCaW5PcHRpb25zOiAoXykgPT4gZGVfSGlzdG9ncmFtQmluT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IaXN0b2dyYW1GaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IaXN0b2dyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1NZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1WaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9IaXN0b2dyYW1Db25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luZ2VzdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEVycm9ySW5mbzogX2pzb24sXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uU2l6ZUluQnl0ZXM6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgSW5nZXN0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uVGltZUluU2Vjb25kczogX19leHBlY3RMb25nLFxuICAgICAgICBRdWV1ZUluZm86IF9qc29uLFxuICAgICAgICBSZXF1ZXN0U291cmNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSb3dJbmZvOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Jbmdlc3Rpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0luZ2VzdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9JbnNpZ2h0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25zOiAoXykgPT4gZGVfQ29tcHV0YXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21OYXJyYXRpdmU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luc2lnaHRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluc2lnaHRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfSW5zaWdodENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJQWN0dWFsVmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElDb21wYXJpc29uVmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbnM6IChfKSA9PiBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0dWFsVmFsdWU6IChfKSA9PiBkZV9LUElBY3R1YWxWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ29tcGFyaXNvblZhbHVlOiAoXykgPT4gZGVfS1BJQ29tcGFyaXNvblZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5VmFsdWU6IChfKSA9PiBkZV9LUElQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFByb2dyZXNzQmFyOiAoXykgPT4gZGVfS1BJUHJvZ3Jlc3NCYXJDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfS1BJQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0tQSUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEtQSU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0tQSVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0tQSUZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRhcmdldFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFRyZW5kR3JvdXBzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRm9yZWdyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRyZW5kR3JvdXBTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfS1BJQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGF5b3V0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfTGF5b3V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MYXlvdXRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGcmVlRm9ybUxheW91dDogX2pzb24sXG4gICAgICAgIEdyaWRMYXlvdXQ6IF9qc29uLFxuICAgICAgICBTZWN0aW9uQmFzZWRMYXlvdXQ6IChfKSA9PiBkZV9TZWN0aW9uQmFzZWRMYXlvdXRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xheW91dExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTGF5b3V0KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0xpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaW5lQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIERlZmF1bHRTZXJpZXNTZXR0aW5nczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9MaW5lQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBGb3JlY2FzdENvbmZpZ3VyYXRpb25zOiAoXykgPT4gZGVfRm9yZWNhc3RDb25maWd1cmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9MaW5lU2VyaWVzQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IGRlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTZWNvbmRhcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfTGluZVNlcmllc0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTZXJpZXM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0xpbmVDaGFydFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgWEF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpbmVDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIExpbmVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGluZUNoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfTGluZUNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpbmVTZXJpZXNBeGlzRGlzcGxheU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEF4aXNPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBNaXNzaW5nRGF0YUNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Mb2dpY2FsVGFibGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFsaWFzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVRyYW5zZm9ybXM6IChfKSA9PiBkZV9UcmFuc2Zvcm1PcGVyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTb3VyY2U6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xvZ2ljYWxUYWJsZU1hcCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMob3V0cHV0KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2Nba2V5XSA9IGRlX0xvZ2ljYWxUYWJsZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX01heGltdW1NaW5pbXVtQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZWFzdXJlRmllbGQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhbGN1bGF0ZWRNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yaWNhbE1lYXN1cmVGaWVsZDogX2pzb24sXG4gICAgICAgIERhdGVNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBOdW1lcmljYWxNZWFzdXJlRmllbGQ6IChfKSA9PiBkZV9OdW1lcmljYWxNZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfTWV0cmljQ29tcGFyaXNvbkNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRnJvbVZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGFyZ2V0VmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX05ld0RlZmF1bHRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGVUaW1lU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsU3RhdGljVmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJTdGF0aWNWYWx1ZXM6IF9qc29uLFxuICAgICAgICBTdHJpbmdTdGF0aWNWYWx1ZXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBlcmNlbnRpbGVBZ2dyZWdhdGlvbjogKF8pID0+IGRlX1BlcmNlbnRpbGVBZ2dyZWdhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU2ltcGxlTnVtZXJpY2FsQWdncmVnYXRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNhbE1lYXN1cmVGaWVsZCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpZWxkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9OdW1lcmljQXhpc09wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2NhbGU6IChfKSA9PiBkZV9BeGlzU2NhbGUoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY0VxdWFsaXR5RHJpbGxEb3duRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY0VxdWFsaXR5RmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNYXRjaE9wZXJhdG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTnVsbE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTZWxlY3RBbGxPcHRpb25zOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNSYW5nZUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5jbHVkZU1heGltdW06IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSW5jbHVkZU1pbmltdW06IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTnVsbE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IGRlX051bWVyaWNSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBSYW5nZU1pbmltdW06IChfKSA9PiBkZV9OdW1lcmljUmFuZ2VGaWx0ZXJWYWx1ZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsT3B0aW9uczogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY1JhbmdlRmlsdGVyVmFsdWUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhcmFtZXRlcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXRpY1ZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIE5ld0RlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9OZXdEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBOZXdQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGFyYW1ldGVyQ29udHJvbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQaWNrZXI6IF9qc29uLFxuICAgICAgICBEcm9wZG93bjogX2pzb24sXG4gICAgICAgIExpc3Q6IF9qc29uLFxuICAgICAgICBTbGlkZXI6IChfKSA9PiBkZV9QYXJhbWV0ZXJTbGlkZXJDb250cm9sKF8sIGNvbnRleHQpLFxuICAgICAgICBUZXh0QXJlYTogX2pzb24sXG4gICAgICAgIFRleHRGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGFyYW1ldGVyQ29udHJvbExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUGFyYW1ldGVyQ29udHJvbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbjogKF8pID0+IGRlX0RhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbjogKF8pID0+IGRlX0RlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9fUGFyYW1ldGVycyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQYXJhbWV0ZXJzOiAoXykgPT4gZGVfRGF0ZVRpbWVQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyczogKF8pID0+IGRlX0RlY2ltYWxQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyczogX2pzb24sXG4gICAgICAgIFN0cmluZ1BhcmFtZXRlcnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BhcmFtZXRlclNsaWRlckNvbnRyb2wgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERpc3BsYXlPcHRpb25zOiBfanNvbixcbiAgICAgICAgTWF4aW11bVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgTWluaW11bVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgUGFyYW1ldGVyQ29udHJvbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0ZXBTaXplOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVGl0bGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BlcmNlbnRpbGVBZ2dyZWdhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGVyY2VudGlsZVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QZXJjZW50VmlzaWJsZVJhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGcm9tOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVG86IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BlcmlvZE92ZXJQZXJpb2RDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGVyaW9kVG9EYXRlQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVyaW9kVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIERvbnV0T3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaWVDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGllQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGllQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1BpZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGllQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGllQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9QaWVDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdEZpZWxkU29ydE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3J0Qnk6IChfKSA9PiBkZV9QaXZvdFRhYmxlU29ydEJ5KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90RmllbGRTb3J0T3B0aW9uc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUGl2b3RGaWVsZFNvcnRPcHRpb25zKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1Bpdm90TWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgUm93czogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX1Bpdm90TWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNjb3BlOiBfanNvbixcbiAgICAgICAgU2NvcGVzOiBfanNvbixcbiAgICAgICAgVGV4dEZvcm1hdDogKF8pID0+IGRlX1RleHRDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gZGVfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2VsbDogKF8pID0+IGRlX1Bpdm90VGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUNvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaXZvdFRhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBUb3RhbE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBQaXZvdFRhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaXZvdFRhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZVNvcnRCeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uOiAoXykgPT4gZGVfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVBhdGg6IF9qc29uLFxuICAgICAgICBGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZFNvcnRPcHRpb25zOiAoXykgPT4gZGVfUGl2b3RGaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGl2b3RUYWJsZUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUHJlZGVmaW5lZEhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBkZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SYWRhckNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWx0ZXJuYXRlQmFuZENvbG9yc1Zpc2liaWxpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBbHRlcm5hdGVCYW5kRXZlbkNvbG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQWx0ZXJuYXRlQmFuZE9kZENvbG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXhlc1JhbmdlU2NhbGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBCYXNlU2VyaWVzU2V0dGluZ3M6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JBeGlzOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9SYWRhckNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgU2hhcGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1JhZGFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3RhcnRBbmdsZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JhZGFyQ2hhcnRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBSYWRhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9SYWRhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1JhZGFyQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YUNvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIExhYmVsQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0eWxlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZURhdGFDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBeGlzQmluZGluZzogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIER5bmFtaWNDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUmVmZXJlbmNlTGluZUR5bmFtaWNEYXRhQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU2VyaWVzVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXRpY0NvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZUR5bmFtaWNEYXRhQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2FsY3VsYXRpb246IChfKSA9PiBkZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBNZWFzdXJlQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVmZXJlbmNlTGluZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9SZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZWZyZXNoU2NoZWR1bGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlZnJlc2hUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVGcmVxdWVuY3k6IF9qc29uLFxuICAgICAgICBTY2hlZHVsZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRBZnRlckRhdGVUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlZnJlc2hTY2hlZHVsZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVmcmVzaFNjaGVkdWxlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1Jvd1NvcnRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZXN0aW5hdGlvbjogX2pzb24sXG4gICAgICAgIFNvdXJjZTogX2pzb24sXG4gICAgICAgIFdlaWdodDogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbUNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9TYW5rZXlEaWFncmFtRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9TYW5rZXlEaWFncmFtU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbUZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFNhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1NhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TYW5rZXlEaWFncmFtU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIFNvdXJjZUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBXZWlnaHRTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Fua2V5RGlhZ3JhbVZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1NhbmtleURpYWdyYW1DaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RDYXRlZ29yaWNhbGx5QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBZQXhpczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1NjYXR0ZXJQbG90RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgWEF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTY2F0dGVyUGxvdENhdGVnb3JpY2FsbHlBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1NjYXR0ZXJQbG90Q2F0ZWdvcmljYWxseUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9TY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIExhYmVsOiBfanNvbixcbiAgICAgICAgU2l6ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzOiBfanNvbixcbiAgICAgICAgWUF4aXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1NjYXR0ZXJQbG90VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfU2NhdHRlclBsb3RDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2Nyb2xsQmFyT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZpc2libGVSYW5nZTogKF8pID0+IGRlX1Zpc2libGVSYW5nZU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2VjdGlvbkJhc2VkTGF5b3V0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQm9keVNlY3Rpb25zOiBfanNvbixcbiAgICAgICAgQ2FudmFzU2l6ZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGb290ZXJTZWN0aW9uczogX2pzb24sXG4gICAgICAgIEhlYWRlclNlY3Rpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TZW5zaXRpdmVEb3VibGVMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fbGltaXRlZFBhcnNlRG91YmxlKGVudHJ5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1NlbnNpdGl2ZVRpbWVzdGFtcExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihlbnRyeSkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb25QYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9EZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9TaGFwZUNvbmRpdGlvbmFsRm9ybWF0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TaGVldERlZmluaXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbnRlbnRUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGaWx0ZXJDb250cm9sczogKF8pID0+IGRlX0ZpbHRlckNvbnRyb2xMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBMYXlvdXRzOiAoXykgPT4gZGVfTGF5b3V0TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlckNvbnRyb2xzOiAoXykgPT4gZGVfUGFyYW1ldGVyQ29udHJvbExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0Q29udHJvbExheW91dHM6IF9qc29uLFxuICAgICAgICBTaGVldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGV4dEJveGVzOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXN1YWxzOiAoXykgPT4gZGVfVmlzdWFsTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TaGVldERlZmluaXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1NoZWV0RGVmaW5pdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9TbmFwc2hvdENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIEZpbGVHcm91cHM6IF9qc29uLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gZGVfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGV4dEZvcm1hdDogKF8pID0+IGRlX1RleHRDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2VsbDogKF8pID0+IGRlX1RhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUm93OiAoXykgPT4gZGVfVGFibGVSb3dDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RhYmxlQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1RhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfVGFibGVTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVJbmxpbmVWaXN1YWxpemF0aW9uczogX2pzb24sXG4gICAgICAgIFRhYmxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFRvdGFsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZVJvd0NvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFja2dyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhZ2luYXRpb25Db25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgUm93U29ydDogKF8pID0+IGRlX1Jvd1NvcnRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfVGFibGVDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uOiAoXykgPT4gZGVfVGVtcGxhdGVWZXJzaW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGF0ZXN0VmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UZW1wbGF0ZVN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVWZXJzaW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNldENvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBTaGVldHM6IF9qc29uLFxuICAgICAgICBTb3VyY2VFbnRpdHlBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZVZlcnNpb25EZWZpbml0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogX2pzb24sXG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YVNldENvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRmlsdGVyR3JvdXBzOiAoXykgPT4gZGVfRmlsdGVyR3JvdXBMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBPcHRpb25zOiBfanNvbixcbiAgICAgICAgUGFyYW1ldGVyRGVjbGFyYXRpb25zOiAoXykgPT4gZGVfUGFyYW1ldGVyRGVjbGFyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldHM6IChfKSA9PiBkZV9TaGVldERlZmluaXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlVmVyc2lvblN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZVZlcnNpb25TdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UZW1wbGF0ZVZlcnNpb25TdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RleHRDb25kaXRpb25hbEZvcm1hdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFja2dyb3VuZENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgICAgIEljb246IF9qc29uLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaGVtZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbjogKF8pID0+IGRlX1RoZW1lVmVyc2lvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaGVtZVN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhdGVzdFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RoZW1lU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVGhlbWVTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RoZW1lVmVyc2lvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQmFzZVRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RoZW1lVmVyc2lvblN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaGVtZVZlcnNpb25TdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9UaGVtZVZlcnNpb25TdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RpbWVCYXNlZEZvcmVjYXN0UHJvcGVydGllcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTG93ZXJCb3VuZGFyeTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFBlcmlvZHNCYWNrd2FyZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgUGVyaW9kc0ZvcndhcmQ6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFByZWRpY3Rpb25JbnRlcnZhbDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU2Vhc29uYWxpdHk6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFVwcGVyQm91bmRhcnk6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RpbWVFcXVhbGl0eUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUm9sbGluZ0RhdGU6IF9qc29uLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaW1lUmFuZ2VEcmlsbERvd25GaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFJhbmdlTWF4aW11bTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgUmFuZ2VNaW5pbXVtOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RpbWVSYW5nZUZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRXhjbHVkZVBlcmlvZENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluY2x1ZGVNYXhpbXVtOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIEluY2x1ZGVNaW5pbXVtOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE51bGxPcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSYW5nZU1heGltdW1WYWx1ZTogKF8pID0+IGRlX1RpbWVSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBSYW5nZU1pbmltdW1WYWx1ZTogKF8pID0+IGRlX1RpbWVSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RpbWVSYW5nZUZpbHRlclZhbHVlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBQYXJhbWV0ZXI6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFN0YXRpY1ZhbHVlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Rvb2x0aXBJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW5Ub29sdGlwSXRlbTogKF8pID0+IGRlX0NvbHVtblRvb2x0aXBJdGVtKF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZFRvb2x0aXBJdGVtOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub29sdGlwSXRlbUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVG9vbHRpcEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVG9vbHRpcE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkQmFzZWRUb29sdGlwOiAoXykgPT4gZGVfRmllbGRCYXNlZFRvb2x0aXAoXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdGVkVG9vbHRpcFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb29sdGlwVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG9wQm90dG9tRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uczogKF8pID0+IGRlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExpbWl0OiBfX2V4cGVjdEludDMyLFxuICAgICAgICBQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BCb3R0b21Nb3ZlcnNDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTW92ZXJTaXplOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU29ydE9yZGVyOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BCb3R0b21SYW5rZWRDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc3VsdFNpemU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFzZWRPblNwaWNlU2NoZWR1bGU6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSXNFbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJlcGVhdEF0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRpbmdBdDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVGltZXpvbmU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY1NjaGVkdWxlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG9waWNSZWZyZXNoU2NoZWR1bGVTdW1tYXJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGVTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RvcGljUmVmcmVzaFNjaGVkdWxlU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YXNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFzZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFzZXROYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaFNjaGVkdWxlOiAoXykgPT4gZGVfVG9waWNSZWZyZXNoU2NoZWR1bGUoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG90YWxBZ2dyZWdhdGlvbkNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyYW5zZm9ybU9wZXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIENhc3RDb2x1bW5UeXBlT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuQ2FzdENvbHVtblR5cGVPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQ3JlYXRlQ29sdW1uc09wZXJhdGlvbjogX2pzb24ob3V0cHV0LkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkZpbHRlck9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBGaWx0ZXJPcGVyYXRpb246IF9qc29uKG91dHB1dC5GaWx0ZXJPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBPdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb246IGRlX092ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbihvdXRwdXQuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uLCBjb250ZXh0KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Qcm9qZWN0T3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFByb2plY3RPcGVyYXRpb246IF9qc29uKG91dHB1dC5Qcm9qZWN0T3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5SZW5hbWVDb2x1bW5PcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuUmVuYW1lQ29sdW1uT3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5UYWdDb2x1bW5PcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuVGFnQ29sdW1uT3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5VbnRhZ0NvbHVtbk9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVbnRhZ0NvbHVtbk9wZXJhdGlvbjogX2pzb24ob3V0cHV0LlVudGFnQ29sdW1uT3BlcmF0aW9uKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgJHVua25vd246IE9iamVjdC5lbnRyaWVzKG91dHB1dClbMF0gfTtcbn07XG5jb25zdCBkZV9UcmFuc2Zvcm1PcGVyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RyYW5zZm9ybU9wZXJhdGlvbihfX2V4cGVjdFVuaW9uKGVudHJ5KSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UcmVlTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yczogKF8pID0+IGRlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cHM6IF9qc29uLFxuICAgICAgICBTaXplczogKF8pID0+IGRlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBkZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1RyZWVNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cExhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNpemVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBUcmVlTWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9UcmVlTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVHJlZU1hcE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVHJlZU1hcEdyb3VwSXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBUcmVlTWFwU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9UcmVlTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Zpc2libGVSYW5nZU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBlcmNlbnRSYW5nZTogKF8pID0+IGRlX1BlcmNlbnRWaXNpYmxlUmFuZ2UoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXJDaGFydFZpc3VhbDogKF8pID0+IGRlX0JhckNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBCb3hQbG90VmlzdWFsOiAoXykgPT4gZGVfQm94UGxvdFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29tYm9DaGFydFZpc3VhbDogKF8pID0+IGRlX0NvbWJvQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEN1c3RvbUNvbnRlbnRWaXN1YWw6IChfKSA9PiBkZV9DdXN0b21Db250ZW50VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBFbXB0eVZpc3VhbDogKF8pID0+IGRlX0VtcHR5VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBGaWxsZWRNYXBWaXN1YWw6IChfKSA9PiBkZV9GaWxsZWRNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEZ1bm5lbENoYXJ0VmlzdWFsOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEdhdWdlQ2hhcnRWaXN1YWw6IChfKSA9PiBkZV9HYXVnZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBHZW9zcGF0aWFsTWFwVmlzdWFsOiAoXykgPT4gZGVfR2Vvc3BhdGlhbE1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFZpc3VhbDogKF8pID0+IGRlX0hlYXRNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEhpc3RvZ3JhbVZpc3VhbDogKF8pID0+IGRlX0hpc3RvZ3JhbVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSW5zaWdodFZpc3VhbDogKF8pID0+IGRlX0luc2lnaHRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEtQSVZpc3VhbDogKF8pID0+IGRlX0tQSVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgTGluZUNoYXJ0VmlzdWFsOiAoXykgPT4gZGVfTGluZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBQaWVDaGFydFZpc3VhbDogKF8pID0+IGRlX1BpZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBQaXZvdFRhYmxlVmlzdWFsOiAoXykgPT4gZGVfUGl2b3RUYWJsZVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUmFkYXJDaGFydFZpc3VhbDogKF8pID0+IGRlX1JhZGFyQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFNhbmtleURpYWdyYW1WaXN1YWw6IChfKSA9PiBkZV9TYW5rZXlEaWFncmFtVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2F0dGVyUGxvdFZpc3VhbDogKF8pID0+IGRlX1NjYXR0ZXJQbG90VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZVZpc3VhbDogKF8pID0+IGRlX1RhYmxlVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBUcmVlTWFwVmlzdWFsOiAoXykgPT4gZGVfVHJlZU1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgV2F0ZXJmYWxsVmlzdWFsOiAoXykgPT4gZGVfV2F0ZXJmYWxsVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBXb3JkQ2xvdWRWaXN1YWw6IChfKSA9PiBkZV9Xb3JkQ2xvdWRWaXN1YWwoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25PcGVyYXRpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ3VzdG9tQWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVHJpZ2dlcjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WaXN1YWxDdXN0b21BY3Rpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWx0ZXJPcGVyYXRpb246IF9qc29uLFxuICAgICAgICBOYXZpZ2F0aW9uT3BlcmF0aW9uOiBfanNvbixcbiAgICAgICAgU2V0UGFyYW1ldGVyc09wZXJhdGlvbjogKF8pID0+IGRlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVSTE9wZXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVmlzdWFsTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WaXN1YWwoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVlBDQ29ubmVjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXZhaWxhYmlsaXR5U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERuc1Jlc29sdmVyczogX2pzb24sXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5ldHdvcmtJbnRlcmZhY2VzOiBfanNvbixcbiAgICAgICAgUm9sZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNlY3VyaXR5R3JvdXBJZHM6IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVlBDQ29ubmVjdGlvblN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF2YWlsYWJpbGl0eVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEbnNSZXNvbHZlcnM6IF9qc29uLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOZXR3b3JrSW50ZXJmYWNlczogX2pzb24sXG4gICAgICAgIFJvbGVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTZWN1cml0eUdyb3VwSWRzOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDQ29ubmVjdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1ZQQ0Nvbm5lY3Rpb25TdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9WUENDb25uZWN0aW9uU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9XYXRlcmZhbGxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCcmVha2Rvd25zOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcmllczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2F0ZXJmYWxsQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9XYXRlcmZhbGxDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBXYXRlcmZhbGxDaGFydE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dhdGVyZmFsbENoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgV2F0ZXJmYWxsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2F0ZXJmYWxsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQnJlYWtkb3duSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dhdGVyZmFsbFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1doYXRJZlBvaW50U2NlbmFyaW8gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9XaGF0SWZSYW5nZVNjZW5hcmlvID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBFbmREYXRlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBTdGFydERhdGU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFNpemU6IChfKSA9PiBkZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dvcmRDbG91ZENoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfV29yZENsb3VkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Xb3JkQ2xvdWRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgV29yZENsb3VkT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV29yZENsb3VkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgV29yZENsb3VkQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9Xb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV29yZENsb3VkVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfV29yZENsb3VkQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCBpc1NlcmlhbGl6YWJsZUhlYWRlclZhbHVlID0gKHZhbHVlKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICB2YWx1ZSAhPT0gXCJcIiAmJlxuICAgICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmluY2x1ZGVzKFwibGVuZ3RoXCIpIHx8IHZhbHVlLmxlbmd0aCAhPSAwKSAmJlxuICAgICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmluY2x1ZGVzKFwic2l6ZVwiKSB8fCB2YWx1ZS5zaXplICE9IDApO1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZW5jb2RlZCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICB2YWx1ZS5tZXNzYWdlID0gdmFsdWUubWVzc2FnZSA/PyB2YWx1ZS5NZXNzYWdlO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBsb2FkUmVzdEpzb25FcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgZmluZEtleSA9IChvYmplY3QsIGtleSkgPT4gT2JqZWN0LmtleXMob2JqZWN0KS5maW5kKChrKSA9PiBrLnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICBjb25zdCBzYW5pdGl6ZUVycm9yQ29kZSA9IChyYXdWYWx1ZSkgPT4ge1xuICAgICAgICBsZXQgY2xlYW5WYWx1ZSA9IHJhd1ZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFuVmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCI6XCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiI1wiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIiNcIilbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsZWFuVmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJLZXkgPSBmaW5kS2V5KG91dHB1dC5oZWFkZXJzLCBcIngtYW16bi1lcnJvcnR5cGVcIik7XG4gICAgaWYgKGhlYWRlcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShvdXRwdXQuaGVhZGVyc1toZWFkZXJLZXldKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhLmNvZGUpO1xuICAgIH1cbiAgICBpZiAoZGF0YVtcIl9fdHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhW1wiX190eXBlXCJdKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQHNtaXRoeS9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQHNtaXRoeS9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTTUlUSFlfQ09OVEVYVF9LRVksIH0gZnJvbSBcIkBzbWl0aHkvdHlwZXNcIjtcbmltcG9ydCB7IGRlX0xpc3RVc2Vyc0NvbW1hbmQsIHNlX0xpc3RVc2Vyc0NvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19yZXN0SnNvbjFcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgTGlzdFVzZXJzQ29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBMaXN0VXNlcnNDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiUXVpY2tTaWdodENsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiTGlzdFVzZXJzQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBbU01JVEhZX0NPTlRFWFRfS0VZXToge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IFwiUXVpY2tTaWdodF8yMDE4MDQwMVwiLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJMaXN0VXNlcnNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX0xpc3RVc2Vyc0NvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RVc2Vyc0NvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAc21pdGh5L21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBzbWl0aHkvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZCB9IGZyb20gXCJAc21pdGh5L3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IFNNSVRIWV9DT05URVhUX0tFWSwgfSBmcm9tIFwiQHNtaXRoeS90eXBlc1wiO1xuaW1wb3J0IHsgZGVfRGVsZXRlVXNlckNvbW1hbmQsIHNlX0RlbGV0ZVVzZXJDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xXCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIERlbGV0ZVVzZXJDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIERlbGV0ZVVzZXJDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiUXVpY2tTaWdodENsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiRGVsZXRlVXNlckNvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgW1NNSVRIWV9DT05URVhUX0tFWV06IHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBcIlF1aWNrU2lnaHRfMjAxODA0MDFcIixcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiRGVsZXRlVXNlclwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfRGVsZXRlVXNlckNvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVVzZXJDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRGVsZXRlVXNlckNvbW1hbmQsIExpc3RVc2Vyc0NvbW1hbmQsIFF1aWNrU2lnaHRDbGllbnQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodCdcbmltcG9ydCB7IFF1aWNrU2lnaHRVc2VyIH0gZnJvbSAnLi9RdWlja1NpZ2h0VXNlcidcblxuZXhwb3J0IGNsYXNzIFF1aWNrU2lnaHRVc2VyTWFuYWdlciB7XG5cdHByaXZhdGUgYXdzQWNjb3VudElkID0gcHJvY2Vzcy5lbnYuYXdzQWNjb3VudElkXG5cdHByaXZhdGUgc3RhdGljIG5hbWVzcGFjZSA9ICdkZWZhdWx0J1xuXHRwcml2YXRlIHF1aWNrU2lnaHRDbGllbnQgPSBuZXcgUXVpY2tTaWdodENsaWVudCh7fSlcbiAgXG5cdHB1YmxpYyBhc3luYyByZXRyaWV2ZVVzZXJzKCk6IFByb21pc2U8UXVpY2tTaWdodFVzZXJbXT4ge1xuXHRcdGNvbnN0IHF1aWNrU2lnaHRVc2VyczogUXVpY2tTaWdodFVzZXJbXSA9IFtdXG5cblx0XHRsZXQgbmV4dFRva2VuID0gJycgLy8gb3JpZ2luYWxseSBJIHRyaWVkIG51bGwsIGJ1dCBpdCBjYXVzZXMgQVBJIHNpZ25hdHVyZSBpc3N1ZXMuXG5cdFx0ZG8ge1xuXHRcdFx0Y29uc3QgbGlzdFVzZXJzQ29tbWFuZCA9IG5ldyBMaXN0VXNlcnNDb21tYW5kKHsgQXdzQWNjb3VudElkOiB0aGlzLmF3c0FjY291bnRJZCwgTmFtZXNwYWNlOiBRdWlja1NpZ2h0VXNlck1hbmFnZXIubmFtZXNwYWNlLCBOZXh0VG9rZW46IG5leHRUb2tlbiB9KVxuXHRcdFx0Y29uc3QgcXVpY2tTaWdodFVzZXJMaXN0UmVzcG9uc2UgPSBhd2FpdCB0aGlzLnF1aWNrU2lnaHRDbGllbnQuc2VuZChsaXN0VXNlcnNDb21tYW5kKVxuXG5cdFx0XHRuZXh0VG9rZW4gPSBxdWlja1NpZ2h0VXNlckxpc3RSZXNwb25zZS5OZXh0VG9rZW5cblxuXHRcdFx0cXVpY2tTaWdodFVzZXJMaXN0UmVzcG9uc2UuVXNlckxpc3QuZm9yRWFjaCgodXNlcikgPT4gcXVpY2tTaWdodFVzZXJzLnB1c2gobmV3IFF1aWNrU2lnaHRVc2VyKHVzZXIpKSlcblx0XHR9IHdoaWxlIChuZXh0VG9rZW4pXG5cblx0XHRyZXR1cm4gcXVpY2tTaWdodFVzZXJzXG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgZGVsZXRlVXNlcih1c2VyOiBRdWlja1NpZ2h0VXNlcikge1xuXHRcdC8vIFN0cnlrZXIgZGlzYWJsZSBuZXh0LWxpbmUgYWxsIFwiSSBkbyBub3QgY2FyZSBhYm91dCBtdXRhdGluZyBjb25zb2xlIHN0YXRlbWVudHNcIlxuXHRcdGNvbnNvbGUuZGVidWcoYERlbGV0aW5nICR7SlNPTi5zdHJpbmdpZnkodXNlciwgbnVsbCwgMSl9YClcblx0XHRcblx0XHRjb25zdCBkZWxldGVVc2VyQ29tbWFuZCA9IG5ldyBEZWxldGVVc2VyQ29tbWFuZCh7XG5cdFx0XHRBd3NBY2NvdW50SWQ6IHRoaXMuYXdzQWNjb3VudElkLFxuXHRcdFx0TmFtZXNwYWNlOiBRdWlja1NpZ2h0VXNlck1hbmFnZXIubmFtZXNwYWNlLFxuXHRcdFx0VXNlck5hbWU6IHVzZXIudXNlcm5hbWUsXG5cdFx0fSlcblxuXHRcdGF3YWl0IHRoaXMucXVpY2tTaWdodENsaWVudC5zZW5kKGRlbGV0ZVVzZXJDb21tYW5kKVxuXHR9XG59IiwiaW1wb3J0IHsgQ2xvdWRUcmFpbFVzZXJFdmVudE1hbmFnZXIgfSBmcm9tICcuL0Nsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyJ1xuaW1wb3J0IHsgQ2xvdWRXYXRjaE1ldHJpY0NsaWVudCB9IGZyb20gJy4vQ2xvdWRXYXRjaE1ldHJpY0NsaWVudCdcbmltcG9ydCB7IE5vdGlmaWNhdGlvbk1hbmFnZXIgfSBmcm9tICcuL05vdGlmaWNhdGlvbk1hbmFnZXInXG5pbXBvcnQgeyBRdWlja1NpZ2h0Um9sZSB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlck1hbmFnZXIgfSBmcm9tICcuL1F1aWNrU2lnaHRVc2VyTWFuYWdlcidcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKCkgPT4ge1xuXHRjb25zdCB7IGRlbGV0ZURheXMsIG5vdGlmeURheXMgfSA9IHByb2Nlc3MuZW52XG5cdGNvbnN0IGVuYWJsZU5vdGlmaWNhdGlvbiA9IHByb2Nlc3MuZW52LmVuYWJsZU5vdGlmaWNhdGlvbiA9PT0gJ3RydWUnXG5cdGNvbnN0IGRlbGV0ZURhdGUgPSBuZXcgRGF0ZSgpXG5cdGNvbnN0IG5vdGlmeURhdGUgPSBuZXcgRGF0ZSgpXG5cdGRlbGV0ZURhdGUuc2V0RGF0ZShkZWxldGVEYXRlLmdldERhdGUoKSAtIHBhcnNlSW50KGRlbGV0ZURheXMpKVxuXHRub3RpZnlEYXRlLnNldERhdGUobm90aWZ5RGF0ZS5nZXREYXRlKCkgLSBwYXJzZUludChub3RpZnlEYXlzKSlcblxuXHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0Y29uc29sZS5pbmZvKGBOb3RpZnlpbmcgdXNlcnMgd2l0aCBsYXN0IGFjY2VzcyBkYXRlIG9uOiAke25vdGlmeURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9ICgke25vdGlmeURheXN9IGRheXMgYWdvKS5gKVxuXHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0Y29uc29sZS5pbmZvKGBEZWxldGluZyB1c2VycyB3aXRoIGxhc3QgYWNjZXNzIGRhdGUgb24gb3IgYmVmb3JlOiAke2RlbGV0ZURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9ICgke2RlbGV0ZURheXN9IGRheXMgYWdvKS5gKVxuXHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0Y29uc29sZS5pbmZvKGBOb3RpZmljYXRpb24gZW5hYmxlZD8gJHtlbmFibGVOb3RpZmljYXRpb259LmApXG5cblx0Y29uc3QgcXVpY2tTaWdodFVzZXJNYW5hZ2VyID0gbmV3IFF1aWNrU2lnaHRVc2VyTWFuYWdlcigpXG5cdGNvbnN0IGNsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyID0gbmV3IENsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyKClcblx0Y29uc3Qgbm90aWZpY2F0aW9uTWFuYWdlciA9IG5ldyBOb3RpZmljYXRpb25NYW5hZ2VyKClcblx0Y29uc3QgY2xvdWRXYXRjaE1ldHJpY0NsaWVudCA9IG5ldyBDbG91ZFdhdGNoTWV0cmljQ2xpZW50KClcblxuXHRjb25zdCBxdWlja1NpZ2h0VXNlcnMgPSBhd2FpdCBxdWlja1NpZ2h0VXNlck1hbmFnZXIucmV0cmlldmVVc2VycygpXG5cdGNvbnN0IGNsb3VkVHJhaWxVc2VyRXZlbnRzID0gYXdhaXQgY2xvdWRUcmFpbFVzZXJFdmVudE1hbmFnZXIucmV0cmlldmVRdWlja1NpZ2h0VXNlckV2ZW50cyhkZWxldGVEYXRlKVxuXG5cdGZvciAoY29uc3QgcXVpY2tTaWdodFVzZXIgb2YgcXVpY2tTaWdodFVzZXJzKSB7XG5cdFx0cXVpY2tTaWdodFVzZXIubGFzdEFjY2VzcyA9IGNsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyLmdldExhc3RBY2Nlc3NEYXRlKHF1aWNrU2lnaHRVc2VyLCBjbG91ZFRyYWlsVXNlckV2ZW50cylcblx0fVxuXG5cdC8vIFN0cnlrZXIgZGlzYWJsZSBuZXh0LWxpbmUgYWxsIFwiSSBkbyBub3QgY2FyZSBhYm91dCBtdXRhdGluZyBjb25zb2xlIHN0YXRlbWVudHNcIlxuXHRjb25zb2xlLmRlYnVnKGBRdWlja1NpZ2h0IFVzZXJzOlxcbiR7SlNPTi5zdHJpbmdpZnkocXVpY2tTaWdodFVzZXJzLCBudWxsLCAyKX1gKVxuXHRjbG91ZFdhdGNoTWV0cmljQ2xpZW50LnF1ZXVlTWV0cmljKHsgTWV0cmljTmFtZTogJ1ByaW9yUXVpY2tTaWdodFVzZXJzQ291bnQnLCBWYWx1ZTogcXVpY2tTaWdodFVzZXJzLmxlbmd0aCB9KVxuXG5cdGxldCBpbnZhbGlkVXNlcnMgPSAwXG5cdGxldCB1c2Vyc0RlbGV0ZWQgPSAwXG5cdGxldCBub3RpZmljYXRpb25zU2VudCA9IDBcblxuXHRmb3IgKGNvbnN0IHF1aWNrU2lnaHRVc2VyIG9mIHF1aWNrU2lnaHRVc2Vycykge1xuXHRcdGlmIChxdWlja1NpZ2h0VXNlci5pbnZhbGlkKSB7IC8vIFNvbWUgUVMgdXNlcnMgY2Fubm90IGJlIGRlbGV0ZWQgVklBIHRoZSBBUEkvU0RLLiBTZWUgUkVBRE1FIGZvciBkZXRhaWxzXG5cdFx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcblx0XHRcdGNvbnNvbGUud2FybihgSW52YWxpZCB1c2VyOiAke0pTT04uc3RyaW5naWZ5KHF1aWNrU2lnaHRVc2VyKX1gKVxuXHRcdFx0aW52YWxpZFVzZXJzKytcblx0XHR9IGVsc2UgaWYgKHF1aWNrU2lnaHRVc2VyLmxhc3RBY2Nlc3MgPCBkZWxldGVEYXRlKSB7XG5cdFx0XHR1c2Vyc0RlbGV0ZWQrK1xuXHRcdFx0YXdhaXQgcXVpY2tTaWdodFVzZXJNYW5hZ2VyLmRlbGV0ZVVzZXIocXVpY2tTaWdodFVzZXIpXG5cdFx0fSBlbHNlIGlmIChlbmFibGVOb3RpZmljYXRpb25cbiAgICAgICYmIHF1aWNrU2lnaHRVc2VyLnJvbGUgIT09IFF1aWNrU2lnaHRSb2xlLlJFQURFUiAvLyBSZWFkZXJzIGdldCBpbnRvIFF1aWNrU2lnaHQgdGhyb3VnaCBhIHB1YmxpYyBwYWdlIGFuZCBwcm9iYWJseSBoYXZlIG5vIGlkZWEgd2hhdCBRdWlja1NpZ2h0IGlzLiBUaGVyZWZvcmUgd2Ugc2hvdWxkbid0IGVtYWlsIHRoZW0uXG4gICAgICAmJiBxdWlja1NpZ2h0VXNlci5sYXN0QWNjZXNzLnRvTG9jYWxlRGF0ZVN0cmluZygpID09PSBub3RpZnlEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpKSB7IC8vIHRvTG9jYWxlRGF0ZVN0cmluZyBzdHJpcHMgb2ZmIHRoZSB0aW1lLiBJZiB0aGUgZGF5IG1hdGNoZXMgdGhlIG5vdGlmeSBcImRheVwiIHRoZW4gd2Ugbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRub3RpZmljYXRpb25zU2VudCsrXG5cdFx0XHRhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLm5vdGlmeVVzZXIocXVpY2tTaWdodFVzZXIpXG5cdFx0fVxuXHR9XG5cblx0Y2xvdWRXYXRjaE1ldHJpY0NsaWVudC5xdWV1ZU1ldHJpYyh7IE1ldHJpY05hbWU6ICdJbnZhbGlkVXNlcnNDb3VudCcsIFZhbHVlOiBpbnZhbGlkVXNlcnMgfSlcblx0Y2xvdWRXYXRjaE1ldHJpY0NsaWVudC5xdWV1ZU1ldHJpYyh7IE1ldHJpY05hbWU6ICdVc2Vyc0RlbGV0ZWRDb3VudCcsIFZhbHVlOiB1c2Vyc0RlbGV0ZWQgfSlcblx0Y2xvdWRXYXRjaE1ldHJpY0NsaWVudC5xdWV1ZU1ldHJpYyh7IE1ldHJpY05hbWU6ICdOb3RpZmljYXRpb25zU2VudENvdW50JywgVmFsdWU6IG5vdGlmaWNhdGlvbnNTZW50IH0pXG5cdGNsb3VkV2F0Y2hNZXRyaWNDbGllbnQucXVldWVNZXRyaWMoeyBNZXRyaWNOYW1lOiAnUmVtYWluaW5nUXVpY2tTaWdodFVzZXJzQ291bnQnLCBWYWx1ZTogcXVpY2tTaWdodFVzZXJzLmxlbmd0aCAtIHVzZXJzRGVsZXRlZCB9KVxuXHRhd2FpdCBjbG91ZFdhdGNoTWV0cmljQ2xpZW50LmVtaXRRdWV1ZWRNZXRyaWNzKClcbn1cbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkF3c0NyYzMyIiwidHNsaWJfMSIsInV0aWxfMSIsImluZGV4XzEiLCJ0aGlzIiwiY3JjMzIiLCJDcmMzMiIsInByb3RvdHlwZSIsInVwZGF0ZSIsInRvSGFzaCIsImlzRW1wdHlEYXRhIiwiY29udmVydFRvQnVmZmVyIiwiZGlnZXN0IiwiX19hd2FpdGVyIiwiX19nZW5lcmF0b3IiLCJfYSIsIm51bVRvVWludDgiLCJyZXNldCIsImRhdGEiLCJjaGVja3N1bSIsImVfMSIsImRhdGFfMSIsIl9fdmFsdWVzIiwiZGF0YV8xXzEiLCJuZXh0IiwiZG9uZSIsImJ5dGUiLCJsb29rdXBUYWJsZSIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJjYWxsIiwidWludDMyQXJyYXlGcm9tIiwiYXdzX2NyYzMyXzEiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fZXh0ZW5kcyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIl9fcmVzdCIsImUiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsIl9fcGFyYW0iLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwiX19tZXRhZGF0YSIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIm1ldGFkYXRhIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIl9fY3JlYXRlQmluZGluZyIsIm8iLCJtIiwiayIsImsyIiwidW5kZWZpbmVkIiwiX19leHBvcnRTdGFyIiwiX19yZWFkIiwiYXIiLCJfX3NwcmVhZCIsImNvbmNhdCIsIl9fc3ByZWFkQXJyYXlzIiwiaWwiLCJhIiwiaiIsImpsIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNEZWxlZ2F0b3IiLCJfX2FzeW5jVmFsdWVzIiwiX19tYWtlVGVtcGxhdGVPYmplY3QiLCJjb29rZWQiLCJyYXciLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9faW1wb3J0RGVmYXVsdCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJyZWNlaXZlciIsInByaXZhdGVNYXAiLCJoYXMiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0Iiwic2V0IiwidXRpbF91dGY4X2Jyb3dzZXJfMSIsImZyb21VdGY4IiwiQnVmZmVyIiwiZnJvbSIsImlucHV0IiwiVWludDhBcnJheSIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJCWVRFU19QRVJfRUxFTUVOVCIsImNvbnZlcnRUb0J1ZmZlcl8xIiwiaXNFbXB0eURhdGFfMSIsIm51bVRvVWludDhfMSIsInVpbnQzMkFycmF5RnJvbV8xIiwibnVtIiwiYV9sb29rVXBUYWJsZSIsIlVpbnQzMkFycmF5IiwicmV0dXJuX2FycmF5IiwiYV9pbmRleCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiYnl0ZXMiLCJsZW4iLCJjaGFyQ29kZUF0Iiwic3Vycm9nYXRlUGFpciIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwiZGVjb2RlZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIm5leHRCeXRlIiwiZW5jb2RlZCIsIm1hcCIsImJ5dGVWYWx1ZSIsInRvU3RyaW5nIiwiam9pbiIsImRlY29kZVVSSUNvbXBvbmVudCIsInZhbGlkYXRvciIsIlhNTFBhcnNlciIsIlhNTEJ1aWxkZXIiLCJtb2R1bGUiLCJYTUxWYWxpZGF0b3IiLCJuYW1lU3RhcnRDaGFyIiwibmFtZVJlZ2V4cCIsInJlZ2V4TmFtZSIsIlJlZ0V4cCIsImlzRXhpc3QiLCJpc0VtcHR5T2JqZWN0Iiwib2JqIiwia2V5cyIsIm1lcmdlIiwiYXJyYXlNb2RlIiwiZ2V0VmFsdWUiLCJpc05hbWUiLCJzdHJpbmciLCJleGVjIiwiZ2V0QWxsTWF0Y2hlcyIsInJlZ2V4IiwibWF0Y2hlcyIsIm1hdGNoIiwiYWxsbWF0Y2hlcyIsInN0YXJ0SW5kZXgiLCJsYXN0SW5kZXgiLCJpbmRleCIsInV0aWwiLCJkZWZhdWx0T3B0aW9ucyIsImFsbG93Qm9vbGVhbkF0dHJpYnV0ZXMiLCJ1bnBhaXJlZFRhZ3MiLCJpc1doaXRlU3BhY2UiLCJjaGFyIiwicmVhZFBJIiwieG1sRGF0YSIsInN0YXJ0IiwidGFnbmFtZSIsInN1YnN0ciIsImdldEVycm9yT2JqZWN0IiwiZ2V0TGluZU51bWJlckZvclBvc2l0aW9uIiwicmVhZENvbW1lbnRBbmRDREFUQSIsImFuZ2xlQnJhY2tldHNDb3VudCIsInZhbGlkYXRlIiwib3B0aW9ucyIsInRhZ3MiLCJ0YWdGb3VuZCIsInJlYWNoZWRSb290IiwiZXJyIiwidGFnU3RhcnRQb3MiLCJjbG9zaW5nVGFnIiwidGFnTmFtZSIsInRyaW0iLCJzdWJzdHJpbmciLCJtc2ciLCJyZWFkQXR0cmlidXRlU3RyIiwiYXR0clN0ciIsImF0dHJTdHJTdGFydCIsImlzVmFsaWQiLCJ2YWxpZGF0ZUF0dHJpYnV0ZVN0cmluZyIsImNvZGUiLCJsaW5lIiwidGFnQ2xvc2VkIiwib3RnIiwib3BlblBvcyIsImNvbCIsImFmdGVyQW1wIiwidmFsaWRhdGVBbXBlcnNhbmQiLCJKU09OIiwic3RyaW5naWZ5IiwicmVwbGFjZSIsImRvdWJsZVF1b3RlIiwic2luZ2xlUXVvdGUiLCJzdGFydENoYXIiLCJ2YWxpZEF0dHJTdHJSZWd4cCIsImF0dHJOYW1lcyIsImdldFBvc2l0aW9uRnJvbU1hdGNoIiwiYXR0ck5hbWUiLCJ2YWxpZGF0ZUF0dHJOYW1lIiwicmUiLCJ2YWxpZGF0ZU51bWJlckFtcGVyc2FuZCIsImNvdW50IiwibWVzc2FnZSIsImxpbmVOdW1iZXIiLCJsaW5lcyIsInNwbGl0IiwiYnVpbGRGcm9tT3JkZXJlZEpzIiwiYXR0cmlidXRlTmFtZVByZWZpeCIsImF0dHJpYnV0ZXNHcm91cE5hbWUiLCJ0ZXh0Tm9kZU5hbWUiLCJpZ25vcmVBdHRyaWJ1dGVzIiwiY2RhdGFQcm9wTmFtZSIsImZvcm1hdCIsImluZGVudEJ5Iiwic3VwcHJlc3NFbXB0eU5vZGUiLCJzdXBwcmVzc1VucGFpcmVkTm9kZSIsInN1cHByZXNzQm9vbGVhbkF0dHJpYnV0ZXMiLCJ0YWdWYWx1ZVByb2Nlc3NvciIsImF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yIiwicHJlc2VydmVPcmRlciIsImNvbW1lbnRQcm9wTmFtZSIsImVudGl0aWVzIiwidmFsIiwicHJvY2Vzc0VudGl0aWVzIiwic3RvcE5vZGVzIiwib25lTGlzdEdyb3VwIiwiQnVpbGRlciIsImlzQXR0cmlidXRlIiwiYXR0clByZWZpeExlbiIsInByb2Nlc3NUZXh0T3JPYmpOb2RlIiwiaW5kZW50YXRlIiwidGFnRW5kQ2hhciIsIm5ld0xpbmUiLCJvYmplY3QiLCJsZXZlbCIsImoyeCIsImJ1aWxkVGV4dFZhbE5vZGUiLCJidWlsZE9iamVjdE5vZGUiLCJyZXBlYXQiLCJuYW1lIiwic3RhcnRzV2l0aCIsImJ1aWxkIiwiak9iaiIsImlzQXJyYXkiLCJhcnJheU5vZGVOYW1lIiwiRGF0ZSIsImF0dHIiLCJidWlsZEF0dHJQYWlyU3RyIiwibmV3dmFsIiwicmVwbGFjZUVudGl0aWVzVmFsdWUiLCJhcnJMZW4iLCJsaXN0VGFnVmFsIiwiaXRlbSIsIktzIiwiTCIsImNsb3NlVGFnIiwidGFnRW5kRXhwIiwicGlDbG9zaW5nQ2hhciIsInRleHRWYWx1ZSIsImVudGl0eSIsImFyclRvU3RyIiwiYXJyIiwialBhdGgiLCJpbmRlbnRhdGlvbiIsInhtbFN0ciIsImlzUHJldmlvdXNFbGVtZW50VGFnIiwidGFnT2JqIiwicHJvcE5hbWUiLCJuZXdKUGF0aCIsInRhZ1RleHQiLCJpc1N0b3BOb2RlIiwiYXR0U3RyIiwiYXR0cl90b19zdHIiLCJ0ZW1wSW5kIiwicGlUZXh0Tm9kZU5hbWUiLCJuZXdJZGVudGF0aW9uIiwidGFnU3RhcnQiLCJ0YWdWYWx1ZSIsImVuZHNXaXRoIiwiaW5jbHVkZXMiLCJhdHRyTWFwIiwiYXR0clZhbCIsImxhc3RJbmRleE9mIiwiakFycmF5IiwicmVhZEVudGl0eUV4cCIsImVudGl0eU5hbWUiLCJFcnJvciIsImlzQ29tbWVudCIsImlzRW50aXR5IiwiaXNFbGVtZW50IiwiaXNBdHRsaXN0IiwiaXNOb3RhdGlvbiIsInZhbGlkYXRlRW50aXR5TmFtZSIsImhhc0JvZHkiLCJjb21tZW50IiwiZXhwIiwicmVneCIsInJlbW92ZU5TUHJlZml4IiwicGFyc2VUYWdWYWx1ZSIsInBhcnNlQXR0cmlidXRlVmFsdWUiLCJ0cmltVmFsdWVzIiwibnVtYmVyUGFyc2VPcHRpb25zIiwiaGV4IiwibGVhZGluZ1plcm9zIiwiZU5vdGF0aW9uIiwiYWx3YXlzQ3JlYXRlVGV4dE5vZGUiLCJodG1sRW50aXRpZXMiLCJpZ25vcmVEZWNsYXJhdGlvbiIsImlnbm9yZVBpVGFncyIsInRyYW5zZm9ybVRhZ05hbWUiLCJ0cmFuc2Zvcm1BdHRyaWJ1dGVOYW1lIiwidXBkYXRlVGFnIiwiYXR0cnMiLCJidWlsZE9wdGlvbnMiLCJ4bWxOb2RlIiwicmVhZERvY1R5cGUiLCJ0b051bWJlciIsImFkZEV4dGVybmFsRW50aXRpZXMiLCJleHRlcm5hbEVudGl0aWVzIiwiZW50S2V5cyIsImVudCIsImxhc3RFbnRpdGllcyIsInBhcnNlVGV4dERhdGEiLCJkb250VHJpbSIsImhhc0F0dHJpYnV0ZXMiLCJpc0xlYWZOb2RlIiwiZXNjYXBlRW50aXRpZXMiLCJwYXJzZVZhbHVlIiwicmVzb2x2ZU5hbWVTcGFjZSIsInByZWZpeCIsImNoYXJBdCIsImF0dHJzUmVneCIsImJ1aWxkQXR0cmlidXRlc01hcCIsIm9sZFZhbCIsImFOYW1lIiwibmV3VmFsIiwiYXR0ckNvbGxlY3Rpb24iLCJwYXJzZVhtbCIsInhtbE9iaiIsImN1cnJlbnROb2RlIiwidGV4dERhdGEiLCJjbG9zZUluZGV4IiwiZmluZENsb3NpbmdJbmRleCIsImNvbG9uSW5kZXgiLCJzYXZlVGV4dFRvUGFyZW50VGFnIiwibGFzdFRhZ05hbWUiLCJwcm9wSW5kZXgiLCJ0YWdzTm9kZVN0YWNrIiwidGFnRGF0YSIsInJlYWRUYWdFeHAiLCJjaGlsZE5vZGUiLCJhZGQiLCJ0YWdFeHAiLCJhdHRyRXhwUHJlc2VudCIsImFkZENoaWxkIiwiZW5kSW5kZXgiLCJkb2NUeXBlRW50aXRpZXMiLCJsYXN0VGFnIiwiaXNJdFN0b3BOb2RlIiwidGFnQ29udGVudCIsInJlYWRTdG9wTm9kZURhdGEiLCJjaGlsZCIsImFtcEVudGl0eSIsImN1cnJlbnRUYWdOYW1lIiwiYWxsTm9kZXNFeHAiLCJzdG9wTm9kZVBhdGgiLCJzdG9wTm9kZUV4cCIsInN0ciIsImVyck1zZyIsImNsb3NpbmdJbmRleCIsImNsb3NpbmdDaGFyIiwiYXR0ckJvdW5kYXJ5IiwiY2giLCJ0YWdFeHBXaXRoQ2xvc2luZ0luZGV4Iiwic2VwYXJhdG9ySW5kZXgiLCJzZWFyY2giLCJvcGVuVGFnQ291bnQiLCJzaG91bGRQYXJzZSIsIk9yZGVyZWRPYmpQYXJzZXIiLCJwcmV0dGlmeSIsInBhcnNlIiwidmFsaWRhdGlvbk9wdGlvbiIsIm9yZGVyZWRPYmpQYXJzZXIiLCJvcmRlcmVkUmVzdWx0IiwiYWRkRW50aXR5IiwiY29tcHJlc3MiLCJ0ZXh0IiwiY29tcHJlc3NlZE9iaiIsInByb3BlcnR5IiwibmV3SnBhdGgiLCJpc0xlYWYiLCJpc0xlYWZUYWciLCJhc3NpZ25BdHRyaWJ1dGVzIiwianBhdGgiLCJhdHJyTmFtZSIsInByb3BDb3VudCIsIm5vZGUiLCJoZXhSZWdleCIsIm51bVJlZ2V4IiwiTnVtYmVyIiwicGFyc2VJbnQiLCJ3aW5kb3ciLCJwYXJzZUZsb2F0IiwiY29uc2lkZXIiLCJkZWNpbWFsUG9pbnQiLCJ0cmltbWVkU3RyIiwic2tpcExpa2UiLCJ0ZXN0Iiwic2lnbiIsIm51bVRyaW1tZWRCeVplcm9zIiwibnVtU3RyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsImRlZmluaXRpb24iLCJwcm9wIiwidG9TdHJpbmdUYWciLCJnZXRIdHRwSGFuZGxlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24iLCJydW50aW1lQ29uZmlnIiwiaHR0cEhhbmRsZXIiLCJzZXRIdHRwSGFuZGxlciIsImhhbmRsZXIiLCJ1cGRhdGVIdHRwQ2xpZW50Q29uZmlnIiwiaHR0cEhhbmRsZXJDb25maWdzIiwicmVzb2x2ZUh0dHBIYW5kbGVyUnVudGltZUNvbmZpZyIsImh0dHBIYW5kbGVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiIsIkh0dHBBdXRoTG9jYXRpb24iLCJIdHRwQXBpS2V5QXV0aExvY2F0aW9uIiwiRW5kcG9pbnRVUkxTY2hlbWUiLCJBbGdvcml0aG1JZCIsIkZpZWxkUG9zaXRpb24iLCJTTUlUSFlfQ09OVEVYVF9LRVkiLCJJbmlTZWN0aW9uVHlwZSIsIlJlcXVlc3RIYW5kbGVyUHJvdG9jb2wiLCJtZXRob2QiLCJob3N0bmFtZSIsInBvcnQiLCJxdWVyeSIsImhlYWRlcnMiLCJwcm90b2NvbCIsInNsaWNlIiwicGF0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJmcmFnbWVudCIsImlzSW5zdGFuY2UiLCJyZXF1ZXN0IiwicmVxIiwiY2xvbmUiLCJjbG9uZWQiLCJyZWR1Y2UiLCJjYXJyeSIsInBhcmFtTmFtZSIsInBhcmFtIiwic3RhdHVzQ29kZSIsInJlYXNvbiIsInJlc3BvbnNlIiwicmVzcCIsImhvc3RIZWFkZXJNaWRkbGV3YXJlT3B0aW9ucyIsInByaW9yaXR5Iiwib3ZlcnJpZGUiLCJnZXRIb3N0SGVhZGVyUGx1Z2luIiwiYXBwbHlUb1N0YWNrIiwiY2xpZW50U3RhY2siLCJhc3luYyIsImFyZ3MiLCJoYW5kbGVyUHJvdG9jb2wiLCJyZXF1ZXN0SGFuZGxlciIsImhvc3QiLCJob3N0SGVhZGVyTWlkZGxld2FyZSIsImxvZ2dlck1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0TG9nZ2VyUGx1Z2luIiwiY29udGV4dCIsImNsaWVudE5hbWUiLCJjb21tYW5kTmFtZSIsImxvZ2dlciIsImR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zIiwib3ZlcnJpZGVJbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyIsIm92ZXJyaWRlT3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nIiwiaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2ciLCJvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2ciLCIkbWV0YWRhdGEiLCJvdXRwdXRXaXRob3V0TWV0YWRhdGEiLCJvdXRwdXQiLCJpbmZvIiwiVFJBQ0VfSURfSEVBREVSX05BTUUiLCJhZGRSZWN1cnNpb25EZXRlY3Rpb25NaWRkbGV3YXJlT3B0aW9ucyIsImdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiIsInJ1bnRpbWUiLCJmdW5jdGlvbk5hbWUiLCJwcm9jZXNzIiwiZW52IiwidHJhY2VJZCIsIm5vbkVtcHR5U3RyaW5nIiwicmVjdXJzaW9uRGV0ZWN0aW9uTWlkZGxld2FyZSIsIm1lbW9pemUiLCJwcm92aWRlciIsImlzRXhwaXJlZCIsInJlcXVpcmVzUmVmcmVzaCIsInJlc29sdmVkIiwicGVuZGluZyIsImhhc1Jlc3VsdCIsImlzQ29uc3RhbnQiLCJjb2FsZXNjZVByb3ZpZGVyIiwiZm9yY2VSZWZyZXNoIiwiU0hPUlRfVE9fSEVYIiwiSEVYX1RPX1NIT1JUIiwiZW5jb2RlZEJ5dGUiLCJ0b0xvd2VyQ2FzZSIsInRvSGV4Iiwib3V0IiwiSW50NjQiLCJmcm9tTnVtYmVyIiwibnVtYmVyIiwicmVtYWluaW5nIiwiTWF0aCIsImFicyIsInJvdW5kIiwibmVnYXRlIiwidmFsdWVPZiIsIm5lZ2F0aXZlIiwidG9VdGY4IiwiY2h1bmtzIiwiaGVhZGVyTmFtZSIsImZvcm1hdEhlYWRlclZhbHVlIiwicG9zaXRpb24iLCJjaHVuayIsImhlYWRlciIsInR5cGUiLCJzaG9ydFZpZXciLCJEYXRhVmlldyIsInNldFVpbnQ4Iiwic2V0SW50MTYiLCJpbnRWaWV3Iiwic2V0SW50MzIiLCJsb25nQnl0ZXMiLCJiaW5WaWV3Iiwic2V0VWludDE2IiwiYmluQnl0ZXMiLCJ1dGY4Qnl0ZXMiLCJzdHJWaWV3Iiwic3RyQnl0ZXMiLCJ0c0J5dGVzIiwiVVVJRF9QQVRURVJOIiwidXVpZEJ5dGVzIiwiZnJvbUhleCIsIm5hbWVMZW5ndGgiLCJnZXRVaW50OCIsIkJPT0xFQU5fVEFHIiwiQllURV9UQUciLCJnZXRJbnQ4IiwiU0hPUlRfVEFHIiwiZ2V0SW50MTYiLCJJTlRfVEFHIiwiZ2V0SW50MzIiLCJMT05HX1RBRyIsImJpbmFyeUxlbmd0aCIsImdldFVpbnQxNiIsIkJJTkFSWV9UQUciLCJzdHJpbmdMZW5ndGgiLCJTVFJJTkdfVEFHIiwiVElNRVNUQU1QX1RBRyIsIlVVSURfVEFHIiwic3ViYXJyYXkiLCJIRUFERVJfVkFMVUVfVFlQRSIsInByb21pc2lmaWVkIiwiaXNBcnJheUJ1ZmZlciIsImFyZyIsInJlcXVpcmUiLCJvZmZzZXQiLCJmcm9tU3RyaW5nIiwiZW5jb2RpbmciLCJidWYiLCJ0b1VpbnQ4QXJyYXkiLCJBTVpfREFURV9RVUVSWV9QQVJBTSIsIlNJR05BVFVSRV9RVUVSWV9QQVJBTSIsIlRPS0VOX1FVRVJZX1BBUkFNIiwiQVVUSF9IRUFERVIiLCJBTVpfREFURV9IRUFERVIiLCJHRU5FUkFURURfSEVBREVSUyIsIlNJR05BVFVSRV9IRUFERVIiLCJTSEEyNTZfSEVBREVSIiwiVE9LRU5fSEVBREVSIiwiQUxXQVlTX1VOU0lHTkFCTEVfSEVBREVSUyIsImF1dGhvcml6YXRpb24iLCJjb25uZWN0aW9uIiwiZXhwZWN0IiwicHJhZ21hIiwicmVmZXJlciIsInRlIiwidHJhaWxlciIsInVwZ3JhZGUiLCJQUk9YWV9IRUFERVJfUEFUVEVSTiIsIlNFQ19IRUFERVJfUEFUVEVSTiIsIkFMR09SSVRITV9JREVOVElGSUVSIiwiRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIiLCJLRVlfVFlQRV9JREVOVElGSUVSIiwic2lnbmluZ0tleUNhY2hlIiwiY2FjaGVRdWV1ZSIsImNyZWF0ZVNjb3BlIiwic2hvcnREYXRlIiwicmVnaW9uIiwic2VydmljZSIsImhtYWMiLCJjdG9yIiwic2VjcmV0IiwiaGFzaCIsImdldENhbm9uaWNhbEhlYWRlcnMiLCJ1bnNpZ25hYmxlSGVhZGVycyIsInNpZ25hYmxlSGVhZGVycyIsImNhbm9uaWNhbCIsInNvcnQiLCJjYW5vbmljYWxIZWFkZXJOYW1lIiwiZXNjYXBlVXJpIiwidXJpIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGV4RW5jb2RlIiwidG9VcHBlckNhc2UiLCJnZXRQYXlsb2FkSGFzaCIsImhhc2hDb25zdHJ1Y3RvciIsImhhc2hDdG9yIiwiY2xvbmVSZXF1ZXN0IiwicmVzdCIsInByZXBhcmVSZXF1ZXN0IiwiYXBwbHlDaGVja3N1bSIsImNyZWRlbnRpYWxzIiwic2hhMjU2IiwidXJpRXNjYXBlUGF0aCIsImhlYWRlck1hcnNoYWxsZXIiLCJyZWdpb25Qcm92aWRlciIsImNyZWRlbnRpYWxQcm92aWRlciIsInByZXNpZ24iLCJvcmlnaW5hbFJlcXVlc3QiLCJzaWduaW5nRGF0ZSIsImV4cGlyZXNJbiIsInVuaG9pc3RhYmxlSGVhZGVycyIsInNpZ25pbmdSZWdpb24iLCJzaWduaW5nU2VydmljZSIsInZhbGlkYXRlUmVzb2x2ZWRDcmVkZW50aWFscyIsImxvbmdEYXRlIiwiZm9ybWF0RGF0ZSIsInNjb3BlIiwibG5hbWUiLCJtb3ZlSGVhZGVyc1RvUXVlcnkiLCJzZXNzaW9uVG9rZW4iLCJhY2Nlc3NLZXlJZCIsImNhbm9uaWNhbEhlYWRlcnMiLCJnZXRDYW5vbmljYWxIZWFkZXJMaXN0IiwiZ2V0U2lnbmF0dXJlIiwiZ2V0U2lnbmluZ0tleSIsImNyZWF0ZUNhbm9uaWNhbFJlcXVlc3QiLCJ0b1NpZ24iLCJzaWduU3RyaW5nIiwicGF5bG9hZCIsInNpZ25FdmVudCIsInNpZ25NZXNzYWdlIiwic2lnblJlcXVlc3QiLCJwcmlvclNpZ25hdHVyZSIsImhhc2hlZFBheWxvYWQiLCJoYXNoZWRIZWFkZXJzIiwic3RyaW5nVG9TaWduIiwic2lnbmFibGVNZXNzYWdlIiwic2lnbmF0dXJlIiwicmVxdWVzdFRvU2lnbiIsInBheWxvYWRIYXNoIiwic291Z2h0SGVhZGVyIiwiaGFzSGVhZGVyIiwic29ydGVkSGVhZGVycyIsImdldENhbm9uaWNhbFBhdGgiLCJzZXJpYWxpemVkIiwiZmlsdGVyIiwiZ2V0Q2Fub25pY2FsUXVlcnkiLCJjcmVhdGVTdHJpbmdUb1NpZ24iLCJjcmVkZW50aWFsU2NvcGUiLCJjYW5vbmljYWxSZXF1ZXN0IiwiaGFzaGVkUmVxdWVzdCIsIm5vcm1hbGl6ZWRQYXRoU2VnbWVudHMiLCJwYXRoU2VnbWVudCIsIm5vcm1hbGl6ZWRQYXRoIiwia2V5UHJvbWlzZSIsInNoYTI1NkNvbnN0cnVjdG9yIiwiY2FjaGVLZXkiLCJzZWNyZXRBY2Nlc3NLZXkiLCJzaWduYWJsZSIsIm5vdyIsInRpbWUiLCJ0b0RhdGUiLCJ0b0lTT1N0cmluZyIsInJlc29sdmVBd3NBdXRoQ29uZmlnIiwibm9ybWFsaXplZENyZWRzIiwibm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyIiwiY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciIsInNpZ25pbmdFc2NhcGVQYXRoIiwic3lzdGVtQ2xvY2tPZmZzZXQiLCJzaWduZXIiLCJyZWdpb25JbmZvUHJvdmlkZXIiLCJ1c2VGaXBzRW5kcG9pbnQiLCJ1c2VEdWFsc3RhY2tFbmRwb2ludCIsInJlZ2lvbkluZm8iLCJzaWduaW5nTmFtZSIsInNlcnZpY2VJZCIsInBhcmFtcyIsInNpZ25lckNvbnN0cnVjdG9yIiwiYXV0aFNjaGVtZSIsImRlZmF1bHRTaWduaW5nTmFtZSIsInByb3BlcnRpZXMiLCJleHBpcmF0aW9uIiwiZ2V0VGltZSIsImdldFNrZXdDb3JyZWN0ZWREYXRlIiwiZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0IiwiY2xvY2tUaW1lIiwiY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0IiwiY2xvY2tUaW1lSW5NcyIsImlzQ2xvY2tTa2V3ZWQiLCJnZXREYXRlSGVhZGVyIiwiZGF0ZSIsImF3c0F1dGhNaWRkbGV3YXJlT3B0aW9ucyIsInJlbGF0aW9uIiwidG9NaWRkbGV3YXJlIiwiZ2V0QXdzQXV0aFBsdWdpbiIsImFkZFJlbGF0aXZlVG8iLCJlbmRwb2ludFYyIiwiYXV0aFNjaGVtZXMiLCJtdWx0aVJlZ2lvbk92ZXJyaWRlIiwic2lnbmluZ1JlZ2lvblNldCIsInNpZ25lZFJlcXVlc3QiLCJzaWduaW5nT3B0aW9ucyIsInMzRXhwcmVzc0lkZW50aXR5Iiwic2lnVjRNdWx0aVJlZ2lvbiIsInNpZ25XaXRoQ3JlZGVudGlhbHMiLCJjYXRjaCIsInNlcnZlclRpbWUiLCJTZXJ2ZXJUaW1lIiwiJHJlc3BvbnNlIiwiZGF0ZUhlYWRlciIsImF3c0F1dGhNaWRkbGV3YXJlIiwicmVzb2x2ZVVzZXJBZ2VudENvbmZpZyIsImN1c3RvbVVzZXJBZ2VudCIsIklQX1Y0X1JFR0VYIiwiaXNJcEFkZHJlc3MiLCJWQUxJRF9IT1NUX0xBQkVMX1JFR0VYIiwiaXNWYWxpZEhvc3RMYWJlbCIsImFsbG93U3ViRG9tYWlucyIsImxhYmVscyIsImN1c3RvbUVuZHBvaW50RnVuY3Rpb25zIiwiZGVidWdJZCIsInRvRGVidWdTdHJpbmciLCJyZWYiLCJmbiIsImFyZ3YiLCJFbmRwb2ludEVycm9yIiwic3VwZXIiLCJnZXRBdHRyIiwicGFydHMiLCJwYXRoTGlzdCIsInBhcnQiLCJzcXVhcmVCcmFja2V0SW5kZXgiLCJhcnJheUluZGV4IiwiaXNOYU4iLCJnZXRBdHRyUGF0aExpc3QiLCJhY2MiLCJERUZBVUxUX1BPUlRTIiwiSFRUUCIsIkhUVFBTIiwiZW5kcG9pbnRGdW5jdGlvbnMiLCJib29sZWFuRXF1YWxzIiwidmFsdWUxIiwidmFsdWUyIiwiaXNTZXQiLCJub3QiLCJwYXJzZVVSTCIsIndoYXR3Z1VSTCIsIlVSTCIsInVybCIsImVudHJpZXMiLCJjb25zb2xlIiwidXJsU3RyaW5nIiwiaHJlZiIsInBhdGhuYW1lIiwic2NoZW1lIiwidmFsdWVzIiwiaXNJcCIsImF1dGhvcml0eSIsInN0cmluZ0VxdWFscyIsInN0b3AiLCJyZXZlcnNlIiwidXJpRW5jb2RlIiwiZXZhbHVhdGVUZW1wbGF0ZSIsInRlbXBsYXRlIiwiZXZhbHVhdGVkVGVtcGxhdGVBcnIiLCJ0ZW1wbGF0ZUNvbnRleHQiLCJlbmRwb2ludFBhcmFtcyIsInJlZmVyZW5jZVJlY29yZCIsImN1cnJlbnRJbmRleCIsIm9wZW5pbmdCcmFjZUluZGV4IiwiY2xvc2luZ0JyYWNlSW5kZXgiLCJwYXJhbWV0ZXJOYW1lIiwicmVmTmFtZSIsImV2YWx1YXRlRXhwcmVzc2lvbiIsImtleU5hbWUiLCJjYWxsRnVuY3Rpb24iLCJnZXRSZWZlcmVuY2VWYWx1ZSIsImV2YWx1YXRlZEFyZ3MiLCJmblNlZ21lbnRzIiwiZXZhbHVhdGVDb25kaXRpb24iLCJmbkFyZ3MiLCJkZWJ1ZyIsInRvQXNzaWduIiwiZXZhbHVhdGVDb25kaXRpb25zIiwiY29uZGl0aW9ucyIsImNvbmRpdGlvbnNSZWZlcmVuY2VSZWNvcmQiLCJjb25kaXRpb24iLCJnZXRFbmRwb2ludEhlYWRlcnMiLCJoZWFkZXJLZXkiLCJoZWFkZXJWYWwiLCJoZWFkZXJWYWxFbnRyeSIsInByb2Nlc3NlZEV4cHIiLCJnZXRFbmRwb2ludFByb3BlcnR5IiwicHJvcGVydHlFbnRyeSIsImdldEVuZHBvaW50UHJvcGVydGllcyIsInByb3BlcnR5S2V5IiwicHJvcGVydHlWYWwiLCJnZXRFbmRwb2ludFVybCIsImVuZHBvaW50VXJsIiwiZXhwcmVzc2lvbiIsImV2YWx1YXRlRW5kcG9pbnRSdWxlIiwiZW5kcG9pbnRSdWxlIiwiZW5kcG9pbnQiLCJlbmRwb2ludFJ1bGVPcHRpb25zIiwiZXZhbHVhdGVFcnJvclJ1bGUiLCJlcnJvclJ1bGUiLCJldmFsdWF0ZVRyZWVSdWxlIiwidHJlZVJ1bGUiLCJydWxlcyIsImV2YWx1YXRlUnVsZXMiLCJydWxlIiwiZW5kcG9pbnRPclVuZGVmaW5lZCIsInJlc29sdmVFbmRwb2ludCIsInJ1bGVTZXRPYmplY3QiLCJwYXJhbWV0ZXJzIiwicGFyYW1zV2l0aERlZmF1bHQiLCJwYXJhbUtleSIsInBhcmFtRGVmYXVsdFZhbHVlIiwicmVxdWlyZWRQYXJhbXMiLCJyZXF1aXJlZCIsInJlcXVpcmVkUGFyYW0iLCJFbmRwb2ludCIsImdpdmVuRW5kcG9pbnQiLCJpc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0Iiwic2VsZWN0ZWRQYXJ0aXRpb25zSW5mbyIsImF3c0VuZHBvaW50RnVuY3Rpb25zIiwicGFyc2VBcm4iLCJzZWdtZW50cyIsImFybiIsInBhcnRpdGlvbiIsImFjY291bnRJZCIsInJlc291cmNlSWQiLCJwYXJ0aXRpb25zIiwicmVnaW9ucyIsIm91dHB1dHMiLCJyZWdpb25EYXRhIiwicmVnaW9uUmVnZXgiLCJERUZBVUxUX1BBUlRJVElPTiIsImZpbmQiLCJpZCIsImF3cyIsIlVTRVJfQUdFTlQiLCJYX0FNWl9VU0VSX0FHRU5UIiwiVUFfTkFNRV9FU0NBUEVfUkVHRVgiLCJVQV9WQUxVRV9FU0NBUEVfUkVHRVgiLCJlc2NhcGVVc2VyQWdlbnQiLCJ1c2VyQWdlbnRQYWlyIiwidmVyc2lvbiIsInByZWZpeFNlcGFyYXRvckluZGV4IiwidWFOYW1lIiwiZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMiLCJnZXRVc2VyQWdlbnRQbHVnaW4iLCJjb25maWciLCJ1c2VyQWdlbnQiLCJkZWZhdWx0VXNlckFnZW50IiwiZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyIiwic2RrVXNlckFnZW50VmFsdWUiLCJub3JtYWxVQVZhbHVlIiwic2VjdGlvbiIsIlNlbGVjdG9yVHlwZSIsImJvb2xlYW5TZWxlY3RvciIsIk5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyIsImVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvciIsIkVOViIsImNvbmZpZ0ZpbGVTZWxlY3RvciIsInByb2ZpbGUiLCJDT05GSUciLCJOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TIiwiTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMiLCJOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TIiwicHJlZmVycmVkRmlsZSIsImlzRmlwc1JlZ2lvbiIsImdldFJlYWxSZWdpb24iLCJyZXNvbHZlUmVnaW9uQ29uZmlnIiwicHJvdmlkZWRSZWdpb24iLCJDT05URU5UX0xFTkdUSF9IRUFERVIiLCJjb250ZW50TGVuZ3RoTWlkZGxld2FyZU9wdGlvbnMiLCJnZXRDb250ZW50TGVuZ3RoUGx1Z2luIiwiYm9keUxlbmd0aENoZWNrZXIiLCJET01BSU5fUEFUVEVSTiIsIklQX0FERFJFU1NfUEFUVEVSTiIsIkRPVFNfUEFUVEVSTiIsImNyZWF0ZUNvbmZpZ1ZhbHVlUHJvdmlkZXIiLCJjb25maWdLZXkiLCJjYW5vbmljYWxFbmRwb2ludFBhcmFtS2V5IiwiY29uZmlnUHJvdmlkZXIiLCJjb25maWdWYWx1ZSIsIlByb3ZpZGVyRXJyb3IiLCJ0cnlOZXh0TGluayIsImNoYWluIiwicHJvdmlkZXJzIiwibGFzdFByb3ZpZGVyRXJyb3IiLCJDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IiLCJob21lRGlyQ2FjaGUiLCJnZXRIb21lRGlyIiwiSE9NRSIsIlVTRVJQUk9GSUxFIiwiSE9NRVBBVEgiLCJIT01FRFJJVkUiLCJzZXAiLCJob21lRGlyQ2FjaGVLZXkiLCJnZXRldWlkIiwiaG9tZWRpciIsIkVOVl9QUk9GSUxFIiwiZ2V0UHJvZmlsZU5hbWUiLCJpbml0IiwiZ2V0U1NPVG9rZW5GaWxlcGF0aCIsImNhY2hlTmFtZSIsImNyZWF0ZUhhc2giLCJyZWFkRmlsZSIsImdldFNTT1Rva2VuRnJvbUZpbGUiLCJzc29Ub2tlbkZpbGVwYXRoIiwic3NvVG9rZW5UZXh0IiwiZ2V0Q29uZmlnRGF0YSIsInNlY3Rpb25zIiwiQ09ORklHX1BSRUZJWF9TRVBBUkFUT1IiLCJQUk9GSUxFIiwiZ2V0Q29uZmlnRmlsZXBhdGgiLCJnZXRDcmVkZW50aWFsc0ZpbGVwYXRoIiwicHJlZml4S2V5UmVnZXgiLCJwcm9maWxlTmFtZUJsb2NrTGlzdCIsInBhcnNlSW5pIiwiaW5pRGF0YSIsImN1cnJlbnRTZWN0aW9uIiwiY3VycmVudFN1YlNlY3Rpb24iLCJpbmlMaW5lIiwidHJpbW1lZExpbmUiLCJzZWN0aW9uTmFtZSIsImluZGV4T2ZFcXVhbHNTaWduIiwidHJpbVN0YXJ0IiwiZmlsZVByb21pc2VzSGFzaCIsInNsdXJwRmlsZSIsImlnbm9yZUNhY2hlIiwic3dhbGxvd0Vycm9yIiwibG9hZFNoYXJlZENvbmZpZ0ZpbGVzIiwiZmlsZXBhdGgiLCJjb25maWdGaWxlcGF0aCIsInBhcnNlZEZpbGVzIiwiYWxsIiwiY29uZmlnRmlsZSIsImNyZWRlbnRpYWxzRmlsZSIsImdldFNzb1Nlc3Npb25EYXRhIiwiU1NPX1NFU1NJT04iLCJsb2FkU3NvU2Vzc2lvbkRhdGEiLCJwYXJzZUtub3duRmlsZXMiLCJmaWxlcyIsIm1lcmdlZCIsImZpbGUiLCJtZXJnZUNvbmZpZ0ZpbGVzIiwibG9hZENvbmZpZyIsImRlZmF1bHRWYWx1ZSIsImNvbmZpZ3VyYXRpb24iLCJlbnZWYXJTZWxlY3RvciIsImNvbmZpZ1NlbGVjdG9yIiwicHJvZmlsZUZyb21DcmVkZW50aWFscyIsInByb2ZpbGVGcm9tQ29uZmlnIiwibWVyZ2VkUHJvZmlsZSIsImZyb21TaGFyZWRDb25maWdGaWxlcyIsImlzRnVuY3Rpb24iLCJzdGF0aWNWYWx1ZSIsIkVOVl9FTkRQT0lOVF9VUkwiLCJDT05GSUdfRU5EUE9JTlRfVVJMIiwicGFyc2VVcmwiLCJxdWVyeXN0cmluZyIsInBhaXIiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwidG9FbmRwb2ludFYxIiwicmVzb2x2ZVBhcmFtcyIsImNvbW1hbmRJbnB1dCIsImluc3RydWN0aW9uc1N1cHBsaWVyIiwiY2xpZW50Q29uZmlnIiwiaW5zdHJ1Y3Rpb25zIiwiZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMiLCJpbnN0cnVjdGlvbiIsImJ1Y2tldCIsIkJ1Y2tldCIsImJ1Y2tldE5hbWUiLCJhY2NvdW50IiwidHlwZU9ySWQiLCJpc0FybiIsImlzVmFsaWRBcm4iLCJCb29sZWFuIiwiaXNBcm5CdWNrZXROYW1lIiwiRm9yY2VQYXRoU3R5bGUiLCJEaXNhYmxlTXVsdGlSZWdpb25BY2Nlc3NQb2ludHMiLCJkaXNhYmxlTXVsdGlSZWdpb25BY2Nlc3NQb2ludHMiLCJEaXNhYmxlTVJBUCIsInJlc29sdmVQYXJhbXNGb3JTMyIsImVuZHBvaW50TWlkZGxld2FyZSIsImVuZHBvaW50RnJvbUNvbmZpZyIsInNlcnZpY2VTdWZmaXhQYXJ0cyIsInciLCJzZXJ2aWNlcyIsInNlcnZpY2VzU2VjdGlvbiIsInNlcnZpY2VQcmVmaXhQYXJ0cyIsImdldEVuZHBvaW50VXJsQ29uZmlnIiwiZ2V0RW5kcG9pbnRGcm9tQ29uZmlnIiwiZW5kcG9pbnRQcm92aWRlciIsImdldEVuZHBvaW50RnJvbUluc3RydWN0aW9ucyIsInNtaXRoeUNvbnRleHQiLCJnZXRTbWl0aHlDb250ZXh0IiwiaHR0cEF1dGhPcHRpb24iLCJzZWxlY3RlZEh0dHBBdXRoU2NoZW1lIiwic2lnbmluZ1Byb3BlcnRpZXMiLCJzaWduaW5nX3JlZ2lvbiIsInNpZ25pbmdfc2VydmljZSIsImRlc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24iLCJzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbiIsImdldFNlcmRlUGx1Z2luIiwic2VyaWFsaXplciIsImRlc2VyaWFsaXplciIsImNvbW1hbmRTdGFjayIsImhpbnQiLCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlIiwidXJsUGFyc2VyIiwic2VyaWFsaXplck1pZGRsZXdhcmUiLCJlbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0RW5kcG9pbnRQbHVnaW4iLCJyZXNvbHZlRW5kcG9pbnRDb25maWciLCJ0bHMiLCJjdXN0b21FbmRwb2ludFByb3ZpZGVyIiwiaXNDdXN0b21FbmRwb2ludCIsIlJFVFJZX01PREVTIiwiREVGQVVMVF9SRVRSWV9NT0RFIiwiU1RBTkRBUkQiLCJUSFJPVFRMSU5HX0VSUk9SX0NPREVTIiwiVFJBTlNJRU5UX0VSUk9SX0NPREVTIiwiVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUyIsIk5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTIiwiaHR0cFN0YXR1c0NvZGUiLCIkcmV0cnlhYmxlIiwidGhyb3R0bGluZyIsImlzVHJhbnNpZW50RXJyb3IiLCJjdXJyZW50Q2FwYWNpdHkiLCJlbmFibGVkIiwibGFzdE1heFJhdGUiLCJtZWFzdXJlZFR4UmF0ZSIsInJlcXVlc3RDb3VudCIsImxhc3RUaW1lc3RhbXAiLCJ0aW1lV2luZG93IiwiYmV0YSIsIm1pbkNhcGFjaXR5IiwibWluRmlsbFJhdGUiLCJzY2FsZUNvbnN0YW50Iiwic21vb3RoIiwiY3VycmVudFRpbWVJblNlY29uZHMiLCJnZXRDdXJyZW50VGltZUluU2Vjb25kcyIsImxhc3RUaHJvdHRsZVRpbWUiLCJsYXN0VHhSYXRlQnVja2V0IiwiZmxvb3IiLCJmaWxsUmF0ZSIsIm1heENhcGFjaXR5IiwiZ2V0U2VuZFRva2VuIiwiYWNxdWlyZVRva2VuQnVja2V0IiwiYW1vdW50IiwicmVmaWxsVG9rZW5CdWNrZXQiLCJkZWxheSIsInNldFRpbWVvdXQiLCJ0aW1lc3RhbXAiLCJmaWxsQW1vdW50IiwibWluIiwidXBkYXRlQ2xpZW50U2VuZGluZ1JhdGUiLCJjYWxjdWxhdGVkUmF0ZSIsInVwZGF0ZU1lYXN1cmVkUmF0ZSIsInJhdGVUb1VzZSIsImNhbGN1bGF0ZVRpbWVXaW5kb3ciLCJjdWJpY1Rocm90dGxlIiwiZW5hYmxlVG9rZW5CdWNrZXQiLCJjdWJpY1N1Y2Nlc3MiLCJuZXdSYXRlIiwidXBkYXRlVG9rZW5CdWNrZXRSYXRlIiwiZ2V0UHJlY2lzZSIsInBvdyIsIm1heCIsInRpbWVCdWNrZXQiLCJjdXJyZW50UmF0ZSIsInRvRml4ZWQiLCJjcmVhdGVEZWZhdWx0UmV0cnlUb2tlbiIsInJldHJ5RGVsYXkiLCJyZXRyeUNvdW50IiwicmV0cnlDb3N0IiwiZ2V0UmV0cnlDb3VudCIsImdldFJldHJ5RGVsYXkiLCJnZXRSZXRyeUNvc3QiLCJtYXhBdHRlbXB0cyIsIm1vZGUiLCJjYXBhY2l0eSIsInJldHJ5QmFja29mZlN0cmF0ZWd5IiwiZGVsYXlCYXNlIiwiY29tcHV0ZU5leHRCYWNrb2ZmRGVsYXkiLCJhdHRlbXB0cyIsInJhbmRvbSIsInNldERlbGF5QmFzZSIsImdldERlZmF1bHRSZXRyeUJhY2tvZmZTdHJhdGVneSIsIm1heEF0dGVtcHRzUHJvdmlkZXIiLCJhY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4iLCJyZXRyeVRva2VuU2NvcGUiLCJyZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5IiwidG9rZW4iLCJlcnJvckluZm8iLCJnZXRNYXhBdHRlbXB0cyIsInNob3VsZFJldHJ5IiwiZXJyb3JUeXBlIiwiZGVsYXlGcm9tRXJyb3JUeXBlIiwicmV0cnlBZnRlckhpbnQiLCJjYXBhY2l0eUNvc3QiLCJnZXRDYXBhY2l0eUNvc3QiLCJyZWNvcmRTdWNjZXNzIiwiZ2V0Q2FwYWNpdHkiLCJ3YXJuIiwidG9rZW5Ub1JlbmV3IiwiaXNSZXRyeWFibGVFcnJvciIsIkFkYXB0aXZlUmV0cnlTdHJhdGVneSIsIkFEQVBUSVZFIiwicmF0ZUxpbWl0ZXIiLCJzdGFuZGFyZFJldHJ5U3RyYXRlZ3kiLCJFTlZfTUFYX0FUVEVNUFRTIiwiQ09ORklHX01BWF9BVFRFTVBUUyIsIk5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMiLCJtYXhBdHRlbXB0IiwicmVzb2x2ZVJldHJ5Q29uZmlnIiwicmV0cnlTdHJhdGVneSIsInJldHJ5TW9kZSIsIk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyIsInJuZHM4UG9vbCIsInBvb2xQdHIiLCJybmciLCJieXRlVG9IZXgiLCJ1dWlkIiwicm5kcyIsImdldFJldHJ5RXJyb3JJbmZvIiwiZ2V0UmV0cnlFcnJvclR5cGUiLCJnZXRSZXRyeUFmdGVySGludCIsImlzU2VydmVyRXJyb3IiLCJyZXRyeU1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0UmV0cnlQbHVnaW4iLCJpc1JldHJ5U3RyYXRlZ3lWMiIsInJldHJ5IiwicmV0cnlUb2tlbiIsImxhc3RFcnJvciIsInRvdGFsUmV0cnlEZWxheSIsInJldHJ5RXJyb3JJbmZvIiwicmVmcmVzaEVycm9yIiwicmV0cnlNaWRkbGV3YXJlIiwicmV0cnlBZnRlckhlYWRlck5hbWUiLCJyZXRyeUFmdGVyIiwicmV0cnlBZnRlclNlY29uZHMiLCJOb09wTG9nZ2VyIiwidHJhY2UiLCJnZXRBbGxBbGlhc2VzIiwiYWxpYXNlcyIsIl9hbGlhc2VzIiwiYWxpYXMiLCJnZXRNaWRkbGV3YXJlTmFtZVdpdGhBbGlhc2VzIiwiY29uc3RydWN0U3RhY2siLCJhYnNvbHV0ZUVudHJpZXMiLCJyZWxhdGl2ZUVudHJpZXMiLCJpZGVudGlmeU9uUmVzb2x2ZSIsImVudHJpZXNOYW1lU2V0IiwiU2V0IiwiY2xvbmVUbyIsInRvU3RhY2siLCJmb3JFYWNoIiwiZW50cnkiLCJtaWRkbGV3YXJlIiwic3RhY2siLCJleHBhbmRSZWxhdGl2ZU1pZGRsZXdhcmVMaXN0IiwiZXhwYW5kZWRNaWRkbGV3YXJlTGlzdCIsImJlZm9yZSIsImFmdGVyIiwiZ2V0TWlkZGxld2FyZUxpc3QiLCJub3JtYWxpemVkQWJzb2x1dGVFbnRyaWVzIiwibm9ybWFsaXplZFJlbGF0aXZlRW50cmllcyIsIm5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcCIsIm5vcm1hbGl6ZWRFbnRyeSIsIm1haW5DaGFpbiIsInN0ZXBXZWlnaHRzIiwicHJpb3JpdHlXZWlnaHRzIiwid2hvbGVMaXN0Iiwic29tZSIsInRvT3ZlcnJpZGVJbmRleCIsImZpbmRJbmRleCIsInRvT3ZlcnJpZGUiLCJzcGxpY2UiLCJ1c2UiLCJwbHVnaW4iLCJyZW1vdmUiLCJ0b1JlbW92ZSIsImlzUmVtb3ZlZCIsImZpbHRlckNiIiwiZGVsZXRlIiwicmVtb3ZlQnlOYW1lIiwicmVtb3ZlQnlSZWZlcmVuY2UiLCJyZW1vdmVCeVRhZyIsImlkZW50aWZ5IiwibXciLCJ0b2dnbGUiLCJsb2ciLCJpbml0aWFsaXplIiwic2VyaWFsaXplIiwiZmluYWxpemVSZXF1ZXN0IiwiZGVzZXJpYWxpemUiLCJoaWdoIiwibm9ybWFsIiwibG93IiwiQ2xpZW50IiwibWlkZGxld2FyZVN0YWNrIiwic2VuZCIsImNvbW1hbmQiLCJvcHRpb25zT3JDYiIsImNiIiwiY2FsbGJhY2siLCJyZXNvbHZlTWlkZGxld2FyZSIsImRlc3Ryb3kiLCJCQVNFNjRfUkVHRVgiLCJmcm9tQmFzZTY0IiwidG9CYXNlNjQiLCJVaW50OEFycmF5QmxvYkFkYXB0ZXIiLCJzb3VyY2UiLCJtdXRhdGUiLCJ0cmFuc2Zvcm1Gcm9tU3RyaW5nIiwidHJhbnNmb3JtVG9TdHJpbmciLCJ0cmFuc2Zvcm1lZEhlYWRlcnMiLCJoZWFkZXJWYWx1ZXMiLCJOb2RlSHR0cEhhbmRsZXIiLCJfb3B0aW9ucyIsInJlc29sdmVEZWZhdWx0Q29uZmlnIiwicmVxdWVzdFRpbWVvdXQiLCJjb25uZWN0aW9uVGltZW91dCIsInNvY2tldFRpbWVvdXQiLCJodHRwQWdlbnQiLCJodHRwc0FnZW50Iiwia2VlcEFsaXZlIiwibWF4U29ja2V0cyIsImhhbmRsZSIsImFib3J0U2lnbmFsIiwiX3Jlc29sdmUiLCJfcmVqZWN0Iiwid3JpdGVSZXF1ZXN0Qm9keVByb21pc2UiLCJhYm9ydGVkIiwiYWJvcnRFcnJvciIsImlzU1NMIiwicXVlcnlTdHJpbmciLCJpTGVuIiwicXNFbnRyeSIsImF1dGgiLCJub2RlSHR0cHNPcHRpb25zIiwiYWdlbnQiLCJyZXMiLCJzdGF0dXNNZXNzYWdlIiwib24iLCJ0aW1lb3V0SW5NcyIsInRpbWVvdXRJZCIsInNvY2tldCIsImNvbm5lY3RpbmciLCJjbGVhclRpbWVvdXQiLCJzZXRDb25uZWN0aW9uVGltZW91dCIsInNldFNvY2tldFRpbWVvdXQiLCJvbmFib3J0IiwiYWJvcnQiLCJrZWVwQWxpdmVNc2VjcyIsInNldEtlZXBBbGl2ZSIsInNldFNvY2tldEtlZXBBbGl2ZSIsImh0dHBSZXF1ZXN0IiwibWF4Q29udGludWVUaW1lb3V0TXMiLCJoYXNFcnJvciIsInJhY2UiLCJSZWFkYWJsZSIsInBpcGUiLCJlbmQiLCJ3cml0ZUJvZHkiLCJDb2xsZWN0b3IiLCJXcml0YWJsZSIsImJ1ZmZlcmVkQnl0ZXMiLCJfd3JpdGUiLCJzdHJlYW0iLCJjb2xsZWN0b3IiLCJzdHJlYW1Cb2R5IiwiZnJvbUNvbnRleHQiLCJzdHJlYW1Db2xsZWN0b3IiLCJDb21tYW5kIiwiZXhwZWN0TnVtYmVyIiwicGFyc2VkIiwic3RhY2tUcmFjZVdhcm5pbmciLCJNQVhfRkxPQVQiLCJjZWlsIiwiZXhwZWN0TG9uZyIsImlzSW50ZWdlciIsImV4cGVjdEludDMyIiwiZXhwZWN0U2l6ZWRJbnQiLCJzaXplIiwiZXhwZWN0ZWQiLCJjYXN0SW50IiwiSW50MzJBcnJheSIsIm9mIiwiSW50MTZBcnJheSIsIkludDhBcnJheSIsImV4cGVjdE5vbk51bGwiLCJsb2NhdGlvbiIsImV4cGVjdE9iamVjdCIsInJlY2VpdmVkVHlwZSIsImV4cGVjdFN0cmluZyIsIk5VTUJFUl9SRUdFWCIsInBhcnNlTnVtYmVyIiwic3RyaWN0UGFyc2VJbnQzMiIsIk1PTlRIUyIsIlJGQzMzMzlfV0lUSF9PRkZTRVQiLCJwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQiLCJ5ZWFyU3RyIiwibW9udGhTdHIiLCJkYXlTdHIiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiZnJhY3Rpb25hbE1pbGxpc2Vjb25kcyIsIm9mZnNldFN0ciIsInllYXIiLCJleHBlY3RTaG9ydCIsInN0cmlwTGVhZGluZ1plcm9lcyIsIm1vbnRoIiwicGFyc2VEYXRlVmFsdWUiLCJkYXkiLCJidWlsZERhdGUiLCJzZXRUaW1lIiwicGFyc2VPZmZzZXRUb01pbGxpc2Vjb25kcyIsImFkanVzdGVkTW9udGgiLCJ2YWxpZGF0ZURheU9mTW9udGgiLCJVVEMiLCJwYXJzZU1pbGxpc2Vjb25kcyIsIkRBWVNfSU5fTU9OVEgiLCJtYXhEYXlzIiwiaXNMZWFwWWVhciIsImxvd2VyIiwidXBwZXIiLCJkYXRlVmFsIiwiZXhwZWN0Qnl0ZSIsInN0cmljdFBhcnNlQnl0ZSIsIkluZmluaXR5IiwiZXhwZWN0RmxvYXQzMiIsInN0cmljdFBhcnNlRmxvYXQzMiIsImRpcmVjdGlvblN0ciIsImRpcmVjdGlvbiIsImlkeCIsIlNlcnZpY2VFeGNlcHRpb24iLCIkZmF1bHQiLCJkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24iLCJleGNlcHRpb24iLCJhZGRpdGlvbnMiLCJNZXNzYWdlIiwid2l0aEJhc2VFeGNlcHRpb24iLCJFeGNlcHRpb25DdG9yIiwicGFyc2VkQm9keSIsImVycm9yQ29kZSIsImV4Y2VwdGlvbkN0b3IiLCJkZXNlcmlhbGl6ZU1ldGFkYXRhIiwiQ29kZSIsInRocm93RGVmYXVsdEVycm9yIiwicmVxdWVzdElkIiwiZXh0ZW5kZWRSZXF1ZXN0SWQiLCJjZklkIiwibG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSIsIndhcm5pbmdFbWl0dGVkIiwiZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiIsImNoZWNrc3VtQWxnb3JpdGhtcyIsImFsZ29yaXRobUlkIiwiY2hlY2tzdW1Db25zdHJ1Y3RvciIsIl9jaGVja3N1bUFsZ29yaXRobXMiLCJhZGRDaGVja3N1bUFsZ29yaXRobSIsImFsZ28iLCJjaGVja3N1bUFsZ29yaXRobSIsImdldFJldHJ5Q29uZmlndXJhdGlvbiIsIl9yZXRyeVN0cmF0ZWd5Iiwic2V0UmV0cnlTdHJhdGVneSIsInJlc29sdmVSZXRyeVJ1bnRpbWVDb25maWciLCJyZXRyeVN0cmF0ZWd5Q29uZmlndXJhdGlvbiIsImdldERlZmF1bHRFeHRlbnNpb25Db25maWd1cmF0aW9uIiwiZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQiLCJnZXRWYWx1ZUZyb21UZXh0Tm9kZSIsIlN0cmluZ1dyYXBwZXIiLCJDbGFzcyIsImdldFByb3RvdHlwZU9mIiwiaW5zdGFuY2UiLCJGdW5jdGlvbiIsImJpbmQiLCJhcmcwIiwiYXJnMSIsImFyZzIiLCJtYXBXaXRoRmlsdGVyIiwiYXBwbHlJbnN0cnVjdGlvbiIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiX2luc3RydWN0aW9ucyIsInRhcmdldEtleSIsIm5vbk51bGxpc2giLCJ2YWx1ZUZuIiwicGFzcyIsInNvdXJjZUtleSIsIl92YWx1ZSIsImRlZmF1bHRGaWx0ZXJQYXNzZWQiLCJjdXN0b21GaWx0ZXJQYXNzZWQiLCJyZXNvbHZlZFBhdGgiLCJtZW1iZXJOYW1lIiwibGFiZWxWYWx1ZVByb3ZpZGVyIiwidXJpTGFiZWwiLCJpc0dyZWVkeUxhYmVsIiwibGFiZWxWYWx1ZSIsInNlZ21lbnQiLCJzZXJpYWxpemVGbG9hdCIsIlNUU1NlcnZpY2VFeGNlcHRpb24iLCJFeHBpcmVkVG9rZW5FeGNlcHRpb24iLCJvcHRzIiwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb24iLCJQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiIsIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uIiwiSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvbiIsIkludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uIiwiSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uIiwiQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2ciLCJTZWNyZXRBY2Nlc3NLZXkiLCJBc3N1bWVSb2xlUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2ciLCJDcmVkZW50aWFscyIsIkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nIiwiV2ViSWRlbnRpdHlUb2tlbiIsIkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyIsImRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyIsInBhcnNlZE91dHB1dCIsImRlc2VyaWFsaXplZCIsImRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvbiIsImRlX0lEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvblJlcyIsImRlX0lEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvbiIsImRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMiLCJkZV9JRFBSZWplY3RlZENsYWltRXhjZXB0aW9uIiwiZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbiIsImRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uUmVzIiwiZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb24iLCJkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyIsImRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uIiwiZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMiLCJkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvbiIsInNlX0Fzc3VtZVJvbGVSZXF1ZXN0IiwiUm9sZUFybiIsIlJvbGVTZXNzaW9uTmFtZSIsIlBvbGljeUFybnMiLCJtZW1iZXJFbnRyaWVzIiwic2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlIiwiUG9saWN5IiwiRHVyYXRpb25TZWNvbmRzIiwiVGFncyIsInNlX3RhZ0xpc3RUeXBlIiwiVHJhbnNpdGl2ZVRhZ0tleXMiLCJzZV90YWdLZXlMaXN0VHlwZSIsIkV4dGVybmFsSWQiLCJTZXJpYWxOdW1iZXIiLCJUb2tlbkNvZGUiLCJTb3VyY2VJZGVudGl0eSIsIlByb3ZpZGVkQ29udGV4dHMiLCJzZV9Qcm92aWRlZENvbnRleHRzTGlzdFR5cGUiLCJzZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdCIsIlByb3ZpZGVySWQiLCJjb3VudGVyIiwic2VfUG9saWN5RGVzY3JpcHRvclR5cGUiLCJzZV9Qcm92aWRlZENvbnRleHQiLCJQcm92aWRlckFybiIsIkNvbnRleHRBc3NlcnRpb24iLCJzZV9UYWciLCJLZXkiLCJWYWx1ZSIsImRlX0Fzc3VtZWRSb2xlVXNlciIsImNvbnRlbnRzIiwiQXNzdW1lZFJvbGVJZCIsIkFybiIsImRlX0NyZWRlbnRpYWxzIiwiQWNjZXNzS2V5SWQiLCJTZXNzaW9uVG9rZW4iLCJFeHBpcmF0aW9uIiwiYnVpbGRIdHRwUnBjUmVxdWVzdCIsInJlc29sdmVkSG9zdG5hbWUiLCJiYXNlUGF0aCIsIlNIQVJFRF9IRUFERVJTIiwicGFyc2VCb2R5IiwidXRmOEVuY29kZXIiLCJjb2xsZWN0Qm9keVN0cmluZyIsInBhcnNlciIsInBhcnNlZE9iaiIsInBhcnNlZE9ialRvUmV0dXJuIiwicGFyc2VFcnJvckJvZHkiLCJlcnJvckJvZHkiLCJidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nIiwiZm9ybUVudHJpZXMiLCJsb2FkUXVlcnlFcnJvckNvZGUiLCJBc3N1bWVSb2xlQ29tbWFuZCIsIlVzZUdsb2JhbEVuZHBvaW50IiwiVXNlRklQUyIsIlJlZ2lvbiIsIlVzZUR1YWxTdGFjayIsImhhbmRsZXJFeGVjdXRpb25Db250ZXh0Iiwib3BlcmF0aW9uIiwiQWN0aW9uIiwiVmVyc2lvbiIsInNlX0Fzc3VtZVJvbGVDb21tYW5kIiwiZGVfQXNzdW1lUm9sZUNvbW1hbmRFcnJvciIsIkFzc3VtZWRSb2xlVXNlciIsIlBhY2tlZFBvbGljeVNpemUiLCJkZV9Bc3N1bWVSb2xlUmVzcG9uc2UiLCJBc3N1bWVSb2xlUmVzdWx0IiwiZGVfQXNzdW1lUm9sZUNvbW1hbmQiLCJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCIsInNlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kIiwiZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmRFcnJvciIsIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbiIsIlByb3ZpZGVyIiwiQXVkaWVuY2UiLCJkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2UiLCJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzdWx0IiwiZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQiLCJBU1NVTUVfUk9MRV9ERUZBVUxUX1JFR0lPTiIsImRlY29yYXRlRGVmYXVsdFJlZ2lvbiIsImdldERlZmF1bHRSb2xlQXNzdW1lciIsInN0c09wdGlvbnMiLCJzdHNDbGllbnRDdG9yIiwic3RzQ2xpZW50IiwiY2xvc3VyZVNvdXJjZUNyZWRzIiwic291cmNlQ3JlZHMiLCJnZXREZWZhdWx0Um9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHkiLCJlbWl0V2FybmluZyIsImV4cGlyeSIsImlzSW1kc0NyZWRlbnRpYWxzIiwiVG9rZW4iLCJmcm9tSW1kc0NyZWRlbnRpYWxzIiwiY3JlZHMiLCJwcm92aWRlckNvbmZpZ0Zyb21Jbml0IiwibWF4UmV0cmllcyIsInRpbWVvdXQiLCJ0b1JldHJ5IiwicHJvbWlzZSIsIkVOVl9DTURTX0ZVTExfVVJJIiwiRU5WX0NNRFNfUkVMQVRJVkVfVVJJIiwiRU5WX0NNRFNfQVVUSF9UT0tFTiIsImZyb21Db250YWluZXJNZXRhZGF0YSIsInJlcXVlc3RPcHRpb25zIiwiZ2V0Q21kc1VyaSIsImNyZWRzUmVzcG9uc2UiLCJyZXF1ZXN0RnJvbUVjc0ltZHMiLCJBdXRob3JpemF0aW9uIiwiR1JFRU5HUkFTU19IT1NUUyIsImxvY2FsaG9zdCIsIkdSRUVOR1JBU1NfUFJPVE9DT0xTIiwiSW5zdGFuY2VNZXRhZGF0YVYxRmFsbGJhY2tFcnJvciIsIkVORFBPSU5UX0NPTkZJR19PUFRJT05TIiwiRW5kcG9pbnRNb2RlIiwiRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyIsIklQdjQiLCJnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQiLCJnZXRGcm9tRW5kcG9pbnRDb25maWciLCJnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnIiwiZW5kcG9pbnRNb2RlIiwiSVB2NiIsImdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzIiwicmVmcmVzaEludGVydmFsIiwibmV3RXhwaXJhdGlvbiIsIm9yaWdpbmFsRXhwaXJhdGlvbiIsIklNRFNfUEFUSCIsIkFXU19FQzJfTUVUQURBVEFfVjFfRElTQUJMRUQiLCJQUk9GSUxFX0FXU19FQzJfTUVUQURBVEFfVjFfRElTQUJMRUQiLCJYX0FXU19FQzJfTUVUQURBVEFfVE9LRU4iLCJmcm9tSW5zdGFuY2VNZXRhZGF0YSIsInBhc3RDcmVkZW50aWFscyIsInN0YXRpY1N0YWJpbGl0eVByb3ZpZGVyIiwiZ2V0SW5zdGFuY2VJbWRzUHJvdmlkZXIiLCJkaXNhYmxlRmV0Y2hUb2tlbiIsImdldENyZWRlbnRpYWxzIiwiZmFsbGJhY2tCbG9ja2VkRnJvbVByb2ZpbGUiLCJmYWxsYmFja0Jsb2NrZWRGcm9tUHJvY2Vzc0VudiIsImVudlZhbHVlIiwicHJvZmlsZVZhbHVlIiwiZWMyTWV0YWRhdGFWMURpc2FibGVkIiwiY2F1c2VzIiwiaW1kc1Byb2ZpbGUiLCJnZXRQcm9maWxlIiwiZ2V0Q3JlZGVudGlhbHNGcm9tUHJvZmlsZSIsImdldE1ldGFkYXRhVG9rZW4iLCJmcm9tUHJvY2VzcyIsInByb2ZpbGVzIiwicHJvZmlsZU5hbWUiLCJjcmVkZW50aWFsUHJvY2VzcyIsImV4ZWNQcm9taXNlIiwicHJvbWlzaWZ5Iiwic3Rkb3V0IiwiY3VycmVudFRpbWUiLCJnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMiLCJyZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzIiwiaXNTc29Qcm9maWxlIiwic3NvX3N0YXJ0X3VybCIsInNzb19hY2NvdW50X2lkIiwic3NvX3Nlc3Npb24iLCJzc29fcmVnaW9uIiwic3NvX3JvbGVfbmFtZSIsImNsaWVudFZlcnNpb24iLCJwbGF0Zm9ybSIsInJlbGVhc2UiLCJ2ZXJzaW9ucyIsIkFXU19FWEVDVVRJT05fRU5WIiwiYXBwSWRQcm9taXNlIiwicmVzb2x2ZWRVc2VyQWdlbnQiLCJhcHBJZCIsIkhhc2giLCJhbGdvcml0aG1JZGVudGlmaWVyIiwiY2FzdFNvdXJjZURhdGEiLCJjcmVhdGVIbWFjIiwidG9DYXN0IiwiaXNCdWZmZXIiLCJjYWxjdWxhdGVCb2R5TGVuZ3RoIiwibHN0YXRTeW5jIiwiZmQiLCJmc3RhdFN5bmMiLCJ1IiwieCIsImgiLCJsIiwicnVsZVNldCIsImRlZmF1bHRFbmRwb2ludFJlc29sdmVyIiwiQVdTX1JFR0lPTl9FTlYiLCJBV1NfREVGQVVMVF9SRUdJT05fRU5WIiwiREVGQVVMVFNfTU9ERV9PUFRJT05TIiwiTk9ERV9ERUZBVUxUU19NT0RFX0NPTkZJR19PUFRJT05TIiwicmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyIsImRlZmF1bHRzTW9kZSIsInJlc29sdmVOb2RlRGVmYXVsdHNNb2RlQXV0byIsInRvTG9jYWxlTG93ZXJDYXNlIiwiY2xpZW50UmVnaW9uIiwicmVzb2x2ZWRSZWdpb24iLCJpbmZlcnJlZFJlZ2lvbiIsImluZmVyUGh5c2ljYWxSZWdpb24iLCJnZXRBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uIiwicnVudGltZUNvbmZpZ1JlZ2lvbiIsInNldFJlZ2lvbiIsInJlc29sdmVBd3NSZWdpb25FeHRlbnNpb25Db25maWd1cmF0aW9uIiwiYXdzUmVnaW9uRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiIsIlNTT0NsaWVudCIsIl9jb25maWdfMSIsImRlZmF1bHRDb25maWdQcm92aWRlciIsImNsaWVudFNoYXJlZFZhbHVlcyIsImFwaVZlcnNpb24iLCJiYXNlNjREZWNvZGVyIiwiYmFzZTY0RW5jb2RlciIsImRpc2FibGVIb3N0UHJlZml4IiwiZXh0ZW5zaW9ucyIsInV0ZjhEZWNvZGVyIiwiX2NvbmZpZ18yIiwiX2NvbmZpZ18zIiwiX2NvbmZpZ183IiwiZXh0ZW5zaW9uQ29uZmlndXJhdGlvbiIsImV4dGVuc2lvbiIsImNvbmZpZ3VyZSIsInJlc29sdmVSdW50aW1lRXh0ZW5zaW9ucyIsIlNTT1NlcnZpY2VFeGNlcHRpb24iLCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb24iLCJVbmF1dGhvcml6ZWRFeGNlcHRpb24iLCJHZXRSb2xlQ3JlZGVudGlhbHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nIiwiYWNjZXNzVG9rZW4iLCJSb2xlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2ciLCJHZXRSb2xlQ3JlZGVudGlhbHNSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyIsInJvbGVDcmVkZW50aWFscyIsImRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzIiwiZG9jIiwiZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyIsImRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyIsImRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyIsImlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwibG9hZFJlc3RKc29uRXJyb3JDb2RlIiwic2FuaXRpemVFcnJvckNvZGUiLCJyYXdWYWx1ZSIsImNsZWFuVmFsdWUiLCJHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kIiwicm9sZV9uYW1lIiwicm9sZU5hbWUiLCJhY2NvdW50X2lkIiwic2VfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCIsImRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmRFcnJvciIsImRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQiLCJUb2tlblByb3ZpZGVyRXJyb3IiLCJSRUZSRVNIX01FU1NBR0UiLCJTU09PSURDQ2xpZW50IiwiZ2V0UnVudGltZUNvbmZpZzIiLCJTU09PSURDU2VydmljZUV4Y2VwdGlvbiIsIl9TU09PSURDU2VydmljZUV4Y2VwdGlvbiIsIl9BY2Nlc3NEZW5pZWRFeGNlcHRpb24iLCJlcnJvcl9kZXNjcmlwdGlvbiIsIkF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uIiwiX0F1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uIiwiX0V4cGlyZWRUb2tlbkV4Y2VwdGlvbiIsIkludGVybmFsU2VydmVyRXhjZXB0aW9uIiwiX0ludGVybmFsU2VydmVyRXhjZXB0aW9uIiwiSW52YWxpZENsaWVudEV4Y2VwdGlvbiIsIl9JbnZhbGlkQ2xpZW50RXhjZXB0aW9uIiwiSW52YWxpZEdyYW50RXhjZXB0aW9uIiwiX0ludmFsaWRHcmFudEV4Y2VwdGlvbiIsIl9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbiIsIkludmFsaWRTY29wZUV4Y2VwdGlvbiIsIl9JbnZhbGlkU2NvcGVFeGNlcHRpb24iLCJTbG93RG93bkV4Y2VwdGlvbiIsIl9TbG93RG93bkV4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbiIsIl9VbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb24iLCJVbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvbiIsIl9VbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvbiIsIkludmFsaWRDbGllbnRNZXRhZGF0YUV4Y2VwdGlvbiIsIl9JbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb24iLCJkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMiLCJkZV9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblJlcyIsImRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRDbGllbnRNZXRhZGF0YUV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRHcmFudEV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRTY29wZUV4Y2VwdGlvblJlcyIsImRlX1Nsb3dEb3duRXhjZXB0aW9uUmVzIiwiZGVfVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uUmVzIiwiZGVfVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb25SZXMiLCJDcmVhdGVUb2tlbkNvbW1hbmQiLCJfQ3JlYXRlVG9rZW5Db21tYW5kIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJkZXZpY2VDb2RlIiwiZ3JhbnRUeXBlIiwicmVkaXJlY3RVcmkiLCJyZWZyZXNoVG9rZW4iLCJzZV9DcmVhdGVUb2tlbkNvbW1hbmQiLCJkZV9DcmVhdGVUb2tlbkNvbW1hbmRFcnJvciIsImlkVG9rZW4iLCJ0b2tlblR5cGUiLCJkZV9DcmVhdGVUb2tlbkNvbW1hbmQiLCJjb21tYW5kcyIsIlJlZ2lzdGVyQ2xpZW50Q29tbWFuZCIsIl9SZWdpc3RlckNsaWVudENvbW1hbmQiLCJjbGllbnRUeXBlIiwic2NvcGVzIiwic2VfUmVnaXN0ZXJDbGllbnRDb21tYW5kIiwiZGVfUmVnaXN0ZXJDbGllbnRDb21tYW5kRXJyb3IiLCJhdXRob3JpemF0aW9uRW5kcG9pbnQiLCJjbGllbnRJZElzc3VlZEF0IiwiY2xpZW50U2VjcmV0RXhwaXJlc0F0IiwidG9rZW5FbmRwb2ludCIsImRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZCIsIlN0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmQiLCJfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCIsInN0YXJ0VXJsIiwic2VfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCIsImRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmRFcnJvciIsImludGVydmFsIiwidXNlckNvZGUiLCJ2ZXJpZmljYXRpb25VcmkiLCJ2ZXJpZmljYXRpb25VcmlDb21wbGV0ZSIsImRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmQiLCJDb21tYW5kQ3RvciIsIm1ldGhvZEltcGwiLCJtZXRob2ROYW1lIiwiY3JlYXRlQWdncmVnYXRlZENsaWVudCIsInNzb09pZGNDbGllbnRzSGFzaCIsInZhbGlkYXRlVG9rZW5FeHBpcnkiLCJ2YWxpZGF0ZVRva2VuS2V5IiwiZm9yUmVmcmVzaCIsIndyaXRlRmlsZSIsImxhc3RSZWZyZXNoQXR0ZW1wdFRpbWUiLCJmcm9tU3NvIiwic3NvU2Vzc2lvbk5hbWUiLCJzc29TZXNzaW9uIiwic3NvU2Vzc2lvblJlcXVpcmVkS2V5Iiwic3NvUmVnaW9uIiwic3NvVG9rZW4iLCJleHBpcmVzQXQiLCJleGlzdGluZ1Rva2VuIiwibmV3U3NvT2lkY1Rva2VuIiwic3NvT2lkY0NsaWVudCIsImdldFNzb09pZGNDbGllbnQiLCJnZXROZXdTc29PaWRjVG9rZW4iLCJuZXdUb2tlbkV4cGlyYXRpb24iLCJ0b2tlbkZpbGVwYXRoIiwidG9rZW5TdHJpbmciLCJ3cml0ZVNTT1Rva2VuVG9GaWxlIiwiU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTiIsInJlc29sdmVTU09DcmVkZW50aWFscyIsInNzb1N0YXJ0VXJsIiwic3NvQWNjb3VudElkIiwic3NvUm9sZU5hbWUiLCJzc29DbGllbnQiLCJyZWZyZXNoTWVzc2FnZSIsIl90b2tlbiIsInNzbyIsInNzb1Jlc3AiLCJ2YWxpZGF0ZVNzb1Byb2ZpbGUiLCJmcm9tU1NPIiwic2Vzc2lvbiIsImNvbmZsaWN0TXNnIiwiaXNTdGF0aWNDcmVkc1Byb2ZpbGUiLCJhd3NfYWNjZXNzX2tleV9pZCIsImF3c19zZWNyZXRfYWNjZXNzX2tleSIsImF3c19zZXNzaW9uX3Rva2VuIiwicmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzIiwiZnJvbVRva2VuRmlsZSIsIndlYklkZW50aXR5VG9rZW5GaWxlIiwicm9sZUFybiIsInJvbGVTZXNzaW9uTmFtZSIsIndlYklkZW50aXR5VG9rZW4iLCJwcm92aWRlcklkIiwicG9saWN5QXJucyIsInBvbGljeSIsImR1cmF0aW9uU2Vjb25kcyIsInJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5IiwiZnJvbVdlYlRva2VuIiwicmVhZEZpbGVTeW5jIiwicmVzb2x2ZVByb2ZpbGVEYXRhIiwidmlzaXRlZFByb2ZpbGVzIiwicm9sZV9hcm4iLCJyb2xlX3Nlc3Npb25fbmFtZSIsImV4dGVybmFsX2lkIiwibWZhX3NlcmlhbCIsInNvdXJjZV9wcm9maWxlIiwiY3JlZGVudGlhbF9zb3VyY2UiLCJpc0Fzc3VtZVJvbGVXaXRoU291cmNlUHJvZmlsZSIsImlzQXNzdW1lUm9sZVdpdGhQcm92aWRlclByb2ZpbGUiLCJyb2xlQXNzdW1lciIsInNvdXJjZUNyZWRzUHJvdmlkZXIiLCJjcmVkZW50aWFsU291cmNlIiwic291cmNlUHJvdmlkZXJzTWFwIiwiRWNzQ29udGFpbmVyIiwiRWMySW5zdGFuY2VNZXRhZGF0YSIsIkVudmlyb25tZW50IiwicmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2UiLCJkdXJhdGlvbl9zZWNvbmRzIiwibWZhQ29kZVByb3ZpZGVyIiwicmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyIsIndlYl9pZGVudGl0eV90b2tlbl9maWxlIiwiaXNXZWJJZGVudGl0eVByb2ZpbGUiLCJyZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFscyIsImNyZWRlbnRpYWxfcHJvY2VzcyIsImlzUHJvY2Vzc1Byb2ZpbGUiLCJyZXNvbHZlU3NvQ3JlZGVudGlhbHMiLCJkZWZhdWx0UHJvdmlkZXIiLCJmcm9tSW5pIiwicmVtb3RlUHJvdmlkZXIiLCJGIiwiRyIsIkgiLCJJIiwiSiIsInoiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIlNUU0NsaWVudCIsInVzZUdsb2JhbEVuZHBvaW50IiwiX2NvbmZpZ184IiwicmVzb2x2ZVN0c0F1dGhDb25maWciLCJnZXRDdXN0b21pemFibGVTdHNDbGllbnRDdG9yIiwiYmFzZUN0b3IiLCJjdXN0b21pemF0aW9ucyIsImN1c3RvbWl6YXRpb24iLCJzdHNQbHVnaW5zIiwiQ2xvdWRUcmFpbENsaWVudCIsIl9jb25maWdfNCIsIkNsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uIiwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIiwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24iLCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvbiIsIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb24iLCJJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uIiwiSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb24iLCJJbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvbiIsImRlX0ludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblJlcyIsImRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uUmVzIiwiZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzIiwiZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMiLCJkZV9FdmVudCIsIkNsb3VkVHJhaWxFdmVudCIsIkV2ZW50SWQiLCJFdmVudE5hbWUiLCJFdmVudFNvdXJjZSIsIkV2ZW50VGltZSIsInZhbHVlQXNEb3VibGUiLCJzdHJpY3RQYXJzZURvdWJsZSIsIlJlYWRPbmx5IiwiUmVzb3VyY2VzIiwiVXNlcm5hbWUiLCJMb29rdXBFdmVudHNDb21tYW5kIiwiRW5kVGltZSIsIkV2ZW50Q2F0ZWdvcnkiLCJMb29rdXBBdHRyaWJ1dGVzIiwiTWF4UmVzdWx0cyIsIk5leHRUb2tlbiIsIlN0YXJ0VGltZSIsInNlX0xvb2t1cEV2ZW50c1JlcXVlc3QiLCJzZV9Mb29rdXBFdmVudHNDb21tYW5kIiwiZGVfTG9va3VwRXZlbnRzQ29tbWFuZEVycm9yIiwiRXZlbnRzIiwicmV0VmFsIiwiZGVfRXZlbnRzTGlzdCIsImRlX0xvb2t1cEV2ZW50c1Jlc3BvbnNlIiwiZGVfTG9va3VwRXZlbnRzQ29tbWFuZCIsImV2ZW50IiwidXNlcklkZW50aXR5Iiwicm9sZSIsImlhbVJvbGUiLCJzdHNTZXNzaW9uIiwiZXZlbnRUaW1lIiwiY2xvdWRUcmFpbENsaWVudCIsInJldHJpZXZlUXVpY2tTaWdodFVzZXJFdmVudHMiLCJzdGFydERhdGUiLCJldmVudHMiLCJuZXh0VG9rZW4iLCJsb29rdXBFdmVudHNDb21tYW5kIiwiQXR0cmlidXRlS2V5IiwiQXR0cmlidXRlVmFsdWUiLCJsb29rdXBFdmVudHNSZXN1bHQiLCJDbG91ZFRyYWlsVXNlckV2ZW50IiwiZ2V0TGFzdEFjY2Vzc0RhdGUiLCJ1c2VyIiwidGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzIiwibmV3ZXN0RXZlbnQiLCJDbG91ZFdhdGNoQ2xpZW50IiwiQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb24iLCJJbnRlcm5hbFNlcnZpY2VGYXVsdCIsIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiIsIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbiIsImRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzIiwiZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHQiLCJkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24iLCJkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24iLCJkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMiLCJkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24iLCJzZV9EaW1lbnNpb24iLCJOYW1lIiwic2VfTWV0cmljRGF0dW0iLCJNZXRyaWNOYW1lIiwiRGltZW5zaW9ucyIsInNlX0RpbWVuc2lvbnMiLCJUaW1lc3RhbXAiLCJTdGF0aXN0aWNWYWx1ZXMiLCJzZV9TdGF0aXN0aWNTZXQiLCJWYWx1ZXMiLCJzZV9WYWx1ZXMiLCJDb3VudHMiLCJzZV9Db3VudHMiLCJVbml0IiwiU3RvcmFnZVJlc29sdXRpb24iLCJzZV9QdXRNZXRyaWNEYXRhSW5wdXQiLCJOYW1lc3BhY2UiLCJNZXRyaWNEYXRhIiwic2VfTWV0cmljRGF0YSIsIlNhbXBsZUNvdW50IiwiU3VtIiwiTWluaW11bSIsIk1heGltdW0iLCJQdXRNZXRyaWNEYXRhQ29tbWFuZCIsInNlX1B1dE1ldHJpY0RhdGFDb21tYW5kIiwiZGVfUHV0TWV0cmljRGF0YUNvbW1hbmRFcnJvciIsImRlX1B1dE1ldHJpY0RhdGFDb21tYW5kIiwibWV0cmljRGF0YSIsImNsb3VkV2F0Y2hDbGllbnQiLCJxdWV1ZU1ldHJpYyIsIm1ldHJpY0RhdHVtIiwiZW1pdFF1ZXVlZE1ldHJpY3MiLCJwdXRNZXRyaWNEYXRhQ29tbWFuZCIsIkFXU19MQU1CREFfRlVOQ1RJT05fTkFNRSIsIlNFU0NsaWVudCIsIlNFU1NlcnZpY2VFeGNlcHRpb24iLCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiIsIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24iLCJDb25maWd1cmF0aW9uU2V0TmFtZSIsIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uIiwiTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiIsIk1lc3NhZ2VSZWplY3RlZCIsImRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzIiwiZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24iLCJkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzIiwiZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiIsImRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzIiwiZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24iLCJkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uUmVzIiwiZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiIsImRlX01lc3NhZ2VSZWplY3RlZFJlcyIsImRlX01lc3NhZ2VSZWplY3RlZCIsInNlX0FkZHJlc3NMaXN0Iiwic2VfQ29udGVudCIsIkRhdGEiLCJDaGFyc2V0Iiwic2VfTWVzc2FnZVRhZyIsInNlX1NlbmRFbWFpbFJlcXVlc3QiLCJTb3VyY2UiLCJEZXN0aW5hdGlvbiIsIlRvQWRkcmVzc2VzIiwiQ2NBZGRyZXNzZXMiLCJCY2NBZGRyZXNzZXMiLCJzZV9EZXN0aW5hdGlvbiIsIlN1YmplY3QiLCJCb2R5IiwiVGV4dCIsIkh0bWwiLCJzZV9Cb2R5Iiwic2VfTWVzc2FnZSIsIlJlcGx5VG9BZGRyZXNzZXMiLCJSZXR1cm5QYXRoIiwiU291cmNlQXJuIiwiUmV0dXJuUGF0aEFybiIsInNlX01lc3NhZ2VUYWdMaXN0IiwiU2VuZEVtYWlsQ29tbWFuZCIsInNlX1NlbmRFbWFpbENvbW1hbmQiLCJkZV9TZW5kRW1haWxDb21tYW5kRXJyb3IiLCJNZXNzYWdlSWQiLCJkZV9TZW5kRW1haWxSZXNwb25zZSIsIlNlbmRFbWFpbFJlc3VsdCIsImRlX1NlbmRFbWFpbENvbW1hbmQiLCJRdWlja1NpZ2h0Um9sZSIsInNlc0NsaWVudCIsIm5vTGFzdEFjY2Vzc0RhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIm5vdGlmeVVzZXIiLCJsYXN0QWNjZXNzIiwiZGVsZXRlRGF5cyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInN1YmplY3QiLCJhY2NvdW50QWxpYXMiLCJhd3NBY2NvdW50SWQiLCJlbWFpbCIsImNvbnRhY3QiLCJzZW5kRW1haWxDb21tYW5kIiwiY2MiLCJyZXBseVRvIiwic2VzQXJuIiwicXVpY2tTaWdodFVzZXIiLCJFbWFpbCIsIlJvbGUiLCJVc2VyTmFtZSIsImludmFsaWQiLCJRdWlja1NpZ2h0Q2xpZW50IiwiUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24iLCJSZXF1ZXN0SWQiLCJEYXRhU291cmNlUGFyYW1ldGVycyIsIlBoeXNpY2FsVGFibGUiLCJ2aXNpdCIsInZpc2l0b3IiLCJBbWF6b25FbGFzdGljc2VhcmNoUGFyYW1ldGVycyIsIkF0aGVuYVBhcmFtZXRlcnMiLCJBdXJvcmFQYXJhbWV0ZXJzIiwiQXVyb3JhUG9zdGdyZVNxbFBhcmFtZXRlcnMiLCJBd3NJb3RBbmFseXRpY3NQYXJhbWV0ZXJzIiwiSmlyYVBhcmFtZXRlcnMiLCJNYXJpYURiUGFyYW1ldGVycyIsIk15U3FsUGFyYW1ldGVycyIsIk9yYWNsZVBhcmFtZXRlcnMiLCJQb3N0Z3JlU3FsUGFyYW1ldGVycyIsIlByZXN0b1BhcmFtZXRlcnMiLCJSZHNQYXJhbWV0ZXJzIiwiUmVkc2hpZnRQYXJhbWV0ZXJzIiwiUzNQYXJhbWV0ZXJzIiwiU2VydmljZU5vd1BhcmFtZXRlcnMiLCJTbm93Zmxha2VQYXJhbWV0ZXJzIiwiU3BhcmtQYXJhbWV0ZXJzIiwiU3FsU2VydmVyUGFyYW1ldGVycyIsIlRlcmFkYXRhUGFyYW1ldGVycyIsIlR3aXR0ZXJQYXJhbWV0ZXJzIiwiQW1hem9uT3BlblNlYXJjaFBhcmFtZXRlcnMiLCJFeGFzb2xQYXJhbWV0ZXJzIiwiRGF0YWJyaWNrc1BhcmFtZXRlcnMiLCJTdGFyYnVyc3RQYXJhbWV0ZXJzIiwiVHJpbm9QYXJhbWV0ZXJzIiwiQmlnUXVlcnlQYXJhbWV0ZXJzIiwiJHVua25vd24iLCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24iLCJSZXNvdXJjZVR5cGUiLCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uIiwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uIiwiUHJvamVjdE9wZXJhdGlvbiIsIkZpbHRlck9wZXJhdGlvbiIsIkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24iLCJSZW5hbWVDb2x1bW5PcGVyYXRpb24iLCJDYXN0Q29sdW1uVHlwZU9wZXJhdGlvbiIsIlRhZ0NvbHVtbk9wZXJhdGlvbiIsIlVudGFnQ29sdW1uT3BlcmF0aW9uIiwiT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uIiwiUmVsYXRpb25hbFRhYmxlIiwiQ3VzdG9tU3FsIiwiUzNTb3VyY2UiLCJkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMiLCJkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMiLCJkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzIiwiTGlzdFVzZXJzQ29tbWFuZCIsIkF3c0FjY291bnRJZCIsInNlX0xpc3RVc2Vyc0NvbW1hbmQiLCJkZV9MaXN0VXNlcnNDb21tYW5kRXJyb3IiLCJVc2VyTGlzdCIsIlN0YXR1cyIsImRlX0xpc3RVc2Vyc0NvbW1hbmQiLCJEZWxldGVVc2VyQ29tbWFuZCIsInNlX0RlbGV0ZVVzZXJDb21tYW5kIiwiZGVfRGVsZXRlVXNlckNvbW1hbmRFcnJvciIsImRlX0RlbGV0ZVVzZXJDb21tYW5kIiwicXVpY2tTaWdodENsaWVudCIsInJldHJpZXZlVXNlcnMiLCJxdWlja1NpZ2h0VXNlcnMiLCJsaXN0VXNlcnNDb21tYW5kIiwiUXVpY2tTaWdodFVzZXJNYW5hZ2VyIiwibmFtZXNwYWNlIiwicXVpY2tTaWdodFVzZXJMaXN0UmVzcG9uc2UiLCJRdWlja1NpZ2h0VXNlciIsImRlbGV0ZVVzZXIiLCJkZWxldGVVc2VyQ29tbWFuZCIsIm5vdGlmeURheXMiLCJlbmFibGVOb3RpZmljYXRpb24iLCJkZWxldGVEYXRlIiwibm90aWZ5RGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwicXVpY2tTaWdodFVzZXJNYW5hZ2VyIiwiY2xvdWRUcmFpbFVzZXJFdmVudE1hbmFnZXIiLCJDbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciIsIm5vdGlmaWNhdGlvbk1hbmFnZXIiLCJOb3RpZmljYXRpb25NYW5hZ2VyIiwiY2xvdWRXYXRjaE1ldHJpY0NsaWVudCIsIkNsb3VkV2F0Y2hNZXRyaWNDbGllbnQiLCJjbG91ZFRyYWlsVXNlckV2ZW50cyIsImludmFsaWRVc2VycyIsInVzZXJzRGVsZXRlZCIsIm5vdGlmaWNhdGlvbnNTZW50IiwiUkVBREVSIl0sInNvdXJjZVJvb3QiOiIifQ==